var FC=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var FA=FC((tt,He)=>{function HC(t,n){for(var s=0;s<n.length;s++){const o=n[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bl(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}var Pf={exports:{}},ba={},Nf={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function $C(){if(Ty)return et;Ty=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),i=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,T={};function C(W,re,ce){this.props=W,this.context=re,this.refs=T,this.updater=ce||A}C.prototype.isReactComponent={},C.prototype.setState=function(W,re){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,re,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function w(){}w.prototype=C.prototype;function v(W,re,ce){this.props=W,this.context=re,this.refs=T,this.updater=ce||A}var S=v.prototype=new w;S.constructor=v,b(S,C.prototype),S.isPureReactComponent=!0;var _=Array.isArray,L=Object.prototype.hasOwnProperty,O={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function R(W,re,ce){var me,Se={},De=null,Ue=null;if(re!=null)for(me in re.ref!==void 0&&(Ue=re.ref),re.key!==void 0&&(De=""+re.key),re)L.call(re,me)&&!N.hasOwnProperty(me)&&(Se[me]=re[me]);var Oe=arguments.length-2;if(Oe===1)Se.children=ce;else if(1<Oe){for(var Xe=Array(Oe),ct=0;ct<Oe;ct++)Xe[ct]=arguments[ct+2];Se.children=Xe}if(W&&W.defaultProps)for(me in Oe=W.defaultProps,Oe)Se[me]===void 0&&(Se[me]=Oe[me]);return{$$typeof:t,type:W,key:De,ref:Ue,props:Se,_owner:O.current}}function M(W,re){return{$$typeof:t,type:W.type,key:re,ref:W.ref,props:W.props,_owner:W._owner}}function U(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function Z(W){var re={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ce){return re[ce]})}var ae=/\/+/g;function G(W,re){return typeof W=="object"&&W!==null&&W.key!=null?Z(""+W.key):re.toString(36)}function Q(W,re,ce,me,Se){var De=typeof W;(De==="undefined"||De==="boolean")&&(W=null);var Ue=!1;if(W===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(W.$$typeof){case t:case n:Ue=!0}}if(Ue)return Ue=W,Se=Se(Ue),W=me===""?"."+G(Ue,0):me,_(Se)?(ce="",W!=null&&(ce=W.replace(ae,"$&/")+"/"),Q(Se,re,ce,"",function(ct){return ct})):Se!=null&&(U(Se)&&(Se=M(Se,ce+(!Se.key||Ue&&Ue.key===Se.key?"":(""+Se.key).replace(ae,"$&/")+"/")+W)),re.push(Se)),1;if(Ue=0,me=me===""?".":me+":",_(W))for(var Oe=0;Oe<W.length;Oe++){De=W[Oe];var Xe=me+G(De,Oe);Ue+=Q(De,re,ce,Xe,Se)}else if(Xe=x(W),typeof Xe=="function")for(W=Xe.call(W),Oe=0;!(De=W.next()).done;)De=De.value,Xe=me+G(De,Oe++),Ue+=Q(De,re,ce,Xe,Se);else if(De==="object")throw re=String(W),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ue}function z(W,re,ce){if(W==null)return W;var me=[],Se=0;return Q(W,me,"","",function(De){return re.call(ce,De,Se++)}),me}function K(W){if(W._status===-1){var re=W._result;re=re(),re.then(function(ce){(W._status===0||W._status===-1)&&(W._status=1,W._result=ce)},function(ce){(W._status===0||W._status===-1)&&(W._status=2,W._result=ce)}),W._status===-1&&(W._status=0,W._result=re)}if(W._status===1)return W._result.default;throw W._result}var Y={current:null},H={transition:null},oe={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:H,ReactCurrentOwner:O};function le(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:z,forEach:function(W,re,ce){z(W,function(){re.apply(this,arguments)},ce)},count:function(W){var re=0;return z(W,function(){re++}),re},toArray:function(W){return z(W,function(re){return re})||[]},only:function(W){if(!U(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},et.Component=C,et.Fragment=s,et.Profiler=l,et.PureComponent=v,et.StrictMode=o,et.Suspense=d,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,et.act=le,et.cloneElement=function(W,re,ce){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var me=b({},W.props),Se=W.key,De=W.ref,Ue=W._owner;if(re!=null){if(re.ref!==void 0&&(De=re.ref,Ue=O.current),re.key!==void 0&&(Se=""+re.key),W.type&&W.type.defaultProps)var Oe=W.type.defaultProps;for(Xe in re)L.call(re,Xe)&&!N.hasOwnProperty(Xe)&&(me[Xe]=re[Xe]===void 0&&Oe!==void 0?Oe[Xe]:re[Xe])}var Xe=arguments.length-2;if(Xe===1)me.children=ce;else if(1<Xe){Oe=Array(Xe);for(var ct=0;ct<Xe;ct++)Oe[ct]=arguments[ct+2];me.children=Oe}return{$$typeof:t,type:W.type,key:Se,ref:De,props:me,_owner:Ue}},et.createContext=function(W){return W={$$typeof:i,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:c,_context:W},W.Consumer=W},et.createElement=R,et.createFactory=function(W){var re=R.bind(null,W);return re.type=W,re},et.createRef=function(){return{current:null}},et.forwardRef=function(W){return{$$typeof:u,render:W}},et.isValidElement=U,et.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:K}},et.memo=function(W,re){return{$$typeof:h,type:W,compare:re===void 0?null:re}},et.startTransition=function(W){var re=H.transition;H.transition={};try{W()}finally{H.transition=re}},et.unstable_act=le,et.useCallback=function(W,re){return Y.current.useCallback(W,re)},et.useContext=function(W){return Y.current.useContext(W)},et.useDebugValue=function(){},et.useDeferredValue=function(W){return Y.current.useDeferredValue(W)},et.useEffect=function(W,re){return Y.current.useEffect(W,re)},et.useId=function(){return Y.current.useId()},et.useImperativeHandle=function(W,re,ce){return Y.current.useImperativeHandle(W,re,ce)},et.useInsertionEffect=function(W,re){return Y.current.useInsertionEffect(W,re)},et.useLayoutEffect=function(W,re){return Y.current.useLayoutEffect(W,re)},et.useMemo=function(W,re){return Y.current.useMemo(W,re)},et.useReducer=function(W,re,ce){return Y.current.useReducer(W,re,ce)},et.useRef=function(W){return Y.current.useRef(W)},et.useState=function(W){return Y.current.useState(W)},et.useSyncExternalStore=function(W,re,ce){return Y.current.useSyncExternalStore(W,re,ce)},et.useTransition=function(){return Y.current.useTransition()},et.version="18.3.1",et}var _y;function Rp(){return _y||(_y=1,Nf.exports=$C()),Nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function zC(){if(ky)return ba;ky=1;var t=Rp(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(u,d,h){var m,p={},x=null,A=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(A=d.ref);for(m in d)o.call(d,m)&&!c.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:n,type:u,key:x,ref:A,props:p,_owner:l.current}}return ba.Fragment=s,ba.jsx=i,ba.jsxs=i,ba}var Ry;function WC(){return Ry||(Ry=1,Pf.exports=zC()),Pf.exports}var g=WC(),Ay={},Iy;function BC(){if(Iy)return Ay;if(Iy=1,typeof process>"u"){const t={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(n){setTimeout(n,0)},cwd:function(){return"/"},exit:function(n){console.warn("process.exit called with code:",n)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=t),typeof Ao<"u"&&(Ao.process=t),typeof globalThis<"u"&&(globalThis.process=t)}if(typeof Buffer>"u"){class t{static from(s,o){const l=new t;return l._data=s,l._encoding=o,l}static alloc(s,o,l){const c=new t;return c._size=s,c._fill=o,c._encoding=l,c}static allocUnsafe(s){return t.alloc(s)}static isBuffer(s){return s instanceof t}toString(s){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}typeof window<"u"&&(window.Buffer=t),typeof Ao<"u"&&(Ao.Buffer=t),typeof globalThis<"u"&&(globalThis.Buffer=t)}return typeof Ao>"u"&&(typeof window<"u"?window.global=window:typeof globalThis<"u"&&(globalThis.global=globalThis)),console.log("âœ… Node.js globals polyfill loaded"),Ay}BC();class Yr{static from(n,s){const o=new Yr;return o._data=n,o}static alloc(n,s,o){const l=new Yr;return l._size=n,l._fill=s,l}static allocUnsafe(n){return Yr.alloc(n)}static isBuffer(n){return n instanceof Yr}_data;_encoding;_size;_fill;toString(n){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}const KC=Yr,Po={Buffer:Yr};typeof He<"u"&&typeof He.exports<"u"&&(He.exports=Po,He.exports.Buffer=Yr,He.exports.default=Po,He.exports.buffer=Po);typeof tt<"u"&&(tt.default=Po,tt.buffer=Po,tt.Buffer=Yr);typeof window<"u"&&(window.Buffer=Yr);typeof globalThis<"u"&&(globalThis.Buffer=Yr);typeof global<"u"&&(global.Buffer=Yr);const VC=Object.freeze(Object.defineProperty({__proto__:null,Buffer:KC,default:Po},Symbol.toStringTag,{value:"Module"}));function gE(t,n){if(!n)return;let s=n.prototype;(!s||typeof s!="object")&&(s=Object.prototype),t.super_=n,t.prototype=Object.create(s,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function yE(t){try{return JSON.stringify(t,null,2)}catch{return String(t)}}function vE(t){return(...n)=>new Promise((s,o)=>{t(...n,(l,c)=>{l?o(l):s(c)})})}const vl={inherits:gE,inspect:yE,promisify:vE};typeof He<"u"&&typeof He.exports<"u"&&(He.exports={...vl,default:vl,util:vl});typeof tt<"u"&&(tt.default=vl,tt.util=vl,tt.inherits=gE,tt.inspect=yE,tt.promisify=vE);const xl={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(t){setTimeout(t,0)},cwd:function(){return"/"},exit:function(t){console.warn("process.exit called with code:",t)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=xl);typeof global<"u"&&(global.process=xl);typeof globalThis<"u"&&(globalThis.process=xl);typeof He<"u"&&typeof He.exports<"u"&&(He.exports=xl,He.exports.default=xl);let Ap=class{_events=new Map;on(n,s){return this._events.has(n)||this._events.set(n,[]),this._events.get(n).push(s),this}once(n,s){const o=(...l)=>{this.removeListener(n,o),s(...l)};return Promise.resolve(this.on(n,o))}emit(n,...s){const o=this._events.get(n);return o&&o.length>0?(o.forEach(l=>{try{l(...s)}catch(c){console.error("EventEmitter error:",c)}}),!0):!1}removeListener(n,s){const o=this._events.get(n);if(o){const l=o.indexOf(s);l>-1&&o.splice(l,1)}return this}removeAllListeners(n){return n?this._events.delete(n):this._events.clear(),this}off(n,s){return this.removeListener(n,s)}addListener(n,s){return this.on(n,s)}};const wl={EventEmitter:Ap};typeof He<"u"&&typeof He.exports<"u"&&(He.exports=wl,He.exports.default=wl,He.exports.EventEmitter=Ap,He.exports.events=wl);typeof tt<"u"&&(tt.default=wl,tt.events=wl,tt.EventEmitter=Ap);var zc={},Of={exports:{}},Rr={},jf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function GC(){return Py||(Py=1,(function(t){function n(H,oe){var le=H.length;H.push(oe);e:for(;0<le;){var W=le-1>>>1,re=H[W];if(0<l(re,oe))H[W]=oe,H[le]=re,le=W;else break e}}function s(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var oe=H[0],le=H.pop();if(le!==oe){H[0]=le;e:for(var W=0,re=H.length,ce=re>>>1;W<ce;){var me=2*(W+1)-1,Se=H[me],De=me+1,Ue=H[De];if(0>l(Se,le))De<re&&0>l(Ue,Se)?(H[W]=Ue,H[De]=le,W=De):(H[W]=Se,H[me]=le,W=me);else if(De<re&&0>l(Ue,le))H[W]=Ue,H[De]=le,W=De;else break e}}return oe}function l(H,oe){var le=H.sortIndex-oe.sortIndex;return le!==0?le:H.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var i=Date,u=i.now();t.unstable_now=function(){return i.now()-u}}var d=[],h=[],m=1,p=null,x=3,A=!1,b=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(H){for(var oe=s(h);oe!==null;){if(oe.callback===null)o(h);else if(oe.startTime<=H)o(h),oe.sortIndex=oe.expirationTime,n(d,oe);else break;oe=s(h)}}function _(H){if(T=!1,S(H),!b)if(s(d)!==null)b=!0,K(L);else{var oe=s(h);oe!==null&&Y(_,oe.startTime-H)}}function L(H,oe){b=!1,T&&(T=!1,w(R),R=-1),A=!0;var le=x;try{for(S(oe),p=s(d);p!==null&&(!(p.expirationTime>oe)||H&&!Z());){var W=p.callback;if(typeof W=="function"){p.callback=null,x=p.priorityLevel;var re=W(p.expirationTime<=oe);oe=t.unstable_now(),typeof re=="function"?p.callback=re:p===s(d)&&o(d),S(oe)}else o(d);p=s(d)}if(p!==null)var ce=!0;else{var me=s(h);me!==null&&Y(_,me.startTime-oe),ce=!1}return ce}finally{p=null,x=le,A=!1}}var O=!1,N=null,R=-1,M=5,U=-1;function Z(){return!(t.unstable_now()-U<M)}function ae(){if(N!==null){var H=t.unstable_now();U=H;var oe=!0;try{oe=N(!0,H)}finally{oe?G():(O=!1,N=null)}}else O=!1}var G;if(typeof v=="function")G=function(){v(ae)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,z=Q.port2;Q.port1.onmessage=ae,G=function(){z.postMessage(null)}}else G=function(){C(ae,0)};function K(H){N=H,O||(O=!0,G())}function Y(H,oe){R=C(function(){H(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||A||(b=!0,K(L))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var le=x;x=oe;try{return H()}finally{x=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,oe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=x;x=H;try{return oe()}finally{x=le}},t.unstable_scheduleCallback=function(H,oe,le){var W=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=le+re,H={id:m++,callback:oe,priorityLevel:H,startTime:le,expirationTime:re,sortIndex:-1},le>W?(H.sortIndex=le,n(h,H),s(d)===null&&H===s(h)&&(T?(w(R),R=-1):T=!0,Y(_,le-W))):(H.sortIndex=re,n(d,H),b||A||(b=!0,K(L))),H},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(H){var oe=x;return function(){var le=x;x=oe;try{return H.apply(this,arguments)}finally{x=le}}}})(Lf)),Lf}var Ny;function JC(){return Ny||(Ny=1,jf.exports=GC()),jf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function YC(){if(Oy)return Rr;Oy=1;var t=Rp(),n=JC();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,r){i(e,r),i(e+"Capture",r)}function i(e,r){for(l[e]=r,e=0;e<r.length;e++)o.add(r[e])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(e){return d.call(p,e)?!0:d.call(m,e)?!1:h.test(e)?p[e]=!0:(m[e]=!0,!1)}function A(e,r,a,f){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return f?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,r,a,f){if(r===null||typeof r>"u"||A(e,r,a,f))return!0;if(f)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function T(e,r,a,f,y,E,P){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=E,this.removeEmptyString=P}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];C[r]=new T(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(w,v);C[r]=new T(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(w,v);C[r]=new T(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(w,v);C[r]=new T(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,r,a,f){var y=C.hasOwnProperty(r)?C[r]:null;(y!==null?y.type!==0:f||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(b(r,a,y,f)&&(a=null),f||y===null?x(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):y.mustUseProperty?e[y.propertyName]=a===null?y.type===3?!1:"":a:(r=y.attributeName,f=y.attributeNamespace,a===null?e.removeAttribute(r):(y=y.type,a=y===3||y===4&&a===!0?"":""+a,f?e.setAttributeNS(f,r,a):e.setAttribute(r,a))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),H=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,W;function re(e){if(W===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);W=r&&r[1]||""}return`
`+W+e}var ce=!1;function me(e,r){if(!e||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(ie){var f=ie}Reflect.construct(e,[],r)}else{try{r.call()}catch(ie){f=ie}e.call(r.prototype)}else{try{throw Error()}catch(ie){f=ie}e()}}catch(ie){if(ie&&f&&typeof ie.stack=="string"){for(var y=ie.stack.split(`
`),E=f.stack.split(`
`),P=y.length-1,q=E.length-1;1<=P&&0<=q&&y[P]!==E[q];)q--;for(;1<=P&&0<=q;P--,q--)if(y[P]!==E[q]){if(P!==1||q!==1)do if(P--,q--,0>q||y[P]!==E[q]){var B=`
`+y[P].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=P&&0<=q);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?re(e):""}function Se(e){switch(e.tag){case 5:return re(e.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function De(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case O:return"Portal";case M:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case Q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case ae:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return r=e.displayName||null,r!==null?r:De(e.type)||"Memo";case K:r=e._payload,e=e._init;try{return De(e(r))}catch{}}return null}function Ue(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(r);case 8:return r===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xe(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ct(e){var r=Xe(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),f=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var y=a.get,E=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return y.call(this)},set:function(P){f=""+P,E.call(this,P)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Xt(e){e._valueTracker||(e._valueTracker=ct(e))}function se(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),f="";return e&&(f=Xe(e)?e.checked?"true":"false":e.value),e=f,e!==a?(r.setValue(e),!0):!1}function qe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fe(e,r){var a=r.checked;return le({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function xt(e,r){var a=r.defaultValue==null?"":r.defaultValue,f=r.checked!=null?r.checked:r.defaultChecked;a=Oe(r.value!=null?r.value:a),e._wrapperState={initialChecked:f,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function jt(e,r){r=r.checked,r!=null&&S(e,"checked",r,!1)}function _t(e,r){jt(e,r);var a=Oe(r.value),f=r.type;if(a!=null)f==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(f==="submit"||f==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?cr(e,r.type,a):r.hasOwnProperty("defaultValue")&&cr(e,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Bs(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var f=r.type;if(!(f!=="submit"&&f!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cr(e,r,a){(r!=="number"||qe(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var qn=Array.isArray;function En(e,r,a,f){if(e=e.options,r){r={};for(var y=0;y<a.length;y++)r["$"+a[y]]=!0;for(a=0;a<e.length;a++)y=r.hasOwnProperty("$"+e[a].value),e[a].selected!==y&&(e[a].selected=y),y&&f&&(e[a].defaultSelected=!0)}else{for(a=""+Oe(a),r=null,y=0;y<e.length;y++){if(e[y].value===a){e[y].selected=!0,f&&(e[y].defaultSelected=!0);return}r!==null||e[y].disabled||(r=e[y])}r!==null&&(r.selected=!0)}}function Ut(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return le({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ur(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(qn(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:Oe(a)}}function Mi(e,r){var a=Oe(r.value),f=Oe(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),f!=null&&(e.defaultValue=""+f)}function Fo(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function ne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?ne(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sn,Fn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,f,y){MSApp.execUnsafeLocalFunction(function(){return e(r,a,f,y)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Sn=Sn||document.createElement("div"),Sn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Sn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Er(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){Zr.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),qr[r]=qr[e]})});function Ks(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||qr.hasOwnProperty(e)&&qr[e]?(""+r).trim():r+"px"}function Ui(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var f=a.indexOf("--")===0,y=Ks(a,r[a],f);a==="float"&&(a="cssFloat"),f?e.setProperty(a,y):e[a]=y}}var qi=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function en(e,r){if(r){if(qi[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function hs(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vs=null,rn=null,nn=null;function ps(e){if(e=ca(e)){if(typeof Vs!="function")throw Error(s(280));var r=e.stateNode;r&&(r=sc(r),Vs(e.stateNode,e.type,r))}}function Ve(e){rn?nn?nn.push(e):nn=[e]:rn=e}function yt(){if(rn){var e=rn,r=nn;if(nn=rn=null,ps(e),r)for(e=0;e<r.length;e++)ps(r[e])}}function kt(e,r){return e(r)}function Wt(){}var xn=!1;function pt(e,r,a){if(xn)return e(r,a);xn=!0;try{return kt(e,r,a)}finally{xn=!1,(rn!==null||nn!==null)&&(Wt(),yt())}}function Ct(e,r){var a=e.stateNode;if(a===null)return null;var f=sc(a);if(f===null)return null;a=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Cn=!1;if(u)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{Cn=!1}function dr(e,r,a,f,y,E,P,q,B){var ie=Array.prototype.slice.call(arguments,3);try{r.apply(a,ie)}catch(he){this.onError(he)}}var bn=!1,lt=null,Gs=!1,Ho=null,td={onError:function(e){bn=!0,lt=e}};function Ol(e,r,a,f,y,E,P,q,B){bn=!1,lt=null,dr.apply(td,arguments)}function rd(e,r,a,f,y,E,P,q,B){if(Ol.apply(this,arguments),bn){if(bn){var ie=lt;bn=!1,lt=null}else throw Error(s(198));Gs||(Gs=!0,Ho=ie)}}function sn(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function Fi(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function jl(e){if(sn(e)!==e)throw Error(s(188))}function nd(e){var r=e.alternate;if(!r){if(r=sn(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,f=r;;){var y=a.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){a=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===a)return jl(y),e;if(E===f)return jl(y),r;E=E.sibling}throw Error(s(188))}if(a.return!==f.return)a=y,f=E;else{for(var P=!1,q=y.child;q;){if(q===a){P=!0,a=y,f=E;break}if(q===f){P=!0,f=y,a=E;break}q=q.sibling}if(!P){for(q=E.child;q;){if(q===a){P=!0,a=E,f=y;break}if(q===f){P=!0,f=E,a=y;break}q=q.sibling}if(!P)throw Error(s(189))}}if(a.alternate!==f)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function $o(e){return e=nd(e),e!==null?ms(e):null}function ms(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=ms(e);if(r!==null)return r;e=e.sibling}return null}var Js=n.unstable_scheduleCallback,Ll=n.unstable_cancelCallback,sd=n.unstable_shouldYield,zo=n.unstable_requestPaint,vt=n.unstable_now,id=n.unstable_getCurrentPriorityLevel,gs=n.unstable_ImmediatePriority,Sr=n.unstable_UserBlockingPriority,ys=n.unstable_NormalPriority,Dl=n.unstable_LowPriority,Hn=n.unstable_IdlePriority,Ys=null,Fr=null;function od(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Ul,Hi=Math.log,Ml=Math.LN2;function Ul(e){return e>>>=0,e===0?32:31-(Hi(e)/Ml|0)|0}var $i=64,zi=4194304;function Xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wi(e,r){var a=e.pendingLanes;if(a===0)return 0;var f=0,y=e.suspendedLanes,E=e.pingedLanes,P=a&268435455;if(P!==0){var q=P&~y;q!==0?f=Xs(q):(E&=P,E!==0&&(f=Xs(E)))}else P=a&~y,P!==0?f=Xs(P):E!==0&&(f=Xs(E));if(f===0)return 0;if(r!==0&&r!==f&&(r&y)===0&&(y=f&-f,E=r&-r,y>=E||y===16&&(E&4194240)!==0))return r;if((f&4)!==0&&(f|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=f;0<r;)a=31-Nr(r),y=1<<a,f|=e[a],r&=~y;return f}function ql(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(e,r){for(var a=e.suspendedLanes,f=e.pingedLanes,y=e.expirationTimes,E=e.pendingLanes;0<E;){var P=31-Nr(E),q=1<<P,B=y[P];B===-1?((q&a)===0||(q&f)!==0)&&(y[P]=ql(q,r)):B<=r&&(e.expiredLanes|=q),E&=~q}}function on(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wo(){var e=$i;return $i<<=1,($i&4194240)===0&&($i=64),e}function Hl(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Qs(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Nr(r),e[r]=a}function gm(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var f=e.eventTimes;for(e=e.expirationTimes;0<a;){var y=31-Nr(a),E=1<<y;r[y]=0,f[y]=-1,e[y]=-1,a&=~E}}function Bo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var f=31-Nr(a),y=1<<f;y&r|e[f]&r&&(e[f]|=r),a&=~y}}var ot=0;function $l(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zl,Bi,Ko,Zs,Wl,Ki=!1,ei=[],an=null,Tn=null,_n=null,vs=new Map,$n=new Map,ln=[],ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vo(e,r){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":vs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(r.pointerId)}}function zn(e,r,a,f,y,E){return e===null||e.nativeEvent!==E?(e={blockedOn:r,domEventName:a,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},r!==null&&(r=ca(r),r!==null&&Bi(r)),e):(e.eventSystemFlags|=f,r=e.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),e)}function Bl(e,r,a,f,y){switch(r){case"focusin":return an=zn(an,e,r,a,f,y),!0;case"dragenter":return Tn=zn(Tn,e,r,a,f,y),!0;case"mouseover":return _n=zn(_n,e,r,a,f,y),!0;case"pointerover":var E=y.pointerId;return vs.set(E,zn(vs.get(E)||null,e,r,a,f,y)),!0;case"gotpointercapture":return E=y.pointerId,$n.set(E,zn($n.get(E)||null,e,r,a,f,y)),!0}return!1}function Go(e){var r=ri(e.target);if(r!==null){var a=sn(r);if(a!==null){if(r=a.tag,r===13){if(r=Fi(a),r!==null){e.blockedOn=r,Wl(e.priority,function(){Ko(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wn(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=ti(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var f=new a.constructor(a.type,a);tn=f,a.target.dispatchEvent(f),tn=null}else return r=ca(a),r!==null&&Bi(r),e.blockedOn=a,!1;r.shift()}return!0}function Jo(e,r,a){Wn(e)&&a.delete(r)}function ld(){Ki=!1,an!==null&&Wn(an)&&(an=null),Tn!==null&&Wn(Tn)&&(Tn=null),_n!==null&&Wn(_n)&&(_n=null),vs.forEach(Jo),$n.forEach(Jo)}function kn(e,r){e.blockedOn===r&&(e.blockedOn=null,Ki||(Ki=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ld)))}function er(e){function r(y){return kn(y,e)}if(0<ei.length){kn(ei[0],e);for(var a=1;a<ei.length;a++){var f=ei[a];f.blockedOn===e&&(f.blockedOn=null)}}for(an!==null&&kn(an,e),Tn!==null&&kn(Tn,e),_n!==null&&kn(_n,e),vs.forEach(r),$n.forEach(r),a=0;a<ln.length;a++)f=ln[a],f.blockedOn===e&&(f.blockedOn=null);for(;0<ln.length&&(a=ln[0],a.blockedOn===null);)Go(a),a.blockedOn===null&&ln.shift()}var cn=_.ReactCurrentBatchConfig,Bn=!0;function Yo(e,r,a,f){var y=ot,E=cn.transition;cn.transition=null;try{ot=1,Xo(e,r,a,f)}finally{ot=y,cn.transition=E}}function cd(e,r,a,f){var y=ot,E=cn.transition;cn.transition=null;try{ot=4,Xo(e,r,a,f)}finally{ot=y,cn.transition=E}}function Xo(e,r,a,f){if(Bn){var y=ti(e,r,a,f);if(y===null)Ed(e,r,f,Vi,a),Vo(e,f);else if(Bl(y,e,r,a,f))f.stopPropagation();else if(Vo(e,f),r&4&&-1<ad.indexOf(e)){for(;y!==null;){var E=ca(y);if(E!==null&&zl(E),E=ti(e,r,a,f),E===null&&Ed(e,r,f,Vi,a),E===y)break;y=E}y!==null&&f.stopPropagation()}else Ed(e,r,f,null,a)}}var Vi=null;function ti(e,r,a,f){if(Vi=null,e=ur(f),e=ri(e),e!==null)if(r=sn(e),r===null)e=null;else if(a=r.tag,a===13){if(e=Fi(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Vi=e,null}function Kl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(id()){case gs:return 1;case Sr:return 4;case ys:case Dl:return 16;case Hn:return 536870912;default:return 16}default:return 16}}var un=null,mt=null,k=null;function I(){if(k)return k;var e,r=mt,a=r.length,f,y="value"in un?un.value:un.textContent,E=y.length;for(e=0;e<a&&r[e]===y[e];e++);var P=a-e;for(f=1;f<=P&&r[a-f]===y[E-f];f++);return k=y.slice(e,1<f?1-f:void 0)}function j(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function D(){return!0}function F(){return!1}function X(e){function r(a,f,y,E,P){this._reactName=a,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(a=e[q],this[q]=a?a(E):E[q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?D:F,this.isPropagationStopped=F,this}return le(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=D)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=D)},persist:function(){},isPersistent:D}),r}var J={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ue=X(J),_e=le({},J,{view:0,detail:0}),xe=X(_e),ge,Me,nt,Rt=le({},_e,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&e.type==="mousemove"?(ge=e.screenX-nt.screenX,Me=e.screenY-nt.screenY):Me=ge=0,nt=e),ge)},movementY:function(e){return"movementY"in e?e.movementY:Me}}),Ee=X(Rt),Be=le({},Rt,{dataTransfer:0}),je=X(Be),At=le({},_e,{relatedTarget:0}),tr=X(At),Lt=le({},J,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=X(Lt),Or=le({},J,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kn=X(Or),xr=le({},J,{data:0}),Gi=X(xr),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yi(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Gl[e])?!!r[e]:!1}function Vn(){return Yi}var Gn=le({},_e,{key:function(e){if(e.key){var r=Ji[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=j(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return e.type==="keypress"?j(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jl=X(Gn),Hr=le({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=X(Hr),Rn=le({},_e,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn}),Yl=X(Rn),ud=le({},J,{propertyName:0,elapsedTime:0,pseudoElement:0}),An=X(ud),ws=le({},Rt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zo=X(ws),Xi=[9,13,27,32],Qi=u&&"CompositionEvent"in window,ea=null;u&&"documentMode"in document&&(ea=document.documentMode);var Dx=u&&"TextEvent"in window&&!ea,ym=u&&(!Qi||ea&&8<ea&&11>=ea),vm=" ",wm=!1;function Em(e,r){switch(e){case"keyup":return Xi.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zi=!1;function Mx(e,r){switch(e){case"compositionend":return Sm(r);case"keypress":return r.which!==32?null:(wm=!0,vm);case"textInput":return e=r.data,e===vm&&wm?null:e;default:return null}}function Ux(e,r){if(Zi)return e==="compositionend"||!Qi&&Em(e,r)?(e=I(),k=mt=un=null,Zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ym&&r.locale!=="ko"?null:r.data;default:return null}}var qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xm(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!qx[e.type]:r==="textarea"}function Cm(e,r,a,f){Ve(f),r=tc(r,"onChange"),0<r.length&&(a=new ue("onChange","change",null,a,f),e.push({event:a,listeners:r}))}var ta=null,ra=null;function Fx(e){Hm(e,0)}function Xl(e){var r=so(e);if(se(r))return e}function Hx(e,r){if(e==="change")return r}var bm=!1;if(u){var dd;if(u){var fd="oninput"in document;if(!fd){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),fd=typeof Tm.oninput=="function"}dd=fd}else dd=!1;bm=dd&&(!document.documentMode||9<document.documentMode)}function _m(){ta&&(ta.detachEvent("onpropertychange",km),ra=ta=null)}function km(e){if(e.propertyName==="value"&&Xl(ra)){var r=[];Cm(r,ra,e,ur(e)),pt(Fx,r)}}function $x(e,r,a){e==="focusin"?(_m(),ta=r,ra=a,ta.attachEvent("onpropertychange",km)):e==="focusout"&&_m()}function zx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(ra)}function Wx(e,r){if(e==="click")return Xl(r)}function Bx(e,r){if(e==="input"||e==="change")return Xl(r)}function Kx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var dn=typeof Object.is=="function"?Object.is:Kx;function na(e,r){if(dn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),f=Object.keys(r);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var y=a[f];if(!d.call(r,y)||!dn(e[y],r[y]))return!1}return!0}function Rm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Am(e,r){var a=Rm(e);e=0;for(var f;a;){if(a.nodeType===3){if(f=e+a.textContent.length,e<=r&&f>=r)return{node:a,offset:r-e};e=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rm(a)}}function Im(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Im(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Pm(){for(var e=window,r=qe();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=qe(e.document)}return r}function hd(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Vx(e){var r=Pm(),a=e.focusedElem,f=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&Im(a.ownerDocument.documentElement,a)){if(f!==null&&hd(a)){if(r=f.start,e=f.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var y=a.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!e.extend&&E>f&&(y=f,f=E,E=y),y=Am(a,E);var P=Am(a,f);y&&P&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==P.node||e.focusOffset!==P.offset)&&(r=r.createRange(),r.setStart(y.node,y.offset),e.removeAllRanges(),E>f?(e.addRange(r),e.extend(P.node,P.offset)):(r.setEnd(P.node,P.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gx=u&&"documentMode"in document&&11>=document.documentMode,eo=null,pd=null,sa=null,md=!1;function Nm(e,r,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;md||eo==null||eo!==qe(f)||(f=eo,"selectionStart"in f&&hd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),sa&&na(sa,f)||(sa=f,f=tc(pd,"onSelect"),0<f.length&&(r=new ue("onSelect","select",null,r,a),e.push({event:r,listeners:f}),r.target=eo)))}function Ql(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var to={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},gd={},Om={};u&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Zl(e){if(gd[e])return gd[e];if(!to[e])return e;var r=to[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Om)return gd[e]=r[a];return e}var jm=Zl("animationend"),Lm=Zl("animationiteration"),Dm=Zl("animationstart"),Mm=Zl("transitionend"),Um=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(e,r){Um.set(e,r),c(r,[e])}for(var yd=0;yd<qm.length;yd++){var vd=qm[yd],Jx=vd.toLowerCase(),Yx=vd[0].toUpperCase()+vd.slice(1);Es(Jx,"on"+Yx)}Es(jm,"onAnimationEnd"),Es(Lm,"onAnimationIteration"),Es(Dm,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Mm,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Fm(e,r,a){var f=e.type||"unknown-event";e.currentTarget=a,rd(f,r,void 0,e),e.currentTarget=null}function Hm(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var f=e[a],y=f.event;f=f.listeners;e:{var E=void 0;if(r)for(var P=f.length-1;0<=P;P--){var q=f[P],B=q.instance,ie=q.currentTarget;if(q=q.listener,B!==E&&y.isPropagationStopped())break e;Fm(y,q,ie),E=B}else for(P=0;P<f.length;P++){if(q=f[P],B=q.instance,ie=q.currentTarget,q=q.listener,B!==E&&y.isPropagationStopped())break e;Fm(y,q,ie),E=B}}}if(Gs)throw e=Ho,Gs=!1,Ho=null,e}function ft(e,r){var a=r[_d];a===void 0&&(a=r[_d]=new Set);var f=e+"__bubble";a.has(f)||($m(r,e,2,!1),a.add(f))}function wd(e,r,a){var f=0;r&&(f|=4),$m(a,e,f,r)}var ec="_reactListening"+Math.random().toString(36).slice(2);function oa(e){if(!e[ec]){e[ec]=!0,o.forEach(function(a){a!=="selectionchange"&&(Xx.has(a)||wd(a,!1,e),wd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[ec]||(r[ec]=!0,wd("selectionchange",!1,r))}}function $m(e,r,a,f){switch(Kl(r)){case 1:var y=Yo;break;case 4:y=cd;break;default:y=Xo}a=y.bind(null,r,a,e),y=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),f?y!==void 0?e.addEventListener(r,a,{capture:!0,passive:y}):e.addEventListener(r,a,!0):y!==void 0?e.addEventListener(r,a,{passive:y}):e.addEventListener(r,a,!1)}function Ed(e,r,a,f,y){var E=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var P=f.tag;if(P===3||P===4){var q=f.stateNode.containerInfo;if(q===y||q.nodeType===8&&q.parentNode===y)break;if(P===4)for(P=f.return;P!==null;){var B=P.tag;if((B===3||B===4)&&(B=P.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;P=P.return}for(;q!==null;){if(P=ri(q),P===null)return;if(B=P.tag,B===5||B===6){f=E=P;continue e}q=q.parentNode}}f=f.return}pt(function(){var ie=E,he=ur(a),pe=[];e:{var fe=Um.get(e);if(fe!==void 0){var Te=ue,Ae=e;switch(e){case"keypress":if(j(a)===0)break e;case"keydown":case"keyup":Te=Jl;break;case"focusin":Ae="focus",Te=tr;break;case"focusout":Ae="blur",Te=tr;break;case"beforeblur":case"afterblur":Te=tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Ee;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Yl;break;case jm:case Lm:case Dm:Te=rr;break;case Mm:Te=An;break;case"scroll":Te=xe;break;case"wheel":Te=Zo;break;case"copy":case"cut":case"paste":Te=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Qo}var Ne=(r&4)!==0,It=!Ne&&e==="scroll",ee=Ne?fe!==null?fe+"Capture":null:fe;Ne=[];for(var V=ie,te;V!==null;){te=V;var ye=te.stateNode;if(te.tag===5&&ye!==null&&(te=ye,ee!==null&&(ye=Ct(V,ee),ye!=null&&Ne.push(aa(V,ye,te)))),It)break;V=V.return}0<Ne.length&&(fe=new Te(fe,Ae,null,a,he),pe.push({event:fe,listeners:Ne}))}}if((r&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",fe&&a!==tn&&(Ae=a.relatedTarget||a.fromElement)&&(ri(Ae)||Ae[Jn]))break e;if((Te||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,Te?(Ae=a.relatedTarget||a.toElement,Te=ie,Ae=Ae?ri(Ae):null,Ae!==null&&(It=sn(Ae),Ae!==It||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Te=null,Ae=ie),Te!==Ae)){if(Ne=Ee,ye="onMouseLeave",ee="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Qo,ye="onPointerLeave",ee="onPointerEnter",V="pointer"),It=Te==null?fe:so(Te),te=Ae==null?fe:so(Ae),fe=new Ne(ye,V+"leave",Te,a,he),fe.target=It,fe.relatedTarget=te,ye=null,ri(he)===ie&&(Ne=new Ne(ee,V+"enter",Ae,a,he),Ne.target=te,Ne.relatedTarget=It,ye=Ne),It=ye,Te&&Ae)t:{for(Ne=Te,ee=Ae,V=0,te=Ne;te;te=ro(te))V++;for(te=0,ye=ee;ye;ye=ro(ye))te++;for(;0<V-te;)Ne=ro(Ne),V--;for(;0<te-V;)ee=ro(ee),te--;for(;V--;){if(Ne===ee||ee!==null&&Ne===ee.alternate)break t;Ne=ro(Ne),ee=ro(ee)}Ne=null}else Ne=null;Te!==null&&zm(pe,fe,Te,Ne,!1),Ae!==null&&It!==null&&zm(pe,It,Ae,Ne,!0)}}e:{if(fe=ie?so(ie):window,Te=fe.nodeName&&fe.nodeName.toLowerCase(),Te==="select"||Te==="input"&&fe.type==="file")var Le=Hx;else if(xm(fe))if(bm)Le=Bx;else{Le=zx;var $e=$x}else(Te=fe.nodeName)&&Te.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=Wx);if(Le&&(Le=Le(e,ie))){Cm(pe,Le,a,he);break e}$e&&$e(e,fe,ie),e==="focusout"&&($e=fe._wrapperState)&&$e.controlled&&fe.type==="number"&&cr(fe,"number",fe.value)}switch($e=ie?so(ie):window,e){case"focusin":(xm($e)||$e.contentEditable==="true")&&(eo=$e,pd=ie,sa=null);break;case"focusout":sa=pd=eo=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Nm(pe,a,he);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":Nm(pe,a,he)}var ze;if(Qi)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Zi?Em(e,a)&&(Ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(ym&&a.locale!=="ko"&&(Zi||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Zi&&(ze=I()):(un=he,mt="value"in un?un.value:un.textContent,Zi=!0)),$e=tc(ie,Ge),0<$e.length&&(Ge=new Gi(Ge,e,null,a,he),pe.push({event:Ge,listeners:$e}),ze?Ge.data=ze:(ze=Sm(a),ze!==null&&(Ge.data=ze)))),(ze=Dx?Mx(e,a):Ux(e,a))&&(ie=tc(ie,"onBeforeInput"),0<ie.length&&(he=new Gi("onBeforeInput","beforeinput",null,a,he),pe.push({event:he,listeners:ie}),he.data=ze))}Hm(pe,r)})}function aa(e,r,a){return{instance:e,listener:r,currentTarget:a}}function tc(e,r){for(var a=r+"Capture",f=[];e!==null;){var y=e,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Ct(e,a),E!=null&&f.unshift(aa(e,E,y)),E=Ct(e,r),E!=null&&f.push(aa(e,E,y))),e=e.return}return f}function ro(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zm(e,r,a,f,y){for(var E=r._reactName,P=[];a!==null&&a!==f;){var q=a,B=q.alternate,ie=q.stateNode;if(B!==null&&B===f)break;q.tag===5&&ie!==null&&(q=ie,y?(B=Ct(a,E),B!=null&&P.unshift(aa(a,B,q))):y||(B=Ct(a,E),B!=null&&P.push(aa(a,B,q)))),a=a.return}P.length!==0&&e.push({event:r,listeners:P})}var Qx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Wm(e){return(typeof e=="string"?e:""+e).replace(Qx,`
`).replace(Zx,"")}function rc(e,r,a){if(r=Wm(r),Wm(e)!==r&&a)throw Error(s(425))}function nc(){}var Sd=null,xd=null;function Cd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch(rC)}:bd;function rC(e){setTimeout(function(){throw e})}function Td(e,r){var a=r,f=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(f===0){e.removeChild(y),er(r);return}f--}else a!=="$"&&a!=="$?"&&a!=="$!"||f++;a=y}while(a);er(r)}function Ss(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Km(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),In="__reactFiber$"+no,la="__reactProps$"+no,Jn="__reactContainer$"+no,_d="__reactEvents$"+no,nC="__reactListeners$"+no,sC="__reactHandles$"+no;function ri(e){var r=e[In];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Jn]||a[In]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Km(e);e!==null;){if(a=e[In])return a;e=Km(e)}return r}e=a,a=e.parentNode}return null}function ca(e){return e=e[In]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function sc(e){return e[la]||null}var kd=[],io=-1;function xs(e){return{current:e}}function ht(e){0>io||(e.current=kd[io],kd[io]=null,io--)}function ut(e,r){io++,kd[io]=e.current,e.current=r}var Cs={},nr=xs(Cs),Cr=xs(!1),ni=Cs;function oo(e,r){var a=e.type.contextTypes;if(!a)return Cs;var f=e.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===r)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in a)y[E]=r[E];return f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=y),y}function br(e){return e=e.childContextTypes,e!=null}function ic(){ht(Cr),ht(nr)}function Vm(e,r,a){if(nr.current!==Cs)throw Error(s(168));ut(nr,r),ut(Cr,a)}function Gm(e,r,a){var f=e.stateNode;if(r=r.childContextTypes,typeof f.getChildContext!="function")return a;f=f.getChildContext();for(var y in f)if(!(y in r))throw Error(s(108,Ue(e)||"Unknown",y));return le({},a,f)}function oc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,ni=nr.current,ut(nr,e),ut(Cr,Cr.current),!0}function Jm(e,r,a){var f=e.stateNode;if(!f)throw Error(s(169));a?(e=Gm(e,r,ni),f.__reactInternalMemoizedMergedChildContext=e,ht(Cr),ht(nr),ut(nr,e)):ht(Cr),ut(Cr,a)}var Yn=null,ac=!1,Rd=!1;function Ym(e){Yn===null?Yn=[e]:Yn.push(e)}function iC(e){ac=!0,Ym(e)}function bs(){if(!Rd&&Yn!==null){Rd=!0;var e=0,r=ot;try{var a=Yn;for(ot=1;e<a.length;e++){var f=a[e];do f=f(!0);while(f!==null)}Yn=null,ac=!1}catch(y){throw Yn!==null&&(Yn=Yn.slice(e+1)),Js(gs,bs),y}finally{ot=r,Rd=!1}}return null}var ao=[],lo=0,lc=null,cc=0,$r=[],zr=0,si=null,Xn=1,Qn="";function ii(e,r){ao[lo++]=cc,ao[lo++]=lc,lc=e,cc=r}function Xm(e,r,a){$r[zr++]=Xn,$r[zr++]=Qn,$r[zr++]=si,si=e;var f=Xn;e=Qn;var y=32-Nr(f)-1;f&=~(1<<y),a+=1;var E=32-Nr(r)+y;if(30<E){var P=y-y%5;E=(f&(1<<P)-1).toString(32),f>>=P,y-=P,Xn=1<<32-Nr(r)+y|a<<y|f,Qn=E+e}else Xn=1<<E|a<<y|f,Qn=e}function Ad(e){e.return!==null&&(ii(e,1),Xm(e,1,0))}function Id(e){for(;e===lc;)lc=ao[--lo],ao[lo]=null,cc=ao[--lo],ao[lo]=null;for(;e===si;)si=$r[--zr],$r[zr]=null,Qn=$r[--zr],$r[zr]=null,Xn=$r[--zr],$r[zr]=null}var jr=null,Lr=null,gt=!1,fn=null;function Qm(e,r){var a=Vr(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function Zm(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,jr=e,Lr=Ss(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,jr=e,Lr=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=si!==null?{id:Xn,overflow:Qn}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Vr(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,jr=e,Lr=null,!0):!1;default:return!1}}function Pd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nd(e){if(gt){var r=Lr;if(r){var a=r;if(!Zm(e,r)){if(Pd(e))throw Error(s(418));r=Ss(a.nextSibling);var f=jr;r&&Zm(e,r)?Qm(f,a):(e.flags=e.flags&-4097|2,gt=!1,jr=e)}}else{if(Pd(e))throw Error(s(418));e.flags=e.flags&-4097|2,gt=!1,jr=e}}}function eg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jr=e}function uc(e){if(e!==jr)return!1;if(!gt)return eg(e),gt=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Cd(e.type,e.memoizedProps)),r&&(r=Lr)){if(Pd(e))throw tg(),Error(s(418));for(;r;)Qm(e,r),r=Ss(r.nextSibling)}if(eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){Lr=Ss(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}Lr=null}}else Lr=jr?Ss(e.stateNode.nextSibling):null;return!0}function tg(){for(var e=Lr;e;)e=Ss(e.nextSibling)}function co(){Lr=jr=null,gt=!1}function Od(e){fn===null?fn=[e]:fn.push(e)}var oC=_.ReactCurrentBatchConfig;function ua(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var f=a.stateNode}if(!f)throw Error(s(147,e));var y=f,E=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===E?r.ref:(r=function(P){var q=y.refs;P===null?delete q[E]:q[E]=P},r._stringRef=E,r)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function dc(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function rg(e){var r=e._init;return r(e._payload)}function ng(e){function r(ee,V){if(e){var te=ee.deletions;te===null?(ee.deletions=[V],ee.flags|=16):te.push(V)}}function a(ee,V){if(!e)return null;for(;V!==null;)r(ee,V),V=V.sibling;return null}function f(ee,V){for(ee=new Map;V!==null;)V.key!==null?ee.set(V.key,V):ee.set(V.index,V),V=V.sibling;return ee}function y(ee,V){return ee=Ns(ee,V),ee.index=0,ee.sibling=null,ee}function E(ee,V,te){return ee.index=te,e?(te=ee.alternate,te!==null?(te=te.index,te<V?(ee.flags|=2,V):te):(ee.flags|=2,V)):(ee.flags|=1048576,V)}function P(ee){return e&&ee.alternate===null&&(ee.flags|=2),ee}function q(ee,V,te,ye){return V===null||V.tag!==6?(V=Tf(te,ee.mode,ye),V.return=ee,V):(V=y(V,te),V.return=ee,V)}function B(ee,V,te,ye){var Le=te.type;return Le===N?he(ee,V,te.props.children,ye,te.key):V!==null&&(V.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===K&&rg(Le)===V.type)?(ye=y(V,te.props),ye.ref=ua(ee,V,te),ye.return=ee,ye):(ye=Lc(te.type,te.key,te.props,null,ee.mode,ye),ye.ref=ua(ee,V,te),ye.return=ee,ye)}function ie(ee,V,te,ye){return V===null||V.tag!==4||V.stateNode.containerInfo!==te.containerInfo||V.stateNode.implementation!==te.implementation?(V=_f(te,ee.mode,ye),V.return=ee,V):(V=y(V,te.children||[]),V.return=ee,V)}function he(ee,V,te,ye,Le){return V===null||V.tag!==7?(V=hi(te,ee.mode,ye,Le),V.return=ee,V):(V=y(V,te),V.return=ee,V)}function pe(ee,V,te){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Tf(""+V,ee.mode,te),V.return=ee,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return te=Lc(V.type,V.key,V.props,null,ee.mode,te),te.ref=ua(ee,null,V),te.return=ee,te;case O:return V=_f(V,ee.mode,te),V.return=ee,V;case K:var ye=V._init;return pe(ee,ye(V._payload),te)}if(qn(V)||oe(V))return V=hi(V,ee.mode,te,null),V.return=ee,V;dc(ee,V)}return null}function fe(ee,V,te,ye){var Le=V!==null?V.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Le!==null?null:q(ee,V,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case L:return te.key===Le?B(ee,V,te,ye):null;case O:return te.key===Le?ie(ee,V,te,ye):null;case K:return Le=te._init,fe(ee,V,Le(te._payload),ye)}if(qn(te)||oe(te))return Le!==null?null:he(ee,V,te,ye,null);dc(ee,te)}return null}function Te(ee,V,te,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ee=ee.get(te)||null,q(V,ee,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case L:return ee=ee.get(ye.key===null?te:ye.key)||null,B(V,ee,ye,Le);case O:return ee=ee.get(ye.key===null?te:ye.key)||null,ie(V,ee,ye,Le);case K:var $e=ye._init;return Te(ee,V,te,$e(ye._payload),Le)}if(qn(ye)||oe(ye))return ee=ee.get(te)||null,he(V,ee,ye,Le,null);dc(V,ye)}return null}function Ae(ee,V,te,ye){for(var Le=null,$e=null,ze=V,Ge=V=0,Vt=null;ze!==null&&Ge<te.length;Ge++){ze.index>Ge?(Vt=ze,ze=null):Vt=ze.sibling;var st=fe(ee,ze,te[Ge],ye);if(st===null){ze===null&&(ze=Vt);break}e&&ze&&st.alternate===null&&r(ee,ze),V=E(st,V,Ge),$e===null?Le=st:$e.sibling=st,$e=st,ze=Vt}if(Ge===te.length)return a(ee,ze),gt&&ii(ee,Ge),Le;if(ze===null){for(;Ge<te.length;Ge++)ze=pe(ee,te[Ge],ye),ze!==null&&(V=E(ze,V,Ge),$e===null?Le=ze:$e.sibling=ze,$e=ze);return gt&&ii(ee,Ge),Le}for(ze=f(ee,ze);Ge<te.length;Ge++)Vt=Te(ze,ee,Ge,te[Ge],ye),Vt!==null&&(e&&Vt.alternate!==null&&ze.delete(Vt.key===null?Ge:Vt.key),V=E(Vt,V,Ge),$e===null?Le=Vt:$e.sibling=Vt,$e=Vt);return e&&ze.forEach(function(Os){return r(ee,Os)}),gt&&ii(ee,Ge),Le}function Ne(ee,V,te,ye){var Le=oe(te);if(typeof Le!="function")throw Error(s(150));if(te=Le.call(te),te==null)throw Error(s(151));for(var $e=Le=null,ze=V,Ge=V=0,Vt=null,st=te.next();ze!==null&&!st.done;Ge++,st=te.next()){ze.index>Ge?(Vt=ze,ze=null):Vt=ze.sibling;var Os=fe(ee,ze,st.value,ye);if(Os===null){ze===null&&(ze=Vt);break}e&&ze&&Os.alternate===null&&r(ee,ze),V=E(Os,V,Ge),$e===null?Le=Os:$e.sibling=Os,$e=Os,ze=Vt}if(st.done)return a(ee,ze),gt&&ii(ee,Ge),Le;if(ze===null){for(;!st.done;Ge++,st=te.next())st=pe(ee,st.value,ye),st!==null&&(V=E(st,V,Ge),$e===null?Le=st:$e.sibling=st,$e=st);return gt&&ii(ee,Ge),Le}for(ze=f(ee,ze);!st.done;Ge++,st=te.next())st=Te(ze,ee,Ge,st.value,ye),st!==null&&(e&&st.alternate!==null&&ze.delete(st.key===null?Ge:st.key),V=E(st,V,Ge),$e===null?Le=st:$e.sibling=st,$e=st);return e&&ze.forEach(function(qC){return r(ee,qC)}),gt&&ii(ee,Ge),Le}function It(ee,V,te,ye){if(typeof te=="object"&&te!==null&&te.type===N&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case L:e:{for(var Le=te.key,$e=V;$e!==null;){if($e.key===Le){if(Le=te.type,Le===N){if($e.tag===7){a(ee,$e.sibling),V=y($e,te.props.children),V.return=ee,ee=V;break e}}else if($e.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===K&&rg(Le)===$e.type){a(ee,$e.sibling),V=y($e,te.props),V.ref=ua(ee,$e,te),V.return=ee,ee=V;break e}a(ee,$e);break}else r(ee,$e);$e=$e.sibling}te.type===N?(V=hi(te.props.children,ee.mode,ye,te.key),V.return=ee,ee=V):(ye=Lc(te.type,te.key,te.props,null,ee.mode,ye),ye.ref=ua(ee,V,te),ye.return=ee,ee=ye)}return P(ee);case O:e:{for($e=te.key;V!==null;){if(V.key===$e)if(V.tag===4&&V.stateNode.containerInfo===te.containerInfo&&V.stateNode.implementation===te.implementation){a(ee,V.sibling),V=y(V,te.children||[]),V.return=ee,ee=V;break e}else{a(ee,V);break}else r(ee,V);V=V.sibling}V=_f(te,ee.mode,ye),V.return=ee,ee=V}return P(ee);case K:return $e=te._init,It(ee,V,$e(te._payload),ye)}if(qn(te))return Ae(ee,V,te,ye);if(oe(te))return Ne(ee,V,te,ye);dc(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,V!==null&&V.tag===6?(a(ee,V.sibling),V=y(V,te),V.return=ee,ee=V):(a(ee,V),V=Tf(te,ee.mode,ye),V.return=ee,ee=V),P(ee)):a(ee,V)}return It}var uo=ng(!0),sg=ng(!1),fc=xs(null),hc=null,fo=null,jd=null;function Ld(){jd=fo=hc=null}function Dd(e){var r=fc.current;ht(fc),e._currentValue=r}function Md(e,r,a){for(;e!==null;){var f=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),e===a)break;e=e.return}}function ho(e,r){hc=e,jd=fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Tr=!0),e.firstContext=null)}function Wr(e){var r=e._currentValue;if(jd!==e)if(e={context:e,memoizedValue:r,next:null},fo===null){if(hc===null)throw Error(s(308));fo=e,hc.dependencies={lanes:0,firstContext:e}}else fo=fo.next=e;return r}var oi=null;function Ud(e){oi===null?oi=[e]:oi.push(e)}function ig(e,r,a,f){var y=r.interleaved;return y===null?(a.next=a,Ud(r)):(a.next=y.next,y.next=a),r.interleaved=a,Zn(e,f)}function Zn(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Ts=!1;function qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function _s(e,r,a){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(rt&2)!==0){var y=f.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),f.pending=r,Zn(e,a)}return y=f.interleaved,y===null?(r.next=r,Ud(f)):(r.next=y.next,y.next=r),f.interleaved=r,Zn(e,a)}function pc(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var f=r.lanes;f&=e.pendingLanes,a|=f,r.lanes=a,Bo(e,a)}}function ag(e,r){var a=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var y=null,E=null;if(a=a.firstBaseUpdate,a!==null){do{var P={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};E===null?y=E=P:E=E.next=P,a=a.next}while(a!==null);E===null?y=E=r:E=E.next=r}else y=E=r;a={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function mc(e,r,a,f){var y=e.updateQueue;Ts=!1;var E=y.firstBaseUpdate,P=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var B=q,ie=B.next;B.next=null,P===null?E=ie:P.next=ie,P=B;var he=e.alternate;he!==null&&(he=he.updateQueue,q=he.lastBaseUpdate,q!==P&&(q===null?he.firstBaseUpdate=ie:q.next=ie,he.lastBaseUpdate=B))}if(E!==null){var pe=y.baseState;P=0,he=ie=B=null,q=E;do{var fe=q.lane,Te=q.eventTime;if((f&fe)===fe){he!==null&&(he=he.next={eventTime:Te,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ae=e,Ne=q;switch(fe=r,Te=a,Ne.tag){case 1:if(Ae=Ne.payload,typeof Ae=="function"){pe=Ae.call(Te,pe,fe);break e}pe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ne.payload,fe=typeof Ae=="function"?Ae.call(Te,pe,fe):Ae,fe==null)break e;pe=le({},pe,fe);break e;case 2:Ts=!0}}q.callback!==null&&q.lane!==0&&(e.flags|=64,fe=y.effects,fe===null?y.effects=[q]:fe.push(q))}else Te={eventTime:Te,lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},he===null?(ie=he=Te,B=pe):he=he.next=Te,P|=fe;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,y.lastBaseUpdate=fe,y.shared.pending=null}}while(!0);if(he===null&&(B=pe),y.baseState=B,y.firstBaseUpdate=ie,y.lastBaseUpdate=he,r=y.shared.interleaved,r!==null){y=r;do P|=y.lane,y=y.next;while(y!==r)}else E===null&&(y.shared.lanes=0);ci|=P,e.lanes=P,e.memoizedState=pe}}function lg(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var f=e[r],y=f.callback;if(y!==null){if(f.callback=null,f=a,typeof y!="function")throw Error(s(191,y));y.call(f)}}}var da={},Pn=xs(da),fa=xs(da),ha=xs(da);function ai(e){if(e===da)throw Error(s(174));return e}function Fd(e,r){switch(ut(ha,r),ut(fa,e),ut(Pn,da),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ke(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ke(r,e)}ht(Pn),ut(Pn,r)}function po(){ht(Pn),ht(fa),ht(ha)}function cg(e){ai(ha.current);var r=ai(Pn.current),a=Ke(r,e.type);r!==a&&(ut(fa,e),ut(Pn,a))}function Hd(e){fa.current===e&&(ht(Pn),ht(fa))}var wt=xs(0);function gc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $d=[];function zd(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var yc=_.ReactCurrentDispatcher,Wd=_.ReactCurrentBatchConfig,li=0,Et=null,Ft=null,Bt=null,vc=!1,pa=!1,ma=0,aC=0;function sr(){throw Error(s(321))}function Bd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!dn(e[a],r[a]))return!1;return!0}function Kd(e,r,a,f,y,E){if(li=E,Et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,yc.current=e===null||e.memoizedState===null?dC:fC,e=a(f,y),pa){E=0;do{if(pa=!1,ma=0,25<=E)throw Error(s(301));E+=1,Bt=Ft=null,r.updateQueue=null,yc.current=hC,e=a(f,y)}while(pa)}if(yc.current=Sc,r=Ft!==null&&Ft.next!==null,li=0,Bt=Ft=Et=null,vc=!1,r)throw Error(s(300));return e}function Vd(){var e=ma!==0;return ma=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Et.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Br(){if(Ft===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var r=Bt===null?Et.memoizedState:Bt.next;if(r!==null)Bt=r,Ft=e;else{if(e===null)throw Error(s(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Bt===null?Et.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function ga(e,r){return typeof r=="function"?r(e):r}function Gd(e){var r=Br(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var f=Ft,y=f.baseQueue,E=a.pending;if(E!==null){if(y!==null){var P=y.next;y.next=E.next,E.next=P}f.baseQueue=y=E,a.pending=null}if(y!==null){E=y.next,f=f.baseState;var q=P=null,B=null,ie=E;do{var he=ie.lane;if((li&he)===he)B!==null&&(B=B.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),f=ie.hasEagerState?ie.eagerState:e(f,ie.action);else{var pe={lane:he,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};B===null?(q=B=pe,P=f):B=B.next=pe,Et.lanes|=he,ci|=he}ie=ie.next}while(ie!==null&&ie!==E);B===null?P=f:B.next=q,dn(f,r.memoizedState)||(Tr=!0),r.memoizedState=f,r.baseState=P,r.baseQueue=B,a.lastRenderedState=f}if(e=a.interleaved,e!==null){y=e;do E=y.lane,Et.lanes|=E,ci|=E,y=y.next;while(y!==e)}else y===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Jd(e){var r=Br(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var f=a.dispatch,y=a.pending,E=r.memoizedState;if(y!==null){a.pending=null;var P=y=y.next;do E=e(E,P.action),P=P.next;while(P!==y);dn(E,r.memoizedState)||(Tr=!0),r.memoizedState=E,r.baseQueue===null&&(r.baseState=E),a.lastRenderedState=E}return[E,f]}function ug(){}function dg(e,r){var a=Et,f=Br(),y=r(),E=!dn(f.memoizedState,y);if(E&&(f.memoizedState=y,Tr=!0),f=f.queue,Yd(pg.bind(null,a,f,e),[e]),f.getSnapshot!==r||E||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,ya(9,hg.bind(null,a,f,y,r),void 0,null),Kt===null)throw Error(s(349));(li&30)!==0||fg(a,r,y)}return y}function fg(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Et.updateQueue,r===null?(r={lastEffect:null,stores:null},Et.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function hg(e,r,a,f){r.value=a,r.getSnapshot=f,mg(r)&&gg(e)}function pg(e,r,a){return a(function(){mg(r)&&gg(e)})}function mg(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!dn(e,a)}catch{return!0}}function gg(e){var r=Zn(e,1);r!==null&&gn(r,e,1,-1)}function yg(e){var r=Nn();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},r.queue=e,e=e.dispatch=uC.bind(null,Et,e),[r.memoizedState,e]}function ya(e,r,a,f){return e={tag:e,create:r,destroy:a,deps:f,next:null},r=Et.updateQueue,r===null?(r={lastEffect:null,stores:null},Et.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(f=a.next,a.next=e,e.next=f,r.lastEffect=e)),e}function vg(){return Br().memoizedState}function wc(e,r,a,f){var y=Nn();Et.flags|=e,y.memoizedState=ya(1|r,a,void 0,f===void 0?null:f)}function Ec(e,r,a,f){var y=Br();f=f===void 0?null:f;var E=void 0;if(Ft!==null){var P=Ft.memoizedState;if(E=P.destroy,f!==null&&Bd(f,P.deps)){y.memoizedState=ya(r,a,E,f);return}}Et.flags|=e,y.memoizedState=ya(1|r,a,E,f)}function wg(e,r){return wc(8390656,8,e,r)}function Yd(e,r){return Ec(2048,8,e,r)}function Eg(e,r){return Ec(4,2,e,r)}function Sg(e,r){return Ec(4,4,e,r)}function xg(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Cg(e,r,a){return a=a!=null?a.concat([e]):null,Ec(4,4,xg.bind(null,r,e),a)}function Xd(){}function bg(e,r){var a=Br();r=r===void 0?null:r;var f=a.memoizedState;return f!==null&&r!==null&&Bd(r,f[1])?f[0]:(a.memoizedState=[e,r],e)}function Tg(e,r){var a=Br();r=r===void 0?null:r;var f=a.memoizedState;return f!==null&&r!==null&&Bd(r,f[1])?f[0]:(e=e(),a.memoizedState=[e,r],e)}function _g(e,r,a){return(li&21)===0?(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=a):(dn(a,r)||(a=Wo(),Et.lanes|=a,ci|=a,e.baseState=!0),r)}function lC(e,r){var a=ot;ot=a!==0&&4>a?a:4,e(!0);var f=Wd.transition;Wd.transition={};try{e(!1),r()}finally{ot=a,Wd.transition=f}}function kg(){return Br().memoizedState}function cC(e,r,a){var f=Is(e);if(a={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null},Rg(e))Ag(r,a);else if(a=ig(e,r,a,f),a!==null){var y=hr();gn(a,e,f,y),Ig(a,r,f)}}function uC(e,r,a){var f=Is(e),y={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rg(e))Ag(r,y);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=r.lastRenderedReducer,E!==null))try{var P=r.lastRenderedState,q=E(P,a);if(y.hasEagerState=!0,y.eagerState=q,dn(q,P)){var B=r.interleaved;B===null?(y.next=y,Ud(r)):(y.next=B.next,B.next=y),r.interleaved=y;return}}catch{}finally{}a=ig(e,r,y,f),a!==null&&(y=hr(),gn(a,e,f,y),Ig(a,r,f))}}function Rg(e){var r=e.alternate;return e===Et||r!==null&&r===Et}function Ag(e,r){pa=vc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Ig(e,r,a){if((a&4194240)!==0){var f=r.lanes;f&=e.pendingLanes,a|=f,r.lanes=a,Bo(e,a)}}var Sc={readContext:Wr,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},dC={readContext:Wr,useCallback:function(e,r){return Nn().memoizedState=[e,r===void 0?null:r],e},useContext:Wr,useEffect:wg,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,wc(4194308,4,xg.bind(null,r,e),a)},useLayoutEffect:function(e,r){return wc(4194308,4,e,r)},useInsertionEffect:function(e,r){return wc(4,2,e,r)},useMemo:function(e,r){var a=Nn();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var f=Nn();return r=a!==void 0?a(r):r,f.memoizedState=f.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},f.queue=e,e=e.dispatch=cC.bind(null,Et,e),[f.memoizedState,e]},useRef:function(e){var r=Nn();return e={current:e},r.memoizedState=e},useState:yg,useDebugValue:Xd,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=yg(!1),r=e[0];return e=lC.bind(null,e[1]),Nn().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var f=Et,y=Nn();if(gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Kt===null)throw Error(s(349));(li&30)!==0||fg(f,r,a)}y.memoizedState=a;var E={value:a,getSnapshot:r};return y.queue=E,wg(pg.bind(null,f,E,e),[e]),f.flags|=2048,ya(9,hg.bind(null,f,E,a,r),void 0,null),a},useId:function(){var e=Nn(),r=Kt.identifierPrefix;if(gt){var a=Qn,f=Xn;a=(f&~(1<<32-Nr(f)-1)).toString(32)+a,r=":"+r+"R"+a,a=ma++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=aC++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},fC={readContext:Wr,useCallback:bg,useContext:Wr,useEffect:Yd,useImperativeHandle:Cg,useInsertionEffect:Eg,useLayoutEffect:Sg,useMemo:Tg,useReducer:Gd,useRef:vg,useState:function(){return Gd(ga)},useDebugValue:Xd,useDeferredValue:function(e){var r=Br();return _g(r,Ft.memoizedState,e)},useTransition:function(){var e=Gd(ga)[0],r=Br().memoizedState;return[e,r]},useMutableSource:ug,useSyncExternalStore:dg,useId:kg,unstable_isNewReconciler:!1},hC={readContext:Wr,useCallback:bg,useContext:Wr,useEffect:Yd,useImperativeHandle:Cg,useInsertionEffect:Eg,useLayoutEffect:Sg,useMemo:Tg,useReducer:Jd,useRef:vg,useState:function(){return Jd(ga)},useDebugValue:Xd,useDeferredValue:function(e){var r=Br();return Ft===null?r.memoizedState=e:_g(r,Ft.memoizedState,e)},useTransition:function(){var e=Jd(ga)[0],r=Br().memoizedState;return[e,r]},useMutableSource:ug,useSyncExternalStore:dg,useId:kg,unstable_isNewReconciler:!1};function hn(e,r){if(e&&e.defaultProps){r=le({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}function Qd(e,r,a,f){r=e.memoizedState,a=a(f,r),a=a==null?r:le({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xc={isMounted:function(e){return(e=e._reactInternals)?sn(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var f=hr(),y=Is(e),E=es(f,y);E.payload=r,a!=null&&(E.callback=a),r=_s(e,E,y),r!==null&&(gn(r,e,y,f),pc(r,e,y))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var f=hr(),y=Is(e),E=es(f,y);E.tag=1,E.payload=r,a!=null&&(E.callback=a),r=_s(e,E,y),r!==null&&(gn(r,e,y,f),pc(r,e,y))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=hr(),f=Is(e),y=es(a,f);y.tag=2,r!=null&&(y.callback=r),r=_s(e,y,f),r!==null&&(gn(r,e,f,a),pc(r,e,f))}};function Pg(e,r,a,f,y,E,P){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,E,P):r.prototype&&r.prototype.isPureReactComponent?!na(a,f)||!na(y,E):!0}function Ng(e,r,a){var f=!1,y=Cs,E=r.contextType;return typeof E=="object"&&E!==null?E=Wr(E):(y=br(r)?ni:nr.current,f=r.contextTypes,E=(f=f!=null)?oo(e,y):Cs),r=new r(a,E),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xc,e.stateNode=r,r._reactInternals=e,f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=E),r}function Og(e,r,a,f){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,f),r.state!==e&&xc.enqueueReplaceState(r,r.state,null)}function Zd(e,r,a,f){var y=e.stateNode;y.props=a,y.state=e.memoizedState,y.refs={},qd(e);var E=r.contextType;typeof E=="object"&&E!==null?y.context=Wr(E):(E=br(r)?ni:nr.current,y.context=oo(e,E)),y.state=e.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(Qd(e,r,E,a),y.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(r=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),r!==y.state&&xc.enqueueReplaceState(y,y.state,null),mc(e,a,y,f),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,r){try{var a="",f=r;do a+=Se(f),f=f.return;while(f);var y=a}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:e,source:r,stack:y,digest:null}}function ef(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function tf(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var pC=typeof WeakMap=="function"?WeakMap:Map;function jg(e,r,a){a=es(-1,a),a.tag=3,a.payload={element:null};var f=r.value;return a.callback=function(){Ac||(Ac=!0,yf=f),tf(e,r)},a}function Lg(e,r,a){a=es(-1,a),a.tag=3;var f=e.type.getDerivedStateFromError;if(typeof f=="function"){var y=r.value;a.payload=function(){return f(y)},a.callback=function(){tf(e,r)}}var E=e.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){tf(e,r),typeof f!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var P=r.stack;this.componentDidCatch(r.value,{componentStack:P!==null?P:""})}),a}function Dg(e,r,a){var f=e.pingCache;if(f===null){f=e.pingCache=new pC;var y=new Set;f.set(r,y)}else y=f.get(r),y===void 0&&(y=new Set,f.set(r,y));y.has(a)||(y.add(a),e=RC.bind(null,e,r,a),r.then(e,e))}function Mg(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Ug(e,r,a,f,y){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=es(-1,1),r.tag=2,_s(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=y,e)}var mC=_.ReactCurrentOwner,Tr=!1;function fr(e,r,a,f){r.child=e===null?sg(r,null,a,f):uo(r,e.child,a,f)}function qg(e,r,a,f,y){a=a.render;var E=r.ref;return ho(r,y),f=Kd(e,r,a,f,E,y),a=Vd(),e!==null&&!Tr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~y,ts(e,r,y)):(gt&&a&&Ad(r),r.flags|=1,fr(e,r,f,y),r.child)}function Fg(e,r,a,f,y){if(e===null){var E=a.type;return typeof E=="function"&&!bf(E)&&E.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=E,Hg(e,r,E,f,y)):(e=Lc(a.type,null,f,r,r.mode,y),e.ref=r.ref,e.return=r,r.child=e)}if(E=e.child,(e.lanes&y)===0){var P=E.memoizedProps;if(a=a.compare,a=a!==null?a:na,a(P,f)&&e.ref===r.ref)return ts(e,r,y)}return r.flags|=1,e=Ns(E,f),e.ref=r.ref,e.return=r,r.child=e}function Hg(e,r,a,f,y){if(e!==null){var E=e.memoizedProps;if(na(E,f)&&e.ref===r.ref)if(Tr=!1,r.pendingProps=f=E,(e.lanes&y)!==0)(e.flags&131072)!==0&&(Tr=!0);else return r.lanes=e.lanes,ts(e,r,y)}return rf(e,r,a,f,y)}function $g(e,r,a){var f=r.pendingProps,y=f.children,E=e!==null?e.memoizedState:null;if(f.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(yo,Dr),Dr|=a;else{if((a&1073741824)===0)return e=E!==null?E.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,ut(yo,Dr),Dr|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:a,ut(yo,Dr),Dr|=f}else E!==null?(f=E.baseLanes|a,r.memoizedState=null):f=a,ut(yo,Dr),Dr|=f;return fr(e,r,y,a),r.child}function zg(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function rf(e,r,a,f,y){var E=br(a)?ni:nr.current;return E=oo(r,E),ho(r,y),a=Kd(e,r,a,f,E,y),f=Vd(),e!==null&&!Tr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~y,ts(e,r,y)):(gt&&f&&Ad(r),r.flags|=1,fr(e,r,a,y),r.child)}function Wg(e,r,a,f,y){if(br(a)){var E=!0;oc(r)}else E=!1;if(ho(r,y),r.stateNode===null)bc(e,r),Ng(r,a,f),Zd(r,a,f,y),f=!0;else if(e===null){var P=r.stateNode,q=r.memoizedProps;P.props=q;var B=P.context,ie=a.contextType;typeof ie=="object"&&ie!==null?ie=Wr(ie):(ie=br(a)?ni:nr.current,ie=oo(r,ie));var he=a.getDerivedStateFromProps,pe=typeof he=="function"||typeof P.getSnapshotBeforeUpdate=="function";pe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==f||B!==ie)&&Og(r,P,f,ie),Ts=!1;var fe=r.memoizedState;P.state=fe,mc(r,f,P,y),B=r.memoizedState,q!==f||fe!==B||Cr.current||Ts?(typeof he=="function"&&(Qd(r,a,he,f),B=r.memoizedState),(q=Ts||Pg(r,a,q,f,fe,B,ie))?(pe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(r.flags|=4194308)):(typeof P.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=B),P.props=f,P.state=B,P.context=ie,f=q):(typeof P.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{P=r.stateNode,og(e,r),q=r.memoizedProps,ie=r.type===r.elementType?q:hn(r.type,q),P.props=ie,pe=r.pendingProps,fe=P.context,B=a.contextType,typeof B=="object"&&B!==null?B=Wr(B):(B=br(a)?ni:nr.current,B=oo(r,B));var Te=a.getDerivedStateFromProps;(he=typeof Te=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==pe||fe!==B)&&Og(r,P,f,B),Ts=!1,fe=r.memoizedState,P.state=fe,mc(r,f,P,y);var Ae=r.memoizedState;q!==pe||fe!==Ae||Cr.current||Ts?(typeof Te=="function"&&(Qd(r,a,Te,f),Ae=r.memoizedState),(ie=Ts||Pg(r,a,ie,f,fe,Ae,B)||!1)?(he||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(f,Ae,B),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(f,Ae,B)),typeof P.componentDidUpdate=="function"&&(r.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof P.componentDidUpdate!="function"||q===e.memoizedProps&&fe===e.memoizedState||(r.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&fe===e.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=Ae),P.props=f,P.state=Ae,P.context=B,f=ie):(typeof P.componentDidUpdate!="function"||q===e.memoizedProps&&fe===e.memoizedState||(r.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&fe===e.memoizedState||(r.flags|=1024),f=!1)}return nf(e,r,a,f,E,y)}function nf(e,r,a,f,y,E){zg(e,r);var P=(r.flags&128)!==0;if(!f&&!P)return y&&Jm(r,a,!1),ts(e,r,E);f=r.stateNode,mC.current=r;var q=P&&typeof a.getDerivedStateFromError!="function"?null:f.render();return r.flags|=1,e!==null&&P?(r.child=uo(r,e.child,null,E),r.child=uo(r,null,q,E)):fr(e,r,q,E),r.memoizedState=f.state,y&&Jm(r,a,!0),r.child}function Bg(e){var r=e.stateNode;r.pendingContext?Vm(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Vm(e,r.context,!1),Fd(e,r.containerInfo)}function Kg(e,r,a,f,y){return co(),Od(y),r.flags|=256,fr(e,r,a,f),r.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vg(e,r,a){var f=r.pendingProps,y=wt.current,E=!1,P=(r.flags&128)!==0,q;if((q=P)||(q=e!==null&&e.memoizedState===null?!1:(y&2)!==0),q?(E=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),ut(wt,y&1),e===null)return Nd(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(P=f.children,e=f.fallback,E?(f=r.mode,E=r.child,P={mode:"hidden",children:P},(f&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=P):E=Dc(P,f,0,null),e=hi(e,f,a,null),E.return=r,e.return=r,E.sibling=e,r.child=E,r.child.memoizedState=of(a),r.memoizedState=sf,e):af(r,P));if(y=e.memoizedState,y!==null&&(q=y.dehydrated,q!==null))return gC(e,r,P,f,q,y,a);if(E){E=f.fallback,P=r.mode,y=e.child,q=y.sibling;var B={mode:"hidden",children:f.children};return(P&1)===0&&r.child!==y?(f=r.child,f.childLanes=0,f.pendingProps=B,r.deletions=null):(f=Ns(y,B),f.subtreeFlags=y.subtreeFlags&14680064),q!==null?E=Ns(q,E):(E=hi(E,P,a,null),E.flags|=2),E.return=r,f.return=r,f.sibling=E,r.child=f,f=E,E=r.child,P=e.child.memoizedState,P=P===null?of(a):{baseLanes:P.baseLanes|a,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=e.childLanes&~a,r.memoizedState=sf,f}return E=e.child,e=E.sibling,f=Ns(E,{mode:"visible",children:f.children}),(r.mode&1)===0&&(f.lanes=a),f.return=r,f.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=f,r.memoizedState=null,f}function af(e,r){return r=Dc({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Cc(e,r,a,f){return f!==null&&Od(f),uo(r,e.child,null,a),e=af(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function gC(e,r,a,f,y,E,P){if(a)return r.flags&256?(r.flags&=-257,f=ef(Error(s(422))),Cc(e,r,P,f)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(E=f.fallback,y=r.mode,f=Dc({mode:"visible",children:f.children},y,0,null),E=hi(E,y,P,null),E.flags|=2,f.return=r,E.return=r,f.sibling=E,r.child=f,(r.mode&1)!==0&&uo(r,e.child,null,P),r.child.memoizedState=of(P),r.memoizedState=sf,E);if((r.mode&1)===0)return Cc(e,r,P,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var q=f.dgst;return f=q,E=Error(s(419)),f=ef(E,f,void 0),Cc(e,r,P,f)}if(q=(P&e.childLanes)!==0,Tr||q){if(f=Kt,f!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|P))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,Zn(e,y),gn(f,e,y,-1))}return Cf(),f=ef(Error(s(421))),Cc(e,r,P,f)}return y.data==="$?"?(r.flags|=128,r.child=e.child,r=AC.bind(null,e),y._reactRetry=r,null):(e=E.treeContext,Lr=Ss(y.nextSibling),jr=r,gt=!0,fn=null,e!==null&&($r[zr++]=Xn,$r[zr++]=Qn,$r[zr++]=si,Xn=e.id,Qn=e.overflow,si=r),r=af(r,f.children),r.flags|=4096,r)}function Gg(e,r,a){e.lanes|=r;var f=e.alternate;f!==null&&(f.lanes|=r),Md(e.return,r,a)}function lf(e,r,a,f,y){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=a,E.tailMode=y)}function Jg(e,r,a){var f=r.pendingProps,y=f.revealOrder,E=f.tail;if(fr(e,r,f.children,a),f=wt.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,a,r);else if(e.tag===19)Gg(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}f&=1}if(ut(wt,f),(r.mode&1)===0)r.memoizedState=null;else switch(y){case"forwards":for(a=r.child,y=null;a!==null;)e=a.alternate,e!==null&&gc(e)===null&&(y=a),a=a.sibling;a=y,a===null?(y=r.child,r.child=null):(y=a.sibling,a.sibling=null),lf(r,!1,y,a,E);break;case"backwards":for(a=null,y=r.child,r.child=null;y!==null;){if(e=y.alternate,e!==null&&gc(e)===null){r.child=y;break}e=y.sibling,y.sibling=a,a=y,y=e}lf(r,!0,a,null,E);break;case"together":lf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function bc(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function ts(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),ci|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Ns(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Ns(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function yC(e,r,a){switch(r.tag){case 3:Bg(r),co();break;case 5:cg(r);break;case 1:br(r.type)&&oc(r);break;case 4:Fd(r,r.stateNode.containerInfo);break;case 10:var f=r.type._context,y=r.memoizedProps.value;ut(fc,f._currentValue),f._currentValue=y;break;case 13:if(f=r.memoizedState,f!==null)return f.dehydrated!==null?(ut(wt,wt.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Vg(e,r,a):(ut(wt,wt.current&1),e=ts(e,r,a),e!==null?e.sibling:null);ut(wt,wt.current&1);break;case 19:if(f=(a&r.childLanes)!==0,(e.flags&128)!==0){if(f)return Jg(e,r,a);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ut(wt,wt.current),f)break;return null;case 22:case 23:return r.lanes=0,$g(e,r,a)}return ts(e,r,a)}var Yg,cf,Xg,Qg;Yg=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},cf=function(){},Xg=function(e,r,a,f){var y=e.memoizedProps;if(y!==f){e=r.stateNode,ai(Pn.current);var E=null;switch(a){case"input":y=Fe(e,y),f=Fe(e,f),E=[];break;case"select":y=le({},y,{value:void 0}),f=le({},f,{value:void 0}),E=[];break;case"textarea":y=Ut(e,y),f=Ut(e,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(e.onclick=nc)}en(a,f);var P;a=null;for(ie in y)if(!f.hasOwnProperty(ie)&&y.hasOwnProperty(ie)&&y[ie]!=null)if(ie==="style"){var q=y[ie];for(P in q)q.hasOwnProperty(P)&&(a||(a={}),a[P]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(l.hasOwnProperty(ie)?E||(E=[]):(E=E||[]).push(ie,null));for(ie in f){var B=f[ie];if(q=y?.[ie],f.hasOwnProperty(ie)&&B!==q&&(B!=null||q!=null))if(ie==="style")if(q){for(P in q)!q.hasOwnProperty(P)||B&&B.hasOwnProperty(P)||(a||(a={}),a[P]="");for(P in B)B.hasOwnProperty(P)&&q[P]!==B[P]&&(a||(a={}),a[P]=B[P])}else a||(E||(E=[]),E.push(ie,a)),a=B;else ie==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,q=q?q.__html:void 0,B!=null&&q!==B&&(E=E||[]).push(ie,B)):ie==="children"?typeof B!="string"&&typeof B!="number"||(E=E||[]).push(ie,""+B):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(l.hasOwnProperty(ie)?(B!=null&&ie==="onScroll"&&ft("scroll",e),E||q===B||(E=[])):(E=E||[]).push(ie,B))}a&&(E=E||[]).push("style",a);var ie=E;(r.updateQueue=ie)&&(r.flags|=4)}},Qg=function(e,r,a,f){a!==f&&(r.flags|=4)};function va(e,r){if(!gt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function ir(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,f=0;if(r)for(var y=e.child;y!==null;)a|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)a|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=f,e.childLanes=a,r}function vC(e,r,a){var f=r.pendingProps;switch(Id(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(r),null;case 1:return br(r.type)&&ic(),ir(r),null;case 3:return f=r.stateNode,po(),ht(Cr),ht(nr),zd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(e===null||e.child===null)&&(uc(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fn!==null&&(Ef(fn),fn=null))),cf(e,r),ir(r),null;case 5:Hd(r);var y=ai(ha.current);if(a=r.type,e!==null&&r.stateNode!=null)Xg(e,r,a,f,y),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!f){if(r.stateNode===null)throw Error(s(166));return ir(r),null}if(e=ai(Pn.current),uc(r)){f=r.stateNode,a=r.type;var E=r.memoizedProps;switch(f[In]=r,f[la]=E,e=(r.mode&1)!==0,a){case"dialog":ft("cancel",f),ft("close",f);break;case"iframe":case"object":case"embed":ft("load",f);break;case"video":case"audio":for(y=0;y<ia.length;y++)ft(ia[y],f);break;case"source":ft("error",f);break;case"img":case"image":case"link":ft("error",f),ft("load",f);break;case"details":ft("toggle",f);break;case"input":xt(f,E),ft("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},ft("invalid",f);break;case"textarea":Ur(f,E),ft("invalid",f)}en(a,E),y=null;for(var P in E)if(E.hasOwnProperty(P)){var q=E[P];P==="children"?typeof q=="string"?f.textContent!==q&&(E.suppressHydrationWarning!==!0&&rc(f.textContent,q,e),y=["children",q]):typeof q=="number"&&f.textContent!==""+q&&(E.suppressHydrationWarning!==!0&&rc(f.textContent,q,e),y=["children",""+q]):l.hasOwnProperty(P)&&q!=null&&P==="onScroll"&&ft("scroll",f)}switch(a){case"input":Xt(f),Bs(f,E,!0);break;case"textarea":Xt(f),Fo(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=nc)}f=y,r.updateQueue=f,f!==null&&(r.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ne(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=P.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof f.is=="string"?e=P.createElement(a,{is:f.is}):(e=P.createElement(a),a==="select"&&(P=e,f.multiple?P.multiple=!0:f.size&&(P.size=f.size))):e=P.createElementNS(e,a),e[In]=r,e[la]=f,Yg(e,r,!1,!1),r.stateNode=e;e:{switch(P=hs(a,f),a){case"dialog":ft("cancel",e),ft("close",e),y=f;break;case"iframe":case"object":case"embed":ft("load",e),y=f;break;case"video":case"audio":for(y=0;y<ia.length;y++)ft(ia[y],e);y=f;break;case"source":ft("error",e),y=f;break;case"img":case"image":case"link":ft("error",e),ft("load",e),y=f;break;case"details":ft("toggle",e),y=f;break;case"input":xt(e,f),y=Fe(e,f),ft("invalid",e);break;case"option":y=f;break;case"select":e._wrapperState={wasMultiple:!!f.multiple},y=le({},f,{value:void 0}),ft("invalid",e);break;case"textarea":Ur(e,f),y=Ut(e,f),ft("invalid",e);break;default:y=f}en(a,y),q=y;for(E in q)if(q.hasOwnProperty(E)){var B=q[E];E==="style"?Ui(e,B):E==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Fn(e,B)):E==="children"?typeof B=="string"?(a!=="textarea"||B!=="")&&Er(e,B):typeof B=="number"&&Er(e,""+B):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(l.hasOwnProperty(E)?B!=null&&E==="onScroll"&&ft("scroll",e):B!=null&&S(e,E,B,P))}switch(a){case"input":Xt(e),Bs(e,f,!1);break;case"textarea":Xt(e),Fo(e);break;case"option":f.value!=null&&e.setAttribute("value",""+Oe(f.value));break;case"select":e.multiple=!!f.multiple,E=f.value,E!=null?En(e,!!f.multiple,E,!1):f.defaultValue!=null&&En(e,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=nc)}switch(a){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ir(r),null;case 6:if(e&&r.stateNode!=null)Qg(e,r,e.memoizedProps,f);else{if(typeof f!="string"&&r.stateNode===null)throw Error(s(166));if(a=ai(ha.current),ai(Pn.current),uc(r)){if(f=r.stateNode,a=r.memoizedProps,f[In]=r,(E=f.nodeValue!==a)&&(e=jr,e!==null))switch(e.tag){case 3:rc(f.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rc(f.nodeValue,a,(e.mode&1)!==0)}E&&(r.flags|=4)}else f=(a.nodeType===9?a:a.ownerDocument).createTextNode(f),f[In]=r,r.stateNode=f}return ir(r),null;case 13:if(ht(wt),f=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Lr!==null&&(r.mode&1)!==0&&(r.flags&128)===0)tg(),co(),r.flags|=98560,E=!1;else if(E=uc(r),f!==null&&f.dehydrated!==null){if(e===null){if(!E)throw Error(s(318));if(E=r.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(s(317));E[In]=r}else co(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ir(r),E=!1}else fn!==null&&(Ef(fn),fn=null),E=!0;if(!E)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(f=f!==null,f!==(e!==null&&e.memoizedState!==null)&&f&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(wt.current&1)!==0?Ht===0&&(Ht=3):Cf())),r.updateQueue!==null&&(r.flags|=4),ir(r),null);case 4:return po(),cf(e,r),e===null&&oa(r.stateNode.containerInfo),ir(r),null;case 10:return Dd(r.type._context),ir(r),null;case 17:return br(r.type)&&ic(),ir(r),null;case 19:if(ht(wt),E=r.memoizedState,E===null)return ir(r),null;if(f=(r.flags&128)!==0,P=E.rendering,P===null)if(f)va(E,!1);else{if(Ht!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(P=gc(e),P!==null){for(r.flags|=128,va(E,!1),f=P.updateQueue,f!==null&&(r.updateQueue=f,r.flags|=4),r.subtreeFlags=0,f=a,a=r.child;a!==null;)E=a,e=f,E.flags&=14680066,P=E.alternate,P===null?(E.childLanes=0,E.lanes=e,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,e=P.dependencies,E.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ut(wt,wt.current&1|2),r.child}e=e.sibling}E.tail!==null&&vt()>vo&&(r.flags|=128,f=!0,va(E,!1),r.lanes=4194304)}else{if(!f)if(e=gc(P),e!==null){if(r.flags|=128,f=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),va(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!gt)return ir(r),null}else 2*vt()-E.renderingStartTime>vo&&a!==1073741824&&(r.flags|=128,f=!0,va(E,!1),r.lanes=4194304);E.isBackwards?(P.sibling=r.child,r.child=P):(a=E.last,a!==null?a.sibling=P:r.child=P,E.last=P)}return E.tail!==null?(r=E.tail,E.rendering=r,E.tail=r.sibling,E.renderingStartTime=vt(),r.sibling=null,a=wt.current,ut(wt,f?a&1|2:a&1),r):(ir(r),null);case 22:case 23:return xf(),f=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==f&&(r.flags|=8192),f&&(r.mode&1)!==0?(Dr&1073741824)!==0&&(ir(r),r.subtreeFlags&6&&(r.flags|=8192)):ir(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function wC(e,r){switch(Id(r),r.tag){case 1:return br(r.type)&&ic(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return po(),ht(Cr),ht(nr),zd(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Hd(r),null;case 13:if(ht(wt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));co()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ht(wt),null;case 4:return po(),null;case 10:return Dd(r.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Tc=!1,or=!1,EC=typeof WeakSet=="function"?WeakSet:Set,ke=null;function go(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(f){bt(e,r,f)}else a.current=null}function uf(e,r,a){try{a()}catch(f){bt(e,r,f)}}var Zg=!1;function SC(e,r){if(Sd=Bn,e=Pm(),hd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{a.nodeType,E.nodeType}catch{a=null;break e}var P=0,q=-1,B=-1,ie=0,he=0,pe=e,fe=null;t:for(;;){for(var Te;pe!==a||y!==0&&pe.nodeType!==3||(q=P+y),pe!==E||f!==0&&pe.nodeType!==3||(B=P+f),pe.nodeType===3&&(P+=pe.nodeValue.length),(Te=pe.firstChild)!==null;)fe=pe,pe=Te;for(;;){if(pe===e)break t;if(fe===a&&++ie===y&&(q=P),fe===E&&++he===f&&(B=P),(Te=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=Te}a=q===-1||B===-1?null:{start:q,end:B}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:e,selectionRange:a},Bn=!1,ke=r;ke!==null;)if(r=ke,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ke=e;else for(;ke!==null;){r=ke;try{var Ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ne=Ae.memoizedProps,It=Ae.memoizedState,ee=r.stateNode,V=ee.getSnapshotBeforeUpdate(r.elementType===r.type?Ne:hn(r.type,Ne),It);ee.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var te=r.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ye){bt(r,r.return,ye)}if(e=r.sibling,e!==null){e.return=r.return,ke=e;break}ke=r.return}return Ae=Zg,Zg=!1,Ae}function wa(e,r,a){var f=r.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&e)===e){var E=y.destroy;y.destroy=void 0,E!==void 0&&uf(r,a,E)}y=y.next}while(y!==f)}}function _c(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var f=a.create;a.destroy=f()}a=a.next}while(a!==r)}}function df(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function ey(e){var r=e.alternate;r!==null&&(e.alternate=null,ey(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[In],delete r[la],delete r[_d],delete r[nC],delete r[sC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ty(e){return e.tag===5||e.tag===3||e.tag===4}function ry(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ff(e,r,a){var f=e.tag;if(f===5||f===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=nc));else if(f!==4&&(e=e.child,e!==null))for(ff(e,r,a),e=e.sibling;e!==null;)ff(e,r,a),e=e.sibling}function hf(e,r,a){var f=e.tag;if(f===5||f===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(f!==4&&(e=e.child,e!==null))for(hf(e,r,a),e=e.sibling;e!==null;)hf(e,r,a),e=e.sibling}var Qt=null,pn=!1;function ks(e,r,a){for(a=a.child;a!==null;)ny(e,r,a),a=a.sibling}function ny(e,r,a){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Ys,a)}catch{}switch(a.tag){case 5:or||go(a,r);case 6:var f=Qt,y=pn;Qt=null,ks(e,r,a),Qt=f,pn=y,Qt!==null&&(pn?(e=Qt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Qt.removeChild(a.stateNode));break;case 18:Qt!==null&&(pn?(e=Qt,a=a.stateNode,e.nodeType===8?Td(e.parentNode,a):e.nodeType===1&&Td(e,a),er(e)):Td(Qt,a.stateNode));break;case 4:f=Qt,y=pn,Qt=a.stateNode.containerInfo,pn=!0,ks(e,r,a),Qt=f,pn=y;break;case 0:case 11:case 14:case 15:if(!or&&(f=a.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,P=E.destroy;E=E.tag,P!==void 0&&((E&2)!==0||(E&4)!==0)&&uf(a,r,P),y=y.next}while(y!==f)}ks(e,r,a);break;case 1:if(!or&&(go(a,r),f=a.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=a.memoizedProps,f.state=a.memoizedState,f.componentWillUnmount()}catch(q){bt(a,r,q)}ks(e,r,a);break;case 21:ks(e,r,a);break;case 22:a.mode&1?(or=(f=or)||a.memoizedState!==null,ks(e,r,a),or=f):ks(e,r,a);break;default:ks(e,r,a)}}function sy(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new EC),r.forEach(function(f){var y=IC.bind(null,e,f);a.has(f)||(a.add(f),f.then(y,y))})}}function mn(e,r){var a=r.deletions;if(a!==null)for(var f=0;f<a.length;f++){var y=a[f];try{var E=e,P=r,q=P;e:for(;q!==null;){switch(q.tag){case 5:Qt=q.stateNode,pn=!1;break e;case 3:Qt=q.stateNode.containerInfo,pn=!0;break e;case 4:Qt=q.stateNode.containerInfo,pn=!0;break e}q=q.return}if(Qt===null)throw Error(s(160));ny(E,P,y),Qt=null,pn=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(ie){bt(y,r,ie)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)iy(r,e),r=r.sibling}function iy(e,r){var a=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(r,e),On(e),f&4){try{wa(3,e,e.return),_c(3,e)}catch(Ne){bt(e,e.return,Ne)}try{wa(5,e,e.return)}catch(Ne){bt(e,e.return,Ne)}}break;case 1:mn(r,e),On(e),f&512&&a!==null&&go(a,a.return);break;case 5:if(mn(r,e),On(e),f&512&&a!==null&&go(a,a.return),e.flags&32){var y=e.stateNode;try{Er(y,"")}catch(Ne){bt(e,e.return,Ne)}}if(f&4&&(y=e.stateNode,y!=null)){var E=e.memoizedProps,P=a!==null?a.memoizedProps:E,q=e.type,B=e.updateQueue;if(e.updateQueue=null,B!==null)try{q==="input"&&E.type==="radio"&&E.name!=null&&jt(y,E),hs(q,P);var ie=hs(q,E);for(P=0;P<B.length;P+=2){var he=B[P],pe=B[P+1];he==="style"?Ui(y,pe):he==="dangerouslySetInnerHTML"?Fn(y,pe):he==="children"?Er(y,pe):S(y,he,pe,ie)}switch(q){case"input":_t(y,E);break;case"textarea":Mi(y,E);break;case"select":var fe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?En(y,!!E.multiple,Te,!1):fe!==!!E.multiple&&(E.defaultValue!=null?En(y,!!E.multiple,E.defaultValue,!0):En(y,!!E.multiple,E.multiple?[]:"",!1))}y[la]=E}catch(Ne){bt(e,e.return,Ne)}}break;case 6:if(mn(r,e),On(e),f&4){if(e.stateNode===null)throw Error(s(162));y=e.stateNode,E=e.memoizedProps;try{y.nodeValue=E}catch(Ne){bt(e,e.return,Ne)}}break;case 3:if(mn(r,e),On(e),f&4&&a!==null&&a.memoizedState.isDehydrated)try{er(r.containerInfo)}catch(Ne){bt(e,e.return,Ne)}break;case 4:mn(r,e),On(e);break;case 13:mn(r,e),On(e),y=e.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(gf=vt())),f&4&&sy(e);break;case 22:if(he=a!==null&&a.memoizedState!==null,e.mode&1?(or=(ie=or)||he,mn(r,e),or=ie):mn(r,e),On(e),f&8192){if(ie=e.memoizedState!==null,(e.stateNode.isHidden=ie)&&!he&&(e.mode&1)!==0)for(ke=e,he=e.child;he!==null;){for(pe=ke=he;ke!==null;){switch(fe=ke,Te=fe.child,fe.tag){case 0:case 11:case 14:case 15:wa(4,fe,fe.return);break;case 1:go(fe,fe.return);var Ae=fe.stateNode;if(typeof Ae.componentWillUnmount=="function"){f=fe,a=fe.return;try{r=f,Ae.props=r.memoizedProps,Ae.state=r.memoizedState,Ae.componentWillUnmount()}catch(Ne){bt(f,a,Ne)}}break;case 5:go(fe,fe.return);break;case 22:if(fe.memoizedState!==null){ly(pe);continue}}Te!==null?(Te.return=fe,ke=Te):ly(pe)}he=he.sibling}e:for(he=null,pe=e;;){if(pe.tag===5){if(he===null){he=pe;try{y=pe.stateNode,ie?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(q=pe.stateNode,B=pe.memoizedProps.style,P=B!=null&&B.hasOwnProperty("display")?B.display:null,q.style.display=Ks("display",P))}catch(Ne){bt(e,e.return,Ne)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Ne){bt(e,e.return,Ne)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===e)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===e)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===e)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:mn(r,e),On(e),f&4&&sy(e);break;case 21:break;default:mn(r,e),On(e)}}function On(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if(ty(a)){var f=a;break e}a=a.return}throw Error(s(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Er(y,""),f.flags&=-33);var E=ry(e);hf(e,E,y);break;case 3:case 4:var P=f.stateNode.containerInfo,q=ry(e);ff(e,q,P);break;default:throw Error(s(161))}}catch(B){bt(e,e.return,B)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function xC(e,r,a){ke=e,oy(e)}function oy(e,r,a){for(var f=(e.mode&1)!==0;ke!==null;){var y=ke,E=y.child;if(y.tag===22&&f){var P=y.memoizedState!==null||Tc;if(!P){var q=y.alternate,B=q!==null&&q.memoizedState!==null||or;q=Tc;var ie=or;if(Tc=P,(or=B)&&!ie)for(ke=y;ke!==null;)P=ke,B=P.child,P.tag===22&&P.memoizedState!==null?cy(y):B!==null?(B.return=P,ke=B):cy(y);for(;E!==null;)ke=E,oy(E),E=E.sibling;ke=y,Tc=q,or=ie}ay(e)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,ke=E):ay(e)}}function ay(e){for(;ke!==null;){var r=ke;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:or||_c(5,r);break;case 1:var f=r.stateNode;if(r.flags&4&&!or)if(a===null)f.componentDidMount();else{var y=r.elementType===r.type?a.memoizedProps:hn(r.type,a.memoizedProps);f.componentDidUpdate(y,a.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=r.updateQueue;E!==null&&lg(r,E,f);break;case 3:var P=r.updateQueue;if(P!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}lg(r,P,a)}break;case 5:var q=r.stateNode;if(a===null&&r.flags&4){a=q;var B=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&a.focus();break;case"img":B.src&&(a.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var ie=r.alternate;if(ie!==null){var he=ie.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&er(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}or||r.flags&512&&df(r)}catch(fe){bt(r,r.return,fe)}}if(r===e){ke=null;break}if(a=r.sibling,a!==null){a.return=r.return,ke=a;break}ke=r.return}}function ly(e){for(;ke!==null;){var r=ke;if(r===e){ke=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ke=a;break}ke=r.return}}function cy(e){for(;ke!==null;){var r=ke;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{_c(4,r)}catch(B){bt(r,a,B)}break;case 1:var f=r.stateNode;if(typeof f.componentDidMount=="function"){var y=r.return;try{f.componentDidMount()}catch(B){bt(r,y,B)}}var E=r.return;try{df(r)}catch(B){bt(r,E,B)}break;case 5:var P=r.return;try{df(r)}catch(B){bt(r,P,B)}}}catch(B){bt(r,r.return,B)}if(r===e){ke=null;break}var q=r.sibling;if(q!==null){q.return=r.return,ke=q;break}ke=r.return}}var CC=Math.ceil,kc=_.ReactCurrentDispatcher,pf=_.ReactCurrentOwner,Kr=_.ReactCurrentBatchConfig,rt=0,Kt=null,Dt=null,Zt=0,Dr=0,yo=xs(0),Ht=0,Ea=null,ci=0,Rc=0,mf=0,Sa=null,_r=null,gf=0,vo=1/0,rs=null,Ac=!1,yf=null,Rs=null,Ic=!1,As=null,Pc=0,xa=0,vf=null,Nc=-1,Oc=0;function hr(){return(rt&6)!==0?vt():Nc!==-1?Nc:Nc=vt()}function Is(e){return(e.mode&1)===0?1:(rt&2)!==0&&Zt!==0?Zt&-Zt:oC.transition!==null?(Oc===0&&(Oc=Wo()),Oc):(e=ot,e!==0||(e=window.event,e=e===void 0?16:Kl(e.type)),e)}function gn(e,r,a,f){if(50<xa)throw xa=0,vf=null,Error(s(185));Qs(e,a,f),((rt&2)===0||e!==Kt)&&(e===Kt&&((rt&2)===0&&(Rc|=a),Ht===4&&Ps(e,Zt)),kr(e,f),a===1&&rt===0&&(r.mode&1)===0&&(vo=vt()+500,ac&&bs()))}function kr(e,r){var a=e.callbackNode;Fl(e,r);var f=Wi(e,e===Kt?Zt:0);if(f===0)a!==null&&Ll(a),e.callbackNode=null,e.callbackPriority=0;else if(r=f&-f,e.callbackPriority!==r){if(a!=null&&Ll(a),r===1)e.tag===0?iC(dy.bind(null,e)):Ym(dy.bind(null,e)),tC(function(){(rt&6)===0&&bs()}),a=null;else{switch($l(f)){case 1:a=gs;break;case 4:a=Sr;break;case 16:a=ys;break;case 536870912:a=Hn;break;default:a=ys}a=wy(a,uy.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function uy(e,r){if(Nc=-1,Oc=0,(rt&6)!==0)throw Error(s(327));var a=e.callbackNode;if(wo()&&e.callbackNode!==a)return null;var f=Wi(e,e===Kt?Zt:0);if(f===0)return null;if((f&30)!==0||(f&e.expiredLanes)!==0||r)r=jc(e,f);else{r=f;var y=rt;rt|=2;var E=hy();(Kt!==e||Zt!==r)&&(rs=null,vo=vt()+500,di(e,r));do try{_C();break}catch(q){fy(e,q)}while(!0);Ld(),kc.current=E,rt=y,Dt!==null?r=0:(Kt=null,Zt=0,r=Ht)}if(r!==0){if(r===2&&(y=on(e),y!==0&&(f=y,r=wf(e,y))),r===1)throw a=Ea,di(e,0),Ps(e,f),kr(e,vt()),a;if(r===6)Ps(e,f);else{if(y=e.current.alternate,(f&30)===0&&!bC(y)&&(r=jc(e,f),r===2&&(E=on(e),E!==0&&(f=E,r=wf(e,E))),r===1))throw a=Ea,di(e,0),Ps(e,f),kr(e,vt()),a;switch(e.finishedWork=y,e.finishedLanes=f,r){case 0:case 1:throw Error(s(345));case 2:fi(e,_r,rs);break;case 3:if(Ps(e,f),(f&130023424)===f&&(r=gf+500-vt(),10<r)){if(Wi(e,0)!==0)break;if(y=e.suspendedLanes,(y&f)!==f){hr(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=bd(fi.bind(null,e,_r,rs),r);break}fi(e,_r,rs);break;case 4:if(Ps(e,f),(f&4194240)===f)break;for(r=e.eventTimes,y=-1;0<f;){var P=31-Nr(f);E=1<<P,P=r[P],P>y&&(y=P),f&=~E}if(f=y,f=vt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*CC(f/1960))-f,10<f){e.timeoutHandle=bd(fi.bind(null,e,_r,rs),f);break}fi(e,_r,rs);break;case 5:fi(e,_r,rs);break;default:throw Error(s(329))}}}return kr(e,vt()),e.callbackNode===a?uy.bind(null,e):null}function wf(e,r){var a=Sa;return e.current.memoizedState.isDehydrated&&(di(e,r).flags|=256),e=jc(e,r),e!==2&&(r=_r,_r=a,r!==null&&Ef(r)),e}function Ef(e){_r===null?_r=e:_r.push.apply(_r,e)}function bC(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var f=0;f<a.length;f++){var y=a[f],E=y.getSnapshot;y=y.value;try{if(!dn(E(),y))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ps(e,r){for(r&=~mf,r&=~Rc,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-Nr(r),f=1<<a;e[a]=-1,r&=~f}}function dy(e){if((rt&6)!==0)throw Error(s(327));wo();var r=Wi(e,0);if((r&1)===0)return kr(e,vt()),null;var a=jc(e,r);if(e.tag!==0&&a===2){var f=on(e);f!==0&&(r=f,a=wf(e,f))}if(a===1)throw a=Ea,di(e,0),Ps(e,r),kr(e,vt()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,fi(e,_r,rs),kr(e,vt()),null}function Sf(e,r){var a=rt;rt|=1;try{return e(r)}finally{rt=a,rt===0&&(vo=vt()+500,ac&&bs())}}function ui(e){As!==null&&As.tag===0&&(rt&6)===0&&wo();var r=rt;rt|=1;var a=Kr.transition,f=ot;try{if(Kr.transition=null,ot=1,e)return e()}finally{ot=f,Kr.transition=a,rt=r,(rt&6)===0&&bs()}}function xf(){Dr=yo.current,ht(yo)}function di(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,eC(a)),Dt!==null)for(a=Dt.return;a!==null;){var f=a;switch(Id(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ic();break;case 3:po(),ht(Cr),ht(nr),zd();break;case 5:Hd(f);break;case 4:po();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:Dd(f.type._context);break;case 22:case 23:xf()}a=a.return}if(Kt=e,Dt=e=Ns(e.current,null),Zt=Dr=r,Ht=0,Ea=null,mf=Rc=ci=0,_r=Sa=null,oi!==null){for(r=0;r<oi.length;r++)if(a=oi[r],f=a.interleaved,f!==null){a.interleaved=null;var y=f.next,E=a.pending;if(E!==null){var P=E.next;E.next=y,f.next=P}a.pending=f}oi=null}return e}function fy(e,r){do{var a=Dt;try{if(Ld(),yc.current=Sc,vc){for(var f=Et.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}vc=!1}if(li=0,Bt=Ft=Et=null,pa=!1,ma=0,pf.current=null,a===null||a.return===null){Ht=1,Ea=r,Dt=null;break}e:{var E=e,P=a.return,q=a,B=r;if(r=Zt,q.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=B,he=q,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var Te=Mg(P);if(Te!==null){Te.flags&=-257,Ug(Te,P,q,E,r),Te.mode&1&&Dg(E,ie,r),r=Te,B=ie;var Ae=r.updateQueue;if(Ae===null){var Ne=new Set;Ne.add(B),r.updateQueue=Ne}else Ae.add(B);break e}else{if((r&1)===0){Dg(E,ie,r),Cf();break e}B=Error(s(426))}}else if(gt&&q.mode&1){var It=Mg(P);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),Ug(It,P,q,E,r),Od(mo(B,q));break e}}E=B=mo(B,q),Ht!==4&&(Ht=2),Sa===null?Sa=[E]:Sa.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,r&=-r,E.lanes|=r;var ee=jg(E,B,r);ag(E,ee);break e;case 1:q=B;var V=E.type,te=E.stateNode;if((E.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Rs===null||!Rs.has(te)))){E.flags|=65536,r&=-r,E.lanes|=r;var ye=Lg(E,q,r);ag(E,ye);break e}}E=E.return}while(E!==null)}my(a)}catch(Le){r=Le,Dt===a&&a!==null&&(Dt=a=a.return);continue}break}while(!0)}function hy(){var e=kc.current;return kc.current=Sc,e===null?Sc:e}function Cf(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Kt===null||(ci&268435455)===0&&(Rc&268435455)===0||Ps(Kt,Zt)}function jc(e,r){var a=rt;rt|=2;var f=hy();(Kt!==e||Zt!==r)&&(rs=null,di(e,r));do try{TC();break}catch(y){fy(e,y)}while(!0);if(Ld(),rt=a,kc.current=f,Dt!==null)throw Error(s(261));return Kt=null,Zt=0,Ht}function TC(){for(;Dt!==null;)py(Dt)}function _C(){for(;Dt!==null&&!sd();)py(Dt)}function py(e){var r=vy(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,r===null?my(e):Dt=r,pf.current=null}function my(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=vC(a,r,Dr),a!==null){Dt=a;return}}else{if(a=wC(a,r),a!==null){a.flags&=32767,Dt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Dt=null;return}}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=e}while(r!==null);Ht===0&&(Ht=5)}function fi(e,r,a){var f=ot,y=Kr.transition;try{Kr.transition=null,ot=1,kC(e,r,a,f)}finally{Kr.transition=y,ot=f}return null}function kC(e,r,a,f){do wo();while(As!==null);if((rt&6)!==0)throw Error(s(327));a=e.finishedWork;var y=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var E=a.lanes|a.childLanes;if(gm(e,E),e===Kt&&(Dt=Kt=null,Zt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ic||(Ic=!0,wy(ys,function(){return wo(),null})),E=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||E){E=Kr.transition,Kr.transition=null;var P=ot;ot=1;var q=rt;rt|=4,pf.current=null,SC(e,a),iy(a,e),Vx(xd),Bn=!!Sd,xd=Sd=null,e.current=a,xC(a),zo(),rt=q,ot=P,Kr.transition=E}else e.current=a;if(Ic&&(Ic=!1,As=e,Pc=y),E=e.pendingLanes,E===0&&(Rs=null),od(a.stateNode),kr(e,vt()),r!==null)for(f=e.onRecoverableError,a=0;a<r.length;a++)y=r[a],f(y.value,{componentStack:y.stack,digest:y.digest});if(Ac)throw Ac=!1,e=yf,yf=null,e;return(Pc&1)!==0&&e.tag!==0&&wo(),E=e.pendingLanes,(E&1)!==0?e===vf?xa++:(xa=0,vf=e):xa=0,bs(),null}function wo(){if(As!==null){var e=$l(Pc),r=Kr.transition,a=ot;try{if(Kr.transition=null,ot=16>e?16:e,As===null)var f=!1;else{if(e=As,As=null,Pc=0,(rt&6)!==0)throw Error(s(331));var y=rt;for(rt|=4,ke=e.current;ke!==null;){var E=ke,P=E.child;if((ke.flags&16)!==0){var q=E.deletions;if(q!==null){for(var B=0;B<q.length;B++){var ie=q[B];for(ke=ie;ke!==null;){var he=ke;switch(he.tag){case 0:case 11:case 15:wa(8,he,E)}var pe=he.child;if(pe!==null)pe.return=he,ke=pe;else for(;ke!==null;){he=ke;var fe=he.sibling,Te=he.return;if(ey(he),he===ie){ke=null;break}if(fe!==null){fe.return=Te,ke=fe;break}ke=Te}}}var Ae=E.alternate;if(Ae!==null){var Ne=Ae.child;if(Ne!==null){Ae.child=null;do{var It=Ne.sibling;Ne.sibling=null,Ne=It}while(Ne!==null)}}ke=E}}if((E.subtreeFlags&2064)!==0&&P!==null)P.return=E,ke=P;else e:for(;ke!==null;){if(E=ke,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:wa(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,ke=ee;break e}ke=E.return}}var V=e.current;for(ke=V;ke!==null;){P=ke;var te=P.child;if((P.subtreeFlags&2064)!==0&&te!==null)te.return=P,ke=te;else e:for(P=V;ke!==null;){if(q=ke,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:_c(9,q)}}catch(Le){bt(q,q.return,Le)}if(q===P){ke=null;break e}var ye=q.sibling;if(ye!==null){ye.return=q.return,ke=ye;break e}ke=q.return}}if(rt=y,bs(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Ys,e)}catch{}f=!0}return f}finally{ot=a,Kr.transition=r}}return!1}function gy(e,r,a){r=mo(a,r),r=jg(e,r,1),e=_s(e,r,1),r=hr(),e!==null&&(Qs(e,1,r),kr(e,r))}function bt(e,r,a){if(e.tag===3)gy(e,e,a);else for(;r!==null;){if(r.tag===3){gy(r,e,a);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))){e=mo(a,e),e=Lg(r,e,1),r=_s(r,e,1),e=hr(),r!==null&&(Qs(r,1,e),kr(r,e));break}}r=r.return}}function RC(e,r,a){var f=e.pingCache;f!==null&&f.delete(r),r=hr(),e.pingedLanes|=e.suspendedLanes&a,Kt===e&&(Zt&a)===a&&(Ht===4||Ht===3&&(Zt&130023424)===Zt&&500>vt()-gf?di(e,0):mf|=a),kr(e,r)}function yy(e,r){r===0&&((e.mode&1)===0?r=1:(r=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var a=hr();e=Zn(e,r),e!==null&&(Qs(e,r,a),kr(e,a))}function AC(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),yy(e,a)}function IC(e,r){var a=0;switch(e.tag){case 13:var f=e.stateNode,y=e.memoizedState;y!==null&&(a=y.retryLane);break;case 19:f=e.stateNode;break;default:throw Error(s(314))}f!==null&&f.delete(r),yy(e,a)}var vy;vy=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||Cr.current)Tr=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return Tr=!1,yC(e,r,a);Tr=(e.flags&131072)!==0}else Tr=!1,gt&&(r.flags&1048576)!==0&&Xm(r,cc,r.index);switch(r.lanes=0,r.tag){case 2:var f=r.type;bc(e,r),e=r.pendingProps;var y=oo(r,nr.current);ho(r,a),y=Kd(null,r,f,e,y,a);var E=Vd();return r.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,br(f)?(E=!0,oc(r)):E=!1,r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,qd(r),y.updater=xc,r.stateNode=y,y._reactInternals=r,Zd(r,f,e,a),r=nf(null,r,f,!0,E,a)):(r.tag=0,gt&&E&&Ad(r),fr(null,r,y,a),r=r.child),r;case 16:f=r.elementType;e:{switch(bc(e,r),e=r.pendingProps,y=f._init,f=y(f._payload),r.type=f,y=r.tag=NC(f),e=hn(f,e),y){case 0:r=rf(null,r,f,e,a);break e;case 1:r=Wg(null,r,f,e,a);break e;case 11:r=qg(null,r,f,e,a);break e;case 14:r=Fg(null,r,f,hn(f.type,e),a);break e}throw Error(s(306,f,""))}return r;case 0:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:hn(f,y),rf(e,r,f,y,a);case 1:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:hn(f,y),Wg(e,r,f,y,a);case 3:e:{if(Bg(r),e===null)throw Error(s(387));f=r.pendingProps,E=r.memoizedState,y=E.element,og(e,r),mc(r,f,null,a);var P=r.memoizedState;if(f=P.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},r.updateQueue.baseState=E,r.memoizedState=E,r.flags&256){y=mo(Error(s(423)),r),r=Kg(e,r,f,a,y);break e}else if(f!==y){y=mo(Error(s(424)),r),r=Kg(e,r,f,a,y);break e}else for(Lr=Ss(r.stateNode.containerInfo.firstChild),jr=r,gt=!0,fn=null,a=sg(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(co(),f===y){r=ts(e,r,a);break e}fr(e,r,f,a)}r=r.child}return r;case 5:return cg(r),e===null&&Nd(r),f=r.type,y=r.pendingProps,E=e!==null?e.memoizedProps:null,P=y.children,Cd(f,y)?P=null:E!==null&&Cd(f,E)&&(r.flags|=32),zg(e,r),fr(e,r,P,a),r.child;case 6:return e===null&&Nd(r),null;case 13:return Vg(e,r,a);case 4:return Fd(r,r.stateNode.containerInfo),f=r.pendingProps,e===null?r.child=uo(r,null,f,a):fr(e,r,f,a),r.child;case 11:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:hn(f,y),qg(e,r,f,y,a);case 7:return fr(e,r,r.pendingProps,a),r.child;case 8:return fr(e,r,r.pendingProps.children,a),r.child;case 12:return fr(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(f=r.type._context,y=r.pendingProps,E=r.memoizedProps,P=y.value,ut(fc,f._currentValue),f._currentValue=P,E!==null)if(dn(E.value,P)){if(E.children===y.children&&!Cr.current){r=ts(e,r,a);break e}}else for(E=r.child,E!==null&&(E.return=r);E!==null;){var q=E.dependencies;if(q!==null){P=E.child;for(var B=q.firstContext;B!==null;){if(B.context===f){if(E.tag===1){B=es(-1,a&-a),B.tag=2;var ie=E.updateQueue;if(ie!==null){ie=ie.shared;var he=ie.pending;he===null?B.next=B:(B.next=he.next,he.next=B),ie.pending=B}}E.lanes|=a,B=E.alternate,B!==null&&(B.lanes|=a),Md(E.return,a,r),q.lanes|=a;break}B=B.next}}else if(E.tag===10)P=E.type===r.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(s(341));P.lanes|=a,q=P.alternate,q!==null&&(q.lanes|=a),Md(P,a,r),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===r){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}fr(e,r,y.children,a),r=r.child}return r;case 9:return y=r.type,f=r.pendingProps.children,ho(r,a),y=Wr(y),f=f(y),r.flags|=1,fr(e,r,f,a),r.child;case 14:return f=r.type,y=hn(f,r.pendingProps),y=hn(f.type,y),Fg(e,r,f,y,a);case 15:return Hg(e,r,r.type,r.pendingProps,a);case 17:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:hn(f,y),bc(e,r),r.tag=1,br(f)?(e=!0,oc(r)):e=!1,ho(r,a),Ng(r,f,y),Zd(r,f,y,a),nf(null,r,f,!0,e,a);case 19:return Jg(e,r,a);case 22:return $g(e,r,a)}throw Error(s(156,r.tag))};function wy(e,r){return Js(e,r)}function PC(e,r,a,f){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,r,a,f){return new PC(e,r,a,f)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NC(e){if(typeof e=="function")return bf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ae)return 11;if(e===z)return 14}return 2}function Ns(e,r){var a=e.alternate;return a===null?(a=Vr(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Lc(e,r,a,f,y,E){var P=2;if(f=e,typeof e=="function")bf(e)&&(P=1);else if(typeof e=="string")P=5;else e:switch(e){case N:return hi(a.children,y,E,r);case R:P=8,y|=8;break;case M:return e=Vr(12,a,r,y|2),e.elementType=M,e.lanes=E,e;case G:return e=Vr(13,a,r,y),e.elementType=G,e.lanes=E,e;case Q:return e=Vr(19,a,r,y),e.elementType=Q,e.lanes=E,e;case Y:return Dc(a,y,E,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:P=10;break e;case Z:P=9;break e;case ae:P=11;break e;case z:P=14;break e;case K:P=16,f=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=Vr(P,a,r,y),r.elementType=e,r.type=f,r.lanes=E,r}function hi(e,r,a,f){return e=Vr(7,e,f,r),e.lanes=a,e}function Dc(e,r,a,f){return e=Vr(22,e,f,r),e.elementType=Y,e.lanes=a,e.stateNode={isHidden:!1},e}function Tf(e,r,a){return e=Vr(6,e,null,r),e.lanes=a,e}function _f(e,r,a){return r=Vr(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function OC(e,r,a,f,y){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function kf(e,r,a,f,y,E,P,q,B){return e=new OC(e,r,a,q,B),r===1?(r=1,E===!0&&(r|=8)):r=0,E=Vr(3,null,null,r),e.current=E,E.stateNode=e,E.memoizedState={element:f,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(E),e}function jC(e,r,a){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:f==null?null:""+f,children:e,containerInfo:r,implementation:a}}function Ey(e){if(!e)return Cs;e=e._reactInternals;e:{if(sn(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(br(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(br(a))return Gm(e,a,r)}return r}function Sy(e,r,a,f,y,E,P,q,B){return e=kf(a,f,!0,e,y,E,P,q,B),e.context=Ey(null),a=e.current,f=hr(),y=Is(a),E=es(f,y),E.callback=r??null,_s(a,E,y),e.current.lanes=y,Qs(e,y,f),kr(e,f),e}function Mc(e,r,a,f){var y=r.current,E=hr(),P=Is(y);return a=Ey(a),r.context===null?r.context=a:r.pendingContext=a,r=es(E,P),r.payload={element:e},f=f===void 0?null:f,f!==null&&(r.callback=f),e=_s(y,r,P),e!==null&&(gn(e,y,P,E),pc(e,y,P)),P}function Uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xy(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Rf(e,r){xy(e,r),(e=e.alternate)&&xy(e,r)}function LC(){return null}var Cy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Af(e){this._internalRoot=e}qc.prototype.render=Af.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));Mc(e,r,null,null)},qc.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ui(function(){Mc(null,e,null,null)}),r[Jn]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Zs();e={blockedOn:null,target:e,priority:r};for(var a=0;a<ln.length&&r!==0&&r<ln[a].priority;a++);ln.splice(a,0,e),a===0&&Go(e)}};function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function by(){}function DC(e,r,a,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var ie=Uc(P);E.call(ie)}}var P=Sy(r,f,e,0,null,!1,!1,"",by);return e._reactRootContainer=P,e[Jn]=P.current,oa(e.nodeType===8?e.parentNode:e),ui(),P}for(;y=e.lastChild;)e.removeChild(y);if(typeof f=="function"){var q=f;f=function(){var ie=Uc(B);q.call(ie)}}var B=kf(e,0,!1,null,null,!1,!1,"",by);return e._reactRootContainer=B,e[Jn]=B.current,oa(e.nodeType===8?e.parentNode:e),ui(function(){Mc(r,B,a,f)}),B}function Hc(e,r,a,f,y){var E=a._reactRootContainer;if(E){var P=E;if(typeof y=="function"){var q=y;y=function(){var B=Uc(P);q.call(B)}}Mc(r,P,e,y)}else P=DC(a,r,e,y,f);return Uc(P)}zl=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=Xs(r.pendingLanes);a!==0&&(Bo(r,a|1),kr(r,vt()),(rt&6)===0&&(vo=vt()+500,bs()))}break;case 13:ui(function(){var f=Zn(e,1);if(f!==null){var y=hr();gn(f,e,1,y)}}),Rf(e,1)}},Bi=function(e){if(e.tag===13){var r=Zn(e,134217728);if(r!==null){var a=hr();gn(r,e,134217728,a)}Rf(e,134217728)}},Ko=function(e){if(e.tag===13){var r=Is(e),a=Zn(e,r);if(a!==null){var f=hr();gn(a,e,r,f)}Rf(e,r)}},Zs=function(){return ot},Wl=function(e,r){var a=ot;try{return ot=e,r()}finally{ot=a}},Vs=function(e,r,a){switch(r){case"input":if(_t(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var f=a[r];if(f!==e&&f.form===e.form){var y=sc(f);if(!y)throw Error(s(90));se(f),_t(f,y)}}}break;case"textarea":Mi(e,a);break;case"select":r=a.value,r!=null&&En(e,!!a.multiple,r,!1)}},kt=Sf,Wt=ui;var MC={usingClientEntryPoint:!1,Events:[ca,so,sc,Ve,yt,Sf]},Ca={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UC={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$o(e),e===null?null:e.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||LC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ys=$c.inject(UC),Fr=$c}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC,Rr.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!If(r))throw Error(s(200));return jC(e,r,null,a)},Rr.createRoot=function(e,r){if(!If(e))throw Error(s(299));var a=!1,f="",y=Cy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=kf(e,1,!1,null,null,a,!1,f,y),e[Jn]=r.current,oa(e.nodeType===8?e.parentNode:e),new Af(r)},Rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=$o(r),e=e===null?null:e.stateNode,e},Rr.flushSync=function(e){return ui(e)},Rr.hydrate=function(e,r,a){if(!Fc(r))throw Error(s(200));return Hc(null,e,r,!0,a)},Rr.hydrateRoot=function(e,r,a){if(!If(e))throw Error(s(405));var f=a!=null&&a.hydratedSources||null,y=!1,E="",P=Cy;if(a!=null&&(a.unstable_strictMode===!0&&(y=!0),a.identifierPrefix!==void 0&&(E=a.identifierPrefix),a.onRecoverableError!==void 0&&(P=a.onRecoverableError)),r=Sy(r,null,e,1,a??null,y,!1,E,P),e[Jn]=r.current,oa(e),f)for(e=0;e<f.length;e++)a=f[e],y=a._getVersion,y=y(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,y]:r.mutableSourceEagerHydrationData.push(a,y);return new qc(r)},Rr.render=function(e,r,a){if(!Fc(r))throw Error(s(200));return Hc(null,e,r,!1,a)},Rr.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(s(40));return e._reactRootContainer?(ui(function(){Hc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1},Rr.unstable_batchedUpdates=Sf,Rr.unstable_renderSubtreeIntoContainer=function(e,r,a,f){if(!Fc(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Hc(e,r,a,!1,f)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var jy;function wE(){if(jy)return Of.exports;jy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Of.exports=YC(),Of.exports}var Ly;function XC(){if(Ly)return zc;Ly=1;var t=wE();return zc.createRoot=t.createRoot,zc.hydrateRoot=t.hydrateRoot,zc}var QC=XC(),$=Rp();const Ip=HC({__proto__:null,default:$},[$]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,o)=>o?o.toUpperCase():s.toLowerCase()),Dy=t=>{const n=eb(t);return n.charAt(0).toUpperCase()+n.slice(1)},EE=(...t)=>t.filter((n,s,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=$.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:i,...u},d)=>$.createElement("svg",{ref:d,...tb,width:n,height:n,stroke:t,strokeWidth:o?Number(s)*24/Number(n):s,className:EE("lucide",l),...u},[...i.map(([h,m])=>$.createElement(h,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(t,n)=>{const s=$.forwardRef(({className:o,...l},c)=>$.createElement(rb,{ref:c,iconNode:n,className:EE(`lucide-${ZC(Dy(t))}`,`lucide-${t}`,o),...l}));return s.displayName=Dy(t),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sb=zt("activity",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ob=zt("arrow-right",ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],lb=zt("chart-no-axes-column-increasing",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ub=zt("circle-alert",cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SE=zt("circle-check",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],hb=zt("code",fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mb=zt("copy",pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],hp=zt("database",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xE=zt("file-text",yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],wb=zt("log-in",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Sb=zt("log-out",Eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],Cb=zt("radio",xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cu=zt("refresh-cw",bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_b=zt("settings",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pp=zt("shield",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],mp=zt("trash-2",Rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],My=zt("trending-up",Ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pb=zt("user",Ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ob=zt("zap",Nb);function Uy(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Pp(...t){return n=>{let s=!1;const o=t.map(l=>{const c=Uy(l,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<o.length;l++){const c=o[l];typeof c=="function"?c():Uy(t[l],null)}}}}function uu(...t){return $.useCallback(Pp(...t),t)}var jb=Symbol.for("react.lazy"),du=Ip[" use ".trim().toString()];function Lb(t){return typeof t=="object"&&t!==null&&"then"in t}function CE(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===jb&&"_payload"in t&&Lb(t._payload)}function bE(t){const n=Mb(t),s=$.forwardRef((o,l)=>{let{children:c,...i}=o;CE(c)&&typeof du=="function"&&(c=du(c._payload));const u=$.Children.toArray(c),d=u.find(qb);if(d){const h=d.props.children,m=u.map(p=>p===d?$.Children.count(h)>1?$.Children.only(null):$.isValidElement(h)?h.props.children:null:p);return g.jsx(n,{...i,ref:l,children:$.isValidElement(h)?$.cloneElement(h,void 0,m):null})}return g.jsx(n,{...i,ref:l,children:c})});return s.displayName=`${t}.Slot`,s}var Db=bE("Slot");function Mb(t){const n=$.forwardRef((s,o)=>{let{children:l,...c}=s;if(CE(l)&&typeof du=="function"&&(l=du(l._payload)),$.isValidElement(l)){const i=Hb(l),u=Fb(c,l.props);return l.type!==$.Fragment&&(u.ref=o?Pp(o,i):i),$.cloneElement(l,u)}return $.Children.count(l)>1?$.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Ub=Symbol("radix.slottable");function qb(t){return $.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ub}function Fb(t,n){const s={...n};for(const o in n){const l=t[o],c=n[o];/^on[A-Z]/.test(o)?l&&c?s[o]=(...u)=>{const d=c(...u);return l(...u),d}:l&&(s[o]=l):o==="style"?s[o]={...l,...c}:o==="className"&&(s[o]=[l,c].filter(Boolean).join(" "))}return{...t,...s}}function Hb(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function TE(t){var n,s,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(n=0;n<l;n++)t[n]&&(s=TE(t[n]))&&(o&&(o+=" "),o+=s)}else for(s in t)t[s]&&(o&&(o+=" "),o+=s);return o}function _E(){for(var t,n,s=0,o="",l=arguments.length;s<l;s++)(t=arguments[s])&&(n=TE(t))&&(o&&(o+=" "),o+=n);return o}const qy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fy=_E,$b=(t,n)=>s=>{var o;if(n?.variants==null)return Fy(t,s?.class,s?.className);const{variants:l,defaultVariants:c}=n,i=Object.keys(l).map(h=>{const m=s?.[h],p=c?.[h];if(m===null)return null;const x=qy(m)||qy(p);return l[h][x]}),u=s&&Object.entries(s).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),d=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((h,m)=>{let{class:p,className:x,...A}=m;return Object.entries(A).every(b=>{let[T,C]=b;return Array.isArray(C)?C.includes({...c,...u}[T]):{...c,...u}[T]===C})?[...h,p,x]:h},[]);return Fy(t,i,d,s?.class,s?.className)},zb=(t,n)=>{const s=new Array(t.length+n.length);for(let o=0;o<t.length;o++)s[o]=t[o];for(let o=0;o<n.length;o++)s[t.length+o]=n[o];return s},Wb=(t,n)=>({classGroupId:t,validator:n}),kE=(t=new Map,n=null,s)=>({nextPart:t,validators:n,classGroupId:s}),fu="-",Hy=[],Bb="arbitrary..",Kb=t=>{const n=Gb(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Vb(i);const u=i.split(fu),d=u[0]===""&&u.length>1?1:0;return RE(u,d,n)},getConflictingClassGroupIds:(i,u)=>{if(u){const d=o[i],h=s[i];return d?h?zb(h,d):d:h||Hy}return s[i]||Hy}}},RE=(t,n,s)=>{if(t.length-n===0)return s.classGroupId;const l=t[n],c=s.nextPart.get(l);if(c){const h=RE(t,n+1,c);if(h)return h}const i=s.validators;if(i===null)return;const u=n===0?t.join(fu):t.slice(n).join(fu),d=i.length;for(let h=0;h<d;h++){const m=i[h];if(m.validator(u))return m.classGroupId}},Vb=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=t.slice(1,-1),s=n.indexOf(":"),o=n.slice(0,s);return o?Bb+o:void 0})(),Gb=t=>{const{theme:n,classGroups:s}=t;return Jb(s,n)},Jb=(t,n)=>{const s=kE();for(const o in t){const l=t[o];Np(l,s,o,n)}return s},Np=(t,n,s,o)=>{const l=t.length;for(let c=0;c<l;c++){const i=t[c];Yb(i,n,s,o)}},Yb=(t,n,s,o)=>{if(typeof t=="string"){Xb(t,n,s);return}if(typeof t=="function"){Qb(t,n,s,o);return}Zb(t,n,s,o)},Xb=(t,n,s)=>{const o=t===""?n:AE(n,t);o.classGroupId=s},Qb=(t,n,s,o)=>{if(eT(t)){Np(t(o),n,s,o);return}n.validators===null&&(n.validators=[]),n.validators.push(Wb(s,t))},Zb=(t,n,s,o)=>{const l=Object.entries(t),c=l.length;for(let i=0;i<c;i++){const[u,d]=l[i];Np(d,AE(n,u),s,o)}},AE=(t,n)=>{let s=t;const o=n.split(fu),l=o.length;for(let c=0;c<l;c++){const i=o[c];let u=s.nextPart.get(i);u||(u=kE(),s.nextPart.set(i,u)),s=u}return s},eT=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,tT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,s=Object.create(null),o=Object.create(null);const l=(c,i)=>{s[c]=i,n++,n>t&&(n=0,o=s,s=Object.create(null))};return{get(c){let i=s[c];if(i!==void 0)return i;if((i=o[c])!==void 0)return l(c,i),i},set(c,i){c in s?s[c]=i:l(c,i)}}},gp="!",$y=":",rT=[],zy=(t,n,s,o,l)=>({modifiers:t,hasImportantModifier:n,baseClassName:s,maybePostfixModifierPosition:o,isExternal:l}),nT=t=>{const{prefix:n,experimentalParseClassName:s}=t;let o=l=>{const c=[];let i=0,u=0,d=0,h;const m=l.length;for(let T=0;T<m;T++){const C=l[T];if(i===0&&u===0){if(C===$y){c.push(l.slice(d,T)),d=T+1;continue}if(C==="/"){h=T;continue}}C==="["?i++:C==="]"?i--:C==="("?u++:C===")"&&u--}const p=c.length===0?l:l.slice(d);let x=p,A=!1;p.endsWith(gp)?(x=p.slice(0,-1),A=!0):p.startsWith(gp)&&(x=p.slice(1),A=!0);const b=h&&h>d?h-d:void 0;return zy(c,A,x,b)};if(n){const l=n+$y,c=o;o=i=>i.startsWith(l)?c(i.slice(l.length)):zy(rT,!1,i,void 0,!0)}if(s){const l=o;o=c=>s({className:c,parseClassName:l})}return o},sT=t=>{const n=new Map;return t.orderSensitiveModifiers.forEach((s,o)=>{n.set(s,1e6+o)}),s=>{const o=[];let l=[];for(let c=0;c<s.length;c++){const i=s[c],u=i[0]==="[",d=n.has(i);u||d?(l.length>0&&(l.sort(),o.push(...l),l=[]),o.push(i)):l.push(i)}return l.length>0&&(l.sort(),o.push(...l)),o}},iT=t=>({cache:tT(t.cacheSize),parseClassName:nT(t),sortModifiers:sT(t),...Kb(t)}),oT=/\s+/,aT=(t,n)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:l,sortModifiers:c}=n,i=[],u=t.trim().split(oT);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:p,modifiers:x,hasImportantModifier:A,baseClassName:b,maybePostfixModifierPosition:T}=s(m);if(p){d=m+(d.length>0?" "+d:d);continue}let C=!!T,w=o(C?b.substring(0,T):b);if(!w){if(!C){d=m+(d.length>0?" "+d:d);continue}if(w=o(b),!w){d=m+(d.length>0?" "+d:d);continue}C=!1}const v=x.length===0?"":x.length===1?x[0]:c(x).join(":"),S=A?v+gp:v,_=S+w;if(i.indexOf(_)>-1)continue;i.push(_);const L=l(w,C);for(let O=0;O<L.length;++O){const N=L[O];i.push(S+N)}d=m+(d.length>0?" "+d:d)}return d},lT=(...t)=>{let n=0,s,o,l="";for(;n<t.length;)(s=t[n++])&&(o=IE(s))&&(l&&(l+=" "),l+=o);return l},IE=t=>{if(typeof t=="string")return t;let n,s="";for(let o=0;o<t.length;o++)t[o]&&(n=IE(t[o]))&&(s&&(s+=" "),s+=n);return s},cT=(t,...n)=>{let s,o,l,c;const i=d=>{const h=n.reduce((m,p)=>p(m),t());return s=iT(h),o=s.cache.get,l=s.cache.set,c=u,u(d)},u=d=>{const h=o(d);if(h)return h;const m=aT(d,s);return l(d,m),m};return c=i,(...d)=>c(lT(...d))},uT=[],$t=t=>{const n=s=>s[t]||uT;return n.isThemeGetter=!0,n},PE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dT=/^\d+\/\d+$/,fT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eo=t=>dT.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),js=t=>!!t&&Number.isInteger(Number(t)),Df=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),ns=t=>fT.test(t),yT=()=>!0,vT=t=>hT.test(t)&&!pT.test(t),OE=()=>!1,wT=t=>mT.test(t),ET=t=>gT.test(t),ST=t=>!Ie(t)&&!Pe(t),xT=t=>jo(t,DE,OE),Ie=t=>PE.test(t),pi=t=>jo(t,ME,vT),Mf=t=>jo(t,kT,Ze),Wy=t=>jo(t,jE,OE),CT=t=>jo(t,LE,ET),Wc=t=>jo(t,UE,wT),Pe=t=>NE.test(t),Ta=t=>Lo(t,ME),bT=t=>Lo(t,RT),By=t=>Lo(t,jE),TT=t=>Lo(t,DE),_T=t=>Lo(t,LE),Bc=t=>Lo(t,UE,!0),jo=(t,n,s)=>{const o=PE.exec(t);return o?o[1]?n(o[1]):s(o[2]):!1},Lo=(t,n,s=!1)=>{const o=NE.exec(t);return o?o[1]?n(o[1]):s:!1},jE=t=>t==="position"||t==="percentage",LE=t=>t==="image"||t==="url",DE=t=>t==="length"||t==="size"||t==="bg-size",ME=t=>t==="length",kT=t=>t==="number",RT=t=>t==="family-name",UE=t=>t==="shadow",AT=()=>{const t=$t("color"),n=$t("font"),s=$t("text"),o=$t("font-weight"),l=$t("tracking"),c=$t("leading"),i=$t("breakpoint"),u=$t("container"),d=$t("spacing"),h=$t("radius"),m=$t("shadow"),p=$t("inset-shadow"),x=$t("text-shadow"),A=$t("drop-shadow"),b=$t("blur"),T=$t("perspective"),C=$t("aspect"),w=$t("ease"),v=$t("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[..._(),Pe,Ie],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],R=()=>[Pe,Ie,d],M=()=>[Eo,"full","auto",...R()],U=()=>[js,"none","subgrid",Pe,Ie],Z=()=>["auto",{span:["full",js,Pe,Ie]},js,Pe,Ie],ae=()=>[js,"auto",Pe,Ie],G=()=>["auto","min","max","fr",Pe,Ie],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...R()],Y=()=>[Eo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],H=()=>[t,Pe,Ie],oe=()=>[..._(),By,Wy,{position:[Pe,Ie]}],le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",TT,xT,{size:[Pe,Ie]}],re=()=>[Df,Ta,pi],ce=()=>["","none","full",h,Pe,Ie],me=()=>["",Ze,Ta,pi],Se=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[Ze,Df,By,Wy],Oe=()=>["","none",b,Pe,Ie],Xe=()=>["none",Ze,Pe,Ie],ct=()=>["none",Ze,Pe,Ie],Xt=()=>[Ze,Pe,Ie],se=()=>[Eo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ns],breakpoint:[ns],color:[yT],container:[ns],"drop-shadow":[ns],ease:["in","out","in-out"],font:[ST],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ns],shadow:[ns],spacing:["px",Ze],text:[ns],"text-shadow":[ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Eo,Ie,Pe,C]}],container:["container"],columns:[{columns:[Ze,Ie,Pe,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[js,"auto",Pe,Ie]}],basis:[{basis:[Eo,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,Eo,"auto","initial","none",Ie]}],grow:[{grow:["",Ze,Pe,Ie]}],shrink:[{shrink:["",Ze,Pe,Ie]}],order:[{order:[js,"first","last","none",Pe,Ie]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[i]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",s,Ta,pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Pe,Mf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Df,Ie]}],"font-family":[{font:[bT,Ie,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Pe,Ie]}],"line-clamp":[{"line-clamp":[Ze,"none",Pe,Mf]}],leading:[{leading:[c,...R()]}],"list-image":[{"list-image":["none",Pe,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Pe,pi]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ze,"auto",Pe,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:le()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},js,Pe,Ie],radial:["",Pe,Ie],conic:[js,Pe,Ie]},_T,CT]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Pe,Ie]}],"outline-w":[{outline:["",Ze,Ta,pi]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",m,Bc,Wc]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",p,Bc,Wc]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ze,pi]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",x,Bc,Wc]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ze,Pe,Ie]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Pe,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:le()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Ie]}],filter:[{filter:["","none",Pe,Ie]}],blur:[{blur:Oe()}],brightness:[{brightness:[Ze,Pe,Ie]}],contrast:[{contrast:[Ze,Pe,Ie]}],"drop-shadow":[{"drop-shadow":["","none",A,Bc,Wc]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ze,Pe,Ie]}],"hue-rotate":[{"hue-rotate":[Ze,Pe,Ie]}],invert:[{invert:["",Ze,Pe,Ie]}],saturate:[{saturate:[Ze,Pe,Ie]}],sepia:[{sepia:["",Ze,Pe,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Ie]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Pe,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Pe,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Pe,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Pe,Ie]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Pe,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Pe,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Pe,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Pe,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Pe,Ie]}],ease:[{ease:["linear","initial",w,Pe,Ie]}],delay:[{delay:[Ze,Pe,Ie]}],animate:[{animate:["none",v,Pe,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Pe,Ie]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:ct()}],"scale-x":[{"scale-x":ct()}],"scale-y":[{"scale-y":ct()}],"scale-z":[{"scale-z":ct()}],"scale-3d":["scale-3d"],skew:[{skew:Xt()}],"skew-x":[{"skew-x":Xt()}],"skew-y":[{"skew-y":Xt()}],transform:[{transform:[Pe,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Ie]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ze,Ta,pi,Mf]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IT=cT(AT);function Qr(...t){return IT(_E(t))}const PT=$b("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ye=$.forwardRef(({className:t,variant:n,size:s,asChild:o=!1,...l},c)=>{const i=o?Db:"button";return g.jsx(i,{"data-slot":"button",className:Qr(PT({variant:n,size:s,className:t})),ref:c,...l})});Ye.displayName="Button";function ve({className:t,...n}){return g.jsx("div",{"data-slot":"card",className:Qr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...n})}function Ce({className:t,...n}){return g.jsx("div",{"data-slot":"card-header",className:Qr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function be({className:t,...n}){return g.jsx("h4",{"data-slot":"card-title",className:Qr("leading-none",t),...n})}function We({className:t,...n}){return g.jsx("p",{"data-slot":"card-description",className:Qr("text-muted-foreground",t),...n})}function we({className:t,...n}){return g.jsx("div",{"data-slot":"card-content",className:Qr("px-6 [&:last-child]:pb-6",t),...n})}var NT=wE();function OT(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}const jT=t=>{switch(t){case"success":return MT;case"info":return qT;case"warning":return UT;case"error":return FT;default:return null}},LT=Array(12).fill(0),DT=({visible:t,className:n})=>$.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},LT.map((s,o)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),MT=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UT=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qT=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FT=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HT=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$T=()=>{const[t,n]=$.useState(document.hidden);return $.useEffect(()=>{const s=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t};let yp=1;class zT{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const s=this.subscribers.indexOf(n);this.subscribers.splice(s,1)}),this.publish=n=>{this.subscribers.forEach(s=>s(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var s;const{message:o,...l}=n,c=typeof n?.id=="number"||((s=n.id)==null?void 0:s.length)>0?n.id:yp++,i=this.toasts.find(d=>d.id===c),u=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),i?this.toasts=this.toasts.map(d=>d.id===c?(this.publish({...d,...n,id:c,title:o}),{...d,...n,id:c,dismissible:u,title:o}):d):this.addToast({title:o,...l,dismissible:u,id:c}),c},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:n,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(o=>o({id:s.id,dismiss:!0}))}),n),this.message=(n,s)=>this.create({...s,message:n}),this.error=(n,s)=>this.create({...s,message:n,type:"error"}),this.success=(n,s)=>this.create({...s,type:"success",message:n}),this.info=(n,s)=>this.create({...s,type:"info",message:n}),this.warning=(n,s)=>this.create({...s,type:"warning",message:n}),this.loading=(n,s)=>this.create({...s,type:"loading",message:n}),this.promise=(n,s)=>{if(!s)return;let o;s.loading!==void 0&&(o=this.create({...s,promise:n,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const l=Promise.resolve(n instanceof Function?n():n);let c=o!==void 0,i;const u=l.then(async h=>{if(i=["resolve",h],$.isValidElement(h))c=!1,this.create({id:o,type:"default",message:h});else if(BT(h)&&!h.ok){c=!1;const p=typeof s.error=="function"?await s.error(`HTTP error! status: ${h.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${h.status}`):s.description,b=typeof p=="object"&&!$.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:x,...b})}else if(h instanceof Error){c=!1;const p=typeof s.error=="function"?await s.error(h):s.error,x=typeof s.description=="function"?await s.description(h):s.description,b=typeof p=="object"&&!$.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:x,...b})}else if(s.success!==void 0){c=!1;const p=typeof s.success=="function"?await s.success(h):s.success,x=typeof s.description=="function"?await s.description(h):s.description,b=typeof p=="object"&&!$.isValidElement(p)?p:{message:p};this.create({id:o,type:"success",description:x,...b})}}).catch(async h=>{if(i=["reject",h],s.error!==void 0){c=!1;const m=typeof s.error=="function"?await s.error(h):s.error,p=typeof s.description=="function"?await s.description(h):s.description,A=typeof m=="object"&&!$.isValidElement(m)?m:{message:m};this.create({id:o,type:"error",description:p,...A})}}).finally(()=>{c&&(this.dismiss(o),o=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((h,m)=>u.then(()=>i[0]==="reject"?m(i[1]):h(i[1])).catch(m));return typeof o!="string"&&typeof o!="number"?{unwrap:d}:Object.assign(o,{unwrap:d})},this.custom=(n,s)=>{const o=s?.id||yp++;return this.create({jsx:n(o),id:o,...s}),o},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ir=new zT,WT=(t,n)=>{const s=n?.id||yp++;return Ir.addToast({title:t,...n,id:s}),s},BT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",KT=WT,VT=()=>Ir.toasts,GT=()=>Ir.getActiveToasts(),de=Object.assign(KT,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:VT,getToasts:GT});OT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kc(t){return t.label!==void 0}const JT=3,YT="24px",XT="16px",Ky=4e3,QT=356,ZT=14,e_=45,t_=200;function jn(...t){return t.filter(Boolean).join(" ")}function r_(t){const[n,s]=t.split("-"),o=[];return n&&o.push(n),s&&o.push(s),o}const n_=t=>{var n,s,o,l,c,i,u,d,h;const{invert:m,toast:p,unstyled:x,interacting:A,setHeights:b,visibleToasts:T,heights:C,index:w,toasts:v,expanded:S,removeToast:_,defaultRichColors:L,closeButton:O,style:N,cancelButtonStyle:R,actionButtonStyle:M,className:U="",descriptionClassName:Z="",duration:ae,position:G,gap:Q,expandByDefault:z,classNames:K,icons:Y,closeButtonAriaLabel:H="Close toast"}=t,[oe,le]=$.useState(null),[W,re]=$.useState(null),[ce,me]=$.useState(!1),[Se,De]=$.useState(!1),[Ue,Oe]=$.useState(!1),[Xe,ct]=$.useState(!1),[Xt,se]=$.useState(!1),[qe,Fe]=$.useState(0),[xt,jt]=$.useState(0),_t=$.useRef(p.duration||ae||Ky),Bs=$.useRef(null),cr=$.useRef(null),qn=w===0,En=w+1<=T,Ut=p.type,Ur=p.dismissible!==!1,Mi=p.className||"",Fo=p.descriptionClassName||"",ne=$.useMemo(()=>C.findIndex(Ve=>Ve.toastId===p.id)||0,[C,p.id]),Ke=$.useMemo(()=>{var Ve;return(Ve=p.closeButton)!=null?Ve:O},[p.closeButton,O]),Sn=$.useMemo(()=>p.duration||ae||Ky,[p.duration,ae]),Fn=$.useRef(0),Er=$.useRef(0),qr=$.useRef(0),Zr=$.useRef(null),[Ks,Ui]=G.split("-"),qi=$.useMemo(()=>C.reduce((Ve,yt,kt)=>kt>=ne?Ve:Ve+yt.height,0),[C,ne]),en=$T(),hs=p.invert||m,tn=Ut==="loading";Er.current=$.useMemo(()=>ne*Q+qi,[ne,qi]),$.useEffect(()=>{_t.current=Sn},[Sn]),$.useEffect(()=>{me(!0)},[]),$.useEffect(()=>{const Ve=cr.current;if(Ve){const yt=Ve.getBoundingClientRect().height;return jt(yt),b(kt=>[{toastId:p.id,height:yt,position:p.position},...kt]),()=>b(kt=>kt.filter(Wt=>Wt.toastId!==p.id))}},[b,p.id]),$.useLayoutEffect(()=>{if(!ce)return;const Ve=cr.current,yt=Ve.style.height;Ve.style.height="auto";const kt=Ve.getBoundingClientRect().height;Ve.style.height=yt,jt(kt),b(Wt=>Wt.find(pt=>pt.toastId===p.id)?Wt.map(pt=>pt.toastId===p.id?{...pt,height:kt}:pt):[{toastId:p.id,height:kt,position:p.position},...Wt])},[ce,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const ur=$.useCallback(()=>{De(!0),Fe(Er.current),b(Ve=>Ve.filter(yt=>yt.toastId!==p.id)),setTimeout(()=>{_(p)},t_)},[p,_,b,Er]);$.useEffect(()=>{if(p.promise&&Ut==="loading"||p.duration===1/0||p.type==="loading")return;let Ve;return S||A||en?(()=>{if(qr.current<Fn.current){const Wt=new Date().getTime()-Fn.current;_t.current=_t.current-Wt}qr.current=new Date().getTime()})():(()=>{_t.current!==1/0&&(Fn.current=new Date().getTime(),Ve=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),ur()},_t.current))})(),()=>clearTimeout(Ve)},[S,A,p,Ut,en,ur]),$.useEffect(()=>{p.delete&&(ur(),p.onDismiss==null||p.onDismiss.call(p,p))},[ur,p.delete]);function Vs(){var Ve;if(Y?.loading){var yt;return $.createElement("div",{className:jn(K?.loader,p==null||(yt=p.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":Ut==="loading"},Y.loading)}return $.createElement(DT,{className:jn(K?.loader,p==null||(Ve=p.classNames)==null?void 0:Ve.loader),visible:Ut==="loading"})}const rn=p.icon||Y?.[Ut]||jT(Ut);var nn,ps;return $.createElement("li",{tabIndex:0,ref:cr,className:jn(U,Mi,K?.toast,p==null||(n=p.classNames)==null?void 0:n.toast,K?.default,K?.[Ut],p==null||(s=p.classNames)==null?void 0:s[Ut]),"data-sonner-toast":"","data-rich-colors":(nn=p.richColors)!=null?nn:L,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":ce,"data-promise":!!p.promise,"data-swiped":Xt,"data-removed":Se,"data-visible":En,"data-y-position":Ks,"data-x-position":Ui,"data-index":w,"data-front":qn,"data-swiping":Ue,"data-dismissible":Ur,"data-type":Ut,"data-invert":hs,"data-swipe-out":Xe,"data-swipe-direction":W,"data-expanded":!!(S||z&&ce),"data-testid":p.testId,style:{"--index":w,"--toasts-before":w,"--z-index":v.length-w,"--offset":`${Se?qe:Er.current}px`,"--initial-height":z?"auto":`${xt}px`,...N,...p.style},onDragEnd:()=>{Oe(!1),le(null),Zr.current=null},onPointerDown:Ve=>{Ve.button!==2&&(tn||!Ur||(Bs.current=new Date,Fe(Er.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(Oe(!0),Zr.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,yt,kt;if(Xe||!Ur)return;Zr.current=null;const Wt=Number(((Ve=cr.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xn=Number(((yt=cr.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((kt=Bs.current)==null?void 0:kt.getTime()),Ct=oe==="x"?Wt:xn,Cn=Math.abs(Ct)/pt;if(Math.abs(Ct)>=e_||Cn>.11){Fe(Er.current),p.onDismiss==null||p.onDismiss.call(p,p),re(oe==="x"?Wt>0?"right":"left":xn>0?"down":"up"),ur(),ct(!0);return}else{var qt,dr;(qt=cr.current)==null||qt.style.setProperty("--swipe-amount-x","0px"),(dr=cr.current)==null||dr.style.setProperty("--swipe-amount-y","0px")}se(!1),Oe(!1),le(null)},onPointerMove:Ve=>{var yt,kt,Wt;if(!Zr.current||!Ur||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;const pt=Ve.clientY-Zr.current.y,Ct=Ve.clientX-Zr.current.x;var Cn;const qt=(Cn=t.swipeDirections)!=null?Cn:r_(G);!oe&&(Math.abs(Ct)>1||Math.abs(pt)>1)&&le(Math.abs(Ct)>Math.abs(pt)?"x":"y");let dr={x:0,y:0};const bn=lt=>1/(1.5+Math.abs(lt)/20);if(oe==="y"){if(qt.includes("top")||qt.includes("bottom"))if(qt.includes("top")&&pt<0||qt.includes("bottom")&&pt>0)dr.y=pt;else{const lt=pt*bn(pt);dr.y=Math.abs(lt)<Math.abs(pt)?lt:pt}}else if(oe==="x"&&(qt.includes("left")||qt.includes("right")))if(qt.includes("left")&&Ct<0||qt.includes("right")&&Ct>0)dr.x=Ct;else{const lt=Ct*bn(Ct);dr.x=Math.abs(lt)<Math.abs(Ct)?lt:Ct}(Math.abs(dr.x)>0||Math.abs(dr.y)>0)&&se(!0),(kt=cr.current)==null||kt.style.setProperty("--swipe-amount-x",`${dr.x}px`),(Wt=cr.current)==null||Wt.style.setProperty("--swipe-amount-y",`${dr.y}px`)}},Ke&&!p.jsx&&Ut!=="loading"?$.createElement("button",{"aria-label":H,"data-disabled":tn,"data-close-button":!0,onClick:tn||!Ur?()=>{}:()=>{ur(),p.onDismiss==null||p.onDismiss.call(p,p)},className:jn(K?.closeButton,p==null||(o=p.classNames)==null?void 0:o.closeButton)},(ps=Y?.close)!=null?ps:HT):null,(Ut||p.icon||p.promise)&&p.icon!==null&&(Y?.[Ut]!==null||p.icon)?$.createElement("div",{"data-icon":"",className:jn(K?.icon,p==null||(l=p.classNames)==null?void 0:l.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Vs():null,p.type!=="loading"?rn:null):null,$.createElement("div",{"data-content":"",className:jn(K?.content,p==null||(c=p.classNames)==null?void 0:c.content)},$.createElement("div",{"data-title":"",className:jn(K?.title,p==null||(i=p.classNames)==null?void 0:i.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?$.createElement("div",{"data-description":"",className:jn(Z,Fo,K?.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),$.isValidElement(p.cancel)?p.cancel:p.cancel&&Kc(p.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:Ve=>{Kc(p.cancel)&&Ur&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ve),ur())},className:jn(K?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,$.isValidElement(p.action)?p.action:p.action&&Kc(p.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:Ve=>{Kc(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ve),!Ve.defaultPrevented&&ur())},className:jn(K?.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function Vy(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function s_(t,n){const s={};return[t,n].forEach((o,l)=>{const c=l===1,i=c?"--mobile-offset":"--offset",u=c?XT:YT;function d(h){["top","right","bottom","left"].forEach(m=>{s[`${i}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof o=="number"||typeof o=="string"?d(o):typeof o=="object"?["top","right","bottom","left"].forEach(h=>{o[h]===void 0?s[`${i}-${h}`]=u:s[`${i}-${h}`]=typeof o[h]=="number"?`${o[h]}px`:o[h]}):d(u)}),s}const i_=$.forwardRef(function(n,s){const{id:o,invert:l,position:c="bottom-right",hotkey:i=["altKey","KeyT"],expand:u,closeButton:d,className:h,offset:m,mobileOffset:p,theme:x="light",richColors:A,duration:b,style:T,visibleToasts:C=JT,toastOptions:w,dir:v=Vy(),gap:S=ZT,icons:_,containerAriaLabel:L="Notifications"}=n,[O,N]=$.useState([]),R=$.useMemo(()=>o?O.filter(ce=>ce.toasterId===o):O.filter(ce=>!ce.toasterId),[O,o]),M=$.useMemo(()=>Array.from(new Set([c].concat(R.filter(ce=>ce.position).map(ce=>ce.position)))),[R,c]),[U,Z]=$.useState([]),[ae,G]=$.useState(!1),[Q,z]=$.useState(!1),[K,Y]=$.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=$.useRef(null),oe=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),le=$.useRef(null),W=$.useRef(!1),re=$.useCallback(ce=>{N(me=>{var Se;return(Se=me.find(De=>De.id===ce.id))!=null&&Se.delete||Ir.dismiss(ce.id),me.filter(({id:De})=>De!==ce.id)})},[]);return $.useEffect(()=>Ir.subscribe(ce=>{if(ce.dismiss){requestAnimationFrame(()=>{N(me=>me.map(Se=>Se.id===ce.id?{...Se,delete:!0}:Se))});return}setTimeout(()=>{NT.flushSync(()=>{N(me=>{const Se=me.findIndex(De=>De.id===ce.id);return Se!==-1?[...me.slice(0,Se),{...me[Se],...ce},...me.slice(Se+1)]:[ce,...me]})})})}),[O]),$.useEffect(()=>{if(x!=="system"){Y(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;const ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:me})=>{Y(me?"dark":"light")})}catch{ce.addListener(({matches:Se})=>{try{Y(Se?"dark":"light")}catch(De){console.error(De)}})}},[x]),$.useEffect(()=>{O.length<=1&&G(!1)},[O]),$.useEffect(()=>{const ce=me=>{var Se;if(i.every(Oe=>me[Oe]||me.code===Oe)){var Ue;G(!0),(Ue=H.current)==null||Ue.focus()}me.code==="Escape"&&(document.activeElement===H.current||(Se=H.current)!=null&&Se.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[i]),$.useEffect(()=>{if(H.current)return()=>{le.current&&(le.current.focus({preventScroll:!0}),le.current=null,W.current=!1)}},[H.current]),$.createElement("section",{ref:s,"aria-label":`${L} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((ce,me)=>{var Se;const[De,Ue]=ce.split("-");return R.length?$.createElement("ol",{key:ce,dir:v==="auto"?Vy():v,tabIndex:-1,ref:H,className:h,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":De,"data-x-position":Ue,style:{"--front-toast-height":`${((Se=U[0])==null?void 0:Se.height)||0}px`,"--width":`${QT}px`,"--gap":`${S}px`,...T,...s_(m,p)},onBlur:Oe=>{W.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(W.current=!1,le.current&&(le.current.focus({preventScroll:!0}),le.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||W.current||(W.current=!0,le.current=Oe.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{Q||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},R.filter(Oe=>!Oe.position&&me===0||Oe.position===ce).map((Oe,Xe)=>{var ct,Xt;return $.createElement(n_,{key:Oe.id,icons:_,index:Xe,toast:Oe,defaultRichColors:A,duration:(ct=w?.duration)!=null?ct:b,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:l,visibleToasts:C,closeButton:(Xt=w?.closeButton)!=null?Xt:d,interacting:Q,position:ce,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:re,toasts:R.filter(se=>se.position==Oe.position),heights:U.filter(se=>se.position==Oe.position),setHeights:Z,expandByDefault:u,gap:S,expanded:ae,swipeDirections:n.swipeDirections})})):null}))});var mi={},_a={},ka={},gi={},ss={},Gy;function Li(){if(Gy)return ss;Gy=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.ApiErrorException=ss.MisoClientError=void 0,ss.transformError=o,ss.handleApiError=c;class t extends Error{constructor(u,d,h,m,p){let x=u;d&&(d.title?x=d.title:d.errors&&d.errors.length>0&&(x=d.errors[0])),super(x),this.name="MisoClientError",this.errorResponse=d,this.errorBody=h,this.statusCode=m??d?.statusCode,this.authMethod=p??d?.authMethod??null,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}ss.MisoClientError=t;function n(i,u){const d=i.error;return{errors:d.errors??["Unknown error"],type:d.type??"about:blank",title:d.title??u.message??"Unknown error",statusCode:d.statusCode??u.response?.status??500,instance:d.instance??u.config?.url,correlationId:d.correlationId}}function s(i,u){const d=typeof i.statusCode=="number"?i.statusCode:typeof u.response?.status=="number"?u.response.status:500;return{errors:Array.isArray(i.errors)?i.errors:["Unknown error"],type:i.type??"about:blank",title:i.title??u.message??"Unknown error",statusCode:d,instance:i.instance??u.config?.url,correlationId:i.correlationId}}function o(i){if(i&&typeof i=="object"&&"response"in i){const u=i,d=u.response?.data;return d&&typeof d=="object"?"error"in d?n(d,u):s(d,u):{errors:[u.message??"Network error"],type:"about:blank",title:"Network error",statusCode:u.response?.status??0}}return i instanceof Error?{errors:[i.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class l extends Error{constructor(u){super(u.title||"API Error"),this.name="ApiErrorException",this.statusCode=u.statusCode,this.correlationId=u.correlationId,this.type=u.type,this.instance=u.instance,this.errors=u.errors,Error.captureStackTrace&&Error.captureStackTrace(this,l)}}ss.ApiErrorException=l;function c(i){const u=o(i);throw new l(u)}return ss}var Vc={},yn={},Jy;function Op(){if(Jy)return yn;Jy=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.AuthenticationError=yn.TimeoutError=yn.NetworkError=yn.ApiError=void 0;class t extends Error{constructor(c,i,u,d){super(c),this.name="ApiError",this.statusCode=i,this.response=u,this.originalError=d,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}yn.ApiError=t;class n extends t{constructor(c,i){super(c,0,void 0,i),this.name="NetworkError"}}yn.NetworkError=n;class s extends t{constructor(c,i){super(c,408),this.name="TimeoutError"}}yn.TimeoutError=s;class o extends t{constructor(c,i){super(c,401,i),this.name="AuthenticationError"}}return yn.AuthenticationError=o,yn}var Yy;function Tt(){if(Yy)return Vc;Yy=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.extractErrorInfo=s;const t=Li(),n=Op();function s(o,l){const c={errorType:"Unknown",errorName:"Error",message:"Unknown error",endpoint:l?.endpoint,method:l?.method,correlationId:l?.correlationId};if(o instanceof t.MisoClientError)c.errorType="MisoClientError",c.errorName=o.name,c.message=o.message,c.statusCode=o.statusCode,c.stackTrace=o.stack,o.errorResponse&&"correlationId"in o.errorResponse&&(c.correlationId=c.correlationId||o.errorResponse.correlationId),o.errorResponse?c.responseBody={errors:o.errorResponse.errors,type:o.errorResponse.type,title:o.errorResponse.title,statusCode:o.errorResponse.statusCode,instance:o.errorResponse.instance,correlationId:o.errorResponse.correlationId}:o.errorBody&&(c.responseBody=o.errorBody);else if(o instanceof n.ApiError){if(c.errorType=o.name,c.errorName=o.name,c.message=o.message,c.statusCode=o.statusCode,c.stackTrace=o.stack,c.originalError=o.originalError,o.response)try{c.responseBody={status:o.statusCode,message:o.message}}catch{}}else o instanceof n.AuthenticationError?(c.errorType="AuthenticationError",c.errorName=o.name,c.message=o.message,c.statusCode=401,c.stackTrace=o.stack):o instanceof n.NetworkError?(c.errorType="NetworkError",c.errorName=o.name,c.message=o.message,c.statusCode=0,c.stackTrace=o.stack):o instanceof n.TimeoutError?(c.errorType="TimeoutError",c.errorName=o.name,c.message=o.message,c.statusCode=408,c.stackTrace=o.stack):o instanceof Error?(c.errorType="Error",c.errorName=o.name,c.message=o.message,c.stackTrace=o.stack):(c.errorType="Unknown",c.errorName="UnknownError",c.message=typeof o=="string"?o:o&&typeof o=="object"&&"message"in o?String(o.message):"Unknown error occurred");return c}return Vc}var So={},Xy;function dt(){if(Xy)return So;Xy=1,Object.defineProperty(So,"__esModule",{value:!0}),So.logErrorWithContext=t,So.writeWarn=s,So.writeErr=o;function t(l,c="[MisoClient]"){const i=l.correlationId||"no-correlation-id",u=[];u.push(`${l.errorName}: ${l.message}`),l.statusCode!==void 0&&u.push(`Status: ${l.statusCode}`),l.endpoint&&l.method?u.push(`Endpoint: ${l.method} ${l.endpoint}`):l.endpoint?u.push(`Endpoint: ${l.endpoint}`):l.method&&u.push(`Method: ${l.method}`);const d=u.join(" | ");n(`${c} [${i}] ${d}`),l.responseBody&&n(`${c} [${i}] Response Body: ${JSON.stringify(l.responseBody,null,2)}`),l.stackTrace&&n(`${c} [${i}] Stack Trace: ${l.stackTrace}`),l.originalError&&n(`${c} [${i}] Original Error: ${String(l.originalError)}`)}function n(l){try{typeof process<"u"&&process.stderr?.write&&process.stderr.write(`${l}
`)}catch{}}function s(l){n(`[WARN] ${l}`)}function o(l){n(`[ERROR] ${l}`)}return So}var Qy;function o_(){if(Qy)return gi;Qy=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.formatAuthError=o,gi.handleAuthError=c,gi.handleAuthErrorSilent=i,gi.isHttpStatus=u;const t=Li(),n=Tt(),s=dt();function o(d,h,m,p){if(d instanceof t.MisoClientError){const A={statusCode:d.statusCode,message:d.message,errorResponse:d.errorResponse,errorBody:d.errorBody};return`${h} failed: ${d.message}. Full response: ${JSON.stringify(A)} [correlationId: ${m}, clientId: ${p}]`}if(l(d)){const A=d.response?`status: ${d.response.status}, data: ${JSON.stringify(d.response.data)}`:`message: ${d.message}`;return`${h} failed: ${d.message}. ${A} [correlationId: ${m}, clientId: ${p}]`}const x=d instanceof Error?d.message:"Unknown error";return`${h} failed: ${x} [correlationId: ${m}, clientId: ${p}]`}function l(d){return d!==null&&typeof d=="object"&&"isAxiosError"in d&&d.isAxiosError===!0}function c(d,h,m,p){throw new Error(o(d,h,m,p))}function i(d,h,m,p){const x=(0,n.extractErrorInfo)(d,{endpoint:h,method:"AUTH",correlationId:m});return x.message=o(d,h,m,p),(0,s.logErrorWithContext)(x,"[Auth]"),null}function u(d,h){return d instanceof t.MisoClientError?d.statusCode===h:l(d)&&d.response?d.response.status===h:!1}return gi}var Gr={},yi={},Zy;function Hs(){if(Zy)return yi;Zy=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.isBrowser=t,yi.validateUrl=n,yi.resolveControllerUrl=s,yi.resolveKeycloakUrl=o;function t(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function n(l){try{const c=new URL(l);return c.protocol==="http:"||c.protocol==="https:"}catch{return!1}}function s(l){const c=t();let i;if(c?i=l.controllerPublicUrl:i=l.controllerPrivateUrl,i||(i=l.controllerUrl),!i)throw new Error(`No controller URL configured. Please provide ${c?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!n(i))throw new Error(`Invalid controller URL format: "${i}". URL must be a valid HTTP or HTTPS URL.`);return i.includes("localhost")&&(i=i.replace(/localhost/g,"127.0.0.1")),i}function o(l){const c=t();let i;if(c?i=l.authServerPublicUrl:i=l.authServerPrivateUrl,i||(i=l.authServerUrl),!i)throw new Error(`No Keycloak URL configured. Please provide ${c?"authServerPublicUrl":"authServerPrivateUrl"} or authServerUrl in your Keycloak configuration.`);if(!n(i))throw new Error(`Invalid Keycloak URL format: "${i}". URL must be a valid HTTP or HTTPS URL.`);return i.includes("localhost")&&(i=i.replace(/localhost/g,"127.0.0.1")),i}return yi}/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Uf,ev;function Tu(){if(ev)return Uf;ev=1;function t(k,I){return function(){return k.apply(I,arguments)}}const{toString:n}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:o,toStringTag:l}=Symbol,c=(k=>I=>{const j=n.call(I);return k[j]||(k[j]=j.slice(8,-1).toLowerCase())})(Object.create(null)),i=k=>(k=k.toLowerCase(),I=>c(I)===k),u=k=>I=>typeof I===k,{isArray:d}=Array,h=u("undefined");function m(k){return k!==null&&!h(k)&&k.constructor!==null&&!h(k.constructor)&&b(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const p=i("ArrayBuffer");function x(k){let I;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?I=ArrayBuffer.isView(k):I=k&&k.buffer&&p(k.buffer),I}const A=u("string"),b=u("function"),T=u("number"),C=k=>k!==null&&typeof k=="object",w=k=>k===!0||k===!1,v=k=>{if(c(k)!=="object")return!1;const I=s(k);return(I===null||I===Object.prototype||Object.getPrototypeOf(I)===null)&&!(l in k)&&!(o in k)},S=k=>{if(!C(k)||m(k))return!1;try{return Object.keys(k).length===0&&Object.getPrototypeOf(k)===Object.prototype}catch{return!1}},_=i("Date"),L=i("File"),O=i("Blob"),N=i("FileList"),R=k=>C(k)&&b(k.pipe),M=k=>{let I;return k&&(typeof FormData=="function"&&k instanceof FormData||b(k.append)&&((I=c(k))==="formdata"||I==="object"&&b(k.toString)&&k.toString()==="[object FormData]"))},U=i("URLSearchParams"),[Z,ae,G,Q]=["ReadableStream","Request","Response","Headers"].map(i),z=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function K(k,I,{allOwnKeys:j=!1}={}){if(k===null||typeof k>"u")return;let D,F;if(typeof k!="object"&&(k=[k]),d(k))for(D=0,F=k.length;D<F;D++)I.call(null,k[D],D,k);else{if(m(k))return;const X=j?Object.getOwnPropertyNames(k):Object.keys(k),J=X.length;let ue;for(D=0;D<J;D++)ue=X[D],I.call(null,k[ue],ue,k)}}function Y(k,I){if(m(k))return null;I=I.toLowerCase();const j=Object.keys(k);let D=j.length,F;for(;D-- >0;)if(F=j[D],I===F.toLowerCase())return F;return null}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ao,oe=k=>!h(k)&&k!==H;function le(){const{caseless:k,skipUndefined:I}=oe(this)&&this||{},j={},D=(F,X)=>{const J=k&&Y(j,X)||X;v(j[J])&&v(F)?j[J]=le(j[J],F):v(F)?j[J]=le({},F):d(F)?j[J]=F.slice():(!I||!h(F))&&(j[J]=F)};for(let F=0,X=arguments.length;F<X;F++)arguments[F]&&K(arguments[F],D);return j}const W=(k,I,j,{allOwnKeys:D}={})=>(K(I,(F,X)=>{j&&b(F)?k[X]=t(F,j):k[X]=F},{allOwnKeys:D}),k),re=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),ce=(k,I,j,D)=>{k.prototype=Object.create(I.prototype,D),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:I.prototype}),j&&Object.assign(k.prototype,j)},me=(k,I,j,D)=>{let F,X,J;const ue={};if(I=I||{},k==null)return I;do{for(F=Object.getOwnPropertyNames(k),X=F.length;X-- >0;)J=F[X],(!D||D(J,k,I))&&!ue[J]&&(I[J]=k[J],ue[J]=!0);k=j!==!1&&s(k)}while(k&&(!j||j(k,I))&&k!==Object.prototype);return I},Se=(k,I,j)=>{k=String(k),(j===void 0||j>k.length)&&(j=k.length),j-=I.length;const D=k.indexOf(I,j);return D!==-1&&D===j},De=k=>{if(!k)return null;if(d(k))return k;let I=k.length;if(!T(I))return null;const j=new Array(I);for(;I-- >0;)j[I]=k[I];return j},Ue=(k=>I=>k&&I instanceof k)(typeof Uint8Array<"u"&&s(Uint8Array)),Oe=(k,I)=>{const D=(k&&k[o]).call(k);let F;for(;(F=D.next())&&!F.done;){const X=F.value;I.call(k,X[0],X[1])}},Xe=(k,I)=>{let j;const D=[];for(;(j=k.exec(I))!==null;)D.push(j);return D},ct=i("HTMLFormElement"),Xt=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(j,D,F){return D.toUpperCase()+F}),se=(({hasOwnProperty:k})=>(I,j)=>k.call(I,j))(Object.prototype),qe=i("RegExp"),Fe=(k,I)=>{const j=Object.getOwnPropertyDescriptors(k),D={};K(j,(F,X)=>{let J;(J=I(F,X,k))!==!1&&(D[X]=J||F)}),Object.defineProperties(k,D)},xt=k=>{Fe(k,(I,j)=>{if(b(k)&&["arguments","caller","callee"].indexOf(j)!==-1)return!1;const D=k[j];if(b(D)){if(I.enumerable=!1,"writable"in I){I.writable=!1;return}I.set||(I.set=()=>{throw Error("Can not rewrite read-only method '"+j+"'")})}})},jt=(k,I)=>{const j={},D=F=>{F.forEach(X=>{j[X]=!0})};return d(k)?D(k):D(String(k).split(I)),j},_t=()=>{},Bs=(k,I)=>k!=null&&Number.isFinite(k=+k)?k:I;function cr(k){return!!(k&&b(k.append)&&k[l]==="FormData"&&k[o])}const qn=k=>{const I=new Array(10),j=(D,F)=>{if(C(D)){if(I.indexOf(D)>=0)return;if(m(D))return D;if(!("toJSON"in D)){I[F]=D;const X=d(D)?[]:{};return K(D,(J,ue)=>{const _e=j(J,F+1);!h(_e)&&(X[ue]=_e)}),I[F]=void 0,X}}return D};return j(k,0)},En=i("AsyncFunction"),Ut=k=>k&&(C(k)||b(k))&&b(k.then)&&b(k.catch),Ur=((k,I)=>k?setImmediate:I?((j,D)=>(H.addEventListener("message",({source:F,data:X})=>{F===H&&X===j&&D.length&&D.shift()()},!1),F=>{D.push(F),H.postMessage(j,"*")}))(`axios@${Math.random()}`,[]):j=>setTimeout(j))(typeof setImmediate=="function",b(H.postMessage)),Mi=typeof queueMicrotask<"u"?queueMicrotask.bind(H):typeof process<"u"&&process.nextTick||Ur;var ne={isArray:d,isArrayBuffer:p,isBuffer:m,isFormData:M,isArrayBufferView:x,isString:A,isNumber:T,isBoolean:w,isObject:C,isPlainObject:v,isEmptyObject:S,isReadableStream:Z,isRequest:ae,isResponse:G,isHeaders:Q,isUndefined:h,isDate:_,isFile:L,isBlob:O,isRegExp:qe,isFunction:b,isStream:R,isURLSearchParams:U,isTypedArray:Ue,isFileList:N,forEach:K,merge:le,extend:W,trim:z,stripBOM:re,inherits:ce,toFlatObject:me,kindOf:c,kindOfTest:i,endsWith:Se,toArray:De,forEachEntry:Oe,matchAll:Xe,isHTMLForm:ct,hasOwnProperty:se,hasOwnProp:se,reduceDescriptors:Fe,freezeMethods:xt,toObjectSet:jt,toCamelCase:Xt,noop:_t,toFiniteNumber:Bs,findKey:Y,global:H,isContextDefined:oe,isSpecCompliantForm:cr,toJSONObject:qn,isAsyncFn:En,isThenable:Ut,setImmediate:Ur,asap:Mi,isIterable:k=>k!=null&&b(k[o])};function Ke(k,I,j,D,F){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",I&&(this.code=I),j&&(this.config=j),D&&(this.request=D),F&&(this.response=F,this.status=F.status?F.status:null)}ne.inherits(Ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const Sn=Ke.prototype,Fn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{Fn[k]={value:k}}),Object.defineProperties(Ke,Fn),Object.defineProperty(Sn,"isAxiosError",{value:!0}),Ke.from=(k,I,j,D,F,X)=>{const J=Object.create(Sn);ne.toFlatObject(k,J,function(ge){return ge!==Error.prototype},xe=>xe!=="isAxiosError");const ue=k&&k.message?k.message:"Error",_e=I==null&&k?k.code:I;return Ke.call(J,ue,_e,j,D,F),k&&J.cause==null&&Object.defineProperty(J,"cause",{value:k,configurable:!0}),J.name=k&&k.name||"Error",X&&Object.assign(J,X),J};var Er=null;function qr(k){return ne.isPlainObject(k)||ne.isArray(k)}function Zr(k){return ne.endsWith(k,"[]")?k.slice(0,-2):k}function Ks(k,I,j){return k?k.concat(I).map(function(F,X){return F=Zr(F),!j&&X?"["+F+"]":F}).join(j?".":""):I}function Ui(k){return ne.isArray(k)&&!k.some(qr)}const qi=ne.toFlatObject(ne,{},null,function(I){return/^is[A-Z]/.test(I)});function en(k,I,j){if(!ne.isObject(k))throw new TypeError("target must be an object");I=I||new FormData,j=ne.toFlatObject(j,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Be,je){return!ne.isUndefined(je[Be])});const D=j.metaTokens,F=j.visitor||ge,X=j.dots,J=j.indexes,_e=(j.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(I);if(!ne.isFunction(F))throw new TypeError("visitor must be a function");function xe(Ee){if(Ee===null)return"";if(ne.isDate(Ee))return Ee.toISOString();if(ne.isBoolean(Ee))return Ee.toString();if(!_e&&ne.isBlob(Ee))throw new Ke("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(Ee)||ne.isTypedArray(Ee)?_e&&typeof Blob=="function"?new Blob([Ee]):Buffer.from(Ee):Ee}function ge(Ee,Be,je){let At=Ee;if(Ee&&!je&&typeof Ee=="object"){if(ne.endsWith(Be,"{}"))Be=D?Be:Be.slice(0,-2),Ee=JSON.stringify(Ee);else if(ne.isArray(Ee)&&Ui(Ee)||(ne.isFileList(Ee)||ne.endsWith(Be,"[]"))&&(At=ne.toArray(Ee)))return Be=Zr(Be),At.forEach(function(Lt,rr){!(ne.isUndefined(Lt)||Lt===null)&&I.append(J===!0?Ks([Be],rr,X):J===null?Be:Be+"[]",xe(Lt))}),!1}return qr(Ee)?!0:(I.append(Ks(je,Be,X),xe(Ee)),!1)}const Me=[],nt=Object.assign(qi,{defaultVisitor:ge,convertValue:xe,isVisitable:qr});function Rt(Ee,Be){if(!ne.isUndefined(Ee)){if(Me.indexOf(Ee)!==-1)throw Error("Circular reference detected in "+Be.join("."));Me.push(Ee),ne.forEach(Ee,function(At,tr){(!(ne.isUndefined(At)||At===null)&&F.call(I,At,ne.isString(tr)?tr.trim():tr,Be,nt))===!0&&Rt(At,Be?Be.concat(tr):[tr])}),Me.pop()}}if(!ne.isObject(k))throw new TypeError("data must be an object");return Rt(k),I}function hs(k){const I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(D){return I[D]})}function tn(k,I){this._pairs=[],k&&en(k,this,I)}const ur=tn.prototype;ur.append=function(I,j){this._pairs.push([I,j])},ur.toString=function(I){const j=I?function(D){return I.call(this,D,hs)}:hs;return this._pairs.map(function(F){return j(F[0])+"="+j(F[1])},"").join("&")};function Vs(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rn(k,I,j){if(!I)return k;const D=j&&j.encode||Vs;ne.isFunction(j)&&(j={serialize:j});const F=j&&j.serialize;let X;if(F?X=F(I,j):X=ne.isURLSearchParams(I)?I.toString():new tn(I,j).toString(D),X){const J=k.indexOf("#");J!==-1&&(k=k.slice(0,J)),k+=(k.indexOf("?")===-1?"?":"&")+X}return k}class nn{constructor(){this.handlers=[]}use(I,j,D){return this.handlers.push({fulfilled:I,rejected:j,synchronous:D?D.synchronous:!1,runWhen:D?D.runWhen:null}),this.handlers.length-1}eject(I){this.handlers[I]&&(this.handlers[I]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(I){ne.forEach(this.handlers,function(D){D!==null&&I(D)})}}var ps=nn,Ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yt=typeof URLSearchParams<"u"?URLSearchParams:tn,kt=typeof FormData<"u"?FormData:null,Wt=typeof Blob<"u"?Blob:null,xn={isBrowser:!0,classes:{URLSearchParams:yt,FormData:kt,Blob:Wt},protocols:["http","https","file","blob","url","data"]};const pt=typeof window<"u"&&typeof document<"u",Ct=typeof navigator=="object"&&navigator||void 0,Cn=pt&&(!Ct||["ReactNative","NativeScript","NS"].indexOf(Ct.product)<0),qt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dr=pt&&window.location.href||"http://localhost";var bn=Object.freeze({__proto__:null,hasBrowserEnv:pt,hasStandardBrowserWebWorkerEnv:qt,hasStandardBrowserEnv:Cn,navigator:Ct,origin:dr}),lt={...bn,...xn};function Gs(k,I){return en(k,new lt.classes.URLSearchParams,{visitor:function(j,D,F,X){return lt.isNode&&ne.isBuffer(j)?(this.append(D,j.toString("base64")),!1):X.defaultVisitor.apply(this,arguments)},...I})}function Ho(k){return ne.matchAll(/\w+|\[(\w*)]/g,k).map(I=>I[0]==="[]"?"":I[1]||I[0])}function td(k){const I={},j=Object.keys(k);let D;const F=j.length;let X;for(D=0;D<F;D++)X=j[D],I[X]=k[X];return I}function Ol(k){function I(j,D,F,X){let J=j[X++];if(J==="__proto__")return!0;const ue=Number.isFinite(+J),_e=X>=j.length;return J=!J&&ne.isArray(F)?F.length:J,_e?(ne.hasOwnProp(F,J)?F[J]=[F[J],D]:F[J]=D,!ue):((!F[J]||!ne.isObject(F[J]))&&(F[J]=[]),I(j,D,F[J],X)&&ne.isArray(F[J])&&(F[J]=td(F[J])),!ue)}if(ne.isFormData(k)&&ne.isFunction(k.entries)){const j={};return ne.forEachEntry(k,(D,F)=>{I(Ho(D),F,j,0)}),j}return null}function rd(k,I,j){if(ne.isString(k))try{return(I||JSON.parse)(k),ne.trim(k)}catch(D){if(D.name!=="SyntaxError")throw D}return(j||JSON.stringify)(k)}const sn={transitional:Ve,adapter:["xhr","http","fetch"],transformRequest:[function(I,j){const D=j.getContentType()||"",F=D.indexOf("application/json")>-1,X=ne.isObject(I);if(X&&ne.isHTMLForm(I)&&(I=new FormData(I)),ne.isFormData(I))return F?JSON.stringify(Ol(I)):I;if(ne.isArrayBuffer(I)||ne.isBuffer(I)||ne.isStream(I)||ne.isFile(I)||ne.isBlob(I)||ne.isReadableStream(I))return I;if(ne.isArrayBufferView(I))return I.buffer;if(ne.isURLSearchParams(I))return j.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),I.toString();let ue;if(X){if(D.indexOf("application/x-www-form-urlencoded")>-1)return Gs(I,this.formSerializer).toString();if((ue=ne.isFileList(I))||D.indexOf("multipart/form-data")>-1){const _e=this.env&&this.env.FormData;return en(ue?{"files[]":I}:I,_e&&new _e,this.formSerializer)}}return X||F?(j.setContentType("application/json",!1),rd(I)):I}],transformResponse:[function(I){const j=this.transitional||sn.transitional,D=j&&j.forcedJSONParsing,F=this.responseType==="json";if(ne.isResponse(I)||ne.isReadableStream(I))return I;if(I&&ne.isString(I)&&(D&&!this.responseType||F)){const J=!(j&&j.silentJSONParsing)&&F;try{return JSON.parse(I,this.parseReviver)}catch(ue){if(J)throw ue.name==="SyntaxError"?Ke.from(ue,Ke.ERR_BAD_RESPONSE,this,null,this.response):ue}}return I}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(I){return I>=200&&I<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],k=>{sn.headers[k]={}});var Fi=sn;const jl=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var nd=k=>{const I={};let j,D,F;return k&&k.split(`
`).forEach(function(J){F=J.indexOf(":"),j=J.substring(0,F).trim().toLowerCase(),D=J.substring(F+1).trim(),!(!j||I[j]&&jl[j])&&(j==="set-cookie"?I[j]?I[j].push(D):I[j]=[D]:I[j]=I[j]?I[j]+", "+D:D)}),I};const $o=Symbol("internals");function ms(k){return k&&String(k).trim().toLowerCase()}function Js(k){return k===!1||k==null?k:ne.isArray(k)?k.map(Js):String(k)}function Ll(k){const I=Object.create(null),j=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let D;for(;D=j.exec(k);)I[D[1]]=D[2];return I}const sd=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function zo(k,I,j,D,F){if(ne.isFunction(D))return D.call(this,I,j);if(F&&(I=j),!!ne.isString(I)){if(ne.isString(D))return I.indexOf(D)!==-1;if(ne.isRegExp(D))return D.test(I)}}function vt(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(I,j,D)=>j.toUpperCase()+D)}function id(k,I){const j=ne.toCamelCase(" "+I);["get","set","has"].forEach(D=>{Object.defineProperty(k,D+j,{value:function(F,X,J){return this[D].call(this,I,F,X,J)},configurable:!0})})}class gs{constructor(I){I&&this.set(I)}set(I,j,D){const F=this;function X(ue,_e,xe){const ge=ms(_e);if(!ge)throw new Error("header name must be a non-empty string");const Me=ne.findKey(F,ge);(!Me||F[Me]===void 0||xe===!0||xe===void 0&&F[Me]!==!1)&&(F[Me||_e]=Js(ue))}const J=(ue,_e)=>ne.forEach(ue,(xe,ge)=>X(xe,ge,_e));if(ne.isPlainObject(I)||I instanceof this.constructor)J(I,j);else if(ne.isString(I)&&(I=I.trim())&&!sd(I))J(nd(I),j);else if(ne.isObject(I)&&ne.isIterable(I)){let ue={},_e,xe;for(const ge of I){if(!ne.isArray(ge))throw TypeError("Object iterator must return a key-value pair");ue[xe=ge[0]]=(_e=ue[xe])?ne.isArray(_e)?[..._e,ge[1]]:[_e,ge[1]]:ge[1]}J(ue,j)}else I!=null&&X(j,I,D);return this}get(I,j){if(I=ms(I),I){const D=ne.findKey(this,I);if(D){const F=this[D];if(!j)return F;if(j===!0)return Ll(F);if(ne.isFunction(j))return j.call(this,F,D);if(ne.isRegExp(j))return j.exec(F);throw new TypeError("parser must be boolean|regexp|function")}}}has(I,j){if(I=ms(I),I){const D=ne.findKey(this,I);return!!(D&&this[D]!==void 0&&(!j||zo(this,this[D],D,j)))}return!1}delete(I,j){const D=this;let F=!1;function X(J){if(J=ms(J),J){const ue=ne.findKey(D,J);ue&&(!j||zo(D,D[ue],ue,j))&&(delete D[ue],F=!0)}}return ne.isArray(I)?I.forEach(X):X(I),F}clear(I){const j=Object.keys(this);let D=j.length,F=!1;for(;D--;){const X=j[D];(!I||zo(this,this[X],X,I,!0))&&(delete this[X],F=!0)}return F}normalize(I){const j=this,D={};return ne.forEach(this,(F,X)=>{const J=ne.findKey(D,X);if(J){j[J]=Js(F),delete j[X];return}const ue=I?vt(X):String(X).trim();ue!==X&&delete j[X],j[ue]=Js(F),D[ue]=!0}),this}concat(...I){return this.constructor.concat(this,...I)}toJSON(I){const j=Object.create(null);return ne.forEach(this,(D,F)=>{D!=null&&D!==!1&&(j[F]=I&&ne.isArray(D)?D.join(", "):D)}),j}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([I,j])=>I+": "+j).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(I){return I instanceof this?I:new this(I)}static concat(I,...j){const D=new this(I);return j.forEach(F=>D.set(F)),D}static accessor(I){const D=(this[$o]=this[$o]={accessors:{}}).accessors,F=this.prototype;function X(J){const ue=ms(J);D[ue]||(id(F,J),D[ue]=!0)}return ne.isArray(I)?I.forEach(X):X(I),this}}gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ne.reduceDescriptors(gs.prototype,({value:k},I)=>{let j=I[0].toUpperCase()+I.slice(1);return{get:()=>k,set(D){this[j]=D}}}),ne.freezeMethods(gs);var Sr=gs;function ys(k,I){const j=this||Fi,D=I||j,F=Sr.from(D.headers);let X=D.data;return ne.forEach(k,function(ue){X=ue.call(j,X,F.normalize(),I?I.status:void 0)}),F.normalize(),X}function Dl(k){return!!(k&&k.__CANCEL__)}function Hn(k,I,j){Ke.call(this,k??"canceled",Ke.ERR_CANCELED,I,j),this.name="CanceledError"}ne.inherits(Hn,Ke,{__CANCEL__:!0});function Ys(k,I,j){const D=j.config.validateStatus;!j.status||!D||D(j.status)?k(j):I(new Ke("Request failed with status code "+j.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(j.status/100)-4],j.config,j.request,j))}function Fr(k){const I=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return I&&I[1]||""}function od(k,I){k=k||10;const j=new Array(k),D=new Array(k);let F=0,X=0,J;return I=I!==void 0?I:1e3,function(_e){const xe=Date.now(),ge=D[X];J||(J=xe),j[F]=_e,D[F]=xe;let Me=X,nt=0;for(;Me!==F;)nt+=j[Me++],Me=Me%k;if(F=(F+1)%k,F===X&&(X=(X+1)%k),xe-J<I)return;const Rt=ge&&xe-ge;return Rt?Math.round(nt*1e3/Rt):void 0}}function Nr(k,I){let j=0,D=1e3/I,F,X;const J=(xe,ge=Date.now())=>{j=ge,F=null,X&&(clearTimeout(X),X=null),k(...xe)};return[(...xe)=>{const ge=Date.now(),Me=ge-j;Me>=D?J(xe,ge):(F=xe,X||(X=setTimeout(()=>{X=null,J(F)},D-Me)))},()=>F&&J(F)]}const Hi=(k,I,j=3)=>{let D=0;const F=od(50,250);return Nr(X=>{const J=X.loaded,ue=X.lengthComputable?X.total:void 0,_e=J-D,xe=F(_e),ge=J<=ue;D=J;const Me={loaded:J,total:ue,progress:ue?J/ue:void 0,bytes:_e,rate:xe||void 0,estimated:xe&&ue&&ge?(ue-J)/xe:void 0,event:X,lengthComputable:ue!=null,[I?"download":"upload"]:!0};k(Me)},j)},Ml=(k,I)=>{const j=k!=null;return[D=>I[0]({lengthComputable:j,total:k,loaded:D}),I[1]]},Ul=k=>(...I)=>ne.asap(()=>k(...I));var $i=lt.hasStandardBrowserEnv?((k,I)=>j=>(j=new URL(j,lt.origin),k.protocol===j.protocol&&k.host===j.host&&(I||k.port===j.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,zi=lt.hasStandardBrowserEnv?{write(k,I,j,D,F,X){const J=[k+"="+encodeURIComponent(I)];ne.isNumber(j)&&J.push("expires="+new Date(j).toGMTString()),ne.isString(D)&&J.push("path="+D),ne.isString(F)&&J.push("domain="+F),X===!0&&J.push("secure"),document.cookie=J.join("; ")},read(k){const I=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return I?decodeURIComponent(I[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xs(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function Wi(k,I){return I?k.replace(/\/?\/$/,"")+"/"+I.replace(/^\/+/,""):k}function ql(k,I,j){let D=!Xs(I);return k&&(D||j==!1)?Wi(k,I):I}const Fl=k=>k instanceof Sr?{...k}:k;function on(k,I){I=I||{};const j={};function D(xe,ge,Me,nt){return ne.isPlainObject(xe)&&ne.isPlainObject(ge)?ne.merge.call({caseless:nt},xe,ge):ne.isPlainObject(ge)?ne.merge({},ge):ne.isArray(ge)?ge.slice():ge}function F(xe,ge,Me,nt){if(ne.isUndefined(ge)){if(!ne.isUndefined(xe))return D(void 0,xe,Me,nt)}else return D(xe,ge,Me,nt)}function X(xe,ge){if(!ne.isUndefined(ge))return D(void 0,ge)}function J(xe,ge){if(ne.isUndefined(ge)){if(!ne.isUndefined(xe))return D(void 0,xe)}else return D(void 0,ge)}function ue(xe,ge,Me){if(Me in I)return D(xe,ge);if(Me in k)return D(void 0,xe)}const _e={url:X,method:X,data:X,baseURL:J,transformRequest:J,transformResponse:J,paramsSerializer:J,timeout:J,timeoutMessage:J,withCredentials:J,withXSRFToken:J,adapter:J,responseType:J,xsrfCookieName:J,xsrfHeaderName:J,onUploadProgress:J,onDownloadProgress:J,decompress:J,maxContentLength:J,maxBodyLength:J,beforeRedirect:J,transport:J,httpAgent:J,httpsAgent:J,cancelToken:J,socketPath:J,responseEncoding:J,validateStatus:ue,headers:(xe,ge,Me)=>F(Fl(xe),Fl(ge),Me,!0)};return ne.forEach(Object.keys({...k,...I}),function(ge){const Me=_e[ge]||F,nt=Me(k[ge],I[ge],ge);ne.isUndefined(nt)&&Me!==ue||(j[ge]=nt)}),j}var Wo=k=>{const I=on({},k);let{data:j,withXSRFToken:D,xsrfHeaderName:F,xsrfCookieName:X,headers:J,auth:ue}=I;if(I.headers=J=Sr.from(J),I.url=rn(ql(I.baseURL,I.url,I.allowAbsoluteUrls),k.params,k.paramsSerializer),ue&&J.set("Authorization","Basic "+btoa((ue.username||"")+":"+(ue.password?unescape(encodeURIComponent(ue.password)):""))),ne.isFormData(j)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)J.setContentType(void 0);else if(ne.isFunction(j.getHeaders)){const _e=j.getHeaders(),xe=["content-type","content-length"];Object.entries(_e).forEach(([ge,Me])=>{xe.includes(ge.toLowerCase())&&J.set(ge,Me)})}}if(lt.hasStandardBrowserEnv&&(D&&ne.isFunction(D)&&(D=D(I)),D||D!==!1&&$i(I.url))){const _e=F&&X&&zi.read(X);_e&&J.set(F,_e)}return I},Qs=typeof XMLHttpRequest<"u"&&function(k){return new Promise(function(j,D){const F=Wo(k);let X=F.data;const J=Sr.from(F.headers).normalize();let{responseType:ue,onUploadProgress:_e,onDownloadProgress:xe}=F,ge,Me,nt,Rt,Ee;function Be(){Rt&&Rt(),Ee&&Ee(),F.cancelToken&&F.cancelToken.unsubscribe(ge),F.signal&&F.signal.removeEventListener("abort",ge)}let je=new XMLHttpRequest;je.open(F.method.toUpperCase(),F.url,!0),je.timeout=F.timeout;function At(){if(!je)return;const Lt=Sr.from("getAllResponseHeaders"in je&&je.getAllResponseHeaders()),Or={data:!ue||ue==="text"||ue==="json"?je.responseText:je.response,status:je.status,statusText:je.statusText,headers:Lt,config:k,request:je};Ys(function(xr){j(xr),Be()},function(xr){D(xr),Be()},Or),je=null}"onloadend"in je?je.onloadend=At:je.onreadystatechange=function(){!je||je.readyState!==4||je.status===0&&!(je.responseURL&&je.responseURL.indexOf("file:")===0)||setTimeout(At)},je.onabort=function(){je&&(D(new Ke("Request aborted",Ke.ECONNABORTED,k,je)),je=null)},je.onerror=function(rr){const Or=rr&&rr.message?rr.message:"Network Error",Kn=new Ke(Or,Ke.ERR_NETWORK,k,je);Kn.event=rr||null,D(Kn),je=null},je.ontimeout=function(){let rr=F.timeout?"timeout of "+F.timeout+"ms exceeded":"timeout exceeded";const Or=F.transitional||Ve;F.timeoutErrorMessage&&(rr=F.timeoutErrorMessage),D(new Ke(rr,Or.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,k,je)),je=null},X===void 0&&J.setContentType(null),"setRequestHeader"in je&&ne.forEach(J.toJSON(),function(rr,Or){je.setRequestHeader(Or,rr)}),ne.isUndefined(F.withCredentials)||(je.withCredentials=!!F.withCredentials),ue&&ue!=="json"&&(je.responseType=F.responseType),xe&&([nt,Ee]=Hi(xe,!0),je.addEventListener("progress",nt)),_e&&je.upload&&([Me,Rt]=Hi(_e),je.upload.addEventListener("progress",Me),je.upload.addEventListener("loadend",Rt)),(F.cancelToken||F.signal)&&(ge=Lt=>{je&&(D(!Lt||Lt.type?new Hn(null,k,je):Lt),je.abort(),je=null)},F.cancelToken&&F.cancelToken.subscribe(ge),F.signal&&(F.signal.aborted?ge():F.signal.addEventListener("abort",ge)));const tr=Fr(F.url);if(tr&&lt.protocols.indexOf(tr)===-1){D(new Ke("Unsupported protocol "+tr+":",Ke.ERR_BAD_REQUEST,k));return}je.send(X||null)})},Bo=(k,I)=>{const{length:j}=k=k?k.filter(Boolean):[];if(I||j){let D=new AbortController,F;const X=function(xe){if(!F){F=!0,ue();const ge=xe instanceof Error?xe:this.reason;D.abort(ge instanceof Ke?ge:new Hn(ge instanceof Error?ge.message:ge))}};let J=I&&setTimeout(()=>{J=null,X(new Ke(`timeout ${I} of ms exceeded`,Ke.ETIMEDOUT))},I);const ue=()=>{k&&(J&&clearTimeout(J),J=null,k.forEach(xe=>{xe.unsubscribe?xe.unsubscribe(X):xe.removeEventListener("abort",X)}),k=null)};k.forEach(xe=>xe.addEventListener("abort",X));const{signal:_e}=D;return _e.unsubscribe=()=>ne.asap(ue),_e}};const ot=function*(k,I){let j=k.byteLength;if(j<I){yield k;return}let D=0,F;for(;D<j;)F=D+I,yield k.slice(D,F),D=F},$l=async function*(k,I){for await(const j of zl(k))yield*ot(j,I)},zl=async function*(k){if(k[Symbol.asyncIterator]){yield*k;return}const I=k.getReader();try{for(;;){const{done:j,value:D}=await I.read();if(j)break;yield D}}finally{await I.cancel()}},Bi=(k,I,j,D)=>{const F=$l(k,I);let X=0,J,ue=_e=>{J||(J=!0,D&&D(_e))};return new ReadableStream({async pull(_e){try{const{done:xe,value:ge}=await F.next();if(xe){ue(),_e.close();return}let Me=ge.byteLength;if(j){let nt=X+=Me;j(nt)}_e.enqueue(new Uint8Array(ge))}catch(xe){throw ue(xe),xe}},cancel(_e){return ue(_e),F.return()}},{highWaterMark:2})},Ko=64*1024,{isFunction:Zs}=ne,Wl=(({Request:k,Response:I})=>({Request:k,Response:I}))(ne.global),{ReadableStream:Ki,TextEncoder:ei}=ne.global,an=(k,...I)=>{try{return!!k(...I)}catch{return!1}},Tn=k=>{k=ne.merge.call({skipUndefined:!0},Wl,k);const{fetch:I,Request:j,Response:D}=k,F=I?Zs(I):typeof fetch=="function",X=Zs(j),J=Zs(D);if(!F)return!1;const ue=F&&Zs(Ki),_e=F&&(typeof ei=="function"?(Ee=>Be=>Ee.encode(Be))(new ei):async Ee=>new Uint8Array(await new j(Ee).arrayBuffer())),xe=X&&ue&&an(()=>{let Ee=!1;const Be=new j(lt.origin,{body:new Ki,method:"POST",get duplex(){return Ee=!0,"half"}}).headers.has("Content-Type");return Ee&&!Be}),ge=J&&ue&&an(()=>ne.isReadableStream(new D("").body)),Me={stream:ge&&(Ee=>Ee.body)};F&&["text","arrayBuffer","blob","formData","stream"].forEach(Ee=>{!Me[Ee]&&(Me[Ee]=(Be,je)=>{let At=Be&&Be[Ee];if(At)return At.call(Be);throw new Ke(`Response type '${Ee}' is not supported`,Ke.ERR_NOT_SUPPORT,je)})});const nt=async Ee=>{if(Ee==null)return 0;if(ne.isBlob(Ee))return Ee.size;if(ne.isSpecCompliantForm(Ee))return(await new j(lt.origin,{method:"POST",body:Ee}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(Ee)||ne.isArrayBuffer(Ee))return Ee.byteLength;if(ne.isURLSearchParams(Ee)&&(Ee=Ee+""),ne.isString(Ee))return(await _e(Ee)).byteLength},Rt=async(Ee,Be)=>{const je=ne.toFiniteNumber(Ee.getContentLength());return je??nt(Be)};return async Ee=>{let{url:Be,method:je,data:At,signal:tr,cancelToken:Lt,timeout:rr,onDownloadProgress:Or,onUploadProgress:Kn,responseType:xr,headers:Gi,withCredentials:Ji="same-origin",fetchOptions:Vl}=Wo(Ee),Gl=I||fetch;xr=xr?(xr+"").toLowerCase():"text";let Yi=Bo([tr,Lt&&Lt.toAbortSignal()],rr),Vn=null;const Gn=Yi&&Yi.unsubscribe&&(()=>{Yi.unsubscribe()});let Jl;try{if(Kn&&xe&&je!=="get"&&je!=="head"&&(Jl=await Rt(Gi,At))!==0){let An=new j(Be,{method:"POST",body:At,duplex:"half"}),ws;if(ne.isFormData(At)&&(ws=An.headers.get("content-type"))&&Gi.setContentType(ws),An.body){const[Zo,Xi]=Ml(Jl,Hi(Ul(Kn)));At=Bi(An.body,Ko,Zo,Xi)}}ne.isString(Ji)||(Ji=Ji?"include":"omit");const Hr=X&&"credentials"in j.prototype,Qo={...Vl,signal:Yi,method:je.toUpperCase(),headers:Gi.normalize().toJSON(),body:At,duplex:"half",credentials:Hr?Ji:void 0};Vn=X&&new j(Be,Qo);let Rn=await(X?Gl(Vn,Vl):Gl(Be,Qo));const Yl=ge&&(xr==="stream"||xr==="response");if(ge&&(Or||Yl&&Gn)){const An={};["status","statusText","headers"].forEach(Qi=>{An[Qi]=Rn[Qi]});const ws=ne.toFiniteNumber(Rn.headers.get("content-length")),[Zo,Xi]=Or&&Ml(ws,Hi(Ul(Or),!0))||[];Rn=new D(Bi(Rn.body,Ko,Zo,()=>{Xi&&Xi(),Gn&&Gn()}),An)}xr=xr||"text";let ud=await Me[ne.findKey(Me,xr)||"text"](Rn,Ee);return!Yl&&Gn&&Gn(),await new Promise((An,ws)=>{Ys(An,ws,{data:ud,headers:Sr.from(Rn.headers),status:Rn.status,statusText:Rn.statusText,config:Ee,request:Vn})})}catch(Hr){throw Gn&&Gn(),Hr&&Hr.name==="TypeError"&&/Load failed|fetch/i.test(Hr.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,Ee,Vn),{cause:Hr.cause||Hr}):Ke.from(Hr,Hr&&Hr.code,Ee,Vn)}}},_n=new Map,vs=k=>{let I=k?k.env:{};const{fetch:j,Request:D,Response:F}=I,X=[D,F,j];let J=X.length,ue=J,_e,xe,ge=_n;for(;ue--;)_e=X[ue],xe=ge.get(_e),xe===void 0&&ge.set(_e,xe=ue?new Map:Tn(I)),ge=xe;return xe};vs();const $n={http:Er,xhr:Qs,fetch:{get:vs}};ne.forEach($n,(k,I)=>{if(k){try{Object.defineProperty(k,"name",{value:I})}catch{}Object.defineProperty(k,"adapterName",{value:I})}});const ln=k=>`- ${k}`,ad=k=>ne.isFunction(k)||k===null||k===!1;var Vo={getAdapter:(k,I)=>{k=ne.isArray(k)?k:[k];const{length:j}=k;let D,F;const X={};for(let J=0;J<j;J++){D=k[J];let ue;if(F=D,!ad(D)&&(F=$n[(ue=String(D)).toLowerCase()],F===void 0))throw new Ke(`Unknown adapter '${ue}'`);if(F&&(ne.isFunction(F)||(F=F.get(I))))break;X[ue||"#"+J]=F}if(!F){const J=Object.entries(X).map(([_e,xe])=>`adapter ${_e} `+(xe===!1?"is not supported by the environment":"is not available in the build"));let ue=j?J.length>1?`since :
`+J.map(ln).join(`
`):" "+ln(J[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+ue,"ERR_NOT_SUPPORT")}return F},adapters:$n};function zn(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new Hn(null,k)}function Bl(k){return zn(k),k.headers=Sr.from(k.headers),k.data=ys.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Vo.getAdapter(k.adapter||Fi.adapter,k)(k).then(function(D){return zn(k),D.data=ys.call(k,k.transformResponse,D),D.headers=Sr.from(D.headers),D},function(D){return Dl(D)||(zn(k),D&&D.response&&(D.response.data=ys.call(k,k.transformResponse,D.response),D.response.headers=Sr.from(D.response.headers))),Promise.reject(D)})}const Go="1.12.2",Wn={};["object","boolean","number","function","string","symbol"].forEach((k,I)=>{Wn[k]=function(D){return typeof D===k||"a"+(I<1?"n ":" ")+k}});const Jo={};Wn.transitional=function(I,j,D){function F(X,J){return"[Axios v"+Go+"] Transitional option '"+X+"'"+J+(D?". "+D:"")}return(X,J,ue)=>{if(I===!1)throw new Ke(F(J," has been removed"+(j?" in "+j:"")),Ke.ERR_DEPRECATED);return j&&!Jo[J]&&(Jo[J]=!0,console.warn(F(J," has been deprecated since v"+j+" and will be removed in the near future"))),I?I(X,J,ue):!0}},Wn.spelling=function(I){return(j,D)=>(console.warn(`${D} is likely a misspelling of ${I}`),!0)};function ld(k,I,j){if(typeof k!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const D=Object.keys(k);let F=D.length;for(;F-- >0;){const X=D[F],J=I[X];if(J){const ue=k[X],_e=ue===void 0||J(ue,X,k);if(_e!==!0)throw new Ke("option "+X+" must be "+_e,Ke.ERR_BAD_OPTION_VALUE);continue}if(j!==!0)throw new Ke("Unknown option "+X,Ke.ERR_BAD_OPTION)}}var kn={assertOptions:ld,validators:Wn};const er=kn.validators;class cn{constructor(I){this.defaults=I||{},this.interceptors={request:new ps,response:new ps}}async request(I,j){try{return await this._request(I,j)}catch(D){if(D instanceof Error){let F={};Error.captureStackTrace?Error.captureStackTrace(F):F=new Error;const X=F.stack?F.stack.replace(/^.+\n/,""):"";try{D.stack?X&&!String(D.stack).endsWith(X.replace(/^.+\n.+\n/,""))&&(D.stack+=`
`+X):D.stack=X}catch{}}throw D}}_request(I,j){typeof I=="string"?(j=j||{},j.url=I):j=I||{},j=on(this.defaults,j);const{transitional:D,paramsSerializer:F,headers:X}=j;D!==void 0&&kn.assertOptions(D,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),F!=null&&(ne.isFunction(F)?j.paramsSerializer={serialize:F}:kn.assertOptions(F,{encode:er.function,serialize:er.function},!0)),j.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?j.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:j.allowAbsoluteUrls=!0),kn.assertOptions(j,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),j.method=(j.method||this.defaults.method||"get").toLowerCase();let J=X&&ne.merge(X.common,X[j.method]);X&&ne.forEach(["delete","get","head","post","put","patch","common"],Ee=>{delete X[Ee]}),j.headers=Sr.concat(J,X);const ue=[];let _e=!0;this.interceptors.request.forEach(function(Be){typeof Be.runWhen=="function"&&Be.runWhen(j)===!1||(_e=_e&&Be.synchronous,ue.unshift(Be.fulfilled,Be.rejected))});const xe=[];this.interceptors.response.forEach(function(Be){xe.push(Be.fulfilled,Be.rejected)});let ge,Me=0,nt;if(!_e){const Ee=[Bl.bind(this),void 0];for(Ee.unshift(...ue),Ee.push(...xe),nt=Ee.length,ge=Promise.resolve(j);Me<nt;)ge=ge.then(Ee[Me++],Ee[Me++]);return ge}nt=ue.length;let Rt=j;for(;Me<nt;){const Ee=ue[Me++],Be=ue[Me++];try{Rt=Ee(Rt)}catch(je){Be.call(this,je);break}}try{ge=Bl.call(this,Rt)}catch(Ee){return Promise.reject(Ee)}for(Me=0,nt=xe.length;Me<nt;)ge=ge.then(xe[Me++],xe[Me++]);return ge}getUri(I){I=on(this.defaults,I);const j=ql(I.baseURL,I.url,I.allowAbsoluteUrls);return rn(j,I.params,I.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(I){cn.prototype[I]=function(j,D){return this.request(on(D||{},{method:I,url:j,data:(D||{}).data}))}}),ne.forEach(["post","put","patch"],function(I){function j(D){return function(X,J,ue){return this.request(on(ue||{},{method:I,headers:D?{"Content-Type":"multipart/form-data"}:{},url:X,data:J}))}}cn.prototype[I]=j(),cn.prototype[I+"Form"]=j(!0)});var Bn=cn;class Yo{constructor(I){if(typeof I!="function")throw new TypeError("executor must be a function.");let j;this.promise=new Promise(function(X){j=X});const D=this;this.promise.then(F=>{if(!D._listeners)return;let X=D._listeners.length;for(;X-- >0;)D._listeners[X](F);D._listeners=null}),this.promise.then=F=>{let X;const J=new Promise(ue=>{D.subscribe(ue),X=ue}).then(F);return J.cancel=function(){D.unsubscribe(X)},J},I(function(X,J,ue){D.reason||(D.reason=new Hn(X,J,ue),j(D.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(I){if(this.reason){I(this.reason);return}this._listeners?this._listeners.push(I):this._listeners=[I]}unsubscribe(I){if(!this._listeners)return;const j=this._listeners.indexOf(I);j!==-1&&this._listeners.splice(j,1)}toAbortSignal(){const I=new AbortController,j=D=>{I.abort(D)};return this.subscribe(j),I.signal.unsubscribe=()=>this.unsubscribe(j),I.signal}static source(){let I;return{token:new Yo(function(F){I=F}),cancel:I}}}var cd=Yo;function Xo(k){return function(j){return k.apply(null,j)}}function Vi(k){return ne.isObject(k)&&k.isAxiosError===!0}const ti={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ti).forEach(([k,I])=>{ti[I]=k});var Kl=ti;function un(k){const I=new Bn(k),j=t(Bn.prototype.request,I);return ne.extend(j,Bn.prototype,I,{allOwnKeys:!0}),ne.extend(j,I,null,{allOwnKeys:!0}),j.create=function(F){return un(on(k,F))},j}const mt=un(Fi);return mt.Axios=Bn,mt.CanceledError=Hn,mt.CancelToken=cd,mt.isCancel=Dl,mt.VERSION=Go,mt.toFormData=en,mt.AxiosError=Ke,mt.Cancel=mt.CanceledError,mt.all=function(I){return Promise.all(I)},mt.spread=Xo,mt.isAxiosError=Vi,mt.mergeConfig=on,mt.AxiosHeaders=Sr,mt.formToJSON=k=>Ol(ne.isHTMLForm(k)?new FormData(k):k),mt.getAdapter=Vo.getAdapter,mt.HttpStatusCode=Kl,mt.default=mt,Uf=mt,Uf}const a_={},l_=Object.freeze(Object.defineProperty({__proto__:null,default:a_},Symbol.toStringTag,{value:"Module"})),ji=bl(l_);var tv;function c_(){if(tv)return Gr;tv=1;var t=Gr&&Gr.__createBinding||(Object.create?(function(u,d,h,m){m===void 0&&(m=h);var p=Object.getOwnPropertyDescriptor(d,h);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(u,m,p)}):(function(u,d,h,m){m===void 0&&(m=h),u[m]=d[h]})),n=Gr&&Gr.__setModuleDefault||(Object.create?(function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}):function(u,d){u.default=d}),s=Gr&&Gr.__importStar||(function(){var u=function(d){return u=Object.getOwnPropertyNames||function(h){var m=[];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(m[m.length]=p);return m},u(d)};return function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var m=u(d),p=0;p<m.length;p++)m[p]!=="default"&&t(h,d,m[p]);return n(h,d),h}})();Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.extractTokenFromEnvResponse=l,Gr.createEnvTokenClient=c,Gr.fetchEnvironmentTokenResponse=i;const o=Hs();function l(u){const d=u,h=d?.data;return h?.data?.token||h?.token||d?.token}async function c(u,d,h){const m=(await Promise.resolve().then(()=>s(Tu()))).default,p=await Promise.resolve().then(()=>s(ji)),x=await Promise.resolve().then(()=>s(ji)),A=(0,o.resolveControllerUrl)(u),b=A.startsWith("https://"),T={family:4,timeout:d},C=new AbortController,w=setTimeout(()=>C.abort(),d);return{tempAxios:m.create({baseURL:A,timeout:d,signal:C.signal,httpAgent:b?void 0:new p.Agent(T),httpsAgent:b?new x.Agent(T):void 0,headers:{"Content-Type":"application/json","x-client-id":h,"x-client-secret":u.clientSecret}}),timeoutId:w,controller:C}}async function i(u,d,h,m,p){const x=new Promise((A,b)=>setTimeout(()=>b(new Error(`Request timeout after ${p}ms`)),p));try{const A=await Promise.race([u.post(m),x]);return clearTimeout(d),A}catch(A){throw clearTimeout(d),h.abort(),A}}return Gr}var Ln={};const hu={createHash:()=>({update:()=>({digest:()=>""})}),randomBytes:()=>({toString:()=>""})};typeof He<"u"&&He.exports&&(He.exports=hu,He.exports.default=hu);const u_=Object.freeze(Object.defineProperty({__proto__:null,crypto:hu,default:hu},Symbol.toStringTag,{value:"Module"})),_u=bl(u_);var is={},Gc={exports:{}};const pu=bl(VC);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rv;function Tl(){return rv||(rv=1,(function(t,n){var s=pu,o=s.Buffer;function l(i,u){for(var d in i)u[d]=i[d]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=s:(l(s,n),n.Buffer=c);function c(i,u,d){return o(i,u,d)}c.prototype=Object.create(o.prototype),l(o,c),c.from=function(i,u,d){if(typeof i=="number")throw new TypeError("Argument must not be a number");return o(i,u,d)},c.alloc=function(i,u,d){if(typeof i!="number")throw new TypeError("Argument must be a number");var h=o(i);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},c.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return o(i)},c.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(i)}})(Gc,Gc.exports)),Gc.exports}class $s{static from(n){return new $s}constructor(){}pipe(){return{}}on(){return this}once(){return Promise.resolve({})}read(){return null}push(){return!0}destroy(){}emit(){return!1}removeListener(){return this}removeAllListeners(){return this}}class ku{write(){return!0}end(){return this}on(){return this}once(){return Promise.resolve({})}destroy(){}}class Ru extends $s{_transform(){}}class jp extends $s{write(){return!0}end(){return this}}class Lp extends Ru{}const Ni={Readable:$s,Writable:ku,Transform:Ru,Duplex:jp,PassThrough:Lp};typeof He<"u"&&typeof He.exports<"u"&&(He.exports=Ni,He.exports.default=Ni,He.exports.stream=Ni,He.exports.Readable=$s,He.exports.Writable=ku,He.exports.Transform=Ru,He.exports.Duplex=jp,He.exports.PassThrough=Lp);typeof tt<"u"&&(tt.default=Ni,tt.stream=Ni,tt.Readable=$s,tt.Writable=ku,tt.Transform=Ru,tt.Duplex=jp,tt.PassThrough=Lp);const Dp=Object.freeze(Object.defineProperty({__proto__:null,Readable:$s,Writable:ku,default:Ni,stream:Ni},Symbol.toStringTag,{value:"Module"}));function Au(t,n){if(!n)return;let s=n.prototype;if(!s)try{Object.isExtensible&&Object.isExtensible(n)?(n.prototype={},s=n.prototype):s=Object.prototype}catch{s=Object.prototype}(typeof s!="object"||s===null)&&(s=Object.prototype),t.super_=n;try{t.prototype=Object.create(s,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}catch{try{if(t.prototype=Object.create(Object.prototype),t.prototype.constructor=t,s&&typeof s=="object"&&s!==Object.prototype){for(const l in s)if(s.hasOwnProperty(l))try{t.prototype[l]=s[l]}catch{}}}catch{t.prototype||(t.prototype={}),t.prototype.constructor||(t.prototype.constructor=t)}}}function Iu(t){try{return JSON.stringify(t,null,2)}catch{return String(t)}}function Pu(t){return function(...n){return new Promise((s,o)=>{t(...n,(l,c)=>{l?o(l):s(c)})})}}function Nu(t,n){let s=!1;return function(...o){return s||(console.warn("DeprecationWarning:",n),s=!0),t.apply(this,o)}}const Oi={inherits:Au,inspect:Iu,promisify:Pu,deprecate:Nu};typeof He<"u"&&typeof He.exports<"u"&&(He.exports=Oi,He.exports.default=Oi,He.exports.util=Oi,He.exports.inherits=Au,He.exports.inspect=Iu,He.exports.promisify=Pu,He.exports.deprecate=Nu);typeof tt<"u"&&(tt.default=Oi,tt.util=Oi,tt.inherits=Au,tt.inspect=Iu,tt.promisify=Pu,tt.deprecate=Nu);const Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Oi,deprecate:Nu,inherits:Au,inspect:Iu,promisify:Pu,util:Oi},Symbol.toStringTag,{value:"Module"}));var qf,nv;function qE(){if(nv)return qf;nv=1;var t=Tl().Buffer,n=Dp,s=Ou;function o(l){if(this.buffer=null,this.writable=!0,this.readable=!0,!l)return this.buffer=t.alloc(0),this;if(typeof l.pipe=="function")return this.buffer=t.alloc(0),l.pipe(this),this;if(l.length||typeof l=="object")return this.buffer=l,this.writable=!1,process.nextTick(function(){this.emit("end",l),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof l+")")}return s.inherits(o,n),o.prototype.write=function(c){this.buffer=t.concat([this.buffer,t.from(c)]),this.emit("data",c)},o.prototype.end=function(c){c&&this.write(c),this.emit("end",c),this.emit("close"),this.writable=!1,this.readable=!1},qf=o,qf}var Ff,sv;function d_(){if(sv)return Ff;sv=1;function t(o){var l=(o/8|0)+(o%8===0?0:1);return l}var n={ES256:t(256),ES384:t(384),ES512:t(521)};function s(o){var l=n[o];if(l)return l;throw new Error('Unknown algorithm "'+o+'"')}return Ff=s,Ff}var Hf,iv;function f_(){if(iv)return Hf;iv=1;var t=Tl().Buffer,n=d_(),s=128,o=0,l=32,c=16,i=2,u=c|l|o<<6,d=i|o<<6;function h(b){return b.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(b){if(t.isBuffer(b))return b;if(typeof b=="string")return t.from(b,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function p(b,T){b=m(b);var C=n(T),w=C+1,v=b.length,S=0;if(b[S++]!==u)throw new Error('Could not find expected "seq"');var _=b[S++];if(_===(s|1)&&(_=b[S++]),v-S<_)throw new Error('"seq" specified length of "'+_+'", only "'+(v-S)+'" remaining');if(b[S++]!==d)throw new Error('Could not find expected "int" for "r"');var L=b[S++];if(v-S-2<L)throw new Error('"r" specified length of "'+L+'", only "'+(v-S-2)+'" available');if(w<L)throw new Error('"r" specified length of "'+L+'", max of "'+w+'" is acceptable');var O=S;if(S+=L,b[S++]!==d)throw new Error('Could not find expected "int" for "s"');var N=b[S++];if(v-S!==N)throw new Error('"s" specified length of "'+N+'", expected "'+(v-S)+'"');if(w<N)throw new Error('"s" specified length of "'+N+'", max of "'+w+'" is acceptable');var R=S;if(S+=N,S!==v)throw new Error('Expected to consume entire buffer, but "'+(v-S)+'" bytes remain');var M=C-L,U=C-N,Z=t.allocUnsafe(M+L+U+N);for(S=0;S<M;++S)Z[S]=0;b.copy(Z,S,O+Math.max(-M,0),O+L),S=C;for(var ae=S;S<ae+U;++S)Z[S]=0;return b.copy(Z,S,R+Math.max(-U,0),R+N),Z=Z.toString("base64"),Z=h(Z),Z}function x(b,T,C){for(var w=0;T+w<C&&b[T+w]===0;)++w;var v=b[T+w]>=s;return v&&--w,w}function A(b,T){b=m(b);var C=n(T),w=b.length;if(w!==C*2)throw new TypeError('"'+T+'" signatures must be "'+C*2+'" bytes, saw "'+w+'"');var v=x(b,0,C),S=x(b,C,b.length),_=C-v,L=C-S,O=2+_+1+1+L,N=O<s,R=t.allocUnsafe((N?2:3)+O),M=0;return R[M++]=u,N?R[M++]=O:(R[M++]=s|1,R[M++]=O&255),R[M++]=d,R[M++]=_,v<0?(R[M++]=0,M+=b.copy(R,M,0,C)):M+=b.copy(R,M,v,C),R[M++]=d,R[M++]=L,S<0?(R[M++]=0,b.copy(R,M,C)):b.copy(R,M,C+S),R}return Hf={derToJose:p,joseToDer:A},Hf}var $f,ov;function h_(){if(ov)return $f;ov=1;var t=pu.Buffer,n=pu.SlowBuffer;$f=s;function s(c,i){if(!t.isBuffer(c)||!t.isBuffer(i)||c.length!==i.length)return!1;for(var u=0,d=0;d<c.length;d++)u|=c[d]^i[d];return u===0}s.install=function(){t.prototype.equal=n.prototype.equal=function(i){return s(this,i)}};var o=t.prototype.equal,l=n.prototype.equal;return s.restore=function(){t.prototype.equal=o,n.prototype.equal=l},$f}var zf,av;function FE(){if(av)return zf;av=1;var t=Tl().Buffer,n=_u,s=f_(),o=Ou,l=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,c="secret must be a string or buffer",i="key must be a string or a buffer",u="key must be a string, a buffer or an object",d=typeof n.createPublicKey=="function";d&&(i+=" or a KeyObject",c+="or a KeyObject");function h(G){if(!t.isBuffer(G)&&typeof G!="string"&&(!d||typeof G!="object"||typeof G.type!="string"||typeof G.asymmetricKeyType!="string"||typeof G.export!="function"))throw b(i)}function m(G){if(!t.isBuffer(G)&&typeof G!="string"&&typeof G!="object")throw b(u)}function p(G){if(!t.isBuffer(G)){if(typeof G=="string")return G;if(!d||typeof G!="object"||G.type!=="secret"||typeof G.export!="function")throw b(c)}}function x(G){return G.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function A(G){G=G.toString();var Q=4-G.length%4;if(Q!==4)for(var z=0;z<Q;++z)G+="=";return G.replace(/\-/g,"+").replace(/_/g,"/")}function b(G){var Q=[].slice.call(arguments,1),z=o.format.bind(o,G).apply(null,Q);return new TypeError(z)}function T(G){return t.isBuffer(G)||typeof G=="string"}function C(G){return T(G)||(G=JSON.stringify(G)),G}function w(G){return function(z,K){p(K),z=C(z);var Y=n.createHmac("sha"+G,K),H=(Y.update(z),Y.digest("base64"));return x(H)}}var v,S="timingSafeEqual"in n?function(Q,z){return Q.byteLength!==z.byteLength?!1:n.timingSafeEqual(Q,z)}:function(Q,z){return v||(v=h_()),v(Q,z)};function _(G){return function(z,K,Y){var H=w(G)(z,Y);return S(t.from(K),t.from(H))}}function L(G){return function(z,K){m(K),z=C(z);var Y=n.createSign("RSA-SHA"+G),H=(Y.update(z),Y.sign(K,"base64"));return x(H)}}function O(G){return function(z,K,Y){h(Y),z=C(z),K=A(K);var H=n.createVerify("RSA-SHA"+G);return H.update(z),H.verify(Y,K,"base64")}}function N(G){return function(z,K){m(K),z=C(z);var Y=n.createSign("RSA-SHA"+G),H=(Y.update(z),Y.sign({key:K,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return x(H)}}function R(G){return function(z,K,Y){h(Y),z=C(z),K=A(K);var H=n.createVerify("RSA-SHA"+G);return H.update(z),H.verify({key:Y,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},K,"base64")}}function M(G){var Q=L(G);return function(){var K=Q.apply(null,arguments);return K=s.derToJose(K,"ES"+G),K}}function U(G){var Q=O(G);return function(K,Y,H){Y=s.joseToDer(Y,"ES"+G).toString("base64");var oe=Q(K,Y,H);return oe}}function Z(){return function(){return""}}function ae(){return function(Q,z){return z===""}}return zf=function(Q){var z={hs:w,rs:L,ps:N,es:M,none:Z},K={hs:_,rs:O,ps:R,es:U,none:ae},Y=Q.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!Y)throw b(l,Q);var H=(Y[1]||Y[3]).toLowerCase(),oe=Y[2];return{sign:z[H](oe),verify:K[H](oe)}},zf}var Wf,lv;function HE(){if(lv)return Wf;lv=1;var t=pu.Buffer;return Wf=function(s){return typeof s=="string"?s:typeof s=="number"||t.isBuffer(s)?s.toString():JSON.stringify(s)},Wf}var Bf,cv;function p_(){if(cv)return Bf;cv=1;var t=Tl().Buffer,n=qE(),s=FE(),o=Dp,l=HE(),c=Ou;function i(m,p){return t.from(m,p).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(m,p,x){x=x||"utf8";var A=i(l(m),"binary"),b=i(l(p),x);return c.format("%s.%s",A,b)}function d(m){var p=m.header,x=m.payload,A=m.secret||m.privateKey,b=m.encoding,T=s(p.alg),C=u(p,x,b),w=T.sign(C,A);return c.format("%s.%s",C,w)}function h(m){var p=m.secret||m.privateKey||m.key,x=new n(p);this.readable=!0,this.header=m.header,this.encoding=m.encoding,this.secret=this.privateKey=this.key=x,this.payload=new n(m.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return c.inherits(h,o),h.prototype.sign=function(){try{var p=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",p),this.emit("data",p),this.emit("end"),this.readable=!1,p}catch(x){this.readable=!1,this.emit("error",x),this.emit("close")}},h.sign=d,Bf=h,Bf}var Kf,uv;function m_(){if(uv)return Kf;uv=1;var t=Tl().Buffer,n=qE(),s=FE(),o=Dp,l=HE(),c=Ou,i=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(w){return Object.prototype.toString.call(w)==="[object Object]"}function d(w){if(u(w))return w;try{return JSON.parse(w)}catch{return}}function h(w){var v=w.split(".",1)[0];return d(t.from(v,"base64").toString("binary"))}function m(w){return w.split(".",2).join(".")}function p(w){return w.split(".")[2]}function x(w,v){v=v||"utf8";var S=w.split(".")[1];return t.from(S,"base64").toString(v)}function A(w){return i.test(w)&&!!h(w)}function b(w,v,S){if(!v){var _=new Error("Missing algorithm parameter for jws.verify");throw _.code="MISSING_ALGORITHM",_}w=l(w);var L=p(w),O=m(w),N=s(v);return N.verify(O,L,S)}function T(w,v){if(v=v||{},w=l(w),!A(w))return null;var S=h(w);if(!S)return null;var _=x(w);return(S.typ==="JWT"||v.json)&&(_=JSON.parse(_,v.encoding)),{header:S,payload:_,signature:p(w)}}function C(w){w=w||{};var v=w.secret||w.publicKey||w.key,S=new n(v);this.readable=!0,this.algorithm=w.algorithm,this.encoding=w.encoding,this.secret=this.publicKey=this.key=S,this.signature=new n(w.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return c.inherits(C,o),C.prototype.verify=function(){try{var v=b(this.signature.buffer,this.algorithm,this.key.buffer),S=T(this.signature.buffer,this.encoding);return this.emit("done",v,S),this.emit("data",v),this.emit("end"),this.readable=!1,v}catch(_){this.readable=!1,this.emit("error",_),this.emit("close")}},C.decode=T,C.isValid=A,C.verify=b,Kf=C,Kf}var dv;function Mp(){if(dv)return is;dv=1;var t=p_(),n=m_(),s=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return is.ALGORITHMS=s,is.sign=t.sign,is.verify=n.verify,is.decode=n.decode,is.isValid=n.isValid,is.createSign=function(l){return new t(l)},is.createVerify=function(l){return new n(l)},is}var Vf,fv;function $E(){if(fv)return Vf;fv=1;var t=Mp();return Vf=function(n,s){s=s||{};var o=t.decode(n,s);if(!o)return null;var l=o.payload;if(typeof l=="string")try{var c=JSON.parse(l);c!==null&&typeof c=="object"&&(l=c)}catch{}return s.complete===!0?{header:o.header,payload:l,signature:o.signature}:l},Vf}var Gf,hv;function ju(){if(hv)return Gf;hv=1;var t=function(n,s){Error.call(this,n),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=n,s&&(this.inner=s)};return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,Gf=t,Gf}var Jf,pv;function zE(){if(pv)return Jf;pv=1;var t=ju(),n=function(s,o){t.call(this,s),this.name="NotBeforeError",this.date=o};return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Jf=n,Jf}var Yf,mv;function WE(){if(mv)return Yf;mv=1;var t=ju(),n=function(s,o){t.call(this,s),this.name="TokenExpiredError",this.expiredAt=o};return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Yf=n,Yf}var Xf,gv;function g_(){if(gv)return Xf;gv=1;var t=1e3,n=t*60,s=n*60,o=s*24,l=o*7,c=o*365.25;Xf=function(m,p){p=p||{};var x=typeof m;if(x==="string"&&m.length>0)return i(m);if(x==="number"&&isFinite(m))return p.long?d(m):u(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function i(m){if(m=String(m),!(m.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(p){var x=parseFloat(p[1]),A=(p[2]||"ms").toLowerCase();switch(A){case"years":case"year":case"yrs":case"yr":case"y":return x*c;case"weeks":case"week":case"w":return x*l;case"days":case"day":case"d":return x*o;case"hours":case"hour":case"hrs":case"hr":case"h":return x*s;case"minutes":case"minute":case"mins":case"min":case"m":return x*n;case"seconds":case"second":case"secs":case"sec":case"s":return x*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}function u(m){var p=Math.abs(m);return p>=o?Math.round(m/o)+"d":p>=s?Math.round(m/s)+"h":p>=n?Math.round(m/n)+"m":p>=t?Math.round(m/t)+"s":m+"ms"}function d(m){var p=Math.abs(m);return p>=o?h(m,p,o,"day"):p>=s?h(m,p,s,"hour"):p>=n?h(m,p,n,"minute"):p>=t?h(m,p,t,"second"):m+" ms"}function h(m,p,x,A){var b=p>=x*1.5;return Math.round(m/x)+" "+A+(b?"s":"")}return Xf}var Qf,yv;function BE(){if(yv)return Qf;yv=1;var t=g_();return Qf=function(n,s){var o=s||Math.floor(Date.now()/1e3);if(typeof n=="string"){var l=t(n);return typeof l>"u"?void 0:Math.floor(o+l/1e3)}else return typeof n=="number"?o+n:void 0},Qf}var Jc={exports:{}},Zf,vv;function Lu(){if(vv)return Zf;vv=1;const t="2.0.0",n=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,l=n-6;return Zf={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Zf}var eh,wv;function Du(){if(wv)return eh;wv=1;var t={};return eh=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{},eh}var Ev;function _l(){return Ev||(Ev=1,(function(t,n){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:l}=Lu(),c=Du();n=t.exports={};const i=n.re=[],u=n.safeRe=[],d=n.src=[],h=n.safeSrc=[],m=n.t={};let p=0;const x="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",l],[x,o]],b=C=>{for(const[w,v]of A)C=C.split(`${w}*`).join(`${w}{0,${v}}`).split(`${w}+`).join(`${w}{1,${v}}`);return C},T=(C,w,v)=>{const S=b(w),_=p++;c(C,_,w),m[C]=_,d[_]=w,h[_]=S,i[_]=new RegExp(w,v?"g":void 0),u[_]=new RegExp(S,v?"g":void 0)};T("NUMERICIDENTIFIER","0|[1-9]\\d*"),T("NUMERICIDENTIFIERLOOSE","\\d+"),T("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${x}*`),T("MAINVERSION",`(${d[m.NUMERICIDENTIFIER]})\\.(${d[m.NUMERICIDENTIFIER]})\\.(${d[m.NUMERICIDENTIFIER]})`),T("MAINVERSIONLOOSE",`(${d[m.NUMERICIDENTIFIERLOOSE]})\\.(${d[m.NUMERICIDENTIFIERLOOSE]})\\.(${d[m.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASEIDENTIFIER",`(?:${d[m.NONNUMERICIDENTIFIER]}|${d[m.NUMERICIDENTIFIER]})`),T("PRERELEASEIDENTIFIERLOOSE",`(?:${d[m.NONNUMERICIDENTIFIER]}|${d[m.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASE",`(?:-(${d[m.PRERELEASEIDENTIFIER]}(?:\\.${d[m.PRERELEASEIDENTIFIER]})*))`),T("PRERELEASELOOSE",`(?:-?(${d[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[m.PRERELEASEIDENTIFIERLOOSE]})*))`),T("BUILDIDENTIFIER",`${x}+`),T("BUILD",`(?:\\+(${d[m.BUILDIDENTIFIER]}(?:\\.${d[m.BUILDIDENTIFIER]})*))`),T("FULLPLAIN",`v?${d[m.MAINVERSION]}${d[m.PRERELEASE]}?${d[m.BUILD]}?`),T("FULL",`^${d[m.FULLPLAIN]}$`),T("LOOSEPLAIN",`[v=\\s]*${d[m.MAINVERSIONLOOSE]}${d[m.PRERELEASELOOSE]}?${d[m.BUILD]}?`),T("LOOSE",`^${d[m.LOOSEPLAIN]}$`),T("GTLT","((?:<|>)?=?)"),T("XRANGEIDENTIFIERLOOSE",`${d[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),T("XRANGEIDENTIFIER",`${d[m.NUMERICIDENTIFIER]}|x|X|\\*`),T("XRANGEPLAIN",`[v=\\s]*(${d[m.XRANGEIDENTIFIER]})(?:\\.(${d[m.XRANGEIDENTIFIER]})(?:\\.(${d[m.XRANGEIDENTIFIER]})(?:${d[m.PRERELEASE]})?${d[m.BUILD]}?)?)?`),T("XRANGEPLAINLOOSE",`[v=\\s]*(${d[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[m.XRANGEIDENTIFIERLOOSE]})(?:${d[m.PRERELEASELOOSE]})?${d[m.BUILD]}?)?)?`),T("XRANGE",`^${d[m.GTLT]}\\s*${d[m.XRANGEPLAIN]}$`),T("XRANGELOOSE",`^${d[m.GTLT]}\\s*${d[m.XRANGEPLAINLOOSE]}$`),T("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),T("COERCE",`${d[m.COERCEPLAIN]}(?:$|[^\\d])`),T("COERCEFULL",d[m.COERCEPLAIN]+`(?:${d[m.PRERELEASE]})?(?:${d[m.BUILD]})?(?:$|[^\\d])`),T("COERCERTL",d[m.COERCE],!0),T("COERCERTLFULL",d[m.COERCEFULL],!0),T("LONETILDE","(?:~>?)"),T("TILDETRIM",`(\\s*)${d[m.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",T("TILDE",`^${d[m.LONETILDE]}${d[m.XRANGEPLAIN]}$`),T("TILDELOOSE",`^${d[m.LONETILDE]}${d[m.XRANGEPLAINLOOSE]}$`),T("LONECARET","(?:\\^)"),T("CARETTRIM",`(\\s*)${d[m.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",T("CARET",`^${d[m.LONECARET]}${d[m.XRANGEPLAIN]}$`),T("CARETLOOSE",`^${d[m.LONECARET]}${d[m.XRANGEPLAINLOOSE]}$`),T("COMPARATORLOOSE",`^${d[m.GTLT]}\\s*(${d[m.LOOSEPLAIN]})$|^$`),T("COMPARATOR",`^${d[m.GTLT]}\\s*(${d[m.FULLPLAIN]})$|^$`),T("COMPARATORTRIM",`(\\s*)${d[m.GTLT]}\\s*(${d[m.LOOSEPLAIN]}|${d[m.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",T("HYPHENRANGE",`^\\s*(${d[m.XRANGEPLAIN]})\\s+-\\s+(${d[m.XRANGEPLAIN]})\\s*$`),T("HYPHENRANGELOOSE",`^\\s*(${d[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[m.XRANGEPLAINLOOSE]})\\s*$`),T("STAR","(<|>)?=?\\s*\\*"),T("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),T("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Jc,Jc.exports)),Jc.exports}var th,Sv;function Up(){if(Sv)return th;Sv=1;const t=Object.freeze({loose:!0}),n=Object.freeze({});return th=o=>o?typeof o!="object"?t:o:n,th}var rh,xv;function KE(){if(xv)return rh;xv=1;const t=/^[0-9]+$/,n=(o,l)=>{if(typeof o=="number"&&typeof l=="number")return o===l?0:o<l?-1:1;const c=t.test(o),i=t.test(l);return c&&i&&(o=+o,l=+l),o===l?0:c&&!i?-1:i&&!c?1:o<l?-1:1};return rh={compareIdentifiers:n,rcompareIdentifiers:(o,l)=>n(l,o)},rh}var nh,Cv;function wr(){if(Cv)return nh;Cv=1;const t=Du(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:s}=Lu(),{safeRe:o,t:l}=_l(),c=Up(),{compareIdentifiers:i}=KE();class u{constructor(h,m){if(m=c(m),h instanceof u){if(h.loose===!!m.loose&&h.includePrerelease===!!m.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>n)throw new TypeError(`version is longer than ${n} characters`);t("SemVer",h,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const p=h.trim().match(m.loose?o[l.LOOSE]:o[l.FULL]);if(!p)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(x=>{if(/^[0-9]+$/.test(x)){const A=+x;if(A>=0&&A<s)return A}return x}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof u)){if(typeof h=="string"&&h===this.version)return 0;h=new u(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof u||(h=new u(h,this.options)),this.major<h.major?-1:this.major>h.major?1:this.minor<h.minor?-1:this.minor>h.minor?1:this.patch<h.patch?-1:this.patch>h.patch?1:0}comparePre(h){if(h instanceof u||(h=new u(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let m=0;do{const p=this.prerelease[m],x=h.prerelease[m];if(t("prerelease compare",m,p,x),p===void 0&&x===void 0)return 0;if(x===void 0)return 1;if(p===void 0)return-1;if(p===x)continue;return i(p,x)}while(++m)}compareBuild(h){h instanceof u||(h=new u(h,this.options));let m=0;do{const p=this.build[m],x=h.build[m];if(t("build compare",m,p,x),p===void 0&&x===void 0)return 0;if(x===void 0)return 1;if(p===void 0)return-1;if(p===x)continue;return i(p,x)}while(++m)}inc(h,m,p){if(h.startsWith("pre")){if(!m&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(m){const x=`-${m}`.match(this.options.loose?o[l.PRERELEASELOOSE]:o[l.PRERELEASE]);if(!x||x[1]!==m)throw new Error(`invalid identifier: ${m}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,p),this.inc("pre",m,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,p),this.inc("pre",m,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const x=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[x];else{let A=this.prerelease.length;for(;--A>=0;)typeof this.prerelease[A]=="number"&&(this.prerelease[A]++,A=-2);if(A===-1){if(m===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(x)}}if(m){let A=[m,x];p===!1&&(A=[m]),i(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=A):this.prerelease=A}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return nh=u,nh}var sh,bv;function Do(){if(bv)return sh;bv=1;const t=wr();return sh=(s,o,l=!1)=>{if(s instanceof t)return s;try{return new t(s,o)}catch(c){if(!l)return null;throw c}},sh}var ih,Tv;function y_(){if(Tv)return ih;Tv=1;const t=Do();return ih=(s,o)=>{const l=t(s,o);return l?l.version:null},ih}var oh,_v;function v_(){if(_v)return oh;_v=1;const t=Do();return oh=(s,o)=>{const l=t(s.trim().replace(/^[=v]+/,""),o);return l?l.version:null},oh}var ah,kv;function w_(){if(kv)return ah;kv=1;const t=wr();return ah=(s,o,l,c,i)=>{typeof l=="string"&&(i=c,c=l,l=void 0);try{return new t(s instanceof t?s.version:s,l).inc(o,c,i).version}catch{return null}},ah}var lh,Rv;function E_(){if(Rv)return lh;Rv=1;const t=Do();return lh=(s,o)=>{const l=t(s,null,!0),c=t(o,null,!0),i=l.compare(c);if(i===0)return null;const u=i>0,d=u?l:c,h=u?c:l,m=!!d.prerelease.length;if(!!h.prerelease.length&&!m){if(!h.patch&&!h.minor)return"major";if(h.compareMain(d)===0)return h.minor&&!h.patch?"minor":"patch"}const x=m?"pre":"";return l.major!==c.major?x+"major":l.minor!==c.minor?x+"minor":l.patch!==c.patch?x+"patch":"prerelease"},lh}var ch,Av;function S_(){if(Av)return ch;Av=1;const t=wr();return ch=(s,o)=>new t(s,o).major,ch}var uh,Iv;function x_(){if(Iv)return uh;Iv=1;const t=wr();return uh=(s,o)=>new t(s,o).minor,uh}var dh,Pv;function C_(){if(Pv)return dh;Pv=1;const t=wr();return dh=(s,o)=>new t(s,o).patch,dh}var fh,Nv;function b_(){if(Nv)return fh;Nv=1;const t=Do();return fh=(s,o)=>{const l=t(s,o);return l&&l.prerelease.length?l.prerelease:null},fh}var hh,Ov;function vn(){if(Ov)return hh;Ov=1;const t=wr();return hh=(s,o,l)=>new t(s,l).compare(new t(o,l)),hh}var ph,jv;function T_(){if(jv)return ph;jv=1;const t=vn();return ph=(s,o,l)=>t(o,s,l),ph}var mh,Lv;function __(){if(Lv)return mh;Lv=1;const t=vn();return mh=(s,o)=>t(s,o,!0),mh}var gh,Dv;function qp(){if(Dv)return gh;Dv=1;const t=wr();return gh=(s,o,l)=>{const c=new t(s,l),i=new t(o,l);return c.compare(i)||c.compareBuild(i)},gh}var yh,Mv;function k_(){if(Mv)return yh;Mv=1;const t=qp();return yh=(s,o)=>s.sort((l,c)=>t(l,c,o)),yh}var vh,Uv;function R_(){if(Uv)return vh;Uv=1;const t=qp();return vh=(s,o)=>s.sort((l,c)=>t(c,l,o)),vh}var wh,qv;function Mu(){if(qv)return wh;qv=1;const t=vn();return wh=(s,o,l)=>t(s,o,l)>0,wh}var Eh,Fv;function Fp(){if(Fv)return Eh;Fv=1;const t=vn();return Eh=(s,o,l)=>t(s,o,l)<0,Eh}var Sh,Hv;function VE(){if(Hv)return Sh;Hv=1;const t=vn();return Sh=(s,o,l)=>t(s,o,l)===0,Sh}var xh,$v;function GE(){if($v)return xh;$v=1;const t=vn();return xh=(s,o,l)=>t(s,o,l)!==0,xh}var Ch,zv;function Hp(){if(zv)return Ch;zv=1;const t=vn();return Ch=(s,o,l)=>t(s,o,l)>=0,Ch}var bh,Wv;function $p(){if(Wv)return bh;Wv=1;const t=vn();return bh=(s,o,l)=>t(s,o,l)<=0,bh}var Th,Bv;function JE(){if(Bv)return Th;Bv=1;const t=VE(),n=GE(),s=Mu(),o=Hp(),l=Fp(),c=$p();return Th=(u,d,h,m)=>{switch(d){case"===":return typeof u=="object"&&(u=u.version),typeof h=="object"&&(h=h.version),u===h;case"!==":return typeof u=="object"&&(u=u.version),typeof h=="object"&&(h=h.version),u!==h;case"":case"=":case"==":return t(u,h,m);case"!=":return n(u,h,m);case">":return s(u,h,m);case">=":return o(u,h,m);case"<":return l(u,h,m);case"<=":return c(u,h,m);default:throw new TypeError(`Invalid operator: ${d}`)}},Th}var _h,Kv;function A_(){if(Kv)return _h;Kv=1;const t=wr(),n=Do(),{safeRe:s,t:o}=_l();return _h=(c,i)=>{if(c instanceof t)return c;if(typeof c=="number"&&(c=String(c)),typeof c!="string")return null;i=i||{};let u=null;if(!i.rtl)u=c.match(i.includePrerelease?s[o.COERCEFULL]:s[o.COERCE]);else{const A=i.includePrerelease?s[o.COERCERTLFULL]:s[o.COERCERTL];let b;for(;(b=A.exec(c))&&(!u||u.index+u[0].length!==c.length);)(!u||b.index+b[0].length!==u.index+u[0].length)&&(u=b),A.lastIndex=b.index+b[1].length+b[2].length;A.lastIndex=-1}if(u===null)return null;const d=u[2],h=u[3]||"0",m=u[4]||"0",p=i.includePrerelease&&u[5]?`-${u[5]}`:"",x=i.includePrerelease&&u[6]?`+${u[6]}`:"";return n(`${d}.${h}.${m}${p}${x}`,i)},_h}var kh,Vv;function I_(){if(Vv)return kh;Vv=1;class t{constructor(){this.max=1e3,this.map=new Map}get(s){const o=this.map.get(s);if(o!==void 0)return this.map.delete(s),this.map.set(s,o),o}delete(s){return this.map.delete(s)}set(s,o){if(!this.delete(s)&&o!==void 0){if(this.map.size>=this.max){const c=this.map.keys().next().value;this.delete(c)}this.map.set(s,o)}return this}}return kh=t,kh}var Rh,Gv;function wn(){if(Gv)return Rh;Gv=1;const t=/\s+/g;class n{constructor(z,K){if(K=l(K),z instanceof n)return z.loose===!!K.loose&&z.includePrerelease===!!K.includePrerelease?z:new n(z.raw,K);if(z instanceof c)return this.raw=z.value,this.set=[[z]],this.formatted=void 0,this;if(this.options=K,this.loose=!!K.loose,this.includePrerelease=!!K.includePrerelease,this.raw=z.trim().replace(t," "),this.set=this.raw.split("||").map(Y=>this.parseRange(Y.trim())).filter(Y=>Y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Y=this.set[0];if(this.set=this.set.filter(H=>!T(H[0])),this.set.length===0)this.set=[Y];else if(this.set.length>1){for(const H of this.set)if(H.length===1&&C(H[0])){this.set=[H];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let z=0;z<this.set.length;z++){z>0&&(this.formatted+="||");const K=this.set[z];for(let Y=0;Y<K.length;Y++)Y>0&&(this.formatted+=" "),this.formatted+=K[Y].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(z){const Y=((this.options.includePrerelease&&A)|(this.options.loose&&b))+":"+z,H=o.get(Y);if(H)return H;const oe=this.options.loose,le=oe?d[h.HYPHENRANGELOOSE]:d[h.HYPHENRANGE];z=z.replace(le,ae(this.options.includePrerelease)),i("hyphen replace",z),z=z.replace(d[h.COMPARATORTRIM],m),i("comparator trim",z),z=z.replace(d[h.TILDETRIM],p),i("tilde trim",z),z=z.replace(d[h.CARETTRIM],x),i("caret trim",z);let W=z.split(" ").map(Se=>v(Se,this.options)).join(" ").split(/\s+/).map(Se=>Z(Se,this.options));oe&&(W=W.filter(Se=>(i("loose invalid filter",Se,this.options),!!Se.match(d[h.COMPARATORLOOSE])))),i("range list",W);const re=new Map,ce=W.map(Se=>new c(Se,this.options));for(const Se of ce){if(T(Se))return[Se];re.set(Se.value,Se)}re.size>1&&re.has("")&&re.delete("");const me=[...re.values()];return o.set(Y,me),me}intersects(z,K){if(!(z instanceof n))throw new TypeError("a Range is required");return this.set.some(Y=>w(Y,K)&&z.set.some(H=>w(H,K)&&Y.every(oe=>H.every(le=>oe.intersects(le,K)))))}test(z){if(!z)return!1;if(typeof z=="string")try{z=new u(z,this.options)}catch{return!1}for(let K=0;K<this.set.length;K++)if(G(this.set[K],z,this.options))return!0;return!1}}Rh=n;const s=I_(),o=new s,l=Up(),c=Uu(),i=Du(),u=wr(),{safeRe:d,t:h,comparatorTrimReplace:m,tildeTrimReplace:p,caretTrimReplace:x}=_l(),{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:b}=Lu(),T=Q=>Q.value==="<0.0.0-0",C=Q=>Q.value==="",w=(Q,z)=>{let K=!0;const Y=Q.slice();let H=Y.pop();for(;K&&Y.length;)K=Y.every(oe=>H.intersects(oe,z)),H=Y.pop();return K},v=(Q,z)=>(Q=Q.replace(d[h.BUILD],""),i("comp",Q,z),Q=O(Q,z),i("caret",Q),Q=_(Q,z),i("tildes",Q),Q=R(Q,z),i("xrange",Q),Q=U(Q,z),i("stars",Q),Q),S=Q=>!Q||Q.toLowerCase()==="x"||Q==="*",_=(Q,z)=>Q.trim().split(/\s+/).map(K=>L(K,z)).join(" "),L=(Q,z)=>{const K=z.loose?d[h.TILDELOOSE]:d[h.TILDE];return Q.replace(K,(Y,H,oe,le,W)=>{i("tilde",Q,Y,H,oe,le,W);let re;return S(H)?re="":S(oe)?re=`>=${H}.0.0 <${+H+1}.0.0-0`:S(le)?re=`>=${H}.${oe}.0 <${H}.${+oe+1}.0-0`:W?(i("replaceTilde pr",W),re=`>=${H}.${oe}.${le}-${W} <${H}.${+oe+1}.0-0`):re=`>=${H}.${oe}.${le} <${H}.${+oe+1}.0-0`,i("tilde return",re),re})},O=(Q,z)=>Q.trim().split(/\s+/).map(K=>N(K,z)).join(" "),N=(Q,z)=>{i("caret",Q,z);const K=z.loose?d[h.CARETLOOSE]:d[h.CARET],Y=z.includePrerelease?"-0":"";return Q.replace(K,(H,oe,le,W,re)=>{i("caret",Q,H,oe,le,W,re);let ce;return S(oe)?ce="":S(le)?ce=`>=${oe}.0.0${Y} <${+oe+1}.0.0-0`:S(W)?oe==="0"?ce=`>=${oe}.${le}.0${Y} <${oe}.${+le+1}.0-0`:ce=`>=${oe}.${le}.0${Y} <${+oe+1}.0.0-0`:re?(i("replaceCaret pr",re),oe==="0"?le==="0"?ce=`>=${oe}.${le}.${W}-${re} <${oe}.${le}.${+W+1}-0`:ce=`>=${oe}.${le}.${W}-${re} <${oe}.${+le+1}.0-0`:ce=`>=${oe}.${le}.${W}-${re} <${+oe+1}.0.0-0`):(i("no pr"),oe==="0"?le==="0"?ce=`>=${oe}.${le}.${W}${Y} <${oe}.${le}.${+W+1}-0`:ce=`>=${oe}.${le}.${W}${Y} <${oe}.${+le+1}.0-0`:ce=`>=${oe}.${le}.${W} <${+oe+1}.0.0-0`),i("caret return",ce),ce})},R=(Q,z)=>(i("replaceXRanges",Q,z),Q.split(/\s+/).map(K=>M(K,z)).join(" ")),M=(Q,z)=>{Q=Q.trim();const K=z.loose?d[h.XRANGELOOSE]:d[h.XRANGE];return Q.replace(K,(Y,H,oe,le,W,re)=>{i("xRange",Q,Y,H,oe,le,W,re);const ce=S(oe),me=ce||S(le),Se=me||S(W),De=Se;return H==="="&&De&&(H=""),re=z.includePrerelease?"-0":"",ce?H===">"||H==="<"?Y="<0.0.0-0":Y="*":H&&De?(me&&(le=0),W=0,H===">"?(H=">=",me?(oe=+oe+1,le=0,W=0):(le=+le+1,W=0)):H==="<="&&(H="<",me?oe=+oe+1:le=+le+1),H==="<"&&(re="-0"),Y=`${H+oe}.${le}.${W}${re}`):me?Y=`>=${oe}.0.0${re} <${+oe+1}.0.0-0`:Se&&(Y=`>=${oe}.${le}.0${re} <${oe}.${+le+1}.0-0`),i("xRange return",Y),Y})},U=(Q,z)=>(i("replaceStars",Q,z),Q.trim().replace(d[h.STAR],"")),Z=(Q,z)=>(i("replaceGTE0",Q,z),Q.trim().replace(d[z.includePrerelease?h.GTE0PRE:h.GTE0],"")),ae=Q=>(z,K,Y,H,oe,le,W,re,ce,me,Se,De)=>(S(Y)?K="":S(H)?K=`>=${Y}.0.0${Q?"-0":""}`:S(oe)?K=`>=${Y}.${H}.0${Q?"-0":""}`:le?K=`>=${K}`:K=`>=${K}${Q?"-0":""}`,S(ce)?re="":S(me)?re=`<${+ce+1}.0.0-0`:S(Se)?re=`<${ce}.${+me+1}.0-0`:De?re=`<=${ce}.${me}.${Se}-${De}`:Q?re=`<${ce}.${me}.${+Se+1}-0`:re=`<=${re}`,`${K} ${re}`.trim()),G=(Q,z,K)=>{for(let Y=0;Y<Q.length;Y++)if(!Q[Y].test(z))return!1;if(z.prerelease.length&&!K.includePrerelease){for(let Y=0;Y<Q.length;Y++)if(i(Q[Y].semver),Q[Y].semver!==c.ANY&&Q[Y].semver.prerelease.length>0){const H=Q[Y].semver;if(H.major===z.major&&H.minor===z.minor&&H.patch===z.patch)return!0}return!1}return!0};return Rh}var Ah,Jv;function Uu(){if(Jv)return Ah;Jv=1;const t=Symbol("SemVer ANY");class n{static get ANY(){return t}constructor(m,p){if(p=s(p),m instanceof n){if(m.loose===!!p.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),i("comparator",m,p),this.options=p,this.loose=!!p.loose,this.parse(m),this.semver===t?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(m){const p=this.options.loose?o[l.COMPARATORLOOSE]:o[l.COMPARATOR],x=m.match(p);if(!x)throw new TypeError(`Invalid comparator: ${m}`);this.operator=x[1]!==void 0?x[1]:"",this.operator==="="&&(this.operator=""),x[2]?this.semver=new u(x[2],this.options.loose):this.semver=t}toString(){return this.value}test(m){if(i("Comparator.test",m,this.options.loose),this.semver===t||m===t)return!0;if(typeof m=="string")try{m=new u(m,this.options)}catch{return!1}return c(m,this.operator,this.semver,this.options)}intersects(m,p){if(!(m instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(m.value,p).test(this.value):m.operator===""?m.value===""?!0:new d(this.value,p).test(m.semver):(p=s(p),p.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||c(this.semver,"<",m.semver,p)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||c(this.semver,">",m.semver,p)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}Ah=n;const s=Up(),{safeRe:o,t:l}=_l(),c=JE(),i=Du(),u=wr(),d=wn();return Ah}var Ih,Yv;function qu(){if(Yv)return Ih;Yv=1;const t=wn();return Ih=(s,o,l)=>{try{o=new t(o,l)}catch{return!1}return o.test(s)},Ih}var Ph,Xv;function P_(){if(Xv)return Ph;Xv=1;const t=wn();return Ph=(s,o)=>new t(s,o).set.map(l=>l.map(c=>c.value).join(" ").trim().split(" ")),Ph}var Nh,Qv;function N_(){if(Qv)return Nh;Qv=1;const t=wr(),n=wn();return Nh=(o,l,c)=>{let i=null,u=null,d=null;try{d=new n(l,c)}catch{return null}return o.forEach(h=>{d.test(h)&&(!i||u.compare(h)===-1)&&(i=h,u=new t(i,c))}),i},Nh}var Oh,Zv;function O_(){if(Zv)return Oh;Zv=1;const t=wr(),n=wn();return Oh=(o,l,c)=>{let i=null,u=null,d=null;try{d=new n(l,c)}catch{return null}return o.forEach(h=>{d.test(h)&&(!i||u.compare(h)===1)&&(i=h,u=new t(i,c))}),i},Oh}var jh,ew;function j_(){if(ew)return jh;ew=1;const t=wr(),n=wn(),s=Mu();return jh=(l,c)=>{l=new n(l,c);let i=new t("0.0.0");if(l.test(i)||(i=new t("0.0.0-0"),l.test(i)))return i;i=null;for(let u=0;u<l.set.length;++u){const d=l.set[u];let h=null;d.forEach(m=>{const p=new t(m.semver.version);switch(m.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!h||s(p,h))&&(h=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),h&&(!i||s(i,h))&&(i=h)}return i&&l.test(i)?i:null},jh}var Lh,tw;function L_(){if(tw)return Lh;tw=1;const t=wn();return Lh=(s,o)=>{try{return new t(s,o).range||"*"}catch{return null}},Lh}var Dh,rw;function zp(){if(rw)return Dh;rw=1;const t=wr(),n=Uu(),{ANY:s}=n,o=wn(),l=qu(),c=Mu(),i=Fp(),u=$p(),d=Hp();return Dh=(m,p,x,A)=>{m=new t(m,A),p=new o(p,A);let b,T,C,w,v;switch(x){case">":b=c,T=u,C=i,w=">",v=">=";break;case"<":b=i,T=d,C=c,w="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(m,p,A))return!1;for(let S=0;S<p.set.length;++S){const _=p.set[S];let L=null,O=null;if(_.forEach(N=>{N.semver===s&&(N=new n(">=0.0.0")),L=L||N,O=O||N,b(N.semver,L.semver,A)?L=N:C(N.semver,O.semver,A)&&(O=N)}),L.operator===w||L.operator===v||(!O.operator||O.operator===w)&&T(m,O.semver))return!1;if(O.operator===v&&C(m,O.semver))return!1}return!0},Dh}var Mh,nw;function D_(){if(nw)return Mh;nw=1;const t=zp();return Mh=(s,o,l)=>t(s,o,">",l),Mh}var Uh,sw;function M_(){if(sw)return Uh;sw=1;const t=zp();return Uh=(s,o,l)=>t(s,o,"<",l),Uh}var qh,iw;function U_(){if(iw)return qh;iw=1;const t=wn();return qh=(s,o,l)=>(s=new t(s,l),o=new t(o,l),s.intersects(o,l)),qh}var Fh,ow;function q_(){if(ow)return Fh;ow=1;const t=qu(),n=vn();return Fh=(s,o,l)=>{const c=[];let i=null,u=null;const d=s.sort((x,A)=>n(x,A,l));for(const x of d)t(x,o,l)?(u=x,i||(i=x)):(u&&c.push([i,u]),u=null,i=null);i&&c.push([i,null]);const h=[];for(const[x,A]of c)x===A?h.push(x):!A&&x===d[0]?h.push("*"):A?x===d[0]?h.push(`<=${A}`):h.push(`${x} - ${A}`):h.push(`>=${x}`);const m=h.join(" || "),p=typeof o.raw=="string"?o.raw:String(o);return m.length<p.length?m:o},Fh}var Hh,aw;function F_(){if(aw)return Hh;aw=1;const t=wn(),n=Uu(),{ANY:s}=n,o=qu(),l=vn(),c=(p,x,A={})=>{if(p===x)return!0;p=new t(p,A),x=new t(x,A);let b=!1;e:for(const T of p.set){for(const C of x.set){const w=d(T,C,A);if(b=b||w!==null,w)continue e}if(b)return!1}return!0},i=[new n(">=0.0.0-0")],u=[new n(">=0.0.0")],d=(p,x,A)=>{if(p===x)return!0;if(p.length===1&&p[0].semver===s){if(x.length===1&&x[0].semver===s)return!0;A.includePrerelease?p=i:p=u}if(x.length===1&&x[0].semver===s){if(A.includePrerelease)return!0;x=u}const b=new Set;let T,C;for(const R of p)R.operator===">"||R.operator===">="?T=h(T,R,A):R.operator==="<"||R.operator==="<="?C=m(C,R,A):b.add(R.semver);if(b.size>1)return null;let w;if(T&&C){if(w=l(T.semver,C.semver,A),w>0)return null;if(w===0&&(T.operator!==">="||C.operator!=="<="))return null}for(const R of b){if(T&&!o(R,String(T),A)||C&&!o(R,String(C),A))return null;for(const M of x)if(!o(R,String(M),A))return!1;return!0}let v,S,_,L,O=C&&!A.includePrerelease&&C.semver.prerelease.length?C.semver:!1,N=T&&!A.includePrerelease&&T.semver.prerelease.length?T.semver:!1;O&&O.prerelease.length===1&&C.operator==="<"&&O.prerelease[0]===0&&(O=!1);for(const R of x){if(L=L||R.operator===">"||R.operator===">=",_=_||R.operator==="<"||R.operator==="<=",T){if(N&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===N.major&&R.semver.minor===N.minor&&R.semver.patch===N.patch&&(N=!1),R.operator===">"||R.operator===">="){if(v=h(T,R,A),v===R&&v!==T)return!1}else if(T.operator===">="&&!o(T.semver,String(R),A))return!1}if(C){if(O&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===O.major&&R.semver.minor===O.minor&&R.semver.patch===O.patch&&(O=!1),R.operator==="<"||R.operator==="<="){if(S=m(C,R,A),S===R&&S!==C)return!1}else if(C.operator==="<="&&!o(C.semver,String(R),A))return!1}if(!R.operator&&(C||T)&&w!==0)return!1}return!(T&&_&&!C&&w!==0||C&&L&&!T&&w!==0||N||O)},h=(p,x,A)=>{if(!p)return x;const b=l(p.semver,x.semver,A);return b>0?p:b<0||x.operator===">"&&p.operator===">="?x:p},m=(p,x,A)=>{if(!p)return x;const b=l(p.semver,x.semver,A);return b<0?p:b>0||x.operator==="<"&&p.operator==="<="?x:p};return Hh=c,Hh}var $h,lw;function Wp(){if(lw)return $h;lw=1;const t=_l(),n=Lu(),s=wr(),o=KE(),l=Do(),c=y_(),i=v_(),u=w_(),d=E_(),h=S_(),m=x_(),p=C_(),x=b_(),A=vn(),b=T_(),T=__(),C=qp(),w=k_(),v=R_(),S=Mu(),_=Fp(),L=VE(),O=GE(),N=Hp(),R=$p(),M=JE(),U=A_(),Z=Uu(),ae=wn(),G=qu(),Q=P_(),z=N_(),K=O_(),Y=j_(),H=L_(),oe=zp(),le=D_(),W=M_(),re=U_(),ce=q_(),me=F_();return $h={parse:l,valid:c,clean:i,inc:u,diff:d,major:h,minor:m,patch:p,prerelease:x,compare:A,rcompare:b,compareLoose:T,compareBuild:C,sort:w,rsort:v,gt:S,lt:_,eq:L,neq:O,gte:N,lte:R,cmp:M,coerce:U,Comparator:Z,Range:ae,satisfies:G,toComparators:Q,maxSatisfying:z,minSatisfying:K,minVersion:Y,validRange:H,outside:oe,gtr:le,ltr:W,intersects:re,simplifyRange:ce,subset:me,SemVer:s,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers},$h}var zh,cw;function H_(){return cw||(cw=1,zh=Wp().satisfies(process.version,">=15.7.0")),zh}var Wh,uw;function $_(){return uw||(uw=1,Wh=Wp().satisfies(process.version,">=16.9.0")),Wh}var Bh,dw;function YE(){if(dw)return Bh;dw=1;const t=H_(),n=$_(),s={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Bh=function(l,c){if(!l||!c)return;const i=c.asymmetricKeyType;if(!i)return;const u=s[i];if(!u)throw new Error(`Unknown key type "${i}".`);if(!u.includes(l))throw new Error(`"alg" parameter for "${i}" key type must be one of: ${u.join(", ")}.`);if(t)switch(i){case"ec":const d=c.asymmetricKeyDetails.namedCurve,h=o[l];if(d!==h)throw new Error(`"alg" parameter "${l}" requires curve "${h}".`);break;case"rsa-pss":if(n){const m=parseInt(l.slice(-3),10),{hashAlgorithm:p,mgf1HashAlgorithm:x,saltLength:A}=c.asymmetricKeyDetails;if(p!==`sha${m}`||x!==p)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${l}.`);if(A!==void 0&&A>m>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${l}.`)}break}},Bh}var Kh,fw;function XE(){if(fw)return Kh;fw=1;var t=Wp();return Kh=t.satisfies(process.version,"^6.12.0 || >=8.0.0"),Kh}var Vh,hw;function z_(){if(hw)return Vh;hw=1;const t=ju(),n=zE(),s=WE(),o=$E(),l=BE(),c=YE(),i=XE(),u=Mp(),{KeyObject:d,createSecretKey:h,createPublicKey:m}=_u,p=["RS256","RS384","RS512"],x=["ES256","ES384","ES512"],A=["RS256","RS384","RS512"],b=["HS256","HS384","HS512"];return i&&(p.splice(p.length,0,"PS256","PS384","PS512"),A.splice(A.length,0,"PS256","PS384","PS512")),Vh=function(T,C,w,v){typeof w=="function"&&!v&&(v=w,w={}),w||(w={}),w=Object.assign({},w);let S;if(v?S=v:S=function(M,U){if(M)throw M;return U},w.clockTimestamp&&typeof w.clockTimestamp!="number")return S(new t("clockTimestamp must be a number"));if(w.nonce!==void 0&&(typeof w.nonce!="string"||w.nonce.trim()===""))return S(new t("nonce must be a non-empty string"));if(w.allowInvalidAsymmetricKeyTypes!==void 0&&typeof w.allowInvalidAsymmetricKeyTypes!="boolean")return S(new t("allowInvalidAsymmetricKeyTypes must be a boolean"));const _=w.clockTimestamp||Math.floor(Date.now()/1e3);if(!T)return S(new t("jwt must be provided"));if(typeof T!="string")return S(new t("jwt must be a string"));const L=T.split(".");if(L.length!==3)return S(new t("jwt malformed"));let O;try{O=o(T,{complete:!0})}catch(M){return S(M)}if(!O)return S(new t("invalid token"));const N=O.header;let R;if(typeof C=="function"){if(!v)return S(new t("verify must be called asynchronous if secret or public key is provided as a callback"));R=C}else R=function(M,U){return U(null,C)};return R(N,function(M,U){if(M)return S(new t("error in secret or public key callback: "+M.message));const Z=L[2].trim()!=="";if(!Z&&U)return S(new t("jwt signature is required"));if(Z&&!U)return S(new t("secret or public key must be provided"));if(!Z&&!w.algorithms)return S(new t('please specify "none" in "algorithms" to verify unsigned tokens'));if(U!=null&&!(U instanceof d))try{U=m(U)}catch{try{U=h(typeof U=="string"?Buffer.from(U):U)}catch{return S(new t("secretOrPublicKey is not valid key material"))}}if(w.algorithms||(U.type==="secret"?w.algorithms=b:["rsa","rsa-pss"].includes(U.asymmetricKeyType)?w.algorithms=A:U.asymmetricKeyType==="ec"?w.algorithms=x:w.algorithms=p),w.algorithms.indexOf(O.header.alg)===-1)return S(new t("invalid algorithm"));if(N.alg.startsWith("HS")&&U.type!=="secret")return S(new t(`secretOrPublicKey must be a symmetric key when using ${N.alg}`));if(/^(?:RS|PS|ES)/.test(N.alg)&&U.type!=="public")return S(new t(`secretOrPublicKey must be an asymmetric key when using ${N.alg}`));if(!w.allowInvalidAsymmetricKeyTypes)try{c(N.alg,U)}catch(Q){return S(Q)}let ae;try{ae=u.verify(T,O.header.alg,U)}catch(Q){return S(Q)}if(!ae)return S(new t("invalid signature"));const G=O.payload;if(typeof G.nbf<"u"&&!w.ignoreNotBefore){if(typeof G.nbf!="number")return S(new t("invalid nbf value"));if(G.nbf>_+(w.clockTolerance||0))return S(new n("jwt not active",new Date(G.nbf*1e3)))}if(typeof G.exp<"u"&&!w.ignoreExpiration){if(typeof G.exp!="number")return S(new t("invalid exp value"));if(_>=G.exp+(w.clockTolerance||0))return S(new s("jwt expired",new Date(G.exp*1e3)))}if(w.audience){const Q=Array.isArray(w.audience)?w.audience:[w.audience];if(!(Array.isArray(G.aud)?G.aud:[G.aud]).some(function(Y){return Q.some(function(H){return H instanceof RegExp?H.test(Y):H===Y})}))return S(new t("jwt audience invalid. expected: "+Q.join(" or ")))}if(w.issuer&&(typeof w.issuer=="string"&&G.iss!==w.issuer||Array.isArray(w.issuer)&&w.issuer.indexOf(G.iss)===-1))return S(new t("jwt issuer invalid. expected: "+w.issuer));if(w.subject&&G.sub!==w.subject)return S(new t("jwt subject invalid. expected: "+w.subject));if(w.jwtid&&G.jti!==w.jwtid)return S(new t("jwt jwtid invalid. expected: "+w.jwtid));if(w.nonce&&G.nonce!==w.nonce)return S(new t("jwt nonce invalid. expected: "+w.nonce));if(w.maxAge){if(typeof G.iat!="number")return S(new t("iat required when maxAge is specified"));const Q=l(w.maxAge,G.iat);if(typeof Q>"u")return S(new t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(_>=Q+(w.clockTolerance||0))return S(new s("maxAge exceeded",new Date(Q*1e3)))}if(w.complete===!0){const Q=O.signature;return S(null,{header:N,payload:G,signature:Q})}return S(null,G)})},Vh}var Gh,pw;function W_(){if(pw)return Gh;pw=1;var t=1/0,n=9007199254740991,s=17976931348623157e292,o=NaN,l="[object Arguments]",c="[object Function]",i="[object GeneratorFunction]",u="[object String]",d="[object Symbol]",h=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,x=/^0o[0-7]+$/i,A=/^(?:0|[1-9]\d*)$/,b=parseInt;function T(se,qe){for(var Fe=-1,xt=se?se.length:0,jt=Array(xt);++Fe<xt;)jt[Fe]=qe(se[Fe],Fe,se);return jt}function C(se,qe,Fe,xt){for(var jt=se.length,_t=Fe+-1;++_t<jt;)if(qe(se[_t],_t,se))return _t;return-1}function w(se,qe,Fe){if(qe!==qe)return C(se,v,Fe);for(var xt=Fe-1,jt=se.length;++xt<jt;)if(se[xt]===qe)return xt;return-1}function v(se){return se!==se}function S(se,qe){for(var Fe=-1,xt=Array(se);++Fe<se;)xt[Fe]=qe(Fe);return xt}function _(se,qe){return T(qe,function(Fe){return se[Fe]})}function L(se,qe){return function(Fe){return se(qe(Fe))}}var O=Object.prototype,N=O.hasOwnProperty,R=O.toString,M=O.propertyIsEnumerable,U=L(Object.keys,Object),Z=Math.max;function ae(se,qe){var Fe=H(se)||Y(se)?S(se.length,String):[],xt=Fe.length,jt=!!xt;for(var _t in se)N.call(se,_t)&&!(jt&&(_t=="length"||Q(_t,xt)))&&Fe.push(_t);return Fe}function G(se){if(!z(se))return U(se);var qe=[];for(var Fe in Object(se))N.call(se,Fe)&&Fe!="constructor"&&qe.push(Fe);return qe}function Q(se,qe){return qe=qe??n,!!qe&&(typeof se=="number"||A.test(se))&&se>-1&&se%1==0&&se<qe}function z(se){var qe=se&&se.constructor,Fe=typeof qe=="function"&&qe.prototype||O;return se===Fe}function K(se,qe,Fe,xt){se=oe(se)?se:Xt(se),Fe=Fe&&!xt?Oe(Fe):0;var jt=se.length;return Fe<0&&(Fe=Z(jt+Fe,0)),Se(se)?Fe<=jt&&se.indexOf(qe,Fe)>-1:!!jt&&w(se,qe,Fe)>-1}function Y(se){return le(se)&&N.call(se,"callee")&&(!M.call(se,"callee")||R.call(se)==l)}var H=Array.isArray;function oe(se){return se!=null&&re(se.length)&&!W(se)}function le(se){return me(se)&&oe(se)}function W(se){var qe=ce(se)?R.call(se):"";return qe==c||qe==i}function re(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=n}function ce(se){var qe=typeof se;return!!se&&(qe=="object"||qe=="function")}function me(se){return!!se&&typeof se=="object"}function Se(se){return typeof se=="string"||!H(se)&&me(se)&&R.call(se)==u}function De(se){return typeof se=="symbol"||me(se)&&R.call(se)==d}function Ue(se){if(!se)return se===0?se:0;if(se=Xe(se),se===t||se===-t){var qe=se<0?-1:1;return qe*s}return se===se?se:0}function Oe(se){var qe=Ue(se),Fe=qe%1;return qe===qe?Fe?qe-Fe:qe:0}function Xe(se){if(typeof se=="number")return se;if(De(se))return o;if(ce(se)){var qe=typeof se.valueOf=="function"?se.valueOf():se;se=ce(qe)?qe+"":qe}if(typeof se!="string")return se===0?se:+se;se=se.replace(h,"");var Fe=p.test(se);return Fe||x.test(se)?b(se.slice(2),Fe?2:8):m.test(se)?o:+se}function ct(se){return oe(se)?ae(se):G(se)}function Xt(se){return se?_(se,ct(se)):[]}return Gh=K,Gh}var Jh,mw;function B_(){if(mw)return Jh;mw=1;var t="[object Boolean]",n=Object.prototype,s=n.toString;function o(c){return c===!0||c===!1||l(c)&&s.call(c)==t}function l(c){return!!c&&typeof c=="object"}return Jh=o,Jh}var Yh,gw;function K_(){if(gw)return Yh;gw=1;var t=1/0,n=17976931348623157e292,s=NaN,o="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,h=Object.prototype,m=h.toString;function p(v){return typeof v=="number"&&v==C(v)}function x(v){var S=typeof v;return!!v&&(S=="object"||S=="function")}function A(v){return!!v&&typeof v=="object"}function b(v){return typeof v=="symbol"||A(v)&&m.call(v)==o}function T(v){if(!v)return v===0?v:0;if(v=w(v),v===t||v===-t){var S=v<0?-1:1;return S*n}return v===v?v:0}function C(v){var S=T(v),_=S%1;return S===S?_?S-_:S:0}function w(v){if(typeof v=="number")return v;if(b(v))return s;if(x(v)){var S=typeof v.valueOf=="function"?v.valueOf():v;v=x(S)?S+"":S}if(typeof v!="string")return v===0?v:+v;v=v.replace(l,"");var _=i.test(v);return _||u.test(v)?d(v.slice(2),_?2:8):c.test(v)?s:+v}return Yh=p,Yh}var Xh,yw;function V_(){if(yw)return Xh;yw=1;var t="[object Number]",n=Object.prototype,s=n.toString;function o(c){return!!c&&typeof c=="object"}function l(c){return typeof c=="number"||o(c)&&s.call(c)==t}return Xh=l,Xh}var Qh,vw;function G_(){if(vw)return Qh;vw=1;var t="[object Object]";function n(x){var A=!1;if(x!=null&&typeof x.toString!="function")try{A=!!(x+"")}catch{}return A}function s(x,A){return function(b){return x(A(b))}}var o=Function.prototype,l=Object.prototype,c=o.toString,i=l.hasOwnProperty,u=c.call(Object),d=l.toString,h=s(Object.getPrototypeOf,Object);function m(x){return!!x&&typeof x=="object"}function p(x){if(!m(x)||d.call(x)!=t||n(x))return!1;var A=h(x);if(A===null)return!0;var b=i.call(A,"constructor")&&A.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==u}return Qh=p,Qh}var Zh,ww;function J_(){if(ww)return Zh;ww=1;var t="[object String]",n=Object.prototype,s=n.toString,o=Array.isArray;function l(i){return!!i&&typeof i=="object"}function c(i){return typeof i=="string"||!o(i)&&l(i)&&s.call(i)==t}return Zh=c,Zh}var ep,Ew;function Y_(){if(Ew)return ep;Ew=1;var t="Expected a function",n=1/0,s=17976931348623157e292,o=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,m=Object.prototype,p=m.toString;function x(_,L){var O;if(typeof L!="function")throw new TypeError(t);return _=v(_),function(){return--_>0&&(O=L.apply(this,arguments)),_<=1&&(L=void 0),O}}function A(_){return x(2,_)}function b(_){var L=typeof _;return!!_&&(L=="object"||L=="function")}function T(_){return!!_&&typeof _=="object"}function C(_){return typeof _=="symbol"||T(_)&&p.call(_)==l}function w(_){if(!_)return _===0?_:0;if(_=S(_),_===n||_===-n){var L=_<0?-1:1;return L*s}return _===_?_:0}function v(_){var L=w(_),O=L%1;return L===L?O?L-O:L:0}function S(_){if(typeof _=="number")return _;if(C(_))return o;if(b(_)){var L=typeof _.valueOf=="function"?_.valueOf():_;_=b(L)?L+"":L}if(typeof _!="string")return _===0?_:+_;_=_.replace(c,"");var O=u.test(_);return O||d.test(_)?h(_.slice(2),O?2:8):i.test(_)?o:+_}return ep=A,ep}var tp,Sw;function X_(){if(Sw)return tp;Sw=1;const t=BE(),n=XE(),s=YE(),o=Mp(),l=W_(),c=B_(),i=K_(),u=V_(),d=G_(),h=J_(),m=Y_(),{KeyObject:p,createSecretKey:x,createPrivateKey:A}=_u,b=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];n&&b.splice(3,0,"PS256","PS384","PS512");const T={expiresIn:{isValid:function(O){return i(O)||h(O)&&O},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(O){return i(O)||h(O)&&O},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(O){return h(O)||Array.isArray(O)},message:'"audience" must be a string or array'},algorithm:{isValid:l.bind(null,b),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},C={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(O,N,R,M){if(!d(R))throw new Error('Expected "'+M+'" to be a plain object.');Object.keys(R).forEach(function(U){const Z=O[U];if(!Z){if(!N)throw new Error('"'+U+'" is not allowed in "'+M+'"');return}if(!Z.isValid(R[U]))throw new Error(Z.message)})}function v(O){return w(T,!1,O,"options")}function S(O){return w(C,!0,O,"payload")}const _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},L=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return tp=function(O,N,R,M){typeof R=="function"?(M=R,R={}):R=R||{};const U=typeof O=="object"&&!Buffer.isBuffer(O),Z=Object.assign({alg:R.algorithm||"HS256",typ:U?"JWT":void 0,kid:R.keyid},R.header);function ae(z){if(M)return M(z);throw z}if(!N&&R.algorithm!=="none")return ae(new Error("secretOrPrivateKey must have a value"));if(N!=null&&!(N instanceof p))try{N=A(N)}catch{try{N=x(typeof N=="string"?Buffer.from(N):N)}catch{return ae(new Error("secretOrPrivateKey is not valid key material"))}}if(Z.alg.startsWith("HS")&&N.type!=="secret")return ae(new Error(`secretOrPrivateKey must be a symmetric key when using ${Z.alg}`));if(/^(?:RS|PS|ES)/.test(Z.alg)){if(N.type!=="private")return ae(new Error(`secretOrPrivateKey must be an asymmetric key when using ${Z.alg}`));if(!R.allowInsecureKeySizes&&!Z.alg.startsWith("ES")&&N.asymmetricKeyDetails!==void 0&&N.asymmetricKeyDetails.modulusLength<2048)return ae(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Z.alg}`))}if(typeof O>"u")return ae(new Error("payload is required"));if(U){try{S(O)}catch(z){return ae(z)}R.mutatePayload||(O=Object.assign({},O))}else{const z=L.filter(function(K){return typeof R[K]<"u"});if(z.length>0)return ae(new Error("invalid "+z.join(",")+" option for "+typeof O+" payload"))}if(typeof O.exp<"u"&&typeof R.expiresIn<"u")return ae(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof O.nbf<"u"&&typeof R.notBefore<"u")return ae(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{v(R)}catch(z){return ae(z)}if(!R.allowInvalidAsymmetricKeyTypes)try{s(Z.alg,N)}catch(z){return ae(z)}const G=O.iat||Math.floor(Date.now()/1e3);if(R.noTimestamp?delete O.iat:U&&(O.iat=G),typeof R.notBefore<"u"){try{O.nbf=t(R.notBefore,G)}catch(z){return ae(z)}if(typeof O.nbf>"u")return ae(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof R.expiresIn<"u"&&typeof O=="object"){try{O.exp=t(R.expiresIn,G)}catch(z){return ae(z)}if(typeof O.exp>"u")return ae(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach(function(z){const K=_[z];if(typeof R[z]<"u"){if(typeof O[K]<"u")return ae(new Error('Bad "options.'+z+'" option. The payload already has an "'+K+'" property.'));O[K]=R[z]}});const Q=R.encoding||"utf8";if(typeof M=="function")M=M&&m(M),o.createSign({header:Z,privateKey:N,payload:O,encoding:Q}).once("error",M).once("done",function(z){if(!R.allowInsecureKeySizes&&/^(?:RS|PS)/.test(Z.alg)&&z.length<256)return M(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Z.alg}`));M(null,z)});else{let z=o.sign({header:Z,payload:O,secret:N,encoding:Q});if(!R.allowInsecureKeySizes&&/^(?:RS|PS)/.test(Z.alg)&&z.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${Z.alg}`);return z}},tp}var rp,xw;function Di(){return xw||(xw=1,rp={decode:$E(),verify:z_(),sign:X_(),JsonWebTokenError:ju(),NotBeforeError:zE(),TokenExpiredError:WE()}),rp}var Cw;function Q_(){if(Cw)return Ln;Cw=1;var t=Ln&&Ln.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.extractUserIdFromToken=c,Ln.getTokenCacheKey=i,Ln.getCacheTtlFromToken=u,Ln.clearTokenCache=d,Ln.clearUserCache=h;const n=t(_u),s=t(Di()),o=Tt(),l=dt();function c(m){try{const p=s.default.decode(m);return p?p.sub||p.userId||p.user_id||p.id:null}catch{return null}}function i(m){return`token_validation:${n.default.createHash("sha256").update(m).digest("hex")}`}function u(m,p,x){try{const b=s.default.decode(m);if(!b||typeof b.exp!="number")return p;const T=Math.floor(Date.now()/1e3),C=b.exp-T-30;return Math.max(x,Math.min(C,p))}catch{return p}}function d(m,p){try{const x=i(p);m.delete(x)}catch(x){(0,l.logErrorWithContext)((0,o.extractErrorInfo)(x,{endpoint:"clearTokenCache"}),"[AuthCacheHelpers]")}}function h(m,p){try{const x=c(p);x&&m.delete(`user:${x}`)}catch(x){(0,l.logErrorWithContext)((0,o.extractErrorInfo)(x,{endpoint:"clearUserCache"}),"[AuthCacheHelpers]")}}return Ln}var bw;function QE(){if(bw)return ka;bw=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.AuthService=void 0;const t=o_(),n=c_(),s=Q_(),o=Tt(),l=dt();class c{constructor(u,d,h){this.cache=h,this.httpClient=u,this.apiClient=d;const m=this.httpClient.config;this.tokenValidationTTL=m.cache?.tokenValidationTTL||900,this.minValidationTTL=m.cache?.minValidationTTL||60,this.userTTL=m.cache?.userTTL||300}isApiKeyToken(u){const d=this.httpClient.config;return d.apiKey!==void 0&&u===d.apiKey}buildAuthStrategyWithToken(u,d){const h=d||this.httpClient.config.authStrategy;return h?{...h,bearerToken:u}:{methods:["bearer"],bearerToken:u}}async getCachedUserInfo(u){if(!u)return null;const d=await this.cache.get(u);return d?d.user:null}async cacheUserInfo(u,d){u&&await this.cache.set(u,{user:d,timestamp:Date.now()},this.userTTL)}async getCachedTokenValidation(u){const d=await this.cache.get(u);return d?d.authenticated:null}async cacheTokenValidation(u,d,h){const m=(0,s.getCacheTtlFromToken)(d,this.tokenValidationTTL,this.minValidationTTL);await this.cache.set(u,{authenticated:h,timestamp:Date.now()},m)}mapUserInfo(u){return{id:u.id,username:u.username,email:u.email}}generateCorrelationId(){const u=Date.now(),d=Math.random().toString(36).substring(2,8);return`${this.httpClient.config.clientId.substring(0,10)}-${u}-${d}`}async getEnvironmentToken(){const u=this.generateCorrelationId(),d=this.httpClient.config.clientId,h=4e3;try{const{tempAxios:m,timeoutId:p,controller:x}=await(0,n.createEnvTokenClient)(this.httpClient.config,h,d),A=await(0,n.fetchEnvironmentTokenResponse)(m,p,x,this.httpClient.config.clientTokenUri||"/api/v1/auth/token",h),b=(0,n.extractTokenFromEnvResponse)(A.data);return A.status>=200&&A.status<300&&b?b:((0,t.handleAuthErrorSilent)(new Error(`Invalid response format. Status: ${A.status}`),"Get environment token",u,d),"")}catch(m){return(0,t.handleAuthErrorSilent)(m,"Get environment token",u,d),""}}async login(u){const d=this.generateCorrelationId(),h=this.httpClient.config.clientId;try{const m={redirect:u.redirect};u.state&&(m.state=u.state);const p=this.httpClient.config.authStrategy,x=await this.apiClient.auth.login({redirect:u.redirect,state:u.state},p);return{success:x.success,data:{loginUrl:x.data.loginUrl,state:x.data.state||""},timestamp:x.timestamp}}catch(m){return(0,t.handleAuthErrorSilent)(m,"Login",d,h),{success:!1,data:{loginUrl:"",state:u.state||""},timestamp:new Date().toISOString()}}}async validateToken(u,d){if(this.isApiKeyToken(u))return!0;try{const h=(0,s.getTokenCacheKey)(u),m=await this.getCachedTokenValidation(h);if(m!==null)return m;const p=this.buildAuthStrategyWithToken(u,d),A=(await this.apiClient.auth.validateToken({token:u},p)).data?.authenticated||!1;return await this.cacheTokenValidation(h,u,A),A}catch(h){return this.logAuthServiceError("Validate token",h,u,"/api/auth/validate"),!1}}async getUser(u,d){if(this.isApiKeyToken(u))return null;try{const h=this.buildAuthStrategyWithToken(u,d),m=await this.apiClient.auth.validateToken({token:u},h);return m.data?.authenticated&&m.data.user?this.mapUserInfo(m.data.user):null}catch(h){return this.logAuthServiceError("Get user",h,u,"/api/auth/validate"),null}}logAuthServiceError(u,d,h,m,p="POST"){const x=(0,s.extractUserIdFromToken)(h),A=(0,o.extractErrorInfo)(d,{endpoint:m,method:p,correlationId:d?.correlationId}),b=x?` (userId: ${x})`:"";A.message=`${u} failed${b}: ${A.message}`,(0,l.logErrorWithContext)(A,"[AuthService]")}async getUserInfo(u,d){if(this.isApiKeyToken(u))return null;try{const h=(0,s.extractUserIdFromToken)(u),m=h?`user:${h}`:null,p=await this.getCachedUserInfo(m);if(p)return p;const x=this.buildAuthStrategyWithToken(u,d),A=await this.apiClient.auth.getUser(x);if(A.data?.authenticated&&A.data.user){const b=this.mapUserInfo(A.data.user);return await this.cacheUserInfo(m,b),b}return null}catch(h){return this.logAuthServiceError("Get user info",h,u,"/api/auth/user","GET"),null}}clearTokenCache(u){(0,s.clearTokenCache)(this.cache,u)}clearUserCache(u){(0,s.clearUserCache)(this.cache,u)}async logout(u){const d=this.generateCorrelationId(),h=this.httpClient.config.clientId;try{const m=await this.apiClient.auth.logoutWithToken(u.token);return this.clearTokenCache(u.token),this.clearUserCache(u.token),m}catch(m){return(0,t.isHttpStatus)(m,400)?(console.warn("Logout: No active session (400)",{correlationId:d}),this.clearTokenCache(u.token),this.clearUserCache(u.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}):((0,t.handleAuthErrorSilent)(m,"Logout",d,h),{success:!1,message:"Logout failed",timestamp:new Date().toISOString()})}}async refreshToken(u,d){const h=this.generateCorrelationId(),m=this.httpClient.config.clientId;try{const p=d||this.httpClient.config.authStrategy,x=await this.apiClient.auth.refreshToken({refreshToken:u},p);return x.data?{success:x.success,accessToken:x.data.accessToken,refreshToken:x.data.refreshToken||u,expiresIn:x.data.expiresIn,expiresAt:x.timestamp,timestamp:x.timestamp}:null}catch(p){return(0,t.handleAuthErrorSilent)(p,"Refresh token",h,m)}}async isAuthenticated(u,d){return this.validateToken(u,d)}}return ka.AuthService=c,ka}var Ra={},Aa={},Tw;function Fu(){if(Tw)return Aa;Tw=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.decodeJWT=n,Aa.extractUserIdFromToken=s;function t(o){let l=o.replace(/-/g,"+").replace(/_/g,"/");for(;l.length%4;)l+="=";return l}function n(o){try{const l=o.split(".");if(l.length!==3)return null;const c=l[1],i=t(c),u=atob(i);return JSON.parse(u)}catch{return null}}function s(o){try{const l=n(o);if(!l)return null;const c=l.sub||l.userId||l.user_id||l.id;return c||null}catch{return null}}return Aa}var Ia={},xo={},pr={},_w;function Mr(){if(_w)return pr;_w=1;var t=pr&&pr.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(pr,"__esModule",{value:!0}),pr.isBrowser=s,pr.getLocalStorage=o,pr.setLocalStorage=l,pr.removeLocalStorage=c,pr.extractUserIdFromToken=i,pr.generateCacheKey=u,pr.truncatePayload=d,pr.calculateSize=h,pr.isRetryableError=m,pr.calculateBackoffDelay=p;const n=t(Di());function s(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function o(x){if(!s())return null;try{return globalThis.localStorage.getItem(x)}catch{return null}}function l(x,A){if(s())try{globalThis.localStorage.setItem(x,A)}catch{}}function c(x){if(s())try{globalThis.localStorage.removeItem(x)}catch{}}function i(x){try{const A=n.default.decode(x);return A?A.sub||A.userId||A.user_id||A.id:null}catch{return null}}function u(x,A){const b=A?.method||"GET",T=A?.body?JSON.stringify(A.body):"";return`data-client:${b}:${x}:${T}`}function d(x,A){const b=JSON.stringify(x);return b.length<=A?{data:x,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:b.length},truncated:!0}}function h(x){try{return JSON.stringify(x).length}catch{return 0}}function m(x,A){return!x||x>=500||x===408||x===429?!0:(x===401||x===403||x>=400&&x<500,!1)}function p(x,A,b){return Math.min(A*Math.pow(2,x),b)+Math.random()*1e3}return pr}var kw;function Hu(){if(kw)return xo;kw=1;var t=xo&&xo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(xo,"__esModule",{value:!0}),xo.extractClientTokenInfo=l;const n=t(Di()),s=Mr();function o(c){if((0,s.isBrowser)())try{const i=c.split(".");if(i.length!==3)return null;let u=i[1];for(;u.length%4;)u+="=";return u=u.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(atob(u))}catch(i){return console.warn("[decodeJWT] Browser decode failed:",i),null}else try{return n.default.decode(c)}catch(i){return console.warn("[decodeJWT] Node.js decode failed:",i),null}}function l(c){try{const i=o(c);if(!i||typeof i!="object")return console.warn("[extractClientTokenInfo] Failed to decode client token: Invalid token format"),{};const u={};return i.application&&typeof i.application=="string"?u.application=i.application:i.app&&typeof i.app=="string"&&(u.application=i.app),i.environment&&typeof i.environment=="string"?u.environment=i.environment:i.env&&typeof i.env=="string"?u.environment=i.env:i.environmentKey&&typeof i.environmentKey=="string"&&(u.environment=i.environmentKey),i.applicationId&&typeof i.applicationId=="string"?u.applicationId=i.applicationId:i.app_id&&typeof i.app_id=="string"&&(u.applicationId=i.app_id),i.clientId&&typeof i.clientId=="string"?u.clientId=i.clientId:i.client_id&&typeof i.client_id=="string"&&(u.clientId=i.client_id),u}catch(i){return console.warn("[extractClientTokenInfo] Failed to decode client token:",i instanceof Error?i.message:i),{}}}return xo}var Rw;function kl(){if(Rw)return Ia;Rw=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.ApplicationContextService=void 0;const t=Hu(),n=Mr(),s=Tt(),o=dt();class l{constructor(i){this.cachedContext=null,this.httpClient=i}parseClientIdFormat(i){try{if(!i||typeof i!="string")return{environment:null,application:null};const u=i.split("-");if(u.length<4||u[0]!=="miso"||u[1]!=="controller")return{environment:null,application:null};const d=u[2]||null,h=u.slice(3).join("-")||null;return{environment:d,application:h}}catch(u){return(0,o.logErrorWithContext)((0,s.extractErrorInfo)(u,{endpoint:"parseClientId"}),"[ApplicationContextService]"),{environment:null,application:null}}}getClientToken(){try{if(this.httpClient.config.clientToken)return this.httpClient.config.clientToken;if((0,n.isBrowser)()){const u=(0,n.getLocalStorage)("miso:client-token");if(u)return u}const i=this.httpClient.internalClient;if(i){const u=i.clientToken;if(u&&typeof u=="string")return u}return null}catch(i){return(0,o.logErrorWithContext)((0,s.extractErrorInfo)(i,{endpoint:"getClientToken"}),"[ApplicationContextService]"),null}}extractFromClientToken(i){const u={application:"",applicationId:"",environment:""};try{const d=(0,t.extractClientTokenInfo)(i);d.applicationId&&(u.applicationId=d.applicationId),d.environment&&(u.environment=d.environment),d.application&&(u.application=d.application)}catch(d){(0,o.logErrorWithContext)((0,s.extractErrorInfo)(d,{endpoint:"extractClientToken"}),"[ApplicationContextService]")}return u}applyClientIdFallback(i,u){if(i&&u)return{application:i,environment:u};const d=this.parseClientIdFormat(this.httpClient.config.clientId);return{application:i||d.application||"",environment:u||d.environment||""}}getApplicationContext(){if(this.cachedContext)return this.cachedContext;let i="",u="",d="";const h=this.getClientToken();if(h){const p=this.extractFromClientToken(h);u=p.applicationId,i=p.application,d=p.environment}const m=this.applyClientIdFallback(i,d);return this.cachedContext={application:m.application,applicationId:u||"",environment:m.environment},this.cachedContext}clearCache(){this.cachedContext=null}}return Ia.ApplicationContextService=l,Ia}var Aw;function ZE(){if(Aw)return Ra;Aw=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.RoleService=void 0;const t=Fu(),n=kl();class s{constructor(l,c,i){this.cache=i,this.httpClient=l,this.apiClient=c,this.roleTTL=this.httpClient.config.cache?.roleTTL||900,this.applicationContextService=new n.ApplicationContextService(l)}buildAuthStrategy(l,c){const i=c||this.httpClient.config.authStrategy;return i?{...i,bearerToken:l}:{methods:["bearer"],bearerToken:l}}getEnvironmentParams(){const l=this.applicationContextService.getApplicationContext();return l.environment?{environment:l.environment}:void 0}async resolveUserId(l,c){const i=(0,t.extractUserIdFromToken)(l);if(i)return i;const u=this.buildAuthStrategy(l,c);return(await this.apiClient.auth.validateToken({token:l},u)).data?.user?.id||null}async getRoles(l,c){try{let i=(0,t.extractUserIdFromToken)(l);const u=i?`roles:${i}`:null;if(u){const h=await this.cache.get(u);if(h)return h.roles||[]}if(!i&&(i=await this.resolveUserId(l,c),!i))return[];const d=await this.fetchRolesFromController(l,c);return await this.cache.set(`roles:${i}`,{roles:d,timestamp:Date.now()},this.roleTTL),d}catch(i){const u=i?.statusCode||i?.response?.status;return console.error("Failed to get roles:",{method:"GET",path:"/api/auth/roles",statusCode:u,ipAddress:"unknown",correlationId:i?.correlationId,userId:(0,t.extractUserIdFromToken)(l)||void 0,errorMessage:i instanceof Error?i.message:String(i),stackTrace:i instanceof Error?i.stack:void 0}),[]}}async fetchRolesFromController(l,c){const i=this.buildAuthStrategy(l,c),u=this.getEnvironmentParams();return(await this.apiClient.roles.getRoles(u,i)).data?.roles||[]}async hasRole(l,c,i){return(await this.getRoles(l,i)).includes(c)}async hasAnyRole(l,c,i){const u=await this.getRoles(l,i);return c.some(d=>u.includes(d))}async hasAllRoles(l,c,i){const u=await this.getRoles(l,i);return c.every(d=>u.includes(d))}async refreshRoles(l,c){try{const i=this.buildAuthStrategy(l,c),d=(await this.apiClient.auth.validateToken({token:l},i)).data?.user?.id;if(!d)return[];const h=this.getEnvironmentParams(),p=(await this.apiClient.roles.refreshRoles(h,i)).data?.roles||[];return await this.cache.set(`roles:${d}`,{roles:p,timestamp:Date.now()},this.roleTTL),p}catch(i){const u=i?.statusCode||i?.response?.status;return console.error("Failed to refresh roles:",{method:"POST",path:"/api/auth/roles/refresh",statusCode:u,ipAddress:"unknown",correlationId:i?.correlationId,userId:(0,t.extractUserIdFromToken)(l)||void 0,errorMessage:i instanceof Error?i.message:String(i),stackTrace:i instanceof Error?i.stack:void 0}),[]}}}return Ra.RoleService=s,Ra}var Pa={},Iw;function eS(){if(Iw)return Pa;Iw=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.PermissionService=void 0;const t=Fu(),n=kl();class s{constructor(l,c,i){this.cache=i,this.httpClient=l,this.apiClient=c,this.permissionTTL=this.httpClient.config.cache?.permissionTTL||900,this.applicationContextService=new n.ApplicationContextService(l)}buildAuthStrategy(l,c){const i=c||this.httpClient.config.authStrategy;return i?{...i,bearerToken:l}:{methods:["bearer"],bearerToken:l}}getEnvironmentParams(){const l=this.applicationContextService.getApplicationContext();return l.environment?{environment:l.environment}:void 0}async resolveUserId(l,c){const i=(0,t.extractUserIdFromToken)(l);if(i)return i;const u=this.buildAuthStrategy(l,c);return(await this.apiClient.auth.validateToken({token:l},u)).data?.user?.id||null}async getPermissions(l,c){try{let i=(0,t.extractUserIdFromToken)(l);const u=i?`permissions:${i}`:null;if(u){const h=await this.cache.get(u);if(h)return h.permissions||[]}if(!i&&(i=await this.resolveUserId(l,c),!i))return[];const d=await this.fetchPermissionsFromController(l,c);return await this.cache.set(`permissions:${i}`,{permissions:d,timestamp:Date.now()},this.permissionTTL),d}catch(i){const u=i?.statusCode||i?.response?.status;return console.error("Failed to get permissions:",{method:"GET",path:"/api/auth/permissions",statusCode:u,ipAddress:"unknown",correlationId:i?.correlationId,userId:(0,t.extractUserIdFromToken)(l)||void 0,errorMessage:i instanceof Error?i.message:String(i),stackTrace:i instanceof Error?i.stack:void 0}),[]}}async fetchPermissionsFromController(l,c){const i=this.buildAuthStrategy(l,c),u=this.getEnvironmentParams();return(await this.apiClient.permissions.getPermissions(u,i)).data?.permissions||[]}async hasPermission(l,c,i){return(await this.getPermissions(l,i)).includes(c)}async hasAnyPermission(l,c,i){const u=await this.getPermissions(l,i);return c.some(d=>u.includes(d))}async hasAllPermissions(l,c,i){const u=await this.getPermissions(l,i);return c.every(d=>u.includes(d))}async refreshPermissions(l,c){try{const i=this.buildAuthStrategy(l,c),d=(await this.apiClient.auth.validateToken({token:l},i)).data?.user?.id;if(!d)return[];const h=this.getEnvironmentParams(),p=(await this.apiClient.permissions.refreshPermissions(h,i)).data?.permissions||[];return await this.cache.set(`permissions:${d}`,{permissions:p,timestamp:Date.now()},this.permissionTTL),p}catch(i){const u=i?.statusCode||i?.response?.status;return console.error("Failed to refresh permissions:",{method:"POST",path:"/api/auth/permissions/refresh",statusCode:u,ipAddress:"unknown",correlationId:i?.correlationId,userId:(0,t.extractUserIdFromToken)(l)||void 0,errorMessage:i instanceof Error?i.message:String(i),stackTrace:i instanceof Error?i.stack:void 0}),[]}}async clearPermissionsCache(l,c){try{const i=this.buildAuthStrategy(l,c),d=(await this.apiClient.auth.validateToken({token:l},i)).data?.user?.id;if(!d)return;await this.cache.delete(`permissions:${d}`)}catch(i){const u=i?.statusCode||i?.response?.status;console.error("Failed to clear permissions cache:",{method:"DELETE",path:"/cache/permissions",statusCode:u,ipAddress:"unknown",correlationId:i?.correlationId,userId:(0,t.extractUserIdFromToken)(l)||void 0,errorMessage:i instanceof Error?i.message:String(i),stackTrace:i instanceof Error?i.stack:void 0})}}}return Pa.PermissionService=s,Pa}var np={},Na={};class $u{constructor(){this._events=new Map}on(n,s){return this._events.has(n)||this._events.set(n,[]),this._events.get(n).push(s),this}once(n,s){const o=(...l)=>{this.removeListener(n,o),s(...l)};return this.on(n,o),this}emit(n,...s){const o=this._events.get(n);return o&&o.length>0?(o.forEach(l=>{try{l(...s)}catch(c){console.error("EventEmitter error:",c)}}),!0):!1}removeListener(n,s){const o=this._events.get(n);if(o){const l=o.indexOf(s);l>-1&&o.splice(l,1)}return this}removeAllListeners(n){return n?this._events.delete(n):this._events.clear(),this}off(n,s){return this.removeListener(n,s)}addListener(n,s){return this.on(n,s)}}const No={EventEmitter:$u};typeof He<"u"&&typeof He.exports<"u"&&(He.exports=No,He.exports.default=No,He.exports.EventEmitter=$u,He.exports.events=No);typeof tt<"u"&&(tt.default=No,tt.events=No,tt.EventEmitter=$u);const Z_=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:$u,events:No},Symbol.toStringTag,{value:"Module"}));var Oa={},Ar={};const Pw={},e1=Object.freeze(Object.defineProperty({__proto__:null,default:Pw,fs:Pw},Symbol.toStringTag,{value:"Module"})),t1=bl(e1),Nw={join:(...t)=>t.join("/"),resolve:(...t)=>t.join("/"),dirname:()=>"",basename:()=>"",extname:()=>""},r1=Object.freeze(Object.defineProperty({__proto__:null,default:Nw,path:Nw},Symbol.toStringTag,{value:"Module"})),n1=bl(r1),s1="1.0.0",i1="ISO 27001 compliant sensitive fields configuration for data masking",o1={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},a1=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],l1={version:s1,description:i1,categories:o1,fieldPatterns:a1};var Ow;function c1(){if(Ow)return Ar;Ow=1;var t={},n=Ar&&Ar.__createBinding||(Object.create?(function(S,_,L,O){O===void 0&&(O=L);var N=Object.getOwnPropertyDescriptor(_,L);(!N||("get"in N?!_.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return _[L]}}),Object.defineProperty(S,O,N)}):(function(S,_,L,O){O===void 0&&(O=L),S[O]=_[L]})),s=Ar&&Ar.__setModuleDefault||(Object.create?(function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}):function(S,_){S.default=_}),o=Ar&&Ar.__importStar||(function(){var S=function(_){return S=Object.getOwnPropertyNames||function(L){var O=[];for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&(O[O.length]=N);return O},S(_)};return function(_){if(_&&_.__esModule)return _;var L={};if(_!=null)for(var O=S(_),N=0;N<O.length;N++)O[N]!=="default"&&n(L,_,O[N]);return s(L,_),L}})(),l=Ar&&Ar.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.loadSensitiveFieldsConfig=b,Ar.getFieldPatterns=w,Ar.getSensitiveFieldsArray=v;const c=o(t1),i=o(n1),u=l(l1);function d(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function h(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function m(S){const _=S||t.MISO_SENSITIVE_FIELDS_CONFIG;return _?i.isAbsolute(_)?_:i.resolve(process.cwd(),_):null}function p(S){const _=new Set;return Object.values(S.categories).forEach(L=>{L.forEach(O=>_.add(O.toLowerCase()))}),d().forEach(L=>_.add(L)),_}function x(S){if(!c.existsSync(S))return null;const _=c.readFileSync(S,"utf8"),L=JSON.parse(_);return p(L)}function A(){try{const S=u.default;return p(S)}catch{const S=i.join(__dirname,"sensitive-fields.config.json");return x(S)}}function b(S){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!t)return d();try{const _=m(S);if(_){const O=x(_);if(O)return O}return A()??d()}catch{return d()}}function T(S){if(!c.existsSync(S))return null;const _=c.readFileSync(S,"utf8");return JSON.parse(_).fieldPatterns||h()}function C(){try{return u.default.fieldPatterns||h()}catch{const S=i.join(__dirname,"sensitive-fields.config.json");return T(S)}}function w(S){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!t)return h();try{const _=m(S);if(_){const O=T(_);if(O)return O}return C()??h()}catch{return h()}}function v(S){const _=b(S);return Array.from(_)}return Ar}var jw;function zs(){if(jw)return Oa;jw=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.DataMasker=void 0;const t=c1();class n{static initializeSensitiveFields(o){return this.configPath!==o&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=o),this.cachedFields?this.cachedFields:(this.cachedFields=(0,t.loadSensitiveFieldsConfig)(o),this.cachedFieldPatterns=(0,t.getFieldPatterns)(o),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,t.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(o){this.configPath=o,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(o){const l=this.getSensitiveFields(),c=this.getFieldPatterns(),i=o.toLowerCase().replace(/[_-]/g,"");if(l.has(i))return!0;for(const u of c)if(i.includes(u.toLowerCase()))return!0;return!1}static maskSensitiveData(o){if(o==null||typeof o!="object")return o;if(Array.isArray(o))return o.map(c=>this.maskSensitiveData(c));const l={};for(const[c,i]of Object.entries(o))this.isSensitiveField(c)?l[c]=this.MASKED_VALUE:typeof i=="object"&&i!==null?l[c]=this.maskSensitiveData(i):l[c]=i;return l}static maskValue(o,l=0,c=0){if(!o||o.length<=l+c)return this.MASKED_VALUE;const i=o.substring(0,l),u=o.substring(o.length-c),d="*".repeat(Math.min(8,o.length-l-c));return`${i}${d}${u}`}static containsSensitiveData(o){if(o==null||typeof o!="object")return!1;if(Array.isArray(o))return o.some(l=>this.containsSensitiveData(l));for(const[l,c]of Object.entries(o))if(this.isSensitiveField(l)||typeof c=="object"&&c!==null&&this.containsSensitiveData(c))return!0;return!1}}return Oa.DataMasker=n,n.MASKED_VALUE="***MASKED***",n.cachedFields=null,n.cachedFieldPatterns=null,n.configPath=void 0,Oa}var ja={},Lw;function u1(){if(Lw)return ja;Lw=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.AuditLogQueue=void 0;class t{constructor(s,o,l,c){this.queue=[],this.flushTimer=null,this.isFlushing=!1,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.httpClient=s,this.redis=o,this.config=l,this.eventEmitter=c;const i=l.audit||{};this.batchSize=i.batchSize??10,this.batchInterval=i.batchInterval??100,typeof process<"u"&&(process.on("SIGINT",()=>this.flush(!0)),process.on("SIGTERM",()=>this.flush(!0)),process.on("beforeExit",()=>this.flush(!0)))}setApiClient(s){this.apiClient=s}async add(s){if(this.queue.push({entry:s,timestamp:Date.now()}),this.queue.length>=this.batchSize){await this.flush(!1);return}!this.flushTimer&&this.queue.length>0&&(this.flushTimer=setTimeout(()=>{this.flush(!1).catch(()=>{})},this.batchInterval),this.flushTimer&&typeof this.flushTimer.unref=="function"&&this.flushTimer.unref())}async flush(s=!1){if(!(this.isFlushing||this.queue.length===0)){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.isFlushing=!0;try{const o=this.queue.splice(0);if(o.length===0)return;const l=o.map(c=>c.entry);if(await this.flushToEvents(l)||await this.flushToRedis(l))return;await this.flushToHttp(l)}catch{}finally{this.isFlushing=!1}}}async flushToEvents(s){return!this.config.emitEvents||!this.eventEmitter?!1:(this.eventEmitter.emit("log:batch",s),!0)}async flushToRedis(s){if(!this.redis.isConnected())return!1;const o=`audit-logs:${this.config.clientId}`;return await this.redis.rpush(o,JSON.stringify(s))}async flushToHttp(s){const o=Date.now();if(this.httpLoggingDisabledUntil&&o<this.httpLoggingDisabledUntil)return;const l=s.map(c=>({...c,environment:void 0,application:void 0}));try{this.apiClient?await this.apiClient.logs.createBatchLogs({logs:l}):await this.httpClient.request("POST","/api/v1/logs/batch",{logs:l}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch{this.httpLoggingFailures++,this.httpLoggingFailures>=t.MAX_FAILURES&&(this.httpLoggingDisabledUntil=o+t.DISABLE_DURATION_MS,this.httpLoggingFailures=0)}}getQueueSize(){return this.queue.length}clear(){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue=[]}}return ja.AuditLogQueue=t,t.MAX_FAILURES=3,t.DISABLE_DURATION_MS=6e4,ja}var La={},Co={},Dw;function Rl(){if(Dw)return Co;Dw=1;var t=Co&&Co.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Co,"__esModule",{value:!0}),Co.extractRequestContext=o;const n=t(Di());function s(l){const i=(l.headers||{}).authorization;if(!i?.startsWith("Bearer "))return{};try{const u=i.substring(7),d=n.default.decode(u);return d?{userId:d.sub||d.userId||d.user_id||d.id,sessionId:d.sessionId||d.sid}:{}}catch{return{}}}function o(l){const c=l.headers||{},i=l.ip||c["x-forwarded-for"]?.split(",")[0]?.trim()||l.socket?.remoteAddress,u=c["x-correlation-id"]||c["x-request-id"]||c["request-id"],{userId:d,sessionId:h}=s(l);return{ipAddress:i,method:l.method,path:l.originalUrl||l.path,userAgent:c["user-agent"],correlationId:u,referer:c.referer,userId:d,sessionId:h,requestId:c["x-request-id"],requestSize:c["content-length"]?parseInt(c["content-length"],10):void 0}}return Co}var Da={},Mw;function Ws(){if(Mw)return Da;Mw=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.LoggerContextStorage=void 0;const t=ji;class n{constructor(){this.asyncLocalStorage=new t.AsyncLocalStorage}static getInstance(){return n.instance||(n.instance=new n),n.instance}getContext(){const o=this.asyncLocalStorage.getStore();return o===void 0?null:o}setContext(o){const l=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...l,...o})}clearContext(){this.asyncLocalStorage.enterWith({})}mergeContext(o){const l=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...l,...o})}runWithContext(o,l){const c={...this.asyncLocalStorage.getStore()||{},...o};return this.asyncLocalStorage.run(c,l)}async runWithContextAsync(o,l){const c={...this.asyncLocalStorage.getStore()||{},...o};return this.asyncLocalStorage.run(c,l)}}return Da.LoggerContextStorage=n,n.instance=null,Da}var Uw;function tS(){if(Uw)return La;Uw=1,Object.defineProperty(La,"__esModule",{value:!0}),La.LoggerChain=void 0;const t=Rl(),n=Ws();class s{constructor(l,c={},i={}){this.contextStorage=n.LoggerContextStorage.getInstance(),this.logger=l,this.context=c,this.options=i}addContext(l,c){return this.context[l]=c,this}withoutMasking(){return this.options.maskSensitiveData=!1,this}withIndexedContext(l){return this.options.sourceKey=l.sourceKey,this.options.sourceDisplayName=l.sourceDisplayName,this.options.externalSystemKey=l.externalSystemKey,this.options.externalSystemDisplayName=l.externalSystemDisplayName,this.options.recordKey=l.recordKey,this.options.recordDisplayName=l.recordDisplayName,this}withCredentialContext(l,c){return this.options.credentialId=l,this.options.credentialType=c,this}withResponseMetrics(l,c){return this.options.responseSize=l,this.options.durationMs=c,this}withRequest(l){const c=(0,t.extractRequestContext)(l),i=l.headers.authorization?.replace("Bearer ","");return this.contextStorage.mergeContext({ipAddress:c.ipAddress,method:c.method,path:c.path,userAgent:c.userAgent,correlationId:c.correlationId,referer:c.referer,userId:c.userId,sessionId:c.sessionId,requestId:c.requestId,requestSize:c.requestSize,token:i}),c.method&&(this.context.method=c.method),c.path&&(this.context.path=c.path),c.referer&&(this.context.referer=c.referer),c.requestSize!==void 0&&(this.context.requestSize=c.requestSize),this}async error(l,c){await this.logger.error(l,this.context,c,this.options)}async info(l){await this.logger.info(l,this.context,this.options)}async audit(l,c){await this.logger.audit(l,c,this.context,this.options)}}return La.LoggerChain=s,La}var os={},qw;function rS(){if(qw)return os;qw=1;var t={},n=os&&os.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(os,"__esModule",{value:!0}),os.extractJwtContext=c,os.extractEnvironmentMetadata=i,os.getLogWithRequest=u,os.getWithContext=d;const s=n(Di()),o=zs(),l=Rl();function c(h){if(!h)return{};try{const m=s.default.decode(h);return m?{userId:m.sub||m.userId||m.user_id,applicationId:m.applicationId||m.app_id,sessionId:m.sessionId||m.sid,roles:m.roles||m.realm_access?.roles||[],permissions:m.permissions||m.scope?.split(" ")||[]}:{}}catch{return{}}}function i(){const h={};if(typeof globalThis<"u"&&"window"in globalThis){const m=globalThis,p=m.window?.navigator,x=m.window?.location;h.userAgent=p?.userAgent,h.hostname=x?.hostname}return typeof process<"u"&&t&&(h.hostname=t.HOSTNAME||"unknown"),h}function u(h,m,p="info",x,A){const{applicationContextService:b,generateCorrelationId:T,maskSensitiveData:C,clientId:w}=A,v=(0,l.extractRequestContext)(h),S=c(h.headers.authorization?.replace("Bearer ","")),_=i(),L=b.getApplicationContext(),O=v.correlationId||T(),N=C&&x?o.DataMasker.maskSensitiveData(x):x;let R=S.applicationId||"";return!R&&L.applicationId&&(R=L.applicationId),{timestamp:new Date().toISOString(),level:p,environment:L.environment||"unknown",application:L.application||w||"",applicationId:R,message:m,context:N,correlationId:O,userId:v.userId||S.userId,sessionId:v.sessionId||S.sessionId,requestId:v.requestId,ipAddress:v.ipAddress||_.ipAddress,userAgent:v.userAgent||_.userAgent,referer:v.referer,requestSize:v.requestSize,..._}}function d(h,m,p="info",x,A,b,T){const C=i(),w=A(),v=x.getApplicationContext(),S=b?o.DataMasker.maskSensitiveData(h):h;return{timestamp:new Date().toISOString(),level:p,environment:v.environment||"unknown",application:v.application||T||"",applicationId:v.applicationId||"",message:m,context:S,correlationId:w,...C}}return os}var Fw;function d1(){if(Fw)return Na;Fw=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.LoggerService=void 0;const t=Z_,n=zs(),s=u1(),o=tS(),l=kl(),c=Ws(),i=rS();class u extends t.EventEmitter{constructor(h,m){super(),this.maskSensitiveData=!0,this.correlationCounter=0,this.auditLogQueue=null,this.loggerContextStorage=c.LoggerContextStorage.getInstance(),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.redis=m,this.httpClient=h,this.applicationContextService=new l.ApplicationContextService(h);const p=this.httpClient.config.audit||{};(p.batchSize!==void 0||p.batchInterval!==void 0)&&(this.auditLogQueue=new s.AuditLogQueue(h,m,this.httpClient.config,this))}setApiClient(h){this.apiClient=h,this.auditLogQueue&&this.auditLogQueue.setApiClient(h)}getApplicationContextService(){return this.applicationContextService}setMasking(h){this.maskSensitiveData=h}generateCorrelationId(){this.correlationCounter=(this.correlationCounter+1)%1e4;const h=Date.now(),m=Math.random().toString(36).substring(2,8);return`${this.httpClient.config.clientId.substring(0,10)}-${h}-${this.correlationCounter}-${m}`}async error(h,m,p,x){await this.log("error",h,m,p,x)}async audit(h,m,p,x){const A={action:h,resource:m,...p};await this.log("audit",`Audit: ${h} on ${m}`,A,void 0,x)}async info(h,m,p){await this.log("info",h,m,void 0,p)}async debug(h,m,p){this.httpClient.config.logLevel==="debug"&&await this.log("debug",h,m,void 0,p)}async log(h,m,p,x,A){const b=this.loggerContextStorage.getContext()||{},T=b.token?(0,i.extractJwtContext)(b.token):{},C=(0,i.extractEnvironmentMetadata)(),w=b.correlationId||this.generateCorrelationId(),v=this.maskContext(p,A),S=this.applicationContextService.getApplicationContext(),_=this.buildLogEntry({level:h,message:m,maskedContext:v,stackTrace:x,options:A,jwtContext:T,metadata:C,appContext:S,loggerContext:b,correlationId:w});if(this.httpClient.config.emitEvents){this.emit("log",_);return}if(h==="audit"&&this.auditLogQueue){await this.auditLogQueue.add(_);return}await this.sendToRedis(_)||this.isCircuitOpen()||await this.sendToHttp(h,_)}maskContext(h,m){return!(m?.maskSensitiveData!==!1&&this.maskSensitiveData)||!h?h:n.DataMasker.maskSensitiveData(h)}buildLogEntry(h){const{level:m,message:p,maskedContext:x,stackTrace:A,options:b,jwtContext:T,metadata:C,appContext:w,loggerContext:v,correlationId:S}=h,_=this.resolveApplicationId(T,w,v);return{timestamp:new Date().toISOString(),level:m,environment:w.environment||"unknown",application:w.application||this.httpClient.config.clientId,applicationId:_,message:p,context:x,stackTrace:A,correlationId:S,userId:v?.userId||T.userId,sessionId:v?.sessionId||T.sessionId,requestId:v?.requestId,ipAddress:v?.ipAddress||C.ipAddress,userAgent:v?.userAgent||C.userAgent,referer:v?.referer,...C,sourceKey:b?.sourceKey,sourceDisplayName:b?.sourceDisplayName,externalSystemKey:b?.externalSystemKey,externalSystemDisplayName:b?.externalSystemDisplayName,recordKey:b?.recordKey,recordDisplayName:b?.recordDisplayName,credentialId:b?.credentialId,credentialType:b?.credentialType,requestSize:v?.requestSize,responseSize:b?.responseSize,durationMs:b?.durationMs,errorCategory:b?.errorCategory,httpStatusCategory:b?.httpStatusCategory}}resolveApplicationId(h,m,p){return p?.applicationId?p.applicationId:m.applicationId?m.applicationId:h.applicationId||""}async sendToRedis(h){if(!this.redis.isConnected())return!1;const m=`logs:${this.httpClient.config.clientId}`;return!!await this.redis.rpush(m,JSON.stringify(h))}isCircuitOpen(){const h=Date.now();return!!(this.httpLoggingDisabledUntil&&h<this.httpLoggingDisabledUntil)}mapLogType(h){return{logType:h==="audit"?"audit":h==="error"?"error":"general",logLevel:h==="audit"?"info":h==="error"?"error":h==="info"?"info":"debug"}}buildEnrichedContext(h){const m={...h.context,userId:h.userId,sessionId:h.sessionId,requestId:h.requestId,ipAddress:h.ipAddress,userAgent:h.userAgent,referer:h.referer,hostname:h.hostname,applicationId:h.applicationId,sourceKey:h.sourceKey,sourceDisplayName:h.sourceDisplayName,externalSystemKey:h.externalSystemKey,externalSystemDisplayName:h.externalSystemDisplayName,recordKey:h.recordKey,recordDisplayName:h.recordDisplayName,credentialId:h.credentialId,credentialType:h.credentialType,requestSize:h.requestSize,responseSize:h.responseSize,durationMs:h.durationMs,errorCategory:h.errorCategory,httpStatusCategory:h.httpStatusCategory};return Object.keys(m).forEach(p=>{m[p]===void 0&&delete m[p]}),h.stackTrace&&(m.stackTrace=h.stackTrace),m}isAuthError(h){return h instanceof Error?h.message.includes("401")||h.message.includes("Unauthorized")?!0:h.statusCode===401:!1}async sendAuditLogPayload(h,m,p,x){const A=m.resource,b=m.oldValues,T=m.newValues,C=m.entityType||(A?.startsWith("/api/")?"API Endpoint":"HTTP Request"),w=m.entityId||A||"unknown",v=m.action||"unknown";delete m.action,delete m.resource,delete m.entityType,delete m.entityId,delete m.oldValues,delete m.newValues,await this.apiClient.logs.createLog({type:p,data:{level:x,message:h.message,context:m,correlationId:h.correlationId,entityType:C,entityId:w,action:v,oldValues:b,newValues:T}})}async sendToHttp(h,m){const p=Date.now();try{if(!this.apiClient)throw new Error("ApiClient not initialized. Call setApiClient() before logging.");const{logType:x,logLevel:A}=this.mapLogType(h),b=this.buildEnrichedContext(m);h==="audit"?await this.sendAuditLogPayload(m,b,x,A):await this.apiClient.logs.createLog({type:x,data:{level:A,message:m.message,context:b,correlationId:m.correlationId}}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch(x){this.isAuthError(x)||(this.httpLoggingFailures++,this.httpLoggingFailures>=u.MAX_FAILURES&&(this.httpLoggingDisabledUntil=p+u.DISABLE_DURATION_MS,this.httpLoggingFailures=0))}}withContext(h){return new o.LoggerChain(this,h)}withoutMasking(){return new o.LoggerChain(this,{},{maskSensitiveData:!1})}getLogWithRequest(h,m,p="info",x){return(0,i.getLogWithRequest)(h,m,p,x,this.applicationContextService,()=>this.generateCorrelationId(),this.maskSensitiveData,this.httpClient.config.clientId)}getWithContext(h,m,p="info"){return(0,i.getWithContext)(h,m,p,this.applicationContextService,()=>this.generateCorrelationId(),this.maskSensitiveData,this.httpClient.config.clientId)}getForRequest(h,m,p="info",x){return this.getLogWithRequest(h,m,p,x)}forRequest(h){return new o.LoggerChain(this,{},{}).withRequest(h)}}return Na.LoggerService=u,u.MAX_FAILURES=3,u.DISABLE_DURATION_MS=6e4,Na}var Ma={},Hw;function nS(){if(Hw)return Ma;Hw=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.UnifiedLoggerService=void 0;class t{constructor(s,o){this.loggerService=s,this.contextStorage=o}getContext(){return this.contextStorage.getContext()||{}}buildLoggingOptions(s){return{maskSensitiveData:!0}}extractErrorContext(s){if(!s)return{};if(s instanceof Error)return{stackTrace:s.stack,errorName:s.name,errorMessage:s.message};if(typeof s=="string")return{errorMessage:s};if(typeof s=="object"&&s!==null){const o=s;return{stackTrace:o.stack,errorName:o.name,errorMessage:o.message}}return{}}async info(s){try{const o=this.getContext(),l=this.buildLoggingOptions(o);await this.loggerService.info(s,void 0,l)}catch{}}async warn(s){try{const o=this.getContext(),l=this.buildLoggingOptions(o);await this.loggerService.info(s,void 0,l)}catch{}}async debug(s){try{const o=this.getContext(),l=this.buildLoggingOptions(o);await this.loggerService.debug(s,void 0,l)}catch{}}async error(s,o){try{const l=this.getContext(),c=this.buildLoggingOptions(l),i=this.extractErrorContext(o),u={};i.errorName&&(u.errorName=i.errorName),i.errorMessage&&(u.errorMessage=i.errorMessage),await this.loggerService.error(s,u,i.stackTrace,c)}catch{}}async audit(s,o,l,c,i){try{const u=this.getContext(),d=this.buildLoggingOptions(u),h={entityId:l||"unknown"};c!==void 0&&(h.oldValues=c),i!==void 0&&(h.newValues=i),await this.loggerService.audit(s,o,h,d)}catch{}}}return Ma.UnifiedLoggerService=t,Ma}var Dn={},$w;function zu(){if($w)return Dn;$w=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.LoggerServiceRegistry=void 0,Dn.getLogger=o,Dn.setLoggerContext=l,Dn.clearLoggerContext=c,Dn.mergeLoggerContext=i,Dn.registerLoggerService=u;const t=nS(),n=Ws();class s{static register(h){s.instance=h}static get(){return s.instance}static clear(){s.instance=null}}Dn.LoggerServiceRegistry=s,s.instance=null;function o(d){const h=n.LoggerContextStorage.getInstance(),m=d||s.get();if(!m)throw new Error("LoggerService not available. Either pass LoggerService to getLogger() or ensure MisoClient is initialized.");return new t.UnifiedLoggerService(m,h)}function l(d){n.LoggerContextStorage.getInstance().setContext(d)}function c(){n.LoggerContextStorage.getInstance().clearContext()}function i(d){n.LoggerContextStorage.getInstance().mergeContext(d)}function u(d){s.register(d)}return Dn}var zw;function mu(){return zw||(zw=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoggerService=t.getLogger=t.LoggerContextStorage=t.UnifiedLoggerService=t.LoggerChain=t.LoggerService=void 0;var n=d1();Object.defineProperty(t,"LoggerService",{enumerable:!0,get:function(){return n.LoggerService}});var s=tS();Object.defineProperty(t,"LoggerChain",{enumerable:!0,get:function(){return s.LoggerChain}});var o=nS();Object.defineProperty(t,"UnifiedLoggerService",{enumerable:!0,get:function(){return o.UnifiedLoggerService}});var l=Ws();Object.defineProperty(t,"LoggerContextStorage",{enumerable:!0,get:function(){return l.LoggerContextStorage}});var c=zu();Object.defineProperty(t,"getLogger",{enumerable:!0,get:function(){return c.getLogger}}),Object.defineProperty(t,"registerLoggerService",{enumerable:!0,get:function(){return c.registerLoggerService}})})(np)),np}var vi={};class Bp{constructor(n){this.options=n||{},this.connected=!1}async connect(){return console.warn("[Redis Stub] Redis.connect() called in browser - Redis is server-side only"),this.connected=!0,Promise.resolve()}async disconnect(){return this.connected=!1,Promise.resolve()}async get(n){return null}async set(n,s){return"OK"}async del(n){return 0}async rpush(n,s){return 0}async lpop(n){return null}async exists(n){return 0}async expire(n,s){return 0}async keys(n){return[]}isConnected(){return!1}on(){return this}off(){return this}once(){return Promise.resolve({})}emit(){return!1}}const gu=Bp;typeof He<"u"&&typeof He.exports<"u"&&(He.exports=gu,He.exports.default=gu,He.exports.Redis=Bp);const f1=Object.freeze(Object.defineProperty({__proto__:null,Redis:gu,RedisStub:Bp,default:gu},Symbol.toStringTag,{value:"Module"}));var Ww;function Kp(){if(Ww)return vi;Ww=1;var t=vi&&vi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(vi,"__esModule",{value:!0}),vi.RedisService=void 0;const n=t(f1);class s{constructor(l){this.connected=!1,this.config=l}async connect(){if(this.config)try{this.redis=new n.default({host:this.config.host,port:this.config.port,password:this.config.password,db:this.config.db||0,keyPrefix:this.config.keyPrefix||"miso:",maxRetriesPerRequest:3,lazyConnect:!0,enableReadyCheck:!1,disableClientInfo:!0}),await this.redis.connect(),this.connected=!0}catch(l){throw console.error("Failed to connect to Redis:",{errorMessage:l instanceof Error?l.message:String(l)}),this.connected=!1,l}}async disconnect(){this.redis&&(await this.redis.disconnect(),this.connected=!1)}async get(l){if(!this.redis||!this.connected)return null;try{return await this.redis.get(l)}catch(c){return console.error("Redis get error:",{key:l,errorMessage:c instanceof Error?c.message:String(c)}),null}}async set(l,c,i){if(!this.redis||!this.connected)return!1;try{return await this.redis.setex(l,i,c),!0}catch(u){return console.error("Redis set error:",{key:l,errorMessage:u instanceof Error?u.message:String(u)}),!1}}async delete(l){if(!this.redis||!this.connected)return!1;try{return await this.redis.del(l),!0}catch(c){return console.error("Redis delete error:",{key:l,errorMessage:c instanceof Error?c.message:String(c)}),!1}}async rpush(l,c){if(!this.redis||!this.connected)return!1;try{return await this.redis.rpush(l,c),!0}catch(i){return console.error("Redis rpush error:",{queue:l,errorMessage:i instanceof Error?i.message:String(i)}),!1}}isConnected(){return this.connected}}return vi.RedisService=s,vi}var Ua={},Bw;function Vp(){if(Bw)return Ua;Bw=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.CacheService=void 0;const t=Tt(),n=dt();class s{constructor(l){this.memoryCache=new Map,this.redis=l,this.cleanupInterval=setInterval(()=>{this.cleanupExpired()},300*1e3),this.cleanupInterval&&typeof this.cleanupInterval.unref=="function"&&this.cleanupInterval.unref()}cleanupExpired(){const l=Date.now(),c=[];for(const[i,u]of this.memoryCache.entries())u.expiresAt<l&&c.push(i);for(const i of c)this.memoryCache.delete(i)}parseAndCacheRedisValue(l,c){try{const i=JSON.parse(c);return this.setInMemory(l,i,300),i}catch(i){return(0,n.logErrorWithContext)((0,t.extractErrorInfo)(i,{endpoint:l,method:"parseCache"}),"[CacheService]"),this.delete(l),null}}async get(l){try{if(this.redis&&this.redis.isConnected()){const i=await this.redis.get(l);if(i)return this.parseAndCacheRedisValue(l,i)}const c=this.memoryCache.get(l);return c?c.expiresAt<Date.now()?(this.memoryCache.delete(l),null):c.value:null}catch{const c=this.memoryCache.get(l);return c&&c.expiresAt>=Date.now()?c.value:null}}async set(l,c,i){try{const u=JSON.stringify(c);let d=!0;return this.redis&&this.redis.isConnected()&&(d=await this.redis.set(l,u,i)),this.setInMemory(l,c,i),d}catch(u){try{return this.setInMemory(l,c,i),!1}catch{return(0,n.logErrorWithContext)((0,t.extractErrorInfo)(u,{endpoint:l,method:"setCache"}),"[CacheService]"),!1}}}setInMemory(l,c,i){const u=Date.now()+i*1e3;this.memoryCache.set(l,{value:c,expiresAt:u})}async delete(l){let c=!1;this.redis&&this.redis.isConnected()&&(c=await this.redis.delete(l));const i=this.memoryCache.delete(l);return c||i}async clear(){this.memoryCache.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=void 0),this.memoryCache.clear()}}return Ua.CacheService=s,Ua}var qa={},wi={},Fa={},Kw;function sS(){if(Kw)return Fa;Kw=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.AuthStrategyHandler=void 0;class t{static buildAuthHeaders(s,o,l,c){const i={};for(const u of s.methods)switch(u){case"bearer":if(s.bearerToken)return i.Authorization=`Bearer ${s.bearerToken}`,i;break;case"client-token":if(o)return i["x-client-token"]=o,i;break;case"client-credentials":if(l&&c)return i["x-client-id"]=l,i["x-client-secret"]=c,i;break;case"api-key":if(s.apiKey)return i.Authorization=`Bearer ${s.apiKey}`,i;break}return i}static shouldTryMethod(s,o){if(!o.methods.includes(s))return!1;switch(s){case"bearer":return!!o.bearerToken;case"client-token":return!0;case"client-credentials":return!0;case"api-key":return!!o.apiKey;default:return!1}}static getDefaultStrategy(s){return{methods:["bearer","client-token"],bearerToken:s}}static mergeStrategy(s,o){return s?{methods:s.methods.length>0?s.methods:o.methods,bearerToken:s.bearerToken||o.bearerToken,apiKey:s.apiKey||o.apiKey}:o}}return Fa.AuthStrategyHandler=t,Fa}var Yc={},sp={},Xc={},Vw;function Gp(){if(Vw)return Xc;Vw=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.isErrorResponse=t;function t(n){if(!n||typeof n!="object")return!1;const s=n;return!(!Array.isArray(s.errors)||!s.errors.every(o=>typeof o=="string")||typeof s.type!="string"||typeof s.title!="string"||typeof s.statusCode!="number"||s.instance!==void 0&&typeof s.instance!="string")}return Xc}var Gw;function h1(){return Gw||(Gw=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateErrorResponse=void 0,t.validateSuccessResponse=n,t.validatePaginatedResponse=l,t.getResponseType=i;function n(u){if(!u||typeof u!="object")return!1;const d=u;return!(typeof d.success!="boolean"||typeof d.timestamp!="string"||d.message!==void 0&&typeof d.message!="string")}function s(u){if(!u||typeof u!="object")return!1;const d=u;return typeof d.totalItems=="number"&&typeof d.currentPage=="number"&&typeof d.pageSize=="number"&&typeof d.type=="string"}function o(u){if(u===void 0)return!0;if(typeof u!="object"||u===null)return!1;const d=u;return!(d.first!==void 0&&typeof d.first!="string"||d.prev!==void 0&&typeof d.prev!="string"||d.next!==void 0&&typeof d.next!="string"||d.last!==void 0&&typeof d.last!="string")}function l(u){if(!u||typeof u!="object")return!1;const d=u;return!Array.isArray(d.data)||!s(d.meta)?!1:o(d.links)}var c=Gp();Object.defineProperty(t,"validateErrorResponse",{enumerable:!0,get:function(){return c.isErrorResponse}});function i(u){return n(u)?"success":l(u)?"paginated":"unknown"}})(sp)),sp}var Jw;function p1(){if(Jw)return Yc;Jw=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.validateHttpResponse=s;const t=h1();function n(o,l,c,i){const u=`Response validation failed for ${o}: ${l} ${c} Actual: ${JSON.stringify(i)}
`;process.stderr.write(`[WARN] ${u}`)}function s(o,l,c){if(c.validateResponses===!1||(l.includes("/api/v1/auth/validate")||l.includes("/api/auth/validate"))&&o&&typeof o=="object"&&"data"in o)return!0;const i=(0,t.getResponseType)(o);return i==="unknown"?(n(l,"Response structure doesn't match expected format.","Expected: success response ({success, data?, message?, timestamp}) or paginated response ({data[], meta, links?}).",o),!1):i==="success"&&!(0,t.validateSuccessResponse)(o)?(n(l,"Success response structure invalid.","Expected: {success: boolean, data?: T, message?: string, timestamp: string}.",o),!1):i==="paginated"&&!(0,t.validatePaginatedResponse)(o)?(n(l,"Paginated response structure invalid.","Expected: {data: T[], meta: {totalItems, currentPage, pageSize, type}, links?}.",o),!1):!0}return Yc}var Ei={},Yw;function Jp(){if(Yw)return Ei;Yw=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.detectAuthMethodFromHeaders=o,Ei.parseErrorResponse=l,Ei.createMisoClientError=c,Ei.isAxiosError=i;const t=Tu(),n=Gp(),s=Li();function o(u){return u?u.Authorization?"bearer":u["x-client-token"]?"client-token":u["x-client-id"]?"client-credentials":null:null}function l(u,d){try{if(!u.response?.data)return null;const h=u.response.data;if(typeof h=="object"&&h!==null&&(0,n.isErrorResponse)(h)){const m=h;return{errors:h.errors,type:h.type,title:h.title,statusCode:h.statusCode,instance:h.instance||d,authMethod:m.authMethod}}if(typeof h=="string")try{const m=JSON.parse(h);if((0,n.isErrorResponse)(m)){const p=m;return{errors:m.errors,type:m.type,title:m.title,statusCode:m.statusCode,instance:m.instance||d,authMethod:p.authMethod}}}catch{return null}return null}catch{return null}}function c(u,d){const h=u.response?.status,m=l(u,d);let p=null;h===401&&(p=m?.authMethod??o(u.config?.headers));let x;u.response?.data&&typeof u.response.data=="object"&&(x=u.response.data);let A=u.message||"Request failed";return u.response&&(A=u.response.statusText||`Request failed with status code ${h}`),new s.MisoClientError(A,m||void 0,x,h,p)}function i(u){return u instanceof t.AxiosError?!0:typeof u=="object"&&u!==null&&"isAxiosError"in u?u.isAxiosError===!0:!1}return Ei}var Gt={},Xw;function m1(){if(Xw)return Gt;Xw=1;var t=Gt&&Gt.__createBinding||(Object.create?(function(C,w,v,S){S===void 0&&(S=v);var _=Object.getOwnPropertyDescriptor(w,v);(!_||("get"in _?!w.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(C,S,_)}):(function(C,w,v,S){S===void 0&&(S=v),C[S]=w[v]})),n=Gt&&Gt.__setModuleDefault||(Object.create?(function(C,w){Object.defineProperty(C,"default",{enumerable:!0,value:w})}):function(C,w){C.default=w}),s=Gt&&Gt.__importStar||(function(){var C=function(w){return C=Object.getOwnPropertyNames||function(v){var S=[];for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(S[S.length]=_);return S},C(w)};return function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var S=C(w),_=0;_<S.length;_++)S[_]!=="default"&&t(v,w,S[_]);return n(v,w),v}})(),o=Gt&&Gt.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.generateCorrelationId=d,Gt.createHttpAgent=h,Gt.extractTokenFromResponse=m,Gt.formatTokenFetchError=p,Gt.fetchClientToken=A,Gt.refreshClientTokenFromCallback=b,Gt.isTokenValid=T;const l=o(Tu()),c=Hs(),i=Jp(),u=Li();function d(C){const w=Date.now(),v=Math.random().toString(36).substring(2,8);return`${C.substring(0,10)}-${w}-${v}`}async function h(C,w){const v=await Promise.resolve().then(()=>s(ji)),S=await Promise.resolve().then(()=>s(ji));return C?new S.Agent({family:4,timeout:w}):new v.Agent({family:4,timeout:w})}function m(C,w){const v=C.data.data?.token||C.data.token,S=C.data.data?.expiresIn||C.data.expiresIn,_=C.data.success===!0,L=C.status>=200&&C.status<300;return v&&(_||L)?(w.token=v,S&&(w.expiresAt=new Date(Date.now()+(S-30)*1e3)),w.token):null}function p(C,w,v){const S=C instanceof Error?C.message:"Unknown error",_=(0,i.isAxiosError)(C)?C.response?.status:void 0,L=(0,i.isAxiosError)(C)&&C.response?`status: ${C.response.status}, data: ${JSON.stringify(C.response.data)}`:(0,i.isAxiosError)(C)&&C.request?`code: ${C.code||"N/A"}`:"",O=`Failed to get client token: ${S}${L?`. ${L}`:""}`,N={errors:[`Client credential authentication failed: ${S}${L?`. ${L}`:""}`],type:"/Errors/Unauthorized",title:O,statusCode:_||401,instance:"/api/v1/auth/token",authMethod:"client-credentials"};return new u.MisoClientError(`Failed to authenticate with client credentials (clientId: ${v}) [correlationId: ${w}]`,N,void 0,_||401,"client-credentials")}async function x(C){const v=new AbortController,S=setTimeout(()=>v.abort(),3e4);typeof S.unref=="function"&&S.unref();const _=(0,c.resolveControllerUrl)(C),L=_.startsWith("https://"),O=await h(L,3e4),N=l.default.create({baseURL:_,timeout:3e4,signal:v.signal,httpAgent:L?void 0:O,httpsAgent:L?O:void 0,headers:{"Content-Type":"application/json","x-client-id":C.clientId,"x-client-secret":C.clientSecret}}),R=new Promise((M,U)=>{const Z=setTimeout(()=>U(new Error("Request timeout after 30000ms")),3e4);typeof Z.unref=="function"&&Z.unref()});try{const M=await Promise.race([N.post(C.clientTokenUri||"/api/v1/auth/token"),R]);return clearTimeout(S),M}catch(M){throw clearTimeout(S),M}}async function A(C,w){if(!C.clientSecret)throw new Error("Cannot fetch client token: clientSecret is required but not provided");const v=d(C.clientId),S=C.clientId;try{const _=await x(C),L=m(_,w);if(L)return L;throw new Error(`Failed to get client token: Invalid response format. Full response: ${JSON.stringify({status:_.status,data:_.data})} [correlationId: ${v}, clientId: ${S}]`)}catch(_){throw p(_,v,S)}}async function b(C,w){if(!C.onClientTokenRefresh)throw new Error("Client token expired and no refresh callback provided");try{const v=await C.onClientTokenRefresh();if(w.token=v.token,v.expiresIn){const S=v.expiresIn-30;w.expiresAt=new Date(Date.now()+S*1e3)}return w.token}catch(v){throw w.token=null,w.expiresAt=null,v}}function T(C,w=6e4){const v=new Date;return!!(C.token&&C.expiresAt&&C.expiresAt>new Date(v.getTime()+w))}return Gt}var Qw;function Yp(){if(Qw)return wi;Qw=1;var t=wi&&wi.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(wi,"__esModule",{value:!0}),wi.InternalHttpClient=void 0;const n=t(Tu()),s=sS(),o=Hs(),l=p1(),c=Jp(),i=m1();class u{constructor(h){this.tokenState={token:null,expiresAt:null},this.tokenRefreshPromise=null,this.config=h,this.initializeTokenFromConfig(h),this.axios=this.createAxiosInstance(h),this.setupInterceptors()}initializeTokenFromConfig(h){h.clientToken&&(this.tokenState.token=h.clientToken,h.clientTokenExpiresAt&&(this.tokenState.expiresAt=typeof h.clientTokenExpiresAt=="string"?new Date(h.clientTokenExpiresAt):h.clientTokenExpiresAt))}createAxiosInstance(h){const m=(0,o.resolveControllerUrl)(h),p=m.startsWith("https://");let x,A;const b=h.timeout??3e4;if(typeof globalThis.window>"u"){const T=ji,C=ji,w={family:4,timeout:b,keepAlive:!1};x=p?void 0:new T.Agent(w),A=p?new C.Agent(w):void 0}return n.default.create({baseURL:m,timeout:b,httpAgent:x,httpsAgent:A,headers:{"Content-Type":"application/json"}})}setupInterceptors(){this.axios.interceptors.request.use(async h=>{if(h.headers=h.headers||{},!h.headers["x-client-token"]&&!h.headers["x-client-id"]){const m=await this.getClientToken();m?h.headers["x-client-token"]=m:process.stderr.write(`[WARN] Client token is not available. Ensure clientSecret or onClientTokenRefresh is configured.
`)}return h},h=>Promise.reject(h)),this.axios.interceptors.response.use(h=>h,h=>(h.response?.status===401&&this.handle401Error(h),Promise.reject(h)))}handle401Error(h){const m=h.config?.headers,p=!!m?.Authorization,x=!!m?.["x-client-token"];p?h.message="Bearer token authentication failed - token may be invalid or expired":x?h.message="Client token authentication failed - x-client-token may be invalid or expired":h.message="Authentication failed - token may be invalid",this.tokenState.token=null,this.tokenState.expiresAt=null}async getClientToken(){return(0,i.isTokenValid)(this.tokenState)?this.tokenState.token:this.tokenRefreshPromise?this.tokenRefreshPromise:this.config.onClientTokenRefresh?this.executeTokenRefresh(()=>(0,i.refreshClientTokenFromCallback)(this.config,this.tokenState)):this.config.clientSecret?this.executeTokenRefresh(()=>(0,i.fetchClientToken)(this.config,this.tokenState)):null}async executeTokenRefresh(h){this.tokenRefreshPromise=h();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}mergeAbortSignals(h,m){const p=new AbortController,x=()=>p.abort();return h.addEventListener("abort",x),m.addEventListener("abort",x),p.signal}async executeWithTimeout(h,m){const p=this.config.timeout??3e4,x=new AbortController;let A=null;const b=new Promise((C,w)=>{A=setTimeout(()=>{x.abort(),w(new Error(`Request timeout after ${p}ms`))},p)}),T={...m,signal:m?.signal?this.mergeAbortSignals(x.signal,m.signal):x.signal};try{const C=await Promise.race([h(T),b]);return(0,l.validateHttpResponse)(C.data,C.config?.url||"",this.config),C.data}catch(C){throw(0,c.isAxiosError)(C)?(0,c.createMisoClientError)(C,C.config?.url):C}finally{A&&clearTimeout(A)}}async buildAuthStrategyConfig(h,m){const p=await this.getClientToken(),x=s.AuthStrategyHandler.buildAuthHeaders(h,p,this.config.clientId,this.config.clientSecret);return{...m,headers:{...m?.headers,...x}}}async executeMethod(h,m,p,x){switch(h){case"GET":return this.get(m,x);case"POST":return this.post(m,p,x);case"PUT":return this.put(m,p,x);case"DELETE":return this.delete(m,x);default:throw new Error(`Unsupported HTTP method: ${h}`)}}getAxiosInstance(){return this.axios}async get(h,m){return this.executeWithTimeout(p=>this.axios.get(h,p),m)}async post(h,m,p){const{data:x,...A}=p??{};return this.executeWithTimeout(b=>this.axios.post(h,m,b),A)}async put(h,m,p){const{data:x,...A}=p??{};return this.executeWithTimeout(b=>this.axios.put(h,m,b),A)}async delete(h,m){return this.executeWithTimeout(p=>this.axios.delete(h,p),m)}async request(h,m,p,x){return this.executeMethod(h,m,p,x||{})}async authenticatedRequest(h,m,p,x,A,b){const T=b?await this.buildAuthStrategyConfig(b,A):{...A,headers:{...A?.headers,Authorization:`Bearer ${p}`}};return this.executeMethod(h,m,x,T)}async requestWithAuthStrategy(h,m,p,x,A){const b=await this.buildAuthStrategyConfig(p,A);return this.executeMethod(h,m,x,b)}}return wi.InternalHttpClient=u,wi}var Si={},Zw;function g1(){if(Zw)return Si;Zw=1;var t=Si&&Si.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Si,"__esModule",{value:!0}),Si.extractRequestMetadata=o,Si.extractUserIdFromToken=u;const n=t(Di()),s=Hs();function o(d,h,m){const p=d?.config||h?.config;if(!p)return null;const x=p.metadata;if(!x)return null;const A=l(x,p,m),b=c(p,h),T=i(d,h);return{...A,...b,...T}}function l(d,h,m){const p=Date.now()-d.startTime,x=d.method||"UNKNOWN",A=d.url||"",b=d.baseURL||(0,s.resolveControllerUrl)(m),T=`${b}${A}`,C=h.headers?.authorization,w=u(C);return{config:h,metadata:d,duration:p,method:x,url:A,fullUrl:T,baseURL:b,statusCode:0,authHeader:C,userId:w}}function c(d,h){return{requestHeaders:d.headers||{},requestBody:d.data||h?.config?.data}}function i(d,h){return{statusCode:d?.status||h?.response?.status||0,responseBody:d?.data||h?.response?.data,responseHeaders:d?.headers||h?.response?.headers||{}}}function u(d){if(!d||!d.startsWith("Bearer "))return null;const h=d.substring(7);try{const m=n.default.decode(h);return m?m.sub||m.userId||m.user_id||m.id:null}catch{return null}}return Si}var Ha={},Mn={},e0;function y1(){if(e0)return Mn;e0=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.estimateObjectSize=n,Mn.truncateResponseBody=s,Mn.analyzeRequestSizes=o,Mn.truncateBodies=l,Mn.applyMaskingStrategy=c,Mn.applyStandardMasking=i,Mn.applyDetailedMasking=u;const t=zs();function n(p){if(p==null)return 0;if(typeof p=="string")return p.length;if(typeof p!="object")return 10;if(Array.isArray(p)){const b=p.length;if(b===0)return 10;const T=Math.min(3,b);let C=0;for(let v=0;v<T;v++)C+=n(p[v]);const w=T>0?C/T:100;return b*w}const x=Object.entries(p);let A=0;for(const[b,T]of x)A+=b.length+n(T);return A}function s(p,x=1e4){if(p==null)return{data:p,truncated:!1};if(typeof p=="string")return p.length<=x?{data:p,truncated:!1}:{data:p.substring(0,x)+"...",truncated:!0};const A=n(p);return A<=x?{data:p,truncated:!1}:{data:{_message:"Response body too large, truncated for performance",_estimatedSize:A},truncated:!0}}function o(p,x,A){const b=p?n(p):0,T=x?n(x):0,C=b<1024&&T<1024,w=b>A||T>A;return{isSmallRequest:C,isLargeRequest:w}}function l(p,x,A){const{data:b,truncated:T}=s(x,A),{data:C,truncated:w}=p&&n(p)>A?s(p,A):{data:p,truncated:!1};return{requestBody:C,responseBody:b,requestTruncated:w,responseTruncated:T}}async function c(p,x,A,b){const T=o(p.requestBody,p.responseBody,b),C=l(p.requestBody,p.responseBody,A);return x==="standard"?i(p.requestHeaders,p.responseHeaders,C.requestBody,C.responseBody,T.isSmallRequest,T.isLargeRequest,C.requestTruncated,C.responseTruncated):u(p.requestHeaders,p.responseHeaders,C.requestBody,C.responseBody,T.isSmallRequest,T.isLargeRequest,C.requestTruncated,C.responseTruncated)}function i(p,x,A,b,T,C,w,v){const S=t.DataMasker.maskSensitiveData(p),_=t.DataMasker.maskSensitiveData(x);let L,O;return T||!C?(L=t.DataMasker.maskSensitiveData(A),O=t.DataMasker.maskSensitiveData(b)):(L={_message:"Request body too large, masking skipped"},O={_message:"Response body too large, masking skipped"}),{headers:S,requestBody:L,responseBody:O,responseHeaders:_,requestTruncated:w,responseTruncated:v}}async function u(p){return p.isLargeRequest?d(p.requestHeaders,p.responseHeaders,p.requestTruncated,p.responseTruncated):p.isSmallRequest?h(p.requestHeaders,p.responseHeaders,p.requestBody,p.responseBody,p.requestTruncated,p.responseTruncated):m(p.requestHeaders,p.responseHeaders,p.requestBody,p.responseBody,p.requestTruncated,p.responseTruncated)}function d(p,x,A,b){return{headers:p,requestBody:{_message:"Request body too large, masking skipped"},responseBody:{_message:"Response body too large, masking skipped"},responseHeaders:x,requestTruncated:A,responseTruncated:b}}function h(p,x,A,b,T,C){return{headers:t.DataMasker.maskSensitiveData(p),requestBody:t.DataMasker.maskSensitiveData(A),responseBody:t.DataMasker.maskSensitiveData(b),responseHeaders:t.DataMasker.maskSensitiveData(x),requestTruncated:T,responseTruncated:C}}async function m(p,x,A,b,T,C){const[w,v,S,_]=await Promise.all([Promise.resolve(t.DataMasker.maskSensitiveData(p)),Promise.resolve(t.DataMasker.maskSensitiveData(A)),Promise.resolve(t.DataMasker.maskSensitiveData(b)),Promise.resolve(t.DataMasker.maskSensitiveData(x))]);return{headers:w,requestBody:v,responseBody:S,responseHeaders:_,requestTruncated:T,responseTruncated:C}}return Mn}var t0;function v1(){if(t0)return Ha;t0=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.logHttpRequestAudit=s,Ha.calculateRequestSizes=i;const t=Ws(),n=y1();async function s(p,x,A,b){try{if(!p)return;const T=A.audit||{},C=T.level||"detailed";if(C==="minimal"){await o(p,x,b);return}await l(p,C,T,x,A,b)}catch{}}async function o(p,x,A){const b=p.userId?void 0:p.authHeader?.replace("Bearer ","");await c(b,async()=>{await A.audit(`http.request.${p.method}`,p.url,{method:p.method,url:p.fullUrl,statusCode:p.statusCode,duration:p.duration,userId:p.userId||void 0,error:x?.message||void 0})})}async function l(p,x,A,b,T,C){const w=await(0,n.applyMaskingStrategy)({requestHeaders:p.requestHeaders,requestBody:p.requestBody,responseBody:p.responseBody,responseHeaders:p.responseHeaders},x,A.maxResponseSize??1e4,A.maxMaskingSize??5e4),v=x==="detailed"||x==="full"?i(p.requestBody,p.responseBody):{requestSize:void 0,responseSize:void 0},S=u({method:p.method,fullUrl:p.fullUrl,duration:p.duration,statusCode:p.statusCode,userId:p.userId},v,w,x,b),_=p.userId?void 0:p.authHeader?.replace("Bearer ","");if(await c(_,async()=>{await C.audit(`http.request.${p.method}`,p.url,S)}),T.logLevel==="debug")try{await d(p,w,v,b,C)}catch{}}async function c(p,x){if(!p){await x();return}await t.LoggerContextStorage.getInstance().runWithContextAsync({token:p},x)}function i(p,x){let A,b;if(p){const T=JSON.stringify(p),C=Buffer.byteLength(T);A=C<=2?void 0:C}if(x){const T=JSON.stringify(x),C=Buffer.byteLength(T);b=C<=2?void 0:C}return{requestSize:A,responseSize:b}}function u(p,x,A,b,T){const C={method:p.method,url:p.fullUrl,statusCode:p.statusCode,duration:p.duration,userId:p.userId||void 0,error:T?.message||void 0};return(b==="detailed"||b==="full")&&(C.requestSize=x.requestSize!==void 0&&x.requestSize>0?x.requestSize:void 0,C.responseSize=x.responseSize!==void 0&&x.responseSize>0?x.responseSize:void 0,A.requestTruncated&&(C.requestTruncated=!0),A.responseTruncated&&(C.responseTruncated=!0)),C}async function d(p,x,A,b,T){const C=h(x.responseBody),w=m(p,x,A,C,b),v=p.userId?void 0:p.authHeader?.replace("Bearer ","");await c(v,async()=>{await T.debug(`HTTP ${p.method} ${p.url}`,w)})}function h(p){if(!p||typeof p!="object")return p;const x=JSON.stringify(p);if(x.length<=1e3)return p;try{return JSON.parse(x.substring(0,1e3)+"...")}catch{return{_message:"Response body truncated"}}}function m(p,x,A,b,T){return{method:p.method,url:p.fullUrl,baseURL:p.baseURL,statusCode:p.statusCode,duration:p.duration,userId:p.userId||void 0,timeout:p.config.timeout||3e4,requestHeaders:x.headers,responseHeaders:x.responseHeaders,requestBody:x.requestBody,responseBody:b,requestSize:A.requestSize!==void 0&&A.requestSize>0?A.requestSize:void 0,responseSize:A.responseSize!==void 0&&A.responseSize>0?A.responseSize:void 0,error:T?.message||void 0}}return Ha}var r0;function Xp(){if(r0)return qa;r0=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.HttpClient=void 0;const t=Yp(),n=zs(),s=g1(),o=v1();class l{constructor(i,u){this.config=i,this.logger=u,this.internalClient=new t.InternalHttpClient(i),i.sensitiveFieldsConfig&&n.DataMasker.setConfigPath(i.sensitiveFieldsConfig),this.setupAuditLogging()}setupAuditLogging(){const i=this.internalClient.getAxiosInstance();i.interceptors.request.use(async u=>(this.shouldAuditRequest(u.url||"")&&(u.metadata={startTime:Date.now(),method:u.method?.toUpperCase(),url:u.url,baseURL:u.baseURL}),u),u=>Promise.reject(u)),i.interceptors.response.use(u=>(setTimeout(()=>{this.logHttpRequestAudit(u,null).catch(()=>{})},0),u),u=>(setTimeout(()=>{this.logHttpRequestAudit(u.response,u).catch(()=>{})},0),Promise.reject(u)))}shouldAuditRequest(i){if(this.config.audit?.enabled===!1)return!1;if(this.config.audit?.skipEndpoints){for(const u of this.config.audit.skipEndpoints)if(i&&i.includes(u))return!1}return!(i&&i.includes("/api/v1/logs")||i&&i.includes("/api/v1/auth/token"))}async logHttpRequestAudit(i,u){try{const d=(0,s.extractRequestMetadata)(i,u,this.config);await(0,o.logHttpRequestAudit)(d,u,this.config,this.logger)}catch{}}async get(i,u){return this.internalClient.get(i,u)}async post(i,u,d){return this.internalClient.post(i,u,d)}async put(i,u,d){return this.internalClient.put(i,u,d)}async delete(i,u){return this.internalClient.delete(i,u)}async request(i,u,d,h){return this.internalClient.request(i,u,d,h)}async authenticatedRequest(i,u,d,h,m,p){return this.internalClient.authenticatedRequest(i,u,d,h,m,p)}async requestWithAuthStrategy(i,u,d,h,m){return this.internalClient.requestWithAuthStrategy(i,u,d,h,m)}async validateTokenRequest(i,u){return this.authenticatedRequest("POST","/api/v1/auth/validate",i,{token:i},void 0,u)}async getWithFilters(i,u,d){const h=u.toQueryString(),m=h?`${i}?${h}`:i;return this.internalClient.get(m,d)}async getPaginated(i,u,d){const h=new URLSearchParams;h.append("page",u.page.toString()),h.append("page_size",u.pageSize.toString());const m=`${i}?${h.toString()}`;return this.internalClient.get(m,d)}}return qa.HttpClient=l,qa}var $a={},za={},Wa={},n0;function w1(){if(n0)return Wa;n0=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.AuthLoginApi=void 0;const t=dt(),n=Tt();class s{constructor(l){this.httpClient=l}async login(l,c){try{return c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGIN_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGIN_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,n.extractErrorInfo)(i,{endpoint:s.LOGIN_ENDPOINT,method:"GET"});throw(0,t.logErrorWithContext)(u,"[AuthLoginApi]"),i}}async initiateDeviceCode(l,c){try{return c?await this.httpClient.requestWithAuthStrategy("POST",s.LOGIN_ENDPOINT,c,l):await this.httpClient.request("POST",s.LOGIN_ENDPOINT,l)}catch(i){const u=(0,n.extractErrorInfo)(i,{endpoint:s.LOGIN_ENDPOINT,method:"POST"});throw(0,t.logErrorWithContext)(u,"[AuthLoginApi]"),i}}async pollDeviceCodeToken(l){try{return await this.httpClient.request("POST",s.DEVICE_CODE_TOKEN_ENDPOINT,l)}catch(c){const i=(0,n.extractErrorInfo)(c,{endpoint:s.DEVICE_CODE_TOKEN_ENDPOINT,method:"POST"});throw(0,t.logErrorWithContext)(i,"[AuthLoginApi]"),c}}async refreshDeviceCodeToken(l){try{return await this.httpClient.request("POST",s.DEVICE_CODE_REFRESH_ENDPOINT,l)}catch(c){const i=(0,n.extractErrorInfo)(c,{endpoint:s.DEVICE_CODE_REFRESH_ENDPOINT,method:"POST"});throw(0,t.logErrorWithContext)(i,"[AuthLoginApi]"),c}}async getLoginDiagnostics(l){try{const c=l?{environment:l}:void 0,i=await this.httpClient.request("GET",s.LOGIN_DIAGNOSTICS_ENDPOINT,void 0,{params:c});if(i.success!==void 0)return i;if(i.data&&typeof i.data=="object"){const u=i.data;return{success:!0,data:{database:u.database||{},controller:u.controller||{},environment:u.environment||{},keycloak:u.keycloak||{}},timestamp:typeof i.timestamp=="string"?i.timestamp:new Date().toISOString()}}throw new Error(`Unexpected response format from login diagnostics endpoint: ${JSON.stringify(i)}`)}catch(c){const i=(0,n.extractErrorInfo)(c,{endpoint:s.LOGIN_DIAGNOSTICS_ENDPOINT,method:"GET"});throw(0,t.logErrorWithContext)(i,"[AuthLoginApi]"),c}}}return Wa.AuthLoginApi=s,s.LOGIN_ENDPOINT="/api/v1/auth/login",s.DEVICE_CODE_TOKEN_ENDPOINT="/api/v1/auth/login/device/token",s.DEVICE_CODE_REFRESH_ENDPOINT="/api/v1/auth/login/device/refresh",s.LOGIN_DIAGNOSTICS_ENDPOINT="/api/v1/auth/login/diagnostics",Wa}var Ba={},s0;function E1(){if(s0)return Ba;s0=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.AuthTokenApi=void 0;const t=Tt(),n=dt();function s(i){const u=i.data;if(!u||typeof u.token!="string")throw new Error(`Unexpected response format from client-token endpoint: ${JSON.stringify(i)}`);return{success:!0,data:{token:u.token,expiresIn:typeof u.expiresIn=="number"?u.expiresIn:0,expiresAt:typeof u.expiresAt=="string"?u.expiresAt:new Date().toISOString()},timestamp:typeof i.timestamp=="string"?i.timestamp:new Date().toISOString()}}function o(i,u){return{success:!0,token:u.token,expiresIn:typeof u.expiresIn=="number"?u.expiresIn:0,expiresAt:typeof u.expiresAt=="string"?u.expiresAt:new Date().toISOString(),timestamp:typeof i.timestamp=="string"?i.timestamp:new Date().toISOString()}}function l(i){return{success:!0,token:i.token,expiresIn:typeof i.expiresIn=="number"?i.expiresIn:0,expiresAt:typeof i.expiresAt=="string"?i.expiresAt:new Date().toISOString(),timestamp:typeof i.timestamp=="string"?i.timestamp:new Date().toISOString()}}class c{constructor(u){this.httpClient=u}async getClientToken(u){try{if(u)return await this.httpClient.requestWithAuthStrategy("POST",c.CLIENT_TOKEN_ENDPOINT,u);const d=await this.httpClient.request("POST",c.CLIENT_TOKEN_ENDPOINT,void 0,{headers:{"x-client-id":this.httpClient.config.clientId||""}});if(d.success!==void 0)return d;if(d.data&&typeof d.data=="object")return s(d);throw new Error(`Unexpected response format from client-token endpoint: ${JSON.stringify(d)}`)}catch(d){const h=(0,t.extractErrorInfo)(d,{endpoint:c.CLIENT_TOKEN_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(h,"[AuthTokenApi]"),d}}async generateClientToken(u){try{if(u)return await this.httpClient.requestWithAuthStrategy("POST",c.CLIENT_TOKEN_LEGACY_ENDPOINT,u);const d=await this.httpClient.request("POST",c.CLIENT_TOKEN_LEGACY_ENDPOINT,void 0,{headers:{"x-client-id":this.httpClient.config.clientId||"","x-client-secret":this.httpClient.config.clientSecret||""}});if(d.success!==void 0)return d;if(d.data&&typeof d.data=="object"){const h=d.data;if(typeof h.token=="string")return o(d,h)}if(typeof d.token=="string")return l(d);throw new Error(`Unexpected response format from token endpoint: ${JSON.stringify(d)}`)}catch(d){const h=(0,t.extractErrorInfo)(d,{endpoint:c.CLIENT_TOKEN_LEGACY_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(h,"[AuthTokenApi]"),d}}async validateToken(u,d){try{return await this.httpClient.authenticatedRequest("POST",c.VALIDATE_ENDPOINT,u.token,u,void 0,d)}catch(h){const m=(0,t.extractErrorInfo)(h,{endpoint:c.VALIDATE_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(m,"[AuthTokenApi]"),h}}async refreshToken(u,d){try{return d?await this.httpClient.requestWithAuthStrategy("POST",c.REFRESH_ENDPOINT,d,u):await this.httpClient.request("POST",c.REFRESH_ENDPOINT,u)}catch(h){const m=(0,t.extractErrorInfo)(h,{endpoint:c.REFRESH_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(m,"[AuthTokenApi]"),h}}}return Ba.AuthTokenApi=c,c.CLIENT_TOKEN_ENDPOINT="/api/v1/auth/client-token",c.CLIENT_TOKEN_LEGACY_ENDPOINT="/api/v1/auth/token",c.VALIDATE_ENDPOINT="/api/v1/auth/validate",c.REFRESH_ENDPOINT="/api/v1/auth/refresh",Ba}var Ka={},i0;function S1(){if(i0)return Ka;i0=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.AuthUserApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async getUser(l){try{if(l?.bearerToken)return await this.httpClient.authenticatedRequest("GET",s.USER_ENDPOINT,l.bearerToken,void 0,void 0,l);if(l)return await this.httpClient.requestWithAuthStrategy("GET",s.USER_ENDPOINT,l);throw new Error("getUser requires authentication - provide authStrategy with bearerToken")}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.USER_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(i,"[AuthUserApi]"),c}}async logout(){try{return await this.httpClient.request("POST",s.LOGOUT_ENDPOINT)}catch(l){const c=(0,t.extractErrorInfo)(l,{endpoint:s.LOGOUT_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(c,"[AuthUserApi]"),l}}async logoutWithToken(l){try{return await this.httpClient.request("POST",s.LOGOUT_ENDPOINT,{token:l})}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.LOGOUT_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(i,"[AuthUserApi]"),c}}async handleCallback(l,c){try{return c?await this.httpClient.requestWithAuthStrategy("GET",s.CALLBACK_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.CALLBACK_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.CALLBACK_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[AuthUserApi]"),i}}}return Ka.AuthUserApi=s,s.USER_ENDPOINT="/api/v1/auth/user",s.LOGOUT_ENDPOINT="/api/v1/auth/logout",s.CALLBACK_ENDPOINT="/api/v1/auth/callback",Ka}var Va={},o0;function x1(){if(o0)return Va;o0=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.AuthCacheApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async getCacheStats(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.CACHE_STATS_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",s.CACHE_STATS_ENDPOINT,l):await this.httpClient.request("GET",s.CACHE_STATS_ENDPOINT)}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.CACHE_STATS_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(i,"[AuthCacheApi]"),c}}async getCachePerformance(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.CACHE_PERFORMANCE_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",s.CACHE_PERFORMANCE_ENDPOINT,l):await this.httpClient.request("GET",s.CACHE_PERFORMANCE_ENDPOINT)}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.CACHE_PERFORMANCE_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(i,"[AuthCacheApi]"),c}}async getCacheEfficiency(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.CACHE_EFFICIENCY_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",s.CACHE_EFFICIENCY_ENDPOINT,l):await this.httpClient.request("GET",s.CACHE_EFFICIENCY_ENDPOINT)}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.CACHE_EFFICIENCY_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(i,"[AuthCacheApi]"),c}}async clearCache(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("POST",s.CACHE_CLEAR_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("POST",s.CACHE_CLEAR_ENDPOINT,l):await this.httpClient.request("POST",s.CACHE_CLEAR_ENDPOINT)}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.CACHE_CLEAR_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(i,"[AuthCacheApi]"),c}}async invalidateCache(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("POST",s.CACHE_INVALIDATE_ENDPOINT,c.bearerToken,l,void 0,c):c?await this.httpClient.requestWithAuthStrategy("POST",s.CACHE_INVALIDATE_ENDPOINT,c,l):await this.httpClient.request("POST",s.CACHE_INVALIDATE_ENDPOINT,l)}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.CACHE_INVALIDATE_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(u,"[AuthCacheApi]"),i}}}return Va.AuthCacheApi=s,s.CACHE_STATS_ENDPOINT="/api/v1/auth/cache/stats",s.CACHE_PERFORMANCE_ENDPOINT="/api/v1/auth/cache/performance",s.CACHE_EFFICIENCY_ENDPOINT="/api/v1/auth/cache/efficiency",s.CACHE_CLEAR_ENDPOINT="/api/v1/auth/cache/clear",s.CACHE_INVALIDATE_ENDPOINT="/api/v1/auth/cache/invalidate",Va}var a0;function C1(){if(a0)return za;a0=1,Object.defineProperty(za,"__esModule",{value:!0}),za.AuthApi=void 0;const t=w1(),n=E1(),s=S1(),o=x1();class l{constructor(i){this.httpClient=i,this.loginApi=new t.AuthLoginApi(i),this.tokenApi=new n.AuthTokenApi(i),this.userApi=new s.AuthUserApi(i),this.cacheApi=new o.AuthCacheApi(i)}async login(i,u){return this.loginApi.login(i,u)}async initiateDeviceCode(i,u){return this.loginApi.initiateDeviceCode(i,u)}async pollDeviceCodeToken(i){return this.loginApi.pollDeviceCodeToken(i)}async refreshDeviceCodeToken(i){return this.loginApi.refreshDeviceCodeToken(i)}async getLoginDiagnostics(i){return this.loginApi.getLoginDiagnostics(i)}async getClientToken(i){return this.tokenApi.getClientToken(i)}async generateClientToken(i){return this.tokenApi.generateClientToken(i)}async validateToken(i,u){return this.tokenApi.validateToken(i,u)}async refreshToken(i,u){return this.tokenApi.refreshToken(i,u)}async getUser(i){return this.userApi.getUser(i)}async logout(){return this.userApi.logout()}async logoutWithToken(i){return this.userApi.logoutWithToken(i)}async handleCallback(i,u){return this.userApi.handleCallback(i,u)}async getCacheStats(i){return this.cacheApi.getCacheStats(i)}async getCachePerformance(i){return this.cacheApi.getCachePerformance(i)}async getCacheEfficiency(i){return this.cacheApi.getCacheEfficiency(i)}async clearCache(i){return this.cacheApi.clearCache(i)}async invalidateCache(i,u){return this.cacheApi.invalidateCache(i,u)}}return za.AuthApi=l,za}var Ga={},l0;function b1(){if(l0)return Ga;l0=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.RolesApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async getRoles(l,c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",s.ROLES_ENDPOINT,c.bearerToken,void 0,{params:l},c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",s.ROLES_ENDPOINT,c,void 0,{params:l});throw new Error("getRoles requires authentication - provide authStrategy with bearerToken")}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.ROLES_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[RolesApi]"),i}}async refreshRoles(l,c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",s.ROLES_REFRESH_ENDPOINT,c.bearerToken,void 0,{params:l},c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",s.ROLES_REFRESH_ENDPOINT,c,void 0,{params:l});throw new Error("refreshRoles requires authentication - provide authStrategy with bearerToken")}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.ROLES_REFRESH_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[RolesApi]"),i}}}return Ga.RolesApi=s,s.ROLES_ENDPOINT="/api/v1/auth/roles",s.ROLES_REFRESH_ENDPOINT="/api/v1/auth/roles/refresh",Ga}var Ja={},c0;function T1(){if(c0)return Ja;c0=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.PermissionsApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async getPermissions(l,c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",s.PERMISSIONS_ENDPOINT,c.bearerToken,void 0,{params:l},c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",s.PERMISSIONS_ENDPOINT,c,void 0,{params:l});throw new Error("getPermissions requires authentication - provide authStrategy with bearerToken")}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.PERMISSIONS_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[PermissionsApi]"),i}}async refreshPermissions(l,c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",s.PERMISSIONS_REFRESH_ENDPOINT,c.bearerToken,void 0,{params:l},c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",s.PERMISSIONS_REFRESH_ENDPOINT,c,void 0,{params:l});throw new Error("refreshPermissions requires authentication - provide authStrategy with bearerToken")}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.PERMISSIONS_REFRESH_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[PermissionsApi]"),i}}}return Ja.PermissionsApi=s,s.PERMISSIONS_ENDPOINT="/api/v1/auth/permissions",s.PERMISSIONS_REFRESH_ENDPOINT="/api/v1/auth/permissions/refresh",Ja}var Ya={},Xa={},u0;function _1(){if(u0)return Xa;u0=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.LogsCreateApi=void 0;const t=Tt(),n=dt(),s=Li();function o(u){return{success:!0,data:null,message:typeof u.message=="string"?u.message:"Log created successfully",timestamp:typeof u.timestamp=="string"?u.timestamp:new Date().toISOString()}}function l(u){const d=u.data&&typeof u.data=="object"?u.data:void 0,h=typeof d?.processed=="number"?d.processed:typeof u.processed=="number"?u.processed:0,m=typeof d?.failed=="number"?d.failed:typeof u.failed=="number"?u.failed:0,p=Array.isArray(d?.errors)?d.errors:Array.isArray(u.errors)?u.errors:void 0;return{success:!0,message:typeof u.message=="string"?u.message:"Batch logs processed",processed:h,failed:m,errors:p,timestamp:typeof u.timestamp=="string"?u.timestamp:new Date().toISOString()}}function c(u,d,h){u instanceof s.MisoClientError&&u.statusCode===401||(0,n.logErrorWithContext)((0,t.extractErrorInfo)(u,{endpoint:d,method:"POST"}),h)}class i{constructor(d){this.httpClient=d}async createLog(d,h){try{if(h?.bearerToken)return await this.httpClient.authenticatedRequest("POST",i.LOGS_ENDPOINT,h.bearerToken,d,void 0,h);if(h)return await this.httpClient.requestWithAuthStrategy("POST",i.LOGS_ENDPOINT,h,d);const m=await this.httpClient.request("POST",i.LOGS_ENDPOINT,d);return m.success!==void 0?m:o(m)}catch(m){throw c(m,i.LOGS_ENDPOINT,"[LogsCreateApi]"),m}}async createBatchLogs(d,h){try{if(h?.bearerToken)return await this.httpClient.authenticatedRequest("POST",i.LOGS_BATCH_ENDPOINT,h.bearerToken,d,void 0,h);if(h)return await this.httpClient.requestWithAuthStrategy("POST",i.LOGS_BATCH_ENDPOINT,h,d);const m=await this.httpClient.request("POST",i.LOGS_BATCH_ENDPOINT,d);return m.success!==void 0?m:l(m)}catch(m){throw c(m,i.LOGS_BATCH_ENDPOINT,"[LogsCreateApi]"),m}}}return Xa.LogsCreateApi=i,i.LOGS_ENDPOINT="/api/v1/logs",i.LOGS_BATCH_ENDPOINT="/api/v1/logs/batch",Xa}var Qa={},d0;function k1(){if(d0)return Qa;d0=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.LogsListApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async listGeneralLogs(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_GENERAL_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_GENERAL_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_GENERAL_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsListApi]"),i}}async getGeneralLog(l,c,i){try{const u=`${s.LOGS_GENERAL_ENDPOINT}/${l}`,d=c?{environment:c}:void 0;return i?.bearerToken?await this.httpClient.authenticatedRequest("GET",u,i.bearerToken,void 0,{params:d},i):i?await this.httpClient.requestWithAuthStrategy("GET",u,i,void 0,{params:d}):await this.httpClient.request("GET",u,void 0,{params:d})}catch(u){const d=(0,t.extractErrorInfo)(u,{endpoint:s.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(d,"[LogsListApi]"),u}}async listAuditLogs(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_AUDIT_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_AUDIT_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_AUDIT_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:s.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsListApi]"),i}}async getAuditLog(l,c,i){try{const u=`${s.LOGS_AUDIT_ENDPOINT}/${l}`,d=c?{environment:c}:void 0;return i?.bearerToken?await this.httpClient.authenticatedRequest("GET",u,i.bearerToken,void 0,{params:d},i):i?await this.httpClient.requestWithAuthStrategy("GET",u,i,void 0,{params:d}):await this.httpClient.request("GET",u,void 0,{params:d})}catch(u){const d=(0,t.extractErrorInfo)(u,{endpoint:s.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,n.logErrorWithContext)(d,"[LogsListApi]"),u}}async listJobLogs(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_JOBS_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_JOBS_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_JOBS_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsListApi]"),i}}async getJobLog(l,c){try{const i=`${s.LOGS_JOBS_ENDPOINT}/${l}`;return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",i,c.bearerToken,void 0,void 0,c):c?await this.httpClient.requestWithAuthStrategy("GET",i,c):await this.httpClient.request("GET",i)}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsListApi]"),i}}}return Qa.LogsListApi=s,s.LOGS_GENERAL_ENDPOINT="/api/v1/logs/general",s.LOGS_AUDIT_ENDPOINT="/api/v1/logs/audit",s.LOGS_JOBS_ENDPOINT="/api/v1/logs/jobs",Qa}var Za={},f0;function R1(){if(f0)return Za;f0=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.LogsStatsApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async getLogStatsSummary(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_STATS_SUMMARY_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_STATS_SUMMARY_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_STATS_SUMMARY_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsStatsApi]"),i}}async getErrorStats(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_STATS_ERRORS_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_STATS_ERRORS_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_STATS_ERRORS_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsStatsApi]"),i}}async getUserActivityStats(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_STATS_USERS_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_STATS_USERS_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_STATS_USERS_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsStatsApi]"),i}}async getApplicationStats(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_STATS_APPLICATIONS_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_STATS_APPLICATIONS_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_STATS_APPLICATIONS_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsStatsApi]"),i}}}return Za.LogsStatsApi=s,s.LOGS_STATS_SUMMARY_ENDPOINT="/api/v1/logs/stats/summary",s.LOGS_STATS_ERRORS_ENDPOINT="/api/v1/logs/stats/errors",s.LOGS_STATS_USERS_ENDPOINT="/api/v1/logs/stats/users",s.LOGS_STATS_APPLICATIONS_ENDPOINT="/api/v1/logs/stats/applications",Za}var el={},h0;function A1(){if(h0)return el;h0=1,Object.defineProperty(el,"__esModule",{value:!0}),el.LogsExportApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async exportLogs(l,c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",s.LOGS_EXPORT_ENDPOINT,c.bearerToken,void 0,{params:l},c):c?await this.httpClient.requestWithAuthStrategy("GET",s.LOGS_EXPORT_ENDPOINT,c,void 0,{params:l}):await this.httpClient.request("GET",s.LOGS_EXPORT_ENDPOINT,void 0,{params:l})}catch(i){const u=(0,t.extractErrorInfo)(i,{endpoint:void 0,method:"GET"});throw(0,n.logErrorWithContext)(u,"[LogsExportApi]"),i}}}return el.LogsExportApi=s,s.LOGS_EXPORT_ENDPOINT="/api/v1/logs/export",el}var p0;function I1(){if(p0)return Ya;p0=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.LogsApi=void 0;const t=_1(),n=k1(),s=R1(),o=A1();class l{constructor(i){this.httpClient=i,this.create=new t.LogsCreateApi(i),this.list=new n.LogsListApi(i),this.stats=new s.LogsStatsApi(i),this.export=new o.LogsExportApi(i)}async createLog(i,u){return this.create.createLog(i,u)}async createBatchLogs(i,u){return this.create.createBatchLogs(i,u)}async listGeneralLogs(i,u){return this.list.listGeneralLogs(i,u)}async getGeneralLog(i,u,d){return this.list.getGeneralLog(i,u,d)}async listAuditLogs(i,u){return this.list.listAuditLogs(i,u)}async getAuditLog(i,u,d){return this.list.getAuditLog(i,u,d)}async listJobLogs(i,u){return this.list.listJobLogs(i,u)}async getJobLog(i,u){return this.list.getJobLog(i,u)}async getLogStatsSummary(i,u){return this.stats.getLogStatsSummary(i,u)}async getErrorStats(i,u){return this.stats.getErrorStats(i,u)}async getUserActivityStats(i,u){return this.stats.getUserActivityStats(i,u)}async getApplicationStats(i,u){return this.stats.getApplicationStats(i,u)}async exportLogs(i,u){return this.export.exportLogs(i,u)}}return Ya.LogsApi=l,Ya}var tl={},m0;function P1(){if(m0)return tl;m0=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.EncryptionApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}async encrypt(l){try{return await this.httpClient.request("POST",s.ENCRYPT_ENDPOINT,l)}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.ENCRYPT_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(i,"[EncryptionApi]"),c}}async decrypt(l){try{return await this.httpClient.request("POST",s.DECRYPT_ENDPOINT,l)}catch(c){const i=(0,t.extractErrorInfo)(c,{endpoint:s.DECRYPT_ENDPOINT,method:"POST"});throw(0,n.logErrorWithContext)(i,"[EncryptionApi]"),c}}}return tl.EncryptionApi=s,s.ENCRYPT_ENDPOINT="/api/security/parameters/encrypt",s.DECRYPT_ENDPOINT="/api/security/parameters/decrypt",tl}var rl={},g0;function N1(){if(g0)return rl;g0=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.ApplicationsApi=void 0;const t=Tt(),n=dt();class s{constructor(l){this.httpClient=l}buildPath(l,c){let i=l.replace(":envKey",c.envKey);return c.appKey!==void 0&&(i=i.replace(":appKey",c.appKey)),i}async updateSelfStatus(l,c,i){const u=this.buildPath(s.SELF_STATUS_ENDPOINT,{envKey:l});try{return i?.bearerToken?await this.httpClient.authenticatedRequest("POST",u,i.bearerToken,c,void 0,i):i?await this.httpClient.requestWithAuthStrategy("POST",u,i,c):await this.httpClient.request("POST",u,c)}catch(d){const h=(0,t.extractErrorInfo)(d,{endpoint:u,method:"POST"});throw(0,n.logErrorWithContext)(h,"[ApplicationsApi]"),d}}async getApplicationStatus(l,c,i){const u=this.buildPath(s.APPLICATION_STATUS_ENDPOINT,{envKey:l,appKey:c});try{return i?.bearerToken?await this.httpClient.authenticatedRequest("GET",u,i.bearerToken,void 0,void 0,i):i?await this.httpClient.requestWithAuthStrategy("GET",u,i):await this.httpClient.request("GET",u)}catch(d){const h=(0,t.extractErrorInfo)(d,{endpoint:u,method:"GET"});throw(0,n.logErrorWithContext)(h,"[ApplicationsApi]"),d}}}return rl.ApplicationsApi=s,s.SELF_STATUS_ENDPOINT="/api/v1/environments/:envKey/applications/self/status",s.APPLICATION_STATUS_ENDPOINT="/api/v1/environments/:envKey/applications/:appKey/status",rl}var y0;function iS(){if(y0)return $a;y0=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.ApiClient=void 0;const t=C1(),n=b1(),s=T1(),o=I1(),l=P1(),c=N1();class i{constructor(d){this.auth=new t.AuthApi(d),this.roles=new n.RolesApi(d),this.permissions=new s.PermissionsApi(d),this.logs=new o.LogsApi(d),this.encryption=new l.EncryptionApi(d),this.applications=new c.ApplicationsApi(d)}}return $a.ApiClient=i,$a}var Qc={},v0;function Wu(){if(v0)return Qc;v0=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.validateOrigin=s;function t(o){return o.trim().toLowerCase().replace(/\/$/,"")}function n(o,l){const c=t(o),i=t(l);if(c===i)return!0;if(l.includes(":*"))try{const u=new URL(c),d=new URL(i.replace(":*",""));if(u.protocol===d.protocol&&u.hostname===d.hostname)return!0}catch{}return!1}function s(o,l){if(!l||l.length===0)return{valid:!0};let c=Array.isArray(o.headers.origin)?o.headers.origin[0]:o.headers.origin;if(!c||typeof c!="string"){const u=Array.isArray(o.headers.referer)?o.headers.referer[0]:o.headers.referer;if(u&&typeof u=="string")try{const d=new URL(u);c=`${d.protocol}//${d.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const i=c;for(const u of l)if(n(i,u))return{valid:!0};return{valid:!1,error:`Origin '${i}' is not allowed`}}return Qc}var nl={};const Qe=crypto,Pr=t=>t instanceof CryptoKey,oS=async(t,n)=>{const s=`SHA-${t.slice(-3)}`;return new Uint8Array(await Qe.subtle.digest(s,n))},Nt=new TextEncoder,Xr=new TextDecoder,yu=2**32;function Un(...t){const n=t.reduce((l,{length:c})=>l+c,0),s=new Uint8Array(n);let o=0;for(const l of t)s.set(l,o),o+=l.length;return s}function O1(t,n){return Un(Nt.encode(t),new Uint8Array([0]),n)}function vp(t,n,s){if(n<0||n>=yu)throw new RangeError(`value must be >= 0 and <= ${yu-1}. Received ${n}`);t.set([n>>>24,n>>>16,n>>>8,n&255],s)}function aS(t){const n=Math.floor(t/yu),s=t%yu,o=new Uint8Array(8);return vp(o,n,0),vp(o,s,4),o}function Qp(t){const n=new Uint8Array(4);return vp(n,t),n}function ip(t){return Un(Qp(t.length),t)}async function j1(t,n,s){const o=Math.ceil((n>>3)/32),l=new Uint8Array(o*32);for(let c=0;c<o;c++){const i=new Uint8Array(4+t.length+s.length);i.set(Qp(c+1)),i.set(t,4),i.set(s,4+t.length),l.set(await oS("sha256",i),c*32)}return l.slice(0,n>>3)}const Zp=t=>{let n=t;typeof n=="string"&&(n=Nt.encode(n));const s=32768,o=[];for(let l=0;l<n.length;l+=s)o.push(String.fromCharCode.apply(null,n.subarray(l,l+s)));return btoa(o.join(""))},Mt=t=>Zp(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),lS=t=>{const n=atob(t),s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s},Pt=t=>{let n=t;n instanceof Uint8Array&&(n=Xr.decode(n)),n=n.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return lS(n)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Yt extends Error{constructor(n,s){super(n,s),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}Yt.code="ERR_JOSE_GENERIC";class mr extends Yt{constructor(n,s,o="unspecified",l="unspecified"){super(n,{cause:{claim:o,reason:l,payload:s}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=o,this.reason=l,this.payload=s}}mr.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class vu extends Yt{constructor(n,s,o="unspecified",l="unspecified"){super(n,{cause:{claim:o,reason:l,payload:s}}),this.code="ERR_JWT_EXPIRED",this.claim=o,this.reason=l,this.payload=s}}vu.code="ERR_JWT_EXPIRED";class Cl extends Yt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Cl.code="ERR_JOSE_ALG_NOT_ALLOWED";class it extends Yt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}it.code="ERR_JOSE_NOT_SUPPORTED";class Oo extends Yt{constructor(n="decryption operation failed",s){super(n,s),this.code="ERR_JWE_DECRYPTION_FAILED"}}Oo.code="ERR_JWE_DECRYPTION_FAILED";class Re extends Yt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}Re.code="ERR_JWE_INVALID";class at extends Yt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}at.code="ERR_JWS_INVALID";class vr extends Yt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}vr.code="ERR_JWT_INVALID";class em extends Yt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}em.code="ERR_JWK_INVALID";class Bu extends Yt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}Bu.code="ERR_JWKS_INVALID";class Ku extends Yt{constructor(n="no applicable key found in the JSON Web Key Set",s){super(n,s),this.code="ERR_JWKS_NO_MATCHING_KEY"}}Ku.code="ERR_JWKS_NO_MATCHING_KEY";class tm extends Yt{constructor(n="multiple matching keys found in the JSON Web Key Set",s){super(n,s),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}tm.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class rm extends Yt{constructor(n="request timed out",s){super(n,s),this.code="ERR_JWKS_TIMEOUT"}}rm.code="ERR_JWKS_TIMEOUT";class Vu extends Yt{constructor(n="signature verification failed",s){super(n,s),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}Vu.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const L1=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:Cl,JOSEError:Yt,JOSENotSupported:it,JWEDecryptionFailed:Oo,JWEInvalid:Re,JWKInvalid:em,JWKSInvalid:Bu,JWKSMultipleMatchingKeys:tm,JWKSNoMatchingKey:Ku,JWKSTimeout:rm,JWSInvalid:at,JWSSignatureVerificationFailed:Vu,JWTClaimValidationFailed:mr,JWTExpired:vu,JWTInvalid:vr},Symbol.toStringTag,{value:"Module"})),Gu=Qe.getRandomValues.bind(Qe);function cS(t){switch(t){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new it(`Unsupported JWE Algorithm: ${t}`)}}const D1=t=>Gu(new Uint8Array(cS(t)>>3)),uS=(t,n)=>{if(n.length<<3!==cS(t))throw new Re("Invalid Initialization Vector length")},wu=(t,n)=>{const s=t.byteLength<<3;if(s!==n)throw new Re(`Invalid Content Encryption Key length. Expected ${n} bits, got ${s} bits`)},M1=(t,n)=>{if(!(t instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(n instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(t.length!==n.length)throw new TypeError("Input buffers must have the same length");const s=t.length;let o=0,l=-1;for(;++l<s;)o|=t[l]^n[l];return o===0};function Jt(t,n="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${n} must be ${t}`)}function ds(t,n){return t.name===n}function lu(t){return parseInt(t.name.slice(4),10)}function U1(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function dS(t,n){if(n.length&&!n.some(s=>t.usages.includes(s))){let s="CryptoKey does not support this operation, its usages must include ";if(n.length>2){const o=n.pop();s+=`one of ${n.join(", ")}, or ${o}.`}else n.length===2?s+=`one of ${n[0]} or ${n[1]}.`:s+=`${n[0]}.`;throw new TypeError(s)}}function q1(t,n,...s){switch(n){case"HS256":case"HS384":case"HS512":{if(!ds(t.algorithm,"HMAC"))throw Jt("HMAC");const o=parseInt(n.slice(2),10);if(lu(t.algorithm.hash)!==o)throw Jt(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ds(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Jt("RSASSA-PKCS1-v1_5");const o=parseInt(n.slice(2),10);if(lu(t.algorithm.hash)!==o)throw Jt(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ds(t.algorithm,"RSA-PSS"))throw Jt("RSA-PSS");const o=parseInt(n.slice(2),10);if(lu(t.algorithm.hash)!==o)throw Jt(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Jt("Ed25519 or Ed448");break}case"Ed25519":{if(!ds(t.algorithm,"Ed25519"))throw Jt("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!ds(t.algorithm,"ECDSA"))throw Jt("ECDSA");const o=U1(n);if(t.algorithm.namedCurve!==o)throw Jt(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}dS(t,s)}function Fs(t,n,...s){switch(n){case"A128GCM":case"A192GCM":case"A256GCM":{if(!ds(t.algorithm,"AES-GCM"))throw Jt("AES-GCM");const o=parseInt(n.slice(1,4),10);if(t.algorithm.length!==o)throw Jt(o,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!ds(t.algorithm,"AES-KW"))throw Jt("AES-KW");const o=parseInt(n.slice(1,4),10);if(t.algorithm.length!==o)throw Jt(o,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw Jt("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ds(t.algorithm,"PBKDF2"))throw Jt("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!ds(t.algorithm,"RSA-OAEP"))throw Jt("RSA-OAEP");const o=parseInt(n.slice(9),10)||1;if(lu(t.algorithm.hash)!==o)throw Jt(`SHA-${o}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}dS(t,s)}function fS(t,n,...s){if(s=s.filter(Boolean),s.length>2){const o=s.pop();t+=`one of type ${s.join(", ")}, or ${o}.`}else s.length===2?t+=`one of type ${s[0]} or ${s[1]}.`:t+=`of type ${s[0]}.`;return n==null?t+=` Received ${n}`:typeof n=="function"&&n.name?t+=` Received function ${n.name}`:typeof n=="object"&&n!=null&&n.constructor?.name&&(t+=` Received an instance of ${n.constructor.name}`),t}const ar=(t,...n)=>fS("Key must be ",t,...n);function hS(t,n,...s){return fS(`Key for the ${t} algorithm must be `,n,...s)}const pS=t=>Pr(t)?!0:t?.[Symbol.toStringTag]==="KeyObject",lr=["CryptoKey"];async function F1(t,n,s,o,l,c){if(!(n instanceof Uint8Array))throw new TypeError(ar(n,"Uint8Array"));const i=parseInt(t.slice(1,4),10),u=await Qe.subtle.importKey("raw",n.subarray(i>>3),"AES-CBC",!1,["decrypt"]),d=await Qe.subtle.importKey("raw",n.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),h=Un(c,o,s,aS(c.length<<3)),m=new Uint8Array((await Qe.subtle.sign("HMAC",d,h)).slice(0,i>>3));let p;try{p=M1(l,m)}catch{}if(!p)throw new Oo;let x;try{x=new Uint8Array(await Qe.subtle.decrypt({iv:o,name:"AES-CBC"},u,s))}catch{}if(!x)throw new Oo;return x}async function H1(t,n,s,o,l,c){let i;n instanceof Uint8Array?i=await Qe.subtle.importKey("raw",n,"AES-GCM",!1,["decrypt"]):(Fs(n,t,"decrypt"),i=n);try{return new Uint8Array(await Qe.subtle.decrypt({additionalData:c,iv:o,name:"AES-GCM",tagLength:128},i,Un(s,l)))}catch{throw new Oo}}const mS=async(t,n,s,o,l,c)=>{if(!Pr(n)&&!(n instanceof Uint8Array))throw new TypeError(ar(n,...lr,"Uint8Array"));if(!o)throw new Re("JWE Initialization Vector missing");if(!l)throw new Re("JWE Authentication Tag missing");switch(uS(t,o),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&wu(n,parseInt(t.slice(-3),10)),F1(t,n,s,o,l,c);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&wu(n,parseInt(t.slice(1,4),10)),H1(t,n,s,o,l,c);default:throw new it("Unsupported JWE Content Encryption Algorithm")}},Al=(...t)=>{const n=t.filter(Boolean);if(n.length===0||n.length===1)return!0;let s;for(const o of n){const l=Object.keys(o);if(!s||s.size===0){s=new Set(l);continue}for(const c of l){if(s.has(c))return!1;s.add(c)}}return!0};function $1(t){return typeof t=="object"&&t!==null}function Ot(t){if(!$1(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}const Ju=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function gS(t,n){if(t.algorithm.length!==parseInt(n.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${n}`)}function yS(t,n,s){if(Pr(t))return Fs(t,n,s),t;if(t instanceof Uint8Array)return Qe.subtle.importKey("raw",t,"AES-KW",!0,[s]);throw new TypeError(ar(t,...lr,"Uint8Array"))}const wp=async(t,n,s)=>{const o=await yS(n,t,"wrapKey");gS(o,t);const l=await Qe.subtle.importKey("raw",s,...Ju);return new Uint8Array(await Qe.subtle.wrapKey("raw",l,o,"AES-KW"))},Ep=async(t,n,s)=>{const o=await yS(n,t,"unwrapKey");gS(o,t);const l=await Qe.subtle.unwrapKey("raw",s,o,"AES-KW",...Ju);return new Uint8Array(await Qe.subtle.exportKey("raw",l))};async function vS(t,n,s,o,l=new Uint8Array(0),c=new Uint8Array(0)){if(!Pr(t))throw new TypeError(ar(t,...lr));if(Fs(t,"ECDH"),!Pr(n))throw new TypeError(ar(n,...lr));Fs(n,"ECDH","deriveBits");const i=Un(ip(Nt.encode(s)),ip(l),ip(c),Qp(o));let u;t.algorithm.name==="X25519"?u=256:t.algorithm.name==="X448"?u=448:u=Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3;const d=new Uint8Array(await Qe.subtle.deriveBits({name:t.algorithm.name,public:t},n,u));return j1(d,o,i)}async function z1(t){if(!Pr(t))throw new TypeError(ar(t,...lr));return Qe.subtle.generateKey(t.algorithm,!0,["deriveBits"])}function wS(t){if(!Pr(t))throw new TypeError(ar(t,...lr));return["P-256","P-384","P-521"].includes(t.algorithm.namedCurve)||t.algorithm.name==="X25519"||t.algorithm.name==="X448"}function W1(t){if(!(t instanceof Uint8Array)||t.length<8)throw new Re("PBES2 Salt Input must be 8 or more octets")}function B1(t,n){if(t instanceof Uint8Array)return Qe.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]);if(Pr(t))return Fs(t,n,"deriveBits","deriveKey"),t;throw new TypeError(ar(t,...lr,"Uint8Array"))}async function ES(t,n,s,o){W1(t);const l=O1(n,t),c=parseInt(n.slice(13,16),10),i={hash:`SHA-${n.slice(8,11)}`,iterations:s,name:"PBKDF2",salt:l},u={length:c,name:"AES-KW"},d=await B1(o,n);if(d.usages.includes("deriveBits"))return new Uint8Array(await Qe.subtle.deriveBits(i,d,c));if(d.usages.includes("deriveKey"))return Qe.subtle.deriveKey(i,d,u,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const K1=async(t,n,s,o=2048,l=Gu(new Uint8Array(16)))=>{const c=await ES(l,t,o,n);return{encryptedKey:await wp(t.slice(-6),c,s),p2c:o,p2s:Mt(l)}},V1=async(t,n,s,o,l)=>{const c=await ES(l,t,o,n);return Ep(t.slice(-6),c,s)};function Eu(t){switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new it(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}const Yu=(t,n)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:s}=n.algorithm;if(typeof s!="number"||s<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},G1=async(t,n,s)=>{if(!Pr(n))throw new TypeError(ar(n,...lr));if(Fs(n,t,"encrypt","wrapKey"),Yu(t,n),n.usages.includes("encrypt"))return new Uint8Array(await Qe.subtle.encrypt(Eu(t),n,s));if(n.usages.includes("wrapKey")){const o=await Qe.subtle.importKey("raw",s,...Ju);return new Uint8Array(await Qe.subtle.wrapKey("raw",o,n,Eu(t)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},J1=async(t,n,s)=>{if(!Pr(n))throw new TypeError(ar(n,...lr));if(Fs(n,t,"decrypt","unwrapKey"),Yu(t,n),n.usages.includes("decrypt"))return new Uint8Array(await Qe.subtle.decrypt(Eu(t),n,s));if(n.usages.includes("unwrapKey")){const o=await Qe.subtle.unwrapKey("raw",s,n,Eu(t),...Ju);return new Uint8Array(await Qe.subtle.exportKey("raw",o))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Mo(t){return Ot(t)&&typeof t.kty=="string"}function Y1(t){return t.kty!=="oct"&&typeof t.d=="string"}function X1(t){return t.kty!=="oct"&&typeof t.d>"u"}function Q1(t){return Mo(t)&&t.kty==="oct"&&typeof t.k=="string"}function Z1(t){let n,s;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},s=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},s=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},s=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":n={name:"ECDSA",namedCurve:"P-256"},s=t.d?["sign"]:["verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},s=t.d?["sign"]:["verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},s=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":n={name:"ECDH",namedCurve:t.crv},s=t.d?["deriveBits"]:[];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":n={name:"Ed25519"},s=t.d?["sign"]:["verify"];break;case"EdDSA":n={name:t.crv},s=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":n={name:t.crv},s=t.d?["deriveBits"]:[];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new it('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:n,keyUsages:s}}const SS=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:n,keyUsages:s}=Z1(t),o=[n,t.ext??!1,t.key_ops??s],l={...t};return delete l.alg,delete l.use,Qe.subtle.importKey("jwk",l,...o)},xS=t=>Pt(t);let bo,To;const CS=t=>t?.[Symbol.toStringTag]==="KeyObject",Su=async(t,n,s,o,l=!1)=>{let c=t.get(n);if(c?.[o])return c[o];const i=await SS({...s,alg:o});return l&&Object.freeze(n),c?c[o]=i:t.set(n,{[o]:i}),i},ek=(t,n)=>{if(CS(t)){let s=t.export({format:"jwk"});return delete s.d,delete s.dp,delete s.dq,delete s.p,delete s.q,delete s.qi,s.k?xS(s.k):(To||(To=new WeakMap),Su(To,t,s,n))}return Mo(t)?t.k?Pt(t.k):(To||(To=new WeakMap),Su(To,t,t,n,!0)):t},tk=(t,n)=>{if(CS(t)){let s=t.export({format:"jwk"});return s.k?xS(s.k):(bo||(bo=new WeakMap),Su(bo,t,s,n))}return Mo(t)?t.k?Pt(t.k):(bo||(bo=new WeakMap),Su(bo,t,t,n,!0)):t},xu={normalizePublicKey:ek,normalizePrivateKey:tk};function nm(t){switch(t){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new it(`Unsupported JWE Algorithm: ${t}`)}}const Pi=t=>Gu(new Uint8Array(nm(t)>>3)),bS=(t,n)=>{const s=(t.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${n}-----
${s}
-----END ${n}-----`},TS=async(t,n,s)=>{if(!Pr(s))throw new TypeError(ar(s,...lr));if(!s.extractable)throw new TypeError("CryptoKey is not extractable");if(s.type!==t)throw new TypeError(`key is not a ${t} key`);return bS(Zp(new Uint8Array(await Qe.subtle.exportKey(n,s))),`${t.toUpperCase()} KEY`)},rk=t=>TS("public","spki",t),nk=t=>TS("private","pkcs8",t),Us=(t,n,s=0)=>{s===0&&(n.unshift(n.length),n.unshift(6));const o=t.indexOf(n[0],s);if(o===-1)return!1;const l=t.subarray(o,o+n.length);return l.length!==n.length?!1:l.every((c,i)=>c===n[i])||Us(t,n,o+1)},w0=t=>{switch(!0){case Us(t,[42,134,72,206,61,3,1,7]):return"P-256";case Us(t,[43,129,4,0,34]):return"P-384";case Us(t,[43,129,4,0,35]):return"P-521";case Us(t,[43,101,110]):return"X25519";case Us(t,[43,101,111]):return"X448";case Us(t,[43,101,112]):return"Ed25519";case Us(t,[43,101,113]):return"Ed448";default:throw new it("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},_S=async(t,n,s,o,l)=>{let c,i;const u=new Uint8Array(atob(s.replace(t,"")).split("").map(h=>h.charCodeAt(0))),d=n==="spki";switch(o){case"PS256":case"PS384":case"PS512":c={name:"RSA-PSS",hash:`SHA-${o.slice(-3)}`},i=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":c={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${o.slice(-3)}`},i=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":c={name:"RSA-OAEP",hash:`SHA-${parseInt(o.slice(-3),10)||1}`},i=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":c={name:"ECDSA",namedCurve:"P-256"},i=d?["verify"]:["sign"];break;case"ES384":c={name:"ECDSA",namedCurve:"P-384"},i=d?["verify"]:["sign"];break;case"ES512":c={name:"ECDSA",namedCurve:"P-521"},i=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const h=w0(u);c=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},i=d?[]:["deriveBits"];break}case"Ed25519":c={name:"Ed25519"},i=d?["verify"]:["sign"];break;case"EdDSA":c={name:w0(u)},i=d?["verify"]:["sign"];break;default:throw new it('Invalid or unsupported "alg" (Algorithm) value')}return Qe.subtle.importKey(n,u,c,l?.extractable??!1,i)},sk=(t,n,s)=>_S(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",t,n,s),kS=(t,n,s)=>_S(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",t,n,s);function E0(t){const n=[];let s=0;for(;s<t.length;){const o=RS(t.subarray(s));n.push(o),s+=o.byteLength}return n}function RS(t){let n=0,s=t[0]&31;if(n++,s===31){for(s=0;t[n]>=128;)s=s*128+t[n]-128,n++;s=s*128+t[n]-128,n++}let o=0;if(t[n]<128)o=t[n],n++;else if(o===128){for(o=0;t[n+o]!==0||t[n+o+1]!==0;){if(o>t.byteLength)throw new TypeError("invalid indefinite form length");o++}const c=n+o+2;return{byteLength:c,contents:t.subarray(n,n+o),raw:t.subarray(0,c)}}else{const c=t[n]&127;n++,o=0;for(let i=0;i<c;i++)o=o*256+t[n],n++}const l=n+o;return{byteLength:l,contents:t.subarray(n,l),raw:t.subarray(0,l)}}function ik(t){const n=E0(E0(RS(t).contents)[0].contents);return Zp(n[n[0].raw[0]===160?6:5].raw)}function ok(t){const n=t.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),s=lS(n);return bS(ik(s),"PUBLIC KEY")}const ak=(t,n,s)=>{let o;try{o=ok(t)}catch(l){throw new TypeError("Failed to parse the X.509 certificate",{cause:l})}return kS(o,n,s)};async function lk(t,n,s){if(typeof t!="string"||t.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return kS(t,n,s)}async function ck(t,n,s){if(typeof t!="string"||t.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return ak(t,n,s)}async function uk(t,n,s){if(typeof t!="string"||t.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return sk(t,n,s)}async function Il(t,n){if(!Ot(t))throw new TypeError("JWK must be an object");switch(n||(n=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Pt(t.k);case"RSA":if("oth"in t&&t.oth!==void 0)throw new it('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return SS({...t,alg:n});default:throw new it('Unsupported "kty" (Key Type) Parameter value')}}const Io=t=>t?.[Symbol.toStringTag],Sp=(t,n,s)=>{if(n.use!==void 0&&n.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(n.key_ops!==void 0&&n.key_ops.includes?.(s)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${s}`);if(n.alg!==void 0&&n.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},dk=(t,n,s,o)=>{if(!(n instanceof Uint8Array)){if(o&&Mo(n)){if(Q1(n)&&Sp(t,n,s))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!pS(n))throw new TypeError(hS(t,n,...lr,"Uint8Array",o?"JSON Web Key":null));if(n.type!=="secret")throw new TypeError(`${Io(n)} instances for symmetric algorithms must be of type "secret"`)}},fk=(t,n,s,o)=>{if(o&&Mo(n))switch(s){case"sign":if(Y1(n)&&Sp(t,n,s))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(X1(n)&&Sp(t,n,s))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!pS(n))throw new TypeError(hS(t,n,...lr,o?"JSON Web Key":null));if(n.type==="secret")throw new TypeError(`${Io(n)} instances for asymmetric algorithms must not be of type "secret"`);if(s==="sign"&&n.type==="public")throw new TypeError(`${Io(n)} instances for asymmetric algorithm signing must be of type "private"`);if(s==="decrypt"&&n.type==="public")throw new TypeError(`${Io(n)} instances for asymmetric algorithm decryption must be of type "private"`);if(n.algorithm&&s==="verify"&&n.type==="private")throw new TypeError(`${Io(n)} instances for asymmetric algorithm verifying must be of type "public"`);if(n.algorithm&&s==="encrypt"&&n.type==="private")throw new TypeError(`${Io(n)} instances for asymmetric algorithm encryption must be of type "public"`)};function AS(t,n,s,o){n.startsWith("HS")||n==="dir"||n.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(n)?dk(n,s,o,t):fk(n,s,o,t)}const IS=AS.bind(void 0,!1),xp=AS.bind(void 0,!0);async function hk(t,n,s,o,l){if(!(s instanceof Uint8Array))throw new TypeError(ar(s,"Uint8Array"));const c=parseInt(t.slice(1,4),10),i=await Qe.subtle.importKey("raw",s.subarray(c>>3),"AES-CBC",!1,["encrypt"]),u=await Qe.subtle.importKey("raw",s.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),d=new Uint8Array(await Qe.subtle.encrypt({iv:o,name:"AES-CBC"},i,n)),h=Un(l,o,d,aS(l.length<<3)),m=new Uint8Array((await Qe.subtle.sign("HMAC",u,h)).slice(0,c>>3));return{ciphertext:d,tag:m,iv:o}}async function pk(t,n,s,o,l){let c;s instanceof Uint8Array?c=await Qe.subtle.importKey("raw",s,"AES-GCM",!1,["encrypt"]):(Fs(s,t,"encrypt"),c=s);const i=new Uint8Array(await Qe.subtle.encrypt({additionalData:l,iv:o,name:"AES-GCM",tagLength:128},c,n)),u=i.slice(-16);return{ciphertext:i.slice(0,-16),tag:u,iv:o}}const PS=async(t,n,s,o,l)=>{if(!Pr(s)&&!(s instanceof Uint8Array))throw new TypeError(ar(s,...lr,"Uint8Array"));switch(o?uS(t,o):o=D1(t),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s instanceof Uint8Array&&wu(s,parseInt(t.slice(-3),10)),hk(t,n,s,o,l);case"A128GCM":case"A192GCM":case"A256GCM":return s instanceof Uint8Array&&wu(s,parseInt(t.slice(1,4),10)),pk(t,n,s,o,l);default:throw new it("Unsupported JWE Content Encryption Algorithm")}};async function mk(t,n,s,o){const l=t.slice(0,7),c=await PS(l,s,n,o,new Uint8Array(0));return{encryptedKey:c.ciphertext,iv:Mt(c.iv),tag:Mt(c.tag)}}async function gk(t,n,s,o,l){const c=t.slice(0,7);return mS(c,n,s,o,l,new Uint8Array(0))}async function yk(t,n,s,o,l){switch(IS(t,n,"decrypt"),n=await xu.normalizePrivateKey?.(n,t)||n,t){case"dir":{if(s!==void 0)throw new Re("Encountered unexpected JWE Encrypted Key");return n}case"ECDH-ES":if(s!==void 0)throw new Re("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Ot(o.epk))throw new Re('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!wS(n))throw new it("ECDH with the provided key is not allowed or not supported by your javascript runtime");const c=await Il(o.epk,t);let i,u;if(o.apu!==void 0){if(typeof o.apu!="string")throw new Re('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=Pt(o.apu)}catch{throw new Re("Failed to base64url decode the apu")}}if(o.apv!==void 0){if(typeof o.apv!="string")throw new Re('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{u=Pt(o.apv)}catch{throw new Re("Failed to base64url decode the apv")}}const d=await vS(c,n,t==="ECDH-ES"?o.enc:t,t==="ECDH-ES"?nm(o.enc):parseInt(t.slice(-5,-2),10),i,u);if(t==="ECDH-ES")return d;if(s===void 0)throw new Re("JWE Encrypted Key missing");return Ep(t.slice(-6),d,s)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(s===void 0)throw new Re("JWE Encrypted Key missing");return J1(t,n,s)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(s===void 0)throw new Re("JWE Encrypted Key missing");if(typeof o.p2c!="number")throw new Re('JOSE Header "p2c" (PBES2 Count) missing or invalid');const c=l?.maxPBES2Count||1e4;if(o.p2c>c)throw new Re('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof o.p2s!="string")throw new Re('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let i;try{i=Pt(o.p2s)}catch{throw new Re("Failed to base64url decode the p2s")}return V1(t,n,s,o.p2c,i)}case"A128KW":case"A192KW":case"A256KW":{if(s===void 0)throw new Re("JWE Encrypted Key missing");return Ep(t,n,s)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(s===void 0)throw new Re("JWE Encrypted Key missing");if(typeof o.iv!="string")throw new Re('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof o.tag!="string")throw new Re('JOSE Header "tag" (Authentication Tag) missing or invalid');let c;try{c=Pt(o.iv)}catch{throw new Re("Failed to base64url decode the iv")}let i;try{i=Pt(o.tag)}catch{throw new Re("Failed to base64url decode the tag")}return gk(t,n,s,c,i)}default:throw new it('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function Pl(t,n,s,o,l){if(l.crit!==void 0&&o?.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(i=>typeof i!="string"||i.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let c;s!==void 0?c=new Map([...Object.entries(s),...n.entries()]):c=n;for(const i of o.crit){if(!c.has(i))throw new it(`Extension Header Parameter "${i}" is not recognized`);if(l[i]===void 0)throw new t(`Extension Header Parameter "${i}" is missing`);if(c.get(i)&&o[i]===void 0)throw new t(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(o.crit)}const Cp=(t,n)=>{if(n!==void 0&&(!Array.isArray(n)||n.some(s=>typeof s!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(n)return new Set(n)};async function sm(t,n,s){if(!Ot(t))throw new Re("Flattened JWE must be an object");if(t.protected===void 0&&t.header===void 0&&t.unprotected===void 0)throw new Re("JOSE Header missing");if(t.iv!==void 0&&typeof t.iv!="string")throw new Re("JWE Initialization Vector incorrect type");if(typeof t.ciphertext!="string")throw new Re("JWE Ciphertext missing or incorrect type");if(t.tag!==void 0&&typeof t.tag!="string")throw new Re("JWE Authentication Tag incorrect type");if(t.protected!==void 0&&typeof t.protected!="string")throw new Re("JWE Protected Header incorrect type");if(t.encrypted_key!==void 0&&typeof t.encrypted_key!="string")throw new Re("JWE Encrypted Key incorrect type");if(t.aad!==void 0&&typeof t.aad!="string")throw new Re("JWE AAD incorrect type");if(t.header!==void 0&&!Ot(t.header))throw new Re("JWE Shared Unprotected Header incorrect type");if(t.unprotected!==void 0&&!Ot(t.unprotected))throw new Re("JWE Per-Recipient Unprotected Header incorrect type");let o;if(t.protected)try{const S=Pt(t.protected);o=JSON.parse(Xr.decode(S))}catch{throw new Re("JWE Protected Header is invalid")}if(!Al(o,t.header,t.unprotected))throw new Re("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const l={...o,...t.header,...t.unprotected};if(Pl(Re,new Map,s?.crit,o,l),l.zip!==void 0)throw new it('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:c,enc:i}=l;if(typeof c!="string"||!c)throw new Re("missing JWE Algorithm (alg) in JWE Header");if(typeof i!="string"||!i)throw new Re("missing JWE Encryption Algorithm (enc) in JWE Header");const u=s&&Cp("keyManagementAlgorithms",s.keyManagementAlgorithms),d=s&&Cp("contentEncryptionAlgorithms",s.contentEncryptionAlgorithms);if(u&&!u.has(c)||!u&&c.startsWith("PBES2"))throw new Cl('"alg" (Algorithm) Header Parameter value not allowed');if(d&&!d.has(i))throw new Cl('"enc" (Encryption Algorithm) Header Parameter value not allowed');let h;if(t.encrypted_key!==void 0)try{h=Pt(t.encrypted_key)}catch{throw new Re("Failed to base64url decode the encrypted_key")}let m=!1;typeof n=="function"&&(n=await n(o,t),m=!0);let p;try{p=await yk(c,n,h,l,s)}catch(S){if(S instanceof TypeError||S instanceof Re||S instanceof it)throw S;p=Pi(i)}let x,A;if(t.iv!==void 0)try{x=Pt(t.iv)}catch{throw new Re("Failed to base64url decode the iv")}if(t.tag!==void 0)try{A=Pt(t.tag)}catch{throw new Re("Failed to base64url decode the tag")}const b=Nt.encode(t.protected??"");let T;t.aad!==void 0?T=Un(b,Nt.encode("."),Nt.encode(t.aad)):T=b;let C;try{C=Pt(t.ciphertext)}catch{throw new Re("Failed to base64url decode the ciphertext")}const v={plaintext:await mS(i,p,C,x,A,T)};if(t.protected!==void 0&&(v.protectedHeader=o),t.aad!==void 0)try{v.additionalAuthenticatedData=Pt(t.aad)}catch{throw new Re("Failed to base64url decode the aad")}return t.unprotected!==void 0&&(v.sharedUnprotectedHeader=t.unprotected),t.header!==void 0&&(v.unprotectedHeader=t.header),m?{...v,key:n}:v}async function NS(t,n,s){if(t instanceof Uint8Array&&(t=Xr.decode(t)),typeof t!="string")throw new Re("Compact JWE must be a string or Uint8Array");const{0:o,1:l,2:c,3:i,4:u,length:d}=t.split(".");if(d!==5)throw new Re("Invalid Compact JWE");const h=await sm({ciphertext:i,iv:c||void 0,protected:o,tag:u||void 0,encrypted_key:l||void 0},n,s),m={plaintext:h.plaintext,protectedHeader:h.protectedHeader};return typeof n=="function"?{...m,key:h.key}:m}async function vk(t,n,s){if(!Ot(t))throw new Re("General JWE must be an object");if(!Array.isArray(t.recipients)||!t.recipients.every(Ot))throw new Re("JWE Recipients missing or incorrect type");if(!t.recipients.length)throw new Re("JWE Recipients has no members");for(const o of t.recipients)try{return await sm({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:o.encrypted_key,header:o.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},n,s)}catch{}throw new Oo}const OS=Symbol(),wk=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:Mt(t)};if(!Pr(t))throw new TypeError(ar(t,...lr,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:n,key_ops:s,alg:o,use:l,...c}=await Qe.subtle.exportKey("jwk",t);return c};async function Ek(t){return rk(t)}async function Sk(t){return nk(t)}async function jS(t){return wk(t)}async function LS(t,n,s,o,l={}){let c,i,u;switch(IS(t,s,"encrypt"),s=await xu.normalizePublicKey?.(s,t)||s,t){case"dir":{u=s;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!wS(s))throw new it("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:d,apv:h}=l;let{epk:m}=l;m||(m=(await z1(s)).privateKey);const{x:p,y:x,crv:A,kty:b}=await jS(m),T=await vS(s,m,t==="ECDH-ES"?n:t,t==="ECDH-ES"?nm(n):parseInt(t.slice(-5,-2),10),d,h);if(i={epk:{x:p,crv:A,kty:b}},b==="EC"&&(i.epk.y=x),d&&(i.apu=Mt(d)),h&&(i.apv=Mt(h)),t==="ECDH-ES"){u=T;break}u=o||Pi(n);const C=t.slice(-6);c=await wp(C,T,u);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{u=o||Pi(n),c=await G1(t,s,u);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{u=o||Pi(n);const{p2c:d,p2s:h}=l;({encryptedKey:c,...i}=await K1(t,s,u,d,h));break}case"A128KW":case"A192KW":case"A256KW":{u=o||Pi(n),c=await wp(t,s,u);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{u=o||Pi(n);const{iv:d}=l;({encryptedKey:c,...i}=await mk(t,s,u,d));break}default:throw new it('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:u,encryptedKey:c,parameters:i}}class Cu{constructor(n){if(!(n instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=n}setKeyManagementParameters(n){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=n,this}setProtectedHeader(n){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=n,this}setSharedUnprotectedHeader(n){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=n,this}setUnprotectedHeader(n){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=n,this}setAdditionalAuthenticatedData(n){return this._aad=n,this}setContentEncryptionKey(n){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=n,this}setInitializationVector(n){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=n,this}async encrypt(n,s){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new Re("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Al(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new Re("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Pl(Re,new Map,s?.crit,this._protectedHeader,o),o.zip!==void 0)throw new it('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:l,enc:c}=o;if(typeof l!="string"||!l)throw new Re('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof c!="string"||!c)throw new Re('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let i;if(this._cek&&(l==="dir"||l==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);let u;{let T;({cek:u,encryptedKey:i,parameters:T}=await LS(l,c,n,this._cek,this._keyManagementParameters)),T&&(s&&OS in s?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...T}:this.setUnprotectedHeader(T):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...T}:this.setProtectedHeader(T))}let d,h,m;this._protectedHeader?h=Nt.encode(Mt(JSON.stringify(this._protectedHeader))):h=Nt.encode(""),this._aad?(m=Mt(this._aad),d=Un(h,Nt.encode("."),Nt.encode(m))):d=h;const{ciphertext:p,tag:x,iv:A}=await PS(c,this._plaintext,u,this._iv,d),b={ciphertext:Mt(p)};return A&&(b.iv=Mt(A)),x&&(b.tag=Mt(x)),i&&(b.encrypted_key=Mt(i)),m&&(b.aad=m),this._protectedHeader&&(b.protected=Xr.decode(h)),this._sharedUnprotectedHeader&&(b.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(b.header=this._unprotectedHeader),b}}class xk{constructor(n,s,o){this.parent=n,this.key=s,this.options=o}setUnprotectedHeader(n){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=n,this}addRecipient(...n){return this.parent.addRecipient(...n)}encrypt(...n){return this.parent.encrypt(...n)}done(){return this.parent}}class Ck{constructor(n){this._recipients=[],this._plaintext=n}addRecipient(n,s){const o=new xk(this,n,{crit:s?.crit});return this._recipients.push(o),o}setProtectedHeader(n){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=n,this}setSharedUnprotectedHeader(n){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=n,this}setAdditionalAuthenticatedData(n){return this._aad=n,this}async encrypt(){if(!this._recipients.length)throw new Re("at least one recipient must be added");if(this._recipients.length===1){const[l]=this._recipients,c=await new Cu(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(l.unprotectedHeader).encrypt(l.key,{...l.options}),i={ciphertext:c.ciphertext,iv:c.iv,recipients:[{}],tag:c.tag};return c.aad&&(i.aad=c.aad),c.protected&&(i.protected=c.protected),c.unprotected&&(i.unprotected=c.unprotected),c.encrypted_key&&(i.recipients[0].encrypted_key=c.encrypted_key),c.header&&(i.recipients[0].header=c.header),i}let n;for(let l=0;l<this._recipients.length;l++){const c=this._recipients[l];if(!Al(this._protectedHeader,this._unprotectedHeader,c.unprotectedHeader))throw new Re("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader},{alg:u}=i;if(typeof u!="string"||!u)throw new Re('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(u==="dir"||u==="ECDH-ES")throw new Re('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof i.enc!="string"||!i.enc)throw new Re('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!n)n=i.enc;else if(n!==i.enc)throw new Re('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(Pl(Re,new Map,c.options.crit,this._protectedHeader,i),i.zip!==void 0)throw new it('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const s=Pi(n),o={ciphertext:"",iv:"",recipients:[],tag:""};for(let l=0;l<this._recipients.length;l++){const c=this._recipients[l],i={};o.recipients.push(i);const d={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}.alg.startsWith("PBES2")?2048+l:void 0;if(l===0){const p=await new Cu(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:d}).encrypt(c.key,{...c.options,[OS]:!0});o.ciphertext=p.ciphertext,o.iv=p.iv,o.tag=p.tag,p.aad&&(o.aad=p.aad),p.protected&&(o.protected=p.protected),p.unprotected&&(o.unprotected=p.unprotected),i.encrypted_key=p.encrypted_key,p.header&&(i.header=p.header);continue}const{encryptedKey:h,parameters:m}=await LS(c.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,n,c.key,s,{p2c:d});i.encrypted_key=Mt(h),(c.unprotectedHeader||m)&&(i.header={...c.unprotectedHeader,...m})}return o}}function DS(t,n){const s=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:s,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:s,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:s,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:s,name:"ECDSA",namedCurve:n.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:n.name};default:throw new it(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function MS(t,n,s){if(s==="sign"&&(n=await xu.normalizePrivateKey(n,t)),s==="verify"&&(n=await xu.normalizePublicKey(n,t)),Pr(n))return q1(n,t,s),n;if(n instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(ar(n,...lr));return Qe.subtle.importKey("raw",n,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[s])}throw new TypeError(ar(n,...lr,"Uint8Array","JSON Web Key"))}const bk=async(t,n,s,o)=>{const l=await MS(t,n,"verify");Yu(t,l);const c=DS(t,l.algorithm);try{return await Qe.subtle.verify(c,l,s,o)}catch{return!1}};async function im(t,n,s){if(!Ot(t))throw new at("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new at('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new at("JWS Protected Header incorrect type");if(t.payload===void 0)throw new at("JWS Payload missing");if(typeof t.signature!="string")throw new at("JWS Signature missing or incorrect type");if(t.header!==void 0&&!Ot(t.header))throw new at("JWS Unprotected Header incorrect type");let o={};if(t.protected)try{const T=Pt(t.protected);o=JSON.parse(Xr.decode(T))}catch{throw new at("JWS Protected Header is invalid")}if(!Al(o,t.header))throw new at("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const l={...o,...t.header},c=Pl(at,new Map([["b64",!0]]),s?.crit,o,l);let i=!0;if(c.has("b64")&&(i=o.b64,typeof i!="boolean"))throw new at('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:u}=l;if(typeof u!="string"||!u)throw new at('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=s&&Cp("algorithms",s.algorithms);if(d&&!d.has(u))throw new Cl('"alg" (Algorithm) Header Parameter value not allowed');if(i){if(typeof t.payload!="string")throw new at("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new at("JWS Payload must be a string or an Uint8Array instance");let h=!1;typeof n=="function"?(n=await n(o,t),h=!0,xp(u,n,"verify"),Mo(n)&&(n=await Il(n,u))):xp(u,n,"verify");const m=Un(Nt.encode(t.protected??""),Nt.encode("."),typeof t.payload=="string"?Nt.encode(t.payload):t.payload);let p;try{p=Pt(t.signature)}catch{throw new at("Failed to base64url decode the signature")}if(!await bk(u,n,p,m))throw new Vu;let A;if(i)try{A=Pt(t.payload)}catch{throw new at("Failed to base64url decode the payload")}else typeof t.payload=="string"?A=Nt.encode(t.payload):A=t.payload;const b={payload:A};return t.protected!==void 0&&(b.protectedHeader=o),t.header!==void 0&&(b.unprotectedHeader=t.header),h?{...b,key:n}:b}async function US(t,n,s){if(t instanceof Uint8Array&&(t=Xr.decode(t)),typeof t!="string")throw new at("Compact JWS must be a string or Uint8Array");const{0:o,1:l,2:c,length:i}=t.split(".");if(i!==3)throw new at("Invalid Compact JWS");const u=await im({payload:l,protected:o,signature:c},n,s),d={payload:u.payload,protectedHeader:u.protectedHeader};return typeof n=="function"?{...d,key:u.key}:d}async function Tk(t,n,s){if(!Ot(t))throw new at("General JWS must be an object");if(!Array.isArray(t.signatures)||!t.signatures.every(Ot))throw new at("JWS Signatures missing or incorrect type");for(const o of t.signatures)try{return await im({header:o.header,payload:t.payload,protected:o.protected,signature:o.signature},n,s)}catch{}throw new Vu}const qs=t=>Math.floor(t.getTime()/1e3),qS=60,FS=qS*60,om=FS*24,_k=om*7,kk=om*365.25,Rk=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,El=t=>{const n=Rk.exec(t);if(!n||n[4]&&n[1])throw new TypeError("Invalid time period format");const s=parseFloat(n[2]),o=n[3].toLowerCase();let l;switch(o){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(s);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(s*qS);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(s*FS);break;case"day":case"days":case"d":l=Math.round(s*om);break;case"week":case"weeks":case"w":l=Math.round(s*_k);break;default:l=Math.round(s*kk);break}return n[1]==="-"||n[4]==="ago"?-l:l},S0=t=>t.toLowerCase().replace(/^application\//,""),Ak=(t,n)=>typeof t=="string"?n.includes(t):Array.isArray(t)?n.some(Set.prototype.has.bind(new Set(t))):!1,am=(t,n,s={})=>{let o;try{o=JSON.parse(Xr.decode(n))}catch{}if(!Ot(o))throw new vr("JWT Claims Set must be a top-level JSON object");const{typ:l}=s;if(l&&(typeof t.typ!="string"||S0(t.typ)!==S0(l)))throw new mr('unexpected "typ" JWT header value',o,"typ","check_failed");const{requiredClaims:c=[],issuer:i,subject:u,audience:d,maxTokenAge:h}=s,m=[...c];h!==void 0&&m.push("iat"),d!==void 0&&m.push("aud"),u!==void 0&&m.push("sub"),i!==void 0&&m.push("iss");for(const b of new Set(m.reverse()))if(!(b in o))throw new mr(`missing required "${b}" claim`,o,b,"missing");if(i&&!(Array.isArray(i)?i:[i]).includes(o.iss))throw new mr('unexpected "iss" claim value',o,"iss","check_failed");if(u&&o.sub!==u)throw new mr('unexpected "sub" claim value',o,"sub","check_failed");if(d&&!Ak(o.aud,typeof d=="string"?[d]:d))throw new mr('unexpected "aud" claim value',o,"aud","check_failed");let p;switch(typeof s.clockTolerance){case"string":p=El(s.clockTolerance);break;case"number":p=s.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:x}=s,A=qs(x||new Date);if((o.iat!==void 0||h)&&typeof o.iat!="number")throw new mr('"iat" claim must be a number',o,"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new mr('"nbf" claim must be a number',o,"nbf","invalid");if(o.nbf>A+p)throw new mr('"nbf" claim timestamp check failed',o,"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new mr('"exp" claim must be a number',o,"exp","invalid");if(o.exp<=A-p)throw new vu('"exp" claim timestamp check failed',o,"exp","check_failed")}if(h){const b=A-o.iat,T=typeof h=="number"?h:El(h);if(b-p>T)throw new vu('"iat" claim timestamp check failed (too far in the past)',o,"iat","check_failed");if(b<0-p)throw new mr('"iat" claim timestamp check failed (it should be in the past)',o,"iat","check_failed")}return o};async function Ik(t,n,s){const o=await US(t,n,s);if(o.protectedHeader.crit?.includes("b64")&&o.protectedHeader.b64===!1)throw new vr("JWTs MUST NOT use unencoded payload");const c={payload:am(o.protectedHeader,o.payload,s),protectedHeader:o.protectedHeader};return typeof n=="function"?{...c,key:o.key}:c}async function Pk(t,n,s){const o=await NS(t,n,s),l=am(o.protectedHeader,o.plaintext,s),{protectedHeader:c}=o;if(c.iss!==void 0&&c.iss!==l.iss)throw new mr('replicated "iss" claim header parameter mismatch',l,"iss","mismatch");if(c.sub!==void 0&&c.sub!==l.sub)throw new mr('replicated "sub" claim header parameter mismatch',l,"sub","mismatch");if(c.aud!==void 0&&JSON.stringify(c.aud)!==JSON.stringify(l.aud))throw new mr('replicated "aud" claim header parameter mismatch',l,"aud","mismatch");const i={payload:l,protectedHeader:c};return typeof n=="function"?{...i,key:o.key}:i}class HS{constructor(n){this._flattened=new Cu(n)}setContentEncryptionKey(n){return this._flattened.setContentEncryptionKey(n),this}setInitializationVector(n){return this._flattened.setInitializationVector(n),this}setProtectedHeader(n){return this._flattened.setProtectedHeader(n),this}setKeyManagementParameters(n){return this._flattened.setKeyManagementParameters(n),this}async encrypt(n,s){const o=await this._flattened.encrypt(n,s);return[o.protected,o.encrypted_key,o.iv,o.ciphertext,o.tag].join(".")}}const Nk=async(t,n,s)=>{const o=await MS(t,n,"sign");Yu(t,o);const l=await Qe.subtle.sign(DS(t,o.algorithm),o,s);return new Uint8Array(l)};class lm{constructor(n){if(!(n instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=n}setProtectedHeader(n){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=n,this}setUnprotectedHeader(n){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=n,this}async sign(n,s){if(!this._protectedHeader&&!this._unprotectedHeader)throw new at("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Al(this._protectedHeader,this._unprotectedHeader))throw new at("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...this._protectedHeader,...this._unprotectedHeader},l=Pl(at,new Map([["b64",!0]]),s?.crit,this._protectedHeader,o);let c=!0;if(l.has("b64")&&(c=this._protectedHeader.b64,typeof c!="boolean"))throw new at('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:i}=o;if(typeof i!="string"||!i)throw new at('JWS "alg" (Algorithm) Header Parameter missing or invalid');xp(i,n,"sign");let u=this._payload;c&&(u=Nt.encode(Mt(u)));let d;this._protectedHeader?d=Nt.encode(Mt(JSON.stringify(this._protectedHeader))):d=Nt.encode("");const h=Un(d,Nt.encode("."),u),m=await Nk(i,n,h),p={signature:Mt(m),payload:""};return c&&(p.payload=Xr.decode(u)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Xr.decode(d)),p}}class $S{constructor(n){this._flattened=new lm(n)}setProtectedHeader(n){return this._flattened.setProtectedHeader(n),this}async sign(n,s){const o=await this._flattened.sign(n,s);if(o.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}}class Ok{constructor(n,s,o){this.parent=n,this.key=s,this.options=o}setProtectedHeader(n){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=n,this}setUnprotectedHeader(n){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=n,this}addSignature(...n){return this.parent.addSignature(...n)}sign(...n){return this.parent.sign(...n)}done(){return this.parent}}class jk{constructor(n){this._signatures=[],this._payload=n}addSignature(n,s){const o=new Ok(this,n,s);return this._signatures.push(o),o}async sign(){if(!this._signatures.length)throw new at("at least one signature must be added");const n={signatures:[],payload:""};for(let s=0;s<this._signatures.length;s++){const o=this._signatures[s],l=new lm(this._payload);l.setProtectedHeader(o.protectedHeader),l.setUnprotectedHeader(o.unprotectedHeader);const{payload:c,...i}=await l.sign(o.key,o.options);if(s===0)n.payload=c;else if(n.payload!==c)throw new at("inconsistent use of JWS Unencoded Payload (RFC7797)");n.signatures.push(i)}return n}}function xi(t,n){if(!Number.isFinite(n))throw new TypeError(`Invalid ${t} input`);return n}class cm{constructor(n={}){if(!Ot(n))throw new TypeError("JWT Claims Set MUST be an object");this._payload=n}setIssuer(n){return this._payload={...this._payload,iss:n},this}setSubject(n){return this._payload={...this._payload,sub:n},this}setAudience(n){return this._payload={...this._payload,aud:n},this}setJti(n){return this._payload={...this._payload,jti:n},this}setNotBefore(n){return typeof n=="number"?this._payload={...this._payload,nbf:xi("setNotBefore",n)}:n instanceof Date?this._payload={...this._payload,nbf:xi("setNotBefore",qs(n))}:this._payload={...this._payload,nbf:qs(new Date)+El(n)},this}setExpirationTime(n){return typeof n=="number"?this._payload={...this._payload,exp:xi("setExpirationTime",n)}:n instanceof Date?this._payload={...this._payload,exp:xi("setExpirationTime",qs(n))}:this._payload={...this._payload,exp:qs(new Date)+El(n)},this}setIssuedAt(n){return typeof n>"u"?this._payload={...this._payload,iat:qs(new Date)}:n instanceof Date?this._payload={...this._payload,iat:xi("setIssuedAt",qs(n))}:typeof n=="string"?this._payload={...this._payload,iat:xi("setIssuedAt",qs(new Date)+El(n))}:this._payload={...this._payload,iat:xi("setIssuedAt",n)},this}}class Lk extends cm{setProtectedHeader(n){return this._protectedHeader=n,this}async sign(n,s){const o=new $S(Nt.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new vr("JWTs MUST NOT use unencoded payload");return o.sign(n,s)}}class Dk extends cm{setProtectedHeader(n){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=n,this}setKeyManagementParameters(n){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=n,this}setContentEncryptionKey(n){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=n,this}setInitializationVector(n){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=n,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(n,s){const o=new HS(Nt.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),o.setProtectedHeader(this._protectedHeader),this._iv&&o.setInitializationVector(this._iv),this._cek&&o.setContentEncryptionKey(this._cek),this._keyManagementParameters&&o.setKeyManagementParameters(this._keyManagementParameters),o.encrypt(n,s)}}const Ls=(t,n)=>{if(typeof t!="string"||!t)throw new em(`${n} missing or invalid`)};async function zS(t,n){if(!Ot(t))throw new TypeError("JWK must be an object");if(n??(n="sha256"),n!=="sha256"&&n!=="sha384"&&n!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let s;switch(t.kty){case"EC":Ls(t.crv,'"crv" (Curve) Parameter'),Ls(t.x,'"x" (X Coordinate) Parameter'),Ls(t.y,'"y" (Y Coordinate) Parameter'),s={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":Ls(t.crv,'"crv" (Subtype of Key Pair) Parameter'),Ls(t.x,'"x" (Public Key) Parameter'),s={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":Ls(t.e,'"e" (Exponent) Parameter'),Ls(t.n,'"n" (Modulus) Parameter'),s={e:t.e,kty:t.kty,n:t.n};break;case"oct":Ls(t.k,'"k" (Key Value) Parameter'),s={k:t.k,kty:t.kty};break;default:throw new it('"kty" (Key Type) Parameter missing or unsupported')}const o=Nt.encode(JSON.stringify(s));return Mt(await oS(n,o))}async function Mk(t,n){n??(n="sha256");const s=await zS(t,n);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${n.slice(-3)}:${s}`}async function Uk(t,n){const s={...t,...n?.header};if(!Ot(s.jwk))throw new at('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const o=await Il({...s.jwk,ext:!0},s.alg);if(o instanceof Uint8Array||o.type!=="public")throw new at('"jwk" (JSON Web Key) Header Parameter must be a public key');return o}function qk(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new it('Unsupported "alg" value for a JSON Web Key Set')}}function Fk(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(Hk)}function Hk(t){return Ot(t)}function WS(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class $k{constructor(n){if(this._cached=new WeakMap,!Fk(n))throw new Bu("JSON Web Key Set malformed");this._jwks=WS(n)}async getKey(n,s){const{alg:o,kid:l}={...n,...s?.header},c=qk(o),i=this._jwks.keys.filter(h=>{let m=c===h.kty;if(m&&typeof l=="string"&&(m=l===h.kid),m&&typeof h.alg=="string"&&(m=o===h.alg),m&&typeof h.use=="string"&&(m=h.use==="sig"),m&&Array.isArray(h.key_ops)&&(m=h.key_ops.includes("verify")),m)switch(o){case"ES256":m=h.crv==="P-256";break;case"ES256K":m=h.crv==="secp256k1";break;case"ES384":m=h.crv==="P-384";break;case"ES512":m=h.crv==="P-521";break;case"Ed25519":m=h.crv==="Ed25519";break;case"EdDSA":m=h.crv==="Ed25519"||h.crv==="Ed448";break}return m}),{0:u,length:d}=i;if(d===0)throw new Ku;if(d!==1){const h=new tm,{_cached:m}=this;throw h[Symbol.asyncIterator]=async function*(){for(const p of i)try{yield await x0(m,p,o)}catch{}},h}return x0(this._cached,u,o)}}async function x0(t,n,s){const o=t.get(n)||t.set(n,{}).get(n);if(o[s]===void 0){const l=await Il({...n,ext:!0},s);if(l instanceof Uint8Array||l.type!=="public")throw new Bu("JSON Web Key Set members must be public keys");o[s]=l}return o[s]}function bp(t){const n=new $k(t),s=async(o,l)=>n.getKey(o,l);return Object.defineProperties(s,{jwks:{value:()=>WS(n._jwks),enumerable:!0,configurable:!1,writable:!1}}),s}const zk=async(t,n,s)=>{let o,l,c=!1;typeof AbortController=="function"&&(o=new AbortController,l=setTimeout(()=>{c=!0,o.abort()},n));const i=await fetch(t.href,{signal:o?o.signal:void 0,redirect:"manual",headers:s.headers}).catch(u=>{throw c?new rm:u});if(l!==void 0&&clearTimeout(l),i.status!==200)throw new Yt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch{throw new Yt("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function Wk(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let Tp;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(Tp="jose/v5.10.0");const Sl=Symbol();function Bk(t,n){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=n||!("jwks"in t)||!Ot(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,Ot))}class Kk{constructor(n,s){if(!(n instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(n.href),this._options={agent:s?.agent,headers:s?.headers},this._timeoutDuration=typeof s?.timeoutDuration=="number"?s?.timeoutDuration:5e3,this._cooldownDuration=typeof s?.cooldownDuration=="number"?s?.cooldownDuration:3e4,this._cacheMaxAge=typeof s?.cacheMaxAge=="number"?s?.cacheMaxAge:6e5,s?.[Sl]!==void 0&&(this._cache=s?.[Sl],Bk(s?.[Sl],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=bp(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(n,s){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(n,s)}catch(o){if(o instanceof Ku&&this.coolingDown()===!1)return await this.reload(),this._local(n,s);throw o}}async reload(){this._pendingFetch&&Wk()&&(this._pendingFetch=void 0);const n=new Headers(this._options.headers);Tp&&!n.has("User-Agent")&&(n.set("User-Agent",Tp),this._options.headers=Object.fromEntries(n.entries())),this._pendingFetch||(this._pendingFetch=zk(this._url,this._timeoutDuration,this._options).then(s=>{this._local=bp(s),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=s),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(s=>{throw this._pendingFetch=void 0,s})),await this._pendingFetch}}function Vk(t,n){const s=new Kk(t,n),o=async(l,c)=>s.getKey(l,c);return Object.defineProperties(o,{coolingDown:{get:()=>s.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>s.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>s.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!s._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>s._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),o}const Gk=Sl;class Jk extends cm{encode(){const n=Mt(JSON.stringify({alg:"none"})),s=Mt(JSON.stringify(this._payload));return`${n}.${s}.`}static decode(n,s){if(typeof n!="string")throw new vr("Unsecured JWT must be a string");const{0:o,1:l,2:c,length:i}=n.split(".");if(i!==3||c!=="")throw new vr("Invalid Unsecured JWT");let u;try{if(u=JSON.parse(Xr.decode(Pt(o))),u.alg!=="none")throw new Error}catch{throw new vr("Invalid Unsecured JWT")}return{payload:am(u,Pt(l),s),header:u}}}const Yk=Mt,um=Pt,Xk=Object.freeze(Object.defineProperty({__proto__:null,decode:um,encode:Yk},Symbol.toStringTag,{value:"Module"}));function Qk(t){let n;if(typeof t=="string"){const s=t.split(".");(s.length===3||s.length===5)&&([n]=s)}else if(typeof t=="object"&&t)if("protected"in t)n=t.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof n!="string"||!n)throw new Error;const s=JSON.parse(Xr.decode(um(n)));if(!Ot(s))throw new Error;return s}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function Zk(t){if(typeof t!="string")throw new vr("JWTs must use Compact JWS serialization, JWT must be a string");const{1:n,length:s}=t.split(".");if(s===5)throw new vr("Only JWTs using Compact JWS serialization can be decoded");if(s!==3)throw new vr("Invalid JWT");if(!n)throw new vr("JWTs must contain a payload");let o;try{o=um(n)}catch{throw new vr("Failed to base64url decode the payload")}let l;try{l=JSON.parse(Xr.decode(o))}catch{throw new vr("Failed to parse the decoded payload as JSON")}if(!Ot(l))throw new vr("Invalid JWT Claims Set");return l}async function eR(t,n){let s,o,l;switch(t){case"HS256":case"HS384":case"HS512":s=parseInt(t.slice(-3),10),o={name:"HMAC",hash:`SHA-${s}`,length:s},l=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s=parseInt(t.slice(-3),10),Gu(new Uint8Array(s>>3));case"A128KW":case"A192KW":case"A256KW":s=parseInt(t.slice(1,4),10),o={name:"AES-KW",length:s},l=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":s=parseInt(t.slice(1,4),10),o={name:"AES-GCM",length:s},l=["encrypt","decrypt"];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Qe.subtle.generateKey(o,n?.extractable??!1,l)}function op(t){const n=t?.modulusLength??2048;if(typeof n!="number"||n<2048)throw new it("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return n}async function tR(t,n){let s,o;switch(t){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:op(n)},o=["sign","verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:op(n)},o=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:op(n)},o=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},o=["sign","verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},o=["sign","verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},o=["sign","verify"];break;case"Ed25519":s={name:"Ed25519"},o=["sign","verify"];break;case"EdDSA":{o=["sign","verify"];const l=n?.crv??"Ed25519";switch(l){case"Ed25519":case"Ed448":s={name:l};break;default:throw new it("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{o=["deriveKey","deriveBits"];const l=n?.crv??"P-256";switch(l){case"P-256":case"P-384":case"P-521":{s={name:"ECDH",namedCurve:l};break}case"X25519":case"X448":s={name:l};break;default:throw new it("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Qe.subtle.generateKey(s,n?.extractable??!1,o)}async function rR(t,n){return tR(t,n)}async function nR(t,n){return eR(t,n)}const sR="WebCryptoAPI",iR=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:HS,CompactSign:$S,EmbeddedJWK:Uk,EncryptJWT:Dk,FlattenedEncrypt:Cu,FlattenedSign:lm,GeneralEncrypt:Ck,GeneralSign:jk,SignJWT:Lk,UnsecuredJWT:Jk,base64url:Xk,calculateJwkThumbprint:zS,calculateJwkThumbprintUri:Mk,compactDecrypt:NS,compactVerify:US,createLocalJWKSet:bp,createRemoteJWKSet:Vk,cryptoRuntime:sR,decodeJwt:Zk,decodeProtectedHeader:Qk,errors:L1,experimental_jwksCache:Gk,exportJWK:jS,exportPKCS8:Sk,exportSPKI:Ek,flattenedDecrypt:sm,flattenedVerify:im,generalDecrypt:vk,generalVerify:Tk,generateKeyPair:rR,generateSecret:nR,importJWK:Il,importPKCS8:uk,importSPKI:lk,importX509:ck,jwksCache:Sl,jwtDecrypt:Pk,jwtVerify:Ik},Symbol.toStringTag,{value:"Module"}));var C0;function BS(){if(C0)return nl;C0=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.TokenValidationService=void 0;const t=iR,n=Hs();class s{constructor(l){this.jwksCache=new Map,this.JWKS_CACHE_TTL_MS=3600*1e3,this.resultCache=new Map,this.RESULT_CACHE_TTL_MS=60*1e3,this.keycloakConfig=l}setKeycloakConfig(l){this.keycloakConfig=l}async validateTokenLocal(l,c){try{if(!c?.skipResultCache){const u=this.getCachedResult(l);if(u)return{...u,cached:!0}}const i=await this.performValidation(l,c);return!c?.skipResultCache&&this.shouldCacheResult(i)&&this.cacheResult(l,i),i}catch(i){const u=i instanceof Error?i.message:"Token validation failed";return{valid:!1,tokenType:c?.tokenType||"auto",error:u}}}clearCache(l){l?this.jwksCache.delete(l):this.jwksCache.clear()}clearResultCache(){this.resultCache.clear()}clearAllCaches(){this.jwksCache.clear(),this.resultCache.clear()}async performValidation(l,c){const u=(0,t.decodeJwt)(l).iss;return u?this.determineTokenType(u,c?.tokenType)==="keycloak"?this.validateKeycloakToken(l,c):this.validateDelegatedToken(l,u,c):{valid:!1,tokenType:"auto",error:"Token missing issuer (iss) claim"}}determineTokenType(l,c){if(c&&c!=="auto")return c;if(this.keycloakConfig){const u=`${this.keycloakConfig.authServerPublicUrl||this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;if(l===u)return"keycloak"}return"delegated"}async validateKeycloakToken(l,c){if(!this.keycloakConfig)return{valid:!1,tokenType:"keycloak",error:"Keycloak not configured"};const u=`${(0,n.resolveKeycloakUrl)(this.keycloakConfig)}/realms/${this.keycloakConfig.realm}/protocol/openid-connect/certs`,h=`${this.keycloakConfig.authServerPublicUrl||this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;try{const m=await this.getJWKS(u),p={issuer:h};this.keycloakConfig.verifyAudience&&this.keycloakConfig.clientId&&!c?.skipAudienceValidation&&(p.audience=this.keycloakConfig.clientId);const{payload:x}=await(0,t.jwtVerify)(l,m,p);return{valid:!0,tokenType:"keycloak",payload:this.mapPayload(x)}}catch(m){return{valid:!1,tokenType:"keycloak",error:m instanceof Error?m.message:"Keycloak token validation failed"}}}async validateDelegatedToken(l,c,i){let u=null;if(typeof i?.delegatedProvider=="function"?u=await i.delegatedProvider(c):i?.delegatedProvider&&(u=i.delegatedProvider),!u)return{valid:!1,tokenType:"delegated",error:`No delegated provider configured for issuer: ${c}`};try{const d=await this.getJWKS(u.jwksUri),h={issuer:u.issuer};!i?.skipAudienceValidation&&u.audience&&(h.audience=u.audience);const{payload:m}=await(0,t.jwtVerify)(l,d,h);return{valid:!0,tokenType:"delegated",providerKey:u.key,payload:this.mapPayload(m)}}catch(d){return{valid:!1,tokenType:"delegated",providerKey:u.key,error:d instanceof Error?d.message:"Delegated token validation failed"}}}mapPayload(l){return{...l,sub:l.sub,iss:l.iss,email:l.email,preferredUsername:l.preferred_username,name:l.name,realmAccess:l.realm_access,resourceAccess:l.resource_access}}async getJWKS(l){const c=this.jwksCache.get(l);if(c&&c.expiresAt>Date.now())return c.keySet;const i=(0,t.createRemoteJWKSet)(new URL(l));return this.jwksCache.set(l,{keySet:i,expiresAt:Date.now()+this.JWKS_CACHE_TTL_MS}),i}getTokenHash(l){return l.length<=32?l:`${l.slice(0,16)}...${l.slice(-16)}`}getCachedResult(l){const c=this.getTokenHash(l),i=this.resultCache.get(c);return i&&i.expiresAt>Date.now()?i.result:(i&&this.resultCache.delete(c),null)}cacheResult(l,c){const i=this.getTokenHash(l);this.resultCache.set(i,{result:c,expiresAt:Date.now()+this.RESULT_CACHE_TTL_MS})}shouldCacheResult(l){return!!(l.valid||l.error?.includes("expired")||l.error?.includes('"exp"')||l.error?.includes("signature")||l.error?.includes("invalid"))}}return nl.TokenValidationService=s,nl}var sl={},il={},b0;function KS(){if(b0)return il;b0=1,Object.defineProperty(il,"__esModule",{value:!0}),il.EncryptionError=void 0;const t=Li();class n extends t.MisoClientError{constructor(o,l,c){super(o),this.name="EncryptionError",this.code=l,this.parameterName=c,Error.captureStackTrace&&Error.captureStackTrace(this,n)}}return il.EncryptionError=n,il}var T0;function VS(){if(T0)return sl;T0=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.EncryptionService=void 0;const t=KS();class n{constructor(o,l){this.apiClient=o,this.encryptionKey=l}async encrypt(o,l){this.validateEncryptionKey(),this.validateParameterName(l);const c=await this.apiClient.encryption.encrypt({plaintext:o,parameterName:l,encryptionKey:this.encryptionKey});return{value:c.value,storage:c.storage}}async decrypt(o,l){return this.validateEncryptionKey(),this.validateParameterName(l),(await this.apiClient.encryption.decrypt({value:o,parameterName:l,encryptionKey:this.encryptionKey})).plaintext}validateEncryptionKey(){if(!this.encryptionKey)throw new t.EncryptionError("Encryption key is required. Set ENCRYPTION_KEY environment variable or provide encryptionKey in config.","ENCRYPTION_KEY_REQUIRED")}validateParameterName(o){if(!n.PARAMETER_NAME_REGEX.test(o))throw new t.EncryptionError("Invalid parameter name. Must be 1-128 characters, alphanumeric with dots, underscores, hyphens only.","INVALID_PARAMETER_NAME",o)}}return sl.EncryptionService=n,n.PARAMETER_NAME_REGEX=/^[a-zA-Z0-9._-]{1,128}$/,sl}var _0;function GS(){if(_0)return _a;_0=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.MisoClient=void 0;const t=QE(),n=ZE(),s=eS(),o=mu(),l=Kp(),c=Vp(),i=Xp(),u=Yp(),d=iS(),h=zs(),m=zu(),p=sS(),x=Wu(),A=BS(),b=VS();class T{constructor(w){this.initialized=!1,this.config=w,w.sensitiveFieldsConfig&&h.DataMasker.setConfigPath(w.sensitiveFieldsConfig);const v=new u.InternalHttpClient(w);this.redis=new l.RedisService(w.redis),this.logger=new o.LoggerService(v,this.redis),this.httpClient=new i.HttpClient(w,this.logger),this.logger.httpClient=this.httpClient,this.apiClient=new d.ApiClient(this.httpClient),this.logger.setApiClient(this.apiClient),(0,m.registerLoggerService)(this.logger),this.cacheService=new c.CacheService(this.redis),this.auth=new t.AuthService(this.httpClient,this.apiClient,this.cacheService),this.roles=new n.RoleService(this.httpClient,this.apiClient,this.cacheService),this.permissions=new s.PermissionService(this.httpClient,this.apiClient,this.cacheService),this.tokenValidation=new A.TokenValidationService(w.keycloak),this.encryptionService=new b.EncryptionService(this.apiClient,this.config.encryptionKey)}async initialize(){if(!this.initialized)try{await this.redis.connect(),this.initialized=!0}catch{this.initialized=!0}}async disconnect(){await this.redis.disconnect(),this.initialized=!1}isInitialized(){return this.initialized}getToken(w){const v=w.headers.authorization;return v?v.startsWith("Bearer ")?v.substring(7):v:null}validateOrigin(w,v){return(0,x.validateOrigin)(w,v??this.config.allowedOrigins)}async getEnvironmentToken(){return this.auth.getEnvironmentToken()}async login(w){return this.auth.login(w)}async validateToken(w,v){return this.auth.validateToken(w,v)}async getUser(w,v){return this.auth.getUser(w,v)}async getUserInfo(w,v){return this.auth.getUserInfo(w,v)}async isAuthenticated(w,v){return this.auth.isAuthenticated(w,v)}async logout(w){return this.auth.logout(w)}async refreshToken(w,v){return this.auth.refreshToken(w,v)}async validateTokenLocal(w,v){return this.tokenValidation.validateTokenLocal(w,v)}setKeycloakConfig(w){this.tokenValidation.setKeycloakConfig(w)}clearJwksCache(w){this.tokenValidation.clearCache(w)}clearValidationCache(){this.tokenValidation.clearResultCache()}clearAllTokenCaches(){this.tokenValidation.clearAllCaches()}async getRoles(w,v){return this.roles.getRoles(w,v)}async hasRole(w,v,S){return this.roles.hasRole(w,v,S)}async hasAnyRole(w,v,S){return this.roles.hasAnyRole(w,v,S)}async hasAllRoles(w,v,S){return this.roles.hasAllRoles(w,v,S)}async refreshRoles(w,v){return this.roles.refreshRoles(w,v)}async getPermissions(w,v){return this.permissions.getPermissions(w,v)}async hasPermission(w,v,S){return this.permissions.hasPermission(w,v,S)}async hasAnyPermission(w,v,S){return this.permissions.hasAnyPermission(w,v,S)}async hasAllPermissions(w,v,S){return this.permissions.hasAllPermissions(w,v,S)}async refreshPermissions(w,v){return this.permissions.refreshPermissions(w,v)}async clearPermissionsCache(w,v){return this.permissions.clearPermissionsCache(w,v)}get log(){return this.logger}get encryption(){return this.encryptionService}get cache(){return this.cacheService}async updateMyApplicationStatus(w,v){const S=v?.envKey??this.logger.getApplicationContextService().getApplicationContext().environment;if(!S)throw new Error("updateMyApplicationStatus requires envKey or application context (client token/clientId with environment). Neither was available.");return this.apiClient.applications.updateSelfStatus(S,w,v?.authStrategy)}async getApplicationStatus(w,v,S){return this.apiClient.applications.getApplicationStatus(w,v,S)}async getMyApplicationStatus(w,v){const S=this.logger.getApplicationContextService().getApplicationContext(),_=w?.envKey??S.environment,L=w?.appKey??S.application;if(!_||!L)throw new Error("getMyApplicationStatus requires envKey and appKey or application context (client token/clientId). Neither was fully available.");return this.apiClient.applications.getApplicationStatus(_,L,v)}getConfig(){return{...this.config}}isRedisConnected(){return this.redis.isConnected()}async requestWithAuthStrategy(w,v,S,_,L){return this.httpClient.requestWithAuthStrategy(w,v,S,_,L)}createAuthStrategy(w,v,S){return{methods:w,bearerToken:v,apiKey:S}}getDefaultAuthStrategy(w){return p.AuthStrategyHandler.getDefaultStrategy(w)}}return _a.MisoClient=T,_a}var Ci={},ol={},k0;function JS(){if(k0)return ol;k0=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.FilterBuilder=void 0;class t{constructor(){this.filters=[]}add(s,o,l){return this.filters.push({field:s,op:o,value:l}),this}addMany(s){return this.filters.push(...s),this}build(){return[...this.filters]}toQueryString(){if(this.filters.length===0)return"";const s={};this.filters.forEach(c=>{s[c.field]||(s[c.field]={}),s[c.field][c.op]=c.value===null?null:c.value});const o=JSON.stringify(s),l=new URLSearchParams;return l.append("filter",o),l.toString()}}return ol.FilterBuilder=t,ol}var bi={},R0;function YS(){return R0||(R0=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.DefaultOperatorsByType=bi.FilterErrorCode=void 0,bi.FilterErrorCode={UNKNOWN_FIELD:"UNKNOWN_FIELD",INVALID_OPERATOR:"INVALID_OPERATOR",INVALID_TYPE:"INVALID_TYPE",INVALID_UUID:"INVALID_UUID",INVALID_DATE:"INVALID_DATE",INVALID_ENUM:"INVALID_ENUM",INVALID_IN:"INVALID_IN",INVALID_FORMAT:"INVALID_FORMAT"},bi.DefaultOperatorsByType={string:["eq","neq","in","nin","contains","like","ilike"],number:["eq","neq","gt","gte","lt","lte","in","nin"],boolean:["eq"],uuid:["eq","in"],timestamp:["eq","gt","gte","lt","lte"],enum:["eq","in"]}),bi}var al={},A0;function XS(){if(A0)return al;A0=1,Object.defineProperty(al,"__esModule",{value:!0}),al.BrowserPermissionService=void 0;const t=Fu(),n=kl(),s=Tt(),o=dt();class l{constructor(i,u,d){this.cache=d,this.httpClient=i,this.apiClient=u,this.permissionTTL=this.httpClient.config.cache?.permissionTTL||900,this.applicationContextService=new n.ApplicationContextService(i)}logPermissionError(i,u,d,h,m){const p=(0,s.extractErrorInfo)(i,{endpoint:m,method:h,correlationId:i?.correlationId});p.message=`Failed to ${d}: ${p.message}`,(0,o.logErrorWithContext)(p,"[BrowserPermissionService]")}extractUserIdFromToken(i){try{const u=(0,t.decodeJWT)(i);return u?u.sub||u.userId||u.user_id||u.id:null}catch{return null}}buildAuthStrategyWithToken(i,u){const d=u||this.httpClient.config.authStrategy;return d?{...d,bearerToken:i}:{methods:["bearer"],bearerToken:i}}async resolveUserId(i,u){return(await this.apiClient.auth.validateToken({token:i},this.buildAuthStrategyWithToken(i,u))).data?.user?.id||null}getPermissionsQueryParams(){const i=this.applicationContextService.getApplicationContext();return i.environment?{environment:i.environment}:void 0}async getPermissions(i,u){try{let d=this.extractUserIdFromToken(i);const h=d?`permissions:${d}`:null;if(h){const b=await this.cache.get(h);if(b)return b.permissions||[]}if(!d&&(d=await this.resolveUserId(i,u),!d))return[];const m=this.buildAuthStrategyWithToken(i,u),p=this.getPermissionsQueryParams(),A=(await this.apiClient.permissions.getPermissions(p,m)).data?.permissions||[];return await this.cache.set(`permissions:${d}`,{permissions:A,timestamp:Date.now()},this.permissionTTL),A}catch(d){return this.logPermissionError(d,i,"getPermissions","GET","/api/auth/permissions"),[]}}async hasPermission(i,u,d){return(await this.getPermissions(i,d)).includes(u)}async hasAnyPermission(i,u,d){const h=await this.getPermissions(i,d);return u.some(m=>h.includes(m))}async hasAllPermissions(i,u,d){const h=await this.getPermissions(i,d);return u.every(m=>h.includes(m))}async refreshPermissions(i,u){try{const d=u||this.httpClient.config.authStrategy,h=d?{...d,bearerToken:i}:{methods:["bearer"],bearerToken:i},m=await this.apiClient.auth.validateToken({token:i},h);if(!m.data?.user?.id)return[];const x=`permissions:${m.data.user.id}`,A=this.applicationContextService.getApplicationContext(),b=A.environment?{environment:A.environment}:void 0,C=(await this.apiClient.permissions.refreshPermissions(b,h)).data?.permissions||[];return await this.cache.set(x,{permissions:C,timestamp:Date.now()},this.permissionTTL),C}catch(d){return this.logPermissionError(d,i,"refreshPermissions","POST","/api/auth/permissions/refresh"),[]}}async clearPermissionsCache(i,u){try{const d=await this.resolveUserId(i,u);if(!d)return;await this.cache.delete(`permissions:${d}`)}catch(d){this.logPermissionError(d,i,"clearPermissionsCache","DELETE","/cache/permissions")}}}return al.BrowserPermissionService=l,al}var ll={},I0;function QS(){if(I0)return ll;I0=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.BrowserRoleService=void 0;const t=Fu(),n=kl();class s{constructor(l,c,i){this.cache=i,this.httpClient=l,this.apiClient=c,this.roleTTL=this.httpClient.config.cache?.roleTTL||900,this.applicationContextService=new n.ApplicationContextService(l)}extractUserIdFromToken(l){try{const c=(0,t.decodeJWT)(l);return c?c.sub||c.userId||c.user_id||c.id:null}catch{return null}}buildAuthStrategyWithToken(l,c){const i=c||this.httpClient.config.authStrategy;return i?{...i,bearerToken:l}:{methods:["bearer"],bearerToken:l}}async resolveUserId(l,c){return(await this.apiClient.auth.validateToken({token:l},this.buildAuthStrategyWithToken(l,c))).data?.user?.id||null}getRolesQueryParams(){const l=this.applicationContextService.getApplicationContext();return l.environment?{environment:l.environment}:void 0}async getRoles(l,c){try{let i=this.extractUserIdFromToken(l);const u=i?`roles:${i}`:null;if(u){const x=await this.cache.get(u);if(x)return x.roles||[]}if(!i&&(i=await this.resolveUserId(l,c),!i))return[];const d=this.buildAuthStrategyWithToken(l,c),h=this.getRolesQueryParams(),p=(await this.apiClient.roles.getRoles(h,d)).data?.roles||[];return await this.cache.set(`roles:${i}`,{roles:p,timestamp:Date.now()},this.roleTTL),p}catch(i){return this.logRoleError(i,l,"getRoles","GET","/api/auth/roles"),[]}}async hasRole(l,c,i){return(await this.getRoles(l,i)).includes(c)}async hasAnyRole(l,c,i){const u=await this.getRoles(l,i);return c.some(d=>u.includes(d))}async hasAllRoles(l,c,i){const u=await this.getRoles(l,i);return c.every(d=>u.includes(d))}async refreshRoles(l,c){try{const i=await this.resolveUserId(l,c);if(!i)return[];const u=this.buildAuthStrategyWithToken(l,c),d=this.getRolesQueryParams(),m=(await this.apiClient.roles.refreshRoles(d,u)).data?.roles||[];return await this.cache.set(`roles:${i}`,{roles:m,timestamp:Date.now()},this.roleTTL),m}catch(i){return this.logRoleError(i,l,"refreshRoles","POST","/api/auth/roles/refresh"),[]}}async clearRolesCache(l,c){try{const i=await this.resolveUserId(l,c);if(!i)return;await this.cache.delete(`roles:${i}`)}catch(i){this.logRoleError(i,l,"clearRolesCache","DELETE","/cache/roles")}}}return ll.BrowserRoleService=s,ll}var Zc={},P0;function oR(){if(P0)return Zc;P0=1;var t={};Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.loadConfig=u;function n(){const d=t.REDIS_HOST;if(!d)return;const h={host:d,port:parseInt(t.REDIS_PORT||"6379",10),password:t.REDIS_PASSWORD};return t.REDIS_DB&&(h.db=parseInt(t.REDIS_DB,10)),t.REDIS_KEY_PREFIX&&(h.keyPrefix=t.REDIS_KEY_PREFIX),h}function s(){if(!t.MISO_AUTH_STRATEGY)return;const h=t.MISO_AUTH_STRATEGY.split(",").map(p=>p.trim()).filter(p=>["bearer","client-token","client-credentials","api-key"].includes(p));if(h.length===0)return;const m={methods:h};return t.MISO_BEARER_TOKEN&&(m.bearerToken=t.MISO_BEARER_TOKEN),(t.MISO_API_KEY||t.API_KEY)&&(m.apiKey=t.MISO_API_KEY||t.API_KEY),m}function o(){if(!(!t.KEYCLOAK_SERVER_URL&&!t.KEYCLOAK_PUBLIC_SERVER_URL))return{authServerUrl:t.KEYCLOAK_PUBLIC_SERVER_URL||t.KEYCLOAK_SERVER_URL||"",authServerPrivateUrl:t.KEYCLOAK_SERVER_URL,authServerPublicUrl:t.KEYCLOAK_PUBLIC_SERVER_URL,realm:t.KEYCLOAK_REALM||"",clientId:t.KEYCLOAK_CLIENT_ID,verifyAudience:t.KEYCLOAK_VERIFY_AUDIENCE==="true"}}function l(){if(!t.MISO_ALLOWED_ORIGINS)return;const d=t.MISO_ALLOWED_ORIGINS.split(",").map(h=>h.trim()).filter(h=>h.length>0);return d.length>0?d:void 0}function c(){const d={controllerUrl:t.MISO_CONTROLLER_URL||"https://controller.aifabrix.ai",clientId:t.MISO_CLIENTID||t.MISO_CLIENT_ID||"",clientSecret:t.MISO_CLIENTSECRET||t.MISO_CLIENT_SECRET||"",logLevel:t.MISO_LOG_LEVEL||"debug"};return t.MISO_WEB_SERVER_URL&&(d.controllerPublicUrl=t.MISO_WEB_SERVER_URL),t.MISO_CONTROLLER_URL&&(d.controllerPrivateUrl=t.MISO_CONTROLLER_URL,d.controllerUrl=t.MISO_CONTROLLER_URL),d}function i(d){const h=n();h&&(d.redis=h),t.API_KEY&&(d.apiKey=t.API_KEY),t.MISO_SENSITIVE_FIELDS_CONFIG&&(d.sensitiveFieldsConfig=t.MISO_SENSITIVE_FIELDS_CONFIG),t.MISO_EMIT_EVENTS&&(d.emitEvents=t.MISO_EMIT_EVENTS.toLowerCase()==="true");const m=s();m&&(d.authStrategy=m),t.MISO_CLIENT_TOKEN_URI&&(d.clientTokenUri=t.MISO_CLIENT_TOKEN_URI);const p=l();p&&(d.allowedOrigins=p),d.validateResponses=t.MISO_VALIDATE_RESPONSES!==void 0?t.MISO_VALIDATE_RESPONSES.toLowerCase()==="true":!1;const x=o();x&&(d.keycloak=x),t.ENCRYPTION_KEY&&(d.encryptionKey=t.ENCRYPTION_KEY)}function u(){const d=c();if(!d.clientId)throw new Error("MISO_CLIENTID environment variable is required");if(!d.clientSecret)throw new Error("MISO_CLIENTSECRET environment variable is required");return i(d),d}return Zc}var eu={},N0;function dm(){if(N0)return eu;N0=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.getEnvironmentToken=o;const t=Wu(),n=zs(),s=Hs();async function o(l,c){const i=l.getConfig(),u=i.allowedOrigins,d=(0,t.validateOrigin)(c,u);if(!d.valid){const h=`Origin validation failed: ${d.error}`,m=c.headers.origin||c.headers.referer||"unknown";throw await l.log.forRequest(c).addContext("origin",m).addContext("allowedOrigins",u||[]).addContext("reason","origin_validation_failed").error(h),await l.log.forRequest(c).addContext("reason","origin_validation_failed").addContext("origin",m).addContext("allowedOrigins",u||[]).audit("client.token.request.rejected","environment-token"),new Error(h)}try{(0,s.resolveControllerUrl)(i);const h=await l.getEnvironmentToken(),m=n.DataMasker.maskSensitiveData({clientId:i.clientId}),p=i.clientSecret?n.DataMasker.maskSensitiveData({clientSecret:i.clientSecret}):{clientSecret:void 0};return await l.log.forRequest(c).addContext("clientId",m.clientId).addContext("clientSecret",p.clientSecret).addContext("origin",c.headers.origin||c.headers.referer||"unknown").audit("client.token.request.success","environment-token"),h}catch(h){const m=h instanceof Error?h.message:"Unknown error",p=n.DataMasker.maskSensitiveData({clientId:i.clientId});throw await l.log.forRequest(c).addContext("clientId",p.clientId).addContext("origin",c.headers.origin||c.headers.referer||"unknown").addContext("reason","token_fetch_failed").error(`Failed to get environment token: ${m}`,h instanceof Error?h.stack:void 0),await l.log.forRequest(c).addContext("reason","token_fetch_failed").addContext("error",m).addContext("clientId",p.clientId).addContext("origin",c.headers.origin||c.headers.referer||"unknown").audit("client.token.request.failed","environment-token"),h}}return eu}var tu={},O0;function aR(){if(O0)return tu;O0=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.extractLoggingContext=t;function t(n){const s={};return n.source&&(s.sourceKey=n.source.key,n.source.displayName!==void 0&&(s.sourceDisplayName=n.source.displayName),n.source.externalSystem&&(s.externalSystemKey=n.source.externalSystem.key,n.source.externalSystem.displayName!==void 0&&(s.externalSystemDisplayName=n.source.externalSystem.displayName))),n.externalSystem&&(s.externalSystemKey=n.externalSystem.key,n.externalSystem.displayName!==void 0&&(s.externalSystemDisplayName=n.externalSystem.displayName)),n.record&&(s.recordKey=n.record.key,n.record.displayName!==void 0&&(s.recordDisplayName=n.record.displayName)),s}return tu}var Ti={},j0;function ZS(){if(j0)return Ti;j0=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.parsePaginationParams=t,Ti.createMetaObject=n,Ti.applyPaginationToArray=s,Ti.createPaginatedListResponse=o;function t(l){const c=parseInt(String(l.page??"1"),10),i=parseInt(String(l.page_size??"20"),10);return{currentPage:c,pageSize:i}}function n(l,c,i,u){return{totalItems:l,currentPage:c,pageSize:i,type:u}}function s(l,c,i){const u=(c-1)*i;return l.slice(u,u+i)}function o(l,c,i,u,d){return{meta:n(c,i,u,d),data:l}}return Ti}var ap={},_o={},L0;function lR(){if(L0)return _o;L0=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.normalizeOperator=t,_o.isColonFormat=n,_o.parseColonFilter=l;function t(c){return{equals:"eq",notEquals:"neq",">":"gt","<":"lt",">=":"gte","<=":"lte",equal:"eq",notEqual:"neq",greaterThan:"gt",lessThan:"lt",greaterThanOrEqual:"gte",lessThanOrEqual:"lte"}[c.toLowerCase()]||c}function n(c){if(!c||!c.includes(":"))return!1;const i=c.trim();return!i.startsWith("{")&&!i.startsWith("[")}function s(c){const i=c.indexOf(":");if(i===-1)throw new Error(`Invalid colon filter format: missing operator. Got: "${c}". Expected: "field:op:value"`);const u=c.substring(0,i);if(!u)throw new Error(`Invalid colon filter format: missing field name. Got: "${c}". Expected: "field:op:value"`);const d=c.substring(i+1),h=d.indexOf(":"),m=h===-1?d:d.substring(0,h),p=h===-1?"":d.substring(h+1);if(!m)throw new Error(`Invalid colon filter format: missing operator. Got: "${c}". Expected: "field:op:value"`);return{field:u,opStr:m,valueStr:p}}function o(c,i,u){if(c==="isNull"||c==="isNotNull")return null;if(c==="in"||c==="nin")return i?i.split(",").map(h=>{const m=h.trim(),p=Number(m);return!isNaN(p)&&m!==""?p:m}):[];if(i==="")throw new Error(`Invalid colon filter format: missing value for operator '${c}'. Got: "${u}". Expected: "field:${c}:value"`);if(i==="true")return!0;if(i==="false")return!1;if(i==="null")return null;const d=Number(i);return!isNaN(d)&&i!==""?d:i}function l(c){const{field:i,opStr:u,valueStr:d}=s(c),h=t(u),m=o(h,d,c);return{field:i,op:h,value:m}}return _o}var D0;function cR(){return D0||(D0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBuilder=void 0,t.parseFilterParams=c,t.buildQueryString=p,t.applyFilters=b,t.validateJsonFilter=T,t.filterQueryToJson=C,t.jsonToFilterQuery=w;const n=JS();Object.defineProperty(t,"FilterBuilder",{enumerable:!0,get:function(){return n.FilterBuilder}});const s=lR();function o(v,S){if((v==="in"||v==="nin")&&!Array.isArray(S))throw new Error(`Operator '${v}' requires array value, got ${typeof S}. Example: {"field": {"${v}": ["value1", "value2"]}}`);if((v==="isNull"||v==="isNotNull")&&S!==null)throw new Error(`Operator '${v}' requires null value, got ${typeof S}. Example: {"field": {"${v}": null}}`)}function l(v){const S=[];for(const[_,L]of Object.entries(v)){if(!_||typeof _!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof _}`);if(typeof L!="object"||L===null||Array.isArray(L))throw new Error(`Field '${_}' must have operator dictionary, got ${typeof L}. Expected format: {"${_}": {"op": value}}`);const O=L;for(const[N,R]of Object.entries(O)){const M=(0,s.normalizeOperator)(N);o(M,R);let U;M==="isNull"||M==="isNotNull"?U=null:(Array.isArray(R),U=R),S.push({field:_,op:M,value:U})}}return S}function c(v){const S=v.filter;if(!S)return[];try{if(typeof S=="object"&&!Array.isArray(S)&&S!==null)return l(S);if(typeof S=="string")return i(S);if(Array.isArray(S))return u(S);throw new Error(`Invalid filter format. Expected object, string, or array, got ${typeof S}.`)}catch(_){throw _ instanceof Error?new Error(`Invalid filter format. ${_.message}`):new Error(`Invalid filter format. Got: ${typeof S}`)}}function i(v){if((0,s.isColonFormat)(v))return[(0,s.parseColonFilter)(v)];const S=h(v);if(S!==null)return m(S);if(v.includes(":"))return[(0,s.parseColonFilter)(v)];throw new Error(`Could not parse filter string: "${v}"`)}function u(v){const S=[];for(const _ of v)S.push(...d(_));return S}function d(v){if(typeof v=="string")return i(v);if(typeof v=="object"&&v!==null)return l(v);throw new Error(`Invalid filter item: ${typeof v}`)}function h(v){try{return JSON.parse(decodeURIComponent(v))}catch{try{return JSON.parse(v)}catch{return null}}}function m(v){if(Array.isArray(v)){const S=[];for(const _ of v)typeof _=="object"&&_!==null&&S.push(...l(_));return S}if(typeof v=="object"&&v!==null)return l(v);throw new Error("Invalid JSON filter format")}function p(v){const S=new URLSearchParams;if(v.filters&&v.filters.length>0){const _={};for(const O of v.filters)_[O.field]||(_[O.field]={}),_[O.field][O.op]=O.value===null?null:O.value;const L=JSON.stringify(_);S.append("filter",L)}return v.sort?.forEach(_=>S.append("sort",_)),v.page&&S.append("page",v.page.toString()),v.pageSize&&S.append("page_size",v.pageSize.toString()),v.fields&&v.fields.length>0&&S.append("fields",v.fields.join(",")),S.toString()}function x(v,S){const _=v[S.field],L=S.value;return S.op==="isNull"?_==null:S.op==="isNotNull"?_!=null:Array.isArray(L)?S.op==="in"?L.includes(_):!L.includes(_):A(_,S.op,L)}function A(v,S,_){switch(S){case"eq":return v===_;case"neq":return v!==_;case"gt":return v>_;case"lt":return v<_;case"gte":return v>=_;case"lte":return v<=_;case"contains":return String(v).includes(String(_));case"like":case"ilike":return new RegExp(String(_),"i").test(String(v));default:return!0}}function b(v,S){return v.filter(_=>S.every(L=>x(_,L)))}function T(v){if(typeof v!="object"||v===null||Array.isArray(v))throw new Error(`Invalid filter format. Expected object, got ${typeof v}. Example: {"field": {"op": value}}`);const S=v;for(const[_,L]of Object.entries(S)){if(!_||typeof _!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof _}`);if(typeof L!="object"||L===null||Array.isArray(L))throw new Error(`Field '${_}' must have operator dictionary, got ${typeof L}. Expected format: {"${_}": {"op": value}}`);const O=L;for(const[N,R]of Object.entries(O)){const M=(0,s.normalizeOperator)(N);o(M,R)}}}function C(v){const S={};if(v.filters)for(const _ of v.filters)S[_.field]||(S[_.field]={}),S[_.field][_.op]=_.value;return S}function w(v){return{filters:l(v)}}})(ap)),ap}var lp={},ru={},M0;function uR(){if(M0)return ru;M0=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.loadFilterSchema=o;function t(l){if(typeof l!="object"||l===null)throw new Error("Invalid filter schema: expected object");const c=l;if(typeof c.resource!="string")throw new Error("Invalid filter schema: missing 'resource' field");if(typeof c.fields!="object"||c.fields===null)throw new Error("Invalid filter schema: missing 'fields' object");return{resource:c.resource,version:typeof c.version=="string"?c.version:void 0,fields:c.fields}}function n(l,c){if(typeof c!="object"||c===null)throw new Error(`Invalid filter schema: field '${l}' must be an object`);const i=c;if(typeof i.column!="string")throw new Error(`Invalid filter schema: field '${l}' missing 'column'`);if(typeof i.type!="string")throw new Error(`Invalid filter schema: field '${l}' missing 'type'`);if(!Array.isArray(i.operators))throw new Error(`Invalid filter schema: field '${l}' missing 'operators' array`);return{column:i.column,type:i.type,operators:i.operators,enumValues:Array.isArray(i.enumValues)?i.enumValues:void 0,nullable:typeof i.nullable=="boolean"?i.nullable:void 0,description:typeof i.description=="string"?i.description:void 0}}function s(l){const c={};for(const[i,u]of Object.entries(l))c[i]=n(i,u);return c}function o(l){const c=t(l),i=s(c.fields);return{resource:c.resource,version:c.version,fields:i}}return ru}var U0;function dR(){return U0||(U0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFilterSchema=void 0,t.createFilterError=s,t.coerceValue=d,t.validateFilter=h,t.validateFilters=w,t.compileFilter=S,t.createFilterSchema=O;const n=YS();function s(R,M,U){return{code:R,message:M,...U}}function o(R){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R)}function l(R){const M=new Date(R);return!isNaN(M.getTime())}function c(R){if(Array.isArray(R))return R.map(U=>{const Z=Number(U);if(isNaN(Z))throw new Error(`Cannot coerce "${U}" to number`);return Z});const M=Number(R);if(isNaN(M))throw new Error(`Cannot coerce "${R}" to number`);return M}function i(R){if(typeof R=="boolean")return R;if(R==="true"||R==="1")return!0;if(R==="false"||R==="0")return!1;throw new Error(`Cannot coerce "${R}" to boolean`)}function u(R){if(typeof R!="string")return R;const M=new Date(R);if(isNaN(M.getTime()))throw new Error(`Cannot coerce "${R}" to timestamp`);return M.toISOString()}function d(R,M){if(R===null)return null;const Z={number:c,boolean:i,timestamp:u}[M.type];return Z?Z(R):R}function h(R,M){const U=M.fields[R.field];if(!U)return s(n.FilterErrorCode.UNKNOWN_FIELD,`Field '${R.field}' is not allowed for filtering on '${M.resource}'`,{field:R.field});if(!U.operators.includes(R.op))return s(n.FilterErrorCode.INVALID_OPERATOR,`Operator '${R.op}' is not allowed for field '${R.field}'`,{field:R.field,operator:R.op,allowedOperators:U.operators});if(R.op==="isNull"||R.op==="isNotNull")return null;const Z=m(R.value,U,R.field,R.op);return Z||null}function m(R,M,U,Z){if(R===null)return null;if(Z==="in"||Z==="nin"){if(!Array.isArray(R))return s(n.FilterErrorCode.INVALID_IN,`Operator '${Z}' requires an array value for field '${U}'`,{field:U,operator:Z,value:R});if(R.length===0)return s(n.FilterErrorCode.INVALID_IN,`Operator '${Z}' requires a non-empty array for field '${U}'`,{field:U,operator:Z,value:R});for(const ae of R){const G=C(ae,M,U);if(G)return G}return null}return C(R,M,U)}function p(R,M){return typeof R!="string"||!o(R)?s(n.FilterErrorCode.INVALID_UUID,`Invalid UUID value for field '${M}': ${R}`,{field:M,value:R}):null}function x(R,M){return typeof R!="string"||!l(R)?s(n.FilterErrorCode.INVALID_DATE,`Invalid timestamp value for field '${M}': ${R}`,{field:M,value:R}):null}function A(R,M){return typeof R!="number"&&isNaN(Number(R))?s(n.FilterErrorCode.INVALID_TYPE,`Expected number for field '${M}', got ${typeof R}`,{field:M,value:R}):null}function b(R,M){return typeof R!="boolean"&&R!=="true"&&R!=="false"?s(n.FilterErrorCode.INVALID_TYPE,`Expected boolean for field '${M}', got ${typeof R}`,{field:M,value:R}):null}function T(R,M,U){return M.enumValues&&!M.enumValues.includes(String(R))?s(n.FilterErrorCode.INVALID_ENUM,`Invalid value '${R}' for field '${U}'. Allowed: ${M.enumValues.join(", ")}`,{field:U,value:R,allowedValues:M.enumValues}):null}function C(R,M,U){switch(M.type){case"uuid":return p(R,U);case"timestamp":return x(R,U);case"number":return A(R,U);case"boolean":return b(R,U);case"enum":return T(R,M,U);default:return null}}function w(R,M){const U=[];for(const Z of R){const ae=h(Z,M);ae&&U.push(ae)}return{valid:U.length===0,errors:U}}function v(R,M,U){switch(R){case"eq":return{sql:`${M} = $${U}`,hasParam:!0};case"neq":return{sql:`${M} != $${U}`,hasParam:!0};case"gt":return{sql:`${M} > $${U}`,hasParam:!0};case"gte":return{sql:`${M} >= $${U}`,hasParam:!0};case"lt":return{sql:`${M} < $${U}`,hasParam:!0};case"lte":return{sql:`${M} <= $${U}`,hasParam:!0};case"in":return{sql:`${M} = ANY($${U})`,hasParam:!0};case"nin":return{sql:`${M} != ALL($${U})`,hasParam:!0};case"like":return{sql:`${M} LIKE $${U}`,hasParam:!0};case"ilike":return{sql:`${M} ILIKE $${U}`,hasParam:!0};case"contains":return{sql:`${M} ILIKE $${U}`,hasParam:!0};case"isNull":return{sql:`${M} IS NULL`,hasParam:!1};case"isNotNull":return{sql:`${M} IS NOT NULL`,hasParam:!1};default:return{sql:`${M} = $${U}`,hasParam:!0}}}function S(R,M,U="and"){if(R.length===0)return{sql:"",params:[]};const Z=[],ae=[];for(const Q of R){const{sql:z,hasParam:K,value:Y}=_(Q,M,Z.length+1);ae.push(z),K&&Z.push(Y)}const G=U==="or"?" OR ":" AND ";return{sql:ae.join(G),params:Z}}function _(R,M,U){const Z=M.fields[R.field];if(!Z)throw new Error(`Unknown field '${R.field}' in schema '${M.resource}'`);const ae=Z.column,G=L(R,Z),{sql:Q,hasParam:z}=v(R.op,ae,U);return{sql:Q,hasParam:z,value:G}}function L(R,M){let U=R.value;try{U=d(U,M)}catch{}return R.op==="contains"&&typeof U=="string"&&(U=`%${U}%`),U}function O(R,M,U){const Z={};for(const[ae,G]of Object.entries(M))Z[ae]={...G,operators:G.operators||n.DefaultOperatorsByType[G.type]};return{resource:R,version:U,fields:Z}}var N=uR();Object.defineProperty(t,"loadFilterSchema",{enumerable:!0,get:function(){return N.loadFilterSchema}})})(lp)),lp}var ko={},q0;function fR(){if(q0)return ko;q0=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.parseSortParams=t,ko.buildSortString=n,ko.applySorting=s;function t(o){const l=o.sort;return(Array.isArray(l)?l:l?[l]:[]).map(i=>{const u=String(i).trim();if(!u||u==="-"||u===":")return null;if(u.includes(":")){const[d,h]=u.split(":"),m=d.trim();return m?{field:m,order:h?.trim().toLowerCase()==="desc"?"desc":"asc"}:null}if(u.startsWith("-")){const d=u.substring(1).trim();return d?{field:d,order:"desc"}:null}return{field:u,order:"asc"}}).filter(i=>i!==null)}function n(o){return o.map(l=>l.order==="desc"?`-${l.field}`:l.field)}function s(o,l){return!l||l.length===0?o:[...o].sort((c,i)=>{for(const u of l){const d=c[u.field],h=i[u.field];if(d==null)return 1;if(h==null)return-1;if(d<h)return u.order==="asc"?-1:1;if(d>h)return u.order==="asc"?1:-1}return 0})}return ko}var cl={},F0;function hR(){return F0||(F0=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.APPLICATION_STATUS_VALUES=void 0,cl.APPLICATION_STATUS_VALUES=["healthy","degraded","deploying","error","maintenance"]),cl}var cp={},ul={},as={},H0;function Xu(){if(H0)return as;H0=1,Object.defineProperty(as,"__esModule",{value:!0}),as.createErrorResponse=as.createSuccessResponse=as.AppError=void 0;const t={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"},n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"};function s(i){return i?Array.isArray(i)?{validationErrors:i}:i:{}}class o extends Error{constructor(u,d=500,h=!0,m){super(u);const p=s(m);this.statusCode=d,this.isOperational=h,this.validationErrors=p.validationErrors||[],this.errorType=p.errorType,this.instance=p.instance,this.correlationId=p.correlationId,Error.captureStackTrace(this,this.constructor)}toErrorResponse(u){return{type:this.errorType||t[this.statusCode]||"/Errors/InternalServerError",title:n[this.statusCode]||"Internal Server Error",status:this.statusCode,detail:this.message,instance:this.instance||u,correlationId:this.correlationId,errors:this.validationErrors&&this.validationErrors.length>0?this.validationErrors:void 0}}}as.AppError=o;const l=(i,u,d)=>{const h={success:!0,data:i,timestamp:new Date().toISOString()};return u&&(h.message=u),d&&(h.correlationId=d),h};as.createSuccessResponse=l;const c=(i,u)=>{const d={success:!1,error:i,timestamp:new Date().toISOString()};return u&&(d.correlationId=u),d};return as.createErrorResponse=c,as}var $0;function ex(){if($0)return ul;$0=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.ResponseHelper=void 0;const t=ZS(),n=Xu();class s{static success(l,c,i,u=200){const d={success:!0,data:c,timestamp:new Date().toISOString()};return i&&(d.message=i),l.status(u).json(d)}static created(l,c,i="Resource created"){return s.success(l,c,i,201)}static paginated(l,c,i){const u=(0,t.createPaginatedListResponse)(c,i.totalItems,i.currentPage,i.pageSize,i.type);return l.status(200).json(u)}static noContent(l){return l.status(204).send()}static accepted(l,c,i="Request accepted"){return s.success(l,c,i,202)}static error(l,c=400,i=!0,u,d){throw new n.AppError(l,c,i,{validationErrors:u,errorType:d})}}return ul.ResponseHelper=s,ul}var nu={},z0;function pR(){if(z0)return nu;z0=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.injectResponseHelpers=n;const t=ex();function n(s,o,l){o.success=(c,i)=>t.ResponseHelper.success(o,c,i),o.created=(c,i)=>t.ResponseHelper.created(o,c,i),o.paginated=(c,i)=>t.ResponseHelper.paginated(o,c,i),o.noContent=()=>t.ResponseHelper.noContent(o),o.accepted=(c,i)=>t.ResponseHelper.accepted(o,c,i),l()}return nu}var dl={},fl={},_i={},W0;function fm(){if(W0)return _i;W0=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.getErrorTypeUri=n,_i.getErrorTitle=s,_i.createErrorResponse=o,_i.sendErrorResponse=l;const t={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable",504:"/Errors/GatewayTimeout"};function n(c){return t[c]||"/Errors/InternalServerError"}function s(c){return{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable",504:"Gateway Timeout"}[c]||"Internal Server Error"}function o(c,i,u,d,h){let m;c instanceof Error?m=c.message:typeof c=="string"?m=c:c==null?m="An error occurred":m=String(c)||"An error occurred";const p=d||u?.correlationId||u?.headers["x-correlation-id"],x={type:n(i),title:s(i),status:i,detail:m,instance:u?.originalUrl};return p&&(x.correlationId=p),h&&h.length>0&&(x.errors=h),x}function l(c,i){c.setHeader("Content-Type","application/problem+json"),c.status(i.status).json(i)}return _i}var B0;function tx(){if(B0)return fl;B0=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.setErrorLogger=i,fl.handleRouteError=b;const t=Xu(),n=fm(),s=Tt(),o=dt(),l=Rl();let c=null;function i(T){c=T}const u={P2002:409,P2025:404,P2003:400},d=[{pattern:/not found/i,status:404},{pattern:/already exists|duplicate/i,status:409},{pattern:/validation|invalid/i,status:400},{pattern:/unauthorized|authentication/i,status:401},{pattern:/forbidden|permission/i,status:403}];function h(T){if(T instanceof t.AppError)return T.statusCode;if(T&&typeof T=="object"&&"code"in T){const w=u[T.code];if(w)return w}const C=T instanceof Error?T.message:String(T||"");for(const{pattern:w,status:v}of d)if(w.test(C))return v;return 500}function m(T){return T instanceof Error?T.message:typeof T=="string"?T:"An unexpected error occurred"}function p(){const T=Date.now(),C=Math.random().toString(36).substring(2,8);return`express-${T}-${C}`}function x(T,C,w,v){let S;return T instanceof t.AppError&&T.validationErrors&&(S=T.validationErrors),(0,n.createErrorResponse)(T,C,w,v,S)}async function A(T,C){const{errorInfo:w,logMessage:v,req:S,correlationId:_,statusCode:L,operationName:O}=C;if((0,o.logErrorWithContext)(w,"[Express]"),c)try{await c.logError(v,{req:S,correlationId:w.correlationId||_,operation:O,statusCode:w.statusCode||L,url:S.originalUrl,method:S.method,errorMessage:w.message,errorName:w.errorName,errorType:w.errorType,stack:w.stackTrace})}catch(N){const R=N instanceof Error?N:new Error(String(N));process.stderr.write(`[ERROR] Failed to log error: ${R.message}
`),process.stderr.write(`[ERROR] Original error: ${m(T)}
`)}else process.stderr.write(`[ERROR] ${v}
`),T instanceof Error&&T.stack&&process.stderr.write(`[ERROR] Stack: ${T.stack}
`)}async function b(T,C,w,v){const S=(0,l.extractRequestContext)(C),_=C.correlationId||S.correlationId||p(),L=h(T),O=m(T),N=v||"unknown operation",R=(0,s.extractErrorInfo)(T,{endpoint:C.originalUrl||C.path,method:C.method,correlationId:_});await A(T,{errorInfo:R,logMessage:`${N} failed: ${O}`,req:C,correlationId:_,statusCode:L,operationName:N});const M=x(T,L,C,_);T instanceof t.AppError&&T.correlationId&&(M.correlationId=T.correlationId),(0,n.sendErrorResponse)(w,M)}return fl}var K0;function rx(){if(K0)return dl;K0=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.asyncHandler=n,dl.asyncHandlerNamed=s;const t=tx();function n(o,l){return async(c,i,u)=>{try{await o(c,i,u)}catch(d){const h=l||`${c.method} ${c.route?.path||c.path}`;await(0,t.handleRouteError)(d,c,i,h)}}}function s(o,l){return n(l,o)}return dl}var hl={},V0;function mR(){if(V0)return hl;V0=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.ValidationHelper=void 0;const t=Xu();class n{static async findOrFail(o,l,c){const i=await o();if(!i)throw new t.AppError(`${l} not found${c?`: ${c}`:""}`,404,!0,{errorType:"/Errors/NotFound"});return i}static async ensureNotExists(o,l,c){if(await o())throw new t.AppError(`${l} already exists${c?`: ${c}`:""}`,409,!0,{errorType:"/Errors/Conflict"})}static ensureOwnershipOrAdmin(o,l,c="No permission to access this resource"){const i=o.userId===l,u=o.userRoles?.includes("admin")||o.userRoles?.includes("superuser");if(!i&&!u)throw new t.AppError(c,403,!0,{errorType:"/Errors/Forbidden"})}static async validateAll(o){await Promise.all(o.map(l=>l()))}static validateRequiredFields(o,l,c){const i=l.filter(u=>o[u]===void 0||o[u]===null||o[u]==="");if(i.length>0)throw new t.AppError(`Missing required fields for ${c}: ${i.join(", ")}`,400,!0,{errorType:"/Errors/BadRequest"})}static ensureAuthenticated(o){if(!o.userId)throw new t.AppError("Authentication required",401,!0,{errorType:"/Errors/Unauthorized"})}static validateStringLength(o,l,c,i){if(c!==void 0&&o.length<c)throw new t.AppError(`${l} must be at least ${c} characters`,400,!0,{errorType:"/Errors/BadRequest"});if(i!==void 0&&o.length>i)throw new t.AppError(`${l} must not exceed ${i} characters`,400,!0,{errorType:"/Errors/BadRequest"})}}return hl.ValidationHelper=n,hl}var pl={},G0;function nx(){if(G0)return pl;G0=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.hasConfig=l,pl.createClientTokenEndpoint=b;const t=dm(),n=Hs(),s=rx(),o=fm();function l(T){return T.config!==void 0}function c(T){const C=T.match(/status:\s*(\d+)/i)||T.match(/status code\s+(\d+)/i)||T.match(/status\s+(\d+)/i);return C?parseInt(C[1],10):void 0}function i(T){return T.response?{status:T.response.status,isNetworkError:!1}:T.request&&!T.response?{status:void 0,isNetworkError:!0}:{status:void 0,isNetworkError:!1}}function u(T){const C=T instanceof Error?T.message:"Unknown error",w=c(C),v=!1;let S=T;for(let _=0;_<5&&S;_++){if(S&&typeof S=="object"&&"isAxiosError"in S&&S.isAxiosError){const L=i(S);if(L.status!==void 0||L.isNetworkError)return{status:L.status,isNetworkError:L.isNetworkError}}S=S&&typeof S=="object"&&"cause"in S?S.cause:null}return{status:w,isNetworkError:v}}function d(T,C){const w=C||/ECONNREFUSED|ENOTFOUND|ETIMEDOUT|connect|Network Error|network error|getaddrinfo/i.test(T),v=T.includes("Request timeout: Failed to get environment token")||/timeout/i.test(T);return{isNetwork:w,isTimeout:v}}async function h(T,C){const w=new Promise((v,S)=>{setTimeout(()=>S(new Error("Request timeout: Failed to get environment token within 5 seconds")),5e3)});return Promise.race([(0,t.getEnvironmentToken)(C,T),w])}function m(T,C,w,v){const S=T instanceof Error?T.message:"Unknown error";if(S.includes("Origin validation failed")){(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)(S,403,C));return}const{status:_,isNetworkError:L}=u(T);if(_){const R=_===401?"Failed to get environment token: Invalid client credentials or application not found":_===403?"Failed to get environment token: Access denied":S;(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)(R,_,C));return}const{isNetwork:O,isTimeout:N}=d(S,L);if(O||N){const R=v.getConfig();let M;try{M=(0,n.resolveControllerUrl)(R)}catch{M=R.controllerPrivateUrl||R.controllerUrl||"NOT CONFIGURED"}const U=O?`Controller is unreachable. URL: ${M}.`:`Controller request timed out. URL: ${M}.`;(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)(`Failed to get environment token: ${U}`,504,C));return}(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)(S,500,C))}function p(T,C,w){const v=C.getConfig(),S=v.controllerPublicUrl||v.controllerUrl;return S?{baseUrl:`${T.protocol}://${T.get("host")||"localhost"}`,controllerUrl:S,controllerPublicUrl:v.controllerPublicUrl,clientId:v.clientId,clientTokenUri:w}:null}function x(T,C,w){const v=T.message;if(v.includes("Origin validation failed")){(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)(v,403,C));return}if(/timeout/i.test(v)){(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)("Failed to get environment token: Request timed out",504,C));return}(0,o.sendErrorResponse)(w,(0,o.createErrorResponse)(v,500,C))}async function A(T,C,w,v){const S=()=>C.headersSent||C.writableEnded;if(!w.isInitialized()){S()||(0,o.sendErrorResponse)(C,(0,o.createErrorResponse)("MisoClient is not initialized",503,T));return}let _;try{_=await h(T,w)}catch(O){S()||m(O,T,C,w);return}if(!_){S()||(0,o.sendErrorResponse)(C,(0,o.createErrorResponse)("Request timeout: Failed to get environment token",504,T));return}const L={token:_,expiresIn:v.expiresIn};if(v.includeConfig){const O=p(T,w,v.clientTokenUri);if(!O){S()||(0,o.sendErrorResponse)(C,(0,o.createErrorResponse)("Controller URL not configured",500,T));return}L.config=O}S()||C.json(L)}function b(T,C){const w={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...C};return(0,s.asyncHandler)(async(v,S)=>{try{await A(v,S,T,w)}catch(_){!S.headersSent&&!S.writableEnded&&x(_ instanceof Error?_:new Error(String(_)),v,S)}},"createClientTokenEndpoint")}return pl}var su={},J0;function gR(){if(J0)return su;J0=1,Object.defineProperty(su,"__esModule",{value:!0}),su.loggerContextMiddleware=c;const t=zu(),n=Rl(),s=rS();function o(){return`server-${Date.now()}-${Math.random().toString(36).substring(2,8)}`}function l(i){const u=(0,n.extractRequestContext)(i),d=i.headers.authorization?.replace("Bearer ",""),h=d?(0,s.extractJwtContext)(d):{},m=u.correlationId||o();return{ipAddress:u.ipAddress,method:u.method,path:u.path,userId:u.userId||h.userId,sessionId:u.sessionId||h.sessionId,applicationId:h.applicationId,userAgent:u.userAgent,referer:u.referer,requestSize:u.requestSize,correlationId:m,requestId:u.requestId,token:d}}function c(i,u,d){try{(0,t.setLoggerContext)(l(i)),d()}catch{d()}}return su}var Y0;function yR(){return Y0||(Y0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.loggerContextMiddleware=t.hasConfig=t.createClientTokenEndpoint=t.extractClientTokenInfo=t.getEnvironmentToken=t.validateOrigin=t.sendErrorResponse=t.getErrorTitle=t.getErrorTypeUri=t.handleRouteError=t.setErrorLogger=t.createErrorResponse=t.createSuccessResponse=t.AppError=t.ValidationHelper=t.asyncHandlerNamed=t.asyncHandler=t.injectResponseHelpers=t.ResponseHelper=void 0;var n=ex();Object.defineProperty(t,"ResponseHelper",{enumerable:!0,get:function(){return n.ResponseHelper}});var s=pR();Object.defineProperty(t,"injectResponseHelpers",{enumerable:!0,get:function(){return s.injectResponseHelpers}});var o=rx();Object.defineProperty(t,"asyncHandler",{enumerable:!0,get:function(){return o.asyncHandler}}),Object.defineProperty(t,"asyncHandlerNamed",{enumerable:!0,get:function(){return o.asyncHandlerNamed}});var l=mR();Object.defineProperty(t,"ValidationHelper",{enumerable:!0,get:function(){return l.ValidationHelper}});var c=Xu();Object.defineProperty(t,"AppError",{enumerable:!0,get:function(){return c.AppError}}),Object.defineProperty(t,"createSuccessResponse",{enumerable:!0,get:function(){return c.createSuccessResponse}}),Object.defineProperty(t,"createErrorResponse",{enumerable:!0,get:function(){return c.createErrorResponse}});var i=tx();Object.defineProperty(t,"setErrorLogger",{enumerable:!0,get:function(){return i.setErrorLogger}}),Object.defineProperty(t,"handleRouteError",{enumerable:!0,get:function(){return i.handleRouteError}});var u=fm();Object.defineProperty(t,"getErrorTypeUri",{enumerable:!0,get:function(){return u.getErrorTypeUri}}),Object.defineProperty(t,"getErrorTitle",{enumerable:!0,get:function(){return u.getErrorTitle}}),Object.defineProperty(t,"sendErrorResponse",{enumerable:!0,get:function(){return u.sendErrorResponse}});var d=Wu();Object.defineProperty(t,"validateOrigin",{enumerable:!0,get:function(){return d.validateOrigin}});var h=dm();Object.defineProperty(t,"getEnvironmentToken",{enumerable:!0,get:function(){return h.getEnvironmentToken}});var m=Hu();Object.defineProperty(t,"extractClientTokenInfo",{enumerable:!0,get:function(){return m.extractClientTokenInfo}});var p=nx();Object.defineProperty(t,"createClientTokenEndpoint",{enumerable:!0,get:function(){return p.createClientTokenEndpoint}}),Object.defineProperty(t,"hasConfig",{enumerable:!0,get:function(){return p.hasConfig}});var x=gR();Object.defineProperty(t,"loggerContextMiddleware",{enumerable:!0,get:function(){return x.loggerContextMiddleware}})})(cp)),cp}var Jr={},ki={},X0;function vR(){return X0||(X0=1,(function(t){var n=ki&&ki.__createBinding||(Object.create?(function(l,c,i,u){u===void 0&&(u=i);var d=Object.getOwnPropertyDescriptor(c,i);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[i]}}),Object.defineProperty(l,u,d)}):(function(l,c,i,u){u===void 0&&(u=i),l[u]=c[i]})),s=ki&&ki.__exportStar||function(l,c){for(var i in l)i!=="default"&&!Object.prototype.hasOwnProperty.call(c,i)&&n(c,l,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.MisoClient=void 0;var o=GS();Object.defineProperty(t,"MisoClient",{enumerable:!0,get:function(){return o.MisoClient}}),s(ux(),t)})(ki)),ki}var Ri={},Q0;function sx(){if(Q0)return Ri;Q0=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.getCachedEntry=n,Ri.setCacheEntry=s,Ri.isCacheEnabled=o,Ri.getCacheKeyForRequest=l;const t=Mr();function n(c,i,u){const d=c.get(i);return d&&d.expiresAt>Date.now()?(u.cacheHits++,d.data):(u.cacheMisses++,null)}function s(c,i,u,d,h){if(c.set(i,{data:u,expiresAt:Date.now()+d*1e3,key:i}),c.size>h){const m=c.keys().next().value;m&&c.delete(m)}}function o(c,i,u){const d=c.toUpperCase()==="GET";return i?.enabled!==!1&&d&&u?.cache?.enabled!==!1}function l(c,i){return i?.cache?.key||(0,t.generateCacheKey)(c,i)}return Ri}var Ds={},Ms={},ml={},Z0;function ix(){if(Z0)return ml;Z0=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.shouldSkipAudit=l,ml.logDataClientAudit=c;const t=Ws(),n=zs(),s=Mr(),o=dt();function l(u,d){return d?.enabled?(d.skipEndpoints||[]).some(m=>u.includes(m)):!0}async function c(u,d,h,m,p,x,A,b,T,C,w,v,S,_,L){if(!(l(d,x)||!p)&&A())try{const O=b(),N=O?(0,s.extractUserIdFromToken)(O):void 0,R=x?.level||"standard",M={method:u,url:d,statusCode:h,duration:m};if(N&&(M.userId=N),R==="minimal"){await i(O,async()=>{await p.log.audit(`http.request.${u.toLowerCase()}`,d,M)});return}const U=x?.maxResponseSize||1e4,Z=x?.maxMaskingSize||5e4;let ae;if(_!==void 0){const K=(0,s.truncatePayload)(_,Z);K.truncated?ae=K.data:ae=n.DataMasker.maskSensitiveData(K.data)}let G;if(L!==void 0){const K=(0,s.truncatePayload)(L,U);K.truncated?G=K.data:G=n.DataMasker.maskSensitiveData(K.data)}const Q=v?n.DataMasker.maskSensitiveData(v):void 0,z=S?n.DataMasker.maskSensitiveData(S):void 0;if(Q&&(M.requestHeaders=Q),z&&(M.responseHeaders=z),ae!==void 0&&(M.requestBody=ae),G!==void 0&&(M.responseBody=G),(R==="detailed"||R==="full")&&(T!==void 0&&(M.requestSize=T),C!==void 0&&(M.responseSize=C)),w){const K=n.DataMasker.maskSensitiveData({message:w.message,name:w.name,stack:w.stack});M.error=K}await i(O,async()=>{await p.log.audit(`http.request.${u.toLowerCase()}`,d,M)})}catch(O){const N=O,R=N.statusCode||N.response?.status,M=N.message||String(O),U=N.code,Z=U==="ECONNREFUSED"||U==="ENOTFOUND"||M.includes("ERR_CONNECTION_REFUSED")||M.includes("Failed to fetch")||M.includes("NetworkError")||M.includes("network error");if(R===401||Z)return;(0,o.writeWarn)(`Failed to log audit event: ${String(O)}`)}}async function i(u,d){if(!u){await d();return}await t.LoggerContextStorage.getInstance().runWithContextAsync({token:u},d)}return ml}var eE;function wR(){if(eE)return Ms;eE=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.generateCorrelationId=d,Ms.processSuccessfulResponse=h,Ms.handleNonRetryableError=m,Ms.handleAuthErrorCleanup=p,Ms.waitForRetry=L;const t=Op(),n=Mr(),s=sx(),o=ix(),l=Tt(),c=dt(),i=ox(),u=Ws();function d(O){if(O?.log&&typeof O.log.generateCorrelationId=="function")return O.log.generateCorrelationId();const N=Date.now(),R=Math.random().toString(36).substring(2,8);return`${N}-${R}`}async function h(O,N,R,M,U,Z,ae,G,Q,z,K,Y,H,oe,le){const W=Date.now()-U;if(x(oe,W),b(Q,O,N,le,Z,ae,G),H.onResponse)return await H.onResponse(O,N);if(await T(O,N,R,M,W,Z,z,K,Y,le),!O.ok)throw new t.ApiError(`Request failed with status ${O.status}`,O.status,O);return N}async function m(O,N,R,M,U,Z,ae,G,Q,z,K,Y){const H=Date.now()-M;A(K);const oe=C(O,R,N,G);throw(0,c.logErrorWithContext)(oe,"[DataClient]"),await v(O,U||Z||401,H,N,R,ae,G,Q,z,Y,oe),O}function p(O,N,R,M,U,Z,ae,G,Q,z,K,Y){z(),A(K);const H=C(O,M,R,ae);if((0,c.logErrorWithContext)(H,"[DataClient] [AUTH]"),!Y?.skipAudit){const oe=Date.now()-U;(0,o.logDataClientAudit)(R,M,N,oe,ae,Z.audit,G,Q,Y?.body?(0,n.calculateSize)(Y.body):void 0,void 0,O,(0,i.extractHeaders)(Y?.headers),void 0,Y?.body,void 0).catch(()=>{})}_(ae,H)}function x(O,N){O.totalRequests++,O.responseTimes.push(N)}function A(O){O.totalFailures++}function b(O,N,R,M,U,Z,ae){if(!O||!N.ok)return;const G=M?.cache?.ttl||U.cache?.defaultTTL||300;(0,s.setCacheEntry)(Z,ae,R,G,U.cache?.maxSize||100)}async function T(O,N,R,M,U,Z,ae,G,Q,z){if(z?.skipAudit)return;const K=z?.body?(0,n.calculateSize)(z.body):void 0,Y=(0,n.calculateSize)(N);await(0,o.logDataClientAudit)(R,M,O.status,U,ae,Z.audit,G,Q,K,Y,void 0,(0,i.extractHeaders)(z?.headers),(0,i.extractHeaders)(O.headers),z?.body,N)}function C(O,N,R,M){return(0,l.extractErrorInfo)(O,{endpoint:N,method:R,correlationId:d(M)})}function w(O){return O>=500?"server-error":O>=400?"client-error":"success"}async function v(O,N,R,M,U,Z,ae,G,Q,z,K,Y){if(z?.skipAudit||!ae?.log)return;await(0,o.logDataClientAudit)(M,U,N,R,ae,Z.audit,G,Q,z?.body?(0,n.calculateSize)(z.body):void 0,void 0,O,(0,i.extractHeaders)(z?.headers),void 0,z?.body,void 0);const H=w(N);await S(ae,K,H)}async function S(O,N,R){try{await u.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:N.correlationId},async()=>{await O.log.error(`Request failed: ${N.message}`,{errorType:N.errorType,errorName:N.errorName,statusCode:N.statusCode,endpoint:N.endpoint,method:N.method,responseBody:N.responseBody},N.stackTrace,{errorCategory:N.errorType.toLowerCase().replace("error",""),httpStatusCategory:R})})}catch{}}function _(O,N){if(!O?.log)return;u.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:N.correlationId},async()=>{await O.log.error(`Authentication error: ${N.message}`,{authFlow:"token_validation_failed",errorType:N.errorType,errorName:N.errorName,statusCode:N.statusCode,endpoint:N.endpoint,method:N.method,responseBody:N.responseBody},N.stackTrace,{errorCategory:"authentication",httpStatusCategory:"client-error"})}).catch(()=>{})}async function L(O,N,R,M){const U=M(O,N,R);await new Promise(Z=>setTimeout(Z,U))}return Ms}var tE;function ox(){if(tE)return Ds;tE=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.extractHeaders=o,Ds.parseResponse=l,Ds.mergeSignals=c,Ds.makeFetchRequest=i,Ds.executeHttpRequest=C;const t=Op(),n=Mr(),s=wR();function o(w){if(!w)return;if(w instanceof Headers){const S={};return w.forEach((_,L)=>{S[L]=_}),S}if(Array.isArray(w)){const S={};return w.forEach(([_,L])=>{S[_]=String(L)}),S}const v={};return Object.entries(w).forEach(([S,_])=>{v[S]=Array.isArray(_)?_.join(", "):String(_)}),v}async function l(w){const v=w.headers.get("content-type")||"";return v.includes("application/json")?await w.json():v.includes("text/")?await w.text():await w.blob()}function c(w,v){const S=new AbortController,_=()=>{S.abort(),w.removeEventListener("abort",_),v.removeEventListener("abort",_)};return w.aborted||v.aborted?(S.abort(),S.signal):(w.addEventListener("abort",_),v.addEventListener("abort",_),S.signal)}async function i(w,v,S,_,L){const O=new Headers(S.defaultHeaders);if(L?.headers&&(L.headers instanceof Headers?L.headers.forEach((Y,H)=>O.set(H,Y)):Object.entries(L.headers).forEach(([Y,H])=>{O.set(Y,String(H))})),!L?.skipAuth){const Y=_();Y&&O.set("Authorization",`Bearer ${Y}`)}const N=L?.timeout||S.timeout||3e4,R=new AbortController,M=setTimeout(()=>R.abort(),N);typeof M.unref=="function"&&M.unref();const U=L?.signal?c(R.signal,L.signal):R.signal,{cache:Z,skipAuth:ae,retries:G,skipAudit:Q,timeout:z,...K}=L||{};try{const Y=await fetch(v,{method:w,headers:O,body:K.body,signal:U,...K});return clearTimeout(M),Y}catch(Y){throw clearTimeout(M),Y instanceof Error&&Y.name==="AbortError"?new t.TimeoutError(`Request timeout after ${N}ms`,N):new t.NetworkError(`Network error: ${Y instanceof Error?Y.message:"Unknown error"}`,Y instanceof Error?Y:void 0)}}function u(w,v){return{maxRetries:v?.retries!==void 0?v.retries:w.retry?.maxRetries||3,retryEnabled:w.retry?.enabled!==!1,baseDelay:w.retry?.baseDelay||1e3,maxDelay:w.retry?.maxDelay||1e4}}function d(w){return w===401||w===403}function h(w){const v=w;return w instanceof t.AuthenticationError||v.name==="AuthenticationError"||v.statusCode===401||v.statusCode===403}function m(w,v){const S=w.response?.status;return w.statusCode??S??v??void 0}function p(w,v,S,_){const L=w!==void 0&&w>=500&&w<600,O=L?0:v.maxRetries;return v.retryEnabled&&!L&&S<O&&(0,n.isRetryableError)(w,_)}async function x(w){const{responseStatus:v,config:S,refreshUserToken:_,attempt:L,state:O}=w;if(!d(v))return null;if(v===401&&S.onTokenRefresh&&_&&L===0&&!O.tokenRefreshAttempted){O.tokenRefreshAttempted=!0;try{if((await _())?.token)return await new Promise(M=>setTimeout(M,10)),b({...w,attempt:L+1})}catch(R){console.warn("Token refresh failed, redirecting to login:",R),O.authErrorDetected=!0}}O.authErrorDetected=!0;const N=v===401?new t.AuthenticationError("Authentication required",w.response):new t.ApiError("Forbidden",403,w.response);throw(0,s.handleAuthErrorCleanup)(N,v,w.method,w.endpoint,w.startTime,w.config,w.misoClient,w.hasAnyToken,w.getToken,w.handleAuthError,w.metrics,w.options),N}async function A(w){const{error:v,responseStatus:S,state:_,attempt:L,retryConfig:O}=w;if(_.tokenRefreshAttempted&&d(S)||v instanceof t.AuthenticationError||d(S)||h(v))throw _.authErrorDetected=!0,v;const R=m(v,S);if(!p(R,O,L,v)){if(d(R))throw _.authErrorDetected=!0,v;w.metrics.totalFailures++,await(0,s.handleNonRetryableError)(v,w.method,w.endpoint,w.startTime,R,S,w.config,w.misoClient,w.hasAnyToken,w.getToken,w.metrics,w.options)}if(_.authErrorDetected)throw v;return await(0,s.waitForRetry)(L,O.baseDelay,O.maxDelay,n.calculateBackoffDelay),b({...w,attempt:L+1})}async function b(w){if(w.state.authErrorDetected)throw new t.AuthenticationError("Authentication error detected - should not retry");let v,S;try{S=await i(w.method,w.fullUrl,w.config,w.getToken,w.options),v=S.status;const _=await x({...w,response:S,responseStatus:v});if(_)return _;const L=await l(S);return await(0,s.processSuccessfulResponse)(S,L,w.method,w.endpoint,w.startTime,w.config,w.cache,w.cacheKey,w.cacheEnabled,w.misoClient,w.hasAnyToken,w.getToken,w.interceptors,w.metrics,w.options)}catch(_){return A({...w,error:_,responseStatus:v})}}async function T(w,v,S){const _=h(w);throw S.totalFailures++,v.onError&&!_?await v.onError(w):w}async function C(w){const v=u(w.config,w.options),S={authErrorDetected:!1,tokenRefreshAttempted:!1};try{return await b({attempt:0,...w,retryConfig:v,state:S})}catch(_){return T(_,w.interceptors,w.metrics)}}return Ds}var gl={},iu={},rE;function ER(){if(rE)return iu;rE=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.handleOAuthCallback=h;const t=Mr(),n=Tt(),s=dt();function o(){try{const m=globalThis;if(!m.window?.location||!m.window.history){(0,s.writeWarn)("[handleOAuthCallback] window not available for hash cleanup");return}const p=m.window.location.pathname+m.window.location.search;m.window.history.replaceState(null,"",p)}catch(m){(0,s.writeWarn)(`[handleOAuthCallback] Failed to clean up hash: ${String(m)}`)}}function l(m){return!m||typeof m!="string"?!1:m.trim().length>=5}function c(m){return m==="localhost"||m==="127.0.0.1"||m==="[::1]"||m.startsWith("192.168.")||m.startsWith("10.")||/^172\.(1[6-9]|2[0-9]|3[0-1])\./.test(m)}function i(m){(0,s.writeErr)(`[handleOAuthCallback] Invalid token format - token rejected: ${JSON.stringify({tokenLength:m.length,isEmpty:!m||m.trim().length===0,tooShort:m.length>0&&m.length<5,expectedFormat:"Non-empty string with at least 5 characters"})}`),o()}function u(m,p){return m==="https:"?!0:c(p)}function d(m,p){m.forEach(x=>{try{(0,t.setLocalStorage)(x,p)}catch(A){(0,s.writeWarn)(`[handleOAuthCallback] Failed to store token in key ${x}: ${String(A)}`)}})}function h(m){if(!(0,t.isBrowser)())return null;const p=globalThis;if(!p.window?.location)return null;const x=p.window.location.hash;if(!x||x.length<=1)return null;const A=getTokenFromHash(x);if(!A){try{new URLSearchParams(x.substring(1))}catch(C){(0,s.writeWarn)(`[handleOAuthCallback] Failed to parse hash: ${String(C)}`)}return null}if(!l(A))return i(A),null;if(!u(p.window.location.protocol,p.window.location.hostname||""))return(0,s.writeErr)("[handleOAuthCallback] SECURITY WARNING: Token received over HTTP in production"),o(),null;o();const T=m.tokenKeys||["token","accessToken","authToken"];try{return d(T,A),m.misoConfig?.logLevel==="debug"&&(0,s.writeWarn)(`[handleOAuthCallback] OAuth token extracted and stored securely: ${JSON.stringify({tokenLength:A.length,tokenKeys:T,storedInKeys:T.length})}`),A}catch(C){const w=C instanceof Error?C:new Error(String(C)),v=p.window.location.pathname||"/";return(0,s.logErrorWithContext)((0,n.extractErrorInfo)(w,{endpoint:v,method:"GET"}),"[DataClient] [AUTH] [OAuthCallback]"),(0,s.writeErr)(`[handleOAuthCallback] Failed to store token: ${String(C)}`),null}}return iu}var Ro={},nE;function ax(){if(nE)return Ro;nE=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.getValidatedRedirectUrl=l,Ro.redirectToLogin=c,Ro.logout=m;const t=lx(),n=Mr(),s=dt();function o(p){if(!p||typeof p!="string"||p.trim()==="")return null;const x=p.trim(),b=["javascript:","data:","vbscript:","file:","about:"],T=x.toLowerCase();for(const v of b)if(T.startsWith(v))return null;let C;try{if(x.startsWith("/")||!x.includes("://")){const v=globalThis.window.location.origin;C=new URL(x,v)}else C=new URL(x)}catch{return null}return C.protocol!=="http:"&&C.protocol!=="https:"?null:C.href}function l(p,x){const A=o(p);if(A)return A;if(x){const b=o(x);if(b)return b}return null}async function c(p,x,A){if(!(0,n.isBrowser)())return;const b=globalThis.window.location.href,T=A||b,C=(0,t.getControllerUrl)(p.misoConfig);if(!C){const _=new Error("Controller URL is not configured. Please configure controllerUrl or controllerPublicUrl in your DataClient configuration.");throw _.details={hasMisoConfig:!!p.misoConfig,controllerUrl:p.misoConfig?.controllerUrl,controllerPublicUrl:p.misoConfig?.controllerPublicUrl,controllerPrivateUrl:p.misoConfig?.controllerPrivateUrl},_}const w=await x();let v=p.loginUrl||"/login";v.startsWith("/api/")&&((0,s.writeWarn)(`âš ï¸ Warning: loginUrl is set to an API endpoint (${v}). redirectToLogin() should redirect to a login PAGE (e.g., '/login'), not an API endpoint. Using default '/login' instead.`),v="/login");let S;/^https?:\/\//i.test(v)?S=new URL(v):S=new URL(v,C),S.searchParams.set("redirect",T),w&&S.searchParams.set("x-client-token",w),u(S.toString())}function i(){return globalThis.window.location}function u(p){i().href=p}function d(p){const x=globalThis.localStorage;x&&p.forEach(A=>{try{x.removeItem(A)}catch{}})}function h(p){if(/^https?:\/\//i.test(p))return p;const x=i().origin,A=p.startsWith("/")?p:`/${p}`;return`${x}${A}`}async function m(p,x,A,b,T,C){if(!(0,n.isBrowser)())return;const w=x(),v=await A();d(p.tokenKeys||["token","accessToken","authToken"]),b();const S=(0,t.getControllerUrl)(p.misoConfig),_=T||p.logoutUrl||p.loginUrl||"/login";if(!S){const N=h(_),R=l(N);R&&u(R);return}const L=p.logoutUrl||p.loginUrl||"/logout",O=/^https?:\/\//i.test(L)?new URL(L):new URL(L,S);O.searchParams.set("redirect",h(_)),v&&O.searchParams.set("x-client-token",v),w&&O.searchParams.set("token",w),u(O.toString())}return Ro}var sE;function lx(){return sE||(sE=1,(function(t){var n=gl&&gl.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.redirectToLogin=t.handleOAuthCallback=void 0,t.getToken=m,t.hasClientToken=p,t.hasAnyToken=x,t.getControllerUrl=A,t.getClientToken=C,t.getEnvironmentToken=R,t.getClientTokenInfo=M;const s=Mr(),o=Hu(),l=n(Di()),c=ix(),i=Tt(),u=dt(),d=Ws();var h=ER();Object.defineProperty(t,"handleOAuthCallback",{enumerable:!0,get:function(){return h.handleOAuthCallback}});function m(U){if(!(0,s.isBrowser)())return null;const Z=U||["token","accessToken","authToken"];for(const ae of Z){const G=(0,s.getLocalStorage)(ae);if(G)return G}return null}function p(U,Z){if(!(0,s.isBrowser)())return!!(U&&Z?.clientSecret);if((0,s.getLocalStorage)("miso:client-token")){const G=(0,s.getLocalStorage)("miso:client-token-expires-at");if(G&&parseInt(G,10)>Date.now())return!0}return!!(Z?.clientToken||Z?.onClientTokenRefresh||Z?.clientSecret)}function x(U,Z,ae){return m(U)!==null||p(Z||null,ae)}function A(U){return U&&(U.controllerPublicUrl||U.controllerUrl)||null}function b(U){try{const Z=l.default.decode(U);return Z?.exp?Z.exp*1e3:null}catch{return null}}function T(U,Z){if(!U)return!1;const ae=Date.now();if(Z){const Q=parseInt(Z,10);return!(!isNaN(Q)&&Q<=ae)}const G=b(U);return!(G&&G<=ae)}async function C(U,Z,ae){if(!(0,s.isBrowser)())return null;const G=U?.logLevel==="debug",Q=(0,s.getLocalStorage)("miso:client-token"),z=(0,s.getLocalStorage)("miso:client-token-expires-at");if(G&&writeWarn(`[getClientToken] Cache check: ${JSON.stringify({hasToken:!!Q,hasExpiresAt:!!z})}`),Q){if(T(Q,z))return G&&writeWarn("[getClientToken] Returning valid cached token"),Q;G&&writeWarn("[getClientToken] Token expired, removing from cache"),(0,s.removeLocalStorage)("miso:client-token"),(0,s.removeLocalStorage)("miso:client-token-expires-at")}if(U?.clientToken)return G&&writeWarn("[getClientToken] Returning token from config"),U.clientToken;try{G&&writeWarn("[getClientToken] Fetching new token via getEnvironmentToken()");const K=await ae();return G&&writeWarn(`[getClientToken] Got new token, length: ${K?.length}`),K}catch(K){return(0,u.writeErr)(`[getClientToken] Failed to get environment token: ${JSON.stringify({method:"POST",path:"/api/v1/auth/token",errorMessage:K instanceof Error?K.message:String(K),stackTrace:K instanceof Error?K.stack:void 0})}`),null}}var w=ax();Object.defineProperty(t,"redirectToLogin",{enumerable:!0,get:function(){return w.redirectToLogin}}),Object.defineProperty(t,"logout",{enumerable:!0,get:function(){return w.logout}});const v="miso:client-token",S="miso:client-token-expires-at";function _(){const U=(0,s.getLocalStorage)(v),Z=(0,s.getLocalStorage)(S);return!U||!Z?null:parseInt(Z,10)<=Date.now()?((0,s.removeLocalStorage)(v),(0,s.removeLocalStorage)(S),null):U}function L(U){const Z=U.data?.token||U.token||U.accessToken||U.access_token;if(!Z||typeof Z!="string")throw new Error("Invalid response format: token not found in response");const G=U.data?.expiresIn??U.expiresIn??U.expires_in??3600;return{token:Z,expiresIn:Number(G)}}async function O(U,Z,ae,G){if(!(0,c.shouldSkipAudit)(Z,G.audit))try{await U.log.audit("client.token.request.success",Z,{method:"POST",url:Z,statusCode:ae,cached:!1},{})}catch{}}async function N(U,Z,ae,G){if(!(0,c.shouldSkipAudit)(G,Z.audit))try{await d.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:ae.correlationId},async()=>{await U.log.audit("client.token.request.failed",G,{method:"POST",url:G,statusCode:ae.statusCode||0,error:ae.message,cached:!1,errorType:ae.errorType,errorName:ae.errorName},{errorCategory:"authentication",httpStatusCategory:ae.statusCode&&ae.statusCode>=500?"server-error":"client-error"})})}catch{}}async function R(U,Z){if(!(0,s.isBrowser)())throw new Error("getEnvironmentToken() is only available in browser environment");const ae=_();if(ae)return ae;const G=U.misoConfig?.clientTokenUri||"/api/v1/auth/client-token",Q=/^https?:\/\//i.test(G)?G:`${U.baseUrl}${G}`;try{const z=await fetch(Q,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!z.ok){const le=await z.text();throw new Error(`Failed to get environment token: ${z.status} ${z.statusText}. ${le}`)}const K=await z.json(),{token:Y,expiresIn:H}=L(K),oe=Date.now()+H*1e3;return(0,s.setLocalStorage)(v,Y),(0,s.setLocalStorage)(S,oe.toString()),Z&&await O(Z,G,z.status,U),Y}catch(z){const K=(0,i.extractErrorInfo)(z,{endpoint:G,method:"POST",correlationId:Z?.log?.generateCorrelationId?.()});throw(0,u.logErrorWithContext)(K,"[DataClient] [AUTH] [ClientToken]"),Z&&await N(Z,U,K,G),z}}function M(U){if(!(0,s.isBrowser)())return null;const Z=(0,s.getLocalStorage)("miso:client-token");if(Z)return(0,o.extractClientTokenInfo)(Z);const ae=U?.clientToken;return ae?(0,o.extractClientTokenInfo)(ae):null}})(gl)),gl}var Ai={},iE;function SR(){if(iE)return Ai;iE=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.createMisoConfigWithRefresh=m,Ai.initializeBrowserServices=p,Ai.warnIfClientSecretInBrowser=x,Ai.createDefaultConfig=A;const t=XS(),n=QS(),s=Vp(),o=Xp(),l=Yp(),c=iS(),i=mu(),u=Kp(),d=Mr(),h=dt();function m(b,T){if(b.misoConfig)return{...b.misoConfig,onClientTokenRefresh:b.misoConfig.onClientTokenRefresh||((0,d.isBrowser)()&&!b.misoConfig.clientSecret?async()=>{const C=await T();if(!C)throw new Error("Failed to get client token");const w=(0,d.getLocalStorage)("miso:client-token-expires-at"),v=w?parseInt(w,10):Date.now()+36e5,S=Math.floor((v-Date.now())/1e3);return{token:C,expiresIn:S>0?S:3600}}:void 0)}}function p(b,T){if(!b||!T)return{permissionService:null,roleService:null};const C=new l.InternalHttpClient(T),w=new u.RedisService(T.redis),v=new i.LoggerService(C,w),S=new o.HttpClient(T,v);v.httpClient=S;const _=new c.ApiClient(S);v.setApiClient(_);const L=new s.CacheService(void 0),O=new t.BrowserPermissionService(S,_,L),N=new n.BrowserRoleService(S,_,L);return{permissionService:O,roleService:N}}function x(b){(0,d.isBrowser)()&&b.misoConfig?.clientSecret&&(0,h.writeWarn)("âš ï¸ SECURITY WARNING: clientSecret detected in browser environment. Client secrets should NEVER be exposed in client-side code. Use the client token pattern instead (clientToken + onClientTokenRefresh). See documentation for browser-safe configuration.")}function A(b){return{tokenKeys:["token","accessToken","authToken"],loginUrl:"/login",timeout:3e4,cache:{enabled:!0,defaultTTL:300,maxSize:100},retry:{enabled:!0,maxRetries:3,baseDelay:1e3,maxDelay:1e4},audit:{enabled:!0,level:"standard",batchSize:10,maxResponseSize:1e4,maxMaskingSize:5e4,skipEndpoints:[]},...b}}return Ai}var ls={},oE;function xR(){if(oE)return ls;oE=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.getPermissions=t,ls.hasPermission=n,ls.hasAnyPermission=s,ls.hasAllPermissions=o,ls.refreshPermissions=l,ls.clearPermissionsCache=c;async function t(i,u,d,h){if(!u||!i)return[];const m=h||d();return m?i.getPermissions(m):[]}async function n(i,u,d,h,m){if(!u||!i)return!1;const p=m||d();return p?i.hasPermission(p,h):!1}async function s(i,u,d,h,m){if(!u||!i)return!1;const p=m||d();return p?i.hasAnyPermission(p,h):!1}async function o(i,u,d,h,m){if(!u||!i)return!1;const p=m||d();return p?i.hasAllPermissions(p,h):!1}async function l(i,u,d,h){if(!u||!i)return[];const m=h||d();return m?i.refreshPermissions(m):[]}async function c(i,u,d,h){if(!u||!i)return;const m=h||d();if(m)return i.clearPermissionsCache(m)}return ls}var cs={},aE;function CR(){if(aE)return cs;aE=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.getRoles=t,cs.hasRole=n,cs.hasAnyRole=s,cs.hasAllRoles=o,cs.refreshRoles=l,cs.clearRolesCache=c;async function t(i,u,d,h){if(!u||!i)return[];const m=h||d();return m?i.getRoles(m):[]}async function n(i,u,d,h,m){if(!u||!i)return!1;const p=m||d();return p?i.hasRole(p,h):!1}async function s(i,u,d,h,m){if(!u||!i)return!1;const p=m||d();return p?i.hasAnyRole(p,h):!1}async function o(i,u,d,h,m){if(!u||!i)return!1;const p=m||d();return p?i.hasAllRoles(p,h):!1}async function l(i,u,d,h){if(!u||!i)return[];const m=h||d();return m?i.refreshRoles(m):[]}async function c(i,u,d,h){if(!u||!i)return;const m=h||d();if(m)return i.clearRolesCache(m)}return cs}var lE;function cx(){if(lE)return Jr;lE=1;var t=Jr&&Jr.__createBinding||(Object.create?(function(w,v,S,_){_===void 0&&(_=S);var L=Object.getOwnPropertyDescriptor(v,S);(!L||("get"in L?!v.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return v[S]}}),Object.defineProperty(w,_,L)}):(function(w,v,S,_){_===void 0&&(_=S),w[_]=v[S]})),n=Jr&&Jr.__setModuleDefault||(Object.create?(function(w,v){Object.defineProperty(w,"default",{enumerable:!0,value:v})}):function(w,v){w.default=v}),s=Jr&&Jr.__importStar||(function(){var w=function(v){return w=Object.getOwnPropertyNames||function(S){var _=[];for(var L in S)Object.prototype.hasOwnProperty.call(S,L)&&(_[_.length]=L);return _},w(v)};return function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var _=w(v),L=0;L<_.length;L++)_[L]!=="default"&&t(S,v,_[L]);return n(S,v),S}})();Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.DataClient=void 0,Jr.dataClient=C;const o=vR(),l=zs(),c=Mr(),i=sx(),u=ox(),d=lx(),h=ax(),m=SR(),p=dt(),x=s(xR()),A=s(CR());class b{constructor(v){this.misoClient=null,this.cache=new Map,this.pendingRequests=new Map,this.failedRequests=new Map,this.interceptors={},this.metrics={totalRequests:0,totalFailures:0,responseTimes:[],cacheHits:0,cacheMisses:0},this.permissionService=null,this.roleService=null,this.config=(0,m.createDefaultConfig)(v),(0,m.warnIfClientSecretInBrowser)(this.config);const S=(0,m.createMisoConfigWithRefresh)(this.config,()=>this.getEnvironmentToken());S&&(this.misoClient=new o.MisoClient(S)),this.config.misoConfig?.sensitiveFieldsConfig&&l.DataMasker.setConfigPath(this.config.misoConfig.sensitiveFieldsConfig);const _=(0,m.initializeBrowserServices)(this.misoClient,S);this.permissionService=_.permissionService,this.roleService=_.roleService,(0,c.isBrowser)()&&this.handleOAuthCallback()}getToken(){return(0,d.getToken)(this.config.tokenKeys)}hasClientToken(){return(0,d.hasClientToken)(this.misoClient,this.config.misoConfig)}hasAnyToken(){return(0,d.hasAnyToken)(this.config.tokenKeys,this.misoClient,this.config.misoConfig)}async getClientToken(){return(0,d.getClientToken)(this.config.misoConfig,this.config.baseUrl,()=>this.getEnvironmentToken())}getControllerUrl(){return(0,d.getControllerUrl)(this.config.misoConfig)}isAuthenticated(){return this.getToken()!==null}handleOAuthCallback(){return(0,d.handleOAuthCallback)(this.config)}async redirectToLogin(v){return(0,h.redirectToLogin)(this.config,()=>this.getClientToken(),v)}async logout(v){return(0,d.logout)(this.config,()=>this.getToken(),()=>this.getClientToken(),()=>this.clearCache(),v,this.misoClient)}setInterceptors(v){this.interceptors={...this.interceptors,...v}}setAuditConfig(v){this.config.audit={...this.config.audit,...v}}setLogLevel(v){if(this.misoClient&&this.config.misoConfig){this.config.misoConfig.logLevel=v;try{const S=this.misoClient.config;S&&(S.logLevel=v)}catch{}}}clearCache(){this.cache.clear()}getMetrics(){const v=(this.metrics.responseTimes||[]).sort((_,L)=>_-L),S=v.length;return{totalRequests:this.metrics.totalRequests,totalFailures:this.metrics.totalFailures,averageResponseTime:S>0?v.reduce((_,L)=>_+L,0)/S:0,responseTimeDistribution:{min:S>0?v[0]:0,max:S>0?v[S-1]:0,p50:S>0?v[Math.floor(S*.5)]:0,p95:S>0?v[Math.floor(S*.95)]:0,p99:S>0?v[Math.floor(S*.99)]:0},errorRate:this.metrics.totalRequests>0?this.metrics.totalFailures/this.metrics.totalRequests:0,cacheHitRate:this.metrics.cacheHits+this.metrics.cacheMisses>0?this.metrics.cacheHits/(this.metrics.cacheHits+this.metrics.cacheMisses):0}}checkCircuitBreaker(v){const S=this.failedRequests.get(v);if(!S)return;const _=Date.now()-S.timestamp,L=S.count||1;if(_<(L===1?5e3:L===2?15e3:3e4))throw S.error;this.failedRequests.delete(v)}recordFailure(v,S){const _=this.failedRequests.get(v),L=_?(_.count||1)+1:1;this.failedRequests.set(v,{timestamp:Date.now(),error:S,count:L});const O=setTimeout(()=>this.failedRequests.delete(v),3e4);typeof O.unref=="function"&&O.unref()}executeRequest(v){return(0,u.executeHttpRequest)({...v,config:this.config,cache:this.cache,misoClient:this.misoClient,hasAnyToken:()=>this.hasAnyToken(),getToken:()=>this.getToken(),handleAuthError:()=>this.handleAuthError(),refreshUserToken:()=>this.refreshUserToken(),interceptors:this.interceptors,metrics:this.metrics})}async request(v,S,_){const L=Date.now(),O=`${this.config.baseUrl}${S}`,N=(0,i.getCacheKeyForRequest)(S,{..._,method:v.toUpperCase()}),R=v.toUpperCase()==="GET",M=(0,i.isCacheEnabled)(v,this.config.cache,_);if(this.checkCircuitBreaker(N),M){const ae=(0,i.getCachedEntry)(this.cache,N,this.metrics);if(ae!==null)return ae}if(R){const ae=this.pendingRequests.get(N);if(ae)return ae}const U={method:v,fullUrl:O,endpoint:S,cacheKey:N,cacheEnabled:M,startTime:L,options:_},Z=R?(async()=>{try{return await this.executeRequest(U)}finally{this.pendingRequests.delete(N)}})():this.executeRequest(U);R&&this.pendingRequests.set(N,Z);try{const ae=await Z;return this.failedRequests.delete(N),ae}catch(ae){throw this.recordFailure(N,ae),ae}}async refreshUserToken(){if(!this.config.onTokenRefresh)return null;try{const v=await this.config.onTokenRefresh();if((0,c.isBrowser)()&&v.token){const{setLocalStorage:S}=await Promise.resolve().then(()=>s(Mr()));for(const _ of this.config.tokenKeys||["token","accessToken","authToken"])S(_,v.token)}return v}catch(v){return(0,p.writeErr)(`Token refresh failed: ${String(v)}`),null}}handleAuthError(){(0,c.isBrowser)()&&this.redirectToLogin().catch(v=>(0,p.writeErr)(`Failed to redirect to login: ${String(v)}`))}async applyRequestInterceptor(v,S){return this.interceptors.onRequest?await this.interceptors.onRequest(v,S):S}async get(v,S){const _=await this.applyRequestInterceptor(v,{...S,method:"GET"});return this.request("GET",v,_)}async post(v,S,_){const L=await this.applyRequestInterceptor(v,{..._,method:"POST",body:S?JSON.stringify(S):void 0,headers:{"Content-Type":"application/json",..._?.headers}});return this.request("POST",v,L)}async put(v,S,_){const L=await this.applyRequestInterceptor(v,{..._,method:"PUT",body:S?JSON.stringify(S):void 0,headers:{"Content-Type":"application/json",..._?.headers}});return this.request("PUT",v,L)}async patch(v,S,_){const L=await this.applyRequestInterceptor(v,{..._,method:"PATCH",body:S?JSON.stringify(S):void 0,headers:{"Content-Type":"application/json",..._?.headers}});return this.request("PATCH",v,L)}async delete(v,S){const _=await this.applyRequestInterceptor(v,{...S,method:"DELETE"});return this.request("DELETE",v,_)}async getPermissions(v){return x.getPermissions(this.permissionService,this.misoClient,()=>this.getToken(),v)}async hasPermission(v,S){return x.hasPermission(this.permissionService,this.misoClient,()=>this.getToken(),v,S)}async hasAnyPermission(v,S){return x.hasAnyPermission(this.permissionService,this.misoClient,()=>this.getToken(),v,S)}async hasAllPermissions(v,S){return x.hasAllPermissions(this.permissionService,this.misoClient,()=>this.getToken(),v,S)}async refreshPermissions(v){return x.refreshPermissions(this.permissionService,this.misoClient,()=>this.getToken(),v)}async clearPermissionsCache(v){return x.clearPermissionsCache(this.permissionService,this.misoClient,()=>this.getToken(),v)}async getRoles(v){return A.getRoles(this.roleService,this.misoClient,()=>this.getToken(),v)}async hasRole(v,S){return A.hasRole(this.roleService,this.misoClient,()=>this.getToken(),v,S)}async hasAnyRole(v,S){return A.hasAnyRole(this.roleService,this.misoClient,()=>this.getToken(),v,S)}async hasAllRoles(v,S){return A.hasAllRoles(this.roleService,this.misoClient,()=>this.getToken(),v,S)}async refreshRoles(v){return A.refreshRoles(this.roleService,this.misoClient,()=>this.getToken(),v)}async clearRolesCache(v){return A.clearRolesCache(this.roleService,this.misoClient,()=>this.getToken(),v)}async validateToken(v){if(!this.misoClient)return!1;const S=v||this.getToken();return S?this.misoClient.validateToken(S):!1}async getUser(v){if(!this.misoClient)return null;const S=v||this.getToken();return S?this.misoClient.getUser(S):null}async getUserInfo(v){if(!this.misoClient)return null;const S=v||this.getToken();return S?this.misoClient.getUserInfo(S):null}async isAuthenticatedAsync(v){return this.validateToken(v)}async getEnvironmentToken(){return(0,d.getEnvironmentToken)(this.config,this.misoClient)}getClientTokenInfo(){return(0,d.getClientTokenInfo)(this.config.misoConfig)}}Jr.DataClient=b;let T=null;function C(w){if(!T&&w&&(T=new b(w)),!T)throw new Error("DataClient not initialized. Call dataClient(config) first.");return T}return Jr}var yl={},cE;function bR(){if(cE)return yl;cE=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.getCachedDataClientConfig=l,yl.autoInitializeDataClient=A;const t=cx(),n=Mr(),s=nx();function o(){if(!(0,n.isBrowser)())return null;try{const b=(0,n.getLocalStorage)("miso:dataclient-config");if(!b)return null;const T=JSON.parse(b);return T.expiresAt&&T.expiresAt<Date.now()?((0,n.removeLocalStorage)("miso:dataclient-config"),null):T}catch{return(0,n.removeLocalStorage)("miso:dataclient-config"),null}}function l(){return o()?.config||null}function c(b,T){if((0,n.isBrowser)())try{const C={config:b,expiresAt:Date.now()+T*1e3};(0,n.setLocalStorage)("miso:dataclient-config",JSON.stringify(C))}catch{}}function i(b,T){return/^https?:\/\//i.test(T)?T:`${b}${T}`}function u(b){const T=new AbortController,C=setTimeout(()=>T.abort(),b);return typeof C.unref=="function"&&C.unref(),{controller:T,timeoutId:C}}function d(b,T,C){const w=b instanceof Error?b.message:String(b);return(b instanceof Error?b.name:"Unknown")==="AbortError"||w.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${C}ms. Please check if the server is running and accessible at ${T}`):w.includes("ERR_EMPTY_RESPONSE")||w.includes("empty response")?new Error(`Connection error: The server closed the connection without sending a response. Please check if the server is running and accessible at ${T}`):w.includes("Failed to fetch")||w.includes("network")?new Error(`Network error: Cannot connect to ${T}. Please check your network connection and ensure the server is running.`):new Error(`Failed to fetch config: ${w}`)}async function h(b,T,C,w){const{controller:v,timeoutId:S}=u(C);try{const _=await fetch(b,{method:T,headers:w,credentials:"include",signal:v.signal});return clearTimeout(S),_}catch(_){throw clearTimeout(S),d(_,b,C)}}async function m(b,T){const C=await h(b,"POST",T,{"Content-Type":"application/json"});return C.status!==405?C:h(b,"GET",T)}async function p(b){let T=`Failed to fetch config: ${b.status} ${b.statusText}`,C;try{const w=b.headers.get("content-type");if(w&&w.includes("application/json")){const v=await b.json().catch(()=>null);if(v&&(typeof v.message=="string"?T=v.message:typeof v.error=="string"&&(T=v.error),v.details)){if(typeof v.details=="string")C=v.details;else if(typeof v.details=="object"&&v.details!==null){const S=v.details;typeof S.suggestion=="string"?C=S.suggestion:typeof S.controllerUrl=="string"&&(C=`Controller URL: ${S.controllerUrl}`)}}}else{const v=await b.text().catch(()=>"Unable to read error response");v&&v!=="Unable to read error response"&&(T=`${T}. ${v}`)}}catch{try{const w=await b.text().catch(()=>"");w&&(T=`${T}. ${w}`)}catch{}}return C?`${T}. ${C}`:T}async function x(b,T){const C=i(b,T),w=3e4;try{const v=await m(C,w);if(!v.ok)throw new Error(await p(v));const S=await v.json();if(!(0,s.hasConfig)(S))throw new Error("Invalid response format: config not found in response. Make sure your server endpoint uses createClientTokenEndpoint() helper.");return S.config}catch(v){throw v instanceof Error?v:new Error(`Network error: ${String(v)}`)}}async function A(b){if(!(0,n.isBrowser)())throw new Error("autoInitializeDataClient() is only available in browser environment");const T={clientTokenUri:b?.clientTokenUri||"/api/v1/auth/client-token",cacheConfig:b?.cacheConfig??!0,baseUrl:b?.baseUrl,onError:b?.onError};try{const C=T.baseUrl||((0,n.isBrowser)()?globalThis.window.location.origin:"");if(!C)throw new Error("Unable to detect baseUrl. Please provide baseUrl option.");let w=null;if(T.cacheConfig){const S=o();S&&(w=S.config)}w||(w=await x(C,T.clientTokenUri),T.cacheConfig&&c(w,1800));const v={baseUrl:w.baseUrl,misoConfig:{clientId:w.clientId,controllerUrl:w.controllerUrl,controllerPublicUrl:w.controllerPublicUrl,clientTokenUri:w.clientTokenUri}};return new t.DataClient(v)}catch(C){const w=C instanceof Error?C:new Error(String(C));throw T.onError&&T.onError(w),w}}return yl}var uE;function ux(){return uE||(uE=1,(function(t){var n=Ci&&Ci.__createBinding||(Object.create?(function(Q,z,K,Y){Y===void 0&&(Y=K);var H=Object.getOwnPropertyDescriptor(z,K);(!H||("get"in H?!z.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return z[K]}}),Object.defineProperty(Q,Y,H)}):(function(Q,z,K,Y){Y===void 0&&(Y=K),Q[Y]=z[K]})),s=Ci&&Ci.__exportStar||function(Q,z){for(var K in Q)K!=="default"&&!Object.prototype.hasOwnProperty.call(z,K)&&n(z,Q,K)};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenValidationService=t.getCachedDataClientConfig=t.autoInitializeDataClient=t.dataClient=t.DataClient=t.loggerContextMiddleware=t.hasConfig=t.createClientTokenEndpoint=t.sendErrorResponse=t.getErrorTitle=t.getErrorTypeUri=t.handleRouteError=t.setErrorLogger=t.createErrorResponse=t.createSuccessResponse=t.AppError=t.ValidationHelper=t.asyncHandlerNamed=t.asyncHandler=t.injectResponseHelpers=t.ResponseHelper=t.APPLICATION_STATUS_VALUES=t.EncryptionError=t.EncryptionService=t.handleApiError=t.transformError=t.ApiErrorException=t.MisoClientError=t.extractRequestContext=t.extractLoggingContext=t.validateUrl=t.isBrowser=t.resolveKeycloakUrl=t.resolveControllerUrl=t.extractClientTokenInfo=t.getEnvironmentToken=t.validateOrigin=t.loadConfig=t.LoggerContextStorage=t.getLogger=t.HttpClient=t.CacheService=t.RedisService=t.LoggerService=t.BrowserRoleService=t.BrowserPermissionService=t.PermissionService=t.RoleService=t.AuthService=t.detectAuthMethodFromHeaders=void 0,s(Gp(),t),s(JS(),t),s(YS(),t);var o=Jp();Object.defineProperty(t,"detectAuthMethodFromHeaders",{enumerable:!0,get:function(){return o.detectAuthMethodFromHeaders}});var l=QE();Object.defineProperty(t,"AuthService",{enumerable:!0,get:function(){return l.AuthService}});var c=ZE();Object.defineProperty(t,"RoleService",{enumerable:!0,get:function(){return c.RoleService}});var i=eS();Object.defineProperty(t,"PermissionService",{enumerable:!0,get:function(){return i.PermissionService}});var u=XS();Object.defineProperty(t,"BrowserPermissionService",{enumerable:!0,get:function(){return u.BrowserPermissionService}});var d=QS();Object.defineProperty(t,"BrowserRoleService",{enumerable:!0,get:function(){return d.BrowserRoleService}});var h=mu();Object.defineProperty(t,"LoggerService",{enumerable:!0,get:function(){return h.LoggerService}});var m=Kp();Object.defineProperty(t,"RedisService",{enumerable:!0,get:function(){return m.RedisService}});var p=Vp();Object.defineProperty(t,"CacheService",{enumerable:!0,get:function(){return p.CacheService}});var x=Xp();Object.defineProperty(t,"HttpClient",{enumerable:!0,get:function(){return x.HttpClient}});var A=zu();Object.defineProperty(t,"getLogger",{enumerable:!0,get:function(){return A.getLogger}});var b=mu();Object.defineProperty(t,"LoggerContextStorage",{enumerable:!0,get:function(){return b.LoggerContextStorage}});var T=oR();Object.defineProperty(t,"loadConfig",{enumerable:!0,get:function(){return T.loadConfig}});var C=Wu();Object.defineProperty(t,"validateOrigin",{enumerable:!0,get:function(){return C.validateOrigin}});var w=dm();Object.defineProperty(t,"getEnvironmentToken",{enumerable:!0,get:function(){return w.getEnvironmentToken}});var v=Hu();Object.defineProperty(t,"extractClientTokenInfo",{enumerable:!0,get:function(){return v.extractClientTokenInfo}});var S=Hs();Object.defineProperty(t,"resolveControllerUrl",{enumerable:!0,get:function(){return S.resolveControllerUrl}}),Object.defineProperty(t,"resolveKeycloakUrl",{enumerable:!0,get:function(){return S.resolveKeycloakUrl}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return S.isBrowser}}),Object.defineProperty(t,"validateUrl",{enumerable:!0,get:function(){return S.validateUrl}});var _=aR();Object.defineProperty(t,"extractLoggingContext",{enumerable:!0,get:function(){return _.extractLoggingContext}});var L=Rl();Object.defineProperty(t,"extractRequestContext",{enumerable:!0,get:function(){return L.extractRequestContext}}),s(ZS(),t),s(cR(),t),s(dR(),t),s(fR(),t);var O=Li();Object.defineProperty(t,"MisoClientError",{enumerable:!0,get:function(){return O.MisoClientError}}),Object.defineProperty(t,"ApiErrorException",{enumerable:!0,get:function(){return O.ApiErrorException}}),Object.defineProperty(t,"transformError",{enumerable:!0,get:function(){return O.transformError}}),Object.defineProperty(t,"handleApiError",{enumerable:!0,get:function(){return O.handleApiError}});var N=VS();Object.defineProperty(t,"EncryptionService",{enumerable:!0,get:function(){return N.EncryptionService}});var R=KS();Object.defineProperty(t,"EncryptionError",{enumerable:!0,get:function(){return R.EncryptionError}});var M=hR();Object.defineProperty(t,"APPLICATION_STATUS_VALUES",{enumerable:!0,get:function(){return M.APPLICATION_STATUS_VALUES}});var U=yR();Object.defineProperty(t,"ResponseHelper",{enumerable:!0,get:function(){return U.ResponseHelper}}),Object.defineProperty(t,"injectResponseHelpers",{enumerable:!0,get:function(){return U.injectResponseHelpers}}),Object.defineProperty(t,"asyncHandler",{enumerable:!0,get:function(){return U.asyncHandler}}),Object.defineProperty(t,"asyncHandlerNamed",{enumerable:!0,get:function(){return U.asyncHandlerNamed}}),Object.defineProperty(t,"ValidationHelper",{enumerable:!0,get:function(){return U.ValidationHelper}}),Object.defineProperty(t,"AppError",{enumerable:!0,get:function(){return U.AppError}}),Object.defineProperty(t,"createSuccessResponse",{enumerable:!0,get:function(){return U.createSuccessResponse}}),Object.defineProperty(t,"createErrorResponse",{enumerable:!0,get:function(){return U.createErrorResponse}}),Object.defineProperty(t,"setErrorLogger",{enumerable:!0,get:function(){return U.setErrorLogger}}),Object.defineProperty(t,"handleRouteError",{enumerable:!0,get:function(){return U.handleRouteError}}),Object.defineProperty(t,"getErrorTypeUri",{enumerable:!0,get:function(){return U.getErrorTypeUri}}),Object.defineProperty(t,"getErrorTitle",{enumerable:!0,get:function(){return U.getErrorTitle}}),Object.defineProperty(t,"sendErrorResponse",{enumerable:!0,get:function(){return U.sendErrorResponse}}),Object.defineProperty(t,"createClientTokenEndpoint",{enumerable:!0,get:function(){return U.createClientTokenEndpoint}}),Object.defineProperty(t,"hasConfig",{enumerable:!0,get:function(){return U.hasConfig}}),Object.defineProperty(t,"loggerContextMiddleware",{enumerable:!0,get:function(){return U.loggerContextMiddleware}});var Z=cx();Object.defineProperty(t,"DataClient",{enumerable:!0,get:function(){return Z.DataClient}}),Object.defineProperty(t,"dataClient",{enumerable:!0,get:function(){return Z.dataClient}});var ae=bR();Object.defineProperty(t,"autoInitializeDataClient",{enumerable:!0,get:function(){return ae.autoInitializeDataClient}}),Object.defineProperty(t,"getCachedDataClientConfig",{enumerable:!0,get:function(){return ae.getCachedDataClientConfig}});var G=BS();Object.defineProperty(t,"TokenValidationService",{enumerable:!0,get:function(){return G.TokenValidationService}})})(Ci)),Ci}var dE;function TR(){return dE||(dE=1,(function(t){var n=mi&&mi.__createBinding||(Object.create?(function(l,c,i,u){u===void 0&&(u=i);var d=Object.getOwnPropertyDescriptor(c,i);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[i]}}),Object.defineProperty(l,u,d)}):(function(l,c,i,u){u===void 0&&(u=i),l[u]=c[i]})),s=mi&&mi.__exportStar||function(l,c){for(var i in l)i!=="default"&&!Object.prototype.hasOwnProperty.call(c,i)&&n(c,l,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.MisoClient=void 0;var o=GS();Object.defineProperty(t,"MisoClient",{enumerable:!0,get:function(){return o.MisoClient}}),s(ux(),t)})(mi)),mi}var dx=TR();const fx=$.createContext(void 0);function _R({children:t,initOptions:n}){const[s,o]=$.useState(null),[l,c]=$.useState(!0),[i,u]=$.useState(null),[d,h]=$.useState(0),m=3,p=2e3,x=async(C=0)=>{c(!0),u(null);try{const w=await dx.autoInitializeDataClient({clientTokenUri:n?.clientTokenUri,baseUrl:n?.baseUrl,cacheConfig:n?.cacheConfig??!0,onError:v=>{u(v)}});o(w),h(0)}catch(w){const v=w instanceof Error?w:new Error(String(w));if(C<m){const S=C+1;h(S);const _=p*Math.pow(2,C);return await new Promise(L=>setTimeout(L,_)),x(S)}u(v),o(null)}finally{c(!1)}},A=async()=>{h(0),await x(0)},b=C=>{o(C),u(null),c(!1),h(0)};$.useEffect(()=>{x()},[]);const T=$.useMemo(()=>({dataClient:s,isLoading:l,error:i,retryCount:d,reinitialize:A,setManualClient:b}),[s,l,i,d]);return g.jsx(fx.Provider,{value:T,children:t})}function Uo(){const t=$.useContext(fx);if(t===void 0)throw new Error("useDataClient must be used within DataClientProvider");return t}function fE(t){if(!t)return null;const n=t.message||String(t);try{const s=t;if(s.response?.data){const o=s.response.data;if(typeof o=="object"&&o!==null){const l=o,c=l.title&&typeof l.title=="string"?l.title:"Error",i=l.detail&&typeof l.detail=="string"?l.detail:c;if(l.title||l.detail)return{title:c,detail:i}}}}catch{}try{const s=n.indexOf("{");if(s!==-1){let o=0,l=-1;for(let c=s;c<n.length;c++)if(n[c]==="{"&&o++,n[c]==="}"&&(o--,o===0)){l=c;break}if(l!==-1){const c=n.substring(s,l+1),i=JSON.parse(c);if(i.title||i.detail){const u=i.title&&typeof i.title=="string"?i.title:"Error",d=i.detail&&typeof i.detail=="string"?i.detail:u;return{title:u,detail:d}}if(i.message&&typeof i.message=="string")return{title:"Error",detail:i.message};if(i.error&&typeof i.error=="string")return{title:"Error",detail:i.error}}}}catch{}return n.includes("ERR_EMPTY_RESPONSE")||n.includes("empty response")||n.includes("Connection error")?{title:"Connection Error",detail:"The server closed the connection without sending a response. Please check if the server is running and accessible."}:n.includes("timeout")||n.includes("Timeout")||n.includes("did not respond within")?{title:"Timeout Error",detail:"Request timed out. Please check your network connection and ensure the server is running."}:n.includes("Network")||n.includes("Failed to fetch")||n.includes("network")?{title:"Network Error",detail:"Unable to connect to server. Please check if the server is running and accessible."}:n.includes("CORS")||n.includes("cross-origin")||n.includes("CORS policy")?{title:"CORS Error",detail:"Cross-origin request blocked. Please check CORS configuration on the server."}:n.includes("ECONNREFUSED")||n.includes("connection refused")?{title:"Connection Error",detail:"Connection refused. Please check if the server is running and accessible."}:n.includes("ENOTFOUND")||n.includes("getaddrinfo")?{title:"Connection Error",detail:"Unable to resolve server address. Please check the server URL configuration."}:null}function St(t){return t instanceof Error?t.message:typeof t=="string"?t:"Unknown error occurred"}function up(t){const n=t;return n?.status||n?.response?.status||null}function hE(){const{dataClient:t,error:n,isLoading:s,reinitialize:o}=Uo(),[l,c]=$.useState(!1),[i,u]=$.useState(null),d=()=>{const L=dx.getCachedDataClientConfig();return L?{baseUrl:L.baseUrl||"",controllerUrl:L.controllerUrl||"",clientId:L.clientId||"",clientTokenUri:L.clientTokenUri}:null};$.useEffect(()=>{if(t){const L=d();u(L||{baseUrl:typeof window<"u"?window.location.origin:"http://localhost:3183",controllerUrl:"",clientId:""})}else u(null)},[t]);const h=async()=>{c(!0);try{await o();const L=d();L&&u(L),de.success("DataClient initialized successfully",{description:"Configuration fetched from server endpoint"})}catch(L){const O=L instanceof Error?L:new Error(St(L)),N=fE(O),R=N?.title||"Failed to initialize DataClient",M=N?.detail||O.message||"Unknown error occurred";de.error(R,{description:M,duration:5e3})}finally{c(!1)}},m=!!t,p=i?.baseUrl||(typeof window<"u"?window.location.origin:""),x=i?.controllerUrl||"Not set",A=i?.clientId||"Not set",b=n?fE(n):null,T=b?.title||(n?"Error":null),C=b?.detail||(n?n.message:null),w=b!==null,v=!s&&!l,S=v&&n&&T&&C,_=v&&m&&!n;return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Configuration"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Initialize and configure the Data Client connection"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-4xl space-y-6",children:[S&&g.jsx(ve,{className:"border-red-200 bg-red-50",children:g.jsx(we,{className:"pt-6",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(ub,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-red-900 mb-1",children:T}),g.jsx("p",{className:`text-sm text-red-700 ${w?"":"font-mono break-all"}`,children:C})]})]})})}),_&&g.jsx(ve,{className:"border-green-200 bg-green-50",children:g.jsx(we,{className:"pt-6",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(SE,{className:"w-6 h-6 text-green-600"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-green-900",children:"DataClient Initialized"}),g.jsx("p",{className:"text-sm text-green-700",children:"Ready to make API requests"})]})]})})}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:g.jsx(Ob,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{children:[g.jsx(be,{children:"Zero-Config Setup"}),g.jsx(We,{children:"Automatically fetch configuration from server (Recommended)"})]})]})}),g.jsx(we,{children:g.jsx(Ye,{onClick:h,disabled:s||l,className:"w-full",size:"lg",children:l?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Initializing..."]}):g.jsxs(g.Fragment,{children:["Auto-Initialize DataClient",g.jsx(ob,{className:"w-4 h-4 ml-2"})]})})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:g.jsx(xE,{className:"w-5 h-5 text-muted-foreground"})}),g.jsxs("div",{children:[g.jsx(be,{children:"Configuration Settings"}),g.jsx(We,{children:"Configure settings via environment variables"})]})]})}),g.jsx(we,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-sm text-muted-foreground",children:["You can change configuration settings by editing the ",g.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file in the root directory:"]}),g.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-xs space-y-1",children:[g.jsx("div",{className:"text-muted-foreground",children:"# Application port (default: 3083)"}),g.jsx("div",{className:"text-muted-foreground",children:"PORT=3183"}),g.jsx("div",{className:"text-muted-foreground",children:"# MISO Application Client Credentials (per application)"}),g.jsx("div",{children:"MISO_CLIENTID=miso-controller-dev-miso-test"}),g.jsx("div",{children:"MISO_CLIENTSECRET=your-secret-here"}),g.jsx("div",{className:"text-muted-foreground",children:"# MISO Controller URL"}),g.jsx("div",{children:"MISO_CONTROLLER_URL=http://localhost:3000"})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["After modifying the ",g.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file, restart the server for changes to take effect."]})]})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Connection Information"}),g.jsx(We,{children:"Current configuration settings"})]}),g.jsx(we,{children:g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Status"}),g.jsx("span",{className:m?"text-green-600 font-medium":"text-muted-foreground",children:m?"Connected":"Not Initialized"})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Base URL"}),g.jsx("span",{className:"font-mono text-xs",children:p})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Controller URL"}),g.jsx("span",{className:"font-mono text-xs",children:x})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Client ID"}),g.jsx("span",{className:"font-mono text-xs",children:A})]}),i?.clientTokenUri&&g.jsxs("div",{className:"flex justify-between py-2",children:[g.jsx("span",{className:"text-muted-foreground",children:"Client Token URI"}),g.jsx("span",{className:"font-mono text-xs",children:i.clientTokenUri})]})]})})]})]})})]})}function fs(t,n,{checkForDefaultPrevented:s=!0}={}){return function(l){if(t?.(l),s===!1||!l.defaultPrevented)return n?.(l)}}function hm(t,n=[]){let s=[];function o(c,i){const u=$.createContext(i),d=s.length;s=[...s,i];const h=p=>{const{scope:x,children:A,...b}=p,T=x?.[t]?.[d]||u,C=$.useMemo(()=>b,Object.values(b));return g.jsx(T.Provider,{value:C,children:A})};h.displayName=c+"Provider";function m(p,x){const A=x?.[t]?.[d]||u,b=$.useContext(A);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[h,m]}const l=()=>{const c=s.map(i=>$.createContext(i));return function(u){const d=u?.[t]||c;return $.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return l.scopeName=t,[o,kR(l,...n)]}function kR(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const o=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const i=o.reduce((u,{useScope:d,scopeName:h})=>{const p=d(c)[`__scope${h}`];return{...u,...p}},{});return $.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return s.scopeName=n.scopeName,s}function _p(t){const n=RR(t),s=$.forwardRef((o,l)=>{const{children:c,...i}=o,u=$.Children.toArray(c),d=u.find(IR);if(d){const h=d.props.children,m=u.map(p=>p===d?$.Children.count(h)>1?$.Children.only(null):$.isValidElement(h)?h.props.children:null:p);return g.jsx(n,{...i,ref:l,children:$.isValidElement(h)?$.cloneElement(h,void 0,m):null})}return g.jsx(n,{...i,ref:l,children:c})});return s.displayName=`${t}.Slot`,s}function RR(t){const n=$.forwardRef((s,o)=>{const{children:l,...c}=s;if($.isValidElement(l)){const i=NR(l),u=PR(c,l.props);return l.type!==$.Fragment&&(u.ref=o?Pp(o,i):i),$.cloneElement(l,u)}return $.Children.count(l)>1?$.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var AR=Symbol("radix.slottable");function IR(t){return $.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AR}function PR(t,n){const s={...n};for(const o in n){const l=t[o],c=n[o];/^on[A-Z]/.test(o)?l&&c?s[o]=(...u)=>{const d=c(...u);return l(...u),d}:l&&(s[o]=l):o==="style"?s[o]={...l,...c}:o==="className"&&(s[o]=[l,c].filter(Boolean).join(" "))}return{...t,...s}}function NR(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function OR(t){const n=t+"CollectionProvider",[s,o]=hm(n),[l,c]=s(n,{collectionRef:{current:null},itemMap:new Map}),i=T=>{const{scope:C,children:w}=T,v=$.useRef(null),S=$.useRef(new Map).current;return g.jsx(l,{scope:C,itemMap:S,collectionRef:v,children:w})};i.displayName=n;const u=t+"CollectionSlot",d=_p(u),h=$.forwardRef((T,C)=>{const{scope:w,children:v}=T,S=c(u,w),_=uu(C,S.collectionRef);return g.jsx(d,{ref:_,children:v})});h.displayName=u;const m=t+"CollectionItemSlot",p="data-radix-collection-item",x=_p(m),A=$.forwardRef((T,C)=>{const{scope:w,children:v,...S}=T,_=$.useRef(null),L=uu(C,_),O=c(m,w);return $.useEffect(()=>(O.itemMap.set(_,{ref:_,...S}),()=>void O.itemMap.delete(_))),g.jsx(x,{[p]:"",ref:L,children:v})});A.displayName=m;function b(T){const C=c(t+"CollectionConsumer",T);return $.useCallback(()=>{const v=C.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((O,N)=>S.indexOf(O.ref.current)-S.indexOf(N.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:i,Slot:h,ItemSlot:A},b,o]}var bu=globalThis?.document?$.useLayoutEffect:()=>{},jR=Ip[" useId ".trim().toString()]||(()=>{}),LR=0;function hx(t){const[n,s]=$.useState(jR());return bu(()=>{s(o=>o??String(LR++))},[t]),t||(n?`radix-${n}`:"")}var DR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qo=DR.reduce((t,n)=>{const s=_p(`Primitive.${n}`),o=$.forwardRef((l,c)=>{const{asChild:i,...u}=l,d=i?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(d,{...u,ref:c})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{});function MR(t){const n=$.useRef(t);return $.useEffect(()=>{n.current=t}),$.useMemo(()=>(...s)=>n.current?.(...s),[])}var UR=Ip[" useInsertionEffect ".trim().toString()]||bu;function px({prop:t,defaultProp:n,onChange:s=()=>{},caller:o}){const[l,c,i]=qR({defaultProp:n,onChange:s}),u=t!==void 0,d=u?t:l;{const m=$.useRef(t!==void 0);$.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,o])}const h=$.useCallback(m=>{if(u){const p=FR(m)?m(t):m;p!==t&&i.current?.(p)}else c(m)},[u,t,c,i]);return[d,h]}function qR({defaultProp:t,onChange:n}){const[s,o]=$.useState(t),l=$.useRef(s),c=$.useRef(n);return UR(()=>{c.current=n},[n]),$.useEffect(()=>{l.current!==s&&(c.current?.(s),l.current=s)},[s,l]),[s,o,c]}function FR(t){return typeof t=="function"}var HR=$.createContext(void 0);function mx(t){const n=$.useContext(HR);return t||n||"ltr"}var dp="rovingFocusGroup.onEntryFocus",$R={bubbles:!1,cancelable:!0},Nl="RovingFocusGroup",[kp,gx,zR]=OR(Nl),[WR,yx]=hm(Nl,[zR]),[BR,KR]=WR(Nl),vx=$.forwardRef((t,n)=>g.jsx(kp.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(kp.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(VR,{...t,ref:n})})}));vx.displayName=Nl;var VR=$.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:l=!1,dir:c,currentTabStopId:i,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=t,x=$.useRef(null),A=uu(n,x),b=mx(c),[T,C]=px({prop:i,defaultProp:u??null,onChange:d,caller:Nl}),[w,v]=$.useState(!1),S=MR(h),_=gx(s),L=$.useRef(!1),[O,N]=$.useState(0);return $.useEffect(()=>{const R=x.current;if(R)return R.addEventListener(dp,S),()=>R.removeEventListener(dp,S)},[S]),g.jsx(BR,{scope:s,orientation:o,dir:b,loop:l,currentTabStopId:T,onItemFocus:$.useCallback(R=>C(R),[C]),onItemShiftTab:$.useCallback(()=>v(!0),[]),onFocusableItemAdd:$.useCallback(()=>N(R=>R+1),[]),onFocusableItemRemove:$.useCallback(()=>N(R=>R-1),[]),children:g.jsx(qo.div,{tabIndex:w||O===0?-1:0,"data-orientation":o,...p,ref:A,style:{outline:"none",...t.style},onMouseDown:fs(t.onMouseDown,()=>{L.current=!0}),onFocus:fs(t.onFocus,R=>{const M=!L.current;if(R.target===R.currentTarget&&M&&!w){const U=new CustomEvent(dp,$R);if(R.currentTarget.dispatchEvent(U),!U.defaultPrevented){const Z=_().filter(K=>K.focusable),ae=Z.find(K=>K.active),G=Z.find(K=>K.id===T),z=[ae,G,...Z].filter(Boolean).map(K=>K.ref.current);Sx(z,m)}}L.current=!1}),onBlur:fs(t.onBlur,()=>v(!1))})})}),wx="RovingFocusGroupItem",Ex=$.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:l=!1,tabStopId:c,children:i,...u}=t,d=hx(),h=c||d,m=KR(wx,s),p=m.currentTabStopId===h,x=gx(s),{onFocusableItemAdd:A,onFocusableItemRemove:b,currentTabStopId:T}=m;return $.useEffect(()=>{if(o)return A(),()=>b()},[o,A,b]),g.jsx(kp.ItemSlot,{scope:s,id:h,focusable:o,active:l,children:g.jsx(qo.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:n,onMouseDown:fs(t.onMouseDown,C=>{o?m.onItemFocus(h):C.preventDefault()}),onFocus:fs(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:fs(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const w=YR(C,m.orientation,m.dir);if(w!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let S=x().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")S.reverse();else if(w==="prev"||w==="next"){w==="prev"&&S.reverse();const _=S.indexOf(C.currentTarget);S=m.loop?XR(S,_+1):S.slice(_+1)}setTimeout(()=>Sx(S))}}),children:typeof i=="function"?i({isCurrentTabStop:p,hasTabStop:T!=null}):i})})});Ex.displayName=wx;var GR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JR(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YR(t,n,s){const o=JR(t.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return GR[o]}function Sx(t,n=!1){const s=document.activeElement;for(const o of t)if(o===s||(o.focus({preventScroll:n}),document.activeElement!==s))return}function XR(t,n){return t.map((s,o)=>t[(n+o)%t.length])}var QR=vx,ZR=Ex;function eA(t,n){return $.useReducer((s,o)=>n[s][o]??s,t)}var xx=t=>{const{present:n,children:s}=t,o=tA(n),l=typeof s=="function"?s({present:o.isPresent}):$.Children.only(s),c=uu(o.ref,rA(l));return typeof s=="function"||o.isPresent?$.cloneElement(l,{ref:c}):null};xx.displayName="Presence";function tA(t){const[n,s]=$.useState(),o=$.useRef(null),l=$.useRef(t),c=$.useRef("none"),i=t?"mounted":"unmounted",[u,d]=eA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const h=ou(o.current);c.current=u==="mounted"?h:"none"},[u]),bu(()=>{const h=o.current,m=l.current;if(m!==t){const x=c.current,A=ou(h);t?d("MOUNT"):A==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&x!==A?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,d]),bu(()=>{if(n){let h;const m=n.ownerDocument.defaultView??window,p=A=>{const T=ou(o.current).includes(CSS.escape(A.animationName));if(A.target===n&&T&&(d("ANIMATION_END"),!l.current)){const C=n.style.animationFillMode;n.style.animationFillMode="forwards",h=m.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=C)})}},x=A=>{A.target===n&&(c.current=ou(o.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{m.clearTimeout(h),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:$.useCallback(h=>{o.current=h?getComputedStyle(h):null,s(h)},[])}}function ou(t){return t?.animationName||"none"}function rA(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Qu="Tabs",[nA]=hm(Qu,[yx]),Cx=yx(),[sA,pm]=nA(Qu),bx=$.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,onValueChange:l,defaultValue:c,orientation:i="horizontal",dir:u,activationMode:d="automatic",...h}=t,m=mx(u),[p,x]=px({prop:o,onChange:l,defaultProp:c??"",caller:Qu});return g.jsx(sA,{scope:s,baseId:hx(),value:p,onValueChange:x,orientation:i,dir:m,activationMode:d,children:g.jsx(qo.div,{dir:m,"data-orientation":i,...h,ref:n})})});bx.displayName=Qu;var Tx="TabsList",_x=$.forwardRef((t,n)=>{const{__scopeTabs:s,loop:o=!0,...l}=t,c=pm(Tx,s),i=Cx(s);return g.jsx(QR,{asChild:!0,...i,orientation:c.orientation,dir:c.dir,loop:o,children:g.jsx(qo.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:n})})});_x.displayName=Tx;var kx="TabsTrigger",Rx=$.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,disabled:l=!1,...c}=t,i=pm(kx,s),u=Cx(s),d=Px(i.baseId,o),h=Nx(i.baseId,o),m=o===i.value;return g.jsx(ZR,{asChild:!0,...u,focusable:!l,active:m,children:g.jsx(qo.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:d,...c,ref:n,onMouseDown:fs(t.onMouseDown,p=>{!l&&p.button===0&&p.ctrlKey===!1?i.onValueChange(o):p.preventDefault()}),onKeyDown:fs(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(o)}),onFocus:fs(t.onFocus,()=>{const p=i.activationMode!=="manual";!m&&!l&&p&&i.onValueChange(o)})})})});Rx.displayName=kx;var Ax="TabsContent",Ix=$.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,forceMount:l,children:c,...i}=t,u=pm(Ax,s),d=Px(u.baseId,o),h=Nx(u.baseId,o),m=o===u.value,p=$.useRef(m);return $.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),g.jsx(xx,{present:l||m,children:({present:x})=>g.jsx(qo.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:h,tabIndex:0,...i,ref:n,style:{...t.style,animationDuration:p.current?"0s":void 0},children:x&&c})})});Ix.displayName=Ax;function Px(t,n){return`${t}-trigger-${n}`}function Nx(t,n){return`${t}-content-${n}`}var iA=bx,oA=_x,aA=Rx,lA=Ix;function Zu({className:t,...n}){return g.jsx(iA,{"data-slot":"tabs",className:Qr("flex flex-col gap-2",t),...n})}function ed({className:t,...n}){return g.jsx(oA,{"data-slot":"tabs-list",className:Qr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...n})}function gr({className:t,...n}){return g.jsx(aA,{"data-slot":"tabs-trigger",className:Qr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function yr({className:t,...n}){return g.jsx(lA,{"data-slot":"tabs-content",className:Qr("flex-1 outline-none",t),...n})}function cA(t,n){const[s,o]=$.useState(!1),[l,c]=$.useState(null),i=async(N,R,M)=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{let U;switch(N){case"GET":U=await t.get(R,{cache:{enabled:!1}});break;case"POST":U=await t.post(R,M);break;case"PUT":U=await t.put(R,M);break;case"PATCH":U=await t.patch(R,M);break;case"DELETE":U=await t.delete(R);break;default:throw new Error(`Unsupported method: ${N}`)}c({method:N,endpoint:R,status:200,timestamp:new Date().toISOString(),data:U}),de.success(`${N} ${R} successful`)}catch(U){const Z=St(U),ae=up(U)||"ERROR";c({method:N,endpoint:R,error:Z,status:ae,timestamp:new Date().toISOString()}),de.error("Request failed",{description:Z})}finally{o(!1)}};return{loading:s,result:l,isDisabled:s||n||!t,httpMethods:{testGet:()=>{i("GET","/api/users")},testGetById:()=>{i("GET","/api/users/1")},testPost:()=>{i("POST","/api/users",{name:"New User",email:"newuser@example.com"})},testPut:()=>{i("PUT","/api/users/1",{name:"John Doe Updated",email:"john.updated@example.com"})},testPatch:()=>{i("PATCH","/api/users/1",{email:"john.patched@example.com"})},testDelete:()=>{i("DELETE","/api/users/1")}},auth:{testIsAuthenticated:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=t.isAuthenticated();c({authenticated:N,timestamp:new Date().toISOString()}),de.success(N?"User is authenticated":"User is not authenticated")}catch(N){const R=St(N);de.error("Failed to check authentication",{description:R})}finally{o(!1)}},testGetToken:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=await t.getEnvironmentToken();c({token:N||"No token available",timestamp:new Date().toISOString()}),de.success("Token retrieved successfully")}catch(N){const R=St(N);de.error("Failed to get token",{description:R})}finally{o(!1)}},testGetClientTokenInfo:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=t.getClientTokenInfo();c({tokenInfo:N||"No token info available",timestamp:new Date().toISOString()}),de.success("Token info retrieved successfully")}catch(N){const R=St(N);de.error("Failed to get token info",{description:R})}finally{o(!1)}},testGetUser:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=await t.getUser();if(!N){de.error("No user info available. Please login first."),c({error:"No user info available. User may not be authenticated. Please login first.",timestamp:new Date().toISOString()});return}c({userInfo:N,timestamp:new Date().toISOString()}),de.success("User info retrieved successfully")}catch(N){const R=St(N),M=up(N);M===401?de.error("Authentication failed",{description:"Token is invalid or expired. Please login again."}):de.error("Failed to get user info",{description:R}),c({error:R,status:M,timestamp:new Date().toISOString()})}finally{o(!1)}},testLogout:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{await t.logout(),c({message:"User logged out successfully",timestamp:new Date().toISOString()}),de.success("Logged out successfully")}catch(N){const R=St(N);de.error("Logout failed",{description:R})}finally{o(!1)}},testRedirectToLogin:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{c({message:"Redirecting to login... (Page will redirect to miso-controller login endpoint)",timestamp:new Date().toISOString()}),await t.redirectToLogin()}catch(N){const R=St(N);c({error:R,timestamp:new Date().toISOString()}),de.error("Redirect to login failed",{description:R}),o(!1)}}},errors:{testNetworkError:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{await t.get("/api/invalid-endpoint-that-does-not-exist-12345",{cache:{enabled:!1}})}catch(N){const R=St(N);c({error:R,type:"NETWORK_ERROR",message:R,timestamp:new Date().toISOString()}),de.error("Network error occurred",{description:R})}finally{o(!1)}},testTimeout:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{await t.get("/api/slow-endpoint",{cache:{enabled:!1},timeout:100})}catch(N){const R=St(N);c({error:R,type:"TIMEOUT_ERROR",message:R,timestamp:new Date().toISOString()}),de.error("Request timeout occurred",{description:R})}finally{o(!1)}},testApiError:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{await t.post("/api/users",{invalid:"data"})}catch(N){const R=St(N),M=up(N);c({error:R,status:M||400,details:N.response?.data||R,timestamp:new Date().toISOString()}),de.error("API error occurred",{description:R})}finally{o(!1)}}}}}function uA({isDisabled:t,httpMethods:n}){return g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"GET Requests"}),g.jsx(We,{children:"Retrieve data from the server"})]}),g.jsxs(we,{className:"space-y-2",children:[g.jsx(Ye,{onClick:n.testGet,disabled:t,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users"}),g.jsx(Ye,{onClick:n.testGetById,disabled:t,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users/:id"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"POST Requests"}),g.jsx(We,{children:"Create new resources"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testPost,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700",children:"POST /api/users"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"PUT Requests"}),g.jsx(We,{children:"Update existing resources"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testPut,disabled:t,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PUT /api/users/:id"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"PATCH Requests"}),g.jsx(We,{children:"Partially update resources"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testPatch,disabled:t,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PATCH /api/users/:id"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"DELETE Requests"}),g.jsx(We,{children:"Remove resources"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testDelete,disabled:t,variant:"destructive",className:"w-full",children:"DELETE /api/users/:id"})})]})]})}function dA({isDisabled:t,auth:n}){return g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check Authentication"}),g.jsx(We,{children:"Verify user authentication status"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testIsAuthenticated,disabled:t,className:"w-full",children:"isAuthenticated()"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Get Token"}),g.jsx(We,{children:"Retrieve environment token"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testGetToken,disabled:t,className:"w-full",children:"getEnvironmentToken()"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Get Token Info"}),g.jsx(We,{children:"Get client token information"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testGetClientTokenInfo,disabled:t,className:"w-full",children:"getClientTokenInfo()"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Get User"}),g.jsx(We,{children:"Get current user information"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testGetUser,disabled:t,className:"w-full !bg-purple-600 hover:!bg-purple-700 !text-white",children:"getUser()"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Logout"}),g.jsx(We,{children:"End user session"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testLogout,disabled:t,variant:"destructive",className:"w-full",children:"logout()"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Redirect to Login"}),g.jsx(We,{children:"Redirect to miso-controller login page"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testRedirectToLogin,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700",children:"redirectToLogin()"})})]})]})}function fA({isDisabled:t,errors:n}){return g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Network Error"}),g.jsx(We,{children:"Simulate connection failure"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testNetworkError,disabled:t,variant:"destructive",className:"w-full",children:"Test Network Error"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Timeout Error"}),g.jsx(We,{children:"Simulate request timeout"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testTimeout,disabled:t,variant:"destructive",className:"w-full",children:"Test Timeout"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"API Error (400)"}),g.jsx(We,{children:"Simulate validation error"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:n.testApiError,disabled:t,variant:"destructive",className:"w-full",children:"Test API Error"})})]})]})}function hA(){const{dataClient:t,isLoading:n}=Uo(),{result:s,isDisabled:o,httpMethods:l,auth:c,errors:i}=cA(t,n);return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"API Testing"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Test HTTP methods, authentication, and error handling"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl",children:[g.jsxs(Zu,{defaultValue:"http",className:"space-y-6",children:[g.jsxs(ed,{children:[g.jsx(gr,{value:"http",children:"HTTP Methods"}),g.jsx(gr,{value:"auth",children:"Authentication"}),g.jsx(gr,{value:"errors",children:"Error Handling"})]}),g.jsx(yr,{value:"http",className:"space-y-6",children:g.jsx(uA,{isDisabled:o,httpMethods:l})}),g.jsx(yr,{value:"auth",className:"space-y-6",children:g.jsx(dA,{isDisabled:o,auth:c})}),g.jsx(yr,{value:"errors",className:"space-y-6",children:g.jsx(fA,{isDisabled:o,errors:i})})]}),s&&g.jsxs(ve,{className:"mt-6",children:[g.jsx(Ce,{children:g.jsx(be,{className:"text-lg",children:"Response"})}),g.jsx(we,{children:g.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(s,null,2)})})]})]})})]})}function Ii({className:t,type:n,...s}){return g.jsx("input",{type:n,"data-slot":"input",className:Qr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var pA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mA=pA.reduce((t,n)=>{const s=bE(`Primitive.${n}`),o=$.forwardRef((l,c)=>{const{asChild:i,...u}=l,d=i?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(d,{...u,ref:c})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{}),gA="Label",Ox=$.forwardRef((t,n)=>g.jsx(mA.label,{...t,ref:n,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ox.displayName=gA;var yA=Ox;function us({className:t,...n}){return g.jsx(yA,{"data-slot":"label",className:Qr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}function vA(){const{dataClient:t,isLoading:n}=Uo(),[s,o]=$.useState(!1),[l,c]=$.useState(null),[i,u]=$.useState("60000"),d=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const b=Date.now(),T=await t.get("/api/users",{cache:{enabled:!0,ttl:parseInt(i,10)}}),C=Date.now()-b;c({data:T,cached:C<100,cacheKey:"GET:/api/users",ttl:i+"ms",duration:C+"ms",timestamp:new Date().toISOString()}),de.success("Data retrieved",{description:C<100?"Response served from cache":"Fetched from server"})}catch(b){const T=b instanceof Error?b.message:"Unknown error";de.error("Request failed",{description:T})}finally{o(!1)}},h=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const b=Date.now(),T=await t.get("/api/users",{cache:{enabled:!1}}),C=Date.now()-b;c({data:T,cached:!1,duration:C+"ms",timestamp:new Date().toISOString()}),de.success("Fresh data retrieved",{description:"Cache bypassed, fetched from server"})}catch(b){const T=b instanceof Error?b.message:"Unknown error";de.error("Request failed",{description:T})}finally{o(!1)}},m=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{t.clearCache();const b=t.getMetrics();c({message:"Cache cleared successfully",cacheHitRate:b.cacheHitRate,timestamp:new Date().toISOString()}),de.success("Cache cleared",{description:"All cache entries removed"})}catch(b){const T=b instanceof Error?b.message:"Unknown error";de.error("Failed to clear cache",{description:T})}finally{o(!1)}},p=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{t.setInterceptors({onRequest:async(T,C)=>({...C,headers:{...C.headers,"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}})});const b={url:"/api/users",method:"GET"};await t.get("/api/users",{cache:{enabled:!1}}),c({interceptor:"request",originalRequest:b,modifiedRequest:{...b,headers:{"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}},timestamp:new Date().toISOString()}),de.success("Request interceptor applied")}catch(b){const T=b instanceof Error?b.message:"Unknown error";de.error("Interceptor test failed",{description:T})}finally{o(!1)}},x=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{de.info("Attempting request with retries...");const b=Date.now();await t.get("/api/users",{cache:{enabled:!1}});const T=Date.now()-b;c({message:"Request succeeded",duration:T+"ms",retries:"Automatic retries handled by DataClient",timestamp:new Date().toISOString()}),de.success("Request completed")}catch(b){const T=b instanceof Error?b.message:"Unknown error";c({error:T,retries:"Retry logic attempted",timestamp:new Date().toISOString()}),de.error("Request failed after retries",{description:T})}finally{o(!1)}},A=s||n||!t;return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Caching & Storage"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Test caching mechanisms, interceptors, and retry logic"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:g.jsx(hp,{className:"w-5 h-5 text-green-600"})}),g.jsxs("div",{children:[g.jsx(be,{className:"text-lg",children:"Cache Enabled"}),g.jsx(We,{children:"Retrieve data with caching"})]})]})}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"cacheTTL",children:"Cache TTL (milliseconds)"}),g.jsx(Ii,{id:"cacheTTL",type:"number",value:i,onChange:b=>u(b.target.value),placeholder:"60000"})]}),g.jsxs(Ye,{onClick:d,disabled:A,className:"w-full bg-green-600 hover:bg-green-700",children:[g.jsx(hp,{className:"w-4 h-4 mr-2"}),"GET with Cache"]})]})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:g.jsx(cu,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{children:[g.jsx(be,{className:"text-lg",children:"Cache Bypassed"}),g.jsx(We,{children:"Fetch fresh data from server"})]})]})}),g.jsx(we,{children:g.jsxs(Ye,{onClick:h,disabled:A,className:"w-full bg-blue-600 hover:bg-blue-700",children:[g.jsx(cu,{className:"w-4 h-4 mr-2"}),"GET without Cache"]})})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Cache Management"}),g.jsx(We,{children:"Clear cache entries"})]}),g.jsx(we,{className:"space-y-4",children:g.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.jsxs(Ye,{onClick:m,disabled:A,variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[g.jsx(mp,{className:"w-4 h-4 mr-2"}),"Clear All Cache"]})})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Request Interceptors"}),g.jsx(We,{children:"Modify requests before sending"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:p,disabled:A,className:"w-full",children:"Test Request Interceptor"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Retry Logic"}),g.jsx(We,{children:"Automatic retry on failures"})]}),g.jsx(we,{children:g.jsx(Ye,{onClick:x,disabled:A,className:"w-full",children:"Test Retry Mechanism"})})]})]}),l&&g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{className:"text-lg",children:"Response"})}),g.jsx(we,{children:g.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(l,null,2)})})]})]})})]})}function wA(){const{dataClient:t,isLoading:n}=Uo(),[s,o]=$.useState(!1),[l,c]=$.useState(null),[i,u]=$.useState([]),d=()=>{if(t)try{const C=t.getMetrics();c({totalRequests:C.totalRequests,successfulRequests:C.totalRequests-C.totalFailures,failedRequests:C.totalFailures,cacheHits:Math.round(C.cacheHitRate*C.totalRequests*.3),cacheMisses:Math.round(C.totalRequests*.7),averageResponseTime:Math.round(C.averageResponseTime),cacheHitRate:C.cacheHitRate,errorRate:C.errorRate})}catch(C){console.error("Failed to load metrics:",C)}};$.useEffect(()=>{t&&d()},[t]);const h=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{d(),de.success("Metrics retrieved successfully")}catch(C){const w=C instanceof Error?C.message:"Unknown error";de.error("Failed to get metrics",{description:w})}finally{o(!1)}},m=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{de.info("Making multiple requests...");const C=Date.now(),w=[t.get("/api/users",{cache:{enabled:!1}}).catch(()=>null),t.get("/api/products",{cache:{enabled:!1}}).catch(()=>null),t.get("/api/orders",{cache:{enabled:!1}}).catch(()=>null)];await Promise.all(w);const v=Date.now()-C,S=[{endpoint:"/api/users",status:200,duration:`${Math.round(v/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/products",status:200,duration:`${Math.round(v/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/orders",status:200,duration:`${Math.round(v/3)}ms`,timestamp:new Date().toISOString()}];u(_=>[...S,..._]),d(),de.success("All requests completed",{description:`Total duration: ${v}ms`})}catch(C){const w=C instanceof Error?C.message:"Unknown error";de.error("Some requests failed",{description:w})}finally{o(!1)}},p=async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const C=Date.now();await t.put("/api/users/1",{name:"Updated User",email:"updated@example.com"}).catch(()=>null);const w=Date.now()-C,v={id:"audit-"+Date.now(),action:"USER_UPDATE",timestamp:new Date().toISOString(),endpoint:"/api/users/1",method:"PUT",status:200,duration:`${w}ms`};u(S=>[v,...S]),d(),de.success("Audit log created")}catch(C){const w=C instanceof Error?C.message:"Unknown error";de.error("Audit logging test failed",{description:w})}finally{o(!1)}},x=()=>{u([]),de.success("Audit logs cleared")},A=l&&l.totalRequests>0?(l.successfulRequests/l.totalRequests*100).toFixed(1):"0",b=l&&l.cacheHitRate!==void 0?(l.cacheHitRate*100).toFixed(1):l&&l.cacheHits+l.cacheMisses>0?(l.cacheHits/(l.cacheHits+l.cacheMisses)*100).toFixed(1):"0",T=s||n||!t;return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Monitoring & Logs"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"View performance metrics, audit logs, and system health"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsx("div",{className:"max-w-6xl",children:g.jsxs(Zu,{defaultValue:"metrics",className:"space-y-6",children:[g.jsxs(ed,{children:[g.jsx(gr,{value:"metrics",children:"Metrics"}),g.jsx(gr,{value:"audit",children:"Audit Logs"})]}),g.jsxs(yr,{value:"metrics",className:"space-y-6",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Ye,{onClick:h,disabled:T,className:"bg-blue-600 hover:bg-blue-700",children:[g.jsx(sb,{className:"w-4 h-4 mr-2"}),"Refresh Metrics"]}),g.jsxs(Ye,{onClick:m,disabled:T,className:"bg-green-600 hover:bg-green-700",children:[g.jsx(My,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),l&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[g.jsx(ve,{children:g.jsxs(we,{className:"pt-6",children:[g.jsx("div",{className:"text-2xl font-semibold",children:l.totalRequests}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Total Requests"})]})}),g.jsx(ve,{children:g.jsxs(we,{className:"pt-6",children:[g.jsxs("div",{className:"text-2xl font-semibold text-green-600",children:[A,"%"]}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Success Rate"})]})}),g.jsx(ve,{children:g.jsxs(we,{className:"pt-6",children:[g.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[b,"%"]}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})}),g.jsx(ve,{children:g.jsxs(we,{className:"pt-6",children:[g.jsxs("div",{className:"text-2xl font-semibold",children:[l.averageResponseTime,"ms"]}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Avg Response Time"})]})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Request Status"}),g.jsx(We,{children:"Breakdown by success/failure"})]}),g.jsx(we,{children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Successful"}),g.jsx("span",{className:"text-sm font-medium text-green-600",children:l.successfulRequests})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),g.jsx("span",{className:"text-sm font-medium text-red-600",children:l.failedRequests})]}),g.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[g.jsx("span",{className:"text-sm font-medium",children:"Total"}),g.jsx("span",{className:"text-sm font-medium",children:l.totalRequests})]})]})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Cache Performance"}),g.jsx(We,{children:"Cache hits vs misses"})]}),g.jsx(we,{children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Hits"}),g.jsx("span",{className:"text-sm font-medium text-green-600",children:l.cacheHits})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Misses"}),g.jsx("span",{className:"text-sm font-medium text-orange-600",children:l.cacheMisses})]}),g.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[g.jsx("span",{className:"text-sm font-medium",children:"Hit Rate"}),g.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[b,"%"]})]})]})})]})]}),l&&g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Metrics Details"}),g.jsx(We,{children:"Detailed performance metrics"})]}),g.jsx(we,{children:g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Total Requests"}),g.jsx("span",{className:"font-medium",children:l.totalRequests})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Successful"}),g.jsx("span",{className:"font-medium text-green-600",children:l.successfulRequests})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Failed"}),g.jsx("span",{className:"font-medium text-red-600",children:l.failedRequests})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),g.jsxs("span",{className:"font-medium",children:[(l.errorRate*100).toFixed(1),"%"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Average Response Time"}),g.jsxs("span",{className:"font-medium",children:[l.averageResponseTime,"ms"]})]})]})})]})]})]}),g.jsxs(yr,{value:"audit",className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Ye,{onClick:p,disabled:T,children:[g.jsx(xE,{className:"w-4 h-4 mr-2"}),"Create Audit Log"]}),g.jsxs(Ye,{onClick:m,disabled:T,className:"bg-green-600 hover:bg-green-700",children:[g.jsx(My,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),i.length>0&&g.jsx(Ye,{onClick:x,variant:"outline",size:"sm",children:"Clear Logs"})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Audit Log Entries"}),g.jsx(We,{children:"Recent activity and requests"})]}),g.jsx(we,{children:i.length===0?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No audit logs yet. Make some requests to see logs here."}):g.jsx("div",{className:"space-y-2",children:i.map((C,w)=>g.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("span",{className:"font-mono text-xs",children:C.endpoint}),g.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(C.timestamp).toLocaleTimeString()})]}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[g.jsxs("span",{children:["Method: ",g.jsx("span",{className:"font-medium",children:C.method||"GET"})]}),g.jsxs("span",{children:["Status: ",g.jsx("span",{className:`font-medium ${C.status===200?"text-green-600":"text-red-600"}`,children:C.status})]}),g.jsxs("span",{children:["Duration: ",g.jsx("span",{className:"font-medium",children:C.duration})]})]})]},w))})})]})]})]})})})]})}function EA(t){return!t||t.trim().length===0?{valid:!1,error:"Role name cannot be empty"}:t.length>100?{valid:!1,error:"Role name must be 100 characters or less"}:/^[a-zA-Z0-9_-]+$/.test(t.trim())?{valid:!0}:{valid:!1,error:"Role name can only contain letters, numbers, underscores, and hyphens"}}function jx(t){return!t||t.trim().length===0?{valid:!1,error:"Permission name cannot be empty"}:t.length>100?{valid:!1,error:"Permission name must be 100 characters or less"}:/^[a-zA-Z0-9_.-]+$/.test(t.trim())?{valid:!0}:{valid:!1,error:"Permission name can only contain letters, numbers, underscores, dots, and hyphens"}}function pE(t){if(!t||t.trim().length===0)return{valid:!1,error:"Permissions cannot be empty"};const n=t.split(",").map(s=>s.trim()).filter(Boolean);if(n.length===0)return{valid:!1,error:"At least one permission must be provided"};for(const s of n){const o=jx(s);if(!o.valid)return{valid:!1,error:`Invalid permission: ${s}. ${o.error}`}}return{valid:!0}}function SA(t,n){const[s,o]=$.useState(!1),[l,c]=$.useState(null),[i,u]=$.useState([]),[d,h]=$.useState([]);return{loading:s,result:l,roles:i,permissions:d,isDisabled:s||n||!t,testGetRoles:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=await t.getRoles();u(N),c({roles:N,count:N.length,timestamp:new Date().toISOString()}),de.success(`Retrieved ${N.length} roles`)}catch(N){const R=St(N);de.error("Failed to get roles",{description:R}),u([])}finally{o(!1)}},testGetPermissions:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=await t.getPermissions();h(N),c({permissions:N,count:N.length,timestamp:new Date().toISOString()}),de.success(`Retrieved ${N.length} permissions`)}catch(N){const R=St(N);de.error("Failed to get permissions",{description:R}),h([])}finally{o(!1)}},testHasRole:async N=>{if(!t){de.error("DataClient not initialized");return}const R=EA(N);if(!R.valid){de.error(R.error||"Invalid role name");return}o(!0);try{const M=await t.hasRole(N);c({role:N,hasRole:M,timestamp:new Date().toISOString()}),de.success(M?`User has role: ${N}`:`User does not have role: ${N}`)}catch(M){const U=St(M);de.error("Failed to check role",{description:U})}finally{o(!1)}},testHasPermission:async N=>{if(!t){de.error("DataClient not initialized");return}const R=jx(N);if(!R.valid){de.error(R.error||"Invalid permission name");return}o(!0);try{const M=await t.hasPermission(N);c({permission:N,hasPermission:M,timestamp:new Date().toISOString()}),de.success(M?`User has permission: ${N}`:`User does not have permission: ${N}`)}catch(M){const U=St(M);de.error("Failed to check permission",{description:U})}finally{o(!1)}},testHasAnyRole:async N=>{if(!t){de.error("DataClient not initialized");return}if(!N){de.error("Please enter roles to check (comma-separated)");return}o(!0);try{const R=N.split(",").map(U=>U.trim()).filter(Boolean),M=await t.hasAnyRole(R);c({roles:R,hasAnyRole:M,timestamp:new Date().toISOString()}),de.success(M?"User has at least one of the roles":"User does not have any of the roles")}catch(R){const M=St(R);de.error("Failed to check roles",{description:M})}finally{o(!1)}},testHasAllRoles:async N=>{if(!t){de.error("DataClient not initialized");return}if(!N){de.error("Please enter roles to check (comma-separated)");return}o(!0);try{const R=N.split(",").map(U=>U.trim()).filter(Boolean),M=await t.hasAllRoles(R);c({roles:R,hasAllRoles:M,timestamp:new Date().toISOString()}),de.success(M?"User has all of the roles":"User does not have all of the roles")}catch(R){const M=St(R);de.error("Failed to check roles",{description:M})}finally{o(!1)}},testHasAnyPermission:async N=>{if(!t){de.error("DataClient not initialized");return}const R=pE(N);if(!R.valid){de.error(R.error||"Invalid permissions");return}o(!0);try{const M=N.split(",").map(Z=>Z.trim()).filter(Boolean),U=await t.hasAnyPermission(M);c({permissions:M,hasAnyPermission:U,timestamp:new Date().toISOString()}),de.success(U?"User has at least one of the permissions":"User does not have any of the permissions")}catch(M){const U=St(M);de.error("Failed to check permissions",{description:U})}finally{o(!1)}},testHasAllPermissions:async N=>{if(!t){de.error("DataClient not initialized");return}const R=pE(N);if(!R.valid){de.error(R.error||"Invalid permissions");return}o(!0);try{const M=N.split(",").map(Z=>Z.trim()).filter(Boolean),U=await t.hasAllPermissions(M);c({permissions:M,hasAllPermissions:U,timestamp:new Date().toISOString()}),de.success(U?"User has all of the permissions":"User does not have all of the permissions")}catch(M){const U=St(M);de.error("Failed to check permissions",{description:U})}finally{o(!1)}},testRefreshRoles:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=await t.refreshRoles();u(N),c({message:"Roles cache refreshed",roles:N,timestamp:new Date().toISOString()}),de.success("Roles cache refreshed")}catch(N){const R=St(N);de.error("Failed to refresh roles",{description:R})}finally{o(!1)}},testRefreshPermissions:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{const N=await t.refreshPermissions();h(N),c({message:"Permissions cache refreshed",permissions:N,timestamp:new Date().toISOString()}),de.success("Permissions cache refreshed")}catch(N){const R=St(N);de.error("Failed to refresh permissions",{description:R})}finally{o(!1)}},testClearRolesCache:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{await t.clearRolesCache(),c({message:"Roles cache cleared",timestamp:new Date().toISOString()}),de.success("Roles cache cleared")}catch(N){const R=St(N);de.error("Failed to clear roles cache",{description:R})}finally{o(!1)}},testClearPermissionsCache:async()=>{if(!t){de.error("DataClient not initialized");return}o(!0);try{await t.clearPermissionsCache(),c({message:"Permissions cache cleared",timestamp:new Date().toISOString()}),de.success("Permissions cache cleared")}catch(N){const R=St(N);de.error("Failed to clear permissions cache",{description:R})}finally{o(!1)}}}}function xA(){const{dataClient:t,isLoading:n}=Uo(),{result:s,roles:o,permissions:l,isDisabled:c,testGetRoles:i,testGetPermissions:u,testHasRole:d,testHasPermission:h,testHasAnyRole:m,testHasAllRoles:p,testHasAnyPermission:x,testHasAllPermissions:A,testRefreshRoles:b,testRefreshPermissions:T,testClearRolesCache:C,testClearPermissionsCache:w}=SA(t,n),[v,S]=$.useState(""),[_,L]=$.useState(""),[O,N]=$.useState(""),[R,M]=$.useState("");return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Authorization"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Test roles and permissions using DataClient methods"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl",children:[g.jsxs(Zu,{defaultValue:"roles",className:"space-y-6",children:[g.jsxs(ed,{children:[g.jsx(gr,{value:"roles",children:"Roles"}),g.jsx(gr,{value:"permissions",children:"Permissions"})]}),g.jsx(yr,{value:"roles",className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Get Roles"}),g.jsx(We,{children:"Retrieve user roles (auto-retrieves token from localStorage)"})]}),g.jsxs(we,{children:[g.jsxs(Ye,{onClick:i,disabled:c,className:"w-full",children:[g.jsx(pp,{className:"w-4 h-4 mr-2"}),"getRoles()"]}),o.length>0&&g.jsx("div",{className:"mt-4",children:g.jsxs(us,{children:["Current Roles: ",o.length]})})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check Role"}),g.jsx(We,{children:"Check if user has a specific role"})]}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"roleToCheck",children:"Role Name"}),g.jsx(Ii,{id:"roleToCheck",value:v,onChange:U=>S(U.target.value),placeholder:"admin"})]}),g.jsx(Ye,{onClick:()=>d(v),disabled:c,className:"w-full",children:"hasRole()"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check Any Role"}),g.jsx(We,{children:"Check if user has any of the specified roles"})]}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"rolesToCheck",children:"Roles (comma-separated)"}),g.jsx(Ii,{id:"rolesToCheck",value:O,onChange:U=>N(U.target.value),placeholder:"admin, user"})]}),g.jsx(Ye,{onClick:()=>m(O),disabled:c,className:"w-full",children:"hasAnyRole()"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check All Roles"}),g.jsx(We,{children:"Check if user has all of the specified roles"})]}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"rolesToCheckAll",children:"Roles (comma-separated)"}),g.jsx(Ii,{id:"rolesToCheckAll",value:O,onChange:U=>N(U.target.value),placeholder:"admin, user"})]}),g.jsx(Ye,{onClick:()=>p(O),disabled:c,className:"w-full",children:"hasAllRoles()"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Refresh Roles"}),g.jsx(We,{children:"Force refresh roles (bypass cache)"})]}),g.jsx(we,{children:g.jsxs(Ye,{onClick:b,disabled:c,className:"w-full",children:[g.jsx(cu,{className:"w-4 h-4 mr-2"}),"refreshRoles()"]})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Clear Roles Cache"}),g.jsx(We,{children:"Clear cached roles"})]}),g.jsx(we,{children:g.jsxs(Ye,{onClick:C,disabled:c,variant:"outline",className:"w-full",children:[g.jsx(mp,{className:"w-4 h-4 mr-2"}),"clearRolesCache()"]})})]})]})}),g.jsx(yr,{value:"permissions",className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Get Permissions"}),g.jsx(We,{children:"Retrieve user permissions (auto-retrieves token from localStorage)"})]}),g.jsxs(we,{children:[g.jsxs(Ye,{onClick:u,disabled:c,className:"w-full",children:[g.jsx(pp,{className:"w-4 h-4 mr-2"}),"getPermissions()"]}),l.length>0&&g.jsx("div",{className:"mt-4",children:g.jsxs(us,{children:["Current Permissions: ",l.length]})})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check Permission"}),g.jsx(We,{children:"Check if user has a specific permission"})]}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"permissionToCheck",children:"Permission Name"}),g.jsx(Ii,{id:"permissionToCheck",value:_,onChange:U=>L(U.target.value),placeholder:"users:read"})]}),g.jsx(Ye,{onClick:()=>h(_),disabled:c,className:"w-full",children:"hasPermission()"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check Any Permission"}),g.jsx(We,{children:"Check if user has any of the specified permissions"})]}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"permissionsToCheck",children:"Permissions (comma-separated)"}),g.jsx(Ii,{id:"permissionsToCheck",value:R,onChange:U=>M(U.target.value),placeholder:"users:read, users:write"})]}),g.jsx(Ye,{onClick:()=>x(R),disabled:c,className:"w-full",children:"hasAnyPermission()"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Check All Permissions"}),g.jsx(We,{children:"Check if user has all of the specified permissions"})]}),g.jsxs(we,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(us,{htmlFor:"permissionsToCheckAll",children:"Permissions (comma-separated)"}),g.jsx(Ii,{id:"permissionsToCheckAll",value:R,onChange:U=>M(U.target.value),placeholder:"users:read, users:write"})]}),g.jsx(Ye,{onClick:()=>A(R),disabled:c,className:"w-full",children:"hasAllPermissions()"})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Refresh Permissions"}),g.jsx(We,{children:"Force refresh permissions (bypass cache)"})]}),g.jsx(we,{children:g.jsxs(Ye,{onClick:T,disabled:c,className:"w-full",children:[g.jsx(cu,{className:"w-4 h-4 mr-2"}),"refreshPermissions()"]})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{className:"text-lg",children:"Clear Permissions Cache"}),g.jsx(We,{children:"Clear cached permissions"})]}),g.jsx(we,{children:g.jsxs(Ye,{onClick:w,disabled:c,variant:"outline",className:"w-full",children:[g.jsx(mp,{className:"w-4 h-4 mr-2"}),"clearPermissionsCache()"]})})]})]})})]}),s&&g.jsxs(ve,{className:"mt-6",children:[g.jsx(Ce,{children:g.jsx(be,{className:"text-lg",children:"Response"})}),g.jsx(we,{children:g.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(s,null,2)})})]})]})})]})}const Je={gettingStarted:{serverSetup:`import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// Initialize MisoClient with environment variables
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN, not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// Your API routes
app.get('/api/users', async (req, res) => {
  // Your business logic here
  res.json({ users: [] });
});

app.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
});`,environmentVariables:`# Server-side environment variables (.env)
# Required for MisoClient initialization

# MISO Controller Configuration
MISO_CLIENTID=ctrl-dev-my-app
MISO_CLIENTSECRET=your-client-secret-here
MISO_CONTROLLER_URL=https://controller.aifabrix.ai

# Optional: Redis for caching (recommended for production)
REDIS_HOST=localhost
REDIS_PORT=6379

# Optional: Logging level
MISO_LOG_LEVEL=info`,clientSetup:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// Zero-config initialization
// Automatically fetches config from server's /api/v1/auth/client-token endpoint
const dataClient = await autoInitializeDataClient();

// Now you can use DataClient
const users = await dataClient.get('/api/users');
console.log('Users:', users);`,completeExample:`// ============================================
// SERVER-SIDE (Express.js)
// ============================================

import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// 1. Initialize MisoClient
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// 2. Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN (client token), not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// 3. Your API routes
// Option A: Public routes (no authentication)
app.get('/api/public', async (req, res) => {
  res.json({ message: 'Public endpoint' });
});

// Option B: Protected routes (validate user token)
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Token is valid, proceed with business logic
  res.json({ users: [{ id: 1, name: 'John' }] });
});

app.listen(3000);

// ============================================
// CLIENT-SIDE (Browser/React)
// ============================================

import { autoInitializeDataClient } from '@aifabrix/miso-client';

// 1. Initialize DataClient (zero-config)
// Automatically calls POST /api/v1/auth/client-token
// Receives: environment token (client token) + DataClient config
const dataClient = await autoInitializeDataClient();

// 2. Use DataClient
// Environment token is automatically sent in x-client-token header
// This authenticates the CLIENT APPLICATION, not the user
const users = await dataClient.get('/api/users');
console.log('Users:', users);

// 3. For user-authenticated requests:
// User must login first (via MISO Controller)
// User token is stored in localStorage by DataClient
// DataClient automatically includes user token in Authorization header`,howItWorks:`// HOW IT WORKS:
//
// 1. SERVER SETUP:
//    - Server has MISO_CLIENTID and MISO_CLIENTSECRET (never exposed to browser)
//    - Server creates /api/v1/auth/client-token endpoint
//    - This endpoint fetches ENVIRONMENT TOKEN (client token) from MISO Controller
//    - Returns environment token + DataClient configuration to browser
//    - Validates request origin (CORS) before returning token
//
// 2. CLIENT SETUP:
//    - Browser calls autoInitializeDataClient()
//    - DataClient calls POST /api/v1/auth/client-token
//    - Receives environment token (client token) + configuration
//    - Stores environment token in localStorage (with expiration)
//    - Initializes DataClient with received config
//
// 3. REQUEST FLOW:
//    - Client makes request: dataClient.get('/api/users')
//    - DataClient automatically adds x-client-token header (environment token)
//    - Environment token authenticates the CLIENT APPLICATION
//    - For user authentication, validate user token (Bearer token) in your routes
//
// TOKEN TYPES:
// - ENVIRONMENT TOKEN (client token): Authenticates the client application
//   - Sent in x-client-token header
//   - Used to authenticate with MISO Controller
//   - Short-lived (default: 30 minutes)
//   - Automatically refreshed when expired
//
// - USER TOKEN: Authenticates the user
//   - Sent in Authorization: Bearer <token> header
//   - Obtained via login flow
//   - Validated in your API routes using misoClient.auth.validateToken()
//
// SECURITY:
// - Client secret NEVER exposed to browser
// - Environment token is short-lived (default: 30 minutes)
// - Token automatically refreshed when expired
// - Origin validation prevents token theft
// - Your API routes should validate USER tokens, not client tokens`,validateUserTokens:`// ============================================
// VALIDATING USER TOKENS IN API ROUTES
// ============================================

import express from 'express';
import { MisoClient, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Option 1: Manual validation in each route
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Get user info if needed
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  
  // Token is valid, proceed with business logic
  res.json({ users: [], currentUser: userInfo });
});

// Option 2: Create middleware for reusable validation
function requireAuth(misoClient: MisoClient) {
  return async (req: express.Request, res: express.Response, next: express.NextFunction) => {
    const userToken = misoClient.getToken(req);
    
    if (!userToken) {
      return res.status(401).json({ error: 'Unauthorized - no token' });
    }
    
    const isValid = await misoClient.auth.validateToken(userToken);
    if (!isValid) {
      return res.status(401).json({ error: 'Unauthorized - invalid token' });
    }
    
    // Attach token to request for use in route handlers
    (req as any).userToken = userToken;
    next();
  };
}

// Use middleware
app.get('/api/protected', requireAuth(misoClient), async (req, res) => {
  const userToken = (req as any).userToken;
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  res.json({ message: 'Protected route', user: userInfo });
});

// IMPORTANT NOTES:
// - Environment token (x-client-token) is for client app authentication
// - User token (Authorization: Bearer) is for user authentication
// - Your routes should validate USER tokens, not environment tokens
// - Environment token is handled automatically by DataClient`},initialization:{zeroConfig:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// One line - automatically fetches config and initializes DataClient
const dataClient = await autoInitializeDataClient();

// Use DataClient
const users = await dataClient.get('/api/users');`,manual:`import { DataClient } from '@aifabrix/miso-client';

// Manual configuration (browser-safe, no clientSecret)
const dataClient = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    // Use server-provided token pattern
    clientTokenUri: '/api/v1/auth/client-token',
  },
});`,reactContext:`import { DataClientProvider, useDataClient } from './contexts/DataClientContext';

// Wrap your app with DataClientProvider
function App() {
  return (
    <DataClientProvider>
      <YourComponents />
    </DataClientProvider>
  );
}

// Use DataClient in components
function MyComponent() {
  const { dataClient, isLoading, error } = useDataClient();
  
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!dataClient) return <div>Not initialized</div>;
  
  // Use dataClient...
}`},httpMethods:{get:`// GET request with cache
const users = await dataClient.get('/api/users');

// GET request without cache
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});

// GET request with custom options
const user = await dataClient.get('/api/users/1', {
  headers: { 'X-Custom-Header': 'value' },
  timeout: 5000,
});`,post:`// POST request
const newUser = await dataClient.post('/api/users', {
  name: 'John Doe',
  email: 'john@example.com',
});

// POST with error handling
try {
  const result = await dataClient.post('/api/users', userData);
  console.log('User created:', result);
} catch (error) {
  console.error('Failed to create user:', error.message);
}`,put:`// PUT request (full update)
const updatedUser = await dataClient.put('/api/users/1', {
  name: 'John Doe Updated',
  email: 'john.updated@example.com',
});`,patch:`// PATCH request (partial update)
const patchedUser = await dataClient.patch('/api/users/1', {
  email: 'john.newemail@example.com',
});`,delete:`// DELETE request
await dataClient.delete('/api/users/1');

// DELETE with error handling
try {
  await dataClient.delete('/api/users/1');
  console.log('User deleted');
} catch (error) {
  console.error('Failed to delete user:', error.message);
}`},authentication:{isAuthenticated:`// Check if user is authenticated
const isAuth = dataClient.isAuthenticated();
if (isAuth) {
  console.log('User is authenticated');
} else {
  console.log('User is not authenticated');
}`,getToken:`// Get environment token
const token = await dataClient.getEnvironmentToken();
if (token) {
  console.log('Token:', token);
} else {
  console.log('No token available');
}`,getTokenInfo:`// Get client token information
const tokenInfo = dataClient.getClientTokenInfo();
if (tokenInfo) {
  console.log('Token expires at:', tokenInfo.expiresAt);
  console.log('Token issued at:', tokenInfo.issuedAt);
}`,logout:`// Logout user
try {
  await dataClient.logout();
  console.log('User logged out');
} catch (error) {
  console.error('Logout failed:', error.message);
}`,redirectToLogin:`// Redirect to login
try {
  await dataClient.redirectToLogin();
} catch (error) {
  console.error('Redirect failed:', error.message);
}`,handleOAuthCallback:`// OAuth callback handling (automatically called on initialization)
// Token is extracted from URL hash fragment (#token=...) and stored securely
// Hash fragment is immediately removed from URL (< 100ms) for security

// Auto-called on DataClient initialization
const dataClient = new DataClient(config);
// Token is automatically extracted if present in URL hash

// Or manually call if needed
const token = dataClient.handleOAuthCallback();
if (token) {
  console.log('Token extracted and stored');
}

// OAuth Flow:
// 1. User calls redirectToLogin() â†’ redirects to controller login page
// 2. Controller handles OAuth flow with Keycloak
// 3. Controller redirects back: https://myapp.com/dashboard#token=eyJhbGc...
// 4. handleOAuthCallback() extracts token from hash fragment
// 5. Token is validated and stored in localStorage
// 6. Hash fragment is immediately removed from URL (< 100ms)
// 7. User sees clean URL: https://myapp.com/dashboard`,tokenRefresh:`// Token refresh callback (automatic refresh on 401 errors)
// Configure onTokenRefresh callback to handle token renewal securely
const dataClientWithRefresh = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    clientTokenUri: '/api/v1/auth/client-token',
  },
  onTokenRefresh: async () => {
    // Call your backend endpoint that handles refresh token securely
    // Backend should use httpOnly cookies or session storage for refresh token
    const response = await fetch('/api/refresh-token', {
      method: 'POST',
      credentials: 'include', // Include cookies for auth
      headers: {
        'Content-Type': 'application/json',
      },
    });
    
    if (!response.ok) {
      throw new Error('Token refresh failed');
    }
    
    const data = await response.json();
    // Return new access token and expiration time
    return {
      token: data.token, // New access token
      expiresIn: data.expiresIn, // Expiration in seconds
    };
  },
});

// How it works:
// - Automatically called when a request receives 401 Unauthorized
// - Refreshes token using your secure backend endpoint
// - Retries the original request with new token
// - Prevents infinite retry loops with tokenRefreshAttempted flag
// - Refresh tokens are NEVER stored in browser localStorage (security requirement)`},caching:{enabled:`// Cache-enabled GET request
const users = await dataClient.get('/api/users', {
  cache: { enabled: true, ttl: 60000 }, // Cache for 60 seconds
});`,disabled:`// Cache-bypassed GET request
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});`,clearCache:`// Clear all cache
dataClient.clearCache();
console.log('Cache cleared');`},interceptors:{request:`// Set request interceptor
dataClient.setInterceptors({
  onRequest: async (url, options) => {
    // Modify request before sending
    return {
      ...options,
      headers: {
        ...options.headers,
        'X-Custom-Header': 'value',
      },
    };
  },
});`,response:`// Set response interceptor
dataClient.setInterceptors({
  onResponse: async (response) => {
    // Modify response before returning
    console.log('Response received:', response);
    return response;
  },
});`,error:`// Set error interceptor
dataClient.setInterceptors({
  onError: async (error) => {
    // Handle errors
    console.error('Request error:', error);
    throw error; // Re-throw to maintain error flow
  },
});`},roles:{getRoles:`// Get user roles (auto-retrieves token from localStorage)
const roles = await dataClient.getRoles();
console.log('User roles:', roles);`,hasRole:`// Check specific role
const isAdmin = await dataClient.hasRole('admin');
if (isAdmin) {
  console.log('User is admin');
}`,hasAnyRole:`// Check if user has any of the roles
const hasAccess = await dataClient.hasAnyRole(['admin', 'moderator']);
if (hasAccess) {
  console.log('User has access');
}`,hasAllRoles:`// Check if user has all of the roles
const isSuperAdmin = await dataClient.hasAllRoles(['admin', 'super']);
if (isSuperAdmin) {
  console.log('User is super admin');
}`,refreshRoles:`// Force refresh roles (bypass cache)
const refreshedRoles = await dataClient.refreshRoles();
console.log('Refreshed roles:', refreshedRoles);`,clearRolesCache:`// Clear cached roles
await dataClient.clearRolesCache();
console.log('Roles cache cleared');`},permissions:{getPermissions:`// Get user permissions (auto-retrieves token from localStorage)
const permissions = await dataClient.getPermissions();
console.log('User permissions:', permissions);`,hasPermission:`// Check specific permission
const canRead = await dataClient.hasPermission('users:read');
if (canRead) {
  console.log('User can read users');
}`,hasAnyPermission:`// Check if user has any of the permissions
const canAccess = await dataClient.hasAnyPermission(['users:read', 'users:write']);
if (canAccess) {
  console.log('User has access');
}`,hasAllPermissions:`// Check if user has all of the permissions
const canManage = await dataClient.hasAllPermissions(['users:read', 'users:write', 'users:delete']);
if (canManage) {
  console.log('User can manage users');
}`,refreshPermissions:`// Force refresh permissions (bypass cache)
const refreshedPermissions = await dataClient.refreshPermissions();
console.log('Refreshed permissions:', refreshedPermissions);`,clearPermissionsCache:`// Clear cached permissions
await dataClient.clearPermissionsCache();
console.log('Permissions cache cleared');`},errorHandling:{tryCatch:`// Basic error handling
try {
  const users = await dataClient.get('/api/users');
  console.log('Users:', users);
} catch (error) {
  console.error('Request failed:', error.message);
  // Display user-friendly error message
}`,networkError:`// Handle network errors
try {
  const users = await dataClient.get('/api/users');
} catch (error) {
  if (error.message.includes('Network')) {
    console.error('Network error - check your connection');
  } else {
    console.error('Request failed:', error.message);
  }
}`,apiError:`// Handle API errors
try {
  const result = await dataClient.post('/api/users', userData);
} catch (error: any) {
  if (error.status === 400) {
    console.error('Validation error:', error.response?.data);
  } else if (error.status === 401) {
    console.error('Unauthorized - please login');
  } else if (error.status === 403) {
    console.error('Forbidden - insufficient permissions');
  } else {
    console.error('Request failed:', error.message);
  }
}`},metrics:{getMetrics:`// Get request metrics
const metrics = dataClient.getMetrics();
console.log('Total requests:', metrics.totalRequests);
console.log('Failed requests:', metrics.totalFailures);
console.log('Average response time:', metrics.averageResponseTime);
console.log('Cache hit rate:', metrics.cacheHitRate);`}};function CA(){const[t,n]=$.useState(null),s=async(l,c)=>{try{await navigator.clipboard.writeText(l),n(c),de.success("Code copied to clipboard"),setTimeout(()=>n(null),2e3)}catch{de.error("Failed to copy code")}},o=({code:l,id:c})=>g.jsx("div",{className:"group",children:g.jsxs("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto relative",children:[g.jsx("code",{children:l}),g.jsx(Ye,{size:"sm",variant:"ghost",style:{position:"absolute",top:"0.5rem",right:"0.5rem"},className:"z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-background/80 backdrop-blur-sm",onClick:()=>s(l,c),children:t===c?g.jsx(SE,{className:"w-4 h-4 text-green-600"}):g.jsx(mb,{className:"w-4 h-4"})})]})});return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Code Examples"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Copyable code examples for using DataClient"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl",children:[g.jsxs(Zu,{defaultValue:"gettingStarted",className:"space-y-6",children:[g.jsxs(ed,{className:"grid w-full grid-cols-8",children:[g.jsx(gr,{value:"gettingStarted",children:"Getting Started"}),g.jsx(gr,{value:"initialization",children:"Init"}),g.jsx(gr,{value:"http",children:"HTTP"}),g.jsx(gr,{value:"auth",children:"Auth"}),g.jsx(gr,{value:"caching",children:"Cache"}),g.jsx(gr,{value:"interceptors",children:"Interceptors"}),g.jsx(gr,{value:"roles",children:"Roles"}),g.jsx(gr,{value:"permissions",children:"Permissions"})]}),g.jsxs(yr,{value:"gettingStarted",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Server Setup"}),g.jsx(We,{children:"Set up Express.js server with client token endpoint"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.gettingStarted.serverSetup,id:"getting-started-server"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Environment Variables"}),g.jsx(We,{children:"Configure server-side environment variables"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.gettingStarted.environmentVariables,id:"getting-started-env"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Client Setup"}),g.jsx(We,{children:"Initialize DataClient in your browser application"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.gettingStarted.clientSetup,id:"getting-started-client"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Complete Example"}),g.jsx(We,{children:"Full server and client integration example"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.gettingStarted.completeExample,id:"getting-started-complete"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"How It Works"}),g.jsx(We,{children:"Understanding the authentication flow and security model"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.gettingStarted.howItWorks,id:"getting-started-how-it-works"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Validating User Tokens in Routes"}),g.jsx(We,{children:"How to protect your API routes with user token validation"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.gettingStarted.validateUserTokens,id:"getting-started-validate-tokens"})})]})]}),g.jsxs(yr,{value:"initialization",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Zero-Config Initialization"}),g.jsx(We,{children:"Automatically fetch configuration from server"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.initialization.zeroConfig,id:"init-zero"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Manual Initialization"}),g.jsx(We,{children:"Configure DataClient with custom settings"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.initialization.manual,id:"init-manual"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"React Context Setup"}),g.jsx(We,{children:"Use DataClient with React Context"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.initialization.reactContext,id:"init-context"})})]})]}),g.jsxs(yr,{value:"http",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"GET Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.httpMethods.get,id:"http-get"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"POST Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.httpMethods.post,id:"http-post"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"PUT Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.httpMethods.put,id:"http-put"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"PATCH Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.httpMethods.patch,id:"http-patch"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"DELETE Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.httpMethods.delete,id:"http-delete"})})]})]}),g.jsxs(yr,{value:"auth",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check Authentication"})}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.isAuthenticated,id:"auth-check"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Get Token"})}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.getToken,id:"auth-token"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Get Token Info"})}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.getTokenInfo,id:"auth-token-info"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Logout"})}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.logout,id:"auth-logout"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Redirect to Login"})}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.redirectToLogin,id:"auth-redirect"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"OAuth Callback Handling"}),g.jsx(We,{children:"Automatically extract and store tokens from OAuth redirect (hash fragment)"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.handleOAuthCallback,id:"auth-oauth-callback"})})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Token Refresh Callback"}),g.jsx(We,{children:"Configure automatic token refresh on 401 errors using secure backend endpoint"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.authentication.tokenRefresh,id:"auth-token-refresh"})})]})]}),g.jsxs(yr,{value:"caching",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Cache-Enabled Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.caching.enabled,id:"cache-enabled"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Cache-Bypassed Requests"})}),g.jsx(we,{children:g.jsx(o,{code:Je.caching.disabled,id:"cache-disabled"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Clear Cache"})}),g.jsx(we,{children:g.jsx(o,{code:Je.caching.clearCache,id:"cache-clear"})})]})]}),g.jsxs(yr,{value:"interceptors",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Request Interceptor"})}),g.jsx(we,{children:g.jsx(o,{code:Je.interceptors.request,id:"interceptor-request"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Response Interceptor"})}),g.jsx(we,{children:g.jsx(o,{code:Je.interceptors.response,id:"interceptor-response"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Error Interceptor"})}),g.jsx(we,{children:g.jsx(o,{code:Je.interceptors.error,id:"interceptor-error"})})]})]}),g.jsxs(yr,{value:"roles",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Get Roles"})}),g.jsx(we,{children:g.jsx(o,{code:Je.roles.getRoles,id:"roles-get"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check Role"})}),g.jsx(we,{children:g.jsx(o,{code:Je.roles.hasRole,id:"roles-has"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check Any Role"})}),g.jsx(we,{children:g.jsx(o,{code:Je.roles.hasAnyRole,id:"roles-any"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check All Roles"})}),g.jsx(we,{children:g.jsx(o,{code:Je.roles.hasAllRoles,id:"roles-all"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Refresh Roles"})}),g.jsx(we,{children:g.jsx(o,{code:Je.roles.refreshRoles,id:"roles-refresh"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Clear Roles Cache"})}),g.jsx(we,{children:g.jsx(o,{code:Je.roles.clearRolesCache,id:"roles-clear"})})]})]}),g.jsxs(yr,{value:"permissions",className:"space-y-6",children:[g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Get Permissions"})}),g.jsx(we,{children:g.jsx(o,{code:Je.permissions.getPermissions,id:"perms-get"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check Permission"})}),g.jsx(we,{children:g.jsx(o,{code:Je.permissions.hasPermission,id:"perms-has"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check Any Permission"})}),g.jsx(we,{children:g.jsx(o,{code:Je.permissions.hasAnyPermission,id:"perms-any"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Check All Permissions"})}),g.jsx(we,{children:g.jsx(o,{code:Je.permissions.hasAllPermissions,id:"perms-all"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Refresh Permissions"})}),g.jsx(we,{children:g.jsx(o,{code:Je.permissions.refreshPermissions,id:"perms-refresh"})})]}),g.jsxs(ve,{children:[g.jsx(Ce,{children:g.jsx(be,{children:"Clear Permissions Cache"})}),g.jsx(we,{children:g.jsx(o,{code:Je.permissions.clearPermissionsCache,id:"perms-clear"})})]})]})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Error Handling"}),g.jsx(We,{children:"Patterns for handling errors"})]}),g.jsxs(we,{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Basic Try-Catch"}),g.jsx(o,{code:Je.errorHandling.tryCatch,id:"error-basic"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Network Errors"}),g.jsx(o,{code:Je.errorHandling.networkError,id:"error-network"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"API Errors"}),g.jsx(o,{code:Je.errorHandling.apiError,id:"error-api"})]})]})]}),g.jsxs(ve,{children:[g.jsxs(Ce,{children:[g.jsx(be,{children:"Metrics"}),g.jsx(We,{children:"Get request metrics"})]}),g.jsx(we,{children:g.jsx(o,{code:Je.metrics.getMetrics,id:"metrics-get"})})]})]})]})})]})}var bA=(t,n,s,o,l,c,i,u)=>{let d=document.documentElement,h=["light","dark"];function m(A){(Array.isArray(t)?t:[t]).forEach(b=>{let T=b==="class",C=T&&c?l.map(w=>c[w]||w):l;T?(d.classList.remove(...C),d.classList.add(c&&c[A]?c[A]:A)):d.setAttribute(b,A)}),p(A)}function p(A){u&&h.includes(A)&&(d.style.colorScheme=A)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)m(o);else try{let A=localStorage.getItem(n)||s,b=i&&A==="system"?x():A;m(b)}catch{}},mE=["light","dark"],Lx="(prefers-color-scheme: dark)",TA=typeof window>"u",mm=$.createContext(void 0),_A={setTheme:t=>{},themes:[]},kA=()=>{var t;return(t=$.useContext(mm))!=null?t:_A},RA=t=>$.useContext(mm)?$.createElement($.Fragment,null,t.children):$.createElement(IA,{...t}),AA=["light","dark"],IA=({forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:s=!0,enableColorScheme:o=!0,storageKey:l="theme",themes:c=AA,defaultTheme:i=s?"system":"light",attribute:u="data-theme",value:d,children:h,nonce:m,scriptProps:p})=>{let[x,A]=$.useState(()=>NA(l,i)),[b,T]=$.useState(()=>x==="system"?fp():x),C=d?Object.values(d):c,w=$.useCallback(L=>{let O=L;if(!O)return;L==="system"&&s&&(O=fp());let N=d?d[O]:O,R=n?OA(m):null,M=document.documentElement,U=Z=>{Z==="class"?(M.classList.remove(...C),N&&M.classList.add(N)):Z.startsWith("data-")&&(N?M.setAttribute(Z,N):M.removeAttribute(Z))};if(Array.isArray(u)?u.forEach(U):U(u),o){let Z=mE.includes(i)?i:null,ae=mE.includes(O)?O:Z;M.style.colorScheme=ae}R?.()},[m]),v=$.useCallback(L=>{let O=typeof L=="function"?L(x):L;A(O);try{localStorage.setItem(l,O)}catch{}},[x]),S=$.useCallback(L=>{let O=fp(L);T(O),x==="system"&&s&&!t&&w("system")},[x,t]);$.useEffect(()=>{let L=window.matchMedia(Lx);return L.addListener(S),S(L),()=>L.removeListener(S)},[S]),$.useEffect(()=>{let L=O=>{O.key===l&&(O.newValue?A(O.newValue):v(i))};return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[v]),$.useEffect(()=>{w(t??x)},[t,x]);let _=$.useMemo(()=>({theme:x,setTheme:v,forcedTheme:t,resolvedTheme:x==="system"?b:x,themes:s?[...c,"system"]:c,systemTheme:s?b:void 0}),[x,v,t,b,s,c]);return $.createElement(mm.Provider,{value:_},$.createElement(PA,{forcedTheme:t,storageKey:l,attribute:u,enableSystem:s,enableColorScheme:o,defaultTheme:i,value:d,themes:c,nonce:m,scriptProps:p}),h)},PA=$.memo(({forcedTheme:t,storageKey:n,attribute:s,enableSystem:o,enableColorScheme:l,defaultTheme:c,value:i,themes:u,nonce:d,scriptProps:h})=>{let m=JSON.stringify([s,n,c,t,u,i,o,l]).slice(1,-1);return $.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${bA.toString()})(${m})`}})}),NA=(t,n)=>{if(TA)return;let s;try{s=localStorage.getItem(t)||void 0}catch{}return s||n},OA=t=>{let n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},fp=t=>(t||(t=window.matchMedia(Lx)),t.matches?"dark":"light");const jA=({...t})=>{const{theme:n="system"}=kA();return g.jsx(i_,{theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},au={p18cc100:"M34.4572 24.1629C34.1171 23.2828 33.8371 22.5727 33.6171 22.0526C33.407 21.5126 33.137 21.0225 32.8169 20.5624C32.5069 20.1023 32.0868 19.7323 31.5668 19.4423C31.0567 19.1422 30.4166 18.9922 29.6465 18.9922C28.8764 18.9922 28.2463 19.1422 27.7262 19.4423C27.2161 19.7323 26.7961 20.1124 26.476 20.5824C26.166 21.0525 25.8659 21.6526 25.5759 22.3727C25.3059 23.0828 25.0658 23.6929 24.8658 24.2029L17.8648 41.9855C17.5748 42.6956 17.3747 43.2457 17.2447 43.6457C17.1247 44.0458 17.0547 44.4258 17.0547 44.8059C17.0547 45.456 17.3247 46.0361 17.8548 46.5461C18.3849 47.0562 19.005 47.3162 19.7051 47.3162C20.5252 47.3162 21.1153 47.0762 21.4753 46.6061C21.8354 46.1161 22.2754 45.1959 22.7855 43.8257L24.0957 40.3152H35.2273L36.5375 43.7557C36.7075 44.1758 36.9175 44.6759 37.1576 45.2359C37.4076 45.786 37.6376 46.1961 37.8477 46.4661C38.0577 46.7262 38.3177 46.9362 38.6278 47.0862C38.9378 47.2462 39.3079 47.3262 39.7479 47.3262C40.498 47.3262 41.1281 47.0662 41.6482 46.5461C42.1883 46.0061 42.4483 45.426 42.4483 44.7859C42.4483 44.1458 42.1683 43.1956 41.6082 41.8555L34.4572 24.1829V24.1629ZM25.5459 36.1346L29.5965 24.833L33.7271 36.1346H25.5459Z",p2888f670:"M66.9996 29.5342C65.3393 29.5342 63.9992 30.8744 63.9992 32.5346V46.8167C63.9992 51.4073 62.2089 55.728 58.9684 58.9684C55.728 62.2189 51.4074 63.9991 46.8167 63.9991H23.1833C18.5927 63.9991 14.272 62.2089 11.0316 58.9684C7.78111 55.718 6.00086 51.4073 6.00086 46.8167V23.1833C6.00086 18.5927 7.79111 14.272 11.0316 11.0316C14.272 7.79112 18.5927 6.00086 23.1833 6.00086H46.8167C48.4769 6.00086 49.8171 4.66067 49.8171 3.00043C49.8171 1.34019 48.4769 0 46.8167 0H23.1833C16.9924 0 11.1716 2.41035 6.79097 6.79097C2.41034 11.1716 0 16.9924 0 23.1833V46.8167C0 53.0076 2.41034 58.8284 6.79097 63.209C11.1716 67.5897 16.9924 70 23.1833 70H46.8167C53.0076 70 58.8384 67.5897 63.209 63.209C67.5897 58.8284 70 53.0076 70 46.8167V32.5346C70 30.8744 68.6598 29.5342 66.9996 29.5342Z",p3d0c8dc0:"M63.3766 24.1126C69.5907 24.1126 74.6282 19.0751 74.6282 12.861C74.6282 6.64689 69.5907 1.60938 63.3766 1.60938C57.1625 1.60938 52.125 6.64689 52.125 12.861C52.125 19.0751 57.1625 24.1126 63.3766 24.1126Z",p5723880:"M48.7157 26.5742C47.9656 26.5742 47.3555 26.8343 46.8854 27.3443C46.4253 27.8544 46.1953 28.6145 46.1953 29.6247V44.2167C46.1953 45.2169 46.4253 45.977 46.8854 46.5171C47.3555 47.0571 47.9656 47.3172 48.7157 47.3172C49.4658 47.3172 50.0759 47.0571 50.5659 46.5371C51.056 46.017 51.296 45.2369 51.296 44.2167V29.4746C51.296 28.5645 51.056 27.8544 50.5659 27.3443C50.0759 26.8343 49.4658 26.5742 48.7157 26.5742Z"},LA="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2075%2070%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22clip0_5723_7999%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M75%200H0V70H75V0Z%22%20fill%3D%22var(--fill-0%2C%20black)%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function DA(){return g.jsx("div",{className:"relative size-full","data-name":"favicon 1",children:g.jsx("div",{className:"absolute contents inset-0","data-name":"Clip path group",children:g.jsx("div",{className:"absolute inset-[0_0.5%_0_0] mask-alpha mask-intersect mask-no-clip mask-no-repeat mask-position-[0px] mask-size-[75px_70px]","data-name":"Group",style:{maskImage:`url('${LA}')`},children:g.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 75 70",children:g.jsxs("g",{id:"Group",children:[g.jsx("path",{d:au.p5723880,fill:"var(--fill-0, #111827)",id:"Vector"}),g.jsx("path",{d:au.p18cc100,fill:"var(--fill-0, #111827)",id:"Vector_2"}),g.jsx("path",{d:au.p2888f670,fill:"var(--fill-0, #0062FF)",id:"Vector_3"}),g.jsx("path",{d:au.p3d0c8dc0,fill:"var(--fill-0, #0062FF)",id:"Vector_4"})]})})})})})}function MA(){const[t,n]=$.useState("configuration"),s=()=>{switch(t){case"configuration":return g.jsx(hE,{});case"api-testing":return g.jsx(hA,{});case"caching":return g.jsx(vA,{});case"monitoring":return g.jsx(wA,{});case"authorization":return g.jsx(xA,{});case"code-examples":return g.jsx(CA,{});default:return g.jsx(hE,{})}};return g.jsxs("div",{className:"flex h-screen bg-background",children:[g.jsx(qA,{activeSection:t,onSectionChange:n}),g.jsx("main",{className:"flex-1 overflow-auto",children:s()}),g.jsx(jA,{position:"top-right"})]})}function UA(){const{dataClient:t,isLoading:n}=Uo(),[s,o]=$.useState(!1),[l,c]=$.useState(!1);$.useEffect(()=>{if(!t)return;const d=()=>{t.handleOAuthCallback()?(o(!0),de.success("Authentication successful",{description:"You have been successfully authenticated",duration:3e3})):o(t.isAuthenticated())};d();const h=()=>{d()};window.addEventListener("hashchange",h);const m=()=>{setTimeout(d,100)};return window.addEventListener("focus",m),()=>{window.removeEventListener("hashchange",h),window.removeEventListener("focus",m)}},[t]);const i=async()=>{if(!t){de.error("DataClient not initialized",{description:"Please initialize DataClient first on the Configuration page",duration:5e3});return}c(!0);try{await t.redirectToLogin(),c(!1)}catch(d){const h=d instanceof Error?d.message:"Unknown error";de.error("Login failed",{description:h,duration:1e4}),c(!1)}},u=async()=>{if(!t){de.error("DataClient not initialized");return}c(!0);try{await t.logout(),o(!1),de.success("Logged out successfully")}catch(d){const h=d instanceof Error?d.message:"Unknown error";de.error("Logout failed",{description:h})}finally{c(!1)}};return n?g.jsx("div",{className:"p-4 border-t border-sidebar-border",children:g.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})}):g.jsxs("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[g.jsx(Pb,{className:"w-3 h-3"}),g.jsx("span",{className:s?"text-green-600":"text-muted-foreground",children:s?"Authenticated":"Not authenticated"})]}),s?g.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full",onClick:u,disabled:l||!t,children:[g.jsx(Sb,{className:"w-3 h-3 mr-2"}),l?"Logging out...":"Logout"]}):g.jsxs(Ye,{variant:"default",size:"sm",className:"w-full",onClick:i,disabled:l||!t,children:[g.jsx(wb,{className:"w-3 h-3 mr-2"}),l?"Redirecting...":"Login"]})]})}function qA({activeSection:t,onSectionChange:n}){const s=[{id:"configuration",label:"Configuration",icon:_b},{id:"api-testing",label:"API Testing",icon:Cb},{id:"caching",label:"Caching & Storage",icon:hp},{id:"monitoring",label:"Monitoring & Logs",icon:lb},{id:"authorization",label:"Authorization",icon:pp},{id:"code-examples",label:"Code Examples",icon:hb}];return g.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col",children:[g.jsx("div",{className:"p-6 border-b border-sidebar-border",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10",children:g.jsx(DA,{})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-sidebar-foreground font-medium",children:"AI Fabrix"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"MISO Data Client"})]})]})}),g.jsx("nav",{className:"flex-1 p-4",role:"navigation","aria-label":"Main navigation",children:g.jsx("ul",{className:"space-y-1",children:s.map(o=>{const l=t===o.id,c=o.icon;return g.jsx("li",{children:g.jsxs("button",{onClick:()=>n(o.id),className:`
                    w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors
                    ${l?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"}
                  `,children:[g.jsx(c,{className:"w-4 h-4"}),g.jsx("span",{children:o.label})]})},o.id)})})}),g.jsx(UA,{}),g.jsx("div",{className:"p-4 border-t border-sidebar-border",children:g.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Version"}),g.jsx("span",{className:"font-medium",children:"1.0.0"})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Environment"}),g.jsx("span",{className:"font-medium text-green-600",children:"Development"})]})]})})]})}QC.createRoot(document.getElementById("root")).render(g.jsx(RA,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:g.jsx(_R,{children:g.jsx(MA,{})})}))});export default FA();
//# sourceMappingURL=index-Cs_Sq2aj.js.map
