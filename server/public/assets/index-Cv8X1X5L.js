var lx=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var q_=lx((tt,Fe)=>{function cx(r,i){for(var s=0;s<i.length;s++){const n=i[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")&&Object.keys(r).length===1?r.default:r}var Fd={exports:{}},aa={},zd={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function ux(){if(Dg)return et;Dg=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function C(q,X,$){this.props=q,this.context=X,this.refs=b,this.updater=$||S}C.prototype.isReactComponent={},C.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=C.prototype;function P(q,X,$){this.props=q,this.context=X,this.refs=b,this.updater=$||S}var O=P.prototype=new R;O.constructor=P,E(O,C.prototype),O.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function A(q,X,$){var ee,ue={},Te=null,De=null;if(X!=null)for(ee in X.ref!==void 0&&(De=X.ref),X.key!==void 0&&(Te=""+X.key),X)B.call(X,ee)&&!I.hasOwnProperty(ee)&&(ue[ee]=X[ee]);var Oe=arguments.length-2;if(Oe===1)ue.children=$;else if(1<Oe){for(var Ye=Array(Oe),ct=0;ct<Oe;ct++)Ye[ct]=arguments[ct+2];ue.children=Ye}if(q&&q.defaultProps)for(ee in Oe=q.defaultProps,Oe)ue[ee]===void 0&&(ue[ee]=Oe[ee]);return{$$typeof:r,type:q,key:Te,ref:De,props:ue,_owner:T.current}}function H(q,X){return{$$typeof:r,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function G(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function le(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function($){return X[$]})}var fe=/\/+/g;function Z(q,X){return typeof q=="object"&&q!==null&&q.key!=null?le(""+q.key):X.toString(36)}function ne(q,X,$,ee,ue){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var De=!1;if(q===null)De=!0;else switch(Te){case"string":case"number":De=!0;break;case"object":switch(q.$$typeof){case r:case i:De=!0}}if(De)return De=q,ue=ue(De),q=ee===""?"."+Z(De,0):ee,D(ue)?($="",q!=null&&($=q.replace(fe,"$&/")+"/"),ne(ue,X,$,"",function(ct){return ct})):ue!=null&&(G(ue)&&(ue=H(ue,$+(!ue.key||De&&De.key===ue.key?"":(""+ue.key).replace(fe,"$&/")+"/")+q)),X.push(ue)),1;if(De=0,ee=ee===""?".":ee+":",D(q))for(var Oe=0;Oe<q.length;Oe++){Te=q[Oe];var Ye=ee+Z(Te,Oe);De+=ne(Te,X,$,Ye,ue)}else if(Ye=w(q),typeof Ye=="function")for(q=Ye.call(q),Oe=0;!(Te=q.next()).done;)Te=Te.value,Ye=ee+Z(Te,Oe++),De+=ne(Te,X,$,Ye,ue);else if(Te==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return De}function W(q,X,$){if(q==null)return q;var ee=[],ue=0;return ne(q,ee,"","",function(Te){return X.call($,Te,ue++)}),ee}function Y(q){if(q._status===-1){var X=q._result;X=X(),X.then(function($){(q._status===0||q._status===-1)&&(q._status=1,q._result=$)},function($){(q._status===0||q._status===-1)&&(q._status=2,q._result=$)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var te={current:null},U={transition:null},ce={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:U,ReactCurrentOwner:T};function ae(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:W,forEach:function(q,X,$){W(q,function(){X.apply(this,arguments)},$)},count:function(q){var X=0;return W(q,function(){X++}),X},toArray:function(q){return W(q,function(X){return X})||[]},only:function(q){if(!G(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},et.Component=C,et.Fragment=s,et.Profiler=a,et.PureComponent=P,et.StrictMode=n,et.Suspense=g,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,et.act=ae,et.cloneElement=function(q,X,$){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ee=E({},q.props),ue=q.key,Te=q.ref,De=q._owner;if(X!=null){if(X.ref!==void 0&&(Te=X.ref,De=T.current),X.key!==void 0&&(ue=""+X.key),q.type&&q.type.defaultProps)var Oe=q.type.defaultProps;for(Ye in X)B.call(X,Ye)&&!I.hasOwnProperty(Ye)&&(ee[Ye]=X[Ye]===void 0&&Oe!==void 0?Oe[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)ee.children=$;else if(1<Ye){Oe=Array(Ye);for(var ct=0;ct<Ye;ct++)Oe[ct]=arguments[ct+2];ee.children=Oe}return{$$typeof:r,type:q.type,key:ue,ref:Te,props:ee,_owner:De}},et.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:l,_context:q},q.Consumer=q},et.createElement=A,et.createFactory=function(q){var X=A.bind(null,q);return X.type=q,X},et.createRef=function(){return{current:null}},et.forwardRef=function(q){return{$$typeof:m,render:q}},et.isValidElement=G,et.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:Y}},et.memo=function(q,X){return{$$typeof:y,type:q,compare:X===void 0?null:X}},et.startTransition=function(q){var X=U.transition;U.transition={};try{q()}finally{U.transition=X}},et.unstable_act=ae,et.useCallback=function(q,X){return te.current.useCallback(q,X)},et.useContext=function(q){return te.current.useContext(q)},et.useDebugValue=function(){},et.useDeferredValue=function(q){return te.current.useDeferredValue(q)},et.useEffect=function(q,X){return te.current.useEffect(q,X)},et.useId=function(){return te.current.useId()},et.useImperativeHandle=function(q,X,$){return te.current.useImperativeHandle(q,X,$)},et.useInsertionEffect=function(q,X){return te.current.useInsertionEffect(q,X)},et.useLayoutEffect=function(q,X){return te.current.useLayoutEffect(q,X)},et.useMemo=function(q,X){return te.current.useMemo(q,X)},et.useReducer=function(q,X,$){return te.current.useReducer(q,X,$)},et.useRef=function(q){return te.current.useRef(q)},et.useState=function(q){return te.current.useState(q)},et.useSyncExternalStore=function(q,X,$){return te.current.useSyncExternalStore(q,X,$)},et.useTransition=function(){return te.current.useTransition()},et.version="18.3.1",et}var Lg;function zh(){return Lg||(Lg=1,zd.exports=ux()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function dx(){if(Mg)return aa;Mg=1;var r=zh(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(m,g,y){var f,h={},w=null,S=null;y!==void 0&&(w=""+y),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(S=g.ref);for(f in g)n.call(g,f)&&!l.hasOwnProperty(f)&&(h[f]=g[f]);if(m&&m.defaultProps)for(f in g=m.defaultProps,g)h[f]===void 0&&(h[f]=g[f]);return{$$typeof:i,type:m,key:w,ref:S,props:h,_owner:a.current}}return aa.Fragment=s,aa.jsx=c,aa.jsxs=c,aa}var Ug;function fx(){return Ug||(Ug=1,Fd.exports=dx()),Fd.exports}var d=fx(),Hg={},qg;function hx(){if(qg)return Hg;if(qg=1,typeof process>"u"){const r={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(i){setTimeout(i,0)},cwd:function(){return"/"},exit:function(i){console.warn("process.exit called with code:",i)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=r),typeof ho<"u"&&(ho.process=r),typeof globalThis<"u"&&(globalThis.process=r)}if(typeof Buffer>"u"){class r{static from(s,n){const a=new r;return a._data=s,a._encoding=n,a}static alloc(s,n,a){const l=new r;return l._size=s,l._fill=n,l._encoding=a,l}static allocUnsafe(s){return r.alloc(s)}static isBuffer(s){return s instanceof r}toString(s){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}typeof window<"u"&&(window.Buffer=r),typeof ho<"u"&&(ho.Buffer=r),typeof globalThis<"u"&&(globalThis.Buffer=r)}return typeof ho>"u"&&(typeof window<"u"?window.global=window:typeof globalThis<"u"&&(globalThis.global=globalThis)),console.log("âœ… Node.js globals polyfill loaded"),Hg}hx();class Kr{static from(i,s){const n=new Kr;return n._data=i,n}static alloc(i,s,n){const a=new Kr;return a._size=i,a._fill=s,a}static allocUnsafe(i){return Kr.alloc(i)}static isBuffer(i){return i instanceof Kr}_data;_encoding;_size;_fill;toString(i){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}const px=Kr,mo={Buffer:Kr};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=mo,Fe.exports.Buffer=Kr,Fe.exports.default=mo,Fe.exports.buffer=mo);typeof tt<"u"&&(tt.default=mo,tt.buffer=mo,tt.Buffer=Kr);typeof window<"u"&&(window.Buffer=Kr);typeof globalThis<"u"&&(globalThis.Buffer=Kr);typeof global<"u"&&(global.Buffer=Kr);const mx=Object.freeze(Object.defineProperty({__proto__:null,Buffer:px,default:mo},Symbol.toStringTag,{value:"Module"}));function $h(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}const ns={inherits:$h,inspect:r=>{try{return JSON.stringify(r,null,2)}catch{return String(r)}},promisify:r=>function(...i){return new Promise((s,n)=>{r(...i,(a,l)=>{a?n(a):s(l)})})}};if(typeof Fe<"u"&&typeof Fe.exports<"u"){const r={...ns,inherits:$h,default:ns,util:ns,inspect:ns.inspect,promisify:ns.promisify};Fe.exports=r}typeof tt<"u"&&(tt.default=ns,tt.util=ns,tt.inherits=$h,tt.inspect=ns.inspect,tt.promisify=ns.promisify);const Ba={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(r){setTimeout(r,0)},cwd:function(){return"/"},exit:function(r){console.warn("process.exit called with code:",r)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=Ba);typeof global<"u"&&(global.process=Ba);typeof globalThis<"u"&&(globalThis.process=Ba);typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Ba,Fe.exports.default=Ba);let Bh=class{_events=new Map;on(i,s){return this._events.has(i)||this._events.set(i,[]),this._events.get(i).push(s),this}once(i,s){const n=(...a)=>{this.removeListener(i,n),s(...a)};return Promise.resolve(this.on(i,n))}emit(i,...s){const n=this._events.get(i);return n&&n.length>0?(n.forEach(a=>{try{a(...s)}catch(l){console.error("EventEmitter error:",l)}}),!0):!1}removeListener(i,s){const n=this._events.get(i);if(n){const a=n.indexOf(s);a>-1&&n.splice(a,1)}return this}removeAllListeners(i){return i?this._events.delete(i):this._events.clear(),this}off(i,s){return this.removeListener(i,s)}addListener(i,s){return this.on(i,s)}};const Fa={EventEmitter:Bh};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Fa,Fe.exports.default=Fa,Fe.exports.EventEmitter=Bh,Fe.exports.events=Fa);typeof tt<"u"&&(tt.default=Fa,tt.events=Fa,tt.EventEmitter=Bh);var uc={},$d={exports:{}},Cr={},Bd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function gx(){return Fg||(Fg=1,(function(r){function i(U,ce){var ae=U.length;U.push(ce);e:for(;0<ae;){var q=ae-1>>>1,X=U[q];if(0<a(X,ce))U[q]=ce,U[ae]=X,ae=q;else break e}}function s(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var ce=U[0],ae=U.pop();if(ae!==ce){U[0]=ae;e:for(var q=0,X=U.length,$=X>>>1;q<$;){var ee=2*(q+1)-1,ue=U[ee],Te=ee+1,De=U[Te];if(0>a(ue,ae))Te<X&&0>a(De,ue)?(U[q]=De,U[Te]=ae,q=Te):(U[q]=ue,U[ee]=ae,q=ee);else if(Te<X&&0>a(De,ae))U[q]=De,U[Te]=ae,q=Te;else break e}}return ce}function a(U,ce){var ae=U.sortIndex-ce.sortIndex;return ae!==0?ae:U.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var g=[],y=[],f=1,h=null,w=3,S=!1,E=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(U){for(var ce=s(y);ce!==null;){if(ce.callback===null)n(y);else if(ce.startTime<=U)n(y),ce.sortIndex=ce.expirationTime,i(g,ce);else break;ce=s(y)}}function D(U){if(b=!1,O(U),!E)if(s(g)!==null)E=!0,Y(B);else{var ce=s(y);ce!==null&&te(D,ce.startTime-U)}}function B(U,ce){E=!1,b&&(b=!1,R(A),A=-1),S=!0;var ae=w;try{for(O(ce),h=s(g);h!==null&&(!(h.expirationTime>ce)||U&&!le());){var q=h.callback;if(typeof q=="function"){h.callback=null,w=h.priorityLevel;var X=q(h.expirationTime<=ce);ce=r.unstable_now(),typeof X=="function"?h.callback=X:h===s(g)&&n(g),O(ce)}else n(g);h=s(g)}if(h!==null)var $=!0;else{var ee=s(y);ee!==null&&te(D,ee.startTime-ce),$=!1}return $}finally{h=null,w=ae,S=!1}}var T=!1,I=null,A=-1,H=5,G=-1;function le(){return!(r.unstable_now()-G<H)}function fe(){if(I!==null){var U=r.unstable_now();G=U;var ce=!0;try{ce=I(!0,U)}finally{ce?Z():(T=!1,I=null)}}else T=!1}var Z;if(typeof P=="function")Z=function(){P(fe)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,W=ne.port2;ne.port1.onmessage=fe,Z=function(){W.postMessage(null)}}else Z=function(){C(fe,0)};function Y(U){I=U,T||(T=!0,Z())}function te(U,ce){A=C(function(){U(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_continueExecution=function(){E||S||(E=!0,Y(B))},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return s(g)},r.unstable_next=function(U){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ae=w;w=ce;try{return U()}finally{w=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(U,ce){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=w;w=U;try{return ce()}finally{w=ae}},r.unstable_scheduleCallback=function(U,ce,ae){var q=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,U={id:f++,callback:ce,priorityLevel:U,startTime:ae,expirationTime:X,sortIndex:-1},ae>q?(U.sortIndex=ae,i(y,U),s(g)===null&&U===s(y)&&(b?(R(A),A=-1):b=!0,te(D,ae-q))):(U.sortIndex=X,i(g,U),E||S||(E=!0,Y(B))),U},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(U){var ce=w;return function(){var ae=w;w=ce;try{return U.apply(this,arguments)}finally{w=ae}}}})(Kd)),Kd}var zg;function yx(){return zg||(zg=1,Bd.exports=gx()),Bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function vx(){if($g)return Cr;$g=1;var r=zh(),i=yx();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)n.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function w(e){return g.call(h,e)?!0:g.call(f,e)?!1:y.test(e)?h[e]=!0:(f[e]=!0,!1)}function S(e,t,o,u){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,o,u){if(t===null||typeof t>"u"||S(e,t,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,o,u,p,v,_){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=v,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,P);C[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,P);C[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,P);C[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,t,o,u){var p=C.hasOwnProperty(t)?C[t]:null;(p!==null?p.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,o,p,u)&&(o=null),u||p===null?w(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):p.mustUseProperty?e[p.propertyName]=o===null?p.type===3?!1:"":o:(t=p.attributeName,u=p.attributeNamespace,o===null?e.removeAttribute(t):(p=p.type,o=p===3||p===4&&o===!0?"":""+o,u?e.setAttributeNS(u,t,o):e.setAttribute(t,o))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),le=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),U=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,q;function X(e){if(q===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return`
`+q+e}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(oe){var u=oe}Reflect.construct(e,[],t)}else{try{t.call()}catch(oe){u=oe}e.call(t.prototype)}else{try{throw Error()}catch(oe){u=oe}e()}}catch(oe){if(oe&&u&&typeof oe.stack=="string"){for(var p=oe.stack.split(`
`),v=u.stack.split(`
`),_=p.length-1,L=v.length-1;1<=_&&0<=L&&p[_]!==v[L];)L--;for(;1<=_&&0<=L;_--,L--)if(p[_]!==v[L]){if(_!==1||L!==1)do if(_--,L--,0>L||p[_]!==v[L]){var z=`
`+p[_].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=_&&0<=L);break}}}finally{$=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?X(e):""}function ue(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function Te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case T:return"Portal";case H:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case le:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:Te(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return Te(e(t))}catch{}}return null}function De(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ct(e){var t=Ye(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,v=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return p.call(this)},set:function(_){u=""+_,v.call(this,_)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gt(e){e._valueTracker||(e._valueTracker=ct(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),u="";return e&&(u=Ye(e)?e.checked?"true":"false":e.value),e=u,e!==o?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qe(e,t){var o=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Et(e,t){var o=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;o=Oe(t.value!=null?t.value:o),e._wrapperState={initialChecked:u,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nt(e,t){t=t.checked,t!=null&&O(e,"checked",t,!1)}function bt(e,t){Nt(e,t);var o=Oe(t.value),u=t.type;if(o!=null)u==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ir(e,t.type,o):t.hasOwnProperty("defaultValue")&&ir(e,t.type,Oe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ls(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ir(e,t,o){(t!=="number"||He(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var On=Array.isArray;function gn(e,t,o,u){if(e=e.options,t){t={};for(var p=0;p<o.length;p++)t["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=t.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&u&&(e[o].defaultSelected=!0)}else{for(o=""+Oe(o),t=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}t!==null||e[p].disabled||(t=e[p])}t!==null&&(t.selected=!0)}}function Dt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jr(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(s(92));if(On(o)){if(1<o.length)throw Error(s(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:Oe(o)}}function xi(e,t){var o=Oe(t.value),u=Oe(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),u!=null&&(e.defaultValue=""+u)}function bo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?se(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yn,jn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,u,p){MSApp.execUnsafeLocalFunction(function(){return e(t,o,u,p)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gr(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(e){Vr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dr[t]=Dr[e]})});function Ms(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||Dr.hasOwnProperty(e)&&Dr[e]?(""+t).trim():t+"px"}function bi(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var u=o.indexOf("--")===0,p=Ms(o,t[o],u);o==="float"&&(o="cssFloat"),u?e.setProperty(o,p):e[o]=p}}var Ci=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jr(e,t){if(t){if(Ci[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function as(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function or(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,Xr=null,Qr=null;function ls(e){if(e=Wo(e)){if(typeof Us!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Tl(t),Us(e.stateNode,e.type,t))}}function Ge(e){Xr?Qr?Qr.push(e):Qr=[e]:Xr=e}function gt(){if(Xr){var e=Xr,t=Qr;if(Qr=Xr=null,ls(e),t)for(e=0;e<t.length;e++)ls(t[e])}}function Ct(e,t){return e(t)}function Ft(){}var vn=!1;function ht(e,t,o){if(vn)return e(t,o);vn=!0;try{return Ct(e,t,o)}finally{vn=!1,(Xr!==null||Qr!==null)&&(Ft(),gt())}}function St(e,t){var o=e.stateNode;if(o===null)return null;var u=Tl(o);if(u===null)return null;o=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,t,typeof o));return o}var wn=!1;if(m)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{wn=!1}function ar(e,t,o,u,p,v,_,L,z){var oe=Array.prototype.slice.call(arguments,3);try{t.apply(o,oe)}catch(me){this.onError(me)}}var En=!1,lt=null,Hs=!1,Co=null,fu={onError:function(e){En=!0,lt=e}};function el(e,t,o,u,p,v,_,L,z){En=!1,lt=null,ar.apply(fu,arguments)}function hu(e,t,o,u,p,v,_,L,z){if(el.apply(this,arguments),En){if(En){var oe=lt;En=!1,lt=null}else throw Error(s(198));Hs||(Hs=!0,Co=oe)}}function Zr(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Ti(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tl(e){if(Zr(e)!==e)throw Error(s(188))}function pu(e){var t=e.alternate;if(!t){if(t=Zr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var o=e,u=t;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return tl(p),e;if(v===u)return tl(p),t;v=v.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=v;else{for(var _=!1,L=p.child;L;){if(L===o){_=!0,o=p,u=v;break}if(L===u){_=!0,u=p,o=v;break}L=L.sibling}if(!_){for(L=v.child;L;){if(L===o){_=!0,o=v,u=p;break}if(L===u){_=!0,u=v,o=p;break}L=L.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:t}function To(e){return e=pu(e),e!==null?cs(e):null}function cs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cs(e);if(t!==null)return t;e=e.sibling}return null}var qs=i.unstable_scheduleCallback,rl=i.unstable_cancelCallback,mu=i.unstable_shouldYield,ko=i.unstable_requestPaint,yt=i.unstable_now,gu=i.unstable_getCurrentPriorityLevel,us=i.unstable_ImmediatePriority,yr=i.unstable_UserBlockingPriority,ds=i.unstable_NormalPriority,nl=i.unstable_LowPriority,Dn=i.unstable_IdlePriority,Fs=null,Lr=null;function yu(e){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Fs,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:il,ki=Math.log,sl=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(ki(e)/sl|0)|0}var _i=64,Ri=4194304;function zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,t){var o=e.pendingLanes;if(o===0)return 0;var u=0,p=e.suspendedLanes,v=e.pingedLanes,_=o&268435455;if(_!==0){var L=_&~p;L!==0?u=zs(L):(v&=_,v!==0&&(u=zs(v)))}else _=o&~p,_!==0?u=zs(_):v!==0&&(u=zs(v));if(u===0)return 0;if(t!==0&&t!==u&&(t&p)===0&&(p=u&-u,v=t&-t,p>=v||p===16&&(v&4194240)!==0))return t;if((u&4)!==0&&(u|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)o=31-Rr(t),p=1<<o,u|=e[o],t&=~p;return u}function ol(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(e,t){for(var o=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,v=e.pendingLanes;0<v;){var _=31-Rr(v),L=1<<_,z=p[_];z===-1?((L&o)===0||(L&u)!==0)&&(p[_]=ol(L,t)):z<=t&&(e.expiredLanes|=L),v&=~L}}function en(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _o(){var e=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),e}function ll(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function $s(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=o}function kp(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<o;){var p=31-Rr(o),v=1<<p;t[p]=0,u[p]=-1,e[p]=-1,o&=~v}}function Ro(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var u=31-Rr(o),p=1<<u;p&t|e[u]&t&&(e[u]|=t),o&=~p}}var ot=0;function cl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ul,Ii,Ao,Bs,dl,Ni=!1,Ks=[],tn=null,Sn=null,xn=null,fs=new Map,Ln=new Map,rn=[],vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Io(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function Mn(e,t,o,u,p,v){return e===null||e.nativeEvent!==v?(e={blockedOn:t,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},t!==null&&(t=Wo(t),t!==null&&Ii(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,p!==null&&t.indexOf(p)===-1&&t.push(p),e)}function fl(e,t,o,u,p){switch(t){case"focusin":return tn=Mn(tn,e,t,o,u,p),!0;case"dragenter":return Sn=Mn(Sn,e,t,o,u,p),!0;case"mouseover":return xn=Mn(xn,e,t,o,u,p),!0;case"pointerover":var v=p.pointerId;return fs.set(v,Mn(fs.get(v)||null,e,t,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Ln.set(v,Mn(Ln.get(v)||null,e,t,o,u,p)),!0}return!1}function No(e){var t=Gs(e.target);if(t!==null){var o=Zr(t);if(o!==null){if(t=o.tag,t===13){if(t=Ti(o),t!==null){e.blockedOn=t,dl(e.priority,function(){Ao(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Un(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=Ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);Yr=u,o.target.dispatchEvent(u),Yr=null}else return t=Wo(o),t!==null&&Ii(t),e.blockedOn=o,!1;t.shift()}return!0}function Po(e,t,o){Un(e)&&o.delete(t)}function wu(){Ni=!1,tn!==null&&Un(tn)&&(tn=null),Sn!==null&&Un(Sn)&&(Sn=null),xn!==null&&Un(xn)&&(xn=null),fs.forEach(Po),Ln.forEach(Po)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ni||(Ni=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wu)))}function Yt(e){function t(p){return bn(p,e)}if(0<Ks.length){bn(Ks[0],e);for(var o=1;o<Ks.length;o++){var u=Ks[o];u.blockedOn===e&&(u.blockedOn=null)}}for(tn!==null&&bn(tn,e),Sn!==null&&bn(Sn,e),xn!==null&&bn(xn,e),fs.forEach(t),Ln.forEach(t),o=0;o<rn.length;o++)u=rn[o],u.blockedOn===e&&(u.blockedOn=null);for(;0<rn.length&&(o=rn[0],o.blockedOn===null);)No(o),o.blockedOn===null&&rn.shift()}var nn=D.ReactCurrentBatchConfig,Hn=!0;function Oo(e,t,o,u){var p=ot,v=nn.transition;nn.transition=null;try{ot=1,jo(e,t,o,u)}finally{ot=p,nn.transition=v}}function Eu(e,t,o,u){var p=ot,v=nn.transition;nn.transition=null;try{ot=4,jo(e,t,o,u)}finally{ot=p,nn.transition=v}}function jo(e,t,o,u){if(Hn){var p=Ws(e,t,o,u);if(p===null)Nu(e,t,u,Pi,o),Io(e,u);else if(fl(p,e,t,o,u))u.stopPropagation();else if(Io(e,u),t&4&&-1<vu.indexOf(e)){for(;p!==null;){var v=Wo(p);if(v!==null&&ul(v),v=Ws(e,t,o,u),v===null&&Nu(e,t,u,Pi,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else Nu(e,t,u,null,o)}}var Pi=null;function Ws(e,t,o,u){if(Pi=null,e=or(u),e=Gs(e),e!==null)if(t=Zr(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Ti(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function hl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gu()){case us:return 1;case yr:return 4;case ds:case nl:return 16;case Dn:return 536870912;default:return 16}default:return 16}}var sn=null,pt=null,x=null;function k(){if(x)return x;var e,t=pt,o=t.length,u,p="value"in sn?sn.value:sn.textContent,v=p.length;for(e=0;e<o&&t[e]===p[e];e++);var _=o-e;for(u=1;u<=_&&t[o-u]===p[v-u];u++);return x=p.slice(e,1<u?1-u:void 0)}function N(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function j(){return!0}function M(){return!1}function J(e){function t(o,u,p,v,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(o=e[L],this[L]=o?o(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?j:M,this.isPropagationStopped=M,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=j)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=j)},persist:function(){},isPersistent:j}),t}var V={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},de=J(V),_e=ae({},V,{view:0,detail:0}),xe=J(_e),ye,Ue,nt,Tt=ae({},_e,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&e.type==="mousemove"?(ye=e.screenX-nt.screenX,Ue=e.screenY-nt.screenY):Ue=ye=0,nt=e),ye)},movementY:function(e){return"movementY"in e?e.movementY:Ue}}),Se=J(Tt),Ke=ae({},Tt,{dataTransfer:0}),Le=J(Ke),kt=ae({},_e,{relatedTarget:0}),Xt=J(kt),Pt=ae({},V,{animationName:0,elapsedTime:0,pseudoElement:0}),Qt=J(Pt),Ar=ae({},V,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qn=J(Ar),vr=ae({},V,{data:0}),Oi=J(vr),ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Di(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ml[e])?!!t[e]:!1}function Fn(){return Di}var zn=ae({},_e,{key:function(e){if(e.key){var t=ji[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=N(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return e.type==="keypress"?N(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?N(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gl=J(zn),Mr=ae({},Tt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=J(Mr),Cn=ae({},_e,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),yl=J(Cn),Su=ae({},V,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tn=J(Su),hs=ae({},Tt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=J(hs),Li=[9,13,27,32],Mi=m&&"CompositionEvent"in window,Mo=null;m&&"documentMode"in document&&(Mo=document.documentMode);var sS=m&&"TextEvent"in window&&!Mo,_p=m&&(!Mi||Mo&&8<Mo&&11>=Mo),Rp=" ",Ap=!1;function Ip(e,t){switch(e){case"keyup":return Li.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function iS(e,t){switch(e){case"compositionend":return Np(t);case"keypress":return t.which!==32?null:(Ap=!0,Rp);case"textInput":return e=t.data,e===Rp&&Ap?null:e;default:return null}}function oS(e,t){if(Ui)return e==="compositionend"||!Mi&&Ip(e,t)?(e=k(),x=pt=sn=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _p&&t.locale!=="ko"?null:t.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aS[e.type]:t==="textarea"}function Op(e,t,o,u){Ge(u),t=xl(t,"onChange"),0<t.length&&(o=new de("onChange","change",null,o,u),e.push({event:o,listeners:t}))}var Uo=null,Ho=null;function lS(e){Xp(e,0)}function vl(e){var t=$i(e);if(ie(t))return e}function cS(e,t){if(e==="change")return t}var jp=!1;if(m){var xu;if(m){var bu="oninput"in document;if(!bu){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),bu=typeof Dp.oninput=="function"}xu=bu}else xu=!1;jp=xu&&(!document.documentMode||9<document.documentMode)}function Lp(){Uo&&(Uo.detachEvent("onpropertychange",Mp),Ho=Uo=null)}function Mp(e){if(e.propertyName==="value"&&vl(Ho)){var t=[];Op(t,Ho,e,or(e)),ht(lS,t)}}function uS(e,t,o){e==="focusin"?(Lp(),Uo=t,Ho=o,Uo.attachEvent("onpropertychange",Mp)):e==="focusout"&&Lp()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(Ho)}function fS(e,t){if(e==="click")return vl(t)}function hS(e,t){if(e==="input"||e==="change")return vl(t)}function pS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:pS;function qo(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),u=Object.keys(t);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!g.call(t,p)||!on(e[p],t[p]))return!1}return!0}function Up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hp(e,t){var o=Up(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=t&&u>=t)return{node:o,offset:t-e};e=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Up(o)}}function qp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fp(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=He(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mS(e){var t=Fp(),o=e.focusedElem,u=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&qp(o.ownerDocument.documentElement,o)){if(u!==null&&Cu(o)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var p=o.textContent.length,v=Math.min(u.start,p);u=u.end===void 0?v:Math.min(u.end,p),!e.extend&&v>u&&(p=u,u=v,v=p),p=Hp(o,v);var _=Hp(o,u);p&&_&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(p.node,p.offset),e.removeAllRanges(),v>u?(e.addRange(t),e.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gS=m&&"documentMode"in document&&11>=document.documentMode,Hi=null,Tu=null,Fo=null,ku=!1;function zp(e,t,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ku||Hi==null||Hi!==He(u)||(u=Hi,"selectionStart"in u&&Cu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fo&&qo(Fo,u)||(Fo=u,u=xl(Tu,"onSelect"),0<u.length&&(t=new de("onSelect","select",null,t,o),e.push({event:t,listeners:u}),t.target=Hi)))}function wl(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var qi={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},_u={},$p={};m&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function El(e){if(_u[e])return _u[e];if(!qi[e])return e;var t=qi[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in $p)return _u[e]=t[o];return e}var Bp=El("animationend"),Kp=El("animationiteration"),Wp=El("animationstart"),Gp=El("transitionend"),Vp=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(e,t){Vp.set(e,t),l(t,[e])}for(var Ru=0;Ru<Jp.length;Ru++){var Au=Jp[Ru],yS=Au.toLowerCase(),vS=Au[0].toUpperCase()+Au.slice(1);ps(yS,"on"+vS)}ps(Bp,"onAnimationEnd"),ps(Kp,"onAnimationIteration"),ps(Wp,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(Gp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Yp(e,t,o){var u=e.type||"unknown-event";e.currentTarget=o,hu(u,t,void 0,e),e.currentTarget=null}function Xp(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],p=u.event;u=u.listeners;e:{var v=void 0;if(t)for(var _=u.length-1;0<=_;_--){var L=u[_],z=L.instance,oe=L.currentTarget;if(L=L.listener,z!==v&&p.isPropagationStopped())break e;Yp(p,L,oe),v=z}else for(_=0;_<u.length;_++){if(L=u[_],z=L.instance,oe=L.currentTarget,L=L.listener,z!==v&&p.isPropagationStopped())break e;Yp(p,L,oe),v=z}}}if(Hs)throw e=Co,Hs=!1,Co=null,e}function dt(e,t){var o=t[Mu];o===void 0&&(o=t[Mu]=new Set);var u=e+"__bubble";o.has(u)||(Qp(t,e,2,!1),o.add(u))}function Iu(e,t,o){var u=0;t&&(u|=4),Qp(o,e,u,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Sl]){e[Sl]=!0,n.forEach(function(o){o!=="selectionchange"&&(wS.has(o)||Iu(o,!1,e),Iu(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,Iu("selectionchange",!1,t))}}function Qp(e,t,o,u){switch(hl(t)){case 1:var p=Oo;break;case 4:p=Eu;break;default:p=jo}o=p.bind(null,t,o,e),p=void 0,!wn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(t,o,{capture:!0,passive:p}):e.addEventListener(t,o,!0):p!==void 0?e.addEventListener(t,o,{passive:p}):e.addEventListener(t,o,!1)}function Nu(e,t,o,u,p){var v=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var L=u.stateNode.containerInfo;if(L===p||L.nodeType===8&&L.parentNode===p)break;if(_===4)for(_=u.return;_!==null;){var z=_.tag;if((z===3||z===4)&&(z=_.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;_=_.return}for(;L!==null;){if(_=Gs(L),_===null)return;if(z=_.tag,z===5||z===6){u=v=_;continue e}L=L.parentNode}}u=u.return}ht(function(){var oe=v,me=or(o),ge=[];e:{var he=Vp.get(e);if(he!==void 0){var ke=de,Ie=e;switch(e){case"keypress":if(N(o)===0)break e;case"keydown":case"keyup":ke=gl;break;case"focusin":Ie="focus",ke=Xt;break;case"focusout":Ie="blur",ke=Xt;break;case"beforeblur":case"afterblur":ke=Xt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Se;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Le;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=yl;break;case Bp:case Kp:case Wp:ke=Qt;break;case Gp:ke=Tn;break;case"scroll":ke=xe;break;case"wheel":ke=Lo;break;case"copy":case"cut":case"paste":ke=qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Do}var je=(t&4)!==0,_t=!je&&e==="scroll",Q=je?he!==null?he+"Capture":null:he;je=[];for(var K=oe,re;K!==null;){re=K;var ve=re.stateNode;if(re.tag===5&&ve!==null&&(re=ve,Q!==null&&(ve=St(K,Q),ve!=null&&je.push(Bo(K,ve,re)))),_t)break;K=K.return}0<je.length&&(he=new ke(he,Ie,null,o,me),ge.push({event:he,listeners:je}))}}if((t&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",he&&o!==Yr&&(Ie=o.relatedTarget||o.fromElement)&&(Gs(Ie)||Ie[$n]))break e;if((ke||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,ke?(Ie=o.relatedTarget||o.toElement,ke=oe,Ie=Ie?Gs(Ie):null,Ie!==null&&(_t=Zr(Ie),Ie!==_t||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(ke=null,Ie=oe),ke!==Ie)){if(je=Se,ve="onMouseLeave",Q="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(je=Do,ve="onPointerLeave",Q="onPointerEnter",K="pointer"),_t=ke==null?he:$i(ke),re=Ie==null?he:$i(Ie),he=new je(ve,K+"leave",ke,o,me),he.target=_t,he.relatedTarget=re,ve=null,Gs(me)===oe&&(je=new je(Q,K+"enter",Ie,o,me),je.target=re,je.relatedTarget=_t,ve=je),_t=ve,ke&&Ie)t:{for(je=ke,Q=Ie,K=0,re=je;re;re=Fi(re))K++;for(re=0,ve=Q;ve;ve=Fi(ve))re++;for(;0<K-re;)je=Fi(je),K--;for(;0<re-K;)Q=Fi(Q),re--;for(;K--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=Fi(je),Q=Fi(Q)}je=null}else je=null;ke!==null&&Zp(ge,he,ke,je,!1),Ie!==null&&_t!==null&&Zp(ge,_t,Ie,je,!0)}}e:{if(he=oe?$i(oe):window,ke=he.nodeName&&he.nodeName.toLowerCase(),ke==="select"||ke==="input"&&he.type==="file")var Me=cS;else if(Pp(he))if(jp)Me=hS;else{Me=dS;var ze=uS}else(ke=he.nodeName)&&ke.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Me=fS);if(Me&&(Me=Me(e,oe))){Op(ge,Me,o,me);break e}ze&&ze(e,he,oe),e==="focusout"&&(ze=he._wrapperState)&&ze.controlled&&he.type==="number"&&ir(he,"number",he.value)}switch(ze=oe?$i(oe):window,e){case"focusin":(Pp(ze)||ze.contentEditable==="true")&&(Hi=ze,Tu=oe,Fo=null);break;case"focusout":Fo=Tu=Hi=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,zp(ge,o,me);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":zp(ge,o,me)}var $e;if(Mi)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ui?Ip(e,o)&&(Ve="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(_p&&o.locale!=="ko"&&(Ui||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ui&&($e=k()):(sn=me,pt="value"in sn?sn.value:sn.textContent,Ui=!0)),ze=xl(oe,Ve),0<ze.length&&(Ve=new Oi(Ve,e,null,o,me),ge.push({event:Ve,listeners:ze}),$e?Ve.data=$e:($e=Np(o),$e!==null&&(Ve.data=$e)))),($e=sS?iS(e,o):oS(e,o))&&(oe=xl(oe,"onBeforeInput"),0<oe.length&&(me=new Oi("onBeforeInput","beforeinput",null,o,me),ge.push({event:me,listeners:oe}),me.data=$e))}Xp(ge,t)})}function Bo(e,t,o){return{instance:e,listener:t,currentTarget:o}}function xl(e,t){for(var o=t+"Capture",u=[];e!==null;){var p=e,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=St(e,o),v!=null&&u.unshift(Bo(e,v,p)),v=St(e,t),v!=null&&u.push(Bo(e,v,p))),e=e.return}return u}function Fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zp(e,t,o,u,p){for(var v=t._reactName,_=[];o!==null&&o!==u;){var L=o,z=L.alternate,oe=L.stateNode;if(z!==null&&z===u)break;L.tag===5&&oe!==null&&(L=oe,p?(z=St(o,v),z!=null&&_.unshift(Bo(o,z,L))):p||(z=St(o,v),z!=null&&_.push(Bo(o,z,L)))),o=o.return}_.length!==0&&e.push({event:t,listeners:_})}var ES=/\r\n?/g,SS=/\u0000|\uFFFD/g;function em(e){return(typeof e=="string"?e:""+e).replace(ES,`
`).replace(SS,"")}function bl(e,t,o){if(t=em(t),em(e)!==t&&o)throw Error(s(425))}function Cl(){}var Pu=null,Ou=null;function ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,bS=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(CS)}:Du;function CS(e){setTimeout(function(){throw e})}function Lu(e,t){var o=t,u=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(u===0){e.removeChild(p),Yt(t);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=p}while(o);Yt(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var zi=Math.random().toString(36).slice(2),kn="__reactFiber$"+zi,Ko="__reactProps$"+zi,$n="__reactContainer$"+zi,Mu="__reactEvents$"+zi,TS="__reactListeners$"+zi,kS="__reactHandles$"+zi;function Gs(e){var t=e[kn];if(t)return t;for(var o=e.parentNode;o;){if(t=o[$n]||o[kn]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=rm(e);e!==null;){if(o=e[kn])return o;e=rm(e)}return t}e=o,o=e.parentNode}return null}function Wo(e){return e=e[kn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Tl(e){return e[Ko]||null}var Uu=[],Bi=-1;function gs(e){return{current:e}}function ft(e){0>Bi||(e.current=Uu[Bi],Uu[Bi]=null,Bi--)}function ut(e,t){Bi++,Uu[Bi]=e.current,e.current=t}var ys={},Zt=gs(ys),wr=gs(!1),Vs=ys;function Ki(e,t){var o=e.type.contextTypes;if(!o)return ys;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in o)p[v]=t[v];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=p),p}function Er(e){return e=e.childContextTypes,e!=null}function kl(){ft(wr),ft(Zt)}function nm(e,t,o){if(Zt.current!==ys)throw Error(s(168));ut(Zt,t),ut(wr,o)}function sm(e,t,o){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var p in u)if(!(p in t))throw Error(s(108,De(e)||"Unknown",p));return ae({},o,u)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ys,Vs=Zt.current,ut(Zt,e),ut(wr,wr.current),!0}function im(e,t,o){var u=e.stateNode;if(!u)throw Error(s(169));o?(e=sm(e,t,Vs),u.__reactInternalMemoizedMergedChildContext=e,ft(wr),ft(Zt),ut(Zt,e)):ft(wr),ut(wr,o)}var Bn=null,Rl=!1,Hu=!1;function om(e){Bn===null?Bn=[e]:Bn.push(e)}function _S(e){Rl=!0,om(e)}function vs(){if(!Hu&&Bn!==null){Hu=!0;var e=0,t=ot;try{var o=Bn;for(ot=1;e<o.length;e++){var u=o[e];do u=u(!0);while(u!==null)}Bn=null,Rl=!1}catch(p){throw Bn!==null&&(Bn=Bn.slice(e+1)),qs(us,vs),p}finally{ot=t,Hu=!1}}return null}var Wi=[],Gi=0,Al=null,Il=0,Ur=[],Hr=0,Js=null,Kn=1,Wn="";function Ys(e,t){Wi[Gi++]=Il,Wi[Gi++]=Al,Al=e,Il=t}function am(e,t,o){Ur[Hr++]=Kn,Ur[Hr++]=Wn,Ur[Hr++]=Js,Js=e;var u=Kn;e=Wn;var p=32-Rr(u)-1;u&=~(1<<p),o+=1;var v=32-Rr(t)+p;if(30<v){var _=p-p%5;v=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Kn=1<<32-Rr(t)+p|o<<p|u,Wn=v+e}else Kn=1<<v|o<<p|u,Wn=e}function qu(e){e.return!==null&&(Ys(e,1),am(e,1,0))}function Fu(e){for(;e===Al;)Al=Wi[--Gi],Wi[Gi]=null,Il=Wi[--Gi],Wi[Gi]=null;for(;e===Js;)Js=Ur[--Hr],Ur[Hr]=null,Wn=Ur[--Hr],Ur[Hr]=null,Kn=Ur[--Hr],Ur[Hr]=null}var Ir=null,Nr=null,mt=!1,an=null;function lm(e,t){var o=$r(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function cm(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,Nr=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,Nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=Js!==null?{id:Kn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=$r(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,Ir=e,Nr=null,!0):!1;default:return!1}}function zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $u(e){if(mt){var t=Nr;if(t){var o=t;if(!cm(e,t)){if(zu(e))throw Error(s(418));t=ms(o.nextSibling);var u=Ir;t&&cm(e,t)?lm(u,o):(e.flags=e.flags&-4097|2,mt=!1,Ir=e)}}else{if(zu(e))throw Error(s(418));e.flags=e.flags&-4097|2,mt=!1,Ir=e}}}function um(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function Nl(e){if(e!==Ir)return!1;if(!mt)return um(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ju(e.type,e.memoizedProps)),t&&(t=Nr)){if(zu(e))throw dm(),Error(s(418));for(;t;)lm(e,t),t=ms(t.nextSibling)}if(um(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Nr=ms(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Nr=null}}else Nr=Ir?ms(e.stateNode.nextSibling):null;return!0}function dm(){for(var e=Nr;e;)e=ms(e.nextSibling)}function Vi(){Nr=Ir=null,mt=!1}function Bu(e){an===null?an=[e]:an.push(e)}var RS=D.ReactCurrentBatchConfig;function Go(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var u=o.stateNode}if(!u)throw Error(s(147,e));var p=u,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(_){var L=p.refs;_===null?delete L[v]:L[v]=_},t._stringRef=v,t)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function Pl(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fm(e){var t=e._init;return t(e._payload)}function hm(e){function t(Q,K){if(e){var re=Q.deletions;re===null?(Q.deletions=[K],Q.flags|=16):re.push(K)}}function o(Q,K){if(!e)return null;for(;K!==null;)t(Q,K),K=K.sibling;return null}function u(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function p(Q,K){return Q=ks(Q,K),Q.index=0,Q.sibling=null,Q}function v(Q,K,re){return Q.index=re,e?(re=Q.alternate,re!==null?(re=re.index,re<K?(Q.flags|=2,K):re):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function _(Q){return e&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,K,re,ve){return K===null||K.tag!==6?(K=Dd(re,Q.mode,ve),K.return=Q,K):(K=p(K,re),K.return=Q,K)}function z(Q,K,re,ve){var Me=re.type;return Me===I?me(Q,K,re.props.children,ve,re.key):K!==null&&(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Y&&fm(Me)===K.type)?(ve=p(K,re.props),ve.ref=Go(Q,K,re),ve.return=Q,ve):(ve=rc(re.type,re.key,re.props,null,Q.mode,ve),ve.ref=Go(Q,K,re),ve.return=Q,ve)}function oe(Q,K,re,ve){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=Ld(re,Q.mode,ve),K.return=Q,K):(K=p(K,re.children||[]),K.return=Q,K)}function me(Q,K,re,ve,Me){return K===null||K.tag!==7?(K=si(re,Q.mode,ve,Me),K.return=Q,K):(K=p(K,re),K.return=Q,K)}function ge(Q,K,re){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Dd(""+K,Q.mode,re),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return re=rc(K.type,K.key,K.props,null,Q.mode,re),re.ref=Go(Q,null,K),re.return=Q,re;case T:return K=Ld(K,Q.mode,re),K.return=Q,K;case Y:var ve=K._init;return ge(Q,ve(K._payload),re)}if(On(K)||ce(K))return K=si(K,Q.mode,re,null),K.return=Q,K;Pl(Q,K)}return null}function he(Q,K,re,ve){var Me=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Me!==null?null:L(Q,K,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case B:return re.key===Me?z(Q,K,re,ve):null;case T:return re.key===Me?oe(Q,K,re,ve):null;case Y:return Me=re._init,he(Q,K,Me(re._payload),ve)}if(On(re)||ce(re))return Me!==null?null:me(Q,K,re,ve,null);Pl(Q,re)}return null}function ke(Q,K,re,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Q=Q.get(re)||null,L(K,Q,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:return Q=Q.get(ve.key===null?re:ve.key)||null,z(K,Q,ve,Me);case T:return Q=Q.get(ve.key===null?re:ve.key)||null,oe(K,Q,ve,Me);case Y:var ze=ve._init;return ke(Q,K,re,ze(ve._payload),Me)}if(On(ve)||ce(ve))return Q=Q.get(re)||null,me(K,Q,ve,Me,null);Pl(K,ve)}return null}function Ie(Q,K,re,ve){for(var Me=null,ze=null,$e=K,Ve=K=0,Bt=null;$e!==null&&Ve<re.length;Ve++){$e.index>Ve?(Bt=$e,$e=null):Bt=$e.sibling;var st=he(Q,$e,re[Ve],ve);if(st===null){$e===null&&($e=Bt);break}e&&$e&&st.alternate===null&&t(Q,$e),K=v(st,K,Ve),ze===null?Me=st:ze.sibling=st,ze=st,$e=Bt}if(Ve===re.length)return o(Q,$e),mt&&Ys(Q,Ve),Me;if($e===null){for(;Ve<re.length;Ve++)$e=ge(Q,re[Ve],ve),$e!==null&&(K=v($e,K,Ve),ze===null?Me=$e:ze.sibling=$e,ze=$e);return mt&&Ys(Q,Ve),Me}for($e=u(Q,$e);Ve<re.length;Ve++)Bt=ke($e,Q,Ve,re[Ve],ve),Bt!==null&&(e&&Bt.alternate!==null&&$e.delete(Bt.key===null?Ve:Bt.key),K=v(Bt,K,Ve),ze===null?Me=Bt:ze.sibling=Bt,ze=Bt);return e&&$e.forEach(function(_s){return t(Q,_s)}),mt&&Ys(Q,Ve),Me}function je(Q,K,re,ve){var Me=ce(re);if(typeof Me!="function")throw Error(s(150));if(re=Me.call(re),re==null)throw Error(s(151));for(var ze=Me=null,$e=K,Ve=K=0,Bt=null,st=re.next();$e!==null&&!st.done;Ve++,st=re.next()){$e.index>Ve?(Bt=$e,$e=null):Bt=$e.sibling;var _s=he(Q,$e,st.value,ve);if(_s===null){$e===null&&($e=Bt);break}e&&$e&&_s.alternate===null&&t(Q,$e),K=v(_s,K,Ve),ze===null?Me=_s:ze.sibling=_s,ze=_s,$e=Bt}if(st.done)return o(Q,$e),mt&&Ys(Q,Ve),Me;if($e===null){for(;!st.done;Ve++,st=re.next())st=ge(Q,st.value,ve),st!==null&&(K=v(st,K,Ve),ze===null?Me=st:ze.sibling=st,ze=st);return mt&&Ys(Q,Ve),Me}for($e=u(Q,$e);!st.done;Ve++,st=re.next())st=ke($e,Q,Ve,st.value,ve),st!==null&&(e&&st.alternate!==null&&$e.delete(st.key===null?Ve:st.key),K=v(st,K,Ve),ze===null?Me=st:ze.sibling=st,ze=st);return e&&$e.forEach(function(ax){return t(Q,ax)}),mt&&Ys(Q,Ve),Me}function _t(Q,K,re,ve){if(typeof re=="object"&&re!==null&&re.type===I&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case B:e:{for(var Me=re.key,ze=K;ze!==null;){if(ze.key===Me){if(Me=re.type,Me===I){if(ze.tag===7){o(Q,ze.sibling),K=p(ze,re.props.children),K.return=Q,Q=K;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Y&&fm(Me)===ze.type){o(Q,ze.sibling),K=p(ze,re.props),K.ref=Go(Q,ze,re),K.return=Q,Q=K;break e}o(Q,ze);break}else t(Q,ze);ze=ze.sibling}re.type===I?(K=si(re.props.children,Q.mode,ve,re.key),K.return=Q,Q=K):(ve=rc(re.type,re.key,re.props,null,Q.mode,ve),ve.ref=Go(Q,K,re),ve.return=Q,Q=ve)}return _(Q);case T:e:{for(ze=re.key;K!==null;){if(K.key===ze)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){o(Q,K.sibling),K=p(K,re.children||[]),K.return=Q,Q=K;break e}else{o(Q,K);break}else t(Q,K);K=K.sibling}K=Ld(re,Q.mode,ve),K.return=Q,Q=K}return _(Q);case Y:return ze=re._init,_t(Q,K,ze(re._payload),ve)}if(On(re))return Ie(Q,K,re,ve);if(ce(re))return je(Q,K,re,ve);Pl(Q,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,K!==null&&K.tag===6?(o(Q,K.sibling),K=p(K,re),K.return=Q,Q=K):(o(Q,K),K=Dd(re,Q.mode,ve),K.return=Q,Q=K),_(Q)):o(Q,K)}return _t}var Ji=hm(!0),pm=hm(!1),Ol=gs(null),jl=null,Yi=null,Ku=null;function Wu(){Ku=Yi=jl=null}function Gu(e){var t=Ol.current;ft(Ol),e._currentValue=t}function Vu(e,t,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===o)break;e=e.return}}function Xi(e,t){jl=e,Ku=Yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Sr=!0),e.firstContext=null)}function qr(e){var t=e._currentValue;if(Ku!==e)if(e={context:e,memoizedValue:t,next:null},Yi===null){if(jl===null)throw Error(s(308));Yi=e,jl.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var Xs=null;function Ju(e){Xs===null?Xs=[e]:Xs.push(e)}function mm(e,t,o,u){var p=t.interleaved;return p===null?(o.next=o,Ju(t)):(o.next=p.next,p.next=o),t.interleaved=o,Gn(e,u)}function Gn(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var ws=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Es(e,t,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var p=u.pending;return p===null?t.next=t:(t.next=p.next,p.next=t),u.pending=t,Gn(e,o)}return p=u.interleaved,p===null?(t.next=t,Ju(u)):(t.next=p.next,p.next=t),u.interleaved=t,Gn(e,o)}function Dl(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,o|=u,t.lanes=o,Ro(e,o)}}function ym(e,t){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?p=v=_:v=v.next=_,o=o.next}while(o!==null);v===null?p=v=t:v=v.next=t}else p=v=t;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,effects:u.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function Ll(e,t,o,u){var p=e.updateQueue;ws=!1;var v=p.firstBaseUpdate,_=p.lastBaseUpdate,L=p.shared.pending;if(L!==null){p.shared.pending=null;var z=L,oe=z.next;z.next=null,_===null?v=oe:_.next=oe,_=z;var me=e.alternate;me!==null&&(me=me.updateQueue,L=me.lastBaseUpdate,L!==_&&(L===null?me.firstBaseUpdate=oe:L.next=oe,me.lastBaseUpdate=z))}if(v!==null){var ge=p.baseState;_=0,me=oe=z=null,L=v;do{var he=L.lane,ke=L.eventTime;if((u&he)===he){me!==null&&(me=me.next={eventTime:ke,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ie=e,je=L;switch(he=t,ke=o,je.tag){case 1:if(Ie=je.payload,typeof Ie=="function"){ge=Ie.call(ke,ge,he);break e}ge=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=je.payload,he=typeof Ie=="function"?Ie.call(ke,ge,he):Ie,he==null)break e;ge=ae({},ge,he);break e;case 2:ws=!0}}L.callback!==null&&L.lane!==0&&(e.flags|=64,he=p.effects,he===null?p.effects=[L]:he.push(L))}else ke={eventTime:ke,lane:he,tag:L.tag,payload:L.payload,callback:L.callback,next:null},me===null?(oe=me=ke,z=ge):me=me.next=ke,_|=he;if(L=L.next,L===null){if(L=p.shared.pending,L===null)break;he=L,L=he.next,he.next=null,p.lastBaseUpdate=he,p.shared.pending=null}}while(!0);if(me===null&&(z=ge),p.baseState=z,p.firstBaseUpdate=oe,p.lastBaseUpdate=me,t=p.shared.interleaved,t!==null){p=t;do _|=p.lane,p=p.next;while(p!==t)}else v===null&&(p.shared.lanes=0);ei|=_,e.lanes=_,e.memoizedState=ge}}function vm(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],p=u.callback;if(p!==null){if(u.callback=null,u=o,typeof p!="function")throw Error(s(191,p));p.call(u)}}}var Vo={},_n=gs(Vo),Jo=gs(Vo),Yo=gs(Vo);function Qs(e){if(e===Vo)throw Error(s(174));return e}function Xu(e,t){switch(ut(Yo,t),ut(Jo,e),ut(_n,Vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:We(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=We(t,e)}ft(_n),ut(_n,t)}function Qi(){ft(_n),ft(Jo),ft(Yo)}function wm(e){Qs(Yo.current);var t=Qs(_n.current),o=We(t,e.type);t!==o&&(ut(Jo,e),ut(_n,o))}function Qu(e){Jo.current===e&&(ft(_n),ft(Jo))}var vt=gs(0);function Ml(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zu=[];function ed(){for(var e=0;e<Zu.length;e++)Zu[e]._workInProgressVersionPrimary=null;Zu.length=0}var Ul=D.ReactCurrentDispatcher,td=D.ReactCurrentBatchConfig,Zs=0,wt=null,Mt=null,zt=null,Hl=!1,Xo=!1,Qo=0,AS=0;function er(){throw Error(s(321))}function rd(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!on(e[o],t[o]))return!1;return!0}function nd(e,t,o,u,p,v){if(Zs=v,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ul.current=e===null||e.memoizedState===null?OS:jS,e=o(u,p),Xo){v=0;do{if(Xo=!1,Qo=0,25<=v)throw Error(s(301));v+=1,zt=Mt=null,t.updateQueue=null,Ul.current=DS,e=o(u,p)}while(Xo)}if(Ul.current=zl,t=Mt!==null&&Mt.next!==null,Zs=0,zt=Mt=wt=null,Hl=!1,t)throw Error(s(300));return e}function sd(){var e=Qo!==0;return Qo=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?wt.memoizedState=zt=e:zt=zt.next=e,zt}function Fr(){if(Mt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=zt===null?wt.memoizedState:zt.next;if(t!==null)zt=t,Mt=e;else{if(e===null)throw Error(s(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zt===null?wt.memoizedState=zt=e:zt=zt.next=e}return zt}function Zo(e,t){return typeof t=="function"?t(e):t}function id(e){var t=Fr(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var u=Mt,p=u.baseQueue,v=o.pending;if(v!==null){if(p!==null){var _=p.next;p.next=v.next,v.next=_}u.baseQueue=p=v,o.pending=null}if(p!==null){v=p.next,u=u.baseState;var L=_=null,z=null,oe=v;do{var me=oe.lane;if((Zs&me)===me)z!==null&&(z=z.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),u=oe.hasEagerState?oe.eagerState:e(u,oe.action);else{var ge={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};z===null?(L=z=ge,_=u):z=z.next=ge,wt.lanes|=me,ei|=me}oe=oe.next}while(oe!==null&&oe!==v);z===null?_=u:z.next=L,on(u,t.memoizedState)||(Sr=!0),t.memoizedState=u,t.baseState=_,t.baseQueue=z,o.lastRenderedState=u}if(e=o.interleaved,e!==null){p=e;do v=p.lane,wt.lanes|=v,ei|=v,p=p.next;while(p!==e)}else p===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function od(e){var t=Fr(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var u=o.dispatch,p=o.pending,v=t.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do v=e(v,_.action),_=_.next;while(_!==p);on(v,t.memoizedState)||(Sr=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),o.lastRenderedState=v}return[v,u]}function Em(){}function Sm(e,t){var o=wt,u=Fr(),p=t(),v=!on(u.memoizedState,p);if(v&&(u.memoizedState=p,Sr=!0),u=u.queue,ad(Cm.bind(null,o,u,e),[e]),u.getSnapshot!==t||v||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,ea(9,bm.bind(null,o,u,p,t),void 0,null),$t===null)throw Error(s(349));(Zs&30)!==0||xm(o,t,p)}return p}function xm(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function bm(e,t,o,u){t.value=o,t.getSnapshot=u,Tm(t)&&km(e)}function Cm(e,t,o){return o(function(){Tm(t)&&km(e)})}function Tm(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!on(e,o)}catch{return!0}}function km(e){var t=Gn(e,1);t!==null&&dn(t,e,1,-1)}function _m(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=PS.bind(null,wt,e),[t.memoizedState,e]}function ea(e,t,o,u){return e={tag:e,create:t,destroy:o,deps:u,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,t.lastEffect=e)),e}function Rm(){return Fr().memoizedState}function ql(e,t,o,u){var p=Rn();wt.flags|=e,p.memoizedState=ea(1|t,o,void 0,u===void 0?null:u)}function Fl(e,t,o,u){var p=Fr();u=u===void 0?null:u;var v=void 0;if(Mt!==null){var _=Mt.memoizedState;if(v=_.destroy,u!==null&&rd(u,_.deps)){p.memoizedState=ea(t,o,v,u);return}}wt.flags|=e,p.memoizedState=ea(1|t,o,v,u)}function Am(e,t){return ql(8390656,8,e,t)}function ad(e,t){return Fl(2048,8,e,t)}function Im(e,t){return Fl(4,2,e,t)}function Nm(e,t){return Fl(4,4,e,t)}function Pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Om(e,t,o){return o=o!=null?o.concat([e]):null,Fl(4,4,Pm.bind(null,t,e),o)}function ld(){}function jm(e,t){var o=Fr();t=t===void 0?null:t;var u=o.memoizedState;return u!==null&&t!==null&&rd(t,u[1])?u[0]:(o.memoizedState=[e,t],e)}function Dm(e,t){var o=Fr();t=t===void 0?null:t;var u=o.memoizedState;return u!==null&&t!==null&&rd(t,u[1])?u[0]:(e=e(),o.memoizedState=[e,t],e)}function Lm(e,t,o){return(Zs&21)===0?(e.baseState&&(e.baseState=!1,Sr=!0),e.memoizedState=o):(on(o,t)||(o=_o(),wt.lanes|=o,ei|=o,e.baseState=!0),t)}function IS(e,t){var o=ot;ot=o!==0&&4>o?o:4,e(!0);var u=td.transition;td.transition={};try{e(!1),t()}finally{ot=o,td.transition=u}}function Mm(){return Fr().memoizedState}function NS(e,t,o){var u=Cs(e);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Um(e))Hm(t,o);else if(o=mm(e,t,o,u),o!==null){var p=cr();dn(o,e,u,p),qm(o,t,u)}}function PS(e,t,o){var u=Cs(e),p={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Um(e))Hm(t,p);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var _=t.lastRenderedState,L=v(_,o);if(p.hasEagerState=!0,p.eagerState=L,on(L,_)){var z=t.interleaved;z===null?(p.next=p,Ju(t)):(p.next=z.next,z.next=p),t.interleaved=p;return}}catch{}finally{}o=mm(e,t,p,u),o!==null&&(p=cr(),dn(o,e,u,p),qm(o,t,u))}}function Um(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function Hm(e,t){Xo=Hl=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function qm(e,t,o){if((o&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,o|=u,t.lanes=o,Ro(e,o)}}var zl={readContext:qr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},OS={readContext:qr,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:qr,useEffect:Am,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,ql(4194308,4,Pm.bind(null,t,e),o)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var o=Rn();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var u=Rn();return t=o!==void 0?o(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=NS.bind(null,wt,e),[u.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:_m,useDebugValue:ld,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=_m(!1),t=e[0];return e=IS.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var u=wt,p=Rn();if(mt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=t(),$t===null)throw Error(s(349));(Zs&30)!==0||xm(u,t,o)}p.memoizedState=o;var v={value:o,getSnapshot:t};return p.queue=v,Am(Cm.bind(null,u,v,e),[e]),u.flags|=2048,ea(9,bm.bind(null,u,v,o,t),void 0,null),o},useId:function(){var e=Rn(),t=$t.identifierPrefix;if(mt){var o=Wn,u=Kn;o=(u&~(1<<32-Rr(u)-1)).toString(32)+o,t=":"+t+"R"+o,o=Qo++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=AS++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jS={readContext:qr,useCallback:jm,useContext:qr,useEffect:ad,useImperativeHandle:Om,useInsertionEffect:Im,useLayoutEffect:Nm,useMemo:Dm,useReducer:id,useRef:Rm,useState:function(){return id(Zo)},useDebugValue:ld,useDeferredValue:function(e){var t=Fr();return Lm(t,Mt.memoizedState,e)},useTransition:function(){var e=id(Zo)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:Em,useSyncExternalStore:Sm,useId:Mm,unstable_isNewReconciler:!1},DS={readContext:qr,useCallback:jm,useContext:qr,useEffect:ad,useImperativeHandle:Om,useInsertionEffect:Im,useLayoutEffect:Nm,useMemo:Dm,useReducer:od,useRef:Rm,useState:function(){return od(Zo)},useDebugValue:ld,useDeferredValue:function(e){var t=Fr();return Mt===null?t.memoizedState=e:Lm(t,Mt.memoizedState,e)},useTransition:function(){var e=od(Zo)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:Em,useSyncExternalStore:Sm,useId:Mm,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function cd(e,t,o,u){t=e.memoizedState,o=o(u,t),o=o==null?t:ae({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var $l={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var u=cr(),p=Cs(e),v=Vn(u,p);v.payload=t,o!=null&&(v.callback=o),t=Es(e,v,p),t!==null&&(dn(t,e,p,u),Dl(t,e,p))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var u=cr(),p=Cs(e),v=Vn(u,p);v.tag=1,v.payload=t,o!=null&&(v.callback=o),t=Es(e,v,p),t!==null&&(dn(t,e,p,u),Dl(t,e,p))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=cr(),u=Cs(e),p=Vn(o,u);p.tag=2,t!=null&&(p.callback=t),t=Es(e,p,u),t!==null&&(dn(t,e,u,o),Dl(t,e,u))}};function Fm(e,t,o,u,p,v,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,v,_):t.prototype&&t.prototype.isPureReactComponent?!qo(o,u)||!qo(p,v):!0}function zm(e,t,o){var u=!1,p=ys,v=t.contextType;return typeof v=="object"&&v!==null?v=qr(v):(p=Er(t)?Vs:Zt.current,u=t.contextTypes,v=(u=u!=null)?Ki(e,p):ys),t=new t(o,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=v),t}function $m(e,t,o,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,u),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function ud(e,t,o,u){var p=e.stateNode;p.props=o,p.state=e.memoizedState,p.refs={},Yu(e);var v=t.contextType;typeof v=="object"&&v!==null?p.context=qr(v):(v=Er(t)?Vs:Zt.current,p.context=Ki(e,v)),p.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(cd(e,t,v,o),p.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(t=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),t!==p.state&&$l.enqueueReplaceState(p,p.state,null),Ll(e,o,p,u),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function Zi(e,t){try{var o="",u=t;do o+=ue(u),u=u.return;while(u);var p=o}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:p,digest:null}}function dd(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function fd(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var LS=typeof WeakMap=="function"?WeakMap:Map;function Bm(e,t,o){o=Vn(-1,o),o.tag=3,o.payload={element:null};var u=t.value;return o.callback=function(){Yl||(Yl=!0,_d=u),fd(e,t)},o}function Km(e,t,o){o=Vn(-1,o),o.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var p=t.value;o.payload=function(){return u(p)},o.callback=function(){fd(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){fd(e,t),typeof u!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var _=t.stack;this.componentDidCatch(t.value,{componentStack:_!==null?_:""})}),o}function Wm(e,t,o){var u=e.pingCache;if(u===null){u=e.pingCache=new LS;var p=new Set;u.set(t,p)}else p=u.get(t),p===void 0&&(p=new Set,u.set(t,p));p.has(o)||(p.add(o),e=YS.bind(null,e,t,o),t.then(e,e))}function Gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vm(e,t,o,u,p){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=Vn(-1,1),t.tag=2,Es(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=p,e)}var MS=D.ReactCurrentOwner,Sr=!1;function lr(e,t,o,u){t.child=e===null?pm(t,null,o,u):Ji(t,e.child,o,u)}function Jm(e,t,o,u,p){o=o.render;var v=t.ref;return Xi(t,p),u=nd(e,t,o,u,v,p),o=sd(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,Jn(e,t,p)):(mt&&o&&qu(t),t.flags|=1,lr(e,t,u,p),t.child)}function Ym(e,t,o,u,p){if(e===null){var v=o.type;return typeof v=="function"&&!jd(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=v,Xm(e,t,v,u,p)):(e=rc(o.type,null,u,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,(e.lanes&p)===0){var _=v.memoizedProps;if(o=o.compare,o=o!==null?o:qo,o(_,u)&&e.ref===t.ref)return Jn(e,t,p)}return t.flags|=1,e=ks(v,u),e.ref=t.ref,e.return=t,t.child=e}function Xm(e,t,o,u,p){if(e!==null){var v=e.memoizedProps;if(qo(v,u)&&e.ref===t.ref)if(Sr=!1,t.pendingProps=u=v,(e.lanes&p)!==0)(e.flags&131072)!==0&&(Sr=!0);else return t.lanes=e.lanes,Jn(e,t,p)}return hd(e,t,o,u,p)}function Qm(e,t,o){var u=t.pendingProps,p=u.children,v=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(to,Pr),Pr|=o;else{if((o&1073741824)===0)return e=v!==null?v.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(to,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=v!==null?v.baseLanes:o,ut(to,Pr),Pr|=u}else v!==null?(u=v.baseLanes|o,t.memoizedState=null):u=o,ut(to,Pr),Pr|=u;return lr(e,t,p,o),t.child}function Zm(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function hd(e,t,o,u,p){var v=Er(o)?Vs:Zt.current;return v=Ki(t,v),Xi(t,p),o=nd(e,t,o,u,v,p),u=sd(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,Jn(e,t,p)):(mt&&u&&qu(t),t.flags|=1,lr(e,t,o,p),t.child)}function eg(e,t,o,u,p){if(Er(o)){var v=!0;_l(t)}else v=!1;if(Xi(t,p),t.stateNode===null)Kl(e,t),zm(t,o,u),ud(t,o,u,p),u=!0;else if(e===null){var _=t.stateNode,L=t.memoizedProps;_.props=L;var z=_.context,oe=o.contextType;typeof oe=="object"&&oe!==null?oe=qr(oe):(oe=Er(o)?Vs:Zt.current,oe=Ki(t,oe));var me=o.getDerivedStateFromProps,ge=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function";ge||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==u||z!==oe)&&$m(t,_,u,oe),ws=!1;var he=t.memoizedState;_.state=he,Ll(t,u,_,p),z=t.memoizedState,L!==u||he!==z||wr.current||ws?(typeof me=="function"&&(cd(t,o,me,u),z=t.memoizedState),(L=ws||Fm(t,o,L,u,he,z,oe))?(ge||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=z),_.props=u,_.state=z,_.context=oe,u=L):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{_=t.stateNode,gm(e,t),L=t.memoizedProps,oe=t.type===t.elementType?L:ln(t.type,L),_.props=oe,ge=t.pendingProps,he=_.context,z=o.contextType,typeof z=="object"&&z!==null?z=qr(z):(z=Er(o)?Vs:Zt.current,z=Ki(t,z));var ke=o.getDerivedStateFromProps;(me=typeof ke=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==ge||he!==z)&&$m(t,_,u,z),ws=!1,he=t.memoizedState,_.state=he,Ll(t,u,_,p);var Ie=t.memoizedState;L!==ge||he!==Ie||wr.current||ws?(typeof ke=="function"&&(cd(t,o,ke,u),Ie=t.memoizedState),(oe=ws||Fm(t,o,oe,u,he,Ie,z)||!1)?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Ie,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Ie,z)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=Ie),_.props=u,_.state=Ie,_.context=z,u=oe):(typeof _.componentDidUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),u=!1)}return pd(e,t,o,u,v,p)}function pd(e,t,o,u,p,v){Zm(e,t);var _=(t.flags&128)!==0;if(!u&&!_)return p&&im(t,o,!1),Jn(e,t,v);u=t.stateNode,MS.current=t;var L=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&_?(t.child=Ji(t,e.child,null,v),t.child=Ji(t,null,L,v)):lr(e,t,L,v),t.memoizedState=u.state,p&&im(t,o,!0),t.child}function tg(e){var t=e.stateNode;t.pendingContext?nm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nm(e,t.context,!1),Xu(e,t.containerInfo)}function rg(e,t,o,u,p){return Vi(),Bu(p),t.flags|=256,lr(e,t,o,u),t.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(e){return{baseLanes:e,cachePool:null,transitions:null}}function ng(e,t,o){var u=t.pendingProps,p=vt.current,v=!1,_=(t.flags&128)!==0,L;if((L=_)||(L=e!==null&&e.memoizedState===null?!1:(p&2)!==0),L?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),ut(vt,p&1),e===null)return $u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(_=u.children,e=u.fallback,v?(u=t.mode,v=t.child,_={mode:"hidden",children:_},(u&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=_):v=nc(_,u,0,null),e=si(e,u,o,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=gd(o),t.memoizedState=md,e):yd(t,_));if(p=e.memoizedState,p!==null&&(L=p.dehydrated,L!==null))return US(e,t,_,u,L,p,o);if(v){v=u.fallback,_=t.mode,p=e.child,L=p.sibling;var z={mode:"hidden",children:u.children};return(_&1)===0&&t.child!==p?(u=t.child,u.childLanes=0,u.pendingProps=z,t.deletions=null):(u=ks(p,z),u.subtreeFlags=p.subtreeFlags&14680064),L!==null?v=ks(L,v):(v=si(v,_,o,null),v.flags|=2),v.return=t,u.return=t,u.sibling=v,t.child=u,u=v,v=t.child,_=e.child.memoizedState,_=_===null?gd(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},v.memoizedState=_,v.childLanes=e.childLanes&~o,t.memoizedState=md,u}return v=e.child,e=v.sibling,u=ks(v,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=o),u.return=t,u.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=u,t.memoizedState=null,u}function yd(e,t){return t=nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,o,u){return u!==null&&Bu(u),Ji(t,e.child,null,o),e=yd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function US(e,t,o,u,p,v,_){if(o)return t.flags&256?(t.flags&=-257,u=dd(Error(s(422))),Bl(e,t,_,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=u.fallback,p=t.mode,u=nc({mode:"visible",children:u.children},p,0,null),v=si(v,p,_,null),v.flags|=2,u.return=t,v.return=t,u.sibling=v,t.child=u,(t.mode&1)!==0&&Ji(t,e.child,null,_),t.child.memoizedState=gd(_),t.memoizedState=md,v);if((t.mode&1)===0)return Bl(e,t,_,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var L=u.dgst;return u=L,v=Error(s(419)),u=dd(v,u,void 0),Bl(e,t,_,u)}if(L=(_&e.childLanes)!==0,Sr||L){if(u=$t,u!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|_))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Gn(e,p),dn(u,e,p,-1))}return Od(),u=dd(Error(s(421))),Bl(e,t,_,u)}return p.data==="$?"?(t.flags|=128,t.child=e.child,t=XS.bind(null,e),p._reactRetry=t,null):(e=v.treeContext,Nr=ms(p.nextSibling),Ir=t,mt=!0,an=null,e!==null&&(Ur[Hr++]=Kn,Ur[Hr++]=Wn,Ur[Hr++]=Js,Kn=e.id,Wn=e.overflow,Js=t),t=yd(t,u.children),t.flags|=4096,t)}function sg(e,t,o){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Vu(e.return,t,o)}function vd(e,t,o,u,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=p)}function ig(e,t,o){var u=t.pendingProps,p=u.revealOrder,v=u.tail;if(lr(e,t,u.children,o),u=vt.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sg(e,o,t);else if(e.tag===19)sg(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(ut(vt,u),(t.mode&1)===0)t.memoizedState=null;else switch(p){case"forwards":for(o=t.child,p=null;o!==null;)e=o.alternate,e!==null&&Ml(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=t.child,t.child=null):(p=o.sibling,o.sibling=null),vd(t,!1,p,o,v);break;case"backwards":for(o=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&Ml(e)===null){t.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}vd(t,!0,o,null,v);break;case"together":vd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,(o&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,o=ks(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=ks(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function HS(e,t,o){switch(t.tag){case 3:tg(t),Vi();break;case 5:wm(t);break;case 1:Er(t.type)&&_l(t);break;case 4:Xu(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,p=t.memoizedProps.value;ut(Ol,u._currentValue),u._currentValue=p;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(ut(vt,vt.current&1),t.flags|=128,null):(o&t.child.childLanes)!==0?ng(e,t,o):(ut(vt,vt.current&1),e=Jn(e,t,o),e!==null?e.sibling:null);ut(vt,vt.current&1);break;case 19:if(u=(o&t.childLanes)!==0,(e.flags&128)!==0){if(u)return ig(e,t,o);t.flags|=128}if(p=t.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ut(vt,vt.current),u)break;return null;case 22:case 23:return t.lanes=0,Qm(e,t,o)}return Jn(e,t,o)}var og,wd,ag,lg;og=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},wd=function(){},ag=function(e,t,o,u){var p=e.memoizedProps;if(p!==u){e=t.stateNode,Qs(_n.current);var v=null;switch(o){case"input":p=qe(e,p),u=qe(e,u),v=[];break;case"select":p=ae({},p,{value:void 0}),u=ae({},u,{value:void 0}),v=[];break;case"textarea":p=Dt(e,p),u=Dt(e,u),v=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Cl)}Jr(o,u);var _;o=null;for(oe in p)if(!u.hasOwnProperty(oe)&&p.hasOwnProperty(oe)&&p[oe]!=null)if(oe==="style"){var L=p[oe];for(_ in L)L.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(a.hasOwnProperty(oe)?v||(v=[]):(v=v||[]).push(oe,null));for(oe in u){var z=u[oe];if(L=p?.[oe],u.hasOwnProperty(oe)&&z!==L&&(z!=null||L!=null))if(oe==="style")if(L){for(_ in L)!L.hasOwnProperty(_)||z&&z.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in z)z.hasOwnProperty(_)&&L[_]!==z[_]&&(o||(o={}),o[_]=z[_])}else o||(v||(v=[]),v.push(oe,o)),o=z;else oe==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(v=v||[]).push(oe,z)):oe==="children"?typeof z!="string"&&typeof z!="number"||(v=v||[]).push(oe,""+z):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(a.hasOwnProperty(oe)?(z!=null&&oe==="onScroll"&&dt("scroll",e),v||L===z||(v=[])):(v=v||[]).push(oe,z))}o&&(v=v||[]).push("style",o);var oe=v;(t.updateQueue=oe)&&(t.flags|=4)}},lg=function(e,t,o,u){o!==u&&(t.flags|=4)};function ta(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(t)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=o,t}function qS(e,t,o){var u=t.pendingProps;switch(Fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Er(t.type)&&kl(),tr(t),null;case 3:return u=t.stateNode,Qi(),ft(wr),ft(Zt),ed(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,an!==null&&(Id(an),an=null))),wd(e,t),tr(t),null;case 5:Qu(t);var p=Qs(Yo.current);if(o=t.type,e!==null&&t.stateNode!=null)ag(e,t,o,u,p),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(s(166));return tr(t),null}if(e=Qs(_n.current),Nl(t)){u=t.stateNode,o=t.type;var v=t.memoizedProps;switch(u[kn]=t,u[Ko]=v,e=(t.mode&1)!==0,o){case"dialog":dt("cancel",u),dt("close",u);break;case"iframe":case"object":case"embed":dt("load",u);break;case"video":case"audio":for(p=0;p<zo.length;p++)dt(zo[p],u);break;case"source":dt("error",u);break;case"img":case"image":case"link":dt("error",u),dt("load",u);break;case"details":dt("toggle",u);break;case"input":Et(u,v),dt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!v.multiple},dt("invalid",u);break;case"textarea":jr(u,v),dt("invalid",u)}Jr(o,v),p=null;for(var _ in v)if(v.hasOwnProperty(_)){var L=v[_];_==="children"?typeof L=="string"?u.textContent!==L&&(v.suppressHydrationWarning!==!0&&bl(u.textContent,L,e),p=["children",L]):typeof L=="number"&&u.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&bl(u.textContent,L,e),p=["children",""+L]):a.hasOwnProperty(_)&&L!=null&&_==="onScroll"&&dt("scroll",u)}switch(o){case"input":Gt(u),Ls(u,v,!0);break;case"textarea":Gt(u),bo(u);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(u.onclick=Cl)}u=p,t.updateQueue=u,u!==null&&(t.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=se(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=_.createElement(o,{is:u.is}):(e=_.createElement(o),o==="select"&&(_=e,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):e=_.createElementNS(e,o),e[kn]=t,e[Ko]=u,og(e,t,!1,!1),t.stateNode=e;e:{switch(_=as(o,u),o){case"dialog":dt("cancel",e),dt("close",e),p=u;break;case"iframe":case"object":case"embed":dt("load",e),p=u;break;case"video":case"audio":for(p=0;p<zo.length;p++)dt(zo[p],e);p=u;break;case"source":dt("error",e),p=u;break;case"img":case"image":case"link":dt("error",e),dt("load",e),p=u;break;case"details":dt("toggle",e),p=u;break;case"input":Et(e,u),p=qe(e,u),dt("invalid",e);break;case"option":p=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},p=ae({},u,{value:void 0}),dt("invalid",e);break;case"textarea":jr(e,u),p=Dt(e,u),dt("invalid",e);break;default:p=u}Jr(o,p),L=p;for(v in L)if(L.hasOwnProperty(v)){var z=L[v];v==="style"?bi(e,z):v==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&jn(e,z)):v==="children"?typeof z=="string"?(o!=="textarea"||z!=="")&&gr(e,z):typeof z=="number"&&gr(e,""+z):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?z!=null&&v==="onScroll"&&dt("scroll",e):z!=null&&O(e,v,z,_))}switch(o){case"input":Gt(e),Ls(e,u,!1);break;case"textarea":Gt(e),bo(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Oe(u.value));break;case"select":e.multiple=!!u.multiple,v=u.value,v!=null?gn(e,!!u.multiple,v,!1):u.defaultValue!=null&&gn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=Cl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)lg(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(s(166));if(o=Qs(Yo.current),Qs(_n.current),Nl(t)){if(u=t.stateNode,o=t.memoizedProps,u[kn]=t,(v=u.nodeValue!==o)&&(e=Ir,e!==null))switch(e.tag){case 3:bl(u.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(u.nodeValue,o,(e.mode&1)!==0)}v&&(t.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[kn]=t,t.stateNode=u}return tr(t),null;case 13:if(ft(vt),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Nr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)dm(),Vi(),t.flags|=98560,v=!1;else if(v=Nl(t),u!==null&&u.dehydrated!==null){if(e===null){if(!v)throw Error(s(318));if(v=t.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[kn]=t}else Vi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tr(t),v=!1}else an!==null&&(Id(an),an=null),v=!0;if(!v)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=o,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(vt.current&1)!==0?Ut===0&&(Ut=3):Od())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Qi(),wd(e,t),e===null&&$o(t.stateNode.containerInfo),tr(t),null;case 10:return Gu(t.type._context),tr(t),null;case 17:return Er(t.type)&&kl(),tr(t),null;case 19:if(ft(vt),v=t.memoizedState,v===null)return tr(t),null;if(u=(t.flags&128)!==0,_=v.rendering,_===null)if(u)ta(v,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(_=Ml(e),_!==null){for(t.flags|=128,ta(v,!1),u=_.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=o,o=t.child;o!==null;)v=o,e=u,v.flags&=14680066,_=v.alternate,_===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=_.childLanes,v.lanes=_.lanes,v.child=_.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=_.memoizedProps,v.memoizedState=_.memoizedState,v.updateQueue=_.updateQueue,v.type=_.type,e=_.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return ut(vt,vt.current&1|2),t.child}e=e.sibling}v.tail!==null&&yt()>ro&&(t.flags|=128,u=!0,ta(v,!1),t.lanes=4194304)}else{if(!u)if(e=Ml(_),e!==null){if(t.flags|=128,u=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),ta(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!mt)return tr(t),null}else 2*yt()-v.renderingStartTime>ro&&o!==1073741824&&(t.flags|=128,u=!0,ta(v,!1),t.lanes=4194304);v.isBackwards?(_.sibling=t.child,t.child=_):(o=v.last,o!==null?o.sibling=_:t.child=_,v.last=_)}return v.tail!==null?(t=v.tail,v.rendering=t,v.tail=t.sibling,v.renderingStartTime=yt(),t.sibling=null,o=vt.current,ut(vt,u?o&1|2:o&1),t):(tr(t),null);case 22:case 23:return Pd(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(Pr&1073741824)!==0&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function FS(e,t){switch(Fu(t),t.tag){case 1:return Er(t.type)&&kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qi(),ft(wr),ft(Zt),ed(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Qu(t),null;case 13:if(ft(vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(vt),null;case 4:return Qi(),null;case 10:return Gu(t.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var Wl=!1,rr=!1,zS=typeof WeakSet=="function"?WeakSet:Set,Re=null;function eo(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){xt(e,t,u)}else o.current=null}function Ed(e,t,o){try{o()}catch(u){xt(e,t,u)}}var cg=!1;function $S(e,t){if(Pu=Hn,e=Fp(),Cu(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var _=0,L=-1,z=-1,oe=0,me=0,ge=e,he=null;t:for(;;){for(var ke;ge!==o||p!==0&&ge.nodeType!==3||(L=_+p),ge!==v||u!==0&&ge.nodeType!==3||(z=_+u),ge.nodeType===3&&(_+=ge.nodeValue.length),(ke=ge.firstChild)!==null;)he=ge,ge=ke;for(;;){if(ge===e)break t;if(he===o&&++oe===p&&(L=_),he===v&&++me===u&&(z=_),(ke=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=ke}o=L===-1||z===-1?null:{start:L,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ou={focusedElem:e,selectionRange:o},Hn=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var Ie=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var je=Ie.memoizedProps,_t=Ie.memoizedState,Q=t.stateNode,K=Q.getSnapshotBeforeUpdate(t.elementType===t.type?je:ln(t.type,je),_t);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var re=t.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ve){xt(t,t.return,ve)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return Ie=cg,cg=!1,Ie}function ra(e,t,o){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&e)===e){var v=p.destroy;p.destroy=void 0,v!==void 0&&Ed(t,o,v)}p=p.next}while(p!==u)}}function Gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var u=o.create;o.destroy=u()}o=o.next}while(o!==t)}}function Sd(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function ug(e){var t=e.alternate;t!==null&&(e.alternate=null,ug(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kn],delete t[Ko],delete t[Mu],delete t[TS],delete t[kS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dg(e){return e.tag===5||e.tag===3||e.tag===4}function fg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,t,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=Cl));else if(u!==4&&(e=e.child,e!==null))for(xd(e,t,o),e=e.sibling;e!==null;)xd(e,t,o),e=e.sibling}function bd(e,t,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(bd(e,t,o),e=e.sibling;e!==null;)bd(e,t,o),e=e.sibling}var Vt=null,cn=!1;function Ss(e,t,o){for(o=o.child;o!==null;)hg(e,t,o),o=o.sibling}function hg(e,t,o){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Fs,o)}catch{}switch(o.tag){case 5:rr||eo(o,t);case 6:var u=Vt,p=cn;Vt=null,Ss(e,t,o),Vt=u,cn=p,Vt!==null&&(cn?(e=Vt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Vt.removeChild(o.stateNode));break;case 18:Vt!==null&&(cn?(e=Vt,o=o.stateNode,e.nodeType===8?Lu(e.parentNode,o):e.nodeType===1&&Lu(e,o),Yt(e)):Lu(Vt,o.stateNode));break;case 4:u=Vt,p=cn,Vt=o.stateNode.containerInfo,cn=!0,Ss(e,t,o),Vt=u,cn=p;break;case 0:case 11:case 14:case 15:if(!rr&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var v=p,_=v.destroy;v=v.tag,_!==void 0&&((v&2)!==0||(v&4)!==0)&&Ed(o,t,_),p=p.next}while(p!==u)}Ss(e,t,o);break;case 1:if(!rr&&(eo(o,t),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(L){xt(o,t,L)}Ss(e,t,o);break;case 21:Ss(e,t,o);break;case 22:o.mode&1?(rr=(u=rr)||o.memoizedState!==null,Ss(e,t,o),rr=u):Ss(e,t,o);break;default:Ss(e,t,o)}}function pg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new zS),t.forEach(function(u){var p=QS.bind(null,e,u);o.has(u)||(o.add(u),u.then(p,p))})}}function un(e,t){var o=t.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];try{var v=e,_=t,L=_;e:for(;L!==null;){switch(L.tag){case 5:Vt=L.stateNode,cn=!1;break e;case 3:Vt=L.stateNode.containerInfo,cn=!0;break e;case 4:Vt=L.stateNode.containerInfo,cn=!0;break e}L=L.return}if(Vt===null)throw Error(s(160));hg(v,_,p),Vt=null,cn=!1;var z=p.alternate;z!==null&&(z.return=null),p.return=null}catch(oe){xt(p,t,oe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mg(t,e),t=t.sibling}function mg(e,t){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),An(e),u&4){try{ra(3,e,e.return),Gl(3,e)}catch(je){xt(e,e.return,je)}try{ra(5,e,e.return)}catch(je){xt(e,e.return,je)}}break;case 1:un(t,e),An(e),u&512&&o!==null&&eo(o,o.return);break;case 5:if(un(t,e),An(e),u&512&&o!==null&&eo(o,o.return),e.flags&32){var p=e.stateNode;try{gr(p,"")}catch(je){xt(e,e.return,je)}}if(u&4&&(p=e.stateNode,p!=null)){var v=e.memoizedProps,_=o!==null?o.memoizedProps:v,L=e.type,z=e.updateQueue;if(e.updateQueue=null,z!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Nt(p,v),as(L,_);var oe=as(L,v);for(_=0;_<z.length;_+=2){var me=z[_],ge=z[_+1];me==="style"?bi(p,ge):me==="dangerouslySetInnerHTML"?jn(p,ge):me==="children"?gr(p,ge):O(p,me,ge,oe)}switch(L){case"input":bt(p,v);break;case"textarea":xi(p,v);break;case"select":var he=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var ke=v.value;ke!=null?gn(p,!!v.multiple,ke,!1):he!==!!v.multiple&&(v.defaultValue!=null?gn(p,!!v.multiple,v.defaultValue,!0):gn(p,!!v.multiple,v.multiple?[]:"",!1))}p[Ko]=v}catch(je){xt(e,e.return,je)}}break;case 6:if(un(t,e),An(e),u&4){if(e.stateNode===null)throw Error(s(162));p=e.stateNode,v=e.memoizedProps;try{p.nodeValue=v}catch(je){xt(e,e.return,je)}}break;case 3:if(un(t,e),An(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(je){xt(e,e.return,je)}break;case 4:un(t,e),An(e);break;case 13:un(t,e),An(e),p=e.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(kd=yt())),u&4&&pg(e);break;case 22:if(me=o!==null&&o.memoizedState!==null,e.mode&1?(rr=(oe=rr)||me,un(t,e),rr=oe):un(t,e),An(e),u&8192){if(oe=e.memoizedState!==null,(e.stateNode.isHidden=oe)&&!me&&(e.mode&1)!==0)for(Re=e,me=e.child;me!==null;){for(ge=Re=me;Re!==null;){switch(he=Re,ke=he.child,he.tag){case 0:case 11:case 14:case 15:ra(4,he,he.return);break;case 1:eo(he,he.return);var Ie=he.stateNode;if(typeof Ie.componentWillUnmount=="function"){u=he,o=he.return;try{t=u,Ie.props=t.memoizedProps,Ie.state=t.memoizedState,Ie.componentWillUnmount()}catch(je){xt(u,o,je)}}break;case 5:eo(he,he.return);break;case 22:if(he.memoizedState!==null){vg(ge);continue}}ke!==null?(ke.return=he,Re=ke):vg(ge)}me=me.sibling}e:for(me=null,ge=e;;){if(ge.tag===5){if(me===null){me=ge;try{p=ge.stateNode,oe?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ge.stateNode,z=ge.memoizedProps.style,_=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Ms("display",_))}catch(je){xt(e,e.return,je)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=oe?"":ge.memoizedProps}catch(je){xt(e,e.return,je)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===e)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===e)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===e)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:un(t,e),An(e),u&4&&pg(e);break;case 21:break;default:un(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(dg(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(gr(p,""),u.flags&=-33);var v=fg(e);bd(e,v,p);break;case 3:case 4:var _=u.stateNode.containerInfo,L=fg(e);xd(e,L,_);break;default:throw Error(s(161))}}catch(z){xt(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BS(e,t,o){Re=e,gg(e)}function gg(e,t,o){for(var u=(e.mode&1)!==0;Re!==null;){var p=Re,v=p.child;if(p.tag===22&&u){var _=p.memoizedState!==null||Wl;if(!_){var L=p.alternate,z=L!==null&&L.memoizedState!==null||rr;L=Wl;var oe=rr;if(Wl=_,(rr=z)&&!oe)for(Re=p;Re!==null;)_=Re,z=_.child,_.tag===22&&_.memoizedState!==null?wg(p):z!==null?(z.return=_,Re=z):wg(p);for(;v!==null;)Re=v,gg(v),v=v.sibling;Re=p,Wl=L,rr=oe}yg(e)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,Re=v):yg(e)}}function yg(e){for(;Re!==null;){var t=Re;if((t.flags&8772)!==0){var o=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rr||Gl(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!rr)if(o===null)u.componentDidMount();else{var p=t.elementType===t.type?o.memoizedProps:ln(t.type,o.memoizedProps);u.componentDidUpdate(p,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&vm(t,v,u);break;case 3:var _=t.updateQueue;if(_!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}vm(t,_,o)}break;case 5:var L=t.stateNode;if(o===null&&t.flags&4){o=L;var z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&o.focus();break;case"img":z.src&&(o.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var oe=t.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&Yt(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}rr||t.flags&512&&Sd(t)}catch(he){xt(t,t.return,he)}}if(t===e){Re=null;break}if(o=t.sibling,o!==null){o.return=t.return,Re=o;break}Re=t.return}}function vg(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Re=o;break}Re=t.return}}function wg(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{Gl(4,t)}catch(z){xt(t,o,z)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var p=t.return;try{u.componentDidMount()}catch(z){xt(t,p,z)}}var v=t.return;try{Sd(t)}catch(z){xt(t,v,z)}break;case 5:var _=t.return;try{Sd(t)}catch(z){xt(t,_,z)}}}catch(z){xt(t,t.return,z)}if(t===e){Re=null;break}var L=t.sibling;if(L!==null){L.return=t.return,Re=L;break}Re=t.return}}var KS=Math.ceil,Vl=D.ReactCurrentDispatcher,Cd=D.ReactCurrentOwner,zr=D.ReactCurrentBatchConfig,rt=0,$t=null,Ot=null,Jt=0,Pr=0,to=gs(0),Ut=0,na=null,ei=0,Jl=0,Td=0,sa=null,xr=null,kd=0,ro=1/0,Yn=null,Yl=!1,_d=null,xs=null,Xl=!1,bs=null,Ql=0,ia=0,Rd=null,Zl=-1,ec=0;function cr(){return(rt&6)!==0?yt():Zl!==-1?Zl:Zl=yt()}function Cs(e){return(e.mode&1)===0?1:(rt&2)!==0&&Jt!==0?Jt&-Jt:RS.transition!==null?(ec===0&&(ec=_o()),ec):(e=ot,e!==0||(e=window.event,e=e===void 0?16:hl(e.type)),e)}function dn(e,t,o,u){if(50<ia)throw ia=0,Rd=null,Error(s(185));$s(e,o,u),((rt&2)===0||e!==$t)&&(e===$t&&((rt&2)===0&&(Jl|=o),Ut===4&&Ts(e,Jt)),br(e,u),o===1&&rt===0&&(t.mode&1)===0&&(ro=yt()+500,Rl&&vs()))}function br(e,t){var o=e.callbackNode;al(e,t);var u=Ai(e,e===$t?Jt:0);if(u===0)o!==null&&rl(o),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(o!=null&&rl(o),t===1)e.tag===0?_S(Sg.bind(null,e)):om(Sg.bind(null,e)),bS(function(){(rt&6)===0&&vs()}),o=null;else{switch(cl(u)){case 1:o=us;break;case 4:o=yr;break;case 16:o=ds;break;case 536870912:o=Dn;break;default:o=ds}o=Ag(o,Eg.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function Eg(e,t){if(Zl=-1,ec=0,(rt&6)!==0)throw Error(s(327));var o=e.callbackNode;if(no()&&e.callbackNode!==o)return null;var u=Ai(e,e===$t?Jt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=tc(e,u);else{t=u;var p=rt;rt|=2;var v=bg();($t!==e||Jt!==t)&&(Yn=null,ro=yt()+500,ri(e,t));do try{VS();break}catch(L){xg(e,L)}while(!0);Wu(),Vl.current=v,rt=p,Ot!==null?t=0:($t=null,Jt=0,t=Ut)}if(t!==0){if(t===2&&(p=en(e),p!==0&&(u=p,t=Ad(e,p))),t===1)throw o=na,ri(e,0),Ts(e,u),br(e,yt()),o;if(t===6)Ts(e,u);else{if(p=e.current.alternate,(u&30)===0&&!WS(p)&&(t=tc(e,u),t===2&&(v=en(e),v!==0&&(u=v,t=Ad(e,v))),t===1))throw o=na,ri(e,0),Ts(e,u),br(e,yt()),o;switch(e.finishedWork=p,e.finishedLanes=u,t){case 0:case 1:throw Error(s(345));case 2:ni(e,xr,Yn);break;case 3:if(Ts(e,u),(u&130023424)===u&&(t=kd+500-yt(),10<t)){if(Ai(e,0)!==0)break;if(p=e.suspendedLanes,(p&u)!==u){cr(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=Du(ni.bind(null,e,xr,Yn),t);break}ni(e,xr,Yn);break;case 4:if(Ts(e,u),(u&4194240)===u)break;for(t=e.eventTimes,p=-1;0<u;){var _=31-Rr(u);v=1<<_,_=t[_],_>p&&(p=_),u&=~v}if(u=p,u=yt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*KS(u/1960))-u,10<u){e.timeoutHandle=Du(ni.bind(null,e,xr,Yn),u);break}ni(e,xr,Yn);break;case 5:ni(e,xr,Yn);break;default:throw Error(s(329))}}}return br(e,yt()),e.callbackNode===o?Eg.bind(null,e):null}function Ad(e,t){var o=sa;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=tc(e,t),e!==2&&(t=xr,xr=o,t!==null&&Id(t)),e}function Id(e){xr===null?xr=e:xr.push.apply(xr,e)}function WS(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!on(v(),p))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ts(e,t){for(t&=~Td,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-Rr(t),u=1<<o;e[o]=-1,t&=~u}}function Sg(e){if((rt&6)!==0)throw Error(s(327));no();var t=Ai(e,0);if((t&1)===0)return br(e,yt()),null;var o=tc(e,t);if(e.tag!==0&&o===2){var u=en(e);u!==0&&(t=u,o=Ad(e,u))}if(o===1)throw o=na,ri(e,0),Ts(e,t),br(e,yt()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ni(e,xr,Yn),br(e,yt()),null}function Nd(e,t){var o=rt;rt|=1;try{return e(t)}finally{rt=o,rt===0&&(ro=yt()+500,Rl&&vs())}}function ti(e){bs!==null&&bs.tag===0&&(rt&6)===0&&no();var t=rt;rt|=1;var o=zr.transition,u=ot;try{if(zr.transition=null,ot=1,e)return e()}finally{ot=u,zr.transition=o,rt=t,(rt&6)===0&&vs()}}function Pd(){Pr=to.current,ft(to)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,xS(o)),Ot!==null)for(o=Ot.return;o!==null;){var u=o;switch(Fu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&kl();break;case 3:Qi(),ft(wr),ft(Zt),ed();break;case 5:Qu(u);break;case 4:Qi();break;case 13:ft(vt);break;case 19:ft(vt);break;case 10:Gu(u.type._context);break;case 22:case 23:Pd()}o=o.return}if($t=e,Ot=e=ks(e.current,null),Jt=Pr=t,Ut=0,na=null,Td=Jl=ei=0,xr=sa=null,Xs!==null){for(t=0;t<Xs.length;t++)if(o=Xs[t],u=o.interleaved,u!==null){o.interleaved=null;var p=u.next,v=o.pending;if(v!==null){var _=v.next;v.next=p,u.next=_}o.pending=u}Xs=null}return e}function xg(e,t){do{var o=Ot;try{if(Wu(),Ul.current=zl,Hl){for(var u=wt.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}Hl=!1}if(Zs=0,zt=Mt=wt=null,Xo=!1,Qo=0,Cd.current=null,o===null||o.return===null){Ut=1,na=t,Ot=null;break}e:{var v=e,_=o.return,L=o,z=t;if(t=Jt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=z,me=L,ge=me.tag;if((me.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=me.alternate;he?(me.updateQueue=he.updateQueue,me.memoizedState=he.memoizedState,me.lanes=he.lanes):(me.updateQueue=null,me.memoizedState=null)}var ke=Gm(_);if(ke!==null){ke.flags&=-257,Vm(ke,_,L,v,t),ke.mode&1&&Wm(v,oe,t),t=ke,z=oe;var Ie=t.updateQueue;if(Ie===null){var je=new Set;je.add(z),t.updateQueue=je}else Ie.add(z);break e}else{if((t&1)===0){Wm(v,oe,t),Od();break e}z=Error(s(426))}}else if(mt&&L.mode&1){var _t=Gm(_);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Vm(_t,_,L,v,t),Bu(Zi(z,L));break e}}v=z=Zi(z,L),Ut!==4&&(Ut=2),sa===null?sa=[v]:sa.push(v),v=_;do{switch(v.tag){case 3:v.flags|=65536,t&=-t,v.lanes|=t;var Q=Bm(v,z,t);ym(v,Q);break e;case 1:L=z;var K=v.type,re=v.stateNode;if((v.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(xs===null||!xs.has(re)))){v.flags|=65536,t&=-t,v.lanes|=t;var ve=Km(v,L,t);ym(v,ve);break e}}v=v.return}while(v!==null)}Tg(o)}catch(Me){t=Me,Ot===o&&o!==null&&(Ot=o=o.return);continue}break}while(!0)}function bg(){var e=Vl.current;return Vl.current=zl,e===null?zl:e}function Od(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),$t===null||(ei&268435455)===0&&(Jl&268435455)===0||Ts($t,Jt)}function tc(e,t){var o=rt;rt|=2;var u=bg();($t!==e||Jt!==t)&&(Yn=null,ri(e,t));do try{GS();break}catch(p){xg(e,p)}while(!0);if(Wu(),rt=o,Vl.current=u,Ot!==null)throw Error(s(261));return $t=null,Jt=0,Ut}function GS(){for(;Ot!==null;)Cg(Ot)}function VS(){for(;Ot!==null&&!mu();)Cg(Ot)}function Cg(e){var t=Rg(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?Tg(e):Ot=t,Cd.current=null}function Tg(e){var t=e;do{var o=t.alternate;if(e=t.return,(t.flags&32768)===0){if(o=qS(o,t,Pr),o!==null){Ot=o;return}}else{if(o=FS(o,t),o!==null){o.flags&=32767,Ot=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Ot=null;return}}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);Ut===0&&(Ut=5)}function ni(e,t,o){var u=ot,p=zr.transition;try{zr.transition=null,ot=1,JS(e,t,o,u)}finally{zr.transition=p,ot=u}return null}function JS(e,t,o,u){do no();while(bs!==null);if((rt&6)!==0)throw Error(s(327));o=e.finishedWork;var p=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var v=o.lanes|o.childLanes;if(kp(e,v),e===$t&&(Ot=$t=null,Jt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Xl||(Xl=!0,Ag(ds,function(){return no(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=zr.transition,zr.transition=null;var _=ot;ot=1;var L=rt;rt|=4,Cd.current=null,$S(e,o),mg(o,e),mS(Ou),Hn=!!Pu,Ou=Pu=null,e.current=o,BS(o),ko(),rt=L,ot=_,zr.transition=v}else e.current=o;if(Xl&&(Xl=!1,bs=e,Ql=p),v=e.pendingLanes,v===0&&(xs=null),yu(o.stateNode),br(e,yt()),t!==null)for(u=e.onRecoverableError,o=0;o<t.length;o++)p=t[o],u(p.value,{componentStack:p.stack,digest:p.digest});if(Yl)throw Yl=!1,e=_d,_d=null,e;return(Ql&1)!==0&&e.tag!==0&&no(),v=e.pendingLanes,(v&1)!==0?e===Rd?ia++:(ia=0,Rd=e):ia=0,vs(),null}function no(){if(bs!==null){var e=cl(Ql),t=zr.transition,o=ot;try{if(zr.transition=null,ot=16>e?16:e,bs===null)var u=!1;else{if(e=bs,bs=null,Ql=0,(rt&6)!==0)throw Error(s(331));var p=rt;for(rt|=4,Re=e.current;Re!==null;){var v=Re,_=v.child;if((Re.flags&16)!==0){var L=v.deletions;if(L!==null){for(var z=0;z<L.length;z++){var oe=L[z];for(Re=oe;Re!==null;){var me=Re;switch(me.tag){case 0:case 11:case 15:ra(8,me,v)}var ge=me.child;if(ge!==null)ge.return=me,Re=ge;else for(;Re!==null;){me=Re;var he=me.sibling,ke=me.return;if(ug(me),me===oe){Re=null;break}if(he!==null){he.return=ke,Re=he;break}Re=ke}}}var Ie=v.alternate;if(Ie!==null){var je=Ie.child;if(je!==null){Ie.child=null;do{var _t=je.sibling;je.sibling=null,je=_t}while(je!==null)}}Re=v}}if((v.subtreeFlags&2064)!==0&&_!==null)_.return=v,Re=_;else e:for(;Re!==null;){if(v=Re,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ra(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Re=Q;break e}Re=v.return}}var K=e.current;for(Re=K;Re!==null;){_=Re;var re=_.child;if((_.subtreeFlags&2064)!==0&&re!==null)re.return=_,Re=re;else e:for(_=K;Re!==null;){if(L=Re,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Gl(9,L)}}catch(Me){xt(L,L.return,Me)}if(L===_){Re=null;break e}var ve=L.sibling;if(ve!==null){ve.return=L.return,Re=ve;break e}Re=L.return}}if(rt=p,vs(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Fs,e)}catch{}u=!0}return u}finally{ot=o,zr.transition=t}}return!1}function kg(e,t,o){t=Zi(o,t),t=Bm(e,t,1),e=Es(e,t,1),t=cr(),e!==null&&($s(e,1,t),br(e,t))}function xt(e,t,o){if(e.tag===3)kg(e,e,o);else for(;t!==null;){if(t.tag===3){kg(t,e,o);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xs===null||!xs.has(u))){e=Zi(o,e),e=Km(t,e,1),t=Es(t,e,1),e=cr(),t!==null&&($s(t,1,e),br(t,e));break}}t=t.return}}function YS(e,t,o){var u=e.pingCache;u!==null&&u.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&o,$t===e&&(Jt&o)===o&&(Ut===4||Ut===3&&(Jt&130023424)===Jt&&500>yt()-kd?ri(e,0):Td|=o),br(e,t)}function _g(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ri,Ri<<=1,(Ri&130023424)===0&&(Ri=4194304)));var o=cr();e=Gn(e,t),e!==null&&($s(e,t,o),br(e,o))}function XS(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),_g(e,o)}function QS(e,t){var o=0;switch(e.tag){case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(t),_g(e,o)}var Rg;Rg=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)Sr=!0;else{if((e.lanes&o)===0&&(t.flags&128)===0)return Sr=!1,HS(e,t,o);Sr=(e.flags&131072)!==0}else Sr=!1,mt&&(t.flags&1048576)!==0&&am(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Kl(e,t),e=t.pendingProps;var p=Ki(t,Zt.current);Xi(t,o),p=nd(null,t,u,e,p,o);var v=sd();return t.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(u)?(v=!0,_l(t)):v=!1,t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Yu(t),p.updater=$l,t.stateNode=p,p._reactInternals=t,ud(t,u,e,o),t=pd(null,t,u,!0,v,o)):(t.tag=0,mt&&v&&qu(t),lr(null,t,p,o),t=t.child),t;case 16:u=t.elementType;e:{switch(Kl(e,t),e=t.pendingProps,p=u._init,u=p(u._payload),t.type=u,p=t.tag=ex(u),e=ln(u,e),p){case 0:t=hd(null,t,u,e,o);break e;case 1:t=eg(null,t,u,e,o);break e;case 11:t=Jm(null,t,u,e,o);break e;case 14:t=Ym(null,t,u,ln(u.type,e),o);break e}throw Error(s(306,u,""))}return t;case 0:return u=t.type,p=t.pendingProps,p=t.elementType===u?p:ln(u,p),hd(e,t,u,p,o);case 1:return u=t.type,p=t.pendingProps,p=t.elementType===u?p:ln(u,p),eg(e,t,u,p,o);case 3:e:{if(tg(t),e===null)throw Error(s(387));u=t.pendingProps,v=t.memoizedState,p=v.element,gm(e,t),Ll(t,u,null,o);var _=t.memoizedState;if(u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){p=Zi(Error(s(423)),t),t=rg(e,t,u,o,p);break e}else if(u!==p){p=Zi(Error(s(424)),t),t=rg(e,t,u,o,p);break e}else for(Nr=ms(t.stateNode.containerInfo.firstChild),Ir=t,mt=!0,an=null,o=pm(t,null,u,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Vi(),u===p){t=Jn(e,t,o);break e}lr(e,t,u,o)}t=t.child}return t;case 5:return wm(t),e===null&&$u(t),u=t.type,p=t.pendingProps,v=e!==null?e.memoizedProps:null,_=p.children,ju(u,p)?_=null:v!==null&&ju(u,v)&&(t.flags|=32),Zm(e,t),lr(e,t,_,o),t.child;case 6:return e===null&&$u(t),null;case 13:return ng(e,t,o);case 4:return Xu(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=Ji(t,null,u,o):lr(e,t,u,o),t.child;case 11:return u=t.type,p=t.pendingProps,p=t.elementType===u?p:ln(u,p),Jm(e,t,u,p,o);case 7:return lr(e,t,t.pendingProps,o),t.child;case 8:return lr(e,t,t.pendingProps.children,o),t.child;case 12:return lr(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(u=t.type._context,p=t.pendingProps,v=t.memoizedProps,_=p.value,ut(Ol,u._currentValue),u._currentValue=_,v!==null)if(on(v.value,_)){if(v.children===p.children&&!wr.current){t=Jn(e,t,o);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var L=v.dependencies;if(L!==null){_=v.child;for(var z=L.firstContext;z!==null;){if(z.context===u){if(v.tag===1){z=Vn(-1,o&-o),z.tag=2;var oe=v.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?z.next=z:(z.next=me.next,me.next=z),oe.pending=z}}v.lanes|=o,z=v.alternate,z!==null&&(z.lanes|=o),Vu(v.return,o,t),L.lanes|=o;break}z=z.next}}else if(v.tag===10)_=v.type===t.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(s(341));_.lanes|=o,L=_.alternate,L!==null&&(L.lanes|=o),Vu(_,o,t),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===t){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}lr(e,t,p.children,o),t=t.child}return t;case 9:return p=t.type,u=t.pendingProps.children,Xi(t,o),p=qr(p),u=u(p),t.flags|=1,lr(e,t,u,o),t.child;case 14:return u=t.type,p=ln(u,t.pendingProps),p=ln(u.type,p),Ym(e,t,u,p,o);case 15:return Xm(e,t,t.type,t.pendingProps,o);case 17:return u=t.type,p=t.pendingProps,p=t.elementType===u?p:ln(u,p),Kl(e,t),t.tag=1,Er(u)?(e=!0,_l(t)):e=!1,Xi(t,o),zm(t,u,p),ud(t,u,p,o),pd(null,t,u,!0,e,o);case 19:return ig(e,t,o);case 22:return Qm(e,t,o)}throw Error(s(156,t.tag))};function Ag(e,t){return qs(e,t)}function ZS(e,t,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(e,t,o,u){return new ZS(e,t,o,u)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ex(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fe)return 11;if(e===W)return 14}return 2}function ks(e,t){var o=e.alternate;return o===null?(o=$r(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function rc(e,t,o,u,p,v){var _=2;if(u=e,typeof e=="function")jd(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case I:return si(o.children,p,v,t);case A:_=8,p|=8;break;case H:return e=$r(12,o,t,p|2),e.elementType=H,e.lanes=v,e;case Z:return e=$r(13,o,t,p),e.elementType=Z,e.lanes=v,e;case ne:return e=$r(19,o,t,p),e.elementType=ne,e.lanes=v,e;case te:return nc(o,p,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:_=10;break e;case le:_=9;break e;case fe:_=11;break e;case W:_=14;break e;case Y:_=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=$r(_,o,t,p),t.elementType=e,t.type=u,t.lanes=v,t}function si(e,t,o,u){return e=$r(7,e,u,t),e.lanes=o,e}function nc(e,t,o,u){return e=$r(22,e,u,t),e.elementType=te,e.lanes=o,e.stateNode={isHidden:!1},e}function Dd(e,t,o){return e=$r(6,e,null,t),e.lanes=o,e}function Ld(e,t,o){return t=$r(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tx(e,t,o,u,p){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Md(e,t,o,u,p,v,_,L,z){return e=new tx(e,t,o,L,z),t===1?(t=1,v===!0&&(t|=8)):t=0,v=$r(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(v),e}function rx(e,t,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:u==null?null:""+u,children:e,containerInfo:t,implementation:o}}function Ig(e){if(!e)return ys;e=e._reactInternals;e:{if(Zr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(Er(o))return sm(e,o,t)}return t}function Ng(e,t,o,u,p,v,_,L,z){return e=Md(o,u,!0,e,p,v,_,L,z),e.context=Ig(null),o=e.current,u=cr(),p=Cs(o),v=Vn(u,p),v.callback=t??null,Es(o,v,p),e.current.lanes=p,$s(e,p,u),br(e,u),e}function sc(e,t,o,u){var p=t.current,v=cr(),_=Cs(p);return o=Ig(o),t.context===null?t.context=o:t.pendingContext=o,t=Vn(v,_),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Es(p,t,_),e!==null&&(dn(e,p,_,v),Dl(e,p,_)),_}function ic(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Ud(e,t){Pg(e,t),(e=e.alternate)&&Pg(e,t)}function nx(){return null}var Og=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hd(e){this._internalRoot=e}oc.prototype.render=Hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));sc(e,t,null,null)},oc.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){sc(null,e,null,null)}),t[$n]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bs();e={blockedOn:null,target:e,priority:t};for(var o=0;o<rn.length&&t!==0&&t<rn[o].priority;o++);rn.splice(o,0,e),o===0&&No(e)}};function qd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jg(){}function sx(e,t,o,u,p){if(p){if(typeof u=="function"){var v=u;u=function(){var oe=ic(_);v.call(oe)}}var _=Ng(t,u,e,0,null,!1,!1,"",jg);return e._reactRootContainer=_,e[$n]=_.current,$o(e.nodeType===8?e.parentNode:e),ti(),_}for(;p=e.lastChild;)e.removeChild(p);if(typeof u=="function"){var L=u;u=function(){var oe=ic(z);L.call(oe)}}var z=Md(e,0,!1,null,null,!1,!1,"",jg);return e._reactRootContainer=z,e[$n]=z.current,$o(e.nodeType===8?e.parentNode:e),ti(function(){sc(t,z,o,u)}),z}function lc(e,t,o,u,p){var v=o._reactRootContainer;if(v){var _=v;if(typeof p=="function"){var L=p;p=function(){var z=ic(_);L.call(z)}}sc(t,_,e,p)}else _=sx(o,t,e,p,u);return ic(_)}ul=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=zs(t.pendingLanes);o!==0&&(Ro(t,o|1),br(t,yt()),(rt&6)===0&&(ro=yt()+500,vs()))}break;case 13:ti(function(){var u=Gn(e,1);if(u!==null){var p=cr();dn(u,e,1,p)}}),Ud(e,1)}},Ii=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var o=cr();dn(t,e,134217728,o)}Ud(e,134217728)}},Ao=function(e){if(e.tag===13){var t=Cs(e),o=Gn(e,t);if(o!==null){var u=cr();dn(o,e,t,u)}Ud(e,t)}},Bs=function(){return ot},dl=function(e,t){var o=ot;try{return ot=e,t()}finally{ot=o}},Us=function(e,t,o){switch(t){case"input":if(bt(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var u=o[t];if(u!==e&&u.form===e.form){var p=Tl(u);if(!p)throw Error(s(90));ie(u),bt(u,p)}}}break;case"textarea":xi(e,o);break;case"select":t=o.value,t!=null&&gn(e,!!o.multiple,t,!1)}},Ct=Nd,Ft=ti;var ix={usingClientEntryPoint:!1,Events:[Wo,$i,Tl,Ge,gt,Nd]},oa={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ox={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=To(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Fs=cc.inject(ox),Lr=cc}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix,Cr.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qd(t))throw Error(s(200));return rx(e,t,null,o)},Cr.createRoot=function(e,t){if(!qd(e))throw Error(s(299));var o=!1,u="",p=Og;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Md(e,1,!1,null,null,o,!1,u,p),e[$n]=t.current,$o(e.nodeType===8?e.parentNode:e),new Hd(t)},Cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=To(t),e=e===null?null:e.stateNode,e},Cr.flushSync=function(e){return ti(e)},Cr.hydrate=function(e,t,o){if(!ac(t))throw Error(s(200));return lc(null,e,t,!0,o)},Cr.hydrateRoot=function(e,t,o){if(!qd(e))throw Error(s(405));var u=o!=null&&o.hydratedSources||null,p=!1,v="",_=Og;if(o!=null&&(o.unstable_strictMode===!0&&(p=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),t=Ng(t,null,e,1,o??null,p,!1,v,_),e[$n]=t.current,$o(e),u)for(e=0;e<u.length;e++)o=u[e],p=o._getVersion,p=p(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,p]:t.mutableSourceEagerHydrationData.push(o,p);return new oc(t)},Cr.render=function(e,t,o){if(!ac(t))throw Error(s(200));return lc(null,e,t,!1,o)},Cr.unmountComponentAtNode=function(e){if(!ac(e))throw Error(s(40));return e._reactRootContainer?(ti(function(){lc(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1},Cr.unstable_batchedUpdates=Nd,Cr.unstable_renderSubtreeIntoContainer=function(e,t,o,u){if(!ac(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return lc(e,t,o,!1,u)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var Bg;function Xw(){if(Bg)return $d.exports;Bg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),$d.exports=vx(),$d.exports}var Kg;function wx(){if(Kg)return uc;Kg=1;var r=Xw();return uc.createRoot=r.createRoot,uc.hydrateRoot=r.hydrateRoot,uc}var Ex=wx(),F=zh();const Kh=cx({__proto__:null,default:F},[F]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,s,n)=>n?n.toUpperCase():s.toLowerCase()),Wg=r=>{const i=xx(r);return i.charAt(0).toUpperCase()+i.slice(1)},Qw=(...r)=>r.filter((i,s,n)=>!!i&&i.trim()!==""&&n.indexOf(i)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=F.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...m},g)=>F.createElement("svg",{ref:g,...bx,width:i,height:i,stroke:r,strokeWidth:n?Number(s)*24/Number(i):s,className:Qw("lucide",a),...m},[...c.map(([y,f])=>F.createElement(y,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(r,i)=>{const s=F.forwardRef(({className:n,...a},l)=>F.createElement(Cx,{ref:l,iconNode:i,className:Qw(`lucide-${Sx(Wg(r))}`,`lucide-${r}`,n),...a}));return s.displayName=Wg(r),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kx=qt("activity",Tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rx=qt("arrow-right",_x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Ix=qt("chart-no-axes-column-increasing",Ax);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Px=qt("circle-alert",Nx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zw=qt("circle-check",Ox);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],Dx=qt("code",jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mx=qt("copy",Lx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xh=qt("database",Ux);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],e0=qt("file-text",Hx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Fx=qt("log-in",qx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$x=qt("log-out",zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],Kx=qt("radio",Bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tc=qt("refresh-cw",Wx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vx=qt("settings",Gx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bh=qt("shield",Jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ch=qt("trash-2",Yx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Gg=qt("trending-up",Xx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zx=qt("user",Qx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tb=qt("zap",eb);function Vg(r,i){if(typeof r=="function")return r(i);r!=null&&(r.current=i)}function Wh(...r){return i=>{let s=!1;const n=r.map(a=>{const l=Vg(a,i);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():Vg(r[a],null)}}}}function kc(...r){return F.useCallback(Wh(...r),r)}var rb=Symbol.for("react.lazy"),_c=Kh[" use ".trim().toString()];function nb(r){return typeof r=="object"&&r!==null&&"then"in r}function t0(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===rb&&"_payload"in r&&nb(r._payload)}function r0(r){const i=ib(r),s=F.forwardRef((n,a)=>{let{children:l,...c}=n;t0(l)&&typeof _c=="function"&&(l=_c(l._payload));const m=F.Children.toArray(l),g=m.find(ab);if(g){const y=g.props.children,f=m.map(h=>h===g?F.Children.count(y)>1?F.Children.only(null):F.isValidElement(y)?y.props.children:null:h);return d.jsx(i,{...c,ref:a,children:F.isValidElement(y)?F.cloneElement(y,void 0,f):null})}return d.jsx(i,{...c,ref:a,children:l})});return s.displayName=`${r}.Slot`,s}var sb=r0("Slot");function ib(r){const i=F.forwardRef((s,n)=>{let{children:a,...l}=s;if(t0(a)&&typeof _c=="function"&&(a=_c(a._payload)),F.isValidElement(a)){const c=cb(a),m=lb(l,a.props);return a.type!==F.Fragment&&(m.ref=n?Wh(n,c):c),F.cloneElement(a,m)}return F.Children.count(a)>1?F.Children.only(null):null});return i.displayName=`${r}.SlotClone`,i}var ob=Symbol("radix.slottable");function ab(r){return F.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===ob}function lb(r,i){const s={...i};for(const n in i){const a=r[n],l=i[n];/^on[A-Z]/.test(n)?a&&l?s[n]=(...m)=>{const g=l(...m);return a(...m),g}:a&&(s[n]=a):n==="style"?s[n]={...a,...l}:n==="className"&&(s[n]=[a,l].filter(Boolean).join(" "))}return{...r,...s}}function cb(r){let i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?r.ref:(i=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}function n0(r){var i,s,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(i=0;i<a;i++)r[i]&&(s=n0(r[i]))&&(n&&(n+=" "),n+=s)}else for(s in r)r[s]&&(n&&(n+=" "),n+=s);return n}function s0(){for(var r,i,s=0,n="",a=arguments.length;s<a;s++)(r=arguments[s])&&(i=n0(r))&&(n&&(n+=" "),n+=i);return n}const Jg=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Yg=s0,ub=(r,i)=>s=>{var n;if(i?.variants==null)return Yg(r,s?.class,s?.className);const{variants:a,defaultVariants:l}=i,c=Object.keys(a).map(y=>{const f=s?.[y],h=l?.[y];if(f===null)return null;const w=Jg(f)||Jg(h);return a[y][w]}),m=s&&Object.entries(s).reduce((y,f)=>{let[h,w]=f;return w===void 0||(y[h]=w),y},{}),g=i==null||(n=i.compoundVariants)===null||n===void 0?void 0:n.reduce((y,f)=>{let{class:h,className:w,...S}=f;return Object.entries(S).every(E=>{let[b,C]=E;return Array.isArray(C)?C.includes({...l,...m}[b]):{...l,...m}[b]===C})?[...y,h,w]:y},[]);return Yg(r,c,g,s?.class,s?.className)},db=(r,i)=>{const s=new Array(r.length+i.length);for(let n=0;n<r.length;n++)s[n]=r[n];for(let n=0;n<i.length;n++)s[r.length+n]=i[n];return s},fb=(r,i)=>({classGroupId:r,validator:i}),i0=(r=new Map,i=null,s)=>({nextPart:r,validators:i,classGroupId:s}),Rc="-",Xg=[],hb="arbitrary..",pb=r=>{const i=gb(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return mb(c);const m=c.split(Rc),g=m[0]===""&&m.length>1?1:0;return o0(m,g,i)},getConflictingClassGroupIds:(c,m)=>{if(m){const g=n[c],y=s[c];return g?y?db(y,g):g:y||Xg}return s[c]||Xg}}},o0=(r,i,s)=>{if(r.length-i===0)return s.classGroupId;const a=r[i],l=s.nextPart.get(a);if(l){const y=o0(r,i+1,l);if(y)return y}const c=s.validators;if(c===null)return;const m=i===0?r.join(Rc):r.slice(i).join(Rc),g=c.length;for(let y=0;y<g;y++){const f=c[y];if(f.validator(m))return f.classGroupId}},mb=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const i=r.slice(1,-1),s=i.indexOf(":"),n=i.slice(0,s);return n?hb+n:void 0})(),gb=r=>{const{theme:i,classGroups:s}=r;return yb(s,i)},yb=(r,i)=>{const s=i0();for(const n in r){const a=r[n];Gh(a,s,n,i)}return s},Gh=(r,i,s,n)=>{const a=r.length;for(let l=0;l<a;l++){const c=r[l];vb(c,i,s,n)}},vb=(r,i,s,n)=>{if(typeof r=="string"){wb(r,i,s);return}if(typeof r=="function"){Eb(r,i,s,n);return}Sb(r,i,s,n)},wb=(r,i,s)=>{const n=r===""?i:a0(i,r);n.classGroupId=s},Eb=(r,i,s,n)=>{if(xb(r)){Gh(r(n),i,s,n);return}i.validators===null&&(i.validators=[]),i.validators.push(fb(s,r))},Sb=(r,i,s,n)=>{const a=Object.entries(r),l=a.length;for(let c=0;c<l;c++){const[m,g]=a[c];Gh(g,a0(i,m),s,n)}},a0=(r,i)=>{let s=r;const n=i.split(Rc),a=n.length;for(let l=0;l<a;l++){const c=n[l];let m=s.nextPart.get(c);m||(m=i0(),s.nextPart.set(c,m)),s=m}return s},xb=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,bb=r=>{if(r<1)return{get:()=>{},set:()=>{}};let i=0,s=Object.create(null),n=Object.create(null);const a=(l,c)=>{s[l]=c,i++,i>r&&(i=0,n=s,s=Object.create(null))};return{get(l){let c=s[l];if(c!==void 0)return c;if((c=n[l])!==void 0)return a(l,c),c},set(l,c){l in s?s[l]=c:a(l,c)}}},Th="!",Qg=":",Cb=[],Zg=(r,i,s,n,a)=>({modifiers:r,hasImportantModifier:i,baseClassName:s,maybePostfixModifierPosition:n,isExternal:a}),Tb=r=>{const{prefix:i,experimentalParseClassName:s}=r;let n=a=>{const l=[];let c=0,m=0,g=0,y;const f=a.length;for(let b=0;b<f;b++){const C=a[b];if(c===0&&m===0){if(C===Qg){l.push(a.slice(g,b)),g=b+1;continue}if(C==="/"){y=b;continue}}C==="["?c++:C==="]"?c--:C==="("?m++:C===")"&&m--}const h=l.length===0?a:a.slice(g);let w=h,S=!1;h.endsWith(Th)?(w=h.slice(0,-1),S=!0):h.startsWith(Th)&&(w=h.slice(1),S=!0);const E=y&&y>g?y-g:void 0;return Zg(l,S,w,E)};if(i){const a=i+Qg,l=n;n=c=>c.startsWith(a)?l(c.slice(a.length)):Zg(Cb,!1,c,void 0,!0)}if(s){const a=n;n=l=>s({className:l,parseClassName:a})}return n},kb=r=>{const i=new Map;return r.orderSensitiveModifiers.forEach((s,n)=>{i.set(s,1e6+n)}),s=>{const n=[];let a=[];for(let l=0;l<s.length;l++){const c=s[l],m=c[0]==="[",g=i.has(c);m||g?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(c)):a.push(c)}return a.length>0&&(a.sort(),n.push(...a)),n}},_b=r=>({cache:bb(r.cacheSize),parseClassName:Tb(r),sortModifiers:kb(r),...pb(r)}),Rb=/\s+/,Ab=(r,i)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:l}=i,c=[],m=r.trim().split(Rb);let g="";for(let y=m.length-1;y>=0;y-=1){const f=m[y],{isExternal:h,modifiers:w,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:b}=s(f);if(h){g=f+(g.length>0?" "+g:g);continue}let C=!!b,R=n(C?E.substring(0,b):E);if(!R){if(!C){g=f+(g.length>0?" "+g:g);continue}if(R=n(E),!R){g=f+(g.length>0?" "+g:g);continue}C=!1}const P=w.length===0?"":w.length===1?w[0]:l(w).join(":"),O=S?P+Th:P,D=O+R;if(c.indexOf(D)>-1)continue;c.push(D);const B=a(R,C);for(let T=0;T<B.length;++T){const I=B[T];c.push(O+I)}g=f+(g.length>0?" "+g:g)}return g},Ib=(...r)=>{let i=0,s,n,a="";for(;i<r.length;)(s=r[i++])&&(n=l0(s))&&(a&&(a+=" "),a+=n);return a},l0=r=>{if(typeof r=="string")return r;let i,s="";for(let n=0;n<r.length;n++)r[n]&&(i=l0(r[n]))&&(s&&(s+=" "),s+=i);return s},Nb=(r,...i)=>{let s,n,a,l;const c=g=>{const y=i.reduce((f,h)=>h(f),r());return s=_b(y),n=s.cache.get,a=s.cache.set,l=m,m(g)},m=g=>{const y=n(g);if(y)return y;const f=Ab(g,s);return a(g,f),f};return l=c,(...g)=>l(Ib(...g))},Pb=[],Ht=r=>{const i=s=>s[r]||Pb;return i.isThemeGetter=!0,i},c0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,u0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ob=/^\d+\/\d+$/,jb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Db=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Mb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ub=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=r=>Ob.test(r),Ze=r=>!!r&&!Number.isNaN(Number(r)),Rs=r=>!!r&&Number.isInteger(Number(r)),Wd=r=>r.endsWith("%")&&Ze(r.slice(0,-1)),Xn=r=>jb.test(r),Hb=()=>!0,qb=r=>Db.test(r)&&!Lb.test(r),d0=()=>!1,Fb=r=>Mb.test(r),zb=r=>Ub.test(r),$b=r=>!Ne(r)&&!Pe(r),Bb=r=>yo(r,p0,d0),Ne=r=>c0.test(r),ii=r=>yo(r,m0,qb),Gd=r=>yo(r,Jb,Ze),ey=r=>yo(r,f0,d0),Kb=r=>yo(r,h0,zb),dc=r=>yo(r,g0,Fb),Pe=r=>u0.test(r),la=r=>vo(r,m0),Wb=r=>vo(r,Yb),ty=r=>vo(r,f0),Gb=r=>vo(r,p0),Vb=r=>vo(r,h0),fc=r=>vo(r,g0,!0),yo=(r,i,s)=>{const n=c0.exec(r);return n?n[1]?i(n[1]):s(n[2]):!1},vo=(r,i,s=!1)=>{const n=u0.exec(r);return n?n[1]?i(n[1]):s:!1},f0=r=>r==="position"||r==="percentage",h0=r=>r==="image"||r==="url",p0=r=>r==="length"||r==="size"||r==="bg-size",m0=r=>r==="length",Jb=r=>r==="number",Yb=r=>r==="family-name",g0=r=>r==="shadow",Xb=()=>{const r=Ht("color"),i=Ht("font"),s=Ht("text"),n=Ht("font-weight"),a=Ht("tracking"),l=Ht("leading"),c=Ht("breakpoint"),m=Ht("container"),g=Ht("spacing"),y=Ht("radius"),f=Ht("shadow"),h=Ht("inset-shadow"),w=Ht("text-shadow"),S=Ht("drop-shadow"),E=Ht("blur"),b=Ht("perspective"),C=Ht("aspect"),R=Ht("ease"),P=Ht("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...D(),Pe,Ne],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],A=()=>[Pe,Ne,g],H=()=>[so,"full","auto",...A()],G=()=>[Rs,"none","subgrid",Pe,Ne],le=()=>["auto",{span:["full",Rs,Pe,Ne]},Rs,Pe,Ne],fe=()=>[Rs,"auto",Pe,Ne],Z=()=>["auto","min","max","fr",Pe,Ne],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...A()],te=()=>[so,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],U=()=>[r,Pe,Ne],ce=()=>[...D(),ty,ey,{position:[Pe,Ne]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",Gb,Bb,{size:[Pe,Ne]}],X=()=>[Wd,la,ii],$=()=>["","none","full",y,Pe,Ne],ee=()=>["",Ze,la,ii],ue=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[Ze,Wd,ty,ey],Oe=()=>["","none",E,Pe,Ne],Ye=()=>["none",Ze,Pe,Ne],ct=()=>["none",Ze,Pe,Ne],Gt=()=>[Ze,Pe,Ne],ie=()=>[so,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[Hb],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[$b],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",Ze],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",so,Ne,Pe,C]}],container:["container"],columns:[{columns:[Ze,Ne,Pe,m]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Rs,"auto",Pe,Ne]}],basis:[{basis:[so,"full","auto",m,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,so,"auto","initial","none",Ne]}],grow:[{grow:["",Ze,Pe,Ne]}],shrink:[{shrink:["",Ze,Pe,Ne]}],order:[{order:[Rs,"first","last","none",Pe,Ne]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:le()}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:le()}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[m,"screen",...te()]}],"min-w":[{"min-w":[m,"screen","none",...te()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[c]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",s,la,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Pe,Gd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wd,Ne]}],"font-family":[{font:[Wb,Ne,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Pe,Ne]}],"line-clamp":[{"line-clamp":[Ze,"none",Pe,Gd]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",Pe,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Pe,ii]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Ze,"auto",Pe,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rs,Pe,Ne],radial:["",Pe,Ne],conic:[Rs,Pe,Ne]},Vb,Kb]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Pe,Ne]}],"outline-w":[{outline:["",Ze,la,ii]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,fc,dc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,fc,dc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Ze,ii]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",w,fc,dc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[Ze,Pe,Ne]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Pe,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Ne]}],filter:[{filter:["","none",Pe,Ne]}],blur:[{blur:Oe()}],brightness:[{brightness:[Ze,Pe,Ne]}],contrast:[{contrast:[Ze,Pe,Ne]}],"drop-shadow":[{"drop-shadow":["","none",S,fc,dc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",Ze,Pe,Ne]}],"hue-rotate":[{"hue-rotate":[Ze,Pe,Ne]}],invert:[{invert:["",Ze,Pe,Ne]}],saturate:[{saturate:[Ze,Pe,Ne]}],sepia:[{sepia:["",Ze,Pe,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Ne]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Pe,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Pe,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Pe,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Pe,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Pe,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Pe,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Pe,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Pe,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Pe,Ne]}],ease:[{ease:["linear","initial",R,Pe,Ne]}],delay:[{delay:[Ze,Pe,Ne]}],animate:[{animate:["none",P,Pe,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Pe,Ne]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:ct()}],"scale-x":[{"scale-x":ct()}],"scale-y":[{"scale-y":ct()}],"scale-z":[{"scale-z":ct()}],"scale-3d":["scale-3d"],skew:[{skew:Gt()}],"skew-x":[{"skew-x":Gt()}],"skew-y":[{"skew-y":Gt()}],transform:[{transform:[Pe,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ie()}],"translate-x":[{"translate-x":ie()}],"translate-y":[{"translate-y":ie()}],"translate-z":[{"translate-z":ie()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Ne]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Ze,la,ii,Gd]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qb=Nb(Xb);function Gr(...r){return Qb(s0(r))}const Zb=ub("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Xe=F.forwardRef(({className:r,variant:i,size:s,asChild:n=!1,...a},l)=>{const c=n?sb:"button";return d.jsx(c,{"data-slot":"button",className:Gr(Zb({variant:i,size:s,className:r})),ref:l,...a})});Xe.displayName="Button";function we({className:r,...i}){return d.jsx("div",{"data-slot":"card",className:Gr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...i})}function be({className:r,...i}){return d.jsx("div",{"data-slot":"card-header",className:Gr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...i})}function Ce({className:r,...i}){return d.jsx("h4",{"data-slot":"card-title",className:Gr("leading-none",r),...i})}function Be({className:r,...i}){return d.jsx("p",{"data-slot":"card-description",className:Gr("text-muted-foreground",r),...i})}function Ee({className:r,...i}){return d.jsx("div",{"data-slot":"card-content",className:Gr("px-6 [&:last-child]:pb-6",r),...i})}var e1=Xw();function t1(r){if(typeof document>"u")return;let i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",i.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}const r1=r=>{switch(r){case"success":return i1;case"info":return a1;case"warning":return o1;case"error":return l1;default:return null}},n1=Array(12).fill(0),s1=({visible:r,className:i})=>F.createElement("div",{className:["sonner-loading-wrapper",i].filter(Boolean).join(" "),"data-visible":r},F.createElement("div",{className:"sonner-spinner"},n1.map((s,n)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),i1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u1=()=>{const[r,i]=F.useState(document.hidden);return F.useEffect(()=>{const s=()=>{i(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),r};let kh=1;class d1{constructor(){this.subscribe=i=>(this.subscribers.push(i),()=>{const s=this.subscribers.indexOf(i);this.subscribers.splice(s,1)}),this.publish=i=>{this.subscribers.forEach(s=>s(i))},this.addToast=i=>{this.publish(i),this.toasts=[...this.toasts,i]},this.create=i=>{var s;const{message:n,...a}=i,l=typeof i?.id=="number"||((s=i.id)==null?void 0:s.length)>0?i.id:kh++,c=this.toasts.find(g=>g.id===l),m=i.dismissible===void 0?!0:i.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(g=>g.id===l?(this.publish({...g,...i,id:l,title:n}),{...g,...i,id:l,dismissible:m,title:n}):g):this.addToast({title:n,...a,dismissible:m,id:l}),l},this.dismiss=i=>(i?(this.dismissedToasts.add(i),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:i,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),i),this.message=(i,s)=>this.create({...s,message:i}),this.error=(i,s)=>this.create({...s,message:i,type:"error"}),this.success=(i,s)=>this.create({...s,type:"success",message:i}),this.info=(i,s)=>this.create({...s,type:"info",message:i}),this.warning=(i,s)=>this.create({...s,type:"warning",message:i}),this.loading=(i,s)=>this.create({...s,type:"loading",message:i}),this.promise=(i,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:i,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const a=Promise.resolve(i instanceof Function?i():i);let l=n!==void 0,c;const m=a.then(async y=>{if(c=["resolve",y],F.isValidElement(y))l=!1,this.create({id:n,type:"default",message:y});else if(h1(y)&&!y.ok){l=!1;const h=typeof s.error=="function"?await s.error(`HTTP error! status: ${y.status}`):s.error,w=typeof s.description=="function"?await s.description(`HTTP error! status: ${y.status}`):s.description,E=typeof h=="object"&&!F.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:w,...E})}else if(y instanceof Error){l=!1;const h=typeof s.error=="function"?await s.error(y):s.error,w=typeof s.description=="function"?await s.description(y):s.description,E=typeof h=="object"&&!F.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:w,...E})}else if(s.success!==void 0){l=!1;const h=typeof s.success=="function"?await s.success(y):s.success,w=typeof s.description=="function"?await s.description(y):s.description,E=typeof h=="object"&&!F.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:w,...E})}}).catch(async y=>{if(c=["reject",y],s.error!==void 0){l=!1;const f=typeof s.error=="function"?await s.error(y):s.error,h=typeof s.description=="function"?await s.description(y):s.description,S=typeof f=="object"&&!F.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...S})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),g=()=>new Promise((y,f)=>m.then(()=>c[0]==="reject"?f(c[1]):y(c[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:g}:Object.assign(n,{unwrap:g})},this.custom=(i,s)=>{const n=s?.id||kh++;return this.create({jsx:i(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(i=>!this.dismissedToasts.has(i.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kr=new d1,f1=(r,i)=>{const s=i?.id||kh++;return kr.addToast({title:r,...i,id:s}),s},h1=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",p1=f1,m1=()=>kr.toasts,g1=()=>kr.getActiveToasts(),pe=Object.assign(p1,{success:kr.success,info:kr.info,warning:kr.warning,error:kr.error,custom:kr.custom,message:kr.message,promise:kr.promise,dismiss:kr.dismiss,loading:kr.loading},{getHistory:m1,getToasts:g1});t1("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hc(r){return r.label!==void 0}const y1=3,v1="24px",w1="16px",ry=4e3,E1=356,S1=14,x1=45,b1=200;function In(...r){return r.filter(Boolean).join(" ")}function C1(r){const[i,s]=r.split("-"),n=[];return i&&n.push(i),s&&n.push(s),n}const T1=r=>{var i,s,n,a,l,c,m,g,y;const{invert:f,toast:h,unstyled:w,interacting:S,setHeights:E,visibleToasts:b,heights:C,index:R,toasts:P,expanded:O,removeToast:D,defaultRichColors:B,closeButton:T,style:I,cancelButtonStyle:A,actionButtonStyle:H,className:G="",descriptionClassName:le="",duration:fe,position:Z,gap:ne,expandByDefault:W,classNames:Y,icons:te,closeButtonAriaLabel:U="Close toast"}=r,[ce,ae]=F.useState(null),[q,X]=F.useState(null),[$,ee]=F.useState(!1),[ue,Te]=F.useState(!1),[De,Oe]=F.useState(!1),[Ye,ct]=F.useState(!1),[Gt,ie]=F.useState(!1),[He,qe]=F.useState(0),[Et,Nt]=F.useState(0),bt=F.useRef(h.duration||fe||ry),Ls=F.useRef(null),ir=F.useRef(null),On=R===0,gn=R+1<=b,Dt=h.type,jr=h.dismissible!==!1,xi=h.className||"",bo=h.descriptionClassName||"",se=F.useMemo(()=>C.findIndex(Ge=>Ge.toastId===h.id)||0,[C,h.id]),We=F.useMemo(()=>{var Ge;return(Ge=h.closeButton)!=null?Ge:T},[h.closeButton,T]),yn=F.useMemo(()=>h.duration||fe||ry,[h.duration,fe]),jn=F.useRef(0),gr=F.useRef(0),Dr=F.useRef(0),Vr=F.useRef(null),[Ms,bi]=Z.split("-"),Ci=F.useMemo(()=>C.reduce((Ge,gt,Ct)=>Ct>=se?Ge:Ge+gt.height,0),[C,se]),Jr=u1(),as=h.invert||f,Yr=Dt==="loading";gr.current=F.useMemo(()=>se*ne+Ci,[se,Ci]),F.useEffect(()=>{bt.current=yn},[yn]),F.useEffect(()=>{ee(!0)},[]),F.useEffect(()=>{const Ge=ir.current;if(Ge){const gt=Ge.getBoundingClientRect().height;return Nt(gt),E(Ct=>[{toastId:h.id,height:gt,position:h.position},...Ct]),()=>E(Ct=>Ct.filter(Ft=>Ft.toastId!==h.id))}},[E,h.id]),F.useLayoutEffect(()=>{if(!$)return;const Ge=ir.current,gt=Ge.style.height;Ge.style.height="auto";const Ct=Ge.getBoundingClientRect().height;Ge.style.height=gt,Nt(Ct),E(Ft=>Ft.find(ht=>ht.toastId===h.id)?Ft.map(ht=>ht.toastId===h.id?{...ht,height:Ct}:ht):[{toastId:h.id,height:Ct,position:h.position},...Ft])},[$,h.title,h.description,E,h.id,h.jsx,h.action,h.cancel]);const or=F.useCallback(()=>{Te(!0),qe(gr.current),E(Ge=>Ge.filter(gt=>gt.toastId!==h.id)),setTimeout(()=>{D(h)},b1)},[h,D,E,gr]);F.useEffect(()=>{if(h.promise&&Dt==="loading"||h.duration===1/0||h.type==="loading")return;let Ge;return O||S||Jr?(()=>{if(Dr.current<jn.current){const Ft=new Date().getTime()-jn.current;bt.current=bt.current-Ft}Dr.current=new Date().getTime()})():(()=>{bt.current!==1/0&&(jn.current=new Date().getTime(),Ge=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),or()},bt.current))})(),()=>clearTimeout(Ge)},[O,S,h,Dt,Jr,or]),F.useEffect(()=>{h.delete&&(or(),h.onDismiss==null||h.onDismiss.call(h,h))},[or,h.delete]);function Us(){var Ge;if(te?.loading){var gt;return F.createElement("div",{className:In(Y?.loader,h==null||(gt=h.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":Dt==="loading"},te.loading)}return F.createElement(s1,{className:In(Y?.loader,h==null||(Ge=h.classNames)==null?void 0:Ge.loader),visible:Dt==="loading"})}const Xr=h.icon||te?.[Dt]||r1(Dt);var Qr,ls;return F.createElement("li",{tabIndex:0,ref:ir,className:In(G,xi,Y?.toast,h==null||(i=h.classNames)==null?void 0:i.toast,Y?.default,Y?.[Dt],h==null||(s=h.classNames)==null?void 0:s[Dt]),"data-sonner-toast":"","data-rich-colors":(Qr=h.richColors)!=null?Qr:B,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":$,"data-promise":!!h.promise,"data-swiped":Gt,"data-removed":ue,"data-visible":gn,"data-y-position":Ms,"data-x-position":bi,"data-index":R,"data-front":On,"data-swiping":De,"data-dismissible":jr,"data-type":Dt,"data-invert":as,"data-swipe-out":Ye,"data-swipe-direction":q,"data-expanded":!!(O||W&&$),"data-testid":h.testId,style:{"--index":R,"--toasts-before":R,"--z-index":P.length-R,"--offset":`${ue?He:gr.current}px`,"--initial-height":W?"auto":`${Et}px`,...I,...h.style},onDragEnd:()=>{Oe(!1),ae(null),Vr.current=null},onPointerDown:Ge=>{Ge.button!==2&&(Yr||!jr||(Ls.current=new Date,qe(gr.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Oe(!0),Vr.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,gt,Ct;if(Ye||!jr)return;Vr.current=null;const Ft=Number(((Ge=ir.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vn=Number(((gt=ir.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ht=new Date().getTime()-((Ct=Ls.current)==null?void 0:Ct.getTime()),St=ce==="x"?Ft:vn,wn=Math.abs(St)/ht;if(Math.abs(St)>=x1||wn>.11){qe(gr.current),h.onDismiss==null||h.onDismiss.call(h,h),X(ce==="x"?Ft>0?"right":"left":vn>0?"down":"up"),or(),ct(!0);return}else{var Lt,ar;(Lt=ir.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(ar=ir.current)==null||ar.style.setProperty("--swipe-amount-y","0px")}ie(!1),Oe(!1),ae(null)},onPointerMove:Ge=>{var gt,Ct,Ft;if(!Vr.current||!jr||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const ht=Ge.clientY-Vr.current.y,St=Ge.clientX-Vr.current.x;var wn;const Lt=(wn=r.swipeDirections)!=null?wn:C1(Z);!ce&&(Math.abs(St)>1||Math.abs(ht)>1)&&ae(Math.abs(St)>Math.abs(ht)?"x":"y");let ar={x:0,y:0};const En=lt=>1/(1.5+Math.abs(lt)/20);if(ce==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&ht<0||Lt.includes("bottom")&&ht>0)ar.y=ht;else{const lt=ht*En(ht);ar.y=Math.abs(lt)<Math.abs(ht)?lt:ht}}else if(ce==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&St<0||Lt.includes("right")&&St>0)ar.x=St;else{const lt=St*En(St);ar.x=Math.abs(lt)<Math.abs(St)?lt:St}(Math.abs(ar.x)>0||Math.abs(ar.y)>0)&&ie(!0),(Ct=ir.current)==null||Ct.style.setProperty("--swipe-amount-x",`${ar.x}px`),(Ft=ir.current)==null||Ft.style.setProperty("--swipe-amount-y",`${ar.y}px`)}},We&&!h.jsx&&Dt!=="loading"?F.createElement("button",{"aria-label":U,"data-disabled":Yr,"data-close-button":!0,onClick:Yr||!jr?()=>{}:()=>{or(),h.onDismiss==null||h.onDismiss.call(h,h)},className:In(Y?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(ls=te?.close)!=null?ls:c1):null,(Dt||h.icon||h.promise)&&h.icon!==null&&(te?.[Dt]!==null||h.icon)?F.createElement("div",{"data-icon":"",className:In(Y?.icon,h==null||(a=h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Us():null,h.type!=="loading"?Xr:null):null,F.createElement("div",{"data-content":"",className:In(Y?.content,h==null||(l=h.classNames)==null?void 0:l.content)},F.createElement("div",{"data-title":"",className:In(Y?.title,h==null||(c=h.classNames)==null?void 0:c.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?F.createElement("div",{"data-description":"",className:In(le,bo,Y?.description,h==null||(m=h.classNames)==null?void 0:m.description)},typeof h.description=="function"?h.description():h.description):null),F.isValidElement(h.cancel)?h.cancel:h.cancel&&hc(h.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:Ge=>{hc(h.cancel)&&jr&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ge),or())},className:In(Y?.cancelButton,h==null||(g=h.classNames)==null?void 0:g.cancelButton)},h.cancel.label):null,F.isValidElement(h.action)?h.action:h.action&&hc(h.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||H,onClick:Ge=>{hc(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ge),!Ge.defaultPrevented&&or())},className:In(Y?.actionButton,h==null||(y=h.classNames)==null?void 0:y.actionButton)},h.action.label):null)};function ny(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function k1(r,i){const s={};return[r,i].forEach((n,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",m=l?w1:v1;function g(y){["top","right","bottom","left"].forEach(f=>{s[`${c}-${f}`]=typeof y=="number"?`${y}px`:y})}typeof n=="number"||typeof n=="string"?g(n):typeof n=="object"?["top","right","bottom","left"].forEach(y=>{n[y]===void 0?s[`${c}-${y}`]=m:s[`${c}-${y}`]=typeof n[y]=="number"?`${n[y]}px`:n[y]}):g(m)}),s}const _1=F.forwardRef(function(i,s){const{id:n,invert:a,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:m,closeButton:g,className:y,offset:f,mobileOffset:h,theme:w="light",richColors:S,duration:E,style:b,visibleToasts:C=y1,toastOptions:R,dir:P=ny(),gap:O=S1,icons:D,containerAriaLabel:B="Notifications"}=i,[T,I]=F.useState([]),A=F.useMemo(()=>n?T.filter($=>$.toasterId===n):T.filter($=>!$.toasterId),[T,n]),H=F.useMemo(()=>Array.from(new Set([l].concat(A.filter($=>$.position).map($=>$.position)))),[A,l]),[G,le]=F.useState([]),[fe,Z]=F.useState(!1),[ne,W]=F.useState(!1),[Y,te]=F.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=F.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=F.useRef(null),q=F.useRef(!1),X=F.useCallback($=>{I(ee=>{var ue;return(ue=ee.find(Te=>Te.id===$.id))!=null&&ue.delete||kr.dismiss($.id),ee.filter(({id:Te})=>Te!==$.id)})},[]);return F.useEffect(()=>kr.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{I(ee=>ee.map(ue=>ue.id===$.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{e1.flushSync(()=>{I(ee=>{const ue=ee.findIndex(Te=>Te.id===$.id);return ue!==-1?[...ee.slice(0,ue),{...ee[ue],...$},...ee.slice(ue+1)]:[$,...ee]})})})}),[T]),F.useEffect(()=>{if(w!=="system"){te(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ee})=>{te(ee?"dark":"light")})}catch{$.addListener(({matches:ue})=>{try{te(ue?"dark":"light")}catch(Te){console.error(Te)}})}},[w]),F.useEffect(()=>{T.length<=1&&Z(!1)},[T]),F.useEffect(()=>{const $=ee=>{var ue;if(c.every(Oe=>ee[Oe]||ee.code===Oe)){var De;Z(!0),(De=U.current)==null||De.focus()}ee.code==="Escape"&&(document.activeElement===U.current||(ue=U.current)!=null&&ue.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[c]),F.useEffect(()=>{if(U.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,q.current=!1)}},[U.current]),F.createElement("section",{ref:s,"aria-label":`${B} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map(($,ee)=>{var ue;const[Te,De]=$.split("-");return A.length?F.createElement("ol",{key:$,dir:P==="auto"?ny():P,tabIndex:-1,ref:U,className:y,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":Te,"data-x-position":De,style:{"--front-toast-height":`${((ue=G[0])==null?void 0:ue.height)||0}px`,"--width":`${E1}px`,"--gap":`${O}px`,...b,...k1(f,h)},onBlur:Oe=>{q.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(q.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||q.current||(q.current=!0,ae.current=Oe.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{ne||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},A.filter(Oe=>!Oe.position&&ee===0||Oe.position===$).map((Oe,Ye)=>{var ct,Gt;return F.createElement(T1,{key:Oe.id,icons:D,index:Ye,toast:Oe,defaultRichColors:S,duration:(ct=R?.duration)!=null?ct:E,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:a,visibleToasts:C,closeButton:(Gt=R?.closeButton)!=null?Gt:g,interacting:ne,position:$,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,closeButtonAriaLabel:R?.closeButtonAriaLabel,removeToast:X,toasts:A.filter(ie=>ie.position==Oe.position),heights:G.filter(ie=>ie.position==Oe.position),setHeights:le,expandByDefault:m,gap:O,expanded:fe,swipeDirections:i.swipeDirections})})):null}))});var oi={},Or={};const Ac={createHash:()=>({update:()=>({digest:()=>""})}),randomBytes:()=>({toString:()=>""})};typeof Fe<"u"&&Fe.exports&&(Fe.exports=Ac,Fe.exports.default=Ac);const R1=Object.freeze(Object.defineProperty({__proto__:null,crypto:Ac,default:Ac},Symbol.toStringTag,{value:"Module"})),Wa=Fc(R1);var Qn={},sy;function Vh(){if(sy)return Qn;sy=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.ApiErrorException=Qn.MisoClientError=void 0,Qn.transformError=i,Qn.handleApiError=n;class r extends Error{constructor(l,c,m,g){let y=l;c&&(c.title?y=c.title:c.errors&&c.errors.length>0&&(y=c.errors[0])),super(y),this.name="MisoClientError",this.errorResponse=c,this.errorBody=m,this.statusCode=g??c?.statusCode,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}Qn.MisoClientError=r;function i(a){if(a&&typeof a=="object"&&"response"in a){const l=a;if(l.response?.data){const c=l.response.data;if(typeof c=="object"&&c!==null&&"error"in c){const g=c.error,y=g.statusCode??l.response.status??500;return{errors:g.errors??["Unknown error"],type:g.type??"about:blank",title:g.title??l.message??"Unknown error",statusCode:y,instance:g.instance??l.config?.url,correlationId:g.correlationId}}if(typeof c=="object"&&c!==null){const m=c,g=typeof m.statusCode=="number"?m.statusCode:typeof l.response?.status=="number"?l.response.status:500;return{errors:Array.isArray(m.errors)?m.errors:["Unknown error"],type:m.type??"about:blank",title:m.title??l.message??"Unknown error",statusCode:g,instance:m.instance??l.config?.url,correlationId:m.correlationId}}}return{errors:[l.message??"Network error"],type:"about:blank",title:"Network error",statusCode:l.response?.status??0}}return a instanceof Error?{errors:[a.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class s extends Error{constructor(l){super(l.title||"API Error"),this.name="ApiErrorException",this.statusCode=l.statusCode,this.correlationId=l.correlationId,this.type=l.type,this.instance=l.instance,this.errors=l.errors,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}Qn.ApiErrorException=s;function n(a){const l=i(a);throw new s(l)}return Qn}var io={},iy;function Ga(){if(iy)return io;iy=1,Object.defineProperty(io,"__esModule",{value:!0}),io.isBrowser=r,io.validateUrl=i,io.resolveControllerUrl=s;function r(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function i(n){try{const a=new URL(n);return a.protocol==="http:"||a.protocol==="https:"}catch{return!1}}function s(n){const a=r();let l;if(a?l=n.controllerPublicUrl:l=n.controllerPrivateUrl,l||(l=n.controllerUrl),!l)throw new Error(`No controller URL configured. Please provide ${a?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!i(l))throw new Error(`Invalid controller URL format: "${l}". URL must be a valid HTTP or HTTPS URL.`);return l}return io}var Zn={},pc={exports:{}};const Ic=Fc(mx);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var oy;function Va(){return oy||(oy=1,(function(r,i){var s=Ic,n=s.Buffer;function a(c,m){for(var g in c)m[g]=c[g]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=s:(a(s,i),i.Buffer=l);function l(c,m,g){return n(c,m,g)}l.prototype=Object.create(n.prototype),a(n,l),l.from=function(c,m,g){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,m,g)},l.alloc=function(c,m,g){if(typeof c!="number")throw new TypeError("Argument must be a number");var y=n(c);return m!==void 0?typeof g=="string"?y.fill(m,g):y.fill(m):y.fill(0),y},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}})(pc,pc.exports)),pc.exports}class Ds{static from(i){return new Ds}constructor(){}pipe(){return{}}on(){return this}once(){return Promise.resolve({})}read(){return null}push(){return!0}destroy(){}emit(){return!1}removeListener(){return this}removeAllListeners(){return this}}class zc{write(){return!0}end(){return this}on(){return this}once(){return Promise.resolve({})}destroy(){}}class $c extends Ds{_transform(){}}class Jh extends Ds{write(){return!0}end(){return this}}class Yh extends $c{}const vi={Readable:Ds,Writable:zc,Transform:$c,Duplex:Jh,PassThrough:Yh};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=vi,Fe.exports.default=vi,Fe.exports.stream=vi,Fe.exports.Readable=Ds,Fe.exports.Writable=zc,Fe.exports.Transform=$c,Fe.exports.Duplex=Jh,Fe.exports.PassThrough=Yh);typeof tt<"u"&&(tt.default=vi,tt.stream=vi,tt.Readable=Ds,tt.Writable=zc,tt.Transform=$c,tt.Duplex=Jh,tt.PassThrough=Yh);const Xh=Object.freeze(Object.defineProperty({__proto__:null,Readable:Ds,Writable:zc,default:vi,stream:vi},Symbol.toStringTag,{value:"Module"}));function Bc(r,i){if(i){i.prototype||(i.prototype={}),(typeof i.prototype!="object"||i.prototype===null)&&(i.prototype={}),r.super_=i;try{r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}catch{if(r.prototype=Object.create(Object.prototype),r.prototype.constructor=r,i.prototype&&typeof i.prototype=="object")for(const n in i.prototype)i.prototype.hasOwnProperty(n)&&(r.prototype[n]=i.prototype[n])}}}function Kc(r){try{return JSON.stringify(r,null,2)}catch{return String(r)}}function Wc(r){return function(...i){return new Promise((s,n)=>{r(...i,(a,l)=>{a?n(a):s(l)})})}}function Gc(r,i){let s=!1;return function(...n){return s||(console.warn("DeprecationWarning:",i),s=!0),r.apply(this,n)}}const wi={inherits:Bc,inspect:Kc,promisify:Wc,deprecate:Gc};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=wi,Fe.exports.default=wi,Fe.exports.util=wi,Fe.exports.inherits=Bc,Fe.exports.inspect=Kc,Fe.exports.promisify=Wc,Fe.exports.deprecate=Gc);typeof tt<"u"&&(tt.default=wi,tt.util=wi,tt.inherits=Bc,tt.inspect=Kc,tt.promisify=Wc,tt.deprecate=Gc);const Vc=Object.freeze(Object.defineProperty({__proto__:null,default:wi,deprecate:Gc,inherits:Bc,inspect:Kc,promisify:Wc,util:wi},Symbol.toStringTag,{value:"Module"}));var Vd,ay;function y0(){if(ay)return Vd;ay=1;var r=Va().Buffer,i=Xh,s=Vc;function n(a){if(this.buffer=null,this.writable=!0,this.readable=!0,!a)return this.buffer=r.alloc(0),this;if(typeof a.pipe=="function")return this.buffer=r.alloc(0),a.pipe(this),this;if(a.length||typeof a=="object")return this.buffer=a,this.writable=!1,process.nextTick(function(){this.emit("end",a),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof a+")")}return s.inherits(n,i),n.prototype.write=function(l){this.buffer=r.concat([this.buffer,r.from(l)]),this.emit("data",l)},n.prototype.end=function(l){l&&this.write(l),this.emit("end",l),this.emit("close"),this.writable=!1,this.readable=!1},Vd=n,Vd}var Jd,ly;function A1(){if(ly)return Jd;ly=1;function r(n){var a=(n/8|0)+(n%8===0?0:1);return a}var i={ES256:r(256),ES384:r(384),ES512:r(521)};function s(n){var a=i[n];if(a)return a;throw new Error('Unknown algorithm "'+n+'"')}return Jd=s,Jd}var Yd,cy;function I1(){if(cy)return Yd;cy=1;var r=Va().Buffer,i=A1(),s=128,n=0,a=32,l=16,c=2,m=l|a|n<<6,g=c|n<<6;function y(E){return E.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(E){if(r.isBuffer(E))return E;if(typeof E=="string")return r.from(E,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function h(E,b){E=f(E);var C=i(b),R=C+1,P=E.length,O=0;if(E[O++]!==m)throw new Error('Could not find expected "seq"');var D=E[O++];if(D===(s|1)&&(D=E[O++]),P-O<D)throw new Error('"seq" specified length of "'+D+'", only "'+(P-O)+'" remaining');if(E[O++]!==g)throw new Error('Could not find expected "int" for "r"');var B=E[O++];if(P-O-2<B)throw new Error('"r" specified length of "'+B+'", only "'+(P-O-2)+'" available');if(R<B)throw new Error('"r" specified length of "'+B+'", max of "'+R+'" is acceptable');var T=O;if(O+=B,E[O++]!==g)throw new Error('Could not find expected "int" for "s"');var I=E[O++];if(P-O!==I)throw new Error('"s" specified length of "'+I+'", expected "'+(P-O)+'"');if(R<I)throw new Error('"s" specified length of "'+I+'", max of "'+R+'" is acceptable');var A=O;if(O+=I,O!==P)throw new Error('Expected to consume entire buffer, but "'+(P-O)+'" bytes remain');var H=C-B,G=C-I,le=r.allocUnsafe(H+B+G+I);for(O=0;O<H;++O)le[O]=0;E.copy(le,O,T+Math.max(-H,0),T+B),O=C;for(var fe=O;O<fe+G;++O)le[O]=0;return E.copy(le,O,A+Math.max(-G,0),A+I),le=le.toString("base64"),le=y(le),le}function w(E,b,C){for(var R=0;b+R<C&&E[b+R]===0;)++R;var P=E[b+R]>=s;return P&&--R,R}function S(E,b){E=f(E);var C=i(b),R=E.length;if(R!==C*2)throw new TypeError('"'+b+'" signatures must be "'+C*2+'" bytes, saw "'+R+'"');var P=w(E,0,C),O=w(E,C,E.length),D=C-P,B=C-O,T=2+D+1+1+B,I=T<s,A=r.allocUnsafe((I?2:3)+T),H=0;return A[H++]=m,I?A[H++]=T:(A[H++]=s|1,A[H++]=T&255),A[H++]=g,A[H++]=D,P<0?(A[H++]=0,H+=E.copy(A,H,0,C)):H+=E.copy(A,H,P,C),A[H++]=g,A[H++]=B,O<0?(A[H++]=0,E.copy(A,H,C)):E.copy(A,H,C+O),A}return Yd={derToJose:h,joseToDer:S},Yd}var Xd,uy;function N1(){if(uy)return Xd;uy=1;var r=Ic.Buffer,i=Ic.SlowBuffer;Xd=s;function s(l,c){if(!r.isBuffer(l)||!r.isBuffer(c)||l.length!==c.length)return!1;for(var m=0,g=0;g<l.length;g++)m|=l[g]^c[g];return m===0}s.install=function(){r.prototype.equal=i.prototype.equal=function(c){return s(this,c)}};var n=r.prototype.equal,a=i.prototype.equal;return s.restore=function(){r.prototype.equal=n,i.prototype.equal=a},Xd}var Qd,dy;function v0(){if(dy)return Qd;dy=1;var r=Va().Buffer,i=Wa,s=I1(),n=Vc,a=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",c="key must be a string or a buffer",m="key must be a string, a buffer or an object",g=typeof i.createPublicKey=="function";g&&(c+=" or a KeyObject",l+="or a KeyObject");function y(Z){if(!r.isBuffer(Z)&&typeof Z!="string"&&(!g||typeof Z!="object"||typeof Z.type!="string"||typeof Z.asymmetricKeyType!="string"||typeof Z.export!="function"))throw E(c)}function f(Z){if(!r.isBuffer(Z)&&typeof Z!="string"&&typeof Z!="object")throw E(m)}function h(Z){if(!r.isBuffer(Z)){if(typeof Z=="string")return Z;if(!g||typeof Z!="object"||Z.type!=="secret"||typeof Z.export!="function")throw E(l)}}function w(Z){return Z.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(Z){Z=Z.toString();var ne=4-Z.length%4;if(ne!==4)for(var W=0;W<ne;++W)Z+="=";return Z.replace(/\-/g,"+").replace(/_/g,"/")}function E(Z){var ne=[].slice.call(arguments,1),W=n.format.bind(n,Z).apply(null,ne);return new TypeError(W)}function b(Z){return r.isBuffer(Z)||typeof Z=="string"}function C(Z){return b(Z)||(Z=JSON.stringify(Z)),Z}function R(Z){return function(W,Y){h(Y),W=C(W);var te=i.createHmac("sha"+Z,Y),U=(te.update(W),te.digest("base64"));return w(U)}}var P,O="timingSafeEqual"in i?function(ne,W){return ne.byteLength!==W.byteLength?!1:i.timingSafeEqual(ne,W)}:function(ne,W){return P||(P=N1()),P(ne,W)};function D(Z){return function(W,Y,te){var U=R(Z)(W,te);return O(r.from(Y),r.from(U))}}function B(Z){return function(W,Y){f(Y),W=C(W);var te=i.createSign("RSA-SHA"+Z),U=(te.update(W),te.sign(Y,"base64"));return w(U)}}function T(Z){return function(W,Y,te){y(te),W=C(W),Y=S(Y);var U=i.createVerify("RSA-SHA"+Z);return U.update(W),U.verify(te,Y,"base64")}}function I(Z){return function(W,Y){f(Y),W=C(W);var te=i.createSign("RSA-SHA"+Z),U=(te.update(W),te.sign({key:Y,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return w(U)}}function A(Z){return function(W,Y,te){y(te),W=C(W),Y=S(Y);var U=i.createVerify("RSA-SHA"+Z);return U.update(W),U.verify({key:te,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},Y,"base64")}}function H(Z){var ne=B(Z);return function(){var Y=ne.apply(null,arguments);return Y=s.derToJose(Y,"ES"+Z),Y}}function G(Z){var ne=T(Z);return function(Y,te,U){te=s.joseToDer(te,"ES"+Z).toString("base64");var ce=ne(Y,te,U);return ce}}function le(){return function(){return""}}function fe(){return function(ne,W){return W===""}}return Qd=function(ne){var W={hs:R,rs:B,ps:I,es:H,none:le},Y={hs:D,rs:T,ps:A,es:G,none:fe},te=ne.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!te)throw E(a,ne);var U=(te[1]||te[3]).toLowerCase(),ce=te[2];return{sign:W[U](ce),verify:Y[U](ce)}},Qd}var Zd,fy;function w0(){if(fy)return Zd;fy=1;var r=Ic.Buffer;return Zd=function(s){return typeof s=="string"?s:typeof s=="number"||r.isBuffer(s)?s.toString():JSON.stringify(s)},Zd}var ef,hy;function P1(){if(hy)return ef;hy=1;var r=Va().Buffer,i=y0(),s=v0(),n=Xh,a=w0(),l=Vc;function c(f,h){return r.from(f,h).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(f,h,w){w=w||"utf8";var S=c(a(f),"binary"),E=c(a(h),w);return l.format("%s.%s",S,E)}function g(f){var h=f.header,w=f.payload,S=f.secret||f.privateKey,E=f.encoding,b=s(h.alg),C=m(h,w,E),R=b.sign(C,S);return l.format("%s.%s",C,R)}function y(f){var h=f.secret||f.privateKey||f.key,w=new i(h);this.readable=!0,this.header=f.header,this.encoding=f.encoding,this.secret=this.privateKey=this.key=w,this.payload=new i(f.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return l.inherits(y,n),y.prototype.sign=function(){try{var h=g({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",h),this.emit("data",h),this.emit("end"),this.readable=!1,h}catch(w){this.readable=!1,this.emit("error",w),this.emit("close")}},y.sign=g,ef=y,ef}var tf,py;function O1(){if(py)return tf;py=1;var r=Va().Buffer,i=y0(),s=v0(),n=Xh,a=w0(),l=Vc,c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function m(R){return Object.prototype.toString.call(R)==="[object Object]"}function g(R){if(m(R))return R;try{return JSON.parse(R)}catch{return}}function y(R){var P=R.split(".",1)[0];return g(r.from(P,"base64").toString("binary"))}function f(R){return R.split(".",2).join(".")}function h(R){return R.split(".")[2]}function w(R,P){P=P||"utf8";var O=R.split(".")[1];return r.from(O,"base64").toString(P)}function S(R){return c.test(R)&&!!y(R)}function E(R,P,O){if(!P){var D=new Error("Missing algorithm parameter for jws.verify");throw D.code="MISSING_ALGORITHM",D}R=a(R);var B=h(R),T=f(R),I=s(P);return I.verify(T,B,O)}function b(R,P){if(P=P||{},R=a(R),!S(R))return null;var O=y(R);if(!O)return null;var D=w(R);return(O.typ==="JWT"||P.json)&&(D=JSON.parse(D,P.encoding)),{header:O,payload:D,signature:h(R)}}function C(R){R=R||{};var P=R.secret||R.publicKey||R.key,O=new i(P);this.readable=!0,this.algorithm=R.algorithm,this.encoding=R.encoding,this.secret=this.publicKey=this.key=O,this.signature=new i(R.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return l.inherits(C,n),C.prototype.verify=function(){try{var P=E(this.signature.buffer,this.algorithm,this.key.buffer),O=b(this.signature.buffer,this.encoding);return this.emit("done",P,O),this.emit("data",P),this.emit("end"),this.readable=!1,P}catch(D){this.readable=!1,this.emit("error",D),this.emit("close")}},C.decode=b,C.isValid=S,C.verify=E,tf=C,tf}var my;function Qh(){if(my)return Zn;my=1;var r=P1(),i=O1(),s=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return Zn.ALGORITHMS=s,Zn.sign=r.sign,Zn.verify=i.verify,Zn.decode=i.decode,Zn.isValid=i.isValid,Zn.createSign=function(a){return new r(a)},Zn.createVerify=function(a){return new i(a)},Zn}var rf,gy;function E0(){if(gy)return rf;gy=1;var r=Qh();return rf=function(i,s){s=s||{};var n=r.decode(i,s);if(!n)return null;var a=n.payload;if(typeof a=="string")try{var l=JSON.parse(a);l!==null&&typeof l=="object"&&(a=l)}catch{}return s.complete===!0?{header:n.header,payload:a,signature:n.signature}:a},rf}var nf,yy;function Jc(){if(yy)return nf;yy=1;var r=function(i,s){Error.call(this,i),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=i,s&&(this.inner=s)};return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,nf=r,nf}var sf,vy;function S0(){if(vy)return sf;vy=1;var r=Jc(),i=function(s,n){r.call(this,s),this.name="NotBeforeError",this.date=n};return i.prototype=Object.create(r.prototype),i.prototype.constructor=i,sf=i,sf}var of,wy;function x0(){if(wy)return of;wy=1;var r=Jc(),i=function(s,n){r.call(this,s),this.name="TokenExpiredError",this.expiredAt=n};return i.prototype=Object.create(r.prototype),i.prototype.constructor=i,of=i,of}var af,Ey;function j1(){if(Ey)return af;Ey=1;var r=1e3,i=r*60,s=i*60,n=s*24,a=n*7,l=n*365.25;af=function(f,h){h=h||{};var w=typeof f;if(w==="string"&&f.length>0)return c(f);if(w==="number"&&isFinite(f))return h.long?g(f):m(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function c(f){if(f=String(f),!(f.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(h){var w=parseFloat(h[1]),S=(h[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*l;case"weeks":case"week":case"w":return w*a;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*s;case"minutes":case"minute":case"mins":case"min":case"m":return w*i;case"seconds":case"second":case"secs":case"sec":case"s":return w*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function m(f){var h=Math.abs(f);return h>=n?Math.round(f/n)+"d":h>=s?Math.round(f/s)+"h":h>=i?Math.round(f/i)+"m":h>=r?Math.round(f/r)+"s":f+"ms"}function g(f){var h=Math.abs(f);return h>=n?y(f,h,n,"day"):h>=s?y(f,h,s,"hour"):h>=i?y(f,h,i,"minute"):h>=r?y(f,h,r,"second"):f+" ms"}function y(f,h,w,S){var E=h>=w*1.5;return Math.round(f/w)+" "+S+(E?"s":"")}return af}var lf,Sy;function b0(){if(Sy)return lf;Sy=1;var r=j1();return lf=function(i,s){var n=s||Math.floor(Date.now()/1e3);if(typeof i=="string"){var a=r(i);return typeof a>"u"?void 0:Math.floor(n+a/1e3)}else return typeof i=="number"?n+i:void 0},lf}var mc={exports:{}},cf,xy;function Yc(){if(xy)return cf;xy=1;const r="2.0.0",i=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,a=i-6;return cf={MAX_LENGTH:i,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},cf}var uf,by;function Xc(){if(by)return uf;by=1;var r={};return uf=typeof process=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{},uf}var Cy;function Ja(){return Cy||(Cy=1,(function(r,i){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=Yc(),l=Xc();i=r.exports={};const c=i.re=[],m=i.safeRe=[],g=i.src=[],y=i.safeSrc=[],f=i.t={};let h=0;const w="[a-zA-Z0-9-]",S=[["\\s",1],["\\d",a],[w,n]],E=C=>{for(const[R,P]of S)C=C.split(`${R}*`).join(`${R}{0,${P}}`).split(`${R}+`).join(`${R}{1,${P}}`);return C},b=(C,R,P)=>{const O=E(R),D=h++;l(C,D,R),f[C]=D,g[D]=R,y[D]=O,c[D]=new RegExp(R,P?"g":void 0),m[D]=new RegExp(O,P?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${w}*`),b("MAINVERSION",`(${g[f.NUMERICIDENTIFIER]})\\.(${g[f.NUMERICIDENTIFIER]})\\.(${g[f.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${g[f.NUMERICIDENTIFIERLOOSE]})\\.(${g[f.NUMERICIDENTIFIERLOOSE]})\\.(${g[f.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${g[f.NONNUMERICIDENTIFIER]}|${g[f.NUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${g[f.NONNUMERICIDENTIFIER]}|${g[f.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASE",`(?:-(${g[f.PRERELEASEIDENTIFIER]}(?:\\.${g[f.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${g[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[f.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${w}+`),b("BUILD",`(?:\\+(${g[f.BUILDIDENTIFIER]}(?:\\.${g[f.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${g[f.MAINVERSION]}${g[f.PRERELEASE]}?${g[f.BUILD]}?`),b("FULL",`^${g[f.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${g[f.MAINVERSIONLOOSE]}${g[f.PRERELEASELOOSE]}?${g[f.BUILD]}?`),b("LOOSE",`^${g[f.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${g[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${g[f.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${g[f.XRANGEIDENTIFIER]})(?:\\.(${g[f.XRANGEIDENTIFIER]})(?:\\.(${g[f.XRANGEIDENTIFIER]})(?:${g[f.PRERELEASE]})?${g[f.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${g[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[f.XRANGEIDENTIFIERLOOSE]})(?:${g[f.PRERELEASELOOSE]})?${g[f.BUILD]}?)?)?`),b("XRANGE",`^${g[f.GTLT]}\\s*${g[f.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${g[f.GTLT]}\\s*${g[f.XRANGEPLAINLOOSE]}$`),b("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),b("COERCE",`${g[f.COERCEPLAIN]}(?:$|[^\\d])`),b("COERCEFULL",g[f.COERCEPLAIN]+`(?:${g[f.PRERELEASE]})?(?:${g[f.BUILD]})?(?:$|[^\\d])`),b("COERCERTL",g[f.COERCE],!0),b("COERCERTLFULL",g[f.COERCEFULL],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${g[f.LONETILDE]}\\s+`,!0),i.tildeTrimReplace="$1~",b("TILDE",`^${g[f.LONETILDE]}${g[f.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${g[f.LONETILDE]}${g[f.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${g[f.LONECARET]}\\s+`,!0),i.caretTrimReplace="$1^",b("CARET",`^${g[f.LONECARET]}${g[f.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${g[f.LONECARET]}${g[f.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${g[f.GTLT]}\\s*(${g[f.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${g[f.GTLT]}\\s*(${g[f.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${g[f.GTLT]}\\s*(${g[f.LOOSEPLAIN]}|${g[f.XRANGEPLAIN]})`,!0),i.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${g[f.XRANGEPLAIN]})\\s+-\\s+(${g[f.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${g[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[f.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(mc,mc.exports)),mc.exports}var df,Ty;function Zh(){if(Ty)return df;Ty=1;const r=Object.freeze({loose:!0}),i=Object.freeze({});return df=n=>n?typeof n!="object"?r:n:i,df}var ff,ky;function C0(){if(ky)return ff;ky=1;const r=/^[0-9]+$/,i=(n,a)=>{if(typeof n=="number"&&typeof a=="number")return n===a?0:n<a?-1:1;const l=r.test(n),c=r.test(a);return l&&c&&(n=+n,a=+a),n===a?0:l&&!c?-1:c&&!l?1:n<a?-1:1};return ff={compareIdentifiers:i,rcompareIdentifiers:(n,a)=>i(a,n)},ff}var hf,_y;function mr(){if(_y)return hf;_y=1;const r=Xc(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=Yc(),{safeRe:n,t:a}=Ja(),l=Zh(),{compareIdentifiers:c}=C0();class m{constructor(y,f){if(f=l(f),y instanceof m){if(y.loose===!!f.loose&&y.includePrerelease===!!f.includePrerelease)return y;y=y.version}else if(typeof y!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof y}".`);if(y.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",y,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const h=y.trim().match(f.loose?n[a.LOOSE]:n[a.FULL]);if(!h)throw new TypeError(`Invalid Version: ${y}`);if(this.raw=y,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(w=>{if(/^[0-9]+$/.test(w)){const S=+w;if(S>=0&&S<s)return S}return w}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(y){if(r("SemVer.compare",this.version,this.options,y),!(y instanceof m)){if(typeof y=="string"&&y===this.version)return 0;y=new m(y,this.options)}return y.version===this.version?0:this.compareMain(y)||this.comparePre(y)}compareMain(y){return y instanceof m||(y=new m(y,this.options)),this.major<y.major?-1:this.major>y.major?1:this.minor<y.minor?-1:this.minor>y.minor?1:this.patch<y.patch?-1:this.patch>y.patch?1:0}comparePre(y){if(y instanceof m||(y=new m(y,this.options)),this.prerelease.length&&!y.prerelease.length)return-1;if(!this.prerelease.length&&y.prerelease.length)return 1;if(!this.prerelease.length&&!y.prerelease.length)return 0;let f=0;do{const h=this.prerelease[f],w=y.prerelease[f];if(r("prerelease compare",f,h,w),h===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(h===void 0)return-1;if(h===w)continue;return c(h,w)}while(++f)}compareBuild(y){y instanceof m||(y=new m(y,this.options));let f=0;do{const h=this.build[f],w=y.build[f];if(r("build compare",f,h,w),h===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(h===void 0)return-1;if(h===w)continue;return c(h,w)}while(++f)}inc(y,f,h){if(y.startsWith("pre")){if(!f&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const w=`-${f}`.match(this.options.loose?n[a.PRERELEASELOOSE]:n[a.PRERELEASE]);if(!w||w[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(y){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,h),this.inc("pre",f,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,h),this.inc("pre",f,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const w=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[w];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(f===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(w)}}if(f){let S=[f,w];h===!1&&(S=[f]),c(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw new Error(`invalid increment argument: ${y}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return hf=m,hf}var pf,Ry;function wo(){if(Ry)return pf;Ry=1;const r=mr();return pf=(s,n,a=!1)=>{if(s instanceof r)return s;try{return new r(s,n)}catch(l){if(!a)return null;throw l}},pf}var mf,Ay;function D1(){if(Ay)return mf;Ay=1;const r=wo();return mf=(s,n)=>{const a=r(s,n);return a?a.version:null},mf}var gf,Iy;function L1(){if(Iy)return gf;Iy=1;const r=wo();return gf=(s,n)=>{const a=r(s.trim().replace(/^[=v]+/,""),n);return a?a.version:null},gf}var yf,Ny;function M1(){if(Ny)return yf;Ny=1;const r=mr();return yf=(s,n,a,l,c)=>{typeof a=="string"&&(c=l,l=a,a=void 0);try{return new r(s instanceof r?s.version:s,a).inc(n,l,c).version}catch{return null}},yf}var vf,Py;function U1(){if(Py)return vf;Py=1;const r=wo();return vf=(s,n)=>{const a=r(s,null,!0),l=r(n,null,!0),c=a.compare(l);if(c===0)return null;const m=c>0,g=m?a:l,y=m?l:a,f=!!g.prerelease.length;if(!!y.prerelease.length&&!f){if(!y.patch&&!y.minor)return"major";if(y.compareMain(g)===0)return y.minor&&!y.patch?"minor":"patch"}const w=f?"pre":"";return a.major!==l.major?w+"major":a.minor!==l.minor?w+"minor":a.patch!==l.patch?w+"patch":"prerelease"},vf}var wf,Oy;function H1(){if(Oy)return wf;Oy=1;const r=mr();return wf=(s,n)=>new r(s,n).major,wf}var Ef,jy;function q1(){if(jy)return Ef;jy=1;const r=mr();return Ef=(s,n)=>new r(s,n).minor,Ef}var Sf,Dy;function F1(){if(Dy)return Sf;Dy=1;const r=mr();return Sf=(s,n)=>new r(s,n).patch,Sf}var xf,Ly;function z1(){if(Ly)return xf;Ly=1;const r=wo();return xf=(s,n)=>{const a=r(s,n);return a&&a.prerelease.length?a.prerelease:null},xf}var bf,My;function pn(){if(My)return bf;My=1;const r=mr();return bf=(s,n,a)=>new r(s,a).compare(new r(n,a)),bf}var Cf,Uy;function $1(){if(Uy)return Cf;Uy=1;const r=pn();return Cf=(s,n,a)=>r(n,s,a),Cf}var Tf,Hy;function B1(){if(Hy)return Tf;Hy=1;const r=pn();return Tf=(s,n)=>r(s,n,!0),Tf}var kf,qy;function ep(){if(qy)return kf;qy=1;const r=mr();return kf=(s,n,a)=>{const l=new r(s,a),c=new r(n,a);return l.compare(c)||l.compareBuild(c)},kf}var _f,Fy;function K1(){if(Fy)return _f;Fy=1;const r=ep();return _f=(s,n)=>s.sort((a,l)=>r(a,l,n)),_f}var Rf,zy;function W1(){if(zy)return Rf;zy=1;const r=ep();return Rf=(s,n)=>s.sort((a,l)=>r(l,a,n)),Rf}var Af,$y;function Qc(){if($y)return Af;$y=1;const r=pn();return Af=(s,n,a)=>r(s,n,a)>0,Af}var If,By;function tp(){if(By)return If;By=1;const r=pn();return If=(s,n,a)=>r(s,n,a)<0,If}var Nf,Ky;function T0(){if(Ky)return Nf;Ky=1;const r=pn();return Nf=(s,n,a)=>r(s,n,a)===0,Nf}var Pf,Wy;function k0(){if(Wy)return Pf;Wy=1;const r=pn();return Pf=(s,n,a)=>r(s,n,a)!==0,Pf}var Of,Gy;function rp(){if(Gy)return Of;Gy=1;const r=pn();return Of=(s,n,a)=>r(s,n,a)>=0,Of}var jf,Vy;function np(){if(Vy)return jf;Vy=1;const r=pn();return jf=(s,n,a)=>r(s,n,a)<=0,jf}var Df,Jy;function _0(){if(Jy)return Df;Jy=1;const r=T0(),i=k0(),s=Qc(),n=rp(),a=tp(),l=np();return Df=(m,g,y,f)=>{switch(g){case"===":return typeof m=="object"&&(m=m.version),typeof y=="object"&&(y=y.version),m===y;case"!==":return typeof m=="object"&&(m=m.version),typeof y=="object"&&(y=y.version),m!==y;case"":case"=":case"==":return r(m,y,f);case"!=":return i(m,y,f);case">":return s(m,y,f);case">=":return n(m,y,f);case"<":return a(m,y,f);case"<=":return l(m,y,f);default:throw new TypeError(`Invalid operator: ${g}`)}},Df}var Lf,Yy;function G1(){if(Yy)return Lf;Yy=1;const r=mr(),i=wo(),{safeRe:s,t:n}=Ja();return Lf=(l,c)=>{if(l instanceof r)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;c=c||{};let m=null;if(!c.rtl)m=l.match(c.includePrerelease?s[n.COERCEFULL]:s[n.COERCE]);else{const S=c.includePrerelease?s[n.COERCERTLFULL]:s[n.COERCERTL];let E;for(;(E=S.exec(l))&&(!m||m.index+m[0].length!==l.length);)(!m||E.index+E[0].length!==m.index+m[0].length)&&(m=E),S.lastIndex=E.index+E[1].length+E[2].length;S.lastIndex=-1}if(m===null)return null;const g=m[2],y=m[3]||"0",f=m[4]||"0",h=c.includePrerelease&&m[5]?`-${m[5]}`:"",w=c.includePrerelease&&m[6]?`+${m[6]}`:"";return i(`${g}.${y}.${f}${h}${w}`,c)},Lf}var Mf,Xy;function V1(){if(Xy)return Mf;Xy=1;class r{constructor(){this.max=1e3,this.map=new Map}get(s){const n=this.map.get(s);if(n!==void 0)return this.map.delete(s),this.map.set(s,n),n}delete(s){return this.map.delete(s)}set(s,n){if(!this.delete(s)&&n!==void 0){if(this.map.size>=this.max){const l=this.map.keys().next().value;this.delete(l)}this.map.set(s,n)}return this}}return Mf=r,Mf}var Uf,Qy;function mn(){if(Qy)return Uf;Qy=1;const r=/\s+/g;class i{constructor(W,Y){if(Y=a(Y),W instanceof i)return W.loose===!!Y.loose&&W.includePrerelease===!!Y.includePrerelease?W:new i(W.raw,Y);if(W instanceof l)return this.raw=W.value,this.set=[[W]],this.formatted=void 0,this;if(this.options=Y,this.loose=!!Y.loose,this.includePrerelease=!!Y.includePrerelease,this.raw=W.trim().replace(r," "),this.set=this.raw.split("||").map(te=>this.parseRange(te.trim())).filter(te=>te.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const te=this.set[0];if(this.set=this.set.filter(U=>!b(U[0])),this.set.length===0)this.set=[te];else if(this.set.length>1){for(const U of this.set)if(U.length===1&&C(U[0])){this.set=[U];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let W=0;W<this.set.length;W++){W>0&&(this.formatted+="||");const Y=this.set[W];for(let te=0;te<Y.length;te++)te>0&&(this.formatted+=" "),this.formatted+=Y[te].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(W){const te=((this.options.includePrerelease&&S)|(this.options.loose&&E))+":"+W,U=n.get(te);if(U)return U;const ce=this.options.loose,ae=ce?g[y.HYPHENRANGELOOSE]:g[y.HYPHENRANGE];W=W.replace(ae,fe(this.options.includePrerelease)),c("hyphen replace",W),W=W.replace(g[y.COMPARATORTRIM],f),c("comparator trim",W),W=W.replace(g[y.TILDETRIM],h),c("tilde trim",W),W=W.replace(g[y.CARETTRIM],w),c("caret trim",W);let q=W.split(" ").map(ue=>P(ue,this.options)).join(" ").split(/\s+/).map(ue=>le(ue,this.options));ce&&(q=q.filter(ue=>(c("loose invalid filter",ue,this.options),!!ue.match(g[y.COMPARATORLOOSE])))),c("range list",q);const X=new Map,$=q.map(ue=>new l(ue,this.options));for(const ue of $){if(b(ue))return[ue];X.set(ue.value,ue)}X.size>1&&X.has("")&&X.delete("");const ee=[...X.values()];return n.set(te,ee),ee}intersects(W,Y){if(!(W instanceof i))throw new TypeError("a Range is required");return this.set.some(te=>R(te,Y)&&W.set.some(U=>R(U,Y)&&te.every(ce=>U.every(ae=>ce.intersects(ae,Y)))))}test(W){if(!W)return!1;if(typeof W=="string")try{W=new m(W,this.options)}catch{return!1}for(let Y=0;Y<this.set.length;Y++)if(Z(this.set[Y],W,this.options))return!0;return!1}}Uf=i;const s=V1(),n=new s,a=Zh(),l=Zc(),c=Xc(),m=mr(),{safeRe:g,t:y,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:w}=Ja(),{FLAG_INCLUDE_PRERELEASE:S,FLAG_LOOSE:E}=Yc(),b=ne=>ne.value==="<0.0.0-0",C=ne=>ne.value==="",R=(ne,W)=>{let Y=!0;const te=ne.slice();let U=te.pop();for(;Y&&te.length;)Y=te.every(ce=>U.intersects(ce,W)),U=te.pop();return Y},P=(ne,W)=>(ne=ne.replace(g[y.BUILD],""),c("comp",ne,W),ne=T(ne,W),c("caret",ne),ne=D(ne,W),c("tildes",ne),ne=A(ne,W),c("xrange",ne),ne=G(ne,W),c("stars",ne),ne),O=ne=>!ne||ne.toLowerCase()==="x"||ne==="*",D=(ne,W)=>ne.trim().split(/\s+/).map(Y=>B(Y,W)).join(" "),B=(ne,W)=>{const Y=W.loose?g[y.TILDELOOSE]:g[y.TILDE];return ne.replace(Y,(te,U,ce,ae,q)=>{c("tilde",ne,te,U,ce,ae,q);let X;return O(U)?X="":O(ce)?X=`>=${U}.0.0 <${+U+1}.0.0-0`:O(ae)?X=`>=${U}.${ce}.0 <${U}.${+ce+1}.0-0`:q?(c("replaceTilde pr",q),X=`>=${U}.${ce}.${ae}-${q} <${U}.${+ce+1}.0-0`):X=`>=${U}.${ce}.${ae} <${U}.${+ce+1}.0-0`,c("tilde return",X),X})},T=(ne,W)=>ne.trim().split(/\s+/).map(Y=>I(Y,W)).join(" "),I=(ne,W)=>{c("caret",ne,W);const Y=W.loose?g[y.CARETLOOSE]:g[y.CARET],te=W.includePrerelease?"-0":"";return ne.replace(Y,(U,ce,ae,q,X)=>{c("caret",ne,U,ce,ae,q,X);let $;return O(ce)?$="":O(ae)?$=`>=${ce}.0.0${te} <${+ce+1}.0.0-0`:O(q)?ce==="0"?$=`>=${ce}.${ae}.0${te} <${ce}.${+ae+1}.0-0`:$=`>=${ce}.${ae}.0${te} <${+ce+1}.0.0-0`:X?(c("replaceCaret pr",X),ce==="0"?ae==="0"?$=`>=${ce}.${ae}.${q}-${X} <${ce}.${ae}.${+q+1}-0`:$=`>=${ce}.${ae}.${q}-${X} <${ce}.${+ae+1}.0-0`:$=`>=${ce}.${ae}.${q}-${X} <${+ce+1}.0.0-0`):(c("no pr"),ce==="0"?ae==="0"?$=`>=${ce}.${ae}.${q}${te} <${ce}.${ae}.${+q+1}-0`:$=`>=${ce}.${ae}.${q}${te} <${ce}.${+ae+1}.0-0`:$=`>=${ce}.${ae}.${q} <${+ce+1}.0.0-0`),c("caret return",$),$})},A=(ne,W)=>(c("replaceXRanges",ne,W),ne.split(/\s+/).map(Y=>H(Y,W)).join(" ")),H=(ne,W)=>{ne=ne.trim();const Y=W.loose?g[y.XRANGELOOSE]:g[y.XRANGE];return ne.replace(Y,(te,U,ce,ae,q,X)=>{c("xRange",ne,te,U,ce,ae,q,X);const $=O(ce),ee=$||O(ae),ue=ee||O(q),Te=ue;return U==="="&&Te&&(U=""),X=W.includePrerelease?"-0":"",$?U===">"||U==="<"?te="<0.0.0-0":te="*":U&&Te?(ee&&(ae=0),q=0,U===">"?(U=">=",ee?(ce=+ce+1,ae=0,q=0):(ae=+ae+1,q=0)):U==="<="&&(U="<",ee?ce=+ce+1:ae=+ae+1),U==="<"&&(X="-0"),te=`${U+ce}.${ae}.${q}${X}`):ee?te=`>=${ce}.0.0${X} <${+ce+1}.0.0-0`:ue&&(te=`>=${ce}.${ae}.0${X} <${ce}.${+ae+1}.0-0`),c("xRange return",te),te})},G=(ne,W)=>(c("replaceStars",ne,W),ne.trim().replace(g[y.STAR],"")),le=(ne,W)=>(c("replaceGTE0",ne,W),ne.trim().replace(g[W.includePrerelease?y.GTE0PRE:y.GTE0],"")),fe=ne=>(W,Y,te,U,ce,ae,q,X,$,ee,ue,Te)=>(O(te)?Y="":O(U)?Y=`>=${te}.0.0${ne?"-0":""}`:O(ce)?Y=`>=${te}.${U}.0${ne?"-0":""}`:ae?Y=`>=${Y}`:Y=`>=${Y}${ne?"-0":""}`,O($)?X="":O(ee)?X=`<${+$+1}.0.0-0`:O(ue)?X=`<${$}.${+ee+1}.0-0`:Te?X=`<=${$}.${ee}.${ue}-${Te}`:ne?X=`<${$}.${ee}.${+ue+1}-0`:X=`<=${X}`,`${Y} ${X}`.trim()),Z=(ne,W,Y)=>{for(let te=0;te<ne.length;te++)if(!ne[te].test(W))return!1;if(W.prerelease.length&&!Y.includePrerelease){for(let te=0;te<ne.length;te++)if(c(ne[te].semver),ne[te].semver!==l.ANY&&ne[te].semver.prerelease.length>0){const U=ne[te].semver;if(U.major===W.major&&U.minor===W.minor&&U.patch===W.patch)return!0}return!1}return!0};return Uf}var Hf,Zy;function Zc(){if(Zy)return Hf;Zy=1;const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(f,h){if(h=s(h),f instanceof i){if(f.loose===!!h.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),c("comparator",f,h),this.options=h,this.loose=!!h.loose,this.parse(f),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(f){const h=this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],w=f.match(h);if(!w)throw new TypeError(`Invalid comparator: ${f}`);this.operator=w[1]!==void 0?w[1]:"",this.operator==="="&&(this.operator=""),w[2]?this.semver=new m(w[2],this.options.loose):this.semver=r}toString(){return this.value}test(f){if(c("Comparator.test",f,this.options.loose),this.semver===r||f===r)return!0;if(typeof f=="string")try{f=new m(f,this.options)}catch{return!1}return l(f,this.operator,this.semver,this.options)}intersects(f,h){if(!(f instanceof i))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new g(f.value,h).test(this.value):f.operator===""?f.value===""?!0:new g(this.value,h).test(f.semver):(h=s(h),h.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||l(this.semver,"<",f.semver,h)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||l(this.semver,">",f.semver,h)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}Hf=i;const s=Zh(),{safeRe:n,t:a}=Ja(),l=_0(),c=Xc(),m=mr(),g=mn();return Hf}var qf,ev;function eu(){if(ev)return qf;ev=1;const r=mn();return qf=(s,n,a)=>{try{n=new r(n,a)}catch{return!1}return n.test(s)},qf}var Ff,tv;function J1(){if(tv)return Ff;tv=1;const r=mn();return Ff=(s,n)=>new r(s,n).set.map(a=>a.map(l=>l.value).join(" ").trim().split(" ")),Ff}var zf,rv;function Y1(){if(rv)return zf;rv=1;const r=mr(),i=mn();return zf=(n,a,l)=>{let c=null,m=null,g=null;try{g=new i(a,l)}catch{return null}return n.forEach(y=>{g.test(y)&&(!c||m.compare(y)===-1)&&(c=y,m=new r(c,l))}),c},zf}var $f,nv;function X1(){if(nv)return $f;nv=1;const r=mr(),i=mn();return $f=(n,a,l)=>{let c=null,m=null,g=null;try{g=new i(a,l)}catch{return null}return n.forEach(y=>{g.test(y)&&(!c||m.compare(y)===1)&&(c=y,m=new r(c,l))}),c},$f}var Bf,sv;function Q1(){if(sv)return Bf;sv=1;const r=mr(),i=mn(),s=Qc();return Bf=(a,l)=>{a=new i(a,l);let c=new r("0.0.0");if(a.test(c)||(c=new r("0.0.0-0"),a.test(c)))return c;c=null;for(let m=0;m<a.set.length;++m){const g=a.set[m];let y=null;g.forEach(f=>{const h=new r(f.semver.version);switch(f.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!y||s(h,y))&&(y=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),y&&(!c||s(c,y))&&(c=y)}return c&&a.test(c)?c:null},Bf}var Kf,iv;function Z1(){if(iv)return Kf;iv=1;const r=mn();return Kf=(s,n)=>{try{return new r(s,n).range||"*"}catch{return null}},Kf}var Wf,ov;function sp(){if(ov)return Wf;ov=1;const r=mr(),i=Zc(),{ANY:s}=i,n=mn(),a=eu(),l=Qc(),c=tp(),m=np(),g=rp();return Wf=(f,h,w,S)=>{f=new r(f,S),h=new n(h,S);let E,b,C,R,P;switch(w){case">":E=l,b=m,C=c,R=">",P=">=";break;case"<":E=c,b=g,C=l,R="<",P="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(f,h,S))return!1;for(let O=0;O<h.set.length;++O){const D=h.set[O];let B=null,T=null;if(D.forEach(I=>{I.semver===s&&(I=new i(">=0.0.0")),B=B||I,T=T||I,E(I.semver,B.semver,S)?B=I:C(I.semver,T.semver,S)&&(T=I)}),B.operator===R||B.operator===P||(!T.operator||T.operator===R)&&b(f,T.semver))return!1;if(T.operator===P&&C(f,T.semver))return!1}return!0},Wf}var Gf,av;function eC(){if(av)return Gf;av=1;const r=sp();return Gf=(s,n,a)=>r(s,n,">",a),Gf}var Vf,lv;function tC(){if(lv)return Vf;lv=1;const r=sp();return Vf=(s,n,a)=>r(s,n,"<",a),Vf}var Jf,cv;function rC(){if(cv)return Jf;cv=1;const r=mn();return Jf=(s,n,a)=>(s=new r(s,a),n=new r(n,a),s.intersects(n,a)),Jf}var Yf,uv;function nC(){if(uv)return Yf;uv=1;const r=eu(),i=pn();return Yf=(s,n,a)=>{const l=[];let c=null,m=null;const g=s.sort((w,S)=>i(w,S,a));for(const w of g)r(w,n,a)?(m=w,c||(c=w)):(m&&l.push([c,m]),m=null,c=null);c&&l.push([c,null]);const y=[];for(const[w,S]of l)w===S?y.push(w):!S&&w===g[0]?y.push("*"):S?w===g[0]?y.push(`<=${S}`):y.push(`${w} - ${S}`):y.push(`>=${w}`);const f=y.join(" || "),h=typeof n.raw=="string"?n.raw:String(n);return f.length<h.length?f:n},Yf}var Xf,dv;function sC(){if(dv)return Xf;dv=1;const r=mn(),i=Zc(),{ANY:s}=i,n=eu(),a=pn(),l=(h,w,S={})=>{if(h===w)return!0;h=new r(h,S),w=new r(w,S);let E=!1;e:for(const b of h.set){for(const C of w.set){const R=g(b,C,S);if(E=E||R!==null,R)continue e}if(E)return!1}return!0},c=[new i(">=0.0.0-0")],m=[new i(">=0.0.0")],g=(h,w,S)=>{if(h===w)return!0;if(h.length===1&&h[0].semver===s){if(w.length===1&&w[0].semver===s)return!0;S.includePrerelease?h=c:h=m}if(w.length===1&&w[0].semver===s){if(S.includePrerelease)return!0;w=m}const E=new Set;let b,C;for(const A of h)A.operator===">"||A.operator===">="?b=y(b,A,S):A.operator==="<"||A.operator==="<="?C=f(C,A,S):E.add(A.semver);if(E.size>1)return null;let R;if(b&&C){if(R=a(b.semver,C.semver,S),R>0)return null;if(R===0&&(b.operator!==">="||C.operator!=="<="))return null}for(const A of E){if(b&&!n(A,String(b),S)||C&&!n(A,String(C),S))return null;for(const H of w)if(!n(A,String(H),S))return!1;return!0}let P,O,D,B,T=C&&!S.includePrerelease&&C.semver.prerelease.length?C.semver:!1,I=b&&!S.includePrerelease&&b.semver.prerelease.length?b.semver:!1;T&&T.prerelease.length===1&&C.operator==="<"&&T.prerelease[0]===0&&(T=!1);for(const A of w){if(B=B||A.operator===">"||A.operator===">=",D=D||A.operator==="<"||A.operator==="<=",b){if(I&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===I.major&&A.semver.minor===I.minor&&A.semver.patch===I.patch&&(I=!1),A.operator===">"||A.operator===">="){if(P=y(b,A,S),P===A&&P!==b)return!1}else if(b.operator===">="&&!n(b.semver,String(A),S))return!1}if(C){if(T&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===T.major&&A.semver.minor===T.minor&&A.semver.patch===T.patch&&(T=!1),A.operator==="<"||A.operator==="<="){if(O=f(C,A,S),O===A&&O!==C)return!1}else if(C.operator==="<="&&!n(C.semver,String(A),S))return!1}if(!A.operator&&(C||b)&&R!==0)return!1}return!(b&&D&&!C&&R!==0||C&&B&&!b&&R!==0||I||T)},y=(h,w,S)=>{if(!h)return w;const E=a(h.semver,w.semver,S);return E>0?h:E<0||w.operator===">"&&h.operator===">="?w:h},f=(h,w,S)=>{if(!h)return w;const E=a(h.semver,w.semver,S);return E<0?h:E>0||w.operator==="<"&&h.operator==="<="?w:h};return Xf=l,Xf}var Qf,fv;function ip(){if(fv)return Qf;fv=1;const r=Ja(),i=Yc(),s=mr(),n=C0(),a=wo(),l=D1(),c=L1(),m=M1(),g=U1(),y=H1(),f=q1(),h=F1(),w=z1(),S=pn(),E=$1(),b=B1(),C=ep(),R=K1(),P=W1(),O=Qc(),D=tp(),B=T0(),T=k0(),I=rp(),A=np(),H=_0(),G=G1(),le=Zc(),fe=mn(),Z=eu(),ne=J1(),W=Y1(),Y=X1(),te=Q1(),U=Z1(),ce=sp(),ae=eC(),q=tC(),X=rC(),$=nC(),ee=sC();return Qf={parse:a,valid:l,clean:c,inc:m,diff:g,major:y,minor:f,patch:h,prerelease:w,compare:S,rcompare:E,compareLoose:b,compareBuild:C,sort:R,rsort:P,gt:O,lt:D,eq:B,neq:T,gte:I,lte:A,cmp:H,coerce:G,Comparator:le,Range:fe,satisfies:Z,toComparators:ne,maxSatisfying:W,minSatisfying:Y,minVersion:te,validRange:U,outside:ce,gtr:ae,ltr:q,intersects:X,simplifyRange:$,subset:ee,SemVer:s,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Qf}var Zf,hv;function iC(){return hv||(hv=1,Zf=ip().satisfies(process.version,">=15.7.0")),Zf}var eh,pv;function oC(){return pv||(pv=1,eh=ip().satisfies(process.version,">=16.9.0")),eh}var th,mv;function R0(){if(mv)return th;mv=1;const r=iC(),i=oC(),s={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},n={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return th=function(a,l){if(!a||!l)return;const c=l.asymmetricKeyType;if(!c)return;const m=s[c];if(!m)throw new Error(`Unknown key type "${c}".`);if(!m.includes(a))throw new Error(`"alg" parameter for "${c}" key type must be one of: ${m.join(", ")}.`);if(r)switch(c){case"ec":const g=l.asymmetricKeyDetails.namedCurve,y=n[a];if(g!==y)throw new Error(`"alg" parameter "${a}" requires curve "${y}".`);break;case"rsa-pss":if(i){const f=parseInt(a.slice(-3),10),{hashAlgorithm:h,mgf1HashAlgorithm:w,saltLength:S}=l.asymmetricKeyDetails;if(h!==`sha${f}`||w!==h)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${a}.`);if(S!==void 0&&S>f>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${a}.`)}break}},th}var rh,gv;function A0(){if(gv)return rh;gv=1;var r=ip();return rh=r.satisfies(process.version,"^6.12.0 || >=8.0.0"),rh}var nh,yv;function aC(){if(yv)return nh;yv=1;const r=Jc(),i=S0(),s=x0(),n=E0(),a=b0(),l=R0(),c=A0(),m=Qh(),{KeyObject:g,createSecretKey:y,createPublicKey:f}=Wa,h=["RS256","RS384","RS512"],w=["ES256","ES384","ES512"],S=["RS256","RS384","RS512"],E=["HS256","HS384","HS512"];return c&&(h.splice(h.length,0,"PS256","PS384","PS512"),S.splice(S.length,0,"PS256","PS384","PS512")),nh=function(b,C,R,P){typeof R=="function"&&!P&&(P=R,R={}),R||(R={}),R=Object.assign({},R);let O;if(P?O=P:O=function(H,G){if(H)throw H;return G},R.clockTimestamp&&typeof R.clockTimestamp!="number")return O(new r("clockTimestamp must be a number"));if(R.nonce!==void 0&&(typeof R.nonce!="string"||R.nonce.trim()===""))return O(new r("nonce must be a non-empty string"));if(R.allowInvalidAsymmetricKeyTypes!==void 0&&typeof R.allowInvalidAsymmetricKeyTypes!="boolean")return O(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));const D=R.clockTimestamp||Math.floor(Date.now()/1e3);if(!b)return O(new r("jwt must be provided"));if(typeof b!="string")return O(new r("jwt must be a string"));const B=b.split(".");if(B.length!==3)return O(new r("jwt malformed"));let T;try{T=n(b,{complete:!0})}catch(H){return O(H)}if(!T)return O(new r("invalid token"));const I=T.header;let A;if(typeof C=="function"){if(!P)return O(new r("verify must be called asynchronous if secret or public key is provided as a callback"));A=C}else A=function(H,G){return G(null,C)};return A(I,function(H,G){if(H)return O(new r("error in secret or public key callback: "+H.message));const le=B[2].trim()!=="";if(!le&&G)return O(new r("jwt signature is required"));if(le&&!G)return O(new r("secret or public key must be provided"));if(!le&&!R.algorithms)return O(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(G!=null&&!(G instanceof g))try{G=f(G)}catch{try{G=y(typeof G=="string"?Buffer.from(G):G)}catch{return O(new r("secretOrPublicKey is not valid key material"))}}if(R.algorithms||(G.type==="secret"?R.algorithms=E:["rsa","rsa-pss"].includes(G.asymmetricKeyType)?R.algorithms=S:G.asymmetricKeyType==="ec"?R.algorithms=w:R.algorithms=h),R.algorithms.indexOf(T.header.alg)===-1)return O(new r("invalid algorithm"));if(I.alg.startsWith("HS")&&G.type!=="secret")return O(new r(`secretOrPublicKey must be a symmetric key when using ${I.alg}`));if(/^(?:RS|PS|ES)/.test(I.alg)&&G.type!=="public")return O(new r(`secretOrPublicKey must be an asymmetric key when using ${I.alg}`));if(!R.allowInvalidAsymmetricKeyTypes)try{l(I.alg,G)}catch(ne){return O(ne)}let fe;try{fe=m.verify(b,T.header.alg,G)}catch(ne){return O(ne)}if(!fe)return O(new r("invalid signature"));const Z=T.payload;if(typeof Z.nbf<"u"&&!R.ignoreNotBefore){if(typeof Z.nbf!="number")return O(new r("invalid nbf value"));if(Z.nbf>D+(R.clockTolerance||0))return O(new i("jwt not active",new Date(Z.nbf*1e3)))}if(typeof Z.exp<"u"&&!R.ignoreExpiration){if(typeof Z.exp!="number")return O(new r("invalid exp value"));if(D>=Z.exp+(R.clockTolerance||0))return O(new s("jwt expired",new Date(Z.exp*1e3)))}if(R.audience){const ne=Array.isArray(R.audience)?R.audience:[R.audience];if(!(Array.isArray(Z.aud)?Z.aud:[Z.aud]).some(function(te){return ne.some(function(U){return U instanceof RegExp?U.test(te):U===te})}))return O(new r("jwt audience invalid. expected: "+ne.join(" or ")))}if(R.issuer&&(typeof R.issuer=="string"&&Z.iss!==R.issuer||Array.isArray(R.issuer)&&R.issuer.indexOf(Z.iss)===-1))return O(new r("jwt issuer invalid. expected: "+R.issuer));if(R.subject&&Z.sub!==R.subject)return O(new r("jwt subject invalid. expected: "+R.subject));if(R.jwtid&&Z.jti!==R.jwtid)return O(new r("jwt jwtid invalid. expected: "+R.jwtid));if(R.nonce&&Z.nonce!==R.nonce)return O(new r("jwt nonce invalid. expected: "+R.nonce));if(R.maxAge){if(typeof Z.iat!="number")return O(new r("iat required when maxAge is specified"));const ne=a(R.maxAge,Z.iat);if(typeof ne>"u")return O(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(D>=ne+(R.clockTolerance||0))return O(new s("maxAge exceeded",new Date(ne*1e3)))}if(R.complete===!0){const ne=T.signature;return O(null,{header:I,payload:Z,signature:ne})}return O(null,Z)})},nh}var sh,vv;function lC(){if(vv)return sh;vv=1;var r=1/0,i=9007199254740991,s=17976931348623157e292,n=NaN,a="[object Arguments]",l="[object Function]",c="[object GeneratorFunction]",m="[object String]",g="[object Symbol]",y=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,w=/^0o[0-7]+$/i,S=/^(?:0|[1-9]\d*)$/,E=parseInt;function b(ie,He){for(var qe=-1,Et=ie?ie.length:0,Nt=Array(Et);++qe<Et;)Nt[qe]=He(ie[qe],qe,ie);return Nt}function C(ie,He,qe,Et){for(var Nt=ie.length,bt=qe+-1;++bt<Nt;)if(He(ie[bt],bt,ie))return bt;return-1}function R(ie,He,qe){if(He!==He)return C(ie,P,qe);for(var Et=qe-1,Nt=ie.length;++Et<Nt;)if(ie[Et]===He)return Et;return-1}function P(ie){return ie!==ie}function O(ie,He){for(var qe=-1,Et=Array(ie);++qe<ie;)Et[qe]=He(qe);return Et}function D(ie,He){return b(He,function(qe){return ie[qe]})}function B(ie,He){return function(qe){return ie(He(qe))}}var T=Object.prototype,I=T.hasOwnProperty,A=T.toString,H=T.propertyIsEnumerable,G=B(Object.keys,Object),le=Math.max;function fe(ie,He){var qe=U(ie)||te(ie)?O(ie.length,String):[],Et=qe.length,Nt=!!Et;for(var bt in ie)I.call(ie,bt)&&!(Nt&&(bt=="length"||ne(bt,Et)))&&qe.push(bt);return qe}function Z(ie){if(!W(ie))return G(ie);var He=[];for(var qe in Object(ie))I.call(ie,qe)&&qe!="constructor"&&He.push(qe);return He}function ne(ie,He){return He=He??i,!!He&&(typeof ie=="number"||S.test(ie))&&ie>-1&&ie%1==0&&ie<He}function W(ie){var He=ie&&ie.constructor,qe=typeof He=="function"&&He.prototype||T;return ie===qe}function Y(ie,He,qe,Et){ie=ce(ie)?ie:Gt(ie),qe=qe&&!Et?Oe(qe):0;var Nt=ie.length;return qe<0&&(qe=le(Nt+qe,0)),ue(ie)?qe<=Nt&&ie.indexOf(He,qe)>-1:!!Nt&&R(ie,He,qe)>-1}function te(ie){return ae(ie)&&I.call(ie,"callee")&&(!H.call(ie,"callee")||A.call(ie)==a)}var U=Array.isArray;function ce(ie){return ie!=null&&X(ie.length)&&!q(ie)}function ae(ie){return ee(ie)&&ce(ie)}function q(ie){var He=$(ie)?A.call(ie):"";return He==l||He==c}function X(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=i}function $(ie){var He=typeof ie;return!!ie&&(He=="object"||He=="function")}function ee(ie){return!!ie&&typeof ie=="object"}function ue(ie){return typeof ie=="string"||!U(ie)&&ee(ie)&&A.call(ie)==m}function Te(ie){return typeof ie=="symbol"||ee(ie)&&A.call(ie)==g}function De(ie){if(!ie)return ie===0?ie:0;if(ie=Ye(ie),ie===r||ie===-r){var He=ie<0?-1:1;return He*s}return ie===ie?ie:0}function Oe(ie){var He=De(ie),qe=He%1;return He===He?qe?He-qe:He:0}function Ye(ie){if(typeof ie=="number")return ie;if(Te(ie))return n;if($(ie)){var He=typeof ie.valueOf=="function"?ie.valueOf():ie;ie=$(He)?He+"":He}if(typeof ie!="string")return ie===0?ie:+ie;ie=ie.replace(y,"");var qe=h.test(ie);return qe||w.test(ie)?E(ie.slice(2),qe?2:8):f.test(ie)?n:+ie}function ct(ie){return ce(ie)?fe(ie):Z(ie)}function Gt(ie){return ie?D(ie,ct(ie)):[]}return sh=Y,sh}var ih,wv;function cC(){if(wv)return ih;wv=1;var r="[object Boolean]",i=Object.prototype,s=i.toString;function n(l){return l===!0||l===!1||a(l)&&s.call(l)==r}function a(l){return!!l&&typeof l=="object"}return ih=n,ih}var oh,Ev;function uC(){if(Ev)return oh;Ev=1;var r=1/0,i=17976931348623157e292,s=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,y=Object.prototype,f=y.toString;function h(P){return typeof P=="number"&&P==C(P)}function w(P){var O=typeof P;return!!P&&(O=="object"||O=="function")}function S(P){return!!P&&typeof P=="object"}function E(P){return typeof P=="symbol"||S(P)&&f.call(P)==n}function b(P){if(!P)return P===0?P:0;if(P=R(P),P===r||P===-r){var O=P<0?-1:1;return O*i}return P===P?P:0}function C(P){var O=b(P),D=O%1;return O===O?D?O-D:O:0}function R(P){if(typeof P=="number")return P;if(E(P))return s;if(w(P)){var O=typeof P.valueOf=="function"?P.valueOf():P;P=w(O)?O+"":O}if(typeof P!="string")return P===0?P:+P;P=P.replace(a,"");var D=c.test(P);return D||m.test(P)?g(P.slice(2),D?2:8):l.test(P)?s:+P}return oh=h,oh}var ah,Sv;function dC(){if(Sv)return ah;Sv=1;var r="[object Number]",i=Object.prototype,s=i.toString;function n(l){return!!l&&typeof l=="object"}function a(l){return typeof l=="number"||n(l)&&s.call(l)==r}return ah=a,ah}var lh,xv;function fC(){if(xv)return lh;xv=1;var r="[object Object]";function i(w){var S=!1;if(w!=null&&typeof w.toString!="function")try{S=!!(w+"")}catch{}return S}function s(w,S){return function(E){return w(S(E))}}var n=Function.prototype,a=Object.prototype,l=n.toString,c=a.hasOwnProperty,m=l.call(Object),g=a.toString,y=s(Object.getPrototypeOf,Object);function f(w){return!!w&&typeof w=="object"}function h(w){if(!f(w)||g.call(w)!=r||i(w))return!1;var S=y(w);if(S===null)return!0;var E=c.call(S,"constructor")&&S.constructor;return typeof E=="function"&&E instanceof E&&l.call(E)==m}return lh=h,lh}var ch,bv;function hC(){if(bv)return ch;bv=1;var r="[object String]",i=Object.prototype,s=i.toString,n=Array.isArray;function a(c){return!!c&&typeof c=="object"}function l(c){return typeof c=="string"||!n(c)&&a(c)&&s.call(c)==r}return ch=l,ch}var uh,Cv;function pC(){if(Cv)return uh;Cv=1;var r="Expected a function",i=1/0,s=17976931348623157e292,n=NaN,a="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,g=/^0o[0-7]+$/i,y=parseInt,f=Object.prototype,h=f.toString;function w(D,B){var T;if(typeof B!="function")throw new TypeError(r);return D=P(D),function(){return--D>0&&(T=B.apply(this,arguments)),D<=1&&(B=void 0),T}}function S(D){return w(2,D)}function E(D){var B=typeof D;return!!D&&(B=="object"||B=="function")}function b(D){return!!D&&typeof D=="object"}function C(D){return typeof D=="symbol"||b(D)&&h.call(D)==a}function R(D){if(!D)return D===0?D:0;if(D=O(D),D===i||D===-i){var B=D<0?-1:1;return B*s}return D===D?D:0}function P(D){var B=R(D),T=B%1;return B===B?T?B-T:B:0}function O(D){if(typeof D=="number")return D;if(C(D))return n;if(E(D)){var B=typeof D.valueOf=="function"?D.valueOf():D;D=E(B)?B+"":B}if(typeof D!="string")return D===0?D:+D;D=D.replace(l,"");var T=m.test(D);return T||g.test(D)?y(D.slice(2),T?2:8):c.test(D)?n:+D}return uh=S,uh}var dh,Tv;function mC(){if(Tv)return dh;Tv=1;const r=b0(),i=A0(),s=R0(),n=Qh(),a=lC(),l=cC(),c=uC(),m=dC(),g=fC(),y=hC(),f=pC(),{KeyObject:h,createSecretKey:w,createPrivateKey:S}=Wa,E=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&E.splice(3,0,"PS256","PS384","PS512");const b={expiresIn:{isValid:function(T){return c(T)||y(T)&&T},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(T){return c(T)||y(T)&&T},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(T){return y(T)||Array.isArray(T)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,E),message:'"algorithm" must be a valid string enum value'},header:{isValid:g,message:'"header" must be an object'},encoding:{isValid:y,message:'"encoding" must be a string'},issuer:{isValid:y,message:'"issuer" must be a string'},subject:{isValid:y,message:'"subject" must be a string'},jwtid:{isValid:y,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:y,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},C={iat:{isValid:m,message:'"iat" should be a number of seconds'},exp:{isValid:m,message:'"exp" should be a number of seconds'},nbf:{isValid:m,message:'"nbf" should be a number of seconds'}};function R(T,I,A,H){if(!g(A))throw new Error('Expected "'+H+'" to be a plain object.');Object.keys(A).forEach(function(G){const le=T[G];if(!le){if(!I)throw new Error('"'+G+'" is not allowed in "'+H+'"');return}if(!le.isValid(A[G]))throw new Error(le.message)})}function P(T){return R(b,!1,T,"options")}function O(T){return R(C,!0,T,"payload")}const D={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},B=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return dh=function(T,I,A,H){typeof A=="function"?(H=A,A={}):A=A||{};const G=typeof T=="object"&&!Buffer.isBuffer(T),le=Object.assign({alg:A.algorithm||"HS256",typ:G?"JWT":void 0,kid:A.keyid},A.header);function fe(W){if(H)return H(W);throw W}if(!I&&A.algorithm!=="none")return fe(new Error("secretOrPrivateKey must have a value"));if(I!=null&&!(I instanceof h))try{I=S(I)}catch{try{I=w(typeof I=="string"?Buffer.from(I):I)}catch{return fe(new Error("secretOrPrivateKey is not valid key material"))}}if(le.alg.startsWith("HS")&&I.type!=="secret")return fe(new Error(`secretOrPrivateKey must be a symmetric key when using ${le.alg}`));if(/^(?:RS|PS|ES)/.test(le.alg)){if(I.type!=="private")return fe(new Error(`secretOrPrivateKey must be an asymmetric key when using ${le.alg}`));if(!A.allowInsecureKeySizes&&!le.alg.startsWith("ES")&&I.asymmetricKeyDetails!==void 0&&I.asymmetricKeyDetails.modulusLength<2048)return fe(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${le.alg}`))}if(typeof T>"u")return fe(new Error("payload is required"));if(G){try{O(T)}catch(W){return fe(W)}A.mutatePayload||(T=Object.assign({},T))}else{const W=B.filter(function(Y){return typeof A[Y]<"u"});if(W.length>0)return fe(new Error("invalid "+W.join(",")+" option for "+typeof T+" payload"))}if(typeof T.exp<"u"&&typeof A.expiresIn<"u")return fe(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof T.nbf<"u"&&typeof A.notBefore<"u")return fe(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{P(A)}catch(W){return fe(W)}if(!A.allowInvalidAsymmetricKeyTypes)try{s(le.alg,I)}catch(W){return fe(W)}const Z=T.iat||Math.floor(Date.now()/1e3);if(A.noTimestamp?delete T.iat:G&&(T.iat=Z),typeof A.notBefore<"u"){try{T.nbf=r(A.notBefore,Z)}catch(W){return fe(W)}if(typeof T.nbf>"u")return fe(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof A.expiresIn<"u"&&typeof T=="object"){try{T.exp=r(A.expiresIn,Z)}catch(W){return fe(W)}if(typeof T.exp>"u")return fe(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(D).forEach(function(W){const Y=D[W];if(typeof A[W]<"u"){if(typeof T[Y]<"u")return fe(new Error('Bad "options.'+W+'" option. The payload already has an "'+Y+'" property.'));T[Y]=A[W]}});const ne=A.encoding||"utf8";if(typeof H=="function")H=H&&f(H),n.createSign({header:le,privateKey:I,payload:T,encoding:ne}).once("error",H).once("done",function(W){if(!A.allowInsecureKeySizes&&/^(?:RS|PS)/.test(le.alg)&&W.length<256)return H(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${le.alg}`));H(null,W)});else{let W=n.sign({header:le,payload:T,secret:I,encoding:ne});if(!A.allowInsecureKeySizes&&/^(?:RS|PS)/.test(le.alg)&&W.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${le.alg}`);return W}},dh}var fh,kv;function os(){return kv||(kv=1,fh={decode:E0(),verify:aC(),sign:mC(),JsonWebTokenError:Jc(),NotBeforeError:S0(),TokenExpiredError:x0()}),fh}/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */var hh,_v;function I0(){if(_v)return hh;_v=1;function r(x,k){return function(){return x.apply(k,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:n,toStringTag:a}=Symbol,l=(x=>k=>{const N=i.call(k);return x[N]||(x[N]=N.slice(8,-1).toLowerCase())})(Object.create(null)),c=x=>(x=x.toLowerCase(),k=>l(k)===x),m=x=>k=>typeof k===x,{isArray:g}=Array,y=m("undefined");function f(x){return x!==null&&!y(x)&&x.constructor!==null&&!y(x.constructor)&&E(x.constructor.isBuffer)&&x.constructor.isBuffer(x)}const h=c("ArrayBuffer");function w(x){let k;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?k=ArrayBuffer.isView(x):k=x&&x.buffer&&h(x.buffer),k}const S=m("string"),E=m("function"),b=m("number"),C=x=>x!==null&&typeof x=="object",R=x=>x===!0||x===!1,P=x=>{if(l(x)!=="object")return!1;const k=s(x);return(k===null||k===Object.prototype||Object.getPrototypeOf(k)===null)&&!(a in x)&&!(n in x)},O=x=>{if(!C(x)||f(x))return!1;try{return Object.keys(x).length===0&&Object.getPrototypeOf(x)===Object.prototype}catch{return!1}},D=c("Date"),B=c("File"),T=c("Blob"),I=c("FileList"),A=x=>C(x)&&E(x.pipe),H=x=>{let k;return x&&(typeof FormData=="function"&&x instanceof FormData||E(x.append)&&((k=l(x))==="formdata"||k==="object"&&E(x.toString)&&x.toString()==="[object FormData]"))},G=c("URLSearchParams"),[le,fe,Z,ne]=["ReadableStream","Request","Response","Headers"].map(c),W=x=>x.trim?x.trim():x.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Y(x,k,{allOwnKeys:N=!1}={}){if(x===null||typeof x>"u")return;let j,M;if(typeof x!="object"&&(x=[x]),g(x))for(j=0,M=x.length;j<M;j++)k.call(null,x[j],j,x);else{if(f(x))return;const J=N?Object.getOwnPropertyNames(x):Object.keys(x),V=J.length;let de;for(j=0;j<V;j++)de=J[j],k.call(null,x[de],de,x)}}function te(x,k){if(f(x))return null;k=k.toLowerCase();const N=Object.keys(x);let j=N.length,M;for(;j-- >0;)if(M=N[j],k===M.toLowerCase())return M;return null}const U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ho,ce=x=>!y(x)&&x!==U;function ae(){const{caseless:x,skipUndefined:k}=ce(this)&&this||{},N={},j=(M,J)=>{const V=x&&te(N,J)||J;P(N[V])&&P(M)?N[V]=ae(N[V],M):P(M)?N[V]=ae({},M):g(M)?N[V]=M.slice():(!k||!y(M))&&(N[V]=M)};for(let M=0,J=arguments.length;M<J;M++)arguments[M]&&Y(arguments[M],j);return N}const q=(x,k,N,{allOwnKeys:j}={})=>(Y(k,(M,J)=>{N&&E(M)?x[J]=r(M,N):x[J]=M},{allOwnKeys:j}),x),X=x=>(x.charCodeAt(0)===65279&&(x=x.slice(1)),x),$=(x,k,N,j)=>{x.prototype=Object.create(k.prototype,j),x.prototype.constructor=x,Object.defineProperty(x,"super",{value:k.prototype}),N&&Object.assign(x.prototype,N)},ee=(x,k,N,j)=>{let M,J,V;const de={};if(k=k||{},x==null)return k;do{for(M=Object.getOwnPropertyNames(x),J=M.length;J-- >0;)V=M[J],(!j||j(V,x,k))&&!de[V]&&(k[V]=x[V],de[V]=!0);x=N!==!1&&s(x)}while(x&&(!N||N(x,k))&&x!==Object.prototype);return k},ue=(x,k,N)=>{x=String(x),(N===void 0||N>x.length)&&(N=x.length),N-=k.length;const j=x.indexOf(k,N);return j!==-1&&j===N},Te=x=>{if(!x)return null;if(g(x))return x;let k=x.length;if(!b(k))return null;const N=new Array(k);for(;k-- >0;)N[k]=x[k];return N},De=(x=>k=>x&&k instanceof x)(typeof Uint8Array<"u"&&s(Uint8Array)),Oe=(x,k)=>{const j=(x&&x[n]).call(x);let M;for(;(M=j.next())&&!M.done;){const J=M.value;k.call(x,J[0],J[1])}},Ye=(x,k)=>{let N;const j=[];for(;(N=x.exec(k))!==null;)j.push(N);return j},ct=c("HTMLFormElement"),Gt=x=>x.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(N,j,M){return j.toUpperCase()+M}),ie=(({hasOwnProperty:x})=>(k,N)=>x.call(k,N))(Object.prototype),He=c("RegExp"),qe=(x,k)=>{const N=Object.getOwnPropertyDescriptors(x),j={};Y(N,(M,J)=>{let V;(V=k(M,J,x))!==!1&&(j[J]=V||M)}),Object.defineProperties(x,j)},Et=x=>{qe(x,(k,N)=>{if(E(x)&&["arguments","caller","callee"].indexOf(N)!==-1)return!1;const j=x[N];if(E(j)){if(k.enumerable=!1,"writable"in k){k.writable=!1;return}k.set||(k.set=()=>{throw Error("Can not rewrite read-only method '"+N+"'")})}})},Nt=(x,k)=>{const N={},j=M=>{M.forEach(J=>{N[J]=!0})};return g(x)?j(x):j(String(x).split(k)),N},bt=()=>{},Ls=(x,k)=>x!=null&&Number.isFinite(x=+x)?x:k;function ir(x){return!!(x&&E(x.append)&&x[a]==="FormData"&&x[n])}const On=x=>{const k=new Array(10),N=(j,M)=>{if(C(j)){if(k.indexOf(j)>=0)return;if(f(j))return j;if(!("toJSON"in j)){k[M]=j;const J=g(j)?[]:{};return Y(j,(V,de)=>{const _e=N(V,M+1);!y(_e)&&(J[de]=_e)}),k[M]=void 0,J}}return j};return N(x,0)},gn=c("AsyncFunction"),Dt=x=>x&&(C(x)||E(x))&&E(x.then)&&E(x.catch),jr=((x,k)=>x?setImmediate:k?((N,j)=>(U.addEventListener("message",({source:M,data:J})=>{M===U&&J===N&&j.length&&j.shift()()},!1),M=>{j.push(M),U.postMessage(N,"*")}))(`axios@${Math.random()}`,[]):N=>setTimeout(N))(typeof setImmediate=="function",E(U.postMessage)),xi=typeof queueMicrotask<"u"?queueMicrotask.bind(U):typeof process<"u"&&process.nextTick||jr;var se={isArray:g,isArrayBuffer:h,isBuffer:f,isFormData:H,isArrayBufferView:w,isString:S,isNumber:b,isBoolean:R,isObject:C,isPlainObject:P,isEmptyObject:O,isReadableStream:le,isRequest:fe,isResponse:Z,isHeaders:ne,isUndefined:y,isDate:D,isFile:B,isBlob:T,isRegExp:He,isFunction:E,isStream:A,isURLSearchParams:G,isTypedArray:De,isFileList:I,forEach:Y,merge:ae,extend:q,trim:W,stripBOM:X,inherits:$,toFlatObject:ee,kindOf:l,kindOfTest:c,endsWith:ue,toArray:Te,forEachEntry:Oe,matchAll:Ye,isHTMLForm:ct,hasOwnProperty:ie,hasOwnProp:ie,reduceDescriptors:qe,freezeMethods:Et,toObjectSet:Nt,toCamelCase:Gt,noop:bt,toFiniteNumber:Ls,findKey:te,global:U,isContextDefined:ce,isSpecCompliantForm:ir,toJSONObject:On,isAsyncFn:gn,isThenable:Dt,setImmediate:jr,asap:xi,isIterable:x=>x!=null&&E(x[n])};function We(x,k,N,j,M){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=x,this.name="AxiosError",k&&(this.code=k),N&&(this.config=N),j&&(this.request=j),M&&(this.response=M,this.status=M.status?M.status:null)}se.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const yn=We.prototype,jn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(x=>{jn[x]={value:x}}),Object.defineProperties(We,jn),Object.defineProperty(yn,"isAxiosError",{value:!0}),We.from=(x,k,N,j,M,J)=>{const V=Object.create(yn);se.toFlatObject(x,V,function(ye){return ye!==Error.prototype},xe=>xe!=="isAxiosError");const de=x&&x.message?x.message:"Error",_e=k==null&&x?x.code:k;return We.call(V,de,_e,N,j,M),x&&V.cause==null&&Object.defineProperty(V,"cause",{value:x,configurable:!0}),V.name=x&&x.name||"Error",J&&Object.assign(V,J),V};var gr=null;function Dr(x){return se.isPlainObject(x)||se.isArray(x)}function Vr(x){return se.endsWith(x,"[]")?x.slice(0,-2):x}function Ms(x,k,N){return x?x.concat(k).map(function(M,J){return M=Vr(M),!N&&J?"["+M+"]":M}).join(N?".":""):k}function bi(x){return se.isArray(x)&&!x.some(Dr)}const Ci=se.toFlatObject(se,{},null,function(k){return/^is[A-Z]/.test(k)});function Jr(x,k,N){if(!se.isObject(x))throw new TypeError("target must be an object");k=k||new FormData,N=se.toFlatObject(N,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ke,Le){return!se.isUndefined(Le[Ke])});const j=N.metaTokens,M=N.visitor||ye,J=N.dots,V=N.indexes,_e=(N.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(k);if(!se.isFunction(M))throw new TypeError("visitor must be a function");function xe(Se){if(Se===null)return"";if(se.isDate(Se))return Se.toISOString();if(se.isBoolean(Se))return Se.toString();if(!_e&&se.isBlob(Se))throw new We("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(Se)||se.isTypedArray(Se)?_e&&typeof Blob=="function"?new Blob([Se]):Buffer.from(Se):Se}function ye(Se,Ke,Le){let kt=Se;if(Se&&!Le&&typeof Se=="object"){if(se.endsWith(Ke,"{}"))Ke=j?Ke:Ke.slice(0,-2),Se=JSON.stringify(Se);else if(se.isArray(Se)&&bi(Se)||(se.isFileList(Se)||se.endsWith(Ke,"[]"))&&(kt=se.toArray(Se)))return Ke=Vr(Ke),kt.forEach(function(Pt,Qt){!(se.isUndefined(Pt)||Pt===null)&&k.append(V===!0?Ms([Ke],Qt,J):V===null?Ke:Ke+"[]",xe(Pt))}),!1}return Dr(Se)?!0:(k.append(Ms(Le,Ke,J),xe(Se)),!1)}const Ue=[],nt=Object.assign(Ci,{defaultVisitor:ye,convertValue:xe,isVisitable:Dr});function Tt(Se,Ke){if(!se.isUndefined(Se)){if(Ue.indexOf(Se)!==-1)throw Error("Circular reference detected in "+Ke.join("."));Ue.push(Se),se.forEach(Se,function(kt,Xt){(!(se.isUndefined(kt)||kt===null)&&M.call(k,kt,se.isString(Xt)?Xt.trim():Xt,Ke,nt))===!0&&Tt(kt,Ke?Ke.concat(Xt):[Xt])}),Ue.pop()}}if(!se.isObject(x))throw new TypeError("data must be an object");return Tt(x),k}function as(x){const k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(x).replace(/[!'()~]|%20|%00/g,function(j){return k[j]})}function Yr(x,k){this._pairs=[],x&&Jr(x,this,k)}const or=Yr.prototype;or.append=function(k,N){this._pairs.push([k,N])},or.toString=function(k){const N=k?function(j){return k.call(this,j,as)}:as;return this._pairs.map(function(M){return N(M[0])+"="+N(M[1])},"").join("&")};function Us(x){return encodeURIComponent(x).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xr(x,k,N){if(!k)return x;const j=N&&N.encode||Us;se.isFunction(N)&&(N={serialize:N});const M=N&&N.serialize;let J;if(M?J=M(k,N):J=se.isURLSearchParams(k)?k.toString():new Yr(k,N).toString(j),J){const V=x.indexOf("#");V!==-1&&(x=x.slice(0,V)),x+=(x.indexOf("?")===-1?"?":"&")+J}return x}class Qr{constructor(){this.handlers=[]}use(k,N,j){return this.handlers.push({fulfilled:k,rejected:N,synchronous:j?j.synchronous:!1,runWhen:j?j.runWhen:null}),this.handlers.length-1}eject(k){this.handlers[k]&&(this.handlers[k]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(k){se.forEach(this.handlers,function(j){j!==null&&k(j)})}}var ls=Qr,Ge={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gt=typeof URLSearchParams<"u"?URLSearchParams:Yr,Ct=typeof FormData<"u"?FormData:null,Ft=typeof Blob<"u"?Blob:null,vn={isBrowser:!0,classes:{URLSearchParams:gt,FormData:Ct,Blob:Ft},protocols:["http","https","file","blob","url","data"]};const ht=typeof window<"u"&&typeof document<"u",St=typeof navigator=="object"&&navigator||void 0,wn=ht&&(!St||["ReactNative","NativeScript","NS"].indexOf(St.product)<0),Lt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ar=ht&&window.location.href||"http://localhost";var En=Object.freeze({__proto__:null,hasBrowserEnv:ht,hasStandardBrowserWebWorkerEnv:Lt,hasStandardBrowserEnv:wn,navigator:St,origin:ar}),lt={...En,...vn};function Hs(x,k){return Jr(x,new lt.classes.URLSearchParams,{visitor:function(N,j,M,J){return lt.isNode&&se.isBuffer(N)?(this.append(j,N.toString("base64")),!1):J.defaultVisitor.apply(this,arguments)},...k})}function Co(x){return se.matchAll(/\w+|\[(\w*)]/g,x).map(k=>k[0]==="[]"?"":k[1]||k[0])}function fu(x){const k={},N=Object.keys(x);let j;const M=N.length;let J;for(j=0;j<M;j++)J=N[j],k[J]=x[J];return k}function el(x){function k(N,j,M,J){let V=N[J++];if(V==="__proto__")return!0;const de=Number.isFinite(+V),_e=J>=N.length;return V=!V&&se.isArray(M)?M.length:V,_e?(se.hasOwnProp(M,V)?M[V]=[M[V],j]:M[V]=j,!de):((!M[V]||!se.isObject(M[V]))&&(M[V]=[]),k(N,j,M[V],J)&&se.isArray(M[V])&&(M[V]=fu(M[V])),!de)}if(se.isFormData(x)&&se.isFunction(x.entries)){const N={};return se.forEachEntry(x,(j,M)=>{k(Co(j),M,N,0)}),N}return null}function hu(x,k,N){if(se.isString(x))try{return(k||JSON.parse)(x),se.trim(x)}catch(j){if(j.name!=="SyntaxError")throw j}return(N||JSON.stringify)(x)}const Zr={transitional:Ge,adapter:["xhr","http","fetch"],transformRequest:[function(k,N){const j=N.getContentType()||"",M=j.indexOf("application/json")>-1,J=se.isObject(k);if(J&&se.isHTMLForm(k)&&(k=new FormData(k)),se.isFormData(k))return M?JSON.stringify(el(k)):k;if(se.isArrayBuffer(k)||se.isBuffer(k)||se.isStream(k)||se.isFile(k)||se.isBlob(k)||se.isReadableStream(k))return k;if(se.isArrayBufferView(k))return k.buffer;if(se.isURLSearchParams(k))return N.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let de;if(J){if(j.indexOf("application/x-www-form-urlencoded")>-1)return Hs(k,this.formSerializer).toString();if((de=se.isFileList(k))||j.indexOf("multipart/form-data")>-1){const _e=this.env&&this.env.FormData;return Jr(de?{"files[]":k}:k,_e&&new _e,this.formSerializer)}}return J||M?(N.setContentType("application/json",!1),hu(k)):k}],transformResponse:[function(k){const N=this.transitional||Zr.transitional,j=N&&N.forcedJSONParsing,M=this.responseType==="json";if(se.isResponse(k)||se.isReadableStream(k))return k;if(k&&se.isString(k)&&(j&&!this.responseType||M)){const V=!(N&&N.silentJSONParsing)&&M;try{return JSON.parse(k,this.parseReviver)}catch(de){if(V)throw de.name==="SyntaxError"?We.from(de,We.ERR_BAD_RESPONSE,this,null,this.response):de}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],x=>{Zr.headers[x]={}});var Ti=Zr;const tl=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var pu=x=>{const k={};let N,j,M;return x&&x.split(`
`).forEach(function(V){M=V.indexOf(":"),N=V.substring(0,M).trim().toLowerCase(),j=V.substring(M+1).trim(),!(!N||k[N]&&tl[N])&&(N==="set-cookie"?k[N]?k[N].push(j):k[N]=[j]:k[N]=k[N]?k[N]+", "+j:j)}),k};const To=Symbol("internals");function cs(x){return x&&String(x).trim().toLowerCase()}function qs(x){return x===!1||x==null?x:se.isArray(x)?x.map(qs):String(x)}function rl(x){const k=Object.create(null),N=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let j;for(;j=N.exec(x);)k[j[1]]=j[2];return k}const mu=x=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(x.trim());function ko(x,k,N,j,M){if(se.isFunction(j))return j.call(this,k,N);if(M&&(k=N),!!se.isString(k)){if(se.isString(j))return k.indexOf(j)!==-1;if(se.isRegExp(j))return j.test(k)}}function yt(x){return x.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(k,N,j)=>N.toUpperCase()+j)}function gu(x,k){const N=se.toCamelCase(" "+k);["get","set","has"].forEach(j=>{Object.defineProperty(x,j+N,{value:function(M,J,V){return this[j].call(this,k,M,J,V)},configurable:!0})})}class us{constructor(k){k&&this.set(k)}set(k,N,j){const M=this;function J(de,_e,xe){const ye=cs(_e);if(!ye)throw new Error("header name must be a non-empty string");const Ue=se.findKey(M,ye);(!Ue||M[Ue]===void 0||xe===!0||xe===void 0&&M[Ue]!==!1)&&(M[Ue||_e]=qs(de))}const V=(de,_e)=>se.forEach(de,(xe,ye)=>J(xe,ye,_e));if(se.isPlainObject(k)||k instanceof this.constructor)V(k,N);else if(se.isString(k)&&(k=k.trim())&&!mu(k))V(pu(k),N);else if(se.isObject(k)&&se.isIterable(k)){let de={},_e,xe;for(const ye of k){if(!se.isArray(ye))throw TypeError("Object iterator must return a key-value pair");de[xe=ye[0]]=(_e=de[xe])?se.isArray(_e)?[..._e,ye[1]]:[_e,ye[1]]:ye[1]}V(de,N)}else k!=null&&J(N,k,j);return this}get(k,N){if(k=cs(k),k){const j=se.findKey(this,k);if(j){const M=this[j];if(!N)return M;if(N===!0)return rl(M);if(se.isFunction(N))return N.call(this,M,j);if(se.isRegExp(N))return N.exec(M);throw new TypeError("parser must be boolean|regexp|function")}}}has(k,N){if(k=cs(k),k){const j=se.findKey(this,k);return!!(j&&this[j]!==void 0&&(!N||ko(this,this[j],j,N)))}return!1}delete(k,N){const j=this;let M=!1;function J(V){if(V=cs(V),V){const de=se.findKey(j,V);de&&(!N||ko(j,j[de],de,N))&&(delete j[de],M=!0)}}return se.isArray(k)?k.forEach(J):J(k),M}clear(k){const N=Object.keys(this);let j=N.length,M=!1;for(;j--;){const J=N[j];(!k||ko(this,this[J],J,k,!0))&&(delete this[J],M=!0)}return M}normalize(k){const N=this,j={};return se.forEach(this,(M,J)=>{const V=se.findKey(j,J);if(V){N[V]=qs(M),delete N[J];return}const de=k?yt(J):String(J).trim();de!==J&&delete N[J],N[de]=qs(M),j[de]=!0}),this}concat(...k){return this.constructor.concat(this,...k)}toJSON(k){const N=Object.create(null);return se.forEach(this,(j,M)=>{j!=null&&j!==!1&&(N[M]=k&&se.isArray(j)?j.join(", "):j)}),N}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([k,N])=>k+": "+N).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(k){return k instanceof this?k:new this(k)}static concat(k,...N){const j=new this(k);return N.forEach(M=>j.set(M)),j}static accessor(k){const j=(this[To]=this[To]={accessors:{}}).accessors,M=this.prototype;function J(V){const de=cs(V);j[de]||(gu(M,V),j[de]=!0)}return se.isArray(k)?k.forEach(J):J(k),this}}us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),se.reduceDescriptors(us.prototype,({value:x},k)=>{let N=k[0].toUpperCase()+k.slice(1);return{get:()=>x,set(j){this[N]=j}}}),se.freezeMethods(us);var yr=us;function ds(x,k){const N=this||Ti,j=k||N,M=yr.from(j.headers);let J=j.data;return se.forEach(x,function(de){J=de.call(N,J,M.normalize(),k?k.status:void 0)}),M.normalize(),J}function nl(x){return!!(x&&x.__CANCEL__)}function Dn(x,k,N){We.call(this,x??"canceled",We.ERR_CANCELED,k,N),this.name="CanceledError"}se.inherits(Dn,We,{__CANCEL__:!0});function Fs(x,k,N){const j=N.config.validateStatus;!N.status||!j||j(N.status)?x(N):k(new We("Request failed with status code "+N.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N))}function Lr(x){const k=/^([-+\w]{1,25})(:?\/\/|:)/.exec(x);return k&&k[1]||""}function yu(x,k){x=x||10;const N=new Array(x),j=new Array(x);let M=0,J=0,V;return k=k!==void 0?k:1e3,function(_e){const xe=Date.now(),ye=j[J];V||(V=xe),N[M]=_e,j[M]=xe;let Ue=J,nt=0;for(;Ue!==M;)nt+=N[Ue++],Ue=Ue%x;if(M=(M+1)%x,M===J&&(J=(J+1)%x),xe-V<k)return;const Tt=ye&&xe-ye;return Tt?Math.round(nt*1e3/Tt):void 0}}function Rr(x,k){let N=0,j=1e3/k,M,J;const V=(xe,ye=Date.now())=>{N=ye,M=null,J&&(clearTimeout(J),J=null),x(...xe)};return[(...xe)=>{const ye=Date.now(),Ue=ye-N;Ue>=j?V(xe,ye):(M=xe,J||(J=setTimeout(()=>{J=null,V(M)},j-Ue)))},()=>M&&V(M)]}const ki=(x,k,N=3)=>{let j=0;const M=yu(50,250);return Rr(J=>{const V=J.loaded,de=J.lengthComputable?J.total:void 0,_e=V-j,xe=M(_e),ye=V<=de;j=V;const Ue={loaded:V,total:de,progress:de?V/de:void 0,bytes:_e,rate:xe||void 0,estimated:xe&&de&&ye?(de-V)/xe:void 0,event:J,lengthComputable:de!=null,[k?"download":"upload"]:!0};x(Ue)},N)},sl=(x,k)=>{const N=x!=null;return[j=>k[0]({lengthComputable:N,total:x,loaded:j}),k[1]]},il=x=>(...k)=>se.asap(()=>x(...k));var _i=lt.hasStandardBrowserEnv?((x,k)=>N=>(N=new URL(N,lt.origin),x.protocol===N.protocol&&x.host===N.host&&(k||x.port===N.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,Ri=lt.hasStandardBrowserEnv?{write(x,k,N,j,M,J){const V=[x+"="+encodeURIComponent(k)];se.isNumber(N)&&V.push("expires="+new Date(N).toGMTString()),se.isString(j)&&V.push("path="+j),se.isString(M)&&V.push("domain="+M),J===!0&&V.push("secure"),document.cookie=V.join("; ")},read(x){const k=document.cookie.match(new RegExp("(^|;\\s*)("+x+")=([^;]*)"));return k?decodeURIComponent(k[3]):null},remove(x){this.write(x,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zs(x){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(x)}function Ai(x,k){return k?x.replace(/\/?\/$/,"")+"/"+k.replace(/^\/+/,""):x}function ol(x,k,N){let j=!zs(k);return x&&(j||N==!1)?Ai(x,k):k}const al=x=>x instanceof yr?{...x}:x;function en(x,k){k=k||{};const N={};function j(xe,ye,Ue,nt){return se.isPlainObject(xe)&&se.isPlainObject(ye)?se.merge.call({caseless:nt},xe,ye):se.isPlainObject(ye)?se.merge({},ye):se.isArray(ye)?ye.slice():ye}function M(xe,ye,Ue,nt){if(se.isUndefined(ye)){if(!se.isUndefined(xe))return j(void 0,xe,Ue,nt)}else return j(xe,ye,Ue,nt)}function J(xe,ye){if(!se.isUndefined(ye))return j(void 0,ye)}function V(xe,ye){if(se.isUndefined(ye)){if(!se.isUndefined(xe))return j(void 0,xe)}else return j(void 0,ye)}function de(xe,ye,Ue){if(Ue in k)return j(xe,ye);if(Ue in x)return j(void 0,xe)}const _e={url:J,method:J,data:J,baseURL:V,transformRequest:V,transformResponse:V,paramsSerializer:V,timeout:V,timeoutMessage:V,withCredentials:V,withXSRFToken:V,adapter:V,responseType:V,xsrfCookieName:V,xsrfHeaderName:V,onUploadProgress:V,onDownloadProgress:V,decompress:V,maxContentLength:V,maxBodyLength:V,beforeRedirect:V,transport:V,httpAgent:V,httpsAgent:V,cancelToken:V,socketPath:V,responseEncoding:V,validateStatus:de,headers:(xe,ye,Ue)=>M(al(xe),al(ye),Ue,!0)};return se.forEach(Object.keys({...x,...k}),function(ye){const Ue=_e[ye]||M,nt=Ue(x[ye],k[ye],ye);se.isUndefined(nt)&&Ue!==de||(N[ye]=nt)}),N}var _o=x=>{const k=en({},x);let{data:N,withXSRFToken:j,xsrfHeaderName:M,xsrfCookieName:J,headers:V,auth:de}=k;if(k.headers=V=yr.from(V),k.url=Xr(ol(k.baseURL,k.url,k.allowAbsoluteUrls),x.params,x.paramsSerializer),de&&V.set("Authorization","Basic "+btoa((de.username||"")+":"+(de.password?unescape(encodeURIComponent(de.password)):""))),se.isFormData(N)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)V.setContentType(void 0);else if(se.isFunction(N.getHeaders)){const _e=N.getHeaders(),xe=["content-type","content-length"];Object.entries(_e).forEach(([ye,Ue])=>{xe.includes(ye.toLowerCase())&&V.set(ye,Ue)})}}if(lt.hasStandardBrowserEnv&&(j&&se.isFunction(j)&&(j=j(k)),j||j!==!1&&_i(k.url))){const _e=M&&J&&Ri.read(J);_e&&V.set(M,_e)}return k},$s=typeof XMLHttpRequest<"u"&&function(x){return new Promise(function(N,j){const M=_o(x);let J=M.data;const V=yr.from(M.headers).normalize();let{responseType:de,onUploadProgress:_e,onDownloadProgress:xe}=M,ye,Ue,nt,Tt,Se;function Ke(){Tt&&Tt(),Se&&Se(),M.cancelToken&&M.cancelToken.unsubscribe(ye),M.signal&&M.signal.removeEventListener("abort",ye)}let Le=new XMLHttpRequest;Le.open(M.method.toUpperCase(),M.url,!0),Le.timeout=M.timeout;function kt(){if(!Le)return;const Pt=yr.from("getAllResponseHeaders"in Le&&Le.getAllResponseHeaders()),Ar={data:!de||de==="text"||de==="json"?Le.responseText:Le.response,status:Le.status,statusText:Le.statusText,headers:Pt,config:x,request:Le};Fs(function(vr){N(vr),Ke()},function(vr){j(vr),Ke()},Ar),Le=null}"onloadend"in Le?Le.onloadend=kt:Le.onreadystatechange=function(){!Le||Le.readyState!==4||Le.status===0&&!(Le.responseURL&&Le.responseURL.indexOf("file:")===0)||setTimeout(kt)},Le.onabort=function(){Le&&(j(new We("Request aborted",We.ECONNABORTED,x,Le)),Le=null)},Le.onerror=function(Qt){const Ar=Qt&&Qt.message?Qt.message:"Network Error",qn=new We(Ar,We.ERR_NETWORK,x,Le);qn.event=Qt||null,j(qn),Le=null},Le.ontimeout=function(){let Qt=M.timeout?"timeout of "+M.timeout+"ms exceeded":"timeout exceeded";const Ar=M.transitional||Ge;M.timeoutErrorMessage&&(Qt=M.timeoutErrorMessage),j(new We(Qt,Ar.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,x,Le)),Le=null},J===void 0&&V.setContentType(null),"setRequestHeader"in Le&&se.forEach(V.toJSON(),function(Qt,Ar){Le.setRequestHeader(Ar,Qt)}),se.isUndefined(M.withCredentials)||(Le.withCredentials=!!M.withCredentials),de&&de!=="json"&&(Le.responseType=M.responseType),xe&&([nt,Se]=ki(xe,!0),Le.addEventListener("progress",nt)),_e&&Le.upload&&([Ue,Tt]=ki(_e),Le.upload.addEventListener("progress",Ue),Le.upload.addEventListener("loadend",Tt)),(M.cancelToken||M.signal)&&(ye=Pt=>{Le&&(j(!Pt||Pt.type?new Dn(null,x,Le):Pt),Le.abort(),Le=null)},M.cancelToken&&M.cancelToken.subscribe(ye),M.signal&&(M.signal.aborted?ye():M.signal.addEventListener("abort",ye)));const Xt=Lr(M.url);if(Xt&&lt.protocols.indexOf(Xt)===-1){j(new We("Unsupported protocol "+Xt+":",We.ERR_BAD_REQUEST,x));return}Le.send(J||null)})},Ro=(x,k)=>{const{length:N}=x=x?x.filter(Boolean):[];if(k||N){let j=new AbortController,M;const J=function(xe){if(!M){M=!0,de();const ye=xe instanceof Error?xe:this.reason;j.abort(ye instanceof We?ye:new Dn(ye instanceof Error?ye.message:ye))}};let V=k&&setTimeout(()=>{V=null,J(new We(`timeout ${k} of ms exceeded`,We.ETIMEDOUT))},k);const de=()=>{x&&(V&&clearTimeout(V),V=null,x.forEach(xe=>{xe.unsubscribe?xe.unsubscribe(J):xe.removeEventListener("abort",J)}),x=null)};x.forEach(xe=>xe.addEventListener("abort",J));const{signal:_e}=j;return _e.unsubscribe=()=>se.asap(de),_e}};const ot=function*(x,k){let N=x.byteLength;if(N<k){yield x;return}let j=0,M;for(;j<N;)M=j+k,yield x.slice(j,M),j=M},cl=async function*(x,k){for await(const N of ul(x))yield*ot(N,k)},ul=async function*(x){if(x[Symbol.asyncIterator]){yield*x;return}const k=x.getReader();try{for(;;){const{done:N,value:j}=await k.read();if(N)break;yield j}}finally{await k.cancel()}},Ii=(x,k,N,j)=>{const M=cl(x,k);let J=0,V,de=_e=>{V||(V=!0,j&&j(_e))};return new ReadableStream({async pull(_e){try{const{done:xe,value:ye}=await M.next();if(xe){de(),_e.close();return}let Ue=ye.byteLength;if(N){let nt=J+=Ue;N(nt)}_e.enqueue(new Uint8Array(ye))}catch(xe){throw de(xe),xe}},cancel(_e){return de(_e),M.return()}},{highWaterMark:2})},Ao=64*1024,{isFunction:Bs}=se,dl=(({Request:x,Response:k})=>({Request:x,Response:k}))(se.global),{ReadableStream:Ni,TextEncoder:Ks}=se.global,tn=(x,...k)=>{try{return!!x(...k)}catch{return!1}},Sn=x=>{x=se.merge.call({skipUndefined:!0},dl,x);const{fetch:k,Request:N,Response:j}=x,M=k?Bs(k):typeof fetch=="function",J=Bs(N),V=Bs(j);if(!M)return!1;const de=M&&Bs(Ni),_e=M&&(typeof Ks=="function"?(Se=>Ke=>Se.encode(Ke))(new Ks):async Se=>new Uint8Array(await new N(Se).arrayBuffer())),xe=J&&de&&tn(()=>{let Se=!1;const Ke=new N(lt.origin,{body:new Ni,method:"POST",get duplex(){return Se=!0,"half"}}).headers.has("Content-Type");return Se&&!Ke}),ye=V&&de&&tn(()=>se.isReadableStream(new j("").body)),Ue={stream:ye&&(Se=>Se.body)};M&&["text","arrayBuffer","blob","formData","stream"].forEach(Se=>{!Ue[Se]&&(Ue[Se]=(Ke,Le)=>{let kt=Ke&&Ke[Se];if(kt)return kt.call(Ke);throw new We(`Response type '${Se}' is not supported`,We.ERR_NOT_SUPPORT,Le)})});const nt=async Se=>{if(Se==null)return 0;if(se.isBlob(Se))return Se.size;if(se.isSpecCompliantForm(Se))return(await new N(lt.origin,{method:"POST",body:Se}).arrayBuffer()).byteLength;if(se.isArrayBufferView(Se)||se.isArrayBuffer(Se))return Se.byteLength;if(se.isURLSearchParams(Se)&&(Se=Se+""),se.isString(Se))return(await _e(Se)).byteLength},Tt=async(Se,Ke)=>{const Le=se.toFiniteNumber(Se.getContentLength());return Le??nt(Ke)};return async Se=>{let{url:Ke,method:Le,data:kt,signal:Xt,cancelToken:Pt,timeout:Qt,onDownloadProgress:Ar,onUploadProgress:qn,responseType:vr,headers:Oi,withCredentials:ji="same-origin",fetchOptions:pl}=_o(Se),ml=k||fetch;vr=vr?(vr+"").toLowerCase():"text";let Di=Ro([Xt,Pt&&Pt.toAbortSignal()],Qt),Fn=null;const zn=Di&&Di.unsubscribe&&(()=>{Di.unsubscribe()});let gl;try{if(qn&&xe&&Le!=="get"&&Le!=="head"&&(gl=await Tt(Oi,kt))!==0){let Tn=new N(Ke,{method:"POST",body:kt,duplex:"half"}),hs;if(se.isFormData(kt)&&(hs=Tn.headers.get("content-type"))&&Oi.setContentType(hs),Tn.body){const[Lo,Li]=sl(gl,ki(il(qn)));kt=Ii(Tn.body,Ao,Lo,Li)}}se.isString(ji)||(ji=ji?"include":"omit");const Mr=J&&"credentials"in N.prototype,Do={...pl,signal:Di,method:Le.toUpperCase(),headers:Oi.normalize().toJSON(),body:kt,duplex:"half",credentials:Mr?ji:void 0};Fn=J&&new N(Ke,Do);let Cn=await(J?ml(Fn,pl):ml(Ke,Do));const yl=ye&&(vr==="stream"||vr==="response");if(ye&&(Ar||yl&&zn)){const Tn={};["status","statusText","headers"].forEach(Mi=>{Tn[Mi]=Cn[Mi]});const hs=se.toFiniteNumber(Cn.headers.get("content-length")),[Lo,Li]=Ar&&sl(hs,ki(il(Ar),!0))||[];Cn=new j(Ii(Cn.body,Ao,Lo,()=>{Li&&Li(),zn&&zn()}),Tn)}vr=vr||"text";let Su=await Ue[se.findKey(Ue,vr)||"text"](Cn,Se);return!yl&&zn&&zn(),await new Promise((Tn,hs)=>{Fs(Tn,hs,{data:Su,headers:yr.from(Cn.headers),status:Cn.status,statusText:Cn.statusText,config:Se,request:Fn})})}catch(Mr){throw zn&&zn(),Mr&&Mr.name==="TypeError"&&/Load failed|fetch/i.test(Mr.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,Se,Fn),{cause:Mr.cause||Mr}):We.from(Mr,Mr&&Mr.code,Se,Fn)}}},xn=new Map,fs=x=>{let k=x?x.env:{};const{fetch:N,Request:j,Response:M}=k,J=[j,M,N];let V=J.length,de=V,_e,xe,ye=xn;for(;de--;)_e=J[de],xe=ye.get(_e),xe===void 0&&ye.set(_e,xe=de?new Map:Sn(k)),ye=xe;return xe};fs();const Ln={http:gr,xhr:$s,fetch:{get:fs}};se.forEach(Ln,(x,k)=>{if(x){try{Object.defineProperty(x,"name",{value:k})}catch{}Object.defineProperty(x,"adapterName",{value:k})}});const rn=x=>`- ${x}`,vu=x=>se.isFunction(x)||x===null||x===!1;var Io={getAdapter:(x,k)=>{x=se.isArray(x)?x:[x];const{length:N}=x;let j,M;const J={};for(let V=0;V<N;V++){j=x[V];let de;if(M=j,!vu(j)&&(M=Ln[(de=String(j)).toLowerCase()],M===void 0))throw new We(`Unknown adapter '${de}'`);if(M&&(se.isFunction(M)||(M=M.get(k))))break;J[de||"#"+V]=M}if(!M){const V=Object.entries(J).map(([_e,xe])=>`adapter ${_e} `+(xe===!1?"is not supported by the environment":"is not available in the build"));let de=N?V.length>1?`since :
`+V.map(rn).join(`
`):" "+rn(V[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+de,"ERR_NOT_SUPPORT")}return M},adapters:Ln};function Mn(x){if(x.cancelToken&&x.cancelToken.throwIfRequested(),x.signal&&x.signal.aborted)throw new Dn(null,x)}function fl(x){return Mn(x),x.headers=yr.from(x.headers),x.data=ds.call(x,x.transformRequest),["post","put","patch"].indexOf(x.method)!==-1&&x.headers.setContentType("application/x-www-form-urlencoded",!1),Io.getAdapter(x.adapter||Ti.adapter,x)(x).then(function(j){return Mn(x),j.data=ds.call(x,x.transformResponse,j),j.headers=yr.from(j.headers),j},function(j){return nl(j)||(Mn(x),j&&j.response&&(j.response.data=ds.call(x,x.transformResponse,j.response),j.response.headers=yr.from(j.response.headers))),Promise.reject(j)})}const No="1.12.2",Un={};["object","boolean","number","function","string","symbol"].forEach((x,k)=>{Un[x]=function(j){return typeof j===x||"a"+(k<1?"n ":" ")+x}});const Po={};Un.transitional=function(k,N,j){function M(J,V){return"[Axios v"+No+"] Transitional option '"+J+"'"+V+(j?". "+j:"")}return(J,V,de)=>{if(k===!1)throw new We(M(V," has been removed"+(N?" in "+N:"")),We.ERR_DEPRECATED);return N&&!Po[V]&&(Po[V]=!0,console.warn(M(V," has been deprecated since v"+N+" and will be removed in the near future"))),k?k(J,V,de):!0}},Un.spelling=function(k){return(N,j)=>(console.warn(`${j} is likely a misspelling of ${k}`),!0)};function wu(x,k,N){if(typeof x!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const j=Object.keys(x);let M=j.length;for(;M-- >0;){const J=j[M],V=k[J];if(V){const de=x[J],_e=de===void 0||V(de,J,x);if(_e!==!0)throw new We("option "+J+" must be "+_e,We.ERR_BAD_OPTION_VALUE);continue}if(N!==!0)throw new We("Unknown option "+J,We.ERR_BAD_OPTION)}}var bn={assertOptions:wu,validators:Un};const Yt=bn.validators;class nn{constructor(k){this.defaults=k||{},this.interceptors={request:new ls,response:new ls}}async request(k,N){try{return await this._request(k,N)}catch(j){if(j instanceof Error){let M={};Error.captureStackTrace?Error.captureStackTrace(M):M=new Error;const J=M.stack?M.stack.replace(/^.+\n/,""):"";try{j.stack?J&&!String(j.stack).endsWith(J.replace(/^.+\n.+\n/,""))&&(j.stack+=`
`+J):j.stack=J}catch{}}throw j}}_request(k,N){typeof k=="string"?(N=N||{},N.url=k):N=k||{},N=en(this.defaults,N);const{transitional:j,paramsSerializer:M,headers:J}=N;j!==void 0&&bn.assertOptions(j,{silentJSONParsing:Yt.transitional(Yt.boolean),forcedJSONParsing:Yt.transitional(Yt.boolean),clarifyTimeoutError:Yt.transitional(Yt.boolean)},!1),M!=null&&(se.isFunction(M)?N.paramsSerializer={serialize:M}:bn.assertOptions(M,{encode:Yt.function,serialize:Yt.function},!0)),N.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?N.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:N.allowAbsoluteUrls=!0),bn.assertOptions(N,{baseUrl:Yt.spelling("baseURL"),withXsrfToken:Yt.spelling("withXSRFToken")},!0),N.method=(N.method||this.defaults.method||"get").toLowerCase();let V=J&&se.merge(J.common,J[N.method]);J&&se.forEach(["delete","get","head","post","put","patch","common"],Se=>{delete J[Se]}),N.headers=yr.concat(V,J);const de=[];let _e=!0;this.interceptors.request.forEach(function(Ke){typeof Ke.runWhen=="function"&&Ke.runWhen(N)===!1||(_e=_e&&Ke.synchronous,de.unshift(Ke.fulfilled,Ke.rejected))});const xe=[];this.interceptors.response.forEach(function(Ke){xe.push(Ke.fulfilled,Ke.rejected)});let ye,Ue=0,nt;if(!_e){const Se=[fl.bind(this),void 0];for(Se.unshift(...de),Se.push(...xe),nt=Se.length,ye=Promise.resolve(N);Ue<nt;)ye=ye.then(Se[Ue++],Se[Ue++]);return ye}nt=de.length;let Tt=N;for(;Ue<nt;){const Se=de[Ue++],Ke=de[Ue++];try{Tt=Se(Tt)}catch(Le){Ke.call(this,Le);break}}try{ye=fl.call(this,Tt)}catch(Se){return Promise.reject(Se)}for(Ue=0,nt=xe.length;Ue<nt;)ye=ye.then(xe[Ue++],xe[Ue++]);return ye}getUri(k){k=en(this.defaults,k);const N=ol(k.baseURL,k.url,k.allowAbsoluteUrls);return Xr(N,k.params,k.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(k){nn.prototype[k]=function(N,j){return this.request(en(j||{},{method:k,url:N,data:(j||{}).data}))}}),se.forEach(["post","put","patch"],function(k){function N(j){return function(J,V,de){return this.request(en(de||{},{method:k,headers:j?{"Content-Type":"multipart/form-data"}:{},url:J,data:V}))}}nn.prototype[k]=N(),nn.prototype[k+"Form"]=N(!0)});var Hn=nn;class Oo{constructor(k){if(typeof k!="function")throw new TypeError("executor must be a function.");let N;this.promise=new Promise(function(J){N=J});const j=this;this.promise.then(M=>{if(!j._listeners)return;let J=j._listeners.length;for(;J-- >0;)j._listeners[J](M);j._listeners=null}),this.promise.then=M=>{let J;const V=new Promise(de=>{j.subscribe(de),J=de}).then(M);return V.cancel=function(){j.unsubscribe(J)},V},k(function(J,V,de){j.reason||(j.reason=new Dn(J,V,de),N(j.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(k){if(this.reason){k(this.reason);return}this._listeners?this._listeners.push(k):this._listeners=[k]}unsubscribe(k){if(!this._listeners)return;const N=this._listeners.indexOf(k);N!==-1&&this._listeners.splice(N,1)}toAbortSignal(){const k=new AbortController,N=j=>{k.abort(j)};return this.subscribe(N),k.signal.unsubscribe=()=>this.unsubscribe(N),k.signal}static source(){let k;return{token:new Oo(function(M){k=M}),cancel:k}}}var Eu=Oo;function jo(x){return function(N){return x.apply(null,N)}}function Pi(x){return se.isObject(x)&&x.isAxiosError===!0}const Ws={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ws).forEach(([x,k])=>{Ws[k]=x});var hl=Ws;function sn(x){const k=new Hn(x),N=r(Hn.prototype.request,k);return se.extend(N,Hn.prototype,k,{allOwnKeys:!0}),se.extend(N,k,null,{allOwnKeys:!0}),N.create=function(M){return sn(en(x,M))},N}const pt=sn(Ti);return pt.Axios=Hn,pt.CanceledError=Dn,pt.CancelToken=Eu,pt.isCancel=nl,pt.VERSION=No,pt.toFormData=Jr,pt.AxiosError=We,pt.Cancel=pt.CanceledError,pt.all=function(k){return Promise.all(k)},pt.spread=jo,pt.isAxiosError=Pi,pt.mergeConfig=en,pt.AxiosHeaders=yr,pt.formToJSON=x=>el(se.isHTMLForm(x)?new FormData(x):x),pt.getAdapter=Io.getAdapter,pt.HttpStatusCode=hl,pt.default=pt,hh=pt,hh}var Rv;function Av(){if(Rv)return Or;Rv=1;var r=Or&&Or.__createBinding||(Object.create?(function(y,f,h,w){w===void 0&&(w=h);var S=Object.getOwnPropertyDescriptor(f,h);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(y,w,S)}):(function(y,f,h,w){w===void 0&&(w=h),y[w]=f[h]})),i=Or&&Or.__setModuleDefault||(Object.create?(function(y,f){Object.defineProperty(y,"default",{enumerable:!0,value:f})}):function(y,f){y.default=f}),s=Or&&Or.__importStar||(function(){var y=function(f){return y=Object.getOwnPropertyNames||function(h){var w=[];for(var S in h)Object.prototype.hasOwnProperty.call(h,S)&&(w[w.length]=S);return w},y(f)};return function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var w=y(f),S=0;S<w.length;S++)w[S]!=="default"&&r(h,f,w[S]);return i(h,f),h}})(),n=Or&&Or.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.AuthService=void 0;const a=n(Wa),l=Vh(),c=Ga(),m=n(os());class g{constructor(f,h,w){this.config=f.config,this.cache=w,this.httpClient=f,this.apiClient=h,this.tokenValidationTTL=this.config.cache?.tokenValidationTTL||900,this.minValidationTTL=this.config.cache?.minValidationTTL||60}isApiKeyToken(f){return this.config.apiKey!==void 0&&f===this.config.apiKey}extractUserIdFromToken(f){try{const h=m.default.decode(f);return h?h.sub||h.userId||h.user_id||h.id:null}catch{return null}}getTokenCacheKey(f){return`token_validation:${a.default.createHash("sha256").update(f).digest("hex")}`}getCacheTtlFromToken(f){try{const w=m.default.decode(f);if(!w||typeof w.exp!="number")return this.tokenValidationTTL;const S=Math.floor(Date.now()/1e3),E=w.exp-S-30;return Math.max(this.minValidationTTL,Math.min(E,this.tokenValidationTTL))}catch{return this.tokenValidationTTL}}generateCorrelationId(){const f=Date.now(),h=Math.random().toString(36).substring(2,8);return`${this.config.clientId.substring(0,10)}-${f}-${h}`}async getEnvironmentToken(){const f=this.generateCorrelationId(),h=this.config.clientId;try{const w=(await Promise.resolve().then(()=>s(I0()))).default,S=(0,c.resolveControllerUrl)(this.config),E=this.config.clientTokenUri||"/api/v1/auth/token",b=`${S}${E}`,C=w.create({baseURL:S,timeout:4e3,headers:{"Content-Type":"application/json","x-client-id":this.config.clientId,"x-client-secret":this.config.clientSecret}});console.log(`[getEnvironmentToken] Calling controller: ${b} [correlationId: ${f}, clientId: ${h}]`);const R=await C.post(E),P=R.data.data?.token||R.data.token;if(R.data.success&&P)return console.log(`[getEnvironmentToken] Successfully received token from controller [correlationId: ${f}]`),P;const O=JSON.stringify({status:R.status,statusText:R.statusText,data:R.data,headers:R.headers});throw new Error(`Failed to get environment token: Invalid response format. Expected {success: true, token: string}. Full response: ${O} [correlationId: ${f}, clientId: ${h}]`)}catch(w){if(w&&typeof w=="object"&&"isAxiosError"in w&&w.isAxiosError){const E=w,b=[];if(E.response)b.push(`status: ${E.response.status}`),b.push(`statusText: ${E.response.statusText}`),b.push(`data: ${JSON.stringify(E.response.data)}`),E.response.headers&&b.push(`headers: ${JSON.stringify(E.response.headers)}`);else if(E.request){const C=(0,c.resolveControllerUrl)(this.config),R=this.config.clientTokenUri||"/api/v1/auth/token";console.error(`[getEnvironmentToken] Controller unreachable or timeout: ${C}${R} [correlationId: ${f}, clientId: ${h}]`,E.message),b.push("request: [Request object - not serializable]"),b.push(`message: ${E.message}`),b.push(`controllerUrl: ${C}`)}else b.push(`message: ${E.message}`);throw new Error(`Failed to get environment token: ${E.message}. Full response: {${b.join(", ")}} [correlationId: ${f}, clientId: ${h}]`)}const S=w instanceof Error?w.message:"Unknown error";throw new Error(`Failed to get environment token: ${S} [correlationId: ${f}, clientId: ${h}]`)}}async login(f){const h=this.generateCorrelationId(),w=this.config.clientId;try{const S={redirect:f.redirect};f.state&&(S.state=f.state);const E=this.config.authStrategy,b=await this.apiClient.auth.login({redirect:f.redirect,state:f.state},E);return{success:b.success,data:{loginUrl:b.data.loginUrl,state:b.data.state||""},timestamp:b.timestamp}}catch(S){if(S instanceof l.MisoClientError){const b={statusCode:S.statusCode,message:S.message,errorResponse:S.errorResponse,errorBody:S.errorBody};throw new Error(`Login failed: ${S.message}. Full response: ${JSON.stringify(b)} [correlationId: ${h}, clientId: ${w}]`)}if(S&&typeof S=="object"&&"isAxiosError"in S&&S.isAxiosError){const b=S,C=[];throw b.response?(C.push(`status: ${b.response.status}`),C.push(`statusText: ${b.response.statusText}`),C.push(`data: ${JSON.stringify(b.response.data)}`),b.response.headers&&C.push(`headers: ${JSON.stringify(b.response.headers)}`)):b.request?(C.push("request: [Request object - not serializable]"),C.push(`message: ${b.message}`)):C.push(`message: ${b.message}`),new Error(`Login failed: ${b.message}. Full response: {${C.join(", ")}} [correlationId: ${h}, clientId: ${w}]`)}const E=S instanceof Error?S.message:"Unknown error";throw new Error(`Login failed: ${E} [correlationId: ${h}, clientId: ${w}]`)}}async validateToken(f,h){if(this.isApiKeyToken(f))return!0;try{const w=this.getTokenCacheKey(f),S=await this.cache.get(w);if(S)return S.authenticated;const E=h||this.config.authStrategy,b=E?{...E,bearerToken:f}:{methods:["bearer"],bearerToken:f},R=(await this.apiClient.auth.validateToken({token:f},b)).data?.authenticated||!1,P=this.getCacheTtlFromToken(f);return await this.cache.set(w,{authenticated:R,timestamp:Date.now()},P),R}catch{return!1}}async getUser(f,h){if(this.isApiKeyToken(f))return null;try{const w=h||this.config.authStrategy,S=w?{...w,bearerToken:f}:{methods:["bearer"],bearerToken:f},E=await this.apiClient.auth.validateToken({token:f},S);return E.data?.authenticated&&E.data.user?{id:E.data.user.id,username:E.data.user.username,email:E.data.user.email}:null}catch{return null}}async getUserInfo(f,h){if(this.isApiKeyToken(f))return null;try{const w=h||this.config.authStrategy,S=w?{...w,bearerToken:f}:{methods:["bearer"],bearerToken:f},E=await this.apiClient.auth.getUser(S);return E.data?.authenticated&&E.data.user?{id:E.data.user.id,username:E.data.user.username,email:E.data.user.email}:null}catch{return null}}clearTokenCache(f){try{const h=this.getTokenCacheKey(f);this.cache.delete(h)}catch(h){console.warn("Failed to clear token cache:",h)}}async logout(f){const h=this.generateCorrelationId(),w=this.config.clientId;try{const S=await this.apiClient.auth.logoutWithToken(f.token);return this.clearTokenCache(f.token),S}catch(S){if(S instanceof l.MisoClientError){if(S.statusCode===400){const C={statusCode:S.statusCode,message:S.message,errorResponse:S.errorResponse,errorBody:S.errorBody};return console.warn(`Logout: No active session or invalid request (400). Response: ${JSON.stringify(C)} [correlationId: ${h}, clientId: ${w}]`),this.clearTokenCache(f.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}}const b={statusCode:S.statusCode,message:S.message,errorResponse:S.errorResponse,errorBody:S.errorBody};throw new Error(`Logout failed: ${S.message}. Full response: ${JSON.stringify(b)} [correlationId: ${h}, clientId: ${w}]`)}if(S&&typeof S=="object"&&"isAxiosError"in S&&S.isAxiosError){const b=S;if(b.response?.status===400){const R=b.response.data?JSON.stringify(b.response.data):"No response data";return console.warn(`Logout: No active session or invalid request (400). Response: ${R} [correlationId: ${h}, clientId: ${w}]`),this.clearTokenCache(f.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}}const C=[];throw b.response?(C.push(`status: ${b.response.status}`),C.push(`statusText: ${b.response.statusText}`),C.push(`data: ${JSON.stringify(b.response.data)}`),b.response.headers&&C.push(`headers: ${JSON.stringify(b.response.headers)}`)):b.request?(C.push("request: [Request object - not serializable]"),C.push(`message: ${b.message}`)):C.push(`message: ${b.message}`),new Error(`Logout failed: ${b.message}. Full response: {${C.join(", ")}} [correlationId: ${h}, clientId: ${w}]`)}const E=S instanceof Error?S.message:"Unknown error";throw new Error(`Logout failed: ${E} [correlationId: ${h}, clientId: ${w}]`)}}async refreshToken(f,h){const w=this.generateCorrelationId(),S=this.config.clientId;try{const E=h||this.config.authStrategy,b=await this.apiClient.auth.refreshToken({refreshToken:f},E);return b.data?{success:b.success,accessToken:b.data.accessToken,refreshToken:b.data.refreshToken||f,expiresIn:b.data.expiresIn,expiresAt:b.timestamp,timestamp:b.timestamp}:null}catch(E){if(E instanceof l.MisoClientError){const C={statusCode:E.statusCode,message:E.message,errorResponse:E.errorResponse,errorBody:E.errorBody};return console.error(`Refresh token failed: ${E.message}. Full response: ${JSON.stringify(C)} [correlationId: ${w}, clientId: ${S}]`),null}if(E&&typeof E=="object"&&"isAxiosError"in E&&E.isAxiosError){const C=E,R=[];return C.response?(R.push(`status: ${C.response.status}`),R.push(`statusText: ${C.response.statusText}`),R.push(`data: ${JSON.stringify(C.response.data)}`),C.response.headers&&R.push(`headers: ${JSON.stringify(C.response.headers)}`)):C.request?(R.push("request: [Request object - not serializable]"),R.push(`message: ${C.message}`)):R.push(`message: ${C.message}`),console.error(`Refresh token failed: ${C.message}. Full response: {${R.join(", ")}} [correlationId: ${w}, clientId: ${S}]`),null}const b=E instanceof Error?E.message:"Unknown error";return console.error(`Refresh token failed: ${b} [correlationId: ${w}, clientId: ${S}]`),null}}async isAuthenticated(f,h){return this.validateToken(f,h)}}return Or.AuthService=g,Or}var ai={},Iv;function Nv(){if(Iv)return ai;Iv=1;var r=ai&&ai.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ai,"__esModule",{value:!0}),ai.RoleService=void 0;const i=r(os());class s{constructor(a,l,c){this.config=a.config,this.cache=c,this.httpClient=a,this.apiClient=l,this.roleTTL=this.config.cache?.roleTTL||900}extractUserIdFromToken(a){try{const l=i.default.decode(a);return l?l.sub||l.userId||l.user_id||l.id:null}catch{return null}}async getRoles(a,l){try{let c=this.extractUserIdFromToken(a);const m=c?`roles:${c}`:null;if(m){const S=await this.cache.get(m);if(S)return S.roles||[]}if(!c){const S=l||this.config.authStrategy,E=S?{...S,bearerToken:a}:{methods:["bearer"],bearerToken:a};if(c=(await this.apiClient.auth.validateToken({token:a},E)).data?.user?.id||null,!c)return[]}const g=l||this.config.authStrategy,y=g?{...g,bearerToken:a}:{methods:["bearer"],bearerToken:a},h=(await this.apiClient.roles.getRoles(void 0,y)).data?.roles||[],w=`roles:${c}`;return await this.cache.set(w,{roles:h,timestamp:Date.now()},this.roleTTL),h}catch(c){return console.error("Failed to get roles:",c),[]}}async hasRole(a,l,c){return(await this.getRoles(a,c)).includes(l)}async hasAnyRole(a,l,c){const m=await this.getRoles(a,c);return l.some(g=>m.includes(g))}async hasAllRoles(a,l,c){const m=await this.getRoles(a,c);return l.every(g=>m.includes(g))}async refreshRoles(a,l){try{const c=l||this.config.authStrategy,m=c?{...c,bearerToken:a}:{methods:["bearer"],bearerToken:a},g=await this.apiClient.auth.validateToken({token:a},m);if(!g.data?.user?.id)return[];const f=`roles:${g.data.user.id}`,w=(await this.apiClient.roles.refreshRoles(m)).data?.roles||[];return await this.cache.set(f,{roles:w,timestamp:Date.now()},this.roleTTL),w}catch(c){return console.error("Failed to refresh roles:",c),[]}}}return ai.RoleService=s,ai}var li={},Pv;function Ov(){if(Pv)return li;Pv=1;var r=li&&li.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(li,"__esModule",{value:!0}),li.PermissionService=void 0;const i=r(os());class s{constructor(a,l,c){this.config=a.config,this.cache=c,this.httpClient=a,this.apiClient=l,this.permissionTTL=this.config.cache?.permissionTTL||900}extractUserIdFromToken(a){try{const l=i.default.decode(a);return l?l.sub||l.userId||l.user_id||l.id:null}catch{return null}}async getPermissions(a,l){try{let c=this.extractUserIdFromToken(a);const m=c?`permissions:${c}`:null;if(m){const S=await this.cache.get(m);if(S)return S.permissions||[]}if(!c){const S=l||this.config.authStrategy,E=S?{...S,bearerToken:a}:{methods:["bearer"],bearerToken:a};if(c=(await this.apiClient.auth.validateToken({token:a},E)).data?.user?.id||null,!c)return[]}const g=l||this.config.authStrategy,y=g?{...g,bearerToken:a}:{methods:["bearer"],bearerToken:a},h=(await this.apiClient.permissions.getPermissions(void 0,y)).data?.permissions||[],w=`permissions:${c}`;return await this.cache.set(w,{permissions:h,timestamp:Date.now()},this.permissionTTL),h}catch(c){return console.error("Failed to get permissions:",c),[]}}async hasPermission(a,l,c){return(await this.getPermissions(a,c)).includes(l)}async hasAnyPermission(a,l,c){const m=await this.getPermissions(a,c);return l.some(g=>m.includes(g))}async hasAllPermissions(a,l,c){const m=await this.getPermissions(a,c);return l.every(g=>m.includes(g))}async refreshPermissions(a,l){try{const c=l||this.config.authStrategy,m=c?{...c,bearerToken:a}:{methods:["bearer"],bearerToken:a},g=await this.apiClient.auth.validateToken({token:a},m);if(!g.data?.user?.id)return[];const f=`permissions:${g.data.user.id}`,w=(await this.apiClient.permissions.refreshPermissions(m)).data?.permissions||[];return await this.cache.set(f,{permissions:w,timestamp:Date.now()},this.permissionTTL),w}catch(c){return console.error("Failed to refresh permissions:",c),[]}}async clearPermissionsCache(a,l){try{const c=l||this.config.authStrategy,m=c?{...c,bearerToken:a}:{methods:["bearer"],bearerToken:a},g=await this.apiClient.auth.validateToken({token:a},m);if(!g.data?.user?.id)return;const f=`permissions:${g.data.user.id}`;await this.cache.delete(f)}catch(c){console.error("Failed to clear permissions cache:",c)}}}return li.PermissionService=s,li}var es={};class tu{constructor(){this._events=new Map}on(i,s){return this._events.has(i)||this._events.set(i,[]),this._events.get(i).push(s),this}once(i,s){const n=(...a)=>{this.removeListener(i,n),s(...a)};return this.on(i,n),this}emit(i,...s){const n=this._events.get(i);return n&&n.length>0?(n.forEach(a=>{try{a(...s)}catch(l){console.error("EventEmitter error:",l)}}),!0):!1}removeListener(i,s){const n=this._events.get(i);if(n){const a=n.indexOf(s);a>-1&&n.splice(a,1)}return this}removeAllListeners(i){return i?this._events.delete(i):this._events.clear(),this}off(i,s){return this.removeListener(i,s)}addListener(i,s){return this.on(i,s)}}const Ei={EventEmitter:tu};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Ei,Fe.exports.default=Ei,Fe.exports.EventEmitter=tu,Fe.exports.events=Ei);typeof tt<"u"&&(tt.default=Ei,tt.events=Ei,tt.EventEmitter=tu);const gC=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:tu,default:Ei,events:Ei},Symbol.toStringTag,{value:"Module"}));var ca={},Tr={};const jv={},yC=Object.freeze(Object.defineProperty({__proto__:null,default:jv,fs:jv},Symbol.toStringTag,{value:"Module"})),vC=Fc(yC),Dv={join:(...r)=>r.join("/"),resolve:(...r)=>r.join("/"),dirname:()=>"",basename:()=>"",extname:()=>""},wC=Object.freeze(Object.defineProperty({__proto__:null,default:Dv,path:Dv},Symbol.toStringTag,{value:"Module"})),EC=Fc(wC),SC="1.0.0",xC="ISO 27001 compliant sensitive fields configuration for data masking",bC={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},CC=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],TC={version:SC,description:xC,categories:bC,fieldPatterns:CC};var Lv;function kC(){if(Lv)return Tr;Lv=1;var r={},i=Tr&&Tr.__createBinding||(Object.create?(function(S,E,b,C){C===void 0&&(C=b);var R=Object.getOwnPropertyDescriptor(E,b);(!R||("get"in R?!E.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return E[b]}}),Object.defineProperty(S,C,R)}):(function(S,E,b,C){C===void 0&&(C=b),S[C]=E[b]})),s=Tr&&Tr.__setModuleDefault||(Object.create?(function(S,E){Object.defineProperty(S,"default",{enumerable:!0,value:E})}):function(S,E){S.default=E}),n=Tr&&Tr.__importStar||(function(){var S=function(E){return S=Object.getOwnPropertyNames||function(b){var C=[];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(C[C.length]=R);return C},S(E)};return function(E){if(E&&E.__esModule)return E;var b={};if(E!=null)for(var C=S(E),R=0;R<C.length;R++)C[R]!=="default"&&i(b,E,C[R]);return s(b,E),b}})(),a=Tr&&Tr.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.loadSensitiveFieldsConfig=f,Tr.getFieldPatterns=h,Tr.getSensitiveFieldsArray=w;const l=n(vC),c=n(EC),m=a(TC);function g(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function y(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function f(S){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return g();try{if(S||r.MISO_SENSITIVE_FIELDS_CONFIG){let E;if(S)E=c.isAbsolute(S)?S:c.resolve(process.cwd(),S);else{const O=r.MISO_SENSITIVE_FIELDS_CONFIG;E=c.isAbsolute(O)?O:c.resolve(process.cwd(),O)}if(!l.existsSync(E))return g();const b=l.readFileSync(E,"utf8"),C=JSON.parse(b),R=new Set;return Object.values(C.categories).forEach(O=>{O.forEach(D=>R.add(D.toLowerCase()))}),g().forEach(O=>R.add(O)),R}try{const E=m.default,b=new Set;return Object.values(E.categories).forEach(R=>{R.forEach(P=>b.add(P.toLowerCase()))}),g().forEach(R=>b.add(R)),b}catch{const E=c.join(__dirname,"sensitive-fields.config.json");if(l.existsSync(E)){const b=l.readFileSync(E,"utf8"),C=JSON.parse(b),R=new Set;return Object.values(C.categories).forEach(O=>{O.forEach(D=>R.add(D.toLowerCase()))}),g().forEach(O=>R.add(O)),R}}return g()}catch{return g()}}function h(S){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return y();try{if(S||r.MISO_SENSITIVE_FIELDS_CONFIG){let E;if(S)E=c.isAbsolute(S)?S:c.resolve(process.cwd(),S);else{const R=r.MISO_SENSITIVE_FIELDS_CONFIG;E=c.isAbsolute(R)?R:c.resolve(process.cwd(),R)}if(!l.existsSync(E))return y();const b=l.readFileSync(E,"utf8");return JSON.parse(b).fieldPatterns||y()}try{return m.default.fieldPatterns||y()}catch{const E=c.join(__dirname,"sensitive-fields.config.json");if(l.existsSync(E)){const b=l.readFileSync(E,"utf8");return JSON.parse(b).fieldPatterns||y()}}return y()}catch{return y()}}function w(S){const E=f(S);return Array.from(E)}return Tr}var Mv;function Si(){if(Mv)return ca;Mv=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.DataMasker=void 0;const r=kC();class i{static initializeSensitiveFields(n){return this.configPath!==n&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=n),this.cachedFields?this.cachedFields:(this.cachedFields=(0,r.loadSensitiveFieldsConfig)(n),this.cachedFieldPatterns=(0,r.getFieldPatterns)(n),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,r.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(n){this.configPath=n,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(n){const a=this.getSensitiveFields(),l=this.getFieldPatterns(),c=n.toLowerCase().replace(/[_-]/g,"");if(a.has(c))return!0;for(const m of l)if(c.includes(m.toLowerCase()))return!0;return!1}static maskSensitiveData(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(l=>this.maskSensitiveData(l));const a={};for(const[l,c]of Object.entries(n))this.isSensitiveField(l)?a[l]=this.MASKED_VALUE:typeof c=="object"&&c!==null?a[l]=this.maskSensitiveData(c):a[l]=c;return a}static maskValue(n,a=0,l=0){if(!n||n.length<=a+l)return this.MASKED_VALUE;const c=n.substring(0,a),m=n.substring(n.length-l),g="*".repeat(Math.min(8,n.length-a-l));return`${c}${g}${m}`}static containsSensitiveData(n){if(n==null||typeof n!="object")return!1;if(Array.isArray(n))return n.some(a=>this.containsSensitiveData(a));for(const[a,l]of Object.entries(n))if(this.isSensitiveField(a)||typeof l=="object"&&l!==null&&this.containsSensitiveData(l))return!0;return!1}}return ca.DataMasker=i,i.MASKED_VALUE="***MASKED***",i.cachedFields=null,i.cachedFieldPatterns=null,i.configPath=void 0,ca}var ua={},Uv;function _C(){if(Uv)return ua;Uv=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.AuditLogQueue=void 0;class r{constructor(s,n,a,l){this.queue=[],this.flushTimer=null,this.isFlushing=!1,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.httpClient=s,this.redis=n,this.config=a,this.eventEmitter=l;const c=a.audit||{};this.batchSize=c.batchSize??10,this.batchInterval=c.batchInterval??100,typeof process<"u"&&(process.on("SIGINT",()=>this.flush(!0)),process.on("SIGTERM",()=>this.flush(!0)),process.on("beforeExit",()=>this.flush(!0)))}setApiClient(s){this.apiClient=s}async add(s){if(this.queue.push({entry:s,timestamp:Date.now()}),this.queue.length>=this.batchSize){await this.flush(!1);return}!this.flushTimer&&this.queue.length>0&&(this.flushTimer=setTimeout(()=>{this.flush(!1).catch(()=>{})},this.batchInterval))}async flush(s=!1){if(!this.isFlushing&&(this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue.length!==0)){this.isFlushing=!0;try{const n=this.queue.splice(0);if(n.length===0){this.isFlushing=!1;return}const a=n.map(c=>c.entry);if(this.config.emitEvents&&this.eventEmitter){this.eventEmitter.emit("log:batch",a),this.isFlushing=!1;return}if(this.redis.isConnected()){const c=`audit-logs:${this.config.clientId}`;if(await this.redis.rpush(c,JSON.stringify(a))){this.isFlushing=!1;return}}const l=Date.now();if(this.httpLoggingDisabledUntil&&l<this.httpLoggingDisabledUntil)return;try{this.apiClient?await this.apiClient.logs.createBatchLogs({logs:a.map(c=>({...c,environment:void 0,application:void 0}))}):await this.httpClient.request("POST","/api/v1/logs/batch",{logs:a.map(c=>({...c,environment:void 0,application:void 0}))}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch{this.httpLoggingFailures++,this.httpLoggingFailures>=r.MAX_FAILURES&&(this.httpLoggingDisabledUntil=l+r.DISABLE_DURATION_MS,this.httpLoggingFailures=0)}}catch{}finally{this.isFlushing=!1}}}getQueueSize(){return this.queue.length}clear(){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue=[]}}return ua.AuditLogQueue=r,r.MAX_FAILURES=3,r.DISABLE_DURATION_MS=6e4,ua}var oo={},Hv;function N0(){if(Hv)return oo;Hv=1;var r=oo&&oo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(oo,"__esModule",{value:!0}),oo.extractRequestContext=n;const i=r(os());function s(a){const c=(a.headers||{}).authorization;if(!c?.startsWith("Bearer "))return{};try{const m=c.substring(7),g=i.default.decode(m);return g?{userId:g.sub||g.userId||g.user_id||g.id,sessionId:g.sessionId||g.sid}:{}}catch{return{}}}function n(a){const l=a.headers||{},c=a.ip||l["x-forwarded-for"]?.split(",")[0]?.trim()||a.socket?.remoteAddress,m=l["x-correlation-id"]||l["x-request-id"]||l["request-id"],{userId:g,sessionId:y}=s(a);return{ipAddress:c,method:a.method,path:a.originalUrl||a.path,userAgent:l["user-agent"],correlationId:m,referer:l.referer,userId:g,sessionId:y,requestId:l["x-request-id"],requestSize:l["content-length"]?parseInt(l["content-length"],10):void 0}}return oo}var qv;function _h(){if(qv)return es;qv=1;var r={},i=es&&es.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(es,"__esModule",{value:!0}),es.LoggerChain=es.LoggerService=void 0;const s=gC,n=Si(),a=_C(),l=N0(),c=i(os());class m extends s.EventEmitter{constructor(f,h){super(),this.maskSensitiveData=!0,this.correlationCounter=0,this.auditLogQueue=null,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.config=f.config,this.redis=h,this.httpClient=f;const w=this.config.audit||{};(w.batchSize!==void 0||w.batchInterval!==void 0)&&(this.auditLogQueue=new a.AuditLogQueue(f,h,this.config,this))}setApiClient(f){this.apiClient=f,this.auditLogQueue&&this.auditLogQueue.setApiClient(f)}setMasking(f){this.maskSensitiveData=f}generateCorrelationId(){this.correlationCounter=(this.correlationCounter+1)%1e4;const f=Date.now(),h=Math.random().toString(36).substring(2,8);return`${this.config.clientId.substring(0,10)}-${f}-${this.correlationCounter}-${h}`}extractJWTContext(f){if(!f)return{};try{const h=c.default.decode(f);return h?{userId:h.sub||h.userId||h.user_id,applicationId:h.applicationId||h.app_id,sessionId:h.sessionId||h.sid,roles:h.roles||h.realm_access?.roles||[],permissions:h.permissions||h.scope?.split(" ")||[]}:{}}catch{return{}}}extractMetadata(){const f={};if(typeof globalThis<"u"&&"window"in globalThis){const h=globalThis,w=h.window?.navigator,S=h.window?.location;f.userAgent=w?.userAgent,f.hostname=S?.hostname}return typeof process<"u"&&r&&(f.hostname=r.HOSTNAME||"unknown"),f}async error(f,h,w,S){await this.log("error",f,h,w,S)}async audit(f,h,w,S){const E={action:f,resource:h,...w};await this.log("audit",`Audit: ${f} on ${h}`,E,void 0,S)}async info(f,h,w){await this.log("info",f,h,void 0,w)}async debug(f,h,w){this.config.logLevel==="debug"&&await this.log("debug",f,h,void 0,w)}async log(f,h,w,S,E){const b=E?.token?this.extractJWTContext(E.token):{},C=this.extractMetadata(),R=E?.correlationId||this.generateCorrelationId(),O=E?.maskSensitiveData!==!1&&this.maskSensitiveData&&w?n.DataMasker.maskSensitiveData(w):w,D={timestamp:new Date().toISOString(),level:f,environment:"unknown",application:this.config.clientId,applicationId:E?.applicationId||"",message:h,context:O,stackTrace:S,correlationId:R,userId:E?.userId||b.userId,sessionId:E?.sessionId||b.sessionId,requestId:E?.requestId,ipAddress:E?.ipAddress||C.ipAddress,userAgent:E?.userAgent||C.userAgent,...C,sourceKey:E?.sourceKey,sourceDisplayName:E?.sourceDisplayName,externalSystemKey:E?.externalSystemKey,externalSystemDisplayName:E?.externalSystemDisplayName,recordKey:E?.recordKey,recordDisplayName:E?.recordDisplayName,credentialId:E?.credentialId,credentialType:E?.credentialType,requestSize:E?.requestSize,responseSize:E?.responseSize,durationMs:E?.durationMs,errorCategory:E?.errorCategory,httpStatusCategory:E?.httpStatusCategory};if(this.config.emitEvents){this.emit("log",D);return}if(f==="audit"&&this.auditLogQueue){await this.auditLogQueue.add(D);return}if(this.redis.isConnected()){const T=`logs:${this.config.clientId}`;if(await this.redis.rpush(T,JSON.stringify(D)))return}const B=Date.now();if(!(this.httpLoggingDisabledUntil&&B<this.httpLoggingDisabledUntil))try{if(this.apiClient){const T=f==="audit"?"audit":f==="error"?"error":"general",I=f==="audit"?"info":f==="error"?"error":f==="info"?"info":"debug",A={...D.context,userId:D.userId,sessionId:D.sessionId,requestId:D.requestId,ipAddress:D.ipAddress,userAgent:D.userAgent,hostname:D.hostname,applicationId:D.applicationId,sourceKey:D.sourceKey,sourceDisplayName:D.sourceDisplayName,externalSystemKey:D.externalSystemKey,externalSystemDisplayName:D.externalSystemDisplayName,recordKey:D.recordKey,recordDisplayName:D.recordDisplayName,credentialId:D.credentialId,credentialType:D.credentialType,requestSize:D.requestSize,responseSize:D.responseSize,durationMs:D.durationMs,errorCategory:D.errorCategory,httpStatusCategory:D.httpStatusCategory};Object.keys(A).forEach(H=>{A[H]===void 0&&delete A[H]}),D.stackTrace&&(A.stackTrace=D.stackTrace),await this.apiClient.logs.createLog({type:T,data:{level:I,message:D.message,context:A,correlationId:D.correlationId}})}else await this.httpClient.request("POST","/api/v1/logs",{...D,environment:void 0,application:void 0});this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch{this.httpLoggingFailures++,this.httpLoggingFailures>=m.MAX_FAILURES&&(this.httpLoggingDisabledUntil=B+m.DISABLE_DURATION_MS,this.httpLoggingFailures=0)}}withContext(f){return new g(this,f)}withToken(f){return new g(this,{},{token:f})}withoutMasking(){return new g(this,{},{maskSensitiveData:!1})}forRequest(f){return new g(this,{},{}).withRequest(f)}}es.LoggerService=m,m.MAX_FAILURES=3,m.DISABLE_DURATION_MS=6e4;class g{constructor(f,h={},w={}){this.logger=f,this.context=h,this.options=w}addContext(f,h){return this.context[f]=h,this}addUser(f){return this.options.userId=f,this}addApplication(f){return this.options.applicationId=f,this}addCorrelation(f){return this.options.correlationId=f,this}withToken(f){return this.options.token=f,this}withoutMasking(){return this.options.maskSensitiveData=!1,this}withIndexedContext(f){return this.options.sourceKey=f.sourceKey,this.options.sourceDisplayName=f.sourceDisplayName,this.options.externalSystemKey=f.externalSystemKey,this.options.externalSystemDisplayName=f.externalSystemDisplayName,this.options.recordKey=f.recordKey,this.options.recordDisplayName=f.recordDisplayName,this}withCredentialContext(f,h){return this.options.credentialId=f,this.options.credentialType=h,this}withRequestMetrics(f,h,w){return this.options.requestSize=f,this.options.responseSize=h,this.options.durationMs=w,this}withRequest(f){const h=(0,l.extractRequestContext)(f);return h.userId&&(this.options.userId=h.userId),h.sessionId&&(this.options.sessionId=h.sessionId),h.correlationId&&(this.options.correlationId=h.correlationId),h.requestId&&(this.options.requestId=h.requestId),h.ipAddress&&(this.options.ipAddress=h.ipAddress),h.userAgent&&(this.options.userAgent=h.userAgent),h.method&&(this.context.method=h.method),h.path&&(this.context.path=h.path),h.referer&&(this.context.referer=h.referer),h.requestSize!==void 0&&(this.context.requestSize=h.requestSize),this}async error(f,h){await this.logger.error(f,this.context,h,this.options)}async info(f){await this.logger.info(f,this.context,this.options)}async audit(f,h){await this.logger.audit(f,h,this.context,this.options)}}return es.LoggerChain=g,es}var ci={};class op{constructor(i){this.options=i||{},this.connected=!1}async connect(){return console.warn("[Redis Stub] Redis.connect() called in browser - Redis is server-side only"),this.connected=!0,Promise.resolve()}async disconnect(){return this.connected=!1,Promise.resolve()}async get(i){return null}async set(i,s){return"OK"}async del(i){return 0}async rpush(i,s){return 0}async lpop(i){return null}async exists(i){return 0}async expire(i,s){return 0}async keys(i){return[]}isConnected(){return!1}on(){return this}off(){return this}once(){return Promise.resolve({})}emit(){return!1}}const Nc=op;typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Nc,Fe.exports.default=Nc,Fe.exports.Redis=op);const RC=Object.freeze(Object.defineProperty({__proto__:null,Redis:Nc,RedisStub:op,default:Nc},Symbol.toStringTag,{value:"Module"}));var Fv;function Rh(){if(Fv)return ci;Fv=1;var r=ci&&ci.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ci,"__esModule",{value:!0}),ci.RedisService=void 0;const i=r(RC);class s{constructor(a){this.connected=!1,this.config=a}async connect(){if(this.config)try{this.redis=new i.default({host:this.config.host,port:this.config.port,password:this.config.password,db:this.config.db||0,keyPrefix:this.config.keyPrefix||"miso:",maxRetriesPerRequest:3,lazyConnect:!0}),await this.redis.connect(),this.connected=!0}catch(a){throw console.error("Failed to connect to Redis:",a),this.connected=!1,a}}async disconnect(){this.redis&&(await this.redis.disconnect(),this.connected=!1)}async get(a){if(!this.redis||!this.connected)return null;try{return await this.redis.get(a)}catch(l){return console.error("Redis get error:",l),null}}async set(a,l,c){if(!this.redis||!this.connected)return!1;try{return await this.redis.setex(a,c,l),!0}catch(m){return console.error("Redis set error:",m),!1}}async delete(a){if(!this.redis||!this.connected)return!1;try{return await this.redis.del(a),!0}catch(l){return console.error("Redis delete error:",l),!1}}async rpush(a,l){if(!this.redis||!this.connected)return!1;try{return await this.redis.rpush(a,l),!0}catch(c){return console.error("Redis rpush error:",c),!1}}isConnected(){return this.connected}}return ci.RedisService=s,ci}var da={},zv;function Ah(){if(zv)return da;zv=1,Object.defineProperty(da,"__esModule",{value:!0}),da.CacheService=void 0;class r{constructor(s){this.memoryCache=new Map,this.redis=s,this.cleanupInterval=setInterval(()=>{this.cleanupExpired()},300*1e3),this.cleanupInterval&&typeof this.cleanupInterval.unref=="function"&&this.cleanupInterval.unref()}cleanupExpired(){const s=Date.now(),n=[];for(const[a,l]of this.memoryCache.entries())l.expiresAt<s&&n.push(a);for(const a of n)this.memoryCache.delete(a)}async get(s){try{if(this.redis&&this.redis.isConnected()){const a=await this.redis.get(s);if(a)try{const l=JSON.parse(a);return this.setInMemory(s,l,300),l}catch(l){return console.warn(`Failed to parse cached data for key ${s}:`,l),await this.delete(s),null}}const n=this.memoryCache.get(s);return n?n.expiresAt<Date.now()?(this.memoryCache.delete(s),null):n.value:null}catch{const a=this.memoryCache.get(s);return a&&a.expiresAt>=Date.now()?a.value:null}}async set(s,n,a){try{const l=JSON.stringify(n);let c=!0;return this.redis&&this.redis.isConnected()&&(c=await this.redis.set(s,l,a)),this.setInMemory(s,n,a),c}catch(l){try{return this.setInMemory(s,n,a),!1}catch{return console.error(`Failed to cache value for key ${s}:`,l),!1}}}setInMemory(s,n,a){const l=Date.now()+a*1e3;this.memoryCache.set(s,{value:n,expiresAt:l})}async delete(s){let n=!1;this.redis&&this.redis.isConnected()&&(n=await this.redis.delete(s));const a=this.memoryCache.delete(s);return n||a}async clear(){this.memoryCache.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=void 0),this.memoryCache.clear()}}return da.CacheService=r,da}var fa={},fn={},gc={},$v;function P0(){if($v)return gc;$v=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.isErrorResponse=r;function r(i){if(!i||typeof i!="object")return!1;const s=i;return!(!Array.isArray(s.errors)||!s.errors.every(n=>typeof n=="string")||typeof s.type!="string"||typeof s.title!="string"||typeof s.statusCode!="number"||s.instance!==void 0&&typeof s.instance!="string")}return gc}var ha={},Bv;function O0(){if(Bv)return ha;Bv=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.AuthStrategyHandler=void 0;class r{static buildAuthHeaders(s,n,a,l){const c={};for(const m of s.methods)switch(m){case"bearer":if(s.bearerToken)return c.Authorization=`Bearer ${s.bearerToken}`,c;break;case"client-token":if(n)return c["x-client-token"]=n,c;break;case"client-credentials":if(a&&l)return c["x-client-id"]=a,c["x-client-secret"]=l,c;break;case"api-key":if(s.apiKey)return c.Authorization=`Bearer ${s.apiKey}`,c;break}return c}static shouldTryMethod(s,n){if(!n.methods.includes(s))return!1;switch(s){case"bearer":return!!n.bearerToken;case"client-token":return!0;case"client-credentials":return!0;case"api-key":return!!n.apiKey;default:return!1}}static getDefaultStrategy(s){return{methods:["bearer","client-token"],bearerToken:s}}static mergeStrategy(s,n){return s?{methods:s.methods.length>0?s.methods:n.methods,bearerToken:s.bearerToken||n.bearerToken,apiKey:s.apiKey||n.apiKey}:n}}return ha.AuthStrategyHandler=r,ha}var Kv;function ap(){if(Kv)return fn;Kv=1;var r=fn&&fn.__createBinding||(Object.create?(function(y,f,h,w){w===void 0&&(w=h);var S=Object.getOwnPropertyDescriptor(f,h);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(y,w,S)}):(function(y,f,h,w){w===void 0&&(w=h),y[w]=f[h]})),i=fn&&fn.__setModuleDefault||(Object.create?(function(y,f){Object.defineProperty(y,"default",{enumerable:!0,value:f})}):function(y,f){y.default=f}),s=fn&&fn.__importStar||(function(){var y=function(f){return y=Object.getOwnPropertyNames||function(h){var w=[];for(var S in h)Object.prototype.hasOwnProperty.call(h,S)&&(w[w.length]=S);return w},y(f)};return function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var w=y(f),S=0;S<w.length;S++)w[S]!=="default"&&r(h,f,w[S]);return i(h,f),h}})();Object.defineProperty(fn,"__esModule",{value:!0}),fn.InternalHttpClient=void 0;const n=s(I0()),a=P0(),l=Vh(),c=O0(),m=Ga();class g{constructor(f){this.clientToken=null,this.tokenExpiresAt=null,this.tokenRefreshPromise=null,this.config=f,f.clientToken&&(this.clientToken=f.clientToken,f.clientTokenExpiresAt&&(this.tokenExpiresAt=typeof f.clientTokenExpiresAt=="string"?new Date(f.clientTokenExpiresAt):f.clientTokenExpiresAt)),this.axios=n.default.create({baseURL:(0,m.resolveControllerUrl)(f),timeout:3e4,headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use(async h=>{if(h.headers=h.headers||{},!h.headers["x-client-token"]&&!h.headers["x-client-id"]){const w=await this.getClientToken();w?h.headers["x-client-token"]=w:console.warn("Client token is not available. Ensure clientSecret or onClientTokenRefresh is configured.")}return h},h=>Promise.reject(h)),this.axios.interceptors.response.use(h=>h,h=>(h.response?.status===401&&(h.message="Authentication failed - token may be invalid",this.clientToken=null,this.tokenExpiresAt=null),Promise.reject(h)))}async getClientToken(){const f=new Date;if(this.clientToken&&this.tokenExpiresAt&&this.tokenExpiresAt>new Date(f.getTime()+6e4))return this.clientToken;if(this.tokenRefreshPromise)return this.tokenRefreshPromise;if(this.config.onClientTokenRefresh){this.tokenRefreshPromise=this.refreshClientTokenFromCallback();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}if(this.config.clientSecret){this.tokenRefreshPromise=this.fetchClientToken();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}return null}async refreshClientTokenFromCallback(){if(!this.config.onClientTokenRefresh)throw new Error("Client token expired and no refresh callback provided");try{const f=await this.config.onClientTokenRefresh();if(this.clientToken=f.token,f.expiresIn){const h=f.expiresIn-30;this.tokenExpiresAt=new Date(Date.now()+h*1e3)}return this.clientToken}catch(f){throw this.clientToken=null,this.tokenExpiresAt=null,f}}generateCorrelationId(){const f=Date.now(),h=Math.random().toString(36).substring(2,8);return`${this.config.clientId.substring(0,10)}-${f}-${h}`}async fetchClientToken(){if(!this.config.clientSecret)throw new Error("Cannot fetch client token: clientSecret is required but not provided");const f=this.generateCorrelationId(),h=this.config.clientId;try{const S=await n.default.create({baseURL:(0,m.resolveControllerUrl)(this.config),timeout:3e4,headers:{"Content-Type":"application/json","x-client-id":this.config.clientId,"x-client-secret":this.config.clientSecret}}).post("/api/v1/auth/token"),E=S.data.data?.token||S.data.token,b=S.data.data?.expiresIn||S.data.expiresIn;if(S.data.success&&E){if(this.clientToken=E,b){const R=b-30;this.tokenExpiresAt=new Date(Date.now()+R*1e3)}return this.clientToken}const C=JSON.stringify({status:S.status,statusText:S.statusText,data:S.data,headers:S.headers});throw new Error(`Failed to get client token: Invalid response format. Expected {success: true, token: string}. Full response: ${C} [correlationId: ${f}, clientId: ${h}]`)}catch(w){if(this.isAxiosError(w)){const E=[];throw w.response?(E.push(`status: ${w.response.status}`),E.push(`statusText: ${w.response.statusText}`),E.push(`data: ${JSON.stringify(w.response.data)}`),w.response.headers&&E.push(`headers: ${JSON.stringify(w.response.headers)}`)):w.request?(E.push(`request: ${JSON.stringify(w.request)}`),E.push(`message: ${w.message}`)):E.push(`message: ${w.message}`),new Error(`Failed to get client token: ${w.message}. Full response: {${E.join(", ")}} [correlationId: ${f}, clientId: ${h}]`)}const S=w instanceof Error?w.message:"Unknown error";throw new Error(`Failed to get client token: ${S} [correlationId: ${f}, clientId: ${h}]`)}}isAxiosError(f){return f instanceof n.AxiosError?!0:typeof f=="object"&&f!==null&&"isAxiosError"in f?f.isAxiosError===!0:!1}parseErrorResponse(f,h){try{if(!f.response?.data)return null;const w=f.response.data;if(typeof w=="object"&&w!==null&&(0,a.isErrorResponse)(w))return{errors:w.errors,type:w.type,title:w.title,statusCode:w.statusCode,instance:w.instance||h};if(typeof w=="string")try{const S=JSON.parse(w);if((0,a.isErrorResponse)(S))return{errors:S.errors,type:S.type,title:S.title,statusCode:S.statusCode,instance:S.instance||h}}catch{return null}return null}catch{return null}}createMisoClientError(f,h){const w=f.response?.status,S=this.parseErrorResponse(f,h);let E;f.response?.data&&typeof f.response.data=="object"&&(E=f.response.data);let b=f.message||"Request failed";return f.response&&(b=f.response.statusText||`Request failed with status code ${w}`),new l.MisoClientError(b,S||void 0,E,w)}getAxiosInstance(){return this.axios}async get(f,h){try{return(await this.axios.get(f,h)).data}catch(w){if(this.isAxiosError(w)){const S=w.config?.url||f;throw this.createMisoClientError(w,S)}throw w}}async post(f,h,w){try{return(await this.axios.post(f,h,w)).data}catch(S){if(this.isAxiosError(S)){const E=S.config?.url||f;throw this.createMisoClientError(S,E)}throw S}}async put(f,h,w){try{return(await this.axios.put(f,h,w)).data}catch(S){if(this.isAxiosError(S)){const E=S.config?.url||f;throw this.createMisoClientError(S,E)}throw S}}async delete(f,h){try{return(await this.axios.delete(f,h)).data}catch(w){if(this.isAxiosError(w)){const S=w.config?.url||f;throw this.createMisoClientError(w,S)}throw w}}async request(f,h,w,S){switch(f){case"GET":return this.get(h,S);case"POST":return this.post(h,w,S);case"PUT":return this.put(h,w,S);case"DELETE":return this.delete(h,S);default:throw new Error(`Unsupported HTTP method: ${f}`)}}async authenticatedRequest(f,h,w,S,E,b){let C;if(b){const R=await this.getClientToken(),P=c.AuthStrategyHandler.buildAuthHeaders(b,R,this.config.clientId,this.config.clientSecret);C={...E,headers:{...E?.headers,...P}}}else C={...E,headers:{...E?.headers,Authorization:`Bearer ${w}`}};switch(f){case"GET":return this.get(h,C);case"POST":return this.post(h,S,C);case"PUT":return this.put(h,S,C);case"DELETE":return this.delete(h,C);default:throw new Error(`Unsupported HTTP method: ${f}`)}}async requestWithAuthStrategy(f,h,w,S,E){const b=await this.getClientToken(),C=c.AuthStrategyHandler.buildAuthHeaders(w,b,this.config.clientId,this.config.clientSecret),R={...E,headers:{...E?.headers,...C}};switch(f){case"GET":return this.get(h,R);case"POST":return this.post(h,S,R);case"PUT":return this.put(h,S,R);case"DELETE":return this.delete(h,R);default:throw new Error(`Unsupported HTTP method: ${f}`)}}}return fn.InternalHttpClient=g,fn}var ui={},Wv;function AC(){if(Wv)return ui;Wv=1;var r=ui&&ui.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ui,"__esModule",{value:!0}),ui.extractRequestMetadata=n,ui.extractUserIdFromToken=m;const i=r(os()),s=Ga();function n(g,y,f){const h=g?.config||y?.config;if(!h)return null;const w=h.metadata;if(!w)return null;const S=a(w,h,f),E=l(h,y),b=c(g,y);return{...S,...E,...b}}function a(g,y,f){const h=Date.now()-g.startTime,w=g.method||"UNKNOWN",S=g.url||"",E=g.baseURL||(0,s.resolveControllerUrl)(f),b=`${E}${S}`,C=y.headers?.authorization,R=m(C);return{config:y,metadata:g,duration:h,method:w,url:S,fullUrl:b,baseURL:E,statusCode:0,authHeader:C,userId:R}}function l(g,y){return{requestHeaders:g.headers||{},requestBody:g.data||y?.config?.data}}function c(g,y){return{statusCode:g?.status||y?.response?.status||0,responseBody:g?.data||y?.response?.data,responseHeaders:g?.headers||y?.response?.headers||{}}}function m(g){if(!g||!g.startsWith("Bearer "))return null;const y=g.substring(7);try{const f=i.default.decode(y);return f?f.sub||f.userId||f.user_id||f.id:null}catch{return null}}return ui}var pa={},Nn={},Gv;function IC(){if(Gv)return Nn;Gv=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.estimateObjectSize=i,Nn.truncateResponseBody=s,Nn.analyzeRequestSizes=n,Nn.truncateBodies=a,Nn.applyMaskingStrategy=l,Nn.applyStandardMasking=c,Nn.applyDetailedMasking=m;const r=Si();function i(h){if(h==null)return 0;if(typeof h=="string")return h.length;if(typeof h!="object")return 10;if(Array.isArray(h)){const E=h.length;if(E===0)return 10;const b=Math.min(3,E);let C=0;for(let P=0;P<b;P++)C+=i(h[P]);const R=b>0?C/b:100;return E*R}const w=Object.entries(h);let S=0;for(const[E,b]of w)S+=E.length+i(b);return S}function s(h,w=1e4){if(h==null)return{data:h,truncated:!1};if(typeof h=="string")return h.length<=w?{data:h,truncated:!1}:{data:h.substring(0,w)+"...",truncated:!0};const S=i(h);return S<=w?{data:h,truncated:!1}:{data:{_message:"Response body too large, truncated for performance",_estimatedSize:S},truncated:!0}}function n(h,w,S){const E=h?i(h):0,b=w?i(w):0,C=E<1024&&b<1024,R=E>S||b>S;return{isSmallRequest:C,isLargeRequest:R}}function a(h,w,S){const{data:E,truncated:b}=s(w,S),{data:C,truncated:R}=h&&i(h)>S?s(h,S):{data:h,truncated:!1};return{requestBody:C,responseBody:E,requestTruncated:R,responseTruncated:b}}async function l(h,w,S,E){const b=n(h.requestBody,h.responseBody,E),C=a(h.requestBody,h.responseBody,S);return w==="standard"?c(h.requestHeaders,h.responseHeaders,C.requestBody,C.responseBody,b.isSmallRequest,b.isLargeRequest,C.requestTruncated,C.responseTruncated):m(h.requestHeaders,h.responseHeaders,C.requestBody,C.responseBody,b.isSmallRequest,b.isLargeRequest,C.requestTruncated,C.responseTruncated)}function c(h,w,S,E,b,C,R,P){const O=r.DataMasker.maskSensitiveData(h),D=r.DataMasker.maskSensitiveData(w);let B,T;return b||!C?(B=r.DataMasker.maskSensitiveData(S),T=r.DataMasker.maskSensitiveData(E)):(B={_message:"Request body too large, masking skipped"},T={_message:"Response body too large, masking skipped"}),{headers:O,requestBody:B,responseBody:T,responseHeaders:D,requestTruncated:R,responseTruncated:P}}async function m(h,w,S,E,b,C,R,P){return C?g(h,w,R,P):b?y(h,w,S,E,R,P):f(h,w,S,E,R,P)}function g(h,w,S,E){return{headers:h,requestBody:{_message:"Request body too large, masking skipped"},responseBody:{_message:"Response body too large, masking skipped"},responseHeaders:w,requestTruncated:S,responseTruncated:E}}function y(h,w,S,E,b,C){return{headers:r.DataMasker.maskSensitiveData(h),requestBody:r.DataMasker.maskSensitiveData(S),responseBody:r.DataMasker.maskSensitiveData(E),responseHeaders:r.DataMasker.maskSensitiveData(w),requestTruncated:b,responseTruncated:C}}async function f(h,w,S,E,b,C){const[R,P,O,D]=await Promise.all([Promise.resolve(r.DataMasker.maskSensitiveData(h)),Promise.resolve(r.DataMasker.maskSensitiveData(S)),Promise.resolve(r.DataMasker.maskSensitiveData(E)),Promise.resolve(r.DataMasker.maskSensitiveData(w))]);return{headers:R,requestBody:P,responseBody:O,responseHeaders:D,requestTruncated:b,responseTruncated:C}}return Nn}var Vv;function NC(){if(Vv)return pa;Vv=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.logHttpRequestAudit=i,pa.calculateRequestSizes=a;const r=IC();async function i(y,f,h,w){try{if(!y)return;const S=h.audit||{},E=S.level||"detailed";if(E==="minimal"){await s(y,f,w);return}await n(y,E,S,f,h,w)}catch{}}async function s(y,f,h){await h.audit(`http.request.${y.method}`,y.url,{method:y.method,url:y.fullUrl,statusCode:y.statusCode,duration:y.duration,userId:y.userId||void 0,error:f?.message||void 0},{token:y.userId?void 0:y.authHeader?.replace("Bearer ","")})}async function n(y,f,h,w,S,E){const b=await(0,r.applyMaskingStrategy)({requestHeaders:y.requestHeaders,requestBody:y.requestBody,responseBody:y.responseBody,responseHeaders:y.responseHeaders},f,h.maxResponseSize??1e4,h.maxMaskingSize??5e4),C=f==="detailed"||f==="full"?a(y.requestBody,y.responseBody):{requestSize:void 0,responseSize:void 0},R=l({method:y.method,fullUrl:y.fullUrl,duration:y.duration,statusCode:y.statusCode,userId:y.userId},C,b,f,w);if(await E.audit(`http.request.${y.method}`,y.url,R,{token:y.userId?void 0:y.authHeader?.replace("Bearer ","")}),S.logLevel==="debug")try{await c(y,b,C,w,E)}catch{}}function a(y,f){let h,w;if(y){const S=JSON.stringify(y),E=Buffer.byteLength(S);h=E<=2?void 0:E}if(f){const S=JSON.stringify(f),E=Buffer.byteLength(S);w=E<=2?void 0:E}return{requestSize:h,responseSize:w}}function l(y,f,h,w,S){const E={method:y.method,url:y.fullUrl,statusCode:y.statusCode,duration:y.duration,userId:y.userId||void 0,error:S?.message||void 0};return(w==="detailed"||w==="full")&&(E.requestSize=f.requestSize!==void 0&&f.requestSize>0?f.requestSize:void 0,E.responseSize=f.responseSize!==void 0&&f.responseSize>0?f.responseSize:void 0,h.requestTruncated&&(E.requestTruncated=!0),h.responseTruncated&&(E.responseTruncated=!0)),E}async function c(y,f,h,w,S){const E=m(f.responseBody),b=g(y,f,h,E,w);await S.debug(`HTTP ${y.method} ${y.url}`,b,{token:y.userId?void 0:y.authHeader?.replace("Bearer ","")})}function m(y){if(!y||typeof y!="object")return y;const f=JSON.stringify(y);if(f.length<=1e3)return y;try{return JSON.parse(f.substring(0,1e3)+"...")}catch{return{_message:"Response body truncated"}}}function g(y,f,h,w,S){return{method:y.method,url:y.fullUrl,baseURL:y.baseURL,statusCode:y.statusCode,duration:y.duration,userId:y.userId||void 0,timeout:y.config.timeout||3e4,requestHeaders:f.headers,responseHeaders:f.responseHeaders,requestBody:f.requestBody,responseBody:w,requestSize:h.requestSize!==void 0&&h.requestSize>0?h.requestSize:void 0,responseSize:h.responseSize!==void 0&&h.responseSize>0?h.responseSize:void 0,error:S?.message||void 0}}return pa}var Jv;function Ih(){if(Jv)return fa;Jv=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.HttpClient=void 0;const r=ap(),i=Si(),s=AC(),n=NC();class a{constructor(c,m){this.config=c,this.logger=m,this.internalClient=new r.InternalHttpClient(c),c.sensitiveFieldsConfig&&i.DataMasker.setConfigPath(c.sensitiveFieldsConfig),this.setupAuditLogging()}setupAuditLogging(){const c=this.internalClient.getAxiosInstance();c.interceptors.request.use(async m=>(this.shouldAuditRequest(m.url||"")&&(m.metadata={startTime:Date.now(),method:m.method?.toUpperCase(),url:m.url,baseURL:m.baseURL}),m),m=>Promise.reject(m)),c.interceptors.response.use(m=>(setTimeout(()=>{this.logHttpRequestAudit(m,null).catch(()=>{})},0),m),m=>(setTimeout(()=>{this.logHttpRequestAudit(m.response,m).catch(()=>{})},0),Promise.reject(m)))}shouldAuditRequest(c){if(this.config.audit?.enabled===!1)return!1;if(this.config.audit?.skipEndpoints){for(const m of this.config.audit.skipEndpoints)if(c&&c.includes(m))return!1}return!(c&&c.includes("/api/v1/logs")||c&&c.includes("/api/v1/auth/token"))}async logHttpRequestAudit(c,m){try{const g=(0,s.extractRequestMetadata)(c,m,this.config);await(0,n.logHttpRequestAudit)(g,m,this.config,this.logger)}catch{}}async get(c,m){return this.internalClient.get(c,m)}async post(c,m,g){return this.internalClient.post(c,m,g)}async put(c,m,g){return this.internalClient.put(c,m,g)}async delete(c,m){return this.internalClient.delete(c,m)}async request(c,m,g,y){return this.internalClient.request(c,m,g,y)}async authenticatedRequest(c,m,g,y,f,h){return this.internalClient.authenticatedRequest(c,m,g,y,f,h)}async requestWithAuthStrategy(c,m,g,y,f){return this.internalClient.requestWithAuthStrategy(c,m,g,y,f)}async validateTokenRequest(c,m){return this.authenticatedRequest("POST","/api/v1/auth/validate",c,{token:c},void 0,m)}async getWithFilters(c,m,g){const y=m.toQueryString(),f=y?`${c}?${y}`:c;return this.internalClient.get(f,g)}async getPaginated(c,m,g){const y=new URLSearchParams;y.append("page",m.page.toString()),y.append("page_size",m.pageSize.toString());const f=`${c}?${y.toString()}`;return this.internalClient.get(f,g)}}return fa.HttpClient=a,fa}var ma={},ga={},ya={},Yv;function PC(){if(Yv)return ya;Yv=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.AuthLoginApi=void 0;class r{constructor(s){this.httpClient=s}async login(s,n){try{return n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGIN_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGIN_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Login API call failed:",a),a}}async initiateDeviceCode(s,n){try{return n?await this.httpClient.requestWithAuthStrategy("POST",r.LOGIN_ENDPOINT,n,s):await this.httpClient.request("POST",r.LOGIN_ENDPOINT,s)}catch(a){throw console.error("Initiate device code API call failed:",a),a}}async pollDeviceCodeToken(s){try{return await this.httpClient.request("POST",r.DEVICE_CODE_TOKEN_ENDPOINT,s)}catch(n){throw console.error("Poll device code token API call failed:",n),n}}async refreshDeviceCodeToken(s){try{return await this.httpClient.request("POST",r.DEVICE_CODE_REFRESH_ENDPOINT,s)}catch(n){throw console.error("Refresh device code token API call failed:",n),n}}async getLoginDiagnostics(s){try{const n=s?{environment:s}:void 0;return await this.httpClient.request("GET",r.LOGIN_DIAGNOSTICS_ENDPOINT,void 0,{params:n})}catch(n){throw console.error("Get login diagnostics API call failed:",n),n}}}return ya.AuthLoginApi=r,r.LOGIN_ENDPOINT="/api/v1/auth/login",r.DEVICE_CODE_TOKEN_ENDPOINT="/api/v1/auth/login/device/token",r.DEVICE_CODE_REFRESH_ENDPOINT="/api/v1/auth/login/device/refresh",r.LOGIN_DIAGNOSTICS_ENDPOINT="/api/v1/auth/login/diagnostics",ya}var va={},Xv;function OC(){if(Xv)return va;Xv=1,Object.defineProperty(va,"__esModule",{value:!0}),va.AuthTokenApi=void 0;class r{constructor(s){this.httpClient=s}async getClientToken(s){try{return s?await this.httpClient.requestWithAuthStrategy("GET",r.CLIENT_TOKEN_ENDPOINT,s):await this.httpClient.request("GET",r.CLIENT_TOKEN_ENDPOINT)}catch(n){throw console.error("Get client token API call failed:",n),n}}async generateClientToken(s){try{return s?await this.httpClient.requestWithAuthStrategy("POST",r.CLIENT_TOKEN_LEGACY_ENDPOINT,s):await this.httpClient.request("POST",r.CLIENT_TOKEN_LEGACY_ENDPOINT)}catch(n){throw console.error("Generate client token API call failed:",n),n}}async validateToken(s,n){try{return await this.httpClient.authenticatedRequest("POST",r.VALIDATE_ENDPOINT,s.token,s,void 0,n)}catch(a){throw console.error("Token validation API call failed:",a),a}}async refreshToken(s,n){try{return n?await this.httpClient.requestWithAuthStrategy("POST",r.REFRESH_ENDPOINT,n,s):await this.httpClient.request("POST",r.REFRESH_ENDPOINT,s)}catch(a){throw console.error("Refresh token API call failed:",a),a}}}return va.AuthTokenApi=r,r.CLIENT_TOKEN_ENDPOINT="/api/v1/auth/client-token",r.CLIENT_TOKEN_LEGACY_ENDPOINT="/api/v1/auth/token",r.VALIDATE_ENDPOINT="/api/v1/auth/validate",r.REFRESH_ENDPOINT="/api/v1/auth/refresh",va}var wa={},Qv;function jC(){if(Qv)return wa;Qv=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.AuthUserApi=void 0;class r{constructor(s){this.httpClient=s}async getUser(s){try{if(s?.bearerToken)return await this.httpClient.authenticatedRequest("GET",r.USER_ENDPOINT,s.bearerToken,void 0,void 0,s);if(s)return await this.httpClient.requestWithAuthStrategy("GET",r.USER_ENDPOINT,s);throw new Error("getUser requires authentication - provide authStrategy with bearerToken")}catch(n){throw console.error("Get user API call failed:",n),n}}async logout(){try{return await this.httpClient.request("POST",r.LOGOUT_ENDPOINT)}catch(s){throw console.error("Logout API call failed:",s),s}}async logoutWithToken(s){try{return await this.httpClient.request("POST",r.LOGOUT_ENDPOINT,{token:s})}catch(n){throw console.error("Logout with token API call failed:",n),n}}async handleCallback(s,n){try{return n?await this.httpClient.requestWithAuthStrategy("GET",r.CALLBACK_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.CALLBACK_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Handle callback API call failed:",a),a}}}return wa.AuthUserApi=r,r.USER_ENDPOINT="/api/v1/auth/user",r.LOGOUT_ENDPOINT="/api/v1/auth/logout",r.CALLBACK_ENDPOINT="/api/v1/auth/callback",wa}var Ea={},Zv;function DC(){if(Zv)return Ea;Zv=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.AuthCacheApi=void 0;class r{constructor(s){this.httpClient=s}async getCacheStats(s){try{return s?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.CACHE_STATS_ENDPOINT,s.bearerToken,void 0,void 0,s):s?await this.httpClient.requestWithAuthStrategy("GET",r.CACHE_STATS_ENDPOINT,s):await this.httpClient.request("GET",r.CACHE_STATS_ENDPOINT)}catch(n){throw console.error("Get cache stats API call failed:",n),n}}async getCachePerformance(s){try{return s?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.CACHE_PERFORMANCE_ENDPOINT,s.bearerToken,void 0,void 0,s):s?await this.httpClient.requestWithAuthStrategy("GET",r.CACHE_PERFORMANCE_ENDPOINT,s):await this.httpClient.request("GET",r.CACHE_PERFORMANCE_ENDPOINT)}catch(n){throw console.error("Get cache performance API call failed:",n),n}}async getCacheEfficiency(s){try{return s?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.CACHE_EFFICIENCY_ENDPOINT,s.bearerToken,void 0,void 0,s):s?await this.httpClient.requestWithAuthStrategy("GET",r.CACHE_EFFICIENCY_ENDPOINT,s):await this.httpClient.request("GET",r.CACHE_EFFICIENCY_ENDPOINT)}catch(n){throw console.error("Get cache efficiency API call failed:",n),n}}async clearCache(s){try{return s?.bearerToken?await this.httpClient.authenticatedRequest("POST",r.CACHE_CLEAR_ENDPOINT,s.bearerToken,void 0,void 0,s):s?await this.httpClient.requestWithAuthStrategy("POST",r.CACHE_CLEAR_ENDPOINT,s):await this.httpClient.request("POST",r.CACHE_CLEAR_ENDPOINT)}catch(n){throw console.error("Clear cache API call failed:",n),n}}async invalidateCache(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("POST",r.CACHE_INVALIDATE_ENDPOINT,n.bearerToken,s,void 0,n):n?await this.httpClient.requestWithAuthStrategy("POST",r.CACHE_INVALIDATE_ENDPOINT,n,s):await this.httpClient.request("POST",r.CACHE_INVALIDATE_ENDPOINT,s)}catch(a){throw console.error("Invalidate cache API call failed:",a),a}}}return Ea.AuthCacheApi=r,r.CACHE_STATS_ENDPOINT="/api/v1/auth/cache/stats",r.CACHE_PERFORMANCE_ENDPOINT="/api/v1/auth/cache/performance",r.CACHE_EFFICIENCY_ENDPOINT="/api/v1/auth/cache/efficiency",r.CACHE_CLEAR_ENDPOINT="/api/v1/auth/cache/clear",r.CACHE_INVALIDATE_ENDPOINT="/api/v1/auth/cache/invalidate",Ea}var ew;function LC(){if(ew)return ga;ew=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.AuthApi=void 0;const r=PC(),i=OC(),s=jC(),n=DC();class a{constructor(c){this.httpClient=c,this.loginApi=new r.AuthLoginApi(c),this.tokenApi=new i.AuthTokenApi(c),this.userApi=new s.AuthUserApi(c),this.cacheApi=new n.AuthCacheApi(c)}async login(c,m){return this.loginApi.login(c,m)}async initiateDeviceCode(c,m){return this.loginApi.initiateDeviceCode(c,m)}async pollDeviceCodeToken(c){return this.loginApi.pollDeviceCodeToken(c)}async refreshDeviceCodeToken(c){return this.loginApi.refreshDeviceCodeToken(c)}async getLoginDiagnostics(c){return this.loginApi.getLoginDiagnostics(c)}async getClientToken(c){return this.tokenApi.getClientToken(c)}async generateClientToken(c){return this.tokenApi.generateClientToken(c)}async validateToken(c,m){return this.tokenApi.validateToken(c,m)}async refreshToken(c,m){return this.tokenApi.refreshToken(c,m)}async getUser(c){return this.userApi.getUser(c)}async logout(){return this.userApi.logout()}async logoutWithToken(c){return this.userApi.logoutWithToken(c)}async handleCallback(c,m){return this.userApi.handleCallback(c,m)}async getCacheStats(c){return this.cacheApi.getCacheStats(c)}async getCachePerformance(c){return this.cacheApi.getCachePerformance(c)}async getCacheEfficiency(c){return this.cacheApi.getCacheEfficiency(c)}async clearCache(c){return this.cacheApi.clearCache(c)}async invalidateCache(c,m){return this.cacheApi.invalidateCache(c,m)}async getRoles(c,m){try{if(m?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.ROLES_ENDPOINT,m.bearerToken,void 0,{params:c},m);if(m)return await this.httpClient.requestWithAuthStrategy("GET",a.ROLES_ENDPOINT,m,void 0,{params:c});throw new Error("getRoles requires authentication - provide authStrategy with bearerToken")}catch(g){throw console.error("Get roles API call failed:",g),g}}async refreshRoles(c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.ROLES_REFRESH_ENDPOINT,c.bearerToken,void 0,void 0,c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",a.ROLES_REFRESH_ENDPOINT,c);throw new Error("refreshRoles requires authentication - provide authStrategy with bearerToken")}catch(m){throw console.error("Refresh roles API call failed:",m),m}}async getPermissions(c,m){try{if(m?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.PERMISSIONS_ENDPOINT,m.bearerToken,void 0,{params:c},m);if(m)return await this.httpClient.requestWithAuthStrategy("GET",a.PERMISSIONS_ENDPOINT,m,void 0,{params:c});throw new Error("getPermissions requires authentication - provide authStrategy with bearerToken")}catch(g){throw console.error("Get permissions API call failed:",g),g}}async refreshPermissions(c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.PERMISSIONS_REFRESH_ENDPOINT,c.bearerToken,void 0,void 0,c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",a.PERMISSIONS_REFRESH_ENDPOINT,c);throw new Error("refreshPermissions requires authentication - provide authStrategy with bearerToken")}catch(m){throw console.error("Refresh permissions API call failed:",m),m}}}return ga.AuthApi=a,a.ROLES_ENDPOINT="/api/v1/auth/roles",a.ROLES_REFRESH_ENDPOINT="/api/v1/auth/roles/refresh",a.PERMISSIONS_ENDPOINT="/api/v1/auth/permissions",a.PERMISSIONS_REFRESH_ENDPOINT="/api/v1/auth/permissions/refresh",ga}var Sa={},tw;function MC(){if(tw)return Sa;tw=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.RolesApi=void 0;class r{constructor(s){this.httpClient=s}async getRoles(s,n){try{if(n?.bearerToken)return await this.httpClient.authenticatedRequest("GET",r.ROLES_ENDPOINT,n.bearerToken,void 0,{params:s},n);if(n)return await this.httpClient.requestWithAuthStrategy("GET",r.ROLES_ENDPOINT,n,void 0,{params:s});throw new Error("getRoles requires authentication - provide authStrategy with bearerToken")}catch(a){throw console.error("Get roles API call failed:",a),a}}async refreshRoles(s){try{if(s?.bearerToken)return await this.httpClient.authenticatedRequest("GET",r.ROLES_REFRESH_ENDPOINT,s.bearerToken,void 0,void 0,s);if(s)return await this.httpClient.requestWithAuthStrategy("GET",r.ROLES_REFRESH_ENDPOINT,s);throw new Error("refreshRoles requires authentication - provide authStrategy with bearerToken")}catch(n){throw console.error("Refresh roles API call failed:",n),n}}}return Sa.RolesApi=r,r.ROLES_ENDPOINT="/api/v1/auth/roles",r.ROLES_REFRESH_ENDPOINT="/api/v1/auth/roles/refresh",Sa}var xa={},rw;function UC(){if(rw)return xa;rw=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.PermissionsApi=void 0;class r{constructor(s){this.httpClient=s}async getPermissions(s,n){try{if(n?.bearerToken)return await this.httpClient.authenticatedRequest("GET",r.PERMISSIONS_ENDPOINT,n.bearerToken,void 0,{params:s},n);if(n)return await this.httpClient.requestWithAuthStrategy("GET",r.PERMISSIONS_ENDPOINT,n,void 0,{params:s});throw new Error("getPermissions requires authentication - provide authStrategy with bearerToken")}catch(a){throw console.error("Get permissions API call failed:",a),a}}async refreshPermissions(s){try{if(s?.bearerToken)return await this.httpClient.authenticatedRequest("GET",r.PERMISSIONS_REFRESH_ENDPOINT,s.bearerToken,void 0,void 0,s);if(s)return await this.httpClient.requestWithAuthStrategy("GET",r.PERMISSIONS_REFRESH_ENDPOINT,s);throw new Error("refreshPermissions requires authentication - provide authStrategy with bearerToken")}catch(n){throw console.error("Refresh permissions API call failed:",n),n}}}return xa.PermissionsApi=r,r.PERMISSIONS_ENDPOINT="/api/v1/auth/permissions",r.PERMISSIONS_REFRESH_ENDPOINT="/api/v1/auth/permissions/refresh",xa}var ba={},Ca={},nw;function HC(){if(nw)return Ca;nw=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.LogsCreateApi=void 0;class r{constructor(s){this.httpClient=s}async createLog(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("POST",r.LOGS_ENDPOINT,n.bearerToken,s,void 0,n):n?await this.httpClient.requestWithAuthStrategy("POST",r.LOGS_ENDPOINT,n,s):await this.httpClient.request("POST",r.LOGS_ENDPOINT,s)}catch(a){throw console.error("Create log API call failed:",a),a}}async createBatchLogs(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("POST",r.LOGS_BATCH_ENDPOINT,n.bearerToken,s,void 0,n):n?await this.httpClient.requestWithAuthStrategy("POST",r.LOGS_BATCH_ENDPOINT,n,s):await this.httpClient.request("POST",r.LOGS_BATCH_ENDPOINT,s)}catch(a){throw console.error("Create batch logs API call failed:",a),a}}}return Ca.LogsCreateApi=r,r.LOGS_ENDPOINT="/api/v1/logs",r.LOGS_BATCH_ENDPOINT="/api/v1/logs/batch",Ca}var Ta={},sw;function qC(){if(sw)return Ta;sw=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.LogsListApi=void 0;class r{constructor(s){this.httpClient=s}async listGeneralLogs(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_GENERAL_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_GENERAL_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_GENERAL_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("List general logs API call failed:",a),a}}async getGeneralLog(s,n,a){try{const l=`${r.LOGS_GENERAL_ENDPOINT}/${s}`,c=n?{environment:n}:void 0;return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",l,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",l,a,void 0,{params:c}):await this.httpClient.request("GET",l,void 0,{params:c})}catch(l){throw console.error("Get general log API call failed:",l),l}}async listAuditLogs(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_AUDIT_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_AUDIT_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_AUDIT_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("List audit logs API call failed:",a),a}}async getAuditLog(s,n,a){try{const l=`${r.LOGS_AUDIT_ENDPOINT}/${s}`,c=n?{environment:n}:void 0;return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",l,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",l,a,void 0,{params:c}):await this.httpClient.request("GET",l,void 0,{params:c})}catch(l){throw console.error("Get audit log API call failed:",l),l}}async listJobLogs(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_JOBS_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_JOBS_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_JOBS_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("List job logs API call failed:",a),a}}async getJobLog(s,n){try{const a=`${r.LOGS_JOBS_ENDPOINT}/${s}`;return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",a,n.bearerToken,void 0,void 0,n):n?await this.httpClient.requestWithAuthStrategy("GET",a,n):await this.httpClient.request("GET",a)}catch(a){throw console.error("Get job log API call failed:",a),a}}}return Ta.LogsListApi=r,r.LOGS_GENERAL_ENDPOINT="/api/v1/logs/general",r.LOGS_AUDIT_ENDPOINT="/api/v1/logs/audit",r.LOGS_JOBS_ENDPOINT="/api/v1/logs/jobs",Ta}var ka={},iw;function FC(){if(iw)return ka;iw=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.LogsStatsApi=void 0;class r{constructor(s){this.httpClient=s}async getLogStatsSummary(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_STATS_SUMMARY_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_STATS_SUMMARY_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_STATS_SUMMARY_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Get log stats summary API call failed:",a),a}}async getErrorStats(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_STATS_ERRORS_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_STATS_ERRORS_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_STATS_ERRORS_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Get error stats API call failed:",a),a}}async getUserActivityStats(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_STATS_USERS_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_STATS_USERS_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_STATS_USERS_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Get user activity stats API call failed:",a),a}}async getApplicationStats(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_STATS_APPLICATIONS_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_STATS_APPLICATIONS_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_STATS_APPLICATIONS_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Get application stats API call failed:",a),a}}}return ka.LogsStatsApi=r,r.LOGS_STATS_SUMMARY_ENDPOINT="/api/v1/logs/stats/summary",r.LOGS_STATS_ERRORS_ENDPOINT="/api/v1/logs/stats/errors",r.LOGS_STATS_USERS_ENDPOINT="/api/v1/logs/stats/users",r.LOGS_STATS_APPLICATIONS_ENDPOINT="/api/v1/logs/stats/applications",ka}var _a={},ow;function zC(){if(ow)return _a;ow=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.LogsExportApi=void 0;class r{constructor(s){this.httpClient=s}async exportLogs(s,n){try{return n?.bearerToken?await this.httpClient.authenticatedRequest("GET",r.LOGS_EXPORT_ENDPOINT,n.bearerToken,void 0,{params:s},n):n?await this.httpClient.requestWithAuthStrategy("GET",r.LOGS_EXPORT_ENDPOINT,n,void 0,{params:s}):await this.httpClient.request("GET",r.LOGS_EXPORT_ENDPOINT,void 0,{params:s})}catch(a){throw console.error("Export logs API call failed:",a),a}}}return _a.LogsExportApi=r,r.LOGS_EXPORT_ENDPOINT="/api/v1/logs/export",_a}var aw;function $C(){if(aw)return ba;aw=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.LogsApi=void 0;const r=HC(),i=qC(),s=FC(),n=zC();class a{constructor(c){this.httpClient=c,this.create=new r.LogsCreateApi(c),this.list=new i.LogsListApi(c),this.stats=new s.LogsStatsApi(c),this.export=new n.LogsExportApi(c)}async createLog(c,m){return this.create.createLog(c,m)}async createBatchLogs(c,m){return this.create.createBatchLogs(c,m)}async listGeneralLogs(c,m){return this.list.listGeneralLogs(c,m)}async getGeneralLog(c,m,g){return this.list.getGeneralLog(c,m,g)}async listAuditLogs(c,m){return this.list.listAuditLogs(c,m)}async getAuditLog(c,m,g){return this.list.getAuditLog(c,m,g)}async listJobLogs(c,m){return this.list.listJobLogs(c,m)}async getJobLog(c,m){return this.list.getJobLog(c,m)}async getLogStatsSummary(c,m){return this.stats.getLogStatsSummary(c,m)}async getErrorStats(c,m){return this.stats.getErrorStats(c,m)}async getUserActivityStats(c,m){return this.stats.getUserActivityStats(c,m)}async getApplicationStats(c,m){return this.stats.getApplicationStats(c,m)}async exportLogs(c,m){return this.export.exportLogs(c,m)}}return ba.LogsApi=a,ba}var lw;function j0(){if(lw)return ma;lw=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.ApiClient=void 0;const r=LC(),i=MC(),s=UC(),n=$C();class a{constructor(c){this.auth=new r.AuthApi(c),this.roles=new i.RolesApi(c),this.permissions=new s.PermissionsApi(c),this.logs=new n.LogsApi(c)}}return ma.ApiClient=a,ma}var yc={},cw;function Pc(){if(cw)return yc;cw=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.validateOrigin=s;function r(n){return n.trim().toLowerCase().replace(/\/$/,"")}function i(n,a){const l=r(n),c=r(a);if(l===c)return!0;if(a.includes(":*"))try{const m=new URL(l),g=new URL(c.replace(":*",""));if(m.protocol===g.protocol&&m.hostname===g.hostname)return!0}catch{}return!1}function s(n,a){if(!a||a.length===0)return{valid:!0};let l=Array.isArray(n.headers.origin)?n.headers.origin[0]:n.headers.origin;if(!l||typeof l!="string"){const m=Array.isArray(n.headers.referer)?n.headers.referer[0]:n.headers.referer;if(m&&typeof m=="string")try{const g=new URL(m);l=`${g.protocol}//${g.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const c=l;for(const m of a)if(i(c,m))return{valid:!0};return{valid:!1,error:`Origin '${c}' is not allowed`}}return yc}var Ra={};const Qe=crypto,_r=r=>r instanceof CryptoKey,D0=async(r,i)=>{const s=`SHA-${r.slice(-3)}`;return new Uint8Array(await Qe.subtle.digest(s,i))},At=new TextEncoder,Wr=new TextDecoder,Oc=2**32;function Pn(...r){const i=r.reduce((a,{length:l})=>a+l,0),s=new Uint8Array(i);let n=0;for(const a of r)s.set(a,n),n+=a.length;return s}function BC(r,i){return Pn(At.encode(r),new Uint8Array([0]),i)}function Nh(r,i,s){if(i<0||i>=Oc)throw new RangeError(`value must be >= 0 and <= ${Oc-1}. Received ${i}`);r.set([i>>>24,i>>>16,i>>>8,i&255],s)}function L0(r){const i=Math.floor(r/Oc),s=r%Oc,n=new Uint8Array(8);return Nh(n,i,0),Nh(n,s,4),n}function lp(r){const i=new Uint8Array(4);return Nh(i,r),i}function ph(r){return Pn(lp(r.length),r)}async function KC(r,i,s){const n=Math.ceil((i>>3)/32),a=new Uint8Array(n*32);for(let l=0;l<n;l++){const c=new Uint8Array(4+r.length+s.length);c.set(lp(l+1)),c.set(r,4),c.set(s,4+r.length),a.set(await D0("sha256",c),l*32)}return a.slice(0,i>>3)}const cp=r=>{let i=r;typeof i=="string"&&(i=At.encode(i));const s=32768,n=[];for(let a=0;a<i.length;a+=s)n.push(String.fromCharCode.apply(null,i.subarray(a,a+s)));return btoa(n.join(""))},jt=r=>cp(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),M0=r=>{const i=atob(r),s=new Uint8Array(i.length);for(let n=0;n<i.length;n++)s[n]=i.charCodeAt(n);return s},Rt=r=>{let i=r;i instanceof Uint8Array&&(i=Wr.decode(i)),i=i.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return M0(i)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Wt extends Error{constructor(i,s){super(i,s),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}Wt.code="ERR_JOSE_GENERIC";class dr extends Wt{constructor(i,s,n="unspecified",a="unspecified"){super(i,{cause:{claim:n,reason:a,payload:s}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=a,this.payload=s}}dr.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class jc extends Wt{constructor(i,s,n="unspecified",a="unspecified"){super(i,{cause:{claim:n,reason:a,payload:s}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=a,this.payload=s}}jc.code="ERR_JWT_EXPIRED";class Ka extends Wt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Ka.code="ERR_JOSE_ALG_NOT_ALLOWED";class it extends Wt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}it.code="ERR_JOSE_NOT_SUPPORTED";class go extends Wt{constructor(i="decryption operation failed",s){super(i,s),this.code="ERR_JWE_DECRYPTION_FAILED"}}go.code="ERR_JWE_DECRYPTION_FAILED";class Ae extends Wt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}Ae.code="ERR_JWE_INVALID";class at extends Wt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}at.code="ERR_JWS_INVALID";class pr extends Wt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}pr.code="ERR_JWT_INVALID";class up extends Wt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}up.code="ERR_JWK_INVALID";class ru extends Wt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}ru.code="ERR_JWKS_INVALID";class nu extends Wt{constructor(i="no applicable key found in the JSON Web Key Set",s){super(i,s),this.code="ERR_JWKS_NO_MATCHING_KEY"}}nu.code="ERR_JWKS_NO_MATCHING_KEY";class dp extends Wt{constructor(i="multiple matching keys found in the JSON Web Key Set",s){super(i,s),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}dp.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class fp extends Wt{constructor(i="request timed out",s){super(i,s),this.code="ERR_JWKS_TIMEOUT"}}fp.code="ERR_JWKS_TIMEOUT";class su extends Wt{constructor(i="signature verification failed",s){super(i,s),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}su.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const WC=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:Ka,JOSEError:Wt,JOSENotSupported:it,JWEDecryptionFailed:go,JWEInvalid:Ae,JWKInvalid:up,JWKSInvalid:ru,JWKSMultipleMatchingKeys:dp,JWKSNoMatchingKey:nu,JWKSTimeout:fp,JWSInvalid:at,JWSSignatureVerificationFailed:su,JWTClaimValidationFailed:dr,JWTExpired:jc,JWTInvalid:pr},Symbol.toStringTag,{value:"Module"})),iu=Qe.getRandomValues.bind(Qe);function U0(r){switch(r){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new it(`Unsupported JWE Algorithm: ${r}`)}}const GC=r=>iu(new Uint8Array(U0(r)>>3)),H0=(r,i)=>{if(i.length<<3!==U0(r))throw new Ae("Invalid Initialization Vector length")},Dc=(r,i)=>{const s=r.byteLength<<3;if(s!==i)throw new Ae(`Invalid Content Encryption Key length. Expected ${i} bits, got ${s} bits`)},VC=(r,i)=>{if(!(r instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(i instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(r.length!==i.length)throw new TypeError("Input buffers must have the same length");const s=r.length;let n=0,a=-1;for(;++a<s;)n|=r[a]^i[a];return n===0};function Kt(r,i="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${i} must be ${r}`)}function ss(r,i){return r.name===i}function Cc(r){return parseInt(r.name.slice(4),10)}function JC(r){switch(r){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function q0(r,i){if(i.length&&!i.some(s=>r.usages.includes(s))){let s="CryptoKey does not support this operation, its usages must include ";if(i.length>2){const n=i.pop();s+=`one of ${i.join(", ")}, or ${n}.`}else i.length===2?s+=`one of ${i[0]} or ${i[1]}.`:s+=`${i[0]}.`;throw new TypeError(s)}}function YC(r,i,...s){switch(i){case"HS256":case"HS384":case"HS512":{if(!ss(r.algorithm,"HMAC"))throw Kt("HMAC");const n=parseInt(i.slice(2),10);if(Cc(r.algorithm.hash)!==n)throw Kt(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ss(r.algorithm,"RSASSA-PKCS1-v1_5"))throw Kt("RSASSA-PKCS1-v1_5");const n=parseInt(i.slice(2),10);if(Cc(r.algorithm.hash)!==n)throw Kt(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ss(r.algorithm,"RSA-PSS"))throw Kt("RSA-PSS");const n=parseInt(i.slice(2),10);if(Cc(r.algorithm.hash)!==n)throw Kt(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":{if(r.algorithm.name!=="Ed25519"&&r.algorithm.name!=="Ed448")throw Kt("Ed25519 or Ed448");break}case"Ed25519":{if(!ss(r.algorithm,"Ed25519"))throw Kt("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!ss(r.algorithm,"ECDSA"))throw Kt("ECDSA");const n=JC(i);if(r.algorithm.namedCurve!==n)throw Kt(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}q0(r,s)}function Os(r,i,...s){switch(i){case"A128GCM":case"A192GCM":case"A256GCM":{if(!ss(r.algorithm,"AES-GCM"))throw Kt("AES-GCM");const n=parseInt(i.slice(1,4),10);if(r.algorithm.length!==n)throw Kt(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!ss(r.algorithm,"AES-KW"))throw Kt("AES-KW");const n=parseInt(i.slice(1,4),10);if(r.algorithm.length!==n)throw Kt(n,"algorithm.length");break}case"ECDH":{switch(r.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw Kt("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ss(r.algorithm,"PBKDF2"))throw Kt("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!ss(r.algorithm,"RSA-OAEP"))throw Kt("RSA-OAEP");const n=parseInt(i.slice(9),10)||1;if(Cc(r.algorithm.hash)!==n)throw Kt(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}q0(r,s)}function F0(r,i,...s){if(s=s.filter(Boolean),s.length>2){const n=s.pop();r+=`one of type ${s.join(", ")}, or ${n}.`}else s.length===2?r+=`one of type ${s[0]} or ${s[1]}.`:r+=`of type ${s[0]}.`;return i==null?r+=` Received ${i}`:typeof i=="function"&&i.name?r+=` Received function ${i.name}`:typeof i=="object"&&i!=null&&i.constructor?.name&&(r+=` Received an instance of ${i.constructor.name}`),r}const nr=(r,...i)=>F0("Key must be ",r,...i);function z0(r,i,...s){return F0(`Key for the ${r} algorithm must be `,i,...s)}const $0=r=>_r(r)?!0:r?.[Symbol.toStringTag]==="KeyObject",sr=["CryptoKey"];async function XC(r,i,s,n,a,l){if(!(i instanceof Uint8Array))throw new TypeError(nr(i,"Uint8Array"));const c=parseInt(r.slice(1,4),10),m=await Qe.subtle.importKey("raw",i.subarray(c>>3),"AES-CBC",!1,["decrypt"]),g=await Qe.subtle.importKey("raw",i.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),y=Pn(l,n,s,L0(l.length<<3)),f=new Uint8Array((await Qe.subtle.sign("HMAC",g,y)).slice(0,c>>3));let h;try{h=VC(a,f)}catch{}if(!h)throw new go;let w;try{w=new Uint8Array(await Qe.subtle.decrypt({iv:n,name:"AES-CBC"},m,s))}catch{}if(!w)throw new go;return w}async function QC(r,i,s,n,a,l){let c;i instanceof Uint8Array?c=await Qe.subtle.importKey("raw",i,"AES-GCM",!1,["decrypt"]):(Os(i,r,"decrypt"),c=i);try{return new Uint8Array(await Qe.subtle.decrypt({additionalData:l,iv:n,name:"AES-GCM",tagLength:128},c,Pn(s,a)))}catch{throw new go}}const B0=async(r,i,s,n,a,l)=>{if(!_r(i)&&!(i instanceof Uint8Array))throw new TypeError(nr(i,...sr,"Uint8Array"));if(!n)throw new Ae("JWE Initialization Vector missing");if(!a)throw new Ae("JWE Authentication Tag missing");switch(H0(r,n),r){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return i instanceof Uint8Array&&Dc(i,parseInt(r.slice(-3),10)),XC(r,i,s,n,a,l);case"A128GCM":case"A192GCM":case"A256GCM":return i instanceof Uint8Array&&Dc(i,parseInt(r.slice(1,4),10)),QC(r,i,s,n,a,l);default:throw new it("Unsupported JWE Content Encryption Algorithm")}},Ya=(...r)=>{const i=r.filter(Boolean);if(i.length===0||i.length===1)return!0;let s;for(const n of i){const a=Object.keys(n);if(!s||s.size===0){s=new Set(a);continue}for(const l of a){if(s.has(l))return!1;s.add(l)}}return!0};function ZC(r){return typeof r=="object"&&r!==null}function It(r){if(!ZC(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let i=r;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(r)===i}const ou=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function K0(r,i){if(r.algorithm.length!==parseInt(i.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${i}`)}function W0(r,i,s){if(_r(r))return Os(r,i,s),r;if(r instanceof Uint8Array)return Qe.subtle.importKey("raw",r,"AES-KW",!0,[s]);throw new TypeError(nr(r,...sr,"Uint8Array"))}const Ph=async(r,i,s)=>{const n=await W0(i,r,"wrapKey");K0(n,r);const a=await Qe.subtle.importKey("raw",s,...ou);return new Uint8Array(await Qe.subtle.wrapKey("raw",a,n,"AES-KW"))},Oh=async(r,i,s)=>{const n=await W0(i,r,"unwrapKey");K0(n,r);const a=await Qe.subtle.unwrapKey("raw",s,n,"AES-KW",...ou);return new Uint8Array(await Qe.subtle.exportKey("raw",a))};async function G0(r,i,s,n,a=new Uint8Array(0),l=new Uint8Array(0)){if(!_r(r))throw new TypeError(nr(r,...sr));if(Os(r,"ECDH"),!_r(i))throw new TypeError(nr(i,...sr));Os(i,"ECDH","deriveBits");const c=Pn(ph(At.encode(s)),ph(a),ph(l),lp(n));let m;r.algorithm.name==="X25519"?m=256:r.algorithm.name==="X448"?m=448:m=Math.ceil(parseInt(r.algorithm.namedCurve.substr(-3),10)/8)<<3;const g=new Uint8Array(await Qe.subtle.deriveBits({name:r.algorithm.name,public:r},i,m));return KC(g,n,c)}async function eT(r){if(!_r(r))throw new TypeError(nr(r,...sr));return Qe.subtle.generateKey(r.algorithm,!0,["deriveBits"])}function V0(r){if(!_r(r))throw new TypeError(nr(r,...sr));return["P-256","P-384","P-521"].includes(r.algorithm.namedCurve)||r.algorithm.name==="X25519"||r.algorithm.name==="X448"}function tT(r){if(!(r instanceof Uint8Array)||r.length<8)throw new Ae("PBES2 Salt Input must be 8 or more octets")}function rT(r,i){if(r instanceof Uint8Array)return Qe.subtle.importKey("raw",r,"PBKDF2",!1,["deriveBits"]);if(_r(r))return Os(r,i,"deriveBits","deriveKey"),r;throw new TypeError(nr(r,...sr,"Uint8Array"))}async function J0(r,i,s,n){tT(r);const a=BC(i,r),l=parseInt(i.slice(13,16),10),c={hash:`SHA-${i.slice(8,11)}`,iterations:s,name:"PBKDF2",salt:a},m={length:l,name:"AES-KW"},g=await rT(n,i);if(g.usages.includes("deriveBits"))return new Uint8Array(await Qe.subtle.deriveBits(c,g,l));if(g.usages.includes("deriveKey"))return Qe.subtle.deriveKey(c,g,m,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const nT=async(r,i,s,n=2048,a=iu(new Uint8Array(16)))=>{const l=await J0(a,r,n,i);return{encryptedKey:await Ph(r.slice(-6),l,s),p2c:n,p2s:jt(a)}},sT=async(r,i,s,n,a)=>{const l=await J0(a,r,n,i);return Oh(r.slice(-6),l,s)};function Lc(r){switch(r){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new it(`alg ${r} is not supported either by JOSE or your javascript runtime`)}}const au=(r,i)=>{if(r.startsWith("RS")||r.startsWith("PS")){const{modulusLength:s}=i.algorithm;if(typeof s!="number"||s<2048)throw new TypeError(`${r} requires key modulusLength to be 2048 bits or larger`)}},iT=async(r,i,s)=>{if(!_r(i))throw new TypeError(nr(i,...sr));if(Os(i,r,"encrypt","wrapKey"),au(r,i),i.usages.includes("encrypt"))return new Uint8Array(await Qe.subtle.encrypt(Lc(r),i,s));if(i.usages.includes("wrapKey")){const n=await Qe.subtle.importKey("raw",s,...ou);return new Uint8Array(await Qe.subtle.wrapKey("raw",n,i,Lc(r)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},oT=async(r,i,s)=>{if(!_r(i))throw new TypeError(nr(i,...sr));if(Os(i,r,"decrypt","unwrapKey"),au(r,i),i.usages.includes("decrypt"))return new Uint8Array(await Qe.subtle.decrypt(Lc(r),i,s));if(i.usages.includes("unwrapKey")){const n=await Qe.subtle.unwrapKey("raw",s,i,Lc(r),...ou);return new Uint8Array(await Qe.subtle.exportKey("raw",n))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Eo(r){return It(r)&&typeof r.kty=="string"}function aT(r){return r.kty!=="oct"&&typeof r.d=="string"}function lT(r){return r.kty!=="oct"&&typeof r.d>"u"}function cT(r){return Eo(r)&&r.kty==="oct"&&typeof r.k=="string"}function uT(r){let i,s;switch(r.kty){case"RSA":{switch(r.alg){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${r.alg.slice(-3)}`},s=r.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.alg.slice(-3)}`},s=r.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(r.alg.slice(-3),10)||1}`},s=r.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(r.alg){case"ES256":i={name:"ECDSA",namedCurve:"P-256"},s=r.d?["sign"]:["verify"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},s=r.d?["sign"]:["verify"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},s=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":i={name:"ECDH",namedCurve:r.crv},s=r.d?["deriveBits"]:[];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(r.alg){case"Ed25519":i={name:"Ed25519"},s=r.d?["sign"]:["verify"];break;case"EdDSA":i={name:r.crv},s=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":i={name:r.crv},s=r.d?["deriveBits"]:[];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new it('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:i,keyUsages:s}}const Y0=async r=>{if(!r.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:i,keyUsages:s}=uT(r),n=[i,r.ext??!1,r.key_ops??s],a={...r};return delete a.alg,delete a.use,Qe.subtle.importKey("jwk",a,...n)},X0=r=>Rt(r);let ao,lo;const Q0=r=>r?.[Symbol.toStringTag]==="KeyObject",Mc=async(r,i,s,n,a=!1)=>{let l=r.get(i);if(l?.[n])return l[n];const c=await Y0({...s,alg:n});return a&&Object.freeze(i),l?l[n]=c:r.set(i,{[n]:c}),c},dT=(r,i)=>{if(Q0(r)){let s=r.export({format:"jwk"});return delete s.d,delete s.dp,delete s.dq,delete s.p,delete s.q,delete s.qi,s.k?X0(s.k):(lo||(lo=new WeakMap),Mc(lo,r,s,i))}return Eo(r)?r.k?Rt(r.k):(lo||(lo=new WeakMap),Mc(lo,r,r,i,!0)):r},fT=(r,i)=>{if(Q0(r)){let s=r.export({format:"jwk"});return s.k?X0(s.k):(ao||(ao=new WeakMap),Mc(ao,r,s,i))}return Eo(r)?r.k?Rt(r.k):(ao||(ao=new WeakMap),Mc(ao,r,r,i,!0)):r},Uc={normalizePublicKey:dT,normalizePrivateKey:fT};function hp(r){switch(r){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new it(`Unsupported JWE Algorithm: ${r}`)}}const yi=r=>iu(new Uint8Array(hp(r)>>3)),Z0=(r,i)=>{const s=(r.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${i}-----
${s}
-----END ${i}-----`},eE=async(r,i,s)=>{if(!_r(s))throw new TypeError(nr(s,...sr));if(!s.extractable)throw new TypeError("CryptoKey is not extractable");if(s.type!==r)throw new TypeError(`key is not a ${r} key`);return Z0(cp(new Uint8Array(await Qe.subtle.exportKey(i,s))),`${r.toUpperCase()} KEY`)},hT=r=>eE("public","spki",r),pT=r=>eE("private","pkcs8",r),Ns=(r,i,s=0)=>{s===0&&(i.unshift(i.length),i.unshift(6));const n=r.indexOf(i[0],s);if(n===-1)return!1;const a=r.subarray(n,n+i.length);return a.length!==i.length?!1:a.every((l,c)=>l===i[c])||Ns(r,i,n+1)},uw=r=>{switch(!0){case Ns(r,[42,134,72,206,61,3,1,7]):return"P-256";case Ns(r,[43,129,4,0,34]):return"P-384";case Ns(r,[43,129,4,0,35]):return"P-521";case Ns(r,[43,101,110]):return"X25519";case Ns(r,[43,101,111]):return"X448";case Ns(r,[43,101,112]):return"Ed25519";case Ns(r,[43,101,113]):return"Ed448";default:throw new it("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},tE=async(r,i,s,n,a)=>{let l,c;const m=new Uint8Array(atob(s.replace(r,"")).split("").map(y=>y.charCodeAt(0))),g=i==="spki";switch(n){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},c=g?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},c=g?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},c=g?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},c=g?["verify"]:["sign"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},c=g?["verify"]:["sign"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},c=g?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const y=uw(m);l=y.startsWith("P-")?{name:"ECDH",namedCurve:y}:{name:y},c=g?[]:["deriveBits"];break}case"Ed25519":l={name:"Ed25519"},c=g?["verify"]:["sign"];break;case"EdDSA":l={name:uw(m)},c=g?["verify"]:["sign"];break;default:throw new it('Invalid or unsupported "alg" (Algorithm) value')}return Qe.subtle.importKey(i,m,l,a?.extractable??!1,c)},mT=(r,i,s)=>tE(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",r,i,s),rE=(r,i,s)=>tE(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",r,i,s);function dw(r){const i=[];let s=0;for(;s<r.length;){const n=nE(r.subarray(s));i.push(n),s+=n.byteLength}return i}function nE(r){let i=0,s=r[0]&31;if(i++,s===31){for(s=0;r[i]>=128;)s=s*128+r[i]-128,i++;s=s*128+r[i]-128,i++}let n=0;if(r[i]<128)n=r[i],i++;else if(n===128){for(n=0;r[i+n]!==0||r[i+n+1]!==0;){if(n>r.byteLength)throw new TypeError("invalid indefinite form length");n++}const l=i+n+2;return{byteLength:l,contents:r.subarray(i,i+n),raw:r.subarray(0,l)}}else{const l=r[i]&127;i++,n=0;for(let c=0;c<l;c++)n=n*256+r[i],i++}const a=i+n;return{byteLength:a,contents:r.subarray(i,a),raw:r.subarray(0,a)}}function gT(r){const i=dw(dw(nE(r).contents)[0].contents);return cp(i[i[0].raw[0]===160?6:5].raw)}function yT(r){const i=r.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),s=M0(i);return Z0(gT(s),"PUBLIC KEY")}const vT=(r,i,s)=>{let n;try{n=yT(r)}catch(a){throw new TypeError("Failed to parse the X.509 certificate",{cause:a})}return rE(n,i,s)};async function wT(r,i,s){if(typeof r!="string"||r.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return rE(r,i,s)}async function ET(r,i,s){if(typeof r!="string"||r.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return vT(r,i,s)}async function ST(r,i,s){if(typeof r!="string"||r.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return mT(r,i,s)}async function Xa(r,i){if(!It(r))throw new TypeError("JWK must be an object");switch(i||(i=r.alg),r.kty){case"oct":if(typeof r.k!="string"||!r.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Rt(r.k);case"RSA":if("oth"in r&&r.oth!==void 0)throw new it('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return Y0({...r,alg:i});default:throw new it('Unsupported "kty" (Key Type) Parameter value')}}const po=r=>r?.[Symbol.toStringTag],jh=(r,i,s)=>{if(i.use!==void 0&&i.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(i.key_ops!==void 0&&i.key_ops.includes?.(s)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${s}`);if(i.alg!==void 0&&i.alg!==r)throw new TypeError(`Invalid key for this operation, when present its alg must be ${r}`);return!0},xT=(r,i,s,n)=>{if(!(i instanceof Uint8Array)){if(n&&Eo(i)){if(cT(i)&&jh(r,i,s))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!$0(i))throw new TypeError(z0(r,i,...sr,"Uint8Array",n?"JSON Web Key":null));if(i.type!=="secret")throw new TypeError(`${po(i)} instances for symmetric algorithms must be of type "secret"`)}},bT=(r,i,s,n)=>{if(n&&Eo(i))switch(s){case"sign":if(aT(i)&&jh(r,i,s))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(lT(i)&&jh(r,i,s))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!$0(i))throw new TypeError(z0(r,i,...sr,n?"JSON Web Key":null));if(i.type==="secret")throw new TypeError(`${po(i)} instances for asymmetric algorithms must not be of type "secret"`);if(s==="sign"&&i.type==="public")throw new TypeError(`${po(i)} instances for asymmetric algorithm signing must be of type "private"`);if(s==="decrypt"&&i.type==="public")throw new TypeError(`${po(i)} instances for asymmetric algorithm decryption must be of type "private"`);if(i.algorithm&&s==="verify"&&i.type==="private")throw new TypeError(`${po(i)} instances for asymmetric algorithm verifying must be of type "public"`);if(i.algorithm&&s==="encrypt"&&i.type==="private")throw new TypeError(`${po(i)} instances for asymmetric algorithm encryption must be of type "public"`)};function sE(r,i,s,n){i.startsWith("HS")||i==="dir"||i.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(i)?xT(i,s,n,r):bT(i,s,n,r)}const iE=sE.bind(void 0,!1),Dh=sE.bind(void 0,!0);async function CT(r,i,s,n,a){if(!(s instanceof Uint8Array))throw new TypeError(nr(s,"Uint8Array"));const l=parseInt(r.slice(1,4),10),c=await Qe.subtle.importKey("raw",s.subarray(l>>3),"AES-CBC",!1,["encrypt"]),m=await Qe.subtle.importKey("raw",s.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),g=new Uint8Array(await Qe.subtle.encrypt({iv:n,name:"AES-CBC"},c,i)),y=Pn(a,n,g,L0(a.length<<3)),f=new Uint8Array((await Qe.subtle.sign("HMAC",m,y)).slice(0,l>>3));return{ciphertext:g,tag:f,iv:n}}async function TT(r,i,s,n,a){let l;s instanceof Uint8Array?l=await Qe.subtle.importKey("raw",s,"AES-GCM",!1,["encrypt"]):(Os(s,r,"encrypt"),l=s);const c=new Uint8Array(await Qe.subtle.encrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},l,i)),m=c.slice(-16);return{ciphertext:c.slice(0,-16),tag:m,iv:n}}const oE=async(r,i,s,n,a)=>{if(!_r(s)&&!(s instanceof Uint8Array))throw new TypeError(nr(s,...sr,"Uint8Array"));switch(n?H0(r,n):n=GC(r),r){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s instanceof Uint8Array&&Dc(s,parseInt(r.slice(-3),10)),CT(r,i,s,n,a);case"A128GCM":case"A192GCM":case"A256GCM":return s instanceof Uint8Array&&Dc(s,parseInt(r.slice(1,4),10)),TT(r,i,s,n,a);default:throw new it("Unsupported JWE Content Encryption Algorithm")}};async function kT(r,i,s,n){const a=r.slice(0,7),l=await oE(a,s,i,n,new Uint8Array(0));return{encryptedKey:l.ciphertext,iv:jt(l.iv),tag:jt(l.tag)}}async function _T(r,i,s,n,a){const l=r.slice(0,7);return B0(l,i,s,n,a,new Uint8Array(0))}async function RT(r,i,s,n,a){switch(iE(r,i,"decrypt"),i=await Uc.normalizePrivateKey?.(i,r)||i,r){case"dir":{if(s!==void 0)throw new Ae("Encountered unexpected JWE Encrypted Key");return i}case"ECDH-ES":if(s!==void 0)throw new Ae("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!It(n.epk))throw new Ae('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!V0(i))throw new it("ECDH with the provided key is not allowed or not supported by your javascript runtime");const l=await Xa(n.epk,r);let c,m;if(n.apu!==void 0){if(typeof n.apu!="string")throw new Ae('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{c=Rt(n.apu)}catch{throw new Ae("Failed to base64url decode the apu")}}if(n.apv!==void 0){if(typeof n.apv!="string")throw new Ae('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{m=Rt(n.apv)}catch{throw new Ae("Failed to base64url decode the apv")}}const g=await G0(l,i,r==="ECDH-ES"?n.enc:r,r==="ECDH-ES"?hp(n.enc):parseInt(r.slice(-5,-2),10),c,m);if(r==="ECDH-ES")return g;if(s===void 0)throw new Ae("JWE Encrypted Key missing");return Oh(r.slice(-6),g,s)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(s===void 0)throw new Ae("JWE Encrypted Key missing");return oT(r,i,s)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(s===void 0)throw new Ae("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new Ae('JOSE Header "p2c" (PBES2 Count) missing or invalid');const l=a?.maxPBES2Count||1e4;if(n.p2c>l)throw new Ae('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new Ae('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let c;try{c=Rt(n.p2s)}catch{throw new Ae("Failed to base64url decode the p2s")}return sT(r,i,s,n.p2c,c)}case"A128KW":case"A192KW":case"A256KW":{if(s===void 0)throw new Ae("JWE Encrypted Key missing");return Oh(r,i,s)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(s===void 0)throw new Ae("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new Ae('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new Ae('JOSE Header "tag" (Authentication Tag) missing or invalid');let l;try{l=Rt(n.iv)}catch{throw new Ae("Failed to base64url decode the iv")}let c;try{c=Rt(n.tag)}catch{throw new Ae("Failed to base64url decode the tag")}return _T(r,i,s,l,c)}default:throw new it('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function Qa(r,i,s,n,a){if(a.crit!==void 0&&n?.crit===void 0)throw new r('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(c=>typeof c!="string"||c.length===0))throw new r('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let l;s!==void 0?l=new Map([...Object.entries(s),...i.entries()]):l=i;for(const c of n.crit){if(!l.has(c))throw new it(`Extension Header Parameter "${c}" is not recognized`);if(a[c]===void 0)throw new r(`Extension Header Parameter "${c}" is missing`);if(l.get(c)&&n[c]===void 0)throw new r(`Extension Header Parameter "${c}" MUST be integrity protected`)}return new Set(n.crit)}const Lh=(r,i)=>{if(i!==void 0&&(!Array.isArray(i)||i.some(s=>typeof s!="string")))throw new TypeError(`"${r}" option must be an array of strings`);if(i)return new Set(i)};async function pp(r,i,s){if(!It(r))throw new Ae("Flattened JWE must be an object");if(r.protected===void 0&&r.header===void 0&&r.unprotected===void 0)throw new Ae("JOSE Header missing");if(r.iv!==void 0&&typeof r.iv!="string")throw new Ae("JWE Initialization Vector incorrect type");if(typeof r.ciphertext!="string")throw new Ae("JWE Ciphertext missing or incorrect type");if(r.tag!==void 0&&typeof r.tag!="string")throw new Ae("JWE Authentication Tag incorrect type");if(r.protected!==void 0&&typeof r.protected!="string")throw new Ae("JWE Protected Header incorrect type");if(r.encrypted_key!==void 0&&typeof r.encrypted_key!="string")throw new Ae("JWE Encrypted Key incorrect type");if(r.aad!==void 0&&typeof r.aad!="string")throw new Ae("JWE AAD incorrect type");if(r.header!==void 0&&!It(r.header))throw new Ae("JWE Shared Unprotected Header incorrect type");if(r.unprotected!==void 0&&!It(r.unprotected))throw new Ae("JWE Per-Recipient Unprotected Header incorrect type");let n;if(r.protected)try{const O=Rt(r.protected);n=JSON.parse(Wr.decode(O))}catch{throw new Ae("JWE Protected Header is invalid")}if(!Ya(n,r.header,r.unprotected))throw new Ae("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const a={...n,...r.header,...r.unprotected};if(Qa(Ae,new Map,s?.crit,n,a),a.zip!==void 0)throw new it('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:l,enc:c}=a;if(typeof l!="string"||!l)throw new Ae("missing JWE Algorithm (alg) in JWE Header");if(typeof c!="string"||!c)throw new Ae("missing JWE Encryption Algorithm (enc) in JWE Header");const m=s&&Lh("keyManagementAlgorithms",s.keyManagementAlgorithms),g=s&&Lh("contentEncryptionAlgorithms",s.contentEncryptionAlgorithms);if(m&&!m.has(l)||!m&&l.startsWith("PBES2"))throw new Ka('"alg" (Algorithm) Header Parameter value not allowed');if(g&&!g.has(c))throw new Ka('"enc" (Encryption Algorithm) Header Parameter value not allowed');let y;if(r.encrypted_key!==void 0)try{y=Rt(r.encrypted_key)}catch{throw new Ae("Failed to base64url decode the encrypted_key")}let f=!1;typeof i=="function"&&(i=await i(n,r),f=!0);let h;try{h=await RT(l,i,y,a,s)}catch(O){if(O instanceof TypeError||O instanceof Ae||O instanceof it)throw O;h=yi(c)}let w,S;if(r.iv!==void 0)try{w=Rt(r.iv)}catch{throw new Ae("Failed to base64url decode the iv")}if(r.tag!==void 0)try{S=Rt(r.tag)}catch{throw new Ae("Failed to base64url decode the tag")}const E=At.encode(r.protected??"");let b;r.aad!==void 0?b=Pn(E,At.encode("."),At.encode(r.aad)):b=E;let C;try{C=Rt(r.ciphertext)}catch{throw new Ae("Failed to base64url decode the ciphertext")}const P={plaintext:await B0(c,h,C,w,S,b)};if(r.protected!==void 0&&(P.protectedHeader=n),r.aad!==void 0)try{P.additionalAuthenticatedData=Rt(r.aad)}catch{throw new Ae("Failed to base64url decode the aad")}return r.unprotected!==void 0&&(P.sharedUnprotectedHeader=r.unprotected),r.header!==void 0&&(P.unprotectedHeader=r.header),f?{...P,key:i}:P}async function aE(r,i,s){if(r instanceof Uint8Array&&(r=Wr.decode(r)),typeof r!="string")throw new Ae("Compact JWE must be a string or Uint8Array");const{0:n,1:a,2:l,3:c,4:m,length:g}=r.split(".");if(g!==5)throw new Ae("Invalid Compact JWE");const y=await pp({ciphertext:c,iv:l||void 0,protected:n,tag:m||void 0,encrypted_key:a||void 0},i,s),f={plaintext:y.plaintext,protectedHeader:y.protectedHeader};return typeof i=="function"?{...f,key:y.key}:f}async function AT(r,i,s){if(!It(r))throw new Ae("General JWE must be an object");if(!Array.isArray(r.recipients)||!r.recipients.every(It))throw new Ae("JWE Recipients missing or incorrect type");if(!r.recipients.length)throw new Ae("JWE Recipients has no members");for(const n of r.recipients)try{return await pp({aad:r.aad,ciphertext:r.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:r.iv,protected:r.protected,tag:r.tag,unprotected:r.unprotected},i,s)}catch{}throw new go}const lE=Symbol(),IT=async r=>{if(r instanceof Uint8Array)return{kty:"oct",k:jt(r)};if(!_r(r))throw new TypeError(nr(r,...sr,"Uint8Array"));if(!r.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:i,key_ops:s,alg:n,use:a,...l}=await Qe.subtle.exportKey("jwk",r);return l};async function NT(r){return hT(r)}async function PT(r){return pT(r)}async function cE(r){return IT(r)}async function uE(r,i,s,n,a={}){let l,c,m;switch(iE(r,s,"encrypt"),s=await Uc.normalizePublicKey?.(s,r)||s,r){case"dir":{m=s;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!V0(s))throw new it("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:g,apv:y}=a;let{epk:f}=a;f||(f=(await eT(s)).privateKey);const{x:h,y:w,crv:S,kty:E}=await cE(f),b=await G0(s,f,r==="ECDH-ES"?i:r,r==="ECDH-ES"?hp(i):parseInt(r.slice(-5,-2),10),g,y);if(c={epk:{x:h,crv:S,kty:E}},E==="EC"&&(c.epk.y=w),g&&(c.apu=jt(g)),y&&(c.apv=jt(y)),r==="ECDH-ES"){m=b;break}m=n||yi(i);const C=r.slice(-6);l=await Ph(C,b,m);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{m=n||yi(i),l=await iT(r,s,m);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{m=n||yi(i);const{p2c:g,p2s:y}=a;({encryptedKey:l,...c}=await nT(r,s,m,g,y));break}case"A128KW":case"A192KW":case"A256KW":{m=n||yi(i),l=await Ph(r,s,m);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{m=n||yi(i);const{iv:g}=a;({encryptedKey:l,...c}=await kT(r,s,m,g));break}default:throw new it('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:m,encryptedKey:l,parameters:c}}class Hc{constructor(i){if(!(i instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=i}setKeyManagementParameters(i){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=i,this}setProtectedHeader(i){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=i,this}setSharedUnprotectedHeader(i){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=i,this}setUnprotectedHeader(i){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=i,this}setAdditionalAuthenticatedData(i){return this._aad=i,this}setContentEncryptionKey(i){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=i,this}setInitializationVector(i){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=i,this}async encrypt(i,s){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new Ae("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Ya(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new Ae("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Qa(Ae,new Map,s?.crit,this._protectedHeader,n),n.zip!==void 0)throw new it('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:a,enc:l}=n;if(typeof a!="string"||!a)throw new Ae('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof l!="string"||!l)throw new Ae('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let c;if(this._cek&&(a==="dir"||a==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${a}`);let m;{let b;({cek:m,encryptedKey:c,parameters:b}=await uE(a,l,i,this._cek,this._keyManagementParameters)),b&&(s&&lE in s?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...b}:this.setUnprotectedHeader(b):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...b}:this.setProtectedHeader(b))}let g,y,f;this._protectedHeader?y=At.encode(jt(JSON.stringify(this._protectedHeader))):y=At.encode(""),this._aad?(f=jt(this._aad),g=Pn(y,At.encode("."),At.encode(f))):g=y;const{ciphertext:h,tag:w,iv:S}=await oE(l,this._plaintext,m,this._iv,g),E={ciphertext:jt(h)};return S&&(E.iv=jt(S)),w&&(E.tag=jt(w)),c&&(E.encrypted_key=jt(c)),f&&(E.aad=f),this._protectedHeader&&(E.protected=Wr.decode(y)),this._sharedUnprotectedHeader&&(E.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(E.header=this._unprotectedHeader),E}}class OT{constructor(i,s,n){this.parent=i,this.key=s,this.options=n}setUnprotectedHeader(i){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=i,this}addRecipient(...i){return this.parent.addRecipient(...i)}encrypt(...i){return this.parent.encrypt(...i)}done(){return this.parent}}class jT{constructor(i){this._recipients=[],this._plaintext=i}addRecipient(i,s){const n=new OT(this,i,{crit:s?.crit});return this._recipients.push(n),n}setProtectedHeader(i){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=i,this}setSharedUnprotectedHeader(i){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=i,this}setAdditionalAuthenticatedData(i){return this._aad=i,this}async encrypt(){if(!this._recipients.length)throw new Ae("at least one recipient must be added");if(this._recipients.length===1){const[a]=this._recipients,l=await new Hc(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(a.unprotectedHeader).encrypt(a.key,{...a.options}),c={ciphertext:l.ciphertext,iv:l.iv,recipients:[{}],tag:l.tag};return l.aad&&(c.aad=l.aad),l.protected&&(c.protected=l.protected),l.unprotected&&(c.unprotected=l.unprotected),l.encrypted_key&&(c.recipients[0].encrypted_key=l.encrypted_key),l.header&&(c.recipients[0].header=l.header),c}let i;for(let a=0;a<this._recipients.length;a++){const l=this._recipients[a];if(!Ya(this._protectedHeader,this._unprotectedHeader,l.unprotectedHeader))throw new Ae("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const c={...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader},{alg:m}=c;if(typeof m!="string"||!m)throw new Ae('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(m==="dir"||m==="ECDH-ES")throw new Ae('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof c.enc!="string"||!c.enc)throw new Ae('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!i)i=c.enc;else if(i!==c.enc)throw new Ae('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(Qa(Ae,new Map,l.options.crit,this._protectedHeader,c),c.zip!==void 0)throw new it('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const s=yi(i),n={ciphertext:"",iv:"",recipients:[],tag:""};for(let a=0;a<this._recipients.length;a++){const l=this._recipients[a],c={};n.recipients.push(c);const g={...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader}.alg.startsWith("PBES2")?2048+a:void 0;if(a===0){const h=await new Hc(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(l.unprotectedHeader).setKeyManagementParameters({p2c:g}).encrypt(l.key,{...l.options,[lE]:!0});n.ciphertext=h.ciphertext,n.iv=h.iv,n.tag=h.tag,h.aad&&(n.aad=h.aad),h.protected&&(n.protected=h.protected),h.unprotected&&(n.unprotected=h.unprotected),c.encrypted_key=h.encrypted_key,h.header&&(c.header=h.header);continue}const{encryptedKey:y,parameters:f}=await uE(l.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,i,l.key,s,{p2c:g});c.encrypted_key=jt(y),(l.unprotectedHeader||f)&&(c.header={...l.unprotectedHeader,...f})}return n}}function dE(r,i){const s=`SHA-${r.slice(-3)}`;switch(r){case"HS256":case"HS384":case"HS512":return{hash:s,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:s,name:"RSA-PSS",saltLength:r.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:s,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:s,name:"ECDSA",namedCurve:i.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:i.name};default:throw new it(`alg ${r} is not supported either by JOSE or your javascript runtime`)}}async function fE(r,i,s){if(s==="sign"&&(i=await Uc.normalizePrivateKey(i,r)),s==="verify"&&(i=await Uc.normalizePublicKey(i,r)),_r(i))return YC(i,r,s),i;if(i instanceof Uint8Array){if(!r.startsWith("HS"))throw new TypeError(nr(i,...sr));return Qe.subtle.importKey("raw",i,{hash:`SHA-${r.slice(-3)}`,name:"HMAC"},!1,[s])}throw new TypeError(nr(i,...sr,"Uint8Array","JSON Web Key"))}const DT=async(r,i,s,n)=>{const a=await fE(r,i,"verify");au(r,a);const l=dE(r,a.algorithm);try{return await Qe.subtle.verify(l,a,s,n)}catch{return!1}};async function mp(r,i,s){if(!It(r))throw new at("Flattened JWS must be an object");if(r.protected===void 0&&r.header===void 0)throw new at('Flattened JWS must have either of the "protected" or "header" members');if(r.protected!==void 0&&typeof r.protected!="string")throw new at("JWS Protected Header incorrect type");if(r.payload===void 0)throw new at("JWS Payload missing");if(typeof r.signature!="string")throw new at("JWS Signature missing or incorrect type");if(r.header!==void 0&&!It(r.header))throw new at("JWS Unprotected Header incorrect type");let n={};if(r.protected)try{const b=Rt(r.protected);n=JSON.parse(Wr.decode(b))}catch{throw new at("JWS Protected Header is invalid")}if(!Ya(n,r.header))throw new at("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...n,...r.header},l=Qa(at,new Map([["b64",!0]]),s?.crit,n,a);let c=!0;if(l.has("b64")&&(c=n.b64,typeof c!="boolean"))throw new at('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:m}=a;if(typeof m!="string"||!m)throw new at('JWS "alg" (Algorithm) Header Parameter missing or invalid');const g=s&&Lh("algorithms",s.algorithms);if(g&&!g.has(m))throw new Ka('"alg" (Algorithm) Header Parameter value not allowed');if(c){if(typeof r.payload!="string")throw new at("JWS Payload must be a string")}else if(typeof r.payload!="string"&&!(r.payload instanceof Uint8Array))throw new at("JWS Payload must be a string or an Uint8Array instance");let y=!1;typeof i=="function"?(i=await i(n,r),y=!0,Dh(m,i,"verify"),Eo(i)&&(i=await Xa(i,m))):Dh(m,i,"verify");const f=Pn(At.encode(r.protected??""),At.encode("."),typeof r.payload=="string"?At.encode(r.payload):r.payload);let h;try{h=Rt(r.signature)}catch{throw new at("Failed to base64url decode the signature")}if(!await DT(m,i,h,f))throw new su;let S;if(c)try{S=Rt(r.payload)}catch{throw new at("Failed to base64url decode the payload")}else typeof r.payload=="string"?S=At.encode(r.payload):S=r.payload;const E={payload:S};return r.protected!==void 0&&(E.protectedHeader=n),r.header!==void 0&&(E.unprotectedHeader=r.header),y?{...E,key:i}:E}async function hE(r,i,s){if(r instanceof Uint8Array&&(r=Wr.decode(r)),typeof r!="string")throw new at("Compact JWS must be a string or Uint8Array");const{0:n,1:a,2:l,length:c}=r.split(".");if(c!==3)throw new at("Invalid Compact JWS");const m=await mp({payload:a,protected:n,signature:l},i,s),g={payload:m.payload,protectedHeader:m.protectedHeader};return typeof i=="function"?{...g,key:m.key}:g}async function LT(r,i,s){if(!It(r))throw new at("General JWS must be an object");if(!Array.isArray(r.signatures)||!r.signatures.every(It))throw new at("JWS Signatures missing or incorrect type");for(const n of r.signatures)try{return await mp({header:n.header,payload:r.payload,protected:n.protected,signature:n.signature},i,s)}catch{}throw new su}const Ps=r=>Math.floor(r.getTime()/1e3),pE=60,mE=pE*60,gp=mE*24,MT=gp*7,UT=gp*365.25,HT=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,za=r=>{const i=HT.exec(r);if(!i||i[4]&&i[1])throw new TypeError("Invalid time period format");const s=parseFloat(i[2]),n=i[3].toLowerCase();let a;switch(n){case"sec":case"secs":case"second":case"seconds":case"s":a=Math.round(s);break;case"minute":case"minutes":case"min":case"mins":case"m":a=Math.round(s*pE);break;case"hour":case"hours":case"hr":case"hrs":case"h":a=Math.round(s*mE);break;case"day":case"days":case"d":a=Math.round(s*gp);break;case"week":case"weeks":case"w":a=Math.round(s*MT);break;default:a=Math.round(s*UT);break}return i[1]==="-"||i[4]==="ago"?-a:a},fw=r=>r.toLowerCase().replace(/^application\//,""),qT=(r,i)=>typeof r=="string"?i.includes(r):Array.isArray(r)?i.some(Set.prototype.has.bind(new Set(r))):!1,yp=(r,i,s={})=>{let n;try{n=JSON.parse(Wr.decode(i))}catch{}if(!It(n))throw new pr("JWT Claims Set must be a top-level JSON object");const{typ:a}=s;if(a&&(typeof r.typ!="string"||fw(r.typ)!==fw(a)))throw new dr('unexpected "typ" JWT header value',n,"typ","check_failed");const{requiredClaims:l=[],issuer:c,subject:m,audience:g,maxTokenAge:y}=s,f=[...l];y!==void 0&&f.push("iat"),g!==void 0&&f.push("aud"),m!==void 0&&f.push("sub"),c!==void 0&&f.push("iss");for(const E of new Set(f.reverse()))if(!(E in n))throw new dr(`missing required "${E}" claim`,n,E,"missing");if(c&&!(Array.isArray(c)?c:[c]).includes(n.iss))throw new dr('unexpected "iss" claim value',n,"iss","check_failed");if(m&&n.sub!==m)throw new dr('unexpected "sub" claim value',n,"sub","check_failed");if(g&&!qT(n.aud,typeof g=="string"?[g]:g))throw new dr('unexpected "aud" claim value',n,"aud","check_failed");let h;switch(typeof s.clockTolerance){case"string":h=za(s.clockTolerance);break;case"number":h=s.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:w}=s,S=Ps(w||new Date);if((n.iat!==void 0||y)&&typeof n.iat!="number")throw new dr('"iat" claim must be a number',n,"iat","invalid");if(n.nbf!==void 0){if(typeof n.nbf!="number")throw new dr('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>S+h)throw new dr('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(n.exp!==void 0){if(typeof n.exp!="number")throw new dr('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=S-h)throw new jc('"exp" claim timestamp check failed',n,"exp","check_failed")}if(y){const E=S-n.iat,b=typeof y=="number"?y:za(y);if(E-h>b)throw new jc('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(E<0-h)throw new dr('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function FT(r,i,s){const n=await hE(r,i,s);if(n.protectedHeader.crit?.includes("b64")&&n.protectedHeader.b64===!1)throw new pr("JWTs MUST NOT use unencoded payload");const l={payload:yp(n.protectedHeader,n.payload,s),protectedHeader:n.protectedHeader};return typeof i=="function"?{...l,key:n.key}:l}async function zT(r,i,s){const n=await aE(r,i,s),a=yp(n.protectedHeader,n.plaintext,s),{protectedHeader:l}=n;if(l.iss!==void 0&&l.iss!==a.iss)throw new dr('replicated "iss" claim header parameter mismatch',a,"iss","mismatch");if(l.sub!==void 0&&l.sub!==a.sub)throw new dr('replicated "sub" claim header parameter mismatch',a,"sub","mismatch");if(l.aud!==void 0&&JSON.stringify(l.aud)!==JSON.stringify(a.aud))throw new dr('replicated "aud" claim header parameter mismatch',a,"aud","mismatch");const c={payload:a,protectedHeader:l};return typeof i=="function"?{...c,key:n.key}:c}class gE{constructor(i){this._flattened=new Hc(i)}setContentEncryptionKey(i){return this._flattened.setContentEncryptionKey(i),this}setInitializationVector(i){return this._flattened.setInitializationVector(i),this}setProtectedHeader(i){return this._flattened.setProtectedHeader(i),this}setKeyManagementParameters(i){return this._flattened.setKeyManagementParameters(i),this}async encrypt(i,s){const n=await this._flattened.encrypt(i,s);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}const $T=async(r,i,s)=>{const n=await fE(r,i,"sign");au(r,n);const a=await Qe.subtle.sign(dE(r,n.algorithm),n,s);return new Uint8Array(a)};class vp{constructor(i){if(!(i instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=i}setProtectedHeader(i){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=i,this}setUnprotectedHeader(i){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=i,this}async sign(i,s){if(!this._protectedHeader&&!this._unprotectedHeader)throw new at("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Ya(this._protectedHeader,this._unprotectedHeader))throw new at("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader},a=Qa(at,new Map([["b64",!0]]),s?.crit,this._protectedHeader,n);let l=!0;if(a.has("b64")&&(l=this._protectedHeader.b64,typeof l!="boolean"))throw new at('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=n;if(typeof c!="string"||!c)throw new at('JWS "alg" (Algorithm) Header Parameter missing or invalid');Dh(c,i,"sign");let m=this._payload;l&&(m=At.encode(jt(m)));let g;this._protectedHeader?g=At.encode(jt(JSON.stringify(this._protectedHeader))):g=At.encode("");const y=Pn(g,At.encode("."),m),f=await $T(c,i,y),h={signature:jt(f),payload:""};return l&&(h.payload=Wr.decode(m)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=Wr.decode(g)),h}}class yE{constructor(i){this._flattened=new vp(i)}setProtectedHeader(i){return this._flattened.setProtectedHeader(i),this}async sign(i,s){const n=await this._flattened.sign(i,s);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}class BT{constructor(i,s,n){this.parent=i,this.key=s,this.options=n}setProtectedHeader(i){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=i,this}setUnprotectedHeader(i){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=i,this}addSignature(...i){return this.parent.addSignature(...i)}sign(...i){return this.parent.sign(...i)}done(){return this.parent}}class KT{constructor(i){this._signatures=[],this._payload=i}addSignature(i,s){const n=new BT(this,i,s);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new at("at least one signature must be added");const i={signatures:[],payload:""};for(let s=0;s<this._signatures.length;s++){const n=this._signatures[s],a=new vp(this._payload);a.setProtectedHeader(n.protectedHeader),a.setUnprotectedHeader(n.unprotectedHeader);const{payload:l,...c}=await a.sign(n.key,n.options);if(s===0)i.payload=l;else if(i.payload!==l)throw new at("inconsistent use of JWS Unencoded Payload (RFC7797)");i.signatures.push(c)}return i}}function di(r,i){if(!Number.isFinite(i))throw new TypeError(`Invalid ${r} input`);return i}class wp{constructor(i={}){if(!It(i))throw new TypeError("JWT Claims Set MUST be an object");this._payload=i}setIssuer(i){return this._payload={...this._payload,iss:i},this}setSubject(i){return this._payload={...this._payload,sub:i},this}setAudience(i){return this._payload={...this._payload,aud:i},this}setJti(i){return this._payload={...this._payload,jti:i},this}setNotBefore(i){return typeof i=="number"?this._payload={...this._payload,nbf:di("setNotBefore",i)}:i instanceof Date?this._payload={...this._payload,nbf:di("setNotBefore",Ps(i))}:this._payload={...this._payload,nbf:Ps(new Date)+za(i)},this}setExpirationTime(i){return typeof i=="number"?this._payload={...this._payload,exp:di("setExpirationTime",i)}:i instanceof Date?this._payload={...this._payload,exp:di("setExpirationTime",Ps(i))}:this._payload={...this._payload,exp:Ps(new Date)+za(i)},this}setIssuedAt(i){return typeof i>"u"?this._payload={...this._payload,iat:Ps(new Date)}:i instanceof Date?this._payload={...this._payload,iat:di("setIssuedAt",Ps(i))}:typeof i=="string"?this._payload={...this._payload,iat:di("setIssuedAt",Ps(new Date)+za(i))}:this._payload={...this._payload,iat:di("setIssuedAt",i)},this}}class WT extends wp{setProtectedHeader(i){return this._protectedHeader=i,this}async sign(i,s){const n=new yE(At.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new pr("JWTs MUST NOT use unencoded payload");return n.sign(i,s)}}class GT extends wp{setProtectedHeader(i){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=i,this}setKeyManagementParameters(i){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=i,this}setContentEncryptionKey(i){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=i,this}setInitializationVector(i){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=i,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(i,s){const n=new gE(At.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(i,s)}}const As=(r,i)=>{if(typeof r!="string"||!r)throw new up(`${i} missing or invalid`)};async function vE(r,i){if(!It(r))throw new TypeError("JWK must be an object");if(i??(i="sha256"),i!=="sha256"&&i!=="sha384"&&i!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let s;switch(r.kty){case"EC":As(r.crv,'"crv" (Curve) Parameter'),As(r.x,'"x" (X Coordinate) Parameter'),As(r.y,'"y" (Y Coordinate) Parameter'),s={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":As(r.crv,'"crv" (Subtype of Key Pair) Parameter'),As(r.x,'"x" (Public Key) Parameter'),s={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":As(r.e,'"e" (Exponent) Parameter'),As(r.n,'"n" (Modulus) Parameter'),s={e:r.e,kty:r.kty,n:r.n};break;case"oct":As(r.k,'"k" (Key Value) Parameter'),s={k:r.k,kty:r.kty};break;default:throw new it('"kty" (Key Type) Parameter missing or unsupported')}const n=At.encode(JSON.stringify(s));return jt(await D0(i,n))}async function VT(r,i){i??(i="sha256");const s=await vE(r,i);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${i.slice(-3)}:${s}`}async function JT(r,i){const s={...r,...i?.header};if(!It(s.jwk))throw new at('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const n=await Xa({...s.jwk,ext:!0},s.alg);if(n instanceof Uint8Array||n.type!=="public")throw new at('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function YT(r){switch(typeof r=="string"&&r.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new it('Unsupported "alg" value for a JSON Web Key Set')}}function XT(r){return r&&typeof r=="object"&&Array.isArray(r.keys)&&r.keys.every(QT)}function QT(r){return It(r)}function wE(r){return typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r))}class ZT{constructor(i){if(this._cached=new WeakMap,!XT(i))throw new ru("JSON Web Key Set malformed");this._jwks=wE(i)}async getKey(i,s){const{alg:n,kid:a}={...i,...s?.header},l=YT(n),c=this._jwks.keys.filter(y=>{let f=l===y.kty;if(f&&typeof a=="string"&&(f=a===y.kid),f&&typeof y.alg=="string"&&(f=n===y.alg),f&&typeof y.use=="string"&&(f=y.use==="sig"),f&&Array.isArray(y.key_ops)&&(f=y.key_ops.includes("verify")),f)switch(n){case"ES256":f=y.crv==="P-256";break;case"ES256K":f=y.crv==="secp256k1";break;case"ES384":f=y.crv==="P-384";break;case"ES512":f=y.crv==="P-521";break;case"Ed25519":f=y.crv==="Ed25519";break;case"EdDSA":f=y.crv==="Ed25519"||y.crv==="Ed448";break}return f}),{0:m,length:g}=c;if(g===0)throw new nu;if(g!==1){const y=new dp,{_cached:f}=this;throw y[Symbol.asyncIterator]=async function*(){for(const h of c)try{yield await hw(f,h,n)}catch{}},y}return hw(this._cached,m,n)}}async function hw(r,i,s){const n=r.get(i)||r.set(i,{}).get(i);if(n[s]===void 0){const a=await Xa({...i,ext:!0},s);if(a instanceof Uint8Array||a.type!=="public")throw new ru("JSON Web Key Set members must be public keys");n[s]=a}return n[s]}function Mh(r){const i=new ZT(r),s=async(n,a)=>i.getKey(n,a);return Object.defineProperties(s,{jwks:{value:()=>wE(i._jwks),enumerable:!0,configurable:!1,writable:!1}}),s}const ek=async(r,i,s)=>{let n,a,l=!1;typeof AbortController=="function"&&(n=new AbortController,a=setTimeout(()=>{l=!0,n.abort()},i));const c=await fetch(r.href,{signal:n?n.signal:void 0,redirect:"manual",headers:s.headers}).catch(m=>{throw l?new fp:m});if(a!==void 0&&clearTimeout(a),c.status!==200)throw new Wt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await c.json()}catch{throw new Wt("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function tk(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let Uh;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(Uh="jose/v5.10.0");const $a=Symbol();function rk(r,i){return!(typeof r!="object"||r===null||!("uat"in r)||typeof r.uat!="number"||Date.now()-r.uat>=i||!("jwks"in r)||!It(r.jwks)||!Array.isArray(r.jwks.keys)||!Array.prototype.every.call(r.jwks.keys,It))}class nk{constructor(i,s){if(!(i instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(i.href),this._options={agent:s?.agent,headers:s?.headers},this._timeoutDuration=typeof s?.timeoutDuration=="number"?s?.timeoutDuration:5e3,this._cooldownDuration=typeof s?.cooldownDuration=="number"?s?.cooldownDuration:3e4,this._cacheMaxAge=typeof s?.cacheMaxAge=="number"?s?.cacheMaxAge:6e5,s?.[$a]!==void 0&&(this._cache=s?.[$a],rk(s?.[$a],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Mh(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(i,s){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(i,s)}catch(n){if(n instanceof nu&&this.coolingDown()===!1)return await this.reload(),this._local(i,s);throw n}}async reload(){this._pendingFetch&&tk()&&(this._pendingFetch=void 0);const i=new Headers(this._options.headers);Uh&&!i.has("User-Agent")&&(i.set("User-Agent",Uh),this._options.headers=Object.fromEntries(i.entries())),this._pendingFetch||(this._pendingFetch=ek(this._url,this._timeoutDuration,this._options).then(s=>{this._local=Mh(s),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=s),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(s=>{throw this._pendingFetch=void 0,s})),await this._pendingFetch}}function sk(r,i){const s=new nk(r,i),n=async(a,l)=>s.getKey(a,l);return Object.defineProperties(n,{coolingDown:{get:()=>s.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>s.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>s.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!s._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>s._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),n}const ik=$a;class ok extends wp{encode(){const i=jt(JSON.stringify({alg:"none"})),s=jt(JSON.stringify(this._payload));return`${i}.${s}.`}static decode(i,s){if(typeof i!="string")throw new pr("Unsecured JWT must be a string");const{0:n,1:a,2:l,length:c}=i.split(".");if(c!==3||l!=="")throw new pr("Invalid Unsecured JWT");let m;try{if(m=JSON.parse(Wr.decode(Rt(n))),m.alg!=="none")throw new Error}catch{throw new pr("Invalid Unsecured JWT")}return{payload:yp(m,Rt(a),s),header:m}}}const ak=jt,Ep=Rt,lk=Object.freeze(Object.defineProperty({__proto__:null,decode:Ep,encode:ak},Symbol.toStringTag,{value:"Module"}));function ck(r){let i;if(typeof r=="string"){const s=r.split(".");(s.length===3||s.length===5)&&([i]=s)}else if(typeof r=="object"&&r)if("protected"in r)i=r.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof i!="string"||!i)throw new Error;const s=JSON.parse(Wr.decode(Ep(i)));if(!It(s))throw new Error;return s}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function uk(r){if(typeof r!="string")throw new pr("JWTs must use Compact JWS serialization, JWT must be a string");const{1:i,length:s}=r.split(".");if(s===5)throw new pr("Only JWTs using Compact JWS serialization can be decoded");if(s!==3)throw new pr("Invalid JWT");if(!i)throw new pr("JWTs must contain a payload");let n;try{n=Ep(i)}catch{throw new pr("Failed to base64url decode the payload")}let a;try{a=JSON.parse(Wr.decode(n))}catch{throw new pr("Failed to parse the decoded payload as JSON")}if(!It(a))throw new pr("Invalid JWT Claims Set");return a}async function dk(r,i){let s,n,a;switch(r){case"HS256":case"HS384":case"HS512":s=parseInt(r.slice(-3),10),n={name:"HMAC",hash:`SHA-${s}`,length:s},a=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s=parseInt(r.slice(-3),10),iu(new Uint8Array(s>>3));case"A128KW":case"A192KW":case"A256KW":s=parseInt(r.slice(1,4),10),n={name:"AES-KW",length:s},a=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":s=parseInt(r.slice(1,4),10),n={name:"AES-GCM",length:s},a=["encrypt","decrypt"];break;default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Qe.subtle.generateKey(n,i?.extractable??!1,a)}function mh(r){const i=r?.modulusLength??2048;if(typeof i!="number"||i<2048)throw new it("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return i}async function fk(r,i){let s,n;switch(r){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:mh(i)},n=["sign","verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:mh(i)},n=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:mh(i)},n=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},n=["sign","verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},n=["sign","verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},n=["sign","verify"];break;case"Ed25519":s={name:"Ed25519"},n=["sign","verify"];break;case"EdDSA":{n=["sign","verify"];const a=i?.crv??"Ed25519";switch(a){case"Ed25519":case"Ed448":s={name:a};break;default:throw new it("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{n=["deriveKey","deriveBits"];const a=i?.crv??"P-256";switch(a){case"P-256":case"P-384":case"P-521":{s={name:"ECDH",namedCurve:a};break}case"X25519":case"X448":s={name:a};break;default:throw new it("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new it('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Qe.subtle.generateKey(s,i?.extractable??!1,n)}async function hk(r,i){return fk(r,i)}async function pk(r,i){return dk(r,i)}const mk="WebCryptoAPI",gk=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:gE,CompactSign:yE,EmbeddedJWK:JT,EncryptJWT:GT,FlattenedEncrypt:Hc,FlattenedSign:vp,GeneralEncrypt:jT,GeneralSign:KT,SignJWT:WT,UnsecuredJWT:ok,base64url:lk,calculateJwkThumbprint:vE,calculateJwkThumbprintUri:VT,compactDecrypt:aE,compactVerify:hE,createLocalJWKSet:Mh,createRemoteJWKSet:sk,cryptoRuntime:mk,decodeJwt:uk,decodeProtectedHeader:ck,errors:WC,experimental_jwksCache:ik,exportJWK:cE,exportPKCS8:PT,exportSPKI:NT,flattenedDecrypt:pp,flattenedVerify:mp,generalDecrypt:AT,generalVerify:LT,generateKeyPair:hk,generateSecret:pk,importJWK:Xa,importPKCS8:ST,importSPKI:wT,importX509:ET,jwksCache:$a,jwtDecrypt:zT,jwtVerify:FT},Symbol.toStringTag,{value:"Module"}));var pw;function mw(){if(pw)return Ra;pw=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.TokenValidationService=void 0;const r=gk;class i{constructor(n){this.jwksCache=new Map,this.JWKS_CACHE_TTL_MS=3600*1e3,this.resultCache=new Map,this.RESULT_CACHE_TTL_MS=60*1e3,this.keycloakConfig=n}setKeycloakConfig(n){this.keycloakConfig=n}async validateTokenLocal(n,a){try{if(!a?.skipResultCache){const c=this.getCachedResult(n);if(c)return{...c,cached:!0}}const l=await this.performValidation(n,a);return!a?.skipResultCache&&this.shouldCacheResult(l)&&this.cacheResult(n,l),l}catch(l){const c=l instanceof Error?l.message:"Token validation failed";return{valid:!1,tokenType:a?.tokenType||"auto",error:c}}}clearCache(n){n?this.jwksCache.delete(n):this.jwksCache.clear()}clearResultCache(){this.resultCache.clear()}clearAllCaches(){this.jwksCache.clear(),this.resultCache.clear()}async performValidation(n,a){const c=(0,r.decodeJwt)(n).iss;return c?this.determineTokenType(c,a?.tokenType)==="keycloak"?this.validateKeycloakToken(n,a):this.validateDelegatedToken(n,c,a):{valid:!1,tokenType:"auto",error:"Token missing issuer (iss) claim"}}determineTokenType(n,a){if(a&&a!=="auto")return a;if(this.keycloakConfig){const l=`${this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;if(n===l)return"keycloak"}return"delegated"}async validateKeycloakToken(n,a){if(!this.keycloakConfig)return{valid:!1,tokenType:"keycloak",error:"Keycloak not configured"};const l=`${this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}/protocol/openid-connect/certs`,c=`${this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;try{const m=await this.getJWKS(l),g={issuer:c};this.keycloakConfig.verifyAudience&&this.keycloakConfig.clientId&&!a?.skipAudienceValidation&&(g.audience=this.keycloakConfig.clientId);const{payload:y}=await(0,r.jwtVerify)(n,m,g);return{valid:!0,tokenType:"keycloak",payload:this.mapPayload(y)}}catch(m){return{valid:!1,tokenType:"keycloak",error:m instanceof Error?m.message:"Keycloak token validation failed"}}}async validateDelegatedToken(n,a,l){let c=null;if(typeof l?.delegatedProvider=="function"?c=await l.delegatedProvider(a):l?.delegatedProvider&&(c=l.delegatedProvider),!c)return{valid:!1,tokenType:"delegated",error:`No delegated provider configured for issuer: ${a}`};try{const m=await this.getJWKS(c.jwksUri),g={issuer:c.issuer};!l?.skipAudienceValidation&&c.audience&&(g.audience=c.audience);const{payload:y}=await(0,r.jwtVerify)(n,m,g);return{valid:!0,tokenType:"delegated",providerKey:c.key,payload:this.mapPayload(y)}}catch(m){return{valid:!1,tokenType:"delegated",providerKey:c.key,error:m instanceof Error?m.message:"Delegated token validation failed"}}}mapPayload(n){return{...n,sub:n.sub,iss:n.iss,email:n.email,preferredUsername:n.preferred_username,name:n.name,realmAccess:n.realm_access,resourceAccess:n.resource_access}}async getJWKS(n){const a=this.jwksCache.get(n);if(a&&a.expiresAt>Date.now())return a.keySet;const l=(0,r.createRemoteJWKSet)(new URL(n));return this.jwksCache.set(n,{keySet:l,expiresAt:Date.now()+this.JWKS_CACHE_TTL_MS}),l}getTokenHash(n){return n.length<=32?n:`${n.slice(0,16)}...${n.slice(-16)}`}getCachedResult(n){const a=this.getTokenHash(n),l=this.resultCache.get(a);return l&&l.expiresAt>Date.now()?l.result:(l&&this.resultCache.delete(a),null)}cacheResult(n,a){const l=this.getTokenHash(n);this.resultCache.set(l,{result:a,expiresAt:Date.now()+this.RESULT_CACHE_TTL_MS})}shouldCacheResult(n){return!!(n.valid||n.error?.includes("expired")||n.error?.includes('"exp"')||n.error?.includes("signature")||n.error?.includes("invalid"))}}return Ra.TokenValidationService=i,Ra}var gh={},gw;function yk(){return gw||(gw=1,Object.defineProperty(gh,"__esModule",{value:!0})),gh}var Aa={},yw;function EE(){if(yw)return Aa;yw=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.FilterBuilder=void 0;class r{constructor(){this.filters=[]}add(s,n,a){return this.filters.push({field:s,op:n,value:a}),this}addMany(s){return this.filters.push(...s),this}build(){return[...this.filters]}toQueryString(){const s=new URLSearchParams;return this.filters.forEach(n=>{const a=Array.isArray(n.value)?n.value.join(","):String(n.value);s.append("filter",`${n.field}:${n.op}:${a}`)}),s.toString()}}return Aa.FilterBuilder=r,Aa}var yh={},vw;function vk(){return vw||(vw=1,Object.defineProperty(yh,"__esModule",{value:!0})),yh}var Ia={},Na={},ww;function SE(){if(ww)return Na;ww=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.decodeJWT=i,Na.extractUserIdFromToken=s;function r(n){let a=n.replace(/-/g,"+").replace(/_/g,"/");for(;a.length%4;)a+="=";return a}function i(n){try{const a=n.split(".");if(a.length!==3)return null;const l=a[1],c=r(l),m=atob(c);return JSON.parse(m)}catch{return null}}function s(n){try{const a=i(n);if(!a)return null;const l=a.sub||a.userId||a.user_id||a.id;return l||null}catch{return null}}return Na}var Ew;function xE(){if(Ew)return Ia;Ew=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.BrowserPermissionService=void 0;const r=SE();class i{constructor(n,a,l){this.config=n.config,this.cache=l,this.httpClient=n,this.apiClient=a,this.permissionTTL=this.config.cache?.permissionTTL||900}extractUserIdFromToken(n){try{const a=(0,r.decodeJWT)(n);return a?a.sub||a.userId||a.user_id||a.id:null}catch{return null}}async getPermissions(n,a){try{let l=this.extractUserIdFromToken(n);const c=l?`permissions:${l}`:null;if(c){const w=await this.cache.get(c);if(w)return w.permissions||[]}if(!l){const w=a||this.config.authStrategy,S=w?{...w,bearerToken:n}:{methods:["bearer"],bearerToken:n};if(l=(await this.apiClient.auth.validateToken({token:n},S)).data?.user?.id||null,!l)return[]}const m=a||this.config.authStrategy,g=m?{...m,bearerToken:n}:{methods:["bearer"],bearerToken:n},f=(await this.apiClient.permissions.getPermissions(void 0,g)).data?.permissions||[],h=`permissions:${l}`;return await this.cache.set(h,{permissions:f,timestamp:Date.now()},this.permissionTTL),f}catch(l){return console.error("Failed to get permissions:",l),[]}}async hasPermission(n,a,l){return(await this.getPermissions(n,l)).includes(a)}async hasAnyPermission(n,a,l){const c=await this.getPermissions(n,l);return a.some(m=>c.includes(m))}async hasAllPermissions(n,a,l){const c=await this.getPermissions(n,l);return a.every(m=>c.includes(m))}async refreshPermissions(n,a){try{const l=a||this.config.authStrategy,c=l?{...l,bearerToken:n}:{methods:["bearer"],bearerToken:n},m=await this.apiClient.auth.validateToken({token:n},c);if(!m.data?.user?.id)return[];const y=`permissions:${m.data.user.id}`,h=(await this.apiClient.permissions.refreshPermissions(c)).data?.permissions||[];return await this.cache.set(y,{permissions:h,timestamp:Date.now()},this.permissionTTL),h}catch(l){return console.error("Failed to refresh permissions:",l),[]}}async clearPermissionsCache(n,a){try{const l=a||this.config.authStrategy,c=l?{...l,bearerToken:n}:{methods:["bearer"],bearerToken:n},m=await this.apiClient.auth.validateToken({token:n},c);if(!m.data?.user?.id)return;const y=`permissions:${m.data.user.id}`;await this.cache.delete(y)}catch(l){console.error("Failed to clear permissions cache:",l)}}}return Ia.BrowserPermissionService=i,Ia}var Pa={},Sw;function bE(){if(Sw)return Pa;Sw=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.BrowserRoleService=void 0;const r=SE();class i{constructor(n,a,l){this.config=n.config,this.cache=l,this.httpClient=n,this.apiClient=a,this.roleTTL=this.config.cache?.roleTTL||900}extractUserIdFromToken(n){try{const a=(0,r.decodeJWT)(n);return a?a.sub||a.userId||a.user_id||a.id:null}catch{return null}}async getRoles(n,a){try{let l=this.extractUserIdFromToken(n);const c=l?`roles:${l}`:null;if(c){const w=await this.cache.get(c);if(w)return w.roles||[]}if(!l){const w=a||this.config.authStrategy,S=w?{...w,bearerToken:n}:{methods:["bearer"],bearerToken:n};if(l=(await this.apiClient.auth.validateToken({token:n},S)).data?.user?.id||null,!l)return[]}const m=a||this.config.authStrategy,g=m?{...m,bearerToken:n}:{methods:["bearer"],bearerToken:n},f=(await this.apiClient.roles.getRoles(void 0,g)).data?.roles||[],h=`roles:${l}`;return await this.cache.set(h,{roles:f,timestamp:Date.now()},this.roleTTL),f}catch(l){return console.error("Failed to get roles:",l),[]}}async hasRole(n,a,l){return(await this.getRoles(n,l)).includes(a)}async hasAnyRole(n,a,l){const c=await this.getRoles(n,l);return a.some(m=>c.includes(m))}async hasAllRoles(n,a,l){const c=await this.getRoles(n,l);return a.every(m=>c.includes(m))}async refreshRoles(n,a){try{const l=a||this.config.authStrategy,c=l?{...l,bearerToken:n}:{methods:["bearer"],bearerToken:n},m=await this.apiClient.auth.validateToken({token:n},c);if(!m.data?.user?.id)return[];const y=`roles:${m.data.user.id}`,h=(await this.apiClient.roles.refreshRoles(c)).data?.roles||[];return await this.cache.set(y,{roles:h,timestamp:Date.now()},this.roleTTL),h}catch(l){return console.error("Failed to refresh roles:",l),[]}}async clearRolesCache(n,a){try{const l=a||this.config.authStrategy,c=l?{...l,bearerToken:n}:{methods:["bearer"],bearerToken:n},m=await this.apiClient.auth.validateToken({token:n},c);if(!m.data?.user?.id)return;const y=`roles:${m.data.user.id}`;await this.cache.delete(y)}catch(l){console.error("Failed to clear roles cache:",l)}}}return Pa.BrowserRoleService=i,Pa}var vc={},xw;function wk(){if(xw)return vc;xw=1;var r={};Object.defineProperty(vc,"__esModule",{value:!0}),vc.loadConfig=i;function i(){const s={controllerUrl:r.MISO_CONTROLLER_URL||"https://controller.aifabrix.ai",clientId:r.MISO_CLIENTID||r.MISO_CLIENT_ID||"",clientSecret:r.MISO_CLIENTSECRET||r.MISO_CLIENT_SECRET||"",logLevel:r.MISO_LOG_LEVEL||"debug"};if(r.MISO_WEB_SERVER_URL&&(s.controllerPublicUrl=r.MISO_WEB_SERVER_URL),r.MISO_CONTROLLER_URL&&(s.controllerPrivateUrl=r.MISO_CONTROLLER_URL,s.controllerUrl=r.MISO_CONTROLLER_URL),!s.clientId)throw new Error("MISO_CLIENTID environment variable is required");if(!s.clientSecret)throw new Error("MISO_CLIENTSECRET environment variable is required");const n=r.REDIS_HOST;if(n){const a={host:n,port:parseInt(r.REDIS_PORT||"6379"),password:r.REDIS_PASSWORD};r.REDIS_DB&&(a.db=parseInt(r.REDIS_DB)),r.REDIS_KEY_PREFIX&&(a.keyPrefix=r.REDIS_KEY_PREFIX),s.redis=a}if(r.ENCRYPTION_KEY&&(s.encryptionKey=r.ENCRYPTION_KEY),r.API_KEY&&(s.apiKey=r.API_KEY),r.MISO_SENSITIVE_FIELDS_CONFIG&&(s.sensitiveFieldsConfig=r.MISO_SENSITIVE_FIELDS_CONFIG),r.MISO_EMIT_EVENTS&&(s.emitEvents=r.MISO_EMIT_EVENTS.toLowerCase()==="true"),r.MISO_AUTH_STRATEGY){const l={methods:r.MISO_AUTH_STRATEGY.split(",").map(c=>c.trim()).filter(c=>["bearer","client-token","client-credentials","api-key"].includes(c))};r.MISO_BEARER_TOKEN&&(l.bearerToken=r.MISO_BEARER_TOKEN),(r.MISO_API_KEY||r.API_KEY)&&(l.apiKey=r.MISO_API_KEY||r.API_KEY),l.methods.length>0&&(s.authStrategy=l)}if(r.MISO_CLIENT_TOKEN_URI&&(s.clientTokenUri=r.MISO_CLIENT_TOKEN_URI),r.MISO_ALLOWED_ORIGINS){const a=r.MISO_ALLOWED_ORIGINS.split(",").map(l=>l.trim()).filter(l=>l.length>0);a.length>0&&(s.allowedOrigins=a)}return s}return vc}var wc={},bw;function Sp(){if(bw)return wc;bw=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.getEnvironmentToken=n;const r=Pc(),i=Si(),s=Ga();async function n(a,l){const c=a.getConfig(),m=c.allowedOrigins,g=(0,r.validateOrigin)(l,m);if(!g.valid){const y=`Origin validation failed: ${g.error}`,f=l.headers.origin||l.headers.referer||"unknown";throw await a.log.error(y,{origin:f,allowedOrigins:m||[],ipAddress:l.ip||l.socket.remoteAddress,userAgent:l.headers["user-agent"]},void 0,{requestId:l.headers["x-request-id"],correlationId:l.headers["x-correlation-id"]}),await a.log.audit("client.token.request.rejected","environment-token",{reason:"origin_validation_failed",origin:f,allowedOrigins:m||[],ipAddress:l.ip||l.socket?.remoteAddress,userAgent:l.headers["user-agent"]},{requestId:l.headers["x-request-id"],correlationId:l.headers["x-correlation-id"]}),new Error(y)}try{const y=(0,s.resolveControllerUrl)(c),f=c.clientTokenUri||"/api/v1/auth/token",h=`${y}${f}`;console.log(`[getEnvironmentToken] Fetching token from controller: ${h}`);const w=await a.getEnvironmentToken(),S=i.DataMasker.maskSensitiveData({clientId:c.clientId}),E=c.clientSecret?i.DataMasker.maskSensitiveData({clientSecret:c.clientSecret}):{clientSecret:void 0};return await a.log.audit("client.token.request.success","environment-token",{clientId:S.clientId,clientSecret:E.clientSecret,origin:l.headers.origin||l.headers.referer||"unknown",ipAddress:l.ip||l.socket?.remoteAddress,userAgent:l.headers["user-agent"]},{requestId:l.headers["x-request-id"],correlationId:l.headers["x-correlation-id"]}),w}catch(y){const f=y instanceof Error?y.message:"Unknown error",h=i.DataMasker.maskSensitiveData({clientId:c.clientId});throw await a.log.error(`Failed to get environment token: ${f}`,{clientId:h.clientId,origin:l.headers.origin||l.headers.referer||"unknown",ipAddress:l.ip||l.socket.remoteAddress,userAgent:l.headers["user-agent"]},y instanceof Error?y.stack:void 0,{requestId:l.headers["x-request-id"],correlationId:l.headers["x-correlation-id"]}),await a.log.audit("client.token.request.failed","environment-token",{reason:"token_fetch_failed",error:f,clientId:h.clientId,origin:l.headers.origin||l.headers.referer||"unknown",ipAddress:l.ip||l.socket?.remoteAddress,userAgent:l.headers["user-agent"]},{requestId:l.headers["x-request-id"],correlationId:l.headers["x-correlation-id"]}),y}}return wc}var co={},Cw;function xp(){if(Cw)return co;Cw=1;var r=co&&co.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(co,"__esModule",{value:!0}),co.extractClientTokenInfo=s;const i=r(os());function s(n){try{const a=i.default.decode(n);if(!a||typeof a!="object")return console.warn("Failed to decode client token: Invalid token format"),{};const l={};return a.application&&typeof a.application=="string"?l.application=a.application:a.app&&typeof a.app=="string"&&(l.application=a.app),a.environment&&typeof a.environment=="string"?l.environment=a.environment:a.env&&typeof a.env=="string"&&(l.environment=a.env),a.applicationId&&typeof a.applicationId=="string"?l.applicationId=a.applicationId:a.app_id&&typeof a.app_id=="string"&&(l.applicationId=a.app_id),a.clientId&&typeof a.clientId=="string"?l.clientId=a.clientId:a.client_id&&typeof a.client_id=="string"&&(l.clientId=a.client_id),l}catch(a){return console.warn("Failed to decode client token:",a),{}}}return co}var Ec={},Tw;function Ek(){if(Tw)return Ec;Tw=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.extractLoggingContext=r;function r(i){const s={};return i.source&&(s.sourceKey=i.source.key,i.source.displayName!==void 0&&(s.sourceDisplayName=i.source.displayName),i.source.externalSystem&&(s.externalSystemKey=i.source.externalSystem.key,i.source.externalSystem.displayName!==void 0&&(s.externalSystemDisplayName=i.source.externalSystem.displayName))),i.externalSystem&&(s.externalSystemKey=i.externalSystem.key,i.externalSystem.displayName!==void 0&&(s.externalSystemDisplayName=i.externalSystem.displayName)),i.record&&(s.recordKey=i.record.key,i.record.displayName!==void 0&&(s.recordDisplayName=i.record.displayName)),s}return Ec}var fi={},kw;function CE(){if(kw)return fi;kw=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.parsePaginationParams=r,fi.createMetaObject=i,fi.applyPaginationToArray=s,fi.createPaginatedListResponse=n;function r(a){const l=parseInt(String(a.page??"1"),10),c=parseInt(String(a.page_size??"20"),10);return{currentPage:l,pageSize:c}}function i(a,l,c,m){return{totalItems:a,currentPage:l,pageSize:c,type:m}}function s(a,l,c){const m=(l-1)*c;return a.slice(m,m+c)}function n(a,l,c,m,g){return{meta:i(l,c,m,g),data:a}}return fi}var vh={},_w;function Sk(){return _w||(_w=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FilterBuilder=void 0,r.parseFilterParams=n,r.buildQueryString=a,r.applyFilters=l;const i=EE();Object.defineProperty(r,"FilterBuilder",{enumerable:!0,get:function(){return i.FilterBuilder}});const s=/^([\w.]+):(eq|neq|in|nin|gt|lt|gte|lte|contains|like):(.+)$/i;function n(c){const m=c.filter,g=Array.isArray(m)?m:m?[m]:[],y=[];return g.forEach(f=>{const w=String(f).match(s);if(!w)return;const[,S,E,b]=w,C=b.includes(",")?b.split(","):b;y.push({field:S,op:E,value:C})}),y}function a(c){const m=new URLSearchParams;return c.filters?.forEach(g=>{const y=Array.isArray(g.value)?g.value.join(","):String(g.value);m.append("filter",`${g.field}:${g.op}:${y}`)}),c.sort?.forEach(g=>m.append("sort",g)),c.page&&m.append("page",c.page.toString()),c.pageSize&&m.append("page_size",c.pageSize.toString()),c.fields&&c.fields.length>0&&m.append("fields",c.fields.join(",")),m.toString()}function l(c,m){return c.filter(g=>m.every(y=>{const f=g[y.field],h=y.value;if(Array.isArray(h))return y.op==="in"?h.includes(f):!h.includes(f);switch(y.op){case"eq":return f===h;case"neq":return f!==h;case"gt":return f>h;case"lt":return f<h;case"gte":return f>=h;case"lte":return f<=h;case"contains":return String(f).includes(String(h));case"like":return new RegExp(String(h),"i").test(String(f));default:return!0}}))}})(vh)),vh}var uo={},Rw;function xk(){if(Rw)return uo;Rw=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.parseSortParams=r,uo.buildSortString=i,uo.applySorting=s;function r(n){const a=n.sort;return(Array.isArray(a)?a:a?[a]:[]).map(c=>{const m=String(c).trim();if(!m||m==="-"||m===":")return null;if(m.includes(":")){const[g,y]=m.split(":"),f=g.trim();return f?{field:f,order:y?.trim().toLowerCase()==="desc"?"desc":"asc"}:null}if(m.startsWith("-")){const g=m.substring(1).trim();return g?{field:g,order:"desc"}:null}return{field:m,order:"asc"}}).filter(c=>c!==null)}function i(n){return n.map(a=>a.order==="desc"?`-${a.field}`:a.field)}function s(n,a){return!a||a.length===0?n:[...n].sort((l,c)=>{for(const m of a){const g=l[m.field],y=c[m.field];if(g==null)return 1;if(y==null)return-1;if(g<y)return m.order==="asc"?-1:1;if(g>y)return m.order==="asc"?1:-1}return 0})}return uo}var wh={},Oa={},ts={},Aw;function lu(){if(Aw)return ts;Aw=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.createErrorResponse=ts.createSuccessResponse=ts.AppError=void 0;class r extends Error{constructor(a,l=500,c=!0,m,g,y,f){super(a),this.statusCode=l,this.isOperational=c,this.validationErrors=m||[],this.errorType=g,this.instance=y,this.correlationId=f,Error.captureStackTrace(this,this.constructor)}toErrorResponse(a){const l={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"},c={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"},m=this.errorType||l[this.statusCode]||"/Errors/InternalServerError",g=c[this.statusCode]||"Internal Server Error";return{type:m,title:g,status:this.statusCode,detail:this.message,instance:this.instance||a,correlationId:this.correlationId,errors:this.validationErrors&&this.validationErrors.length>0?this.validationErrors:void 0}}}ts.AppError=r;const i=(n,a,l)=>{const c={success:!0,data:n,timestamp:new Date().toISOString()};return a&&(c.message=a),l&&(c.correlationId=l),c};ts.createSuccessResponse=i;const s=(n,a)=>{const l={success:!1,error:n,timestamp:new Date().toISOString()};return a&&(l.correlationId=a),l};return ts.createErrorResponse=s,ts}var Iw;function TE(){if(Iw)return Oa;Iw=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.ResponseHelper=void 0;const r=CE(),i=lu();class s{static success(a,l,c,m=200){const g={success:!0,data:l,timestamp:new Date().toISOString()};return c&&(g.message=c),a.status(m).json(g)}static created(a,l,c="Resource created"){return s.success(a,l,c,201)}static paginated(a,l,c){const m=(0,r.createPaginatedListResponse)(l,c.totalItems,c.currentPage,c.pageSize,c.type);return a.status(200).json(m)}static noContent(a){return a.status(204).send()}static accepted(a,l,c="Request accepted"){return s.success(a,l,c,202)}static error(a,l=400,c=!0,m,g){throw new i.AppError(a,l,c,m,g)}}return Oa.ResponseHelper=s,Oa}var Sc={},Nw;function bk(){if(Nw)return Sc;Nw=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.injectResponseHelpers=i;const r=TE();function i(s,n,a){n.success=(l,c)=>r.ResponseHelper.success(n,l,c),n.created=(l,c)=>r.ResponseHelper.created(n,l,c),n.paginated=(l,c)=>r.ResponseHelper.paginated(n,l,c),n.noContent=()=>r.ResponseHelper.noContent(n),n.accepted=(l,c)=>r.ResponseHelper.accepted(n,l,c),a()}return Sc}var ja={},Da={},hi={},Pw;function kE(){if(Pw)return hi;Pw=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.getErrorTypeUri=i,hi.getErrorTitle=s,hi.createErrorResponse=n,hi.sendErrorResponse=a;const r={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"};function i(l){return r[l]||"/Errors/InternalServerError"}function s(l){return{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"}[l]||"Internal Server Error"}function n(l,c,m,g,y){let f;l instanceof Error?f=l.message:typeof l=="string"?f=l:l==null?f="An error occurred":f=String(l)||"An error occurred";const h=g||m?.correlationId||m?.headers["x-correlation-id"],w={type:i(c),title:s(c),status:c,detail:f,instance:m?.originalUrl};return h&&(w.correlationId=h),y&&y.length>0&&(w.errors=y),w}function a(l,c){l.setHeader("Content-Type","application/problem+json"),l.status(c.status).json(c)}return hi}var Ow;function _E(){if(Ow)return Da;Ow=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.setErrorLogger=n,Da.handleRouteError=m;const r=lu(),i=kE();let s=null;function n(g){s=g}function a(g){if(g instanceof r.AppError)return g.statusCode;if(g&&typeof g=="object"&&"code"in g){const f=g.code;if(f==="P2002")return 409;if(f==="P2025")return 404;if(f==="P2003")return 400}const y=g instanceof Error?g.message:String(g||"Unknown error");return y.toLowerCase().includes("not found")?404:y.toLowerCase().includes("already exists")||y.toLowerCase().includes("duplicate")?409:y.toLowerCase().includes("validation")||y.toLowerCase().includes("invalid")?400:y.toLowerCase().includes("unauthorized")||y.toLowerCase().includes("authentication")?401:y.toLowerCase().includes("forbidden")||y.toLowerCase().includes("permission")?403:500}function l(g){return g instanceof Error?g.message:typeof g=="string"?g:"An unexpected error occurred"}function c(g,y,f,h){let w;return g instanceof r.AppError&&g.validationErrors&&(w=g.validationErrors),(0,i.createErrorResponse)(g,y,f,h,w)}async function m(g,y,f,h){const w=y.correlationId||y.headers["x-correlation-id"]||void 0,S=a(g),E=l(g),b=h||"unknown operation",C=`${b} failed: ${E}`;if(s)try{await s.logError(C,{correlationId:w,operation:b,statusCode:S,url:y.originalUrl,method:y.method,errorMessage:g instanceof Error?g.message:String(g),errorName:g instanceof Error?g.name:"UnknownError",stack:g instanceof Error?g.stack:void 0})}catch(P){const O=P instanceof Error?P:new Error(String(P));process.stderr.write(`[ERROR] Failed to log error: ${O.message}
`),process.stderr.write(`[ERROR] Original error: ${E}
`)}else process.stderr.write(`[ERROR] ${C}
`),g instanceof Error&&g.stack&&process.stderr.write(`[ERROR] Stack: ${g.stack}
`);const R=c(g,S,y,w);g instanceof r.AppError&&g.correlationId&&(R.correlationId=g.correlationId),(0,i.sendErrorResponse)(f,R)}return Da}var jw;function Ck(){if(jw)return ja;jw=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.asyncHandler=i,ja.asyncHandlerNamed=s;const r=_E();function i(n,a){return async(l,c,m)=>{try{await n(l,c,m)}catch(g){const y=a||`${l.method} ${l.route?.path||l.path}`;await(0,r.handleRouteError)(g,l,c,y)}}}function s(n,a){return i(a,n)}return ja}var La={},Dw;function Tk(){if(Dw)return La;Dw=1,Object.defineProperty(La,"__esModule",{value:!0}),La.ValidationHelper=void 0;const r=lu();class i{static async findOrFail(n,a,l){const c=await n();if(!c)throw new r.AppError(`${a} not found${l?`: ${l}`:""}`,404,!0,void 0,"/Errors/NotFound");return c}static async ensureNotExists(n,a,l){if(await n())throw new r.AppError(`${a} already exists${l?`: ${l}`:""}`,409,!0,void 0,"/Errors/Conflict")}static ensureOwnershipOrAdmin(n,a,l="No permission to access this resource"){const c=n.userId===a,m=n.userRoles?.includes("admin")||n.userRoles?.includes("superuser");if(!c&&!m)throw new r.AppError(l,403,!0,void 0,"/Errors/Forbidden")}static async validateAll(n){await Promise.all(n.map(a=>a()))}static validateRequiredFields(n,a,l){const c=a.filter(m=>n[m]===void 0||n[m]===null||n[m]==="");if(c.length>0)throw new r.AppError(`Missing required fields for ${l}: ${c.join(", ")}`,400,!0,void 0,"/Errors/BadRequest")}static ensureAuthenticated(n){if(!n.userId)throw new r.AppError("Authentication required",401,!0,void 0,"/Errors/Unauthorized")}static validateStringLength(n,a,l,c){if(l!==void 0&&n.length<l)throw new r.AppError(`${a} must be at least ${l} characters`,400,!0,void 0,"/Errors/BadRequest");if(c!==void 0&&n.length>c)throw new r.AppError(`${a} must not exceed ${c} characters`,400,!0,void 0,"/Errors/BadRequest")}}return La.ValidationHelper=i,La}var pi={},Lw;function kk(){if(Lw)return pi;Lw=1;var r={},i=pi&&pi.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pi,"__esModule",{value:!0}),pi.EncryptionUtil=void 0;const s=i(Wa);class n{static initialize(){if(this.initialized)return;const l=r.ENCRYPTION_KEY;if(!l)throw new Error("ENCRYPTION_KEY environment variable not configured");if(l.length!==64)throw new Error("ENCRYPTION_KEY must be 64 hex characters (32 bytes)");try{this.key=Buffer.from(l,"hex")}catch{throw new Error("ENCRYPTION_KEY must be valid hex string")}this.initialized=!0}static encrypt(l){if(!this.initialized)throw new Error("EncryptionUtil not initialized. Call initialize() first.");if(!l)throw new Error("Cannot encrypt empty text");const c=s.default.randomBytes(16),m=s.default.createCipheriv(this.algorithm,this.key,c);let g=m.update(l,"utf8","hex");g+=m.final("hex");const y=m.getAuthTag();return`${c.toString("hex")}:${y.toString("hex")}:${g}`}static decrypt(l){if(!this.initialized)throw new Error("EncryptionUtil not initialized. Call initialize() first.");if(!l)throw new Error("Cannot decrypt empty text");try{const c=l.split(":");if(c.length!==3)throw new Error("Invalid encrypted text format");const m=Buffer.from(c[0]||"","hex"),g=Buffer.from(c[1]||"","hex"),y=c[2]||"",f=s.default.createDecipheriv(this.algorithm,this.key,m);f.setAuthTag(g);let h=f.update(y,"hex","utf8");return h+=f.final("utf8"),h}catch(c){throw new Error(`Decryption failed: ${c instanceof Error?c.message:"Unknown error"}`)}}static generateKey(){return s.default.randomBytes(32).toString("hex")}}return pi.EncryptionUtil=n,n.algorithm="aes-256-gcm",n.initialized=!1,pi}var Ma={},Mw;function RE(){if(Mw)return Ma;Mw=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.hasConfig=i,Ma.createClientTokenEndpoint=s;const r=Sp();function i(n){return n.config!==void 0}function s(n,a){const l={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...a};return async(c,m)=>{const g=()=>m.headersSent||m.writableEnded;try{if(!n.isInitialized()){g()||m.status(503).json({error:"Service Unavailable",message:"MisoClient is not initialized"});return}const y=5e3,f=(0,r.getEnvironmentToken)(n,c),h=new Promise((E,b)=>{setTimeout(()=>{b(new Error("Request timeout: Failed to get environment token within 5 seconds"))},y)});let w;try{w=await Promise.race([f,h])}catch(E){if(g())return;const b=E instanceof Error?E.message:"Unknown error";if(b.includes("Origin validation failed")){m.status(403).json({error:"Forbidden",message:b});return}const C=b.includes("Request timeout: Failed to get environment token within 5 seconds"),R=b.match(/status:\s*(\d+)/i),P=R?parseInt(R[1],10):void 0,O=P!==void 0;let D=P,B,T=E;for(let A=0;A<5&&T;A++){if(T&&typeof T=="object"&&"isAxiosError"in T&&T.isAxiosError){const H=T;if(H.response){D=H.response.status,B=H.response.statusText;break}if(H.request&&!H.response)break}if(T&&typeof T=="object"&&"cause"in T)T=T.cause;else break}const I=D||P;if(O&&I){if(I===401){m.status(401).json({error:"Unauthorized",message:"Failed to get environment token: Invalid client credentials or application not found"});return}if(I===403){m.status(403).json({error:"Forbidden",message:"Failed to get environment token: Access denied"});return}m.status(I).json({error:B||"Error",message:b});return}if(C||b.includes("timeout")||b.includes("Timeout")){const A=n.getConfig(),H=A.controllerPrivateUrl||A.controllerUrl;m.status(504).json({error:"Gateway Timeout",message:"Failed to get environment token: Controller request timed out",details:{controllerUrl:H||"NOT CONFIGURED",timeout:"4 seconds",suggestion:H?`Controller at ${H} is not responding. Please check if the controller is running and accessible.`:"Controller URL is not configured. Please set MISO_CONTROLLER_URL environment variable."}});return}m.status(500).json({error:"Internal Server Error",message:b});return}const S={token:w,expiresIn:l.expiresIn};if(l.includeConfig){const E=n.getConfig(),b=`${c.protocol}://${c.get("host")||"localhost"}`,C=E.controllerPublicUrl||E.controllerUrl;if(!C){g()||m.status(500).json({error:"Internal Server Error",message:"Controller URL not configured"});return}S.config={baseUrl:b,controllerUrl:C,controllerPublicUrl:E.controllerPublicUrl,clientId:E.clientId,clientTokenUri:l.clientTokenUri}}g()||m.json(S)}catch(y){if(g())return;const f=y instanceof Error?y.message:"Unknown error";if(f.includes("Origin validation failed")){m.status(403).json({error:"Forbidden",message:f});return}if(f.includes("timeout")||f.includes("Timeout")){m.status(504).json({error:"Gateway Timeout",message:"Failed to get environment token: Request timed out"});return}m.status(500).json({error:"Internal Server Error",message:f})}}}return Ma}var Uw;function _k(){return Uw||(Uw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasConfig=r.createClientTokenEndpoint=r.extractClientTokenInfo=r.getEnvironmentToken=r.validateOrigin=r.EncryptionUtil=r.sendErrorResponse=r.getErrorTitle=r.getErrorTypeUri=r.handleRouteError=r.setErrorLogger=r.createErrorResponse=r.createSuccessResponse=r.AppError=r.ValidationHelper=r.asyncHandlerNamed=r.asyncHandler=r.injectResponseHelpers=r.ResponseHelper=void 0;var i=TE();Object.defineProperty(r,"ResponseHelper",{enumerable:!0,get:function(){return i.ResponseHelper}});var s=bk();Object.defineProperty(r,"injectResponseHelpers",{enumerable:!0,get:function(){return s.injectResponseHelpers}});var n=Ck();Object.defineProperty(r,"asyncHandler",{enumerable:!0,get:function(){return n.asyncHandler}}),Object.defineProperty(r,"asyncHandlerNamed",{enumerable:!0,get:function(){return n.asyncHandlerNamed}});var a=Tk();Object.defineProperty(r,"ValidationHelper",{enumerable:!0,get:function(){return a.ValidationHelper}});var l=lu();Object.defineProperty(r,"AppError",{enumerable:!0,get:function(){return l.AppError}}),Object.defineProperty(r,"createSuccessResponse",{enumerable:!0,get:function(){return l.createSuccessResponse}}),Object.defineProperty(r,"createErrorResponse",{enumerable:!0,get:function(){return l.createErrorResponse}});var c=_E();Object.defineProperty(r,"setErrorLogger",{enumerable:!0,get:function(){return c.setErrorLogger}}),Object.defineProperty(r,"handleRouteError",{enumerable:!0,get:function(){return c.handleRouteError}});var m=kE();Object.defineProperty(r,"getErrorTypeUri",{enumerable:!0,get:function(){return m.getErrorTypeUri}}),Object.defineProperty(r,"getErrorTitle",{enumerable:!0,get:function(){return m.getErrorTitle}}),Object.defineProperty(r,"sendErrorResponse",{enumerable:!0,get:function(){return m.sendErrorResponse}});var g=kk();Object.defineProperty(r,"EncryptionUtil",{enumerable:!0,get:function(){return g.EncryptionUtil}});var y=Pc();Object.defineProperty(r,"validateOrigin",{enumerable:!0,get:function(){return y.validateOrigin}});var f=Sp();Object.defineProperty(r,"getEnvironmentToken",{enumerable:!0,get:function(){return f.getEnvironmentToken}});var h=xp();Object.defineProperty(r,"extractClientTokenInfo",{enumerable:!0,get:function(){return h.extractClientTokenInfo}});var w=RE();Object.defineProperty(r,"createClientTokenEndpoint",{enumerable:!0,get:function(){return w.createClientTokenEndpoint}}),Object.defineProperty(r,"hasConfig",{enumerable:!0,get:function(){return w.hasConfig}})})(wh)),wh}var Br={},ur={},Hw;function js(){if(Hw)return ur;Hw=1;var r=ur&&ur.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(ur,"__esModule",{value:!0}),ur.isBrowser=s,ur.getLocalStorage=n,ur.setLocalStorage=a,ur.removeLocalStorage=l,ur.extractUserIdFromToken=c,ur.generateCacheKey=m,ur.truncatePayload=g,ur.calculateSize=y,ur.isRetryableError=f,ur.calculateBackoffDelay=h;const i=r(os());function s(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function n(w){if(!s())return null;try{return globalThis.localStorage.getItem(w)}catch{return null}}function a(w,S){if(s())try{globalThis.localStorage.setItem(w,S)}catch{}}function l(w){if(s())try{globalThis.localStorage.removeItem(w)}catch{}}function c(w){try{const S=i.default.decode(w);return S?S.sub||S.userId||S.user_id||S.id:null}catch{return null}}function m(w,S){const E=S?.method||"GET",b=S?.body?JSON.stringify(S.body):"";return`data-client:${E}:${w}:${b}`}function g(w,S){const E=JSON.stringify(w);return E.length<=S?{data:w,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:E.length},truncated:!0}}function y(w){try{return JSON.stringify(w).length}catch{return 0}}function f(w,S){return!w||w>=500||w===408||w===429?!0:(w===401||w===403||w>=400&&w<500,!1)}function h(w,S,E){return Math.min(S*Math.pow(2,w),E)+Math.random()*1e3}return ur}var mi={},qw;function AE(){if(qw)return mi;qw=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.getCachedEntry=i,mi.setCacheEntry=s,mi.isCacheEnabled=n,mi.getCacheKeyForRequest=a;const r=js();function i(l,c,m){const g=l.get(c);return g&&g.expiresAt>Date.now()?(m.cacheHits++,g.data):(m.cacheMisses++,null)}function s(l,c,m,g,y){if(l.set(c,{data:m,expiresAt:Date.now()+g*1e3,key:c}),l.size>y){const f=l.keys().next().value;f&&l.delete(f)}}function n(l,c,m){const g=l.toUpperCase()==="GET";return c?.enabled!==!1&&g&&m?.cache?.enabled!==!1}function a(l,c){return c?.cache?.key||(0,r.generateCacheKey)(l,c)}return mi}var Is={},hn={},Fw;function Rk(){if(Fw)return hn;Fw=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.AuthenticationError=hn.TimeoutError=hn.NetworkError=hn.ApiError=void 0;class r extends Error{constructor(l,c,m,g){super(l),this.name="ApiError",this.statusCode=c,this.response=m,this.originalError=g,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}hn.ApiError=r;class i extends r{constructor(l,c){super(l,0,void 0,c),this.name="NetworkError"}}hn.NetworkError=i;class s extends r{constructor(l,c){super(l,408),this.name="TimeoutError"}}hn.TimeoutError=s;class n extends r{constructor(l,c){super(l,401,c),this.name="AuthenticationError"}}return hn.AuthenticationError=n,hn}var Ua={},zw;function IE(){if(zw)return Ua;zw=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.shouldSkipAudit=s,Ua.logDataClientAudit=n;const r=Si(),i=js();function s(a,l){return l?.enabled?(l.skipEndpoints||[]).some(m=>a.includes(m)):!0}async function n(a,l,c,m,g,y,f,h,w,S,E,b,C,R,P){if(!(s(l,y)||!g)&&f())try{const O=h(),D=O?(0,i.extractUserIdFromToken)(O):void 0,B=y?.level||"standard",T={method:a,url:l,statusCode:c,duration:m};if(D&&(T.userId=D),B==="minimal"){await g.log.audit(`http.request.${a.toLowerCase()}`,l,T,{token:O||void 0});return}const I=y?.maxResponseSize||1e4,A=y?.maxMaskingSize||5e4;let H;if(R!==void 0){const Z=(0,i.truncatePayload)(R,A);Z.truncated?H=Z.data:H=r.DataMasker.maskSensitiveData(Z.data)}let G;if(P!==void 0){const Z=(0,i.truncatePayload)(P,I);Z.truncated?G=Z.data:G=r.DataMasker.maskSensitiveData(Z.data)}const le=b?r.DataMasker.maskSensitiveData(b):void 0,fe=C?r.DataMasker.maskSensitiveData(C):void 0;if(le&&(T.requestHeaders=le),fe&&(T.responseHeaders=fe),H!==void 0&&(T.requestBody=H),G!==void 0&&(T.responseBody=G),(B==="detailed"||B==="full")&&(w!==void 0&&(T.requestSize=w),S!==void 0&&(T.responseSize=S)),E){const Z=r.DataMasker.maskSensitiveData({message:E.message,name:E.name,stack:E.stack});T.error=Z}await g.log.audit(`http.request.${a.toLowerCase()}`,l,T,{token:O||void 0})}catch(O){const D=O,B=D.statusCode||D.response?.status,T=D.message||String(O),I=D.code,A=I==="ECONNREFUSED"||I==="ENOTFOUND"||T.includes("ERR_CONNECTION_REFUSED")||T.includes("Failed to fetch")||T.includes("NetworkError")||T.includes("network error");if(B===401||A)return;console.warn("Failed to log audit event:",O)}}return Ua}var $w;function Ak(){if($w)return Is;$w=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.extractHeaders=a,Is.parseResponse=l,Is.mergeSignals=c,Is.makeFetchRequest=m,Is.executeHttpRequest=w;const r=Rk(),i=js(),s=AE(),n=IE();function a(S){if(!S)return;if(S instanceof Headers){const b={};return S.forEach((C,R)=>{b[R]=C}),b}if(Array.isArray(S)){const b={};return S.forEach(([C,R])=>{b[C]=String(R)}),b}const E={};return Object.entries(S).forEach(([b,C])=>{E[b]=Array.isArray(C)?C.join(", "):String(C)}),E}async function l(S){const E=S.headers.get("content-type")||"";return E.includes("application/json")?await S.json():E.includes("text/")?await S.text():await S.blob()}function c(S,E){const b=new AbortController,C=()=>{b.abort(),S.removeEventListener("abort",C),E.removeEventListener("abort",C)};return S.aborted||E.aborted?(b.abort(),b.signal):(S.addEventListener("abort",C),E.addEventListener("abort",C),b.signal)}async function m(S,E,b,C,R){const P=new Headers(b.defaultHeaders);if(R?.headers&&(R.headers instanceof Headers?R.headers.forEach((Z,ne)=>P.set(ne,Z)):Object.entries(R.headers).forEach(([Z,ne])=>{P.set(Z,String(ne))})),!R?.skipAuth){const Z=C();Z&&P.set("Authorization",`Bearer ${Z}`)}const O=R?.timeout||b.timeout||3e4,D=new AbortController,B=setTimeout(()=>D.abort(),O),T=R?.signal?c(D.signal,R.signal):D.signal,{cache:I,skipAuth:A,retries:H,skipAudit:G,timeout:le,...fe}=R||{};try{const Z=await fetch(E,{method:S,headers:P,body:fe.body,signal:T,...fe});return clearTimeout(B),Z}catch(Z){throw clearTimeout(B),Z instanceof Error&&Z.name==="AbortError"?new r.TimeoutError(`Request timeout after ${O}ms`,O):new r.NetworkError(`Network error: ${Z instanceof Error?Z.message:"Unknown error"}`,Z instanceof Error?Z:void 0)}}async function g(S,E,b,C,R,P,O,D,B,T,I,A,H,G,le){const fe=Date.now()-R;if(G.totalRequests++,G.responseTimes.push(fe),B&&S.ok){const Z=le?.cache?.ttl||P.cache?.defaultTTL||300;(0,s.setCacheEntry)(O,D,E,Z,P.cache?.maxSize||100)}if(H.onResponse)return await H.onResponse(S,E);if(!le?.skipAudit){const Z=le?.body?(0,i.calculateSize)(le.body):void 0,ne=(0,i.calculateSize)(E);await(0,n.logDataClientAudit)(b,C,S.status,fe,T,P.audit,I,A,Z,ne,void 0,a(le?.headers),a(S.headers),le?.body,E)}if(!S.ok)throw new r.ApiError(`Request failed with status ${S.status}`,S.status,S);return E}async function y(S,E,b,C,R,P,O,D,B,T,I,A,H){const G=Date.now()-C;throw A.totalFailures++,H?.skipAudit||await(0,n.logDataClientAudit)(E,b,R||P||401,G,D,O.audit,B,T,H?.body?(0,i.calculateSize)(H.body):void 0,void 0,S,a(H?.headers),void 0,H?.body,void 0),S}function f(S,E,b,C,R,P,O,D,B,T,I,A){if(T(),I.totalFailures++,!A?.skipAudit){const H=Date.now()-R;(0,n.logDataClientAudit)(b,C,E,H,O,P.audit,D,B,A?.body?(0,i.calculateSize)(A.body):void 0,void 0,S,a(A?.headers),void 0,A?.body,void 0).catch(()=>{})}}async function h(S,E,b){const C=(0,i.calculateBackoffDelay)(S,E,b);await new Promise(R=>setTimeout(R,C))}async function w(S,E,b,C,R,P,O,D,B,T,I,A,H,G,le,fe){const Z=fe?.retries!==void 0?fe.retries:C.retry?.maxRetries||3,ne=C.retry?.enabled!==!1,W=C.retry?.baseDelay||1e3,Y=C.retry?.maxDelay||1e4;let te=!1,U=!1;async function ce(ae){if(te)throw new r.AuthenticationError("Authentication error detected - should not retry");let q,X;try{if(X=await m(S,E,C,I,fe),q=X.status,q===401||q===403){if(q===401&&C.onTokenRefresh&&H&&ae===0&&!U){U=!0;try{const ue=await H();if(ue&&ue.token)return await new Promise(Te=>setTimeout(Te,10)),ce(ae+1)}catch(ue){console.warn("Token refresh failed, redirecting to login:",ue)}}te=!0;const ee=q===401?new r.AuthenticationError("Authentication required",X):new r.ApiError("Forbidden",403,X);throw f(ee,q,S,b,D,C,B,T,I,A,le,fe),ee}const $=await l(X);return await g(X,$,S,b,D,C,R,P,O,B,T,I,G,le,fe)}catch($){if($ instanceof r.AuthenticationError||q===401||q===403)throw te=!0,$;const ee=$;if(ee.name==="AuthenticationError"||ee.statusCode===401||ee.statusCode===403)throw te=!0,$;const ue=ee.response?.status,Te=$ instanceof r.AuthenticationError?401:ee.statusCode??ue??q??void 0,De=Te&&Te>=500&&Te<600;if(!(ne&&!De&&ae<(De?0:Z)&&(0,i.isRetryableError)(Te,$))){if($ instanceof r.AuthenticationError||$.name==="AuthenticationError"||Te===401||Te===403||q===401||q===403)throw te=!0,$;le.totalFailures++,await y($,S,b,D,Te,q,C,B,T,I,G,le,fe)}if(te)throw te=!0,$;return await h(ae,W,Y),ce(ae+1)}}try{return await ce(0)}catch(ae){const q=ae instanceof r.AuthenticationError||ae.name==="AuthenticationError"||ae.statusCode===401||ae.statusCode===403;throw le.totalFailures++,G.onError&&!q?await G.onError(ae):ae}}return Is}var Ha={},fo={},Bw;function Hh(){if(Bw)return fo;Bw=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.getValidatedRedirectUrl=n,fo.redirectToLogin=a,fo.logout=l;const r=NE(),i=js();function s(c){if(!c||typeof c!="string"||c.trim()==="")return null;const m=c.trim(),g=["javascript:","data:","vbscript:","file:","about:"],y=m.toLowerCase();for(const w of g)if(y.startsWith(w))return null;let f;try{if(m.startsWith("/")||!m.includes("://")){const w=globalThis.window.location.origin;f=new URL(m,w)}else f=new URL(m)}catch{return null}return f.protocol!=="http:"&&f.protocol!=="https:"?null:f.href}function n(c,m){const g=s(c);if(g)return g;if(m){const y=s(m);if(y)return y}return null}async function a(c,m,g){if(!(0,i.isBrowser)())return;const y=globalThis.window.location.href,f=g||y,h=(0,r.getControllerUrl)(c.misoConfig);if(!h){const b=new Error("Controller URL is not configured. Please configure controllerUrl or controllerPublicUrl in your DataClient configuration.");throw b.details={hasMisoConfig:!!c.misoConfig,controllerUrl:c.misoConfig?.controllerUrl,controllerPublicUrl:c.misoConfig?.controllerPublicUrl,controllerPrivateUrl:c.misoConfig?.controllerPrivateUrl},b}const w=await m();let S=c.loginUrl||"/login";S.startsWith("/api/")&&(console.warn(`âš ï¸ Warning: loginUrl is set to an API endpoint (${S}). redirectToLogin() should redirect to a login PAGE (e.g., '/login'), not an API endpoint. Using default '/login' instead.`),S="/login");let E;/^https?:\/\//i.test(S)?E=new URL(S):E=new URL(S,h),E.searchParams.set("redirect",f),w&&E.searchParams.set("x-client-token",w),globalThis.window.location.href=E.toString()}async function l(c,m,g,y,f,h){if(!(0,i.isBrowser)())return;const w=m(),S=await g();(c.tokenKeys||["token","accessToken","authToken"]).forEach(D=>{try{const B=globalThis.localStorage;B&&B.removeItem(D)}catch{}}),y();const b=(0,r.getControllerUrl)(c.misoConfig);if(!b){const D=f||c.logoutUrl||c.loginUrl||"/login",B=globalThis.window.location.origin,T=/^https?:\/\//i.test(D)?D:`${B}${D.startsWith("/")?D:`/${D}`}`,I=n(T);I&&(globalThis.window.location.href=I);return}const C=c.logoutUrl||c.loginUrl||"/logout";let R;/^https?:\/\//i.test(C)?R=new URL(C):R=new URL(C,b);const P=f||c.logoutUrl||c.loginUrl||"/login";let O;/^https?:\/\//i.test(P)?O=P:O=`${globalThis.window.location.origin}${P.startsWith("/")?P:`/${P}`}`,R.searchParams.set("redirect",O),S&&R.searchParams.set("x-client-token",S),w&&R.searchParams.set("token",w),globalThis.window.location.href=R.toString()}return fo}var Kw;function NE(){return Kw||(Kw=1,(function(r){var i=Ha&&Ha.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(r,"__esModule",{value:!0}),r.logout=r.redirectToLogin=void 0,r.getToken=c,r.handleOAuthCallback=y,r.hasClientToken=f,r.hasAnyToken=h,r.getClientToken=w,r.getControllerUrl=S,r.getEnvironmentToken=C,r.getClientTokenInfo=R;const s=js(),n=xp(),a=i(os()),l=IE();function c(P){if(!(0,s.isBrowser)())return null;const O=P||["token","accessToken","authToken"];for(const D of O){const B=(0,s.getLocalStorage)(D);if(B)return B}return null}function m(){try{const P=globalThis;if(!P.window){console.warn("[handleOAuthCallback] window not available for hash cleanup");return}const O=P.window.location.pathname+P.window.location.search;P.window.history.replaceState(null,"",O)}catch(P){console.warn("[handleOAuthCallback] Failed to clean up hash:",P)}}function g(P){if(!P||typeof P!="string")return!1;const O=P.trim();return!(O.length===0||O.length<5)}function y(P){if(!(0,s.isBrowser)())return null;const O=globalThis;if(!O.window||!O.window.location)return null;const D=O.window.location.hash;if(!D||D.length<=1)return null;const B=D.substring(1);let T;try{T=new URLSearchParams(B)}catch(H){return console.warn("[handleOAuthCallback] Failed to parse hash:",H),null}const I=T.get("token")||T.get("access_token")||T.get("accessToken");if(!I)return null;if(!g(I)){const H=I?I.length:0;return console.error("[handleOAuthCallback] Invalid token format - token rejected",{tokenLength:H,isEmpty:!I||I.trim().length===0,tooShort:H>0&&H<5,expectedFormat:"Non-empty string with at least 5 characters"}),m(),null}P.misoConfig?.logLevel;{const H=O.window.location.protocol==="https:",G=O.window.location.hostname||"",le=G==="localhost"||G==="127.0.0.1"||G==="[::1]"||G.startsWith("192.168.")||G.startsWith("10.")||G.startsWith("172.16.")||G.startsWith("172.17.")||G.startsWith("172.18.")||G.startsWith("172.19.")||G.startsWith("172.20.")||G.startsWith("172.21.")||G.startsWith("172.22.")||G.startsWith("172.23.")||G.startsWith("172.24.")||G.startsWith("172.25.")||G.startsWith("172.26.")||G.startsWith("172.27.")||G.startsWith("172.28.")||G.startsWith("172.29.")||G.startsWith("172.30.")||G.startsWith("172.31.");if(!H&&!le)return console.error("[handleOAuthCallback] SECURITY WARNING: Token received over HTTP in production"),m(),null}m();const A=P.tokenKeys||["token","accessToken","authToken"];try{return A.forEach(H=>{try{(0,s.setLocalStorage)(H,I)}catch(G){console.warn(`[handleOAuthCallback] Failed to store token in key ${H}:`,G)}}),P.misoConfig?.logLevel==="debug"&&console.log("[handleOAuthCallback] OAuth token extracted and stored securely",{tokenLength:I.length,tokenKeys:A,storedInKeys:A.length}),I}catch(H){return console.error("[handleOAuthCallback] Failed to store token:",H),null}}function f(P,O){if(!(0,s.isBrowser)())return!!(P&&O?.clientSecret);if((0,s.getLocalStorage)("miso:client-token")){const B=(0,s.getLocalStorage)("miso:client-token-expires-at");if(B&&parseInt(B,10)>Date.now())return!0}return!!(O?.clientToken||O?.onClientTokenRefresh||O?.clientSecret)}function h(P,O,D){return c(P)!==null||f(O||null,D)}async function w(P,O,D){if(!(0,s.isBrowser)())return null;const B=P?.logLevel==="debug",T=(0,s.getLocalStorage)("miso:client-token"),I=(0,s.getLocalStorage)("miso:client-token-expires-at");if(B&&console.log("[getClientToken] Checking localStorage:",{hasToken:!!T,hasExpiresAt:!!I,expiresAt:I,currentTime:Date.now()}),T)if(I){const A=parseInt(I,10),H=Date.now(),G=A-H,le=Math.floor(G/1e3);if(B&&console.log("[getClientToken] Token expiration check:",{expiresAt:A,expiresAtISO:new Date(A).toISOString(),now:H,nowISO:new Date(H).toISOString(),timeUntilExpiry:G,timeUntilExpirySeconds:le,isValid:A>H,expired:A<=H,isNaN:isNaN(A)}),isNaN(A))return console.warn("[getClientToken] Invalid expiration timestamp format, assuming token is valid"),T;if(A>H)return B&&console.log("[getClientToken] Returning valid cached token (checked expiration)"),T;console.warn("[getClientToken] Cached token expired, removing from cache"),(0,s.removeLocalStorage)("miso:client-token"),(0,s.removeLocalStorage)("miso:client-token-expires-at")}else try{const A=a.default.decode(T);if(A&&A.exp){const H=Date.now(),G=A.exp*1e3,le=G-H;if(B&&console.log("[getClientToken] Token expiration from JWT:",{jwtExpiresAt:G,jwtExpiresAtISO:new Date(G).toISOString(),now:H,nowISO:new Date(H).toISOString(),jwtTimeUntilExpiry:le,jwtTimeUntilExpirySeconds:Math.floor(le/1e3),jwtIsValid:G>H}),G>H)return B&&console.log("[getClientToken] Returning valid cached token (checked JWT expiration)"),T;console.warn("[getClientToken] Token expired (from JWT), removing from cache"),(0,s.removeLocalStorage)("miso:client-token"),(0,s.removeLocalStorage)("miso:client-token-expires-at")}else return B&&console.log("[getClientToken] No expiration info available, assuming token is valid"),T}catch(A){return console.warn("[getClientToken] Failed to decode token, assuming valid:",A),T}return P?.clientToken?(B&&console.log("[getClientToken] Returning token from config"),P.clientToken):(console.warn("[getClientToken] No token available, returning null"),null)}function S(P){return P?(0,s.isBrowser)()?P.controllerPublicUrl||P.controllerUrl||null:P.controllerPrivateUrl||P.controllerUrl||null:null}var E=Hh();Object.defineProperty(r,"redirectToLogin",{enumerable:!0,get:function(){return E.redirectToLogin}});var b=Hh();Object.defineProperty(r,"logout",{enumerable:!0,get:function(){return b.logout}});async function C(P,O){if(!(0,s.isBrowser)())throw new Error("getEnvironmentToken() is only available in browser environment");const D="miso:client-token",B="miso:client-token-expires-at",T=(0,s.getLocalStorage)(D),I=(0,s.getLocalStorage)(B);if(T&&I){const G=parseInt(I,10),le=Date.now();if(G>le)return T;(0,s.removeLocalStorage)(D),(0,s.removeLocalStorage)(B)}const A=P.misoConfig?.clientTokenUri||"/api/v1/auth/client-token",H=/^https?:\/\//i.test(A)?A:`${P.baseUrl}${A}`;try{const G=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!G.ok){const W=await G.text();throw new Error(`Failed to get environment token: ${G.status} ${G.statusText}. ${W}`)}const le=await G.json(),fe=le.data?.token||le.token||le.accessToken||le.access_token;if(!fe||typeof fe!="string")throw new Error("Invalid response format: token not found in response");const Z=le.data?.expiresIn||le.expiresIn||le.expires_in||3600,ne=Date.now()+Z*1e3;if((0,s.setLocalStorage)(D,fe),(0,s.setLocalStorage)(B,ne.toString()),O&&!(0,l.shouldSkipAudit)(A,P.audit))try{await O.log.audit("client.token.request.success",A,{method:"POST",url:A,statusCode:G.status,cached:!1},{})}catch(W){console.warn("Failed to log audit event:",W)}return fe}catch(G){if(O&&!(0,l.shouldSkipAudit)(A,P.audit))try{const le=G instanceof Error?G.message:"Unknown error";await O.log.audit("client.token.request.failed",A,{method:"POST",url:A,statusCode:0,error:le,cached:!1},{})}catch(le){console.warn("Failed to log audit event:",le)}throw G}}function R(P){if(!(0,s.isBrowser)())return null;const O=(0,s.getLocalStorage)("miso:client-token");if(O)return(0,n.extractClientTokenInfo)(O);const D=P?.clientToken;return D?(0,n.extractClientTokenInfo)(D):null}})(Ha)),Ha}var Ww;function PE(){if(Ww)return Br;Ww=1;var r=Br&&Br.__createBinding||(Object.create?(function(B,T,I,A){A===void 0&&(A=I);var H=Object.getOwnPropertyDescriptor(T,I);(!H||("get"in H?!T.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return T[I]}}),Object.defineProperty(B,A,H)}):(function(B,T,I,A){A===void 0&&(A=I),B[A]=T[I]})),i=Br&&Br.__setModuleDefault||(Object.create?(function(B,T){Object.defineProperty(B,"default",{enumerable:!0,value:T})}):function(B,T){B.default=T}),s=Br&&Br.__importStar||(function(){var B=function(T){return B=Object.getOwnPropertyNames||function(I){var A=[];for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(A[A.length]=H);return A},B(T)};return function(T){if(T&&T.__esModule)return T;var I={};if(T!=null)for(var A=B(T),H=0;H<A.length;H++)A[H]!=="default"&&r(I,T,A[H]);return i(I,T),I}})();Object.defineProperty(Br,"__esModule",{value:!0}),Br.DataClient=void 0,Br.dataClient=D;const n=OE(),a=Si(),l=js(),c=AE(),m=Ak(),g=NE(),y=Hh(),f=xE(),h=bE(),w=Ah(),S=Ih(),E=ap(),b=j0(),C=_h(),R=Rh();class P{constructor(T){if(this.misoClient=null,this.cache=new Map,this.pendingRequests=new Map,this.failedRequests=new Map,this.interceptors={},this.metrics={totalRequests:0,totalFailures:0,responseTimes:[],cacheHits:0,cacheMisses:0},this.permissionService=null,this.roleService=null,this.config={tokenKeys:["token","accessToken","authToken"],loginUrl:"/login",timeout:3e4,cache:{enabled:!0,defaultTTL:300,maxSize:100},retry:{enabled:!0,maxRetries:3,baseDelay:1e3,maxDelay:1e4},audit:{enabled:!0,level:"standard",batchSize:10,maxResponseSize:1e4,maxMaskingSize:5e4,skipEndpoints:[]},...T},(0,l.isBrowser)()&&this.config.misoConfig?.clientSecret&&console.warn("âš ï¸ SECURITY WARNING: clientSecret detected in browser environment. Client secrets should NEVER be exposed in client-side code. Use the client token pattern instead (clientToken + onClientTokenRefresh). See documentation for browser-safe configuration."),this.config.misoConfig){const I={...this.config.misoConfig,onClientTokenRefresh:this.config.misoConfig.onClientTokenRefresh||((0,l.isBrowser)()&&!this.config.misoConfig.clientSecret?async()=>{const A=await this.getEnvironmentToken();if(!A)throw new Error("Failed to get client token");const H=(0,l.getLocalStorage)("miso:client-token-expires-at"),G=H?parseInt(H,10):Date.now()+36e5,le=Math.floor((G-Date.now())/1e3);return{token:A,expiresIn:le>0?le:3600}}:void 0)};this.misoClient=new n.MisoClient(I)}if(this.config.misoConfig?.sensitiveFieldsConfig&&a.DataMasker.setConfigPath(this.config.misoConfig.sensitiveFieldsConfig),this.misoClient&&this.config.misoConfig){const I=new E.InternalHttpClient(this.config.misoConfig),A=new R.RedisService(this.config.misoConfig.redis),H=new C.LoggerService(I,A),G=new S.HttpClient(this.config.misoConfig,H);H.httpClient=G;const le=new b.ApiClient(G);H.setApiClient(le);const fe=new w.CacheService(void 0);this.permissionService=new f.BrowserPermissionService(G,le,fe),this.roleService=new h.BrowserRoleService(G,le,fe)}(0,l.isBrowser)()&&this.handleOAuthCallback()}getToken(){return(0,g.getToken)(this.config.tokenKeys)}hasClientToken(){return(0,g.hasClientToken)(this.misoClient,this.config.misoConfig)}hasAnyToken(){return(0,g.hasAnyToken)(this.config.tokenKeys,this.misoClient,this.config.misoConfig)}async getClientToken(){return(0,g.getClientToken)(this.config.misoConfig,this.config.baseUrl,()=>this.getEnvironmentToken())}getControllerUrl(){return(0,g.getControllerUrl)(this.config.misoConfig)}isAuthenticated(){return this.getToken()!==null}handleOAuthCallback(){return(0,g.handleOAuthCallback)(this.config)}async redirectToLogin(T){return(0,y.redirectToLogin)(this.config,()=>this.getClientToken(),T)}async logout(T){return(0,g.logout)(this.config,()=>this.getToken(),()=>this.getClientToken(),()=>this.clearCache(),T,this.misoClient)}setInterceptors(T){this.interceptors={...this.interceptors,...T}}setAuditConfig(T){this.config.audit={...this.config.audit,...T}}setLogLevel(T){if(this.misoClient&&this.config.misoConfig){this.config.misoConfig.logLevel=T;try{const I=this.misoClient.config;I&&(I.logLevel=T)}catch{}}}clearCache(){this.cache.clear()}getMetrics(){const T=(this.metrics.responseTimes||[]).sort((A,H)=>A-H),I=T.length;return{totalRequests:this.metrics.totalRequests,totalFailures:this.metrics.totalFailures,averageResponseTime:I>0?T.reduce((A,H)=>A+H,0)/I:0,responseTimeDistribution:{min:I>0?T[0]:0,max:I>0?T[I-1]:0,p50:I>0?T[Math.floor(I*.5)]:0,p95:I>0?T[Math.floor(I*.95)]:0,p99:I>0?T[Math.floor(I*.99)]:0},errorRate:this.metrics.totalRequests>0?this.metrics.totalFailures/this.metrics.totalRequests:0,cacheHitRate:this.metrics.cacheHits+this.metrics.cacheMisses>0?this.metrics.cacheHits/(this.metrics.cacheHits+this.metrics.cacheMisses):0}}async request(T,I,A){const H=Date.now(),G=`${this.config.baseUrl}${I}`,le=(0,c.getCacheKeyForRequest)(I,A),fe=T.toUpperCase()==="GET",Z=(0,c.isCacheEnabled)(T,this.config.cache,A);if(Z){const Y=(0,c.getCachedEntry)(this.cache,le,this.metrics);if(Y!==null)return Y}if(fe){const Y=this.pendingRequests.get(le);if(Y)return Y}const ne=this.failedRequests.get(le);if(ne){const Y=Date.now()-ne.timestamp,te=ne.count||1;if(Y<(te===1?5e3:te===2?15e3:3e4))return Promise.reject(ne.error);this.failedRequests.delete(le)}const W=(0,m.executeHttpRequest)(T,G,I,this.config,this.cache,le,Z,H,this.misoClient,()=>this.hasAnyToken(),()=>this.getToken(),()=>this.handleAuthError(),()=>this.refreshUserToken(),this.interceptors,this.metrics,A);fe&&this.pendingRequests.set(le,W);try{const Y=await W;return this.failedRequests.delete(le),Y}catch(Y){const te=this.failedRequests.get(le),U=te?(te.count||1)+1:1;throw this.failedRequests.set(le,{timestamp:Date.now(),error:Y,count:U}),setTimeout(()=>{this.failedRequests.delete(le)},3e4),Y}finally{fe&&this.pendingRequests.delete(le)}}async refreshUserToken(){if(!this.config.onTokenRefresh)return null;try{const T=await this.config.onTokenRefresh();if((0,l.isBrowser)()&&T.token){const{setLocalStorage:I}=await Promise.resolve().then(()=>s(js())),A=this.config.tokenKeys||["token","accessToken","authToken"];for(const H of A)I(H,T.token)}return T}catch(T){return console.error("Token refresh failed:",T),null}}handleAuthError(){(0,l.isBrowser)()&&this.redirectToLogin().catch(T=>{console.error("Failed to redirect to login:",T)})}async applyRequestInterceptor(T,I){return this.interceptors.onRequest?await this.interceptors.onRequest(T,I):I}async get(T,I){const A=await this.applyRequestInterceptor(T,{...I,method:"GET"});return this.request("GET",T,A)}async post(T,I,A){const H=await this.applyRequestInterceptor(T,{...A,method:"POST",body:I?JSON.stringify(I):void 0,headers:{"Content-Type":"application/json",...A?.headers}});return this.request("POST",T,H)}async put(T,I,A){const H=await this.applyRequestInterceptor(T,{...A,method:"PUT",body:I?JSON.stringify(I):void 0,headers:{"Content-Type":"application/json",...A?.headers}});return this.request("PUT",T,H)}async patch(T,I,A){const H=await this.applyRequestInterceptor(T,{...A,method:"PATCH",body:I?JSON.stringify(I):void 0,headers:{"Content-Type":"application/json",...A?.headers}});return this.request("PATCH",T,H)}async delete(T,I){const A=await this.applyRequestInterceptor(T,{...I,method:"DELETE"});return this.request("DELETE",T,A)}async getPermissions(T){if(!this.misoClient||!this.permissionService)return[];const I=T||this.getToken();return I?this.permissionService.getPermissions(I):[]}async hasPermission(T,I){if(!this.misoClient||!this.permissionService)return!1;const A=I||this.getToken();return A?this.permissionService.hasPermission(A,T):!1}async hasAnyPermission(T,I){if(!this.misoClient||!this.permissionService)return!1;const A=I||this.getToken();return A?this.permissionService.hasAnyPermission(A,T):!1}async hasAllPermissions(T,I){if(!this.misoClient||!this.permissionService)return!1;const A=I||this.getToken();return A?this.permissionService.hasAllPermissions(A,T):!1}async refreshPermissions(T){if(!this.misoClient||!this.permissionService)return[];const I=T||this.getToken();return I?this.permissionService.refreshPermissions(I):[]}async clearPermissionsCache(T){if(!this.misoClient||!this.permissionService)return;const I=T||this.getToken();if(I)return this.permissionService.clearPermissionsCache(I)}async getRoles(T){if(!this.misoClient||!this.roleService)return[];const I=T||this.getToken();return I?this.roleService.getRoles(I):[]}async hasRole(T,I){if(!this.misoClient||!this.roleService)return!1;const A=I||this.getToken();return A?this.roleService.hasRole(A,T):!1}async hasAnyRole(T,I){if(!this.misoClient||!this.roleService)return!1;const A=I||this.getToken();return A?this.roleService.hasAnyRole(A,T):!1}async hasAllRoles(T,I){if(!this.misoClient||!this.roleService)return!1;const A=I||this.getToken();return A?this.roleService.hasAllRoles(A,T):!1}async refreshRoles(T){if(!this.misoClient||!this.roleService)return[];const I=T||this.getToken();return I?this.roleService.refreshRoles(I):[]}async clearRolesCache(T){if(!this.misoClient||!this.roleService)return;const I=T||this.getToken();if(I)return this.roleService.clearRolesCache(I)}async validateToken(T){if(!this.misoClient)return!1;const I=T||this.getToken();return I?this.misoClient.validateToken(I):!1}async getUser(T){if(!this.misoClient)return null;const I=T||this.getToken();return I?this.misoClient.getUser(I):null}async getUserInfo(T){if(!this.misoClient)return null;const I=T||this.getToken();return I?this.misoClient.getUserInfo(I):null}async isAuthenticatedAsync(T){return this.validateToken(T)}async getEnvironmentToken(){return(0,g.getEnvironmentToken)(this.config,this.misoClient)}getClientTokenInfo(){return(0,g.getClientTokenInfo)(this.config.misoConfig)}}Br.DataClient=P;let O=null;function D(B){if(!O&&B&&(O=new P(B)),!O)throw new Error("DataClient not initialized. Call dataClient(config) first.");return O}return Br}var qa={},Gw;function Ik(){if(Gw)return qa;Gw=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.getCachedDataClientConfig=a,qa.autoInitializeDataClient=m;const r=PE(),i=js(),s=RE();function n(){if(!(0,i.isBrowser)())return null;try{const g=(0,i.getLocalStorage)("miso:dataclient-config");if(!g)return null;const y=JSON.parse(g);return y.expiresAt&&y.expiresAt<Date.now()?((0,i.removeLocalStorage)("miso:dataclient-config"),null):y}catch{return(0,i.removeLocalStorage)("miso:dataclient-config"),null}}function a(){return n()?.config||null}function l(g,y){if((0,i.isBrowser)())try{const f={config:g,expiresAt:Date.now()+y*1e3};(0,i.setLocalStorage)("miso:dataclient-config",JSON.stringify(f))}catch{}}async function c(g,y){const f=/^https?:\/\//i.test(y)?y:`${g}${y}`,h=3e4,w=new AbortController,S=setTimeout(()=>w.abort(),h);try{let E;try{E=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",signal:w.signal})}catch(C){clearTimeout(S);const R=C instanceof Error?C.message:String(C);throw(C instanceof Error?C.name:"Unknown")==="AbortError"||R.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${h}ms. Please check if the server is running and accessible at ${f}`):R.includes("ERR_EMPTY_RESPONSE")||R.includes("empty response")?new Error(`Connection error: The server closed the connection without sending a response. Please check if the server is running and accessible at ${f}`):R.includes("Failed to fetch")||R.includes("network")?new Error(`Network error: Cannot connect to ${f}. Please check your network connection and ensure the server is running.`):new Error(`Failed to fetch config: ${R}`)}if(clearTimeout(S),E.status===405){const C=new AbortController,R=setTimeout(()=>C.abort(),h);try{E=await fetch(f,{method:"GET",credentials:"include",signal:C.signal}),clearTimeout(R)}catch(P){clearTimeout(R);const O=P instanceof Error?P.message:String(P);throw(P instanceof Error?P.name:"Unknown")==="AbortError"||O.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${h}ms. Please check if the server is running and accessible at ${f}`):new Error(`Failed to fetch config: ${O}`)}}if(!E.ok){const C=await E.text().catch(()=>"Unable to read error response");throw new Error(`Failed to fetch config: ${E.status} ${E.statusText}. ${C}`)}const b=await E.json();if(!(0,s.hasConfig)(b))throw new Error("Invalid response format: config not found in response. Make sure your server endpoint uses createClientTokenEndpoint() helper.");return b.config}catch(E){throw E instanceof Error?E:new Error(`Network error: ${String(E)}`)}}async function m(g){if(!(0,i.isBrowser)())throw new Error("autoInitializeDataClient() is only available in browser environment");const y={clientTokenUri:g?.clientTokenUri||"/api/v1/auth/client-token",cacheConfig:g?.cacheConfig??!0,baseUrl:g?.baseUrl,onError:g?.onError};try{const f=y.baseUrl||((0,i.isBrowser)()?globalThis.window.location.origin:"");if(!f)throw new Error("Unable to detect baseUrl. Please provide baseUrl option.");let h=null;if(y.cacheConfig){const S=n();S&&(h=S.config)}h||(h=await c(f,y.clientTokenUri),y.cacheConfig&&l(h,1800));const w={baseUrl:h.baseUrl,misoConfig:{clientId:h.clientId,controllerUrl:h.controllerUrl,controllerPublicUrl:h.controllerPublicUrl,clientTokenUri:h.clientTokenUri}};return new r.DataClient(w)}catch(f){const h=f instanceof Error?f:new Error(String(f));throw y.onError&&y.onError(h),h}}return qa}var Vw;function OE(){return Vw||(Vw=1,(function(r){var i=oi&&oi.__createBinding||(Object.create?(function(X,$,ee,ue){ue===void 0&&(ue=ee);var Te=Object.getOwnPropertyDescriptor($,ee);(!Te||("get"in Te?!$.__esModule:Te.writable||Te.configurable))&&(Te={enumerable:!0,get:function(){return $[ee]}}),Object.defineProperty(X,ue,Te)}):(function(X,$,ee,ue){ue===void 0&&(ue=ee),X[ue]=$[ee]})),s=oi&&oi.__exportStar||function(X,$){for(var ee in X)ee!=="default"&&!Object.prototype.hasOwnProperty.call($,ee)&&i($,X,ee)};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenValidationService=r.getCachedDataClientConfig=r.autoInitializeDataClient=r.dataClient=r.DataClient=r.hasConfig=r.createClientTokenEndpoint=r.EncryptionUtil=r.sendErrorResponse=r.getErrorTitle=r.getErrorTypeUri=r.handleRouteError=r.setErrorLogger=r.createErrorResponse=r.createSuccessResponse=r.AppError=r.ValidationHelper=r.asyncHandlerNamed=r.asyncHandler=r.injectResponseHelpers=r.ResponseHelper=r.handleApiError=r.transformError=r.ApiErrorException=r.MisoClientError=r.extractRequestContext=r.extractLoggingContext=r.validateUrl=r.isBrowser=r.resolveControllerUrl=r.extractClientTokenInfo=r.getEnvironmentToken=r.validateOrigin=r.loadConfig=r.HttpClient=r.CacheService=r.RedisService=r.LoggerService=r.BrowserRoleService=r.BrowserPermissionService=r.PermissionService=r.RoleService=r.AuthService=r.MisoClient=void 0;const n=Av(),a=Nv(),l=Ov(),c=_h(),m=Rh(),g=Ah(),y=Ih(),f=ap(),h=j0(),w=Si(),S=O0(),E=Pc(),b=mw();class C{constructor($){this.initialized=!1,this.config=$,$.sensitiveFieldsConfig&&w.DataMasker.setConfigPath($.sensitiveFieldsConfig);const ee=new f.InternalHttpClient($);this.redis=new m.RedisService($.redis),this.logger=new c.LoggerService(ee,this.redis),this.httpClient=new y.HttpClient($,this.logger),this.logger.httpClient=this.httpClient,this.apiClient=new h.ApiClient(this.httpClient),this.logger.setApiClient(this.apiClient),this.cacheService=new g.CacheService(this.redis),this.auth=new n.AuthService(this.httpClient,this.apiClient,this.cacheService),this.roles=new a.RoleService(this.httpClient,this.apiClient,this.cacheService),this.permissions=new l.PermissionService(this.httpClient,this.apiClient,this.cacheService),this.tokenValidation=new b.TokenValidationService($.keycloak)}async initialize(){if(!this.initialized)try{await this.redis.connect(),this.initialized=!0}catch{this.initialized=!0}}async disconnect(){await this.redis.disconnect(),this.initialized=!1}isInitialized(){return this.initialized}getToken($){const ee=$.headers.authorization;return ee?ee.startsWith("Bearer ")?ee.substring(7):ee:null}validateOrigin($,ee){const ue=ee??this.config.allowedOrigins;return(0,E.validateOrigin)($,ue)}async getEnvironmentToken(){return this.auth.getEnvironmentToken()}async login($){return this.auth.login($)}async validateToken($,ee){return this.auth.validateToken($,ee)}async getUser($,ee){return this.auth.getUser($,ee)}async getUserInfo($,ee){return this.auth.getUserInfo($,ee)}async isAuthenticated($,ee){return this.auth.isAuthenticated($,ee)}async logout($){return this.auth.logout($)}async refreshToken($,ee){return this.auth.refreshToken($,ee)}async validateTokenLocal($,ee){return this.tokenValidation.validateTokenLocal($,ee)}setKeycloakConfig($){this.tokenValidation.setKeycloakConfig($)}clearJwksCache($){this.tokenValidation.clearCache($)}clearValidationCache(){this.tokenValidation.clearResultCache()}clearAllTokenCaches(){this.tokenValidation.clearAllCaches()}async getRoles($,ee){return this.roles.getRoles($,ee)}async hasRole($,ee,ue){return this.roles.hasRole($,ee,ue)}async hasAnyRole($,ee,ue){return this.roles.hasAnyRole($,ee,ue)}async hasAllRoles($,ee,ue){return this.roles.hasAllRoles($,ee,ue)}async refreshRoles($,ee){return this.roles.refreshRoles($,ee)}async getPermissions($,ee){return this.permissions.getPermissions($,ee)}async hasPermission($,ee,ue){return this.permissions.hasPermission($,ee,ue)}async hasAnyPermission($,ee,ue){return this.permissions.hasAnyPermission($,ee,ue)}async hasAllPermissions($,ee,ue){return this.permissions.hasAllPermissions($,ee,ue)}async refreshPermissions($,ee){return this.permissions.refreshPermissions($,ee)}async clearPermissionsCache($,ee){return this.permissions.clearPermissionsCache($,ee)}get log(){return this.logger}get cache(){return this.cacheService}getConfig(){return{...this.config}}isRedisConnected(){return this.redis.isConnected()}async requestWithAuthStrategy($,ee,ue,Te,De){return this.httpClient.requestWithAuthStrategy($,ee,ue,Te,De)}createAuthStrategy($,ee,ue){return{methods:$,bearerToken:ee,apiKey:ue}}getDefaultAuthStrategy($){return S.AuthStrategyHandler.getDefaultStrategy($)}}r.MisoClient=C,s(P0(),r),s(yk(),r),s(EE(),r),s(vk(),r);var R=Av();Object.defineProperty(r,"AuthService",{enumerable:!0,get:function(){return R.AuthService}});var P=Nv();Object.defineProperty(r,"RoleService",{enumerable:!0,get:function(){return P.RoleService}});var O=Ov();Object.defineProperty(r,"PermissionService",{enumerable:!0,get:function(){return O.PermissionService}});var D=xE();Object.defineProperty(r,"BrowserPermissionService",{enumerable:!0,get:function(){return D.BrowserPermissionService}});var B=bE();Object.defineProperty(r,"BrowserRoleService",{enumerable:!0,get:function(){return B.BrowserRoleService}});var T=_h();Object.defineProperty(r,"LoggerService",{enumerable:!0,get:function(){return T.LoggerService}});var I=Rh();Object.defineProperty(r,"RedisService",{enumerable:!0,get:function(){return I.RedisService}});var A=Ah();Object.defineProperty(r,"CacheService",{enumerable:!0,get:function(){return A.CacheService}});var H=Ih();Object.defineProperty(r,"HttpClient",{enumerable:!0,get:function(){return H.HttpClient}});var G=wk();Object.defineProperty(r,"loadConfig",{enumerable:!0,get:function(){return G.loadConfig}});var le=Pc();Object.defineProperty(r,"validateOrigin",{enumerable:!0,get:function(){return le.validateOrigin}});var fe=Sp();Object.defineProperty(r,"getEnvironmentToken",{enumerable:!0,get:function(){return fe.getEnvironmentToken}});var Z=xp();Object.defineProperty(r,"extractClientTokenInfo",{enumerable:!0,get:function(){return Z.extractClientTokenInfo}});var ne=Ga();Object.defineProperty(r,"resolveControllerUrl",{enumerable:!0,get:function(){return ne.resolveControllerUrl}}),Object.defineProperty(r,"isBrowser",{enumerable:!0,get:function(){return ne.isBrowser}}),Object.defineProperty(r,"validateUrl",{enumerable:!0,get:function(){return ne.validateUrl}});var W=Ek();Object.defineProperty(r,"extractLoggingContext",{enumerable:!0,get:function(){return W.extractLoggingContext}});var Y=N0();Object.defineProperty(r,"extractRequestContext",{enumerable:!0,get:function(){return Y.extractRequestContext}}),s(CE(),r),s(Sk(),r),s(xk(),r);var te=Vh();Object.defineProperty(r,"MisoClientError",{enumerable:!0,get:function(){return te.MisoClientError}}),Object.defineProperty(r,"ApiErrorException",{enumerable:!0,get:function(){return te.ApiErrorException}}),Object.defineProperty(r,"transformError",{enumerable:!0,get:function(){return te.transformError}}),Object.defineProperty(r,"handleApiError",{enumerable:!0,get:function(){return te.handleApiError}});var U=_k();Object.defineProperty(r,"ResponseHelper",{enumerable:!0,get:function(){return U.ResponseHelper}}),Object.defineProperty(r,"injectResponseHelpers",{enumerable:!0,get:function(){return U.injectResponseHelpers}}),Object.defineProperty(r,"asyncHandler",{enumerable:!0,get:function(){return U.asyncHandler}}),Object.defineProperty(r,"asyncHandlerNamed",{enumerable:!0,get:function(){return U.asyncHandlerNamed}}),Object.defineProperty(r,"ValidationHelper",{enumerable:!0,get:function(){return U.ValidationHelper}}),Object.defineProperty(r,"AppError",{enumerable:!0,get:function(){return U.AppError}}),Object.defineProperty(r,"createSuccessResponse",{enumerable:!0,get:function(){return U.createSuccessResponse}}),Object.defineProperty(r,"createErrorResponse",{enumerable:!0,get:function(){return U.createErrorResponse}}),Object.defineProperty(r,"setErrorLogger",{enumerable:!0,get:function(){return U.setErrorLogger}}),Object.defineProperty(r,"handleRouteError",{enumerable:!0,get:function(){return U.handleRouteError}}),Object.defineProperty(r,"getErrorTypeUri",{enumerable:!0,get:function(){return U.getErrorTypeUri}}),Object.defineProperty(r,"getErrorTitle",{enumerable:!0,get:function(){return U.getErrorTitle}}),Object.defineProperty(r,"sendErrorResponse",{enumerable:!0,get:function(){return U.sendErrorResponse}}),Object.defineProperty(r,"EncryptionUtil",{enumerable:!0,get:function(){return U.EncryptionUtil}}),Object.defineProperty(r,"createClientTokenEndpoint",{enumerable:!0,get:function(){return U.createClientTokenEndpoint}}),Object.defineProperty(r,"hasConfig",{enumerable:!0,get:function(){return U.hasConfig}});var ce=PE();Object.defineProperty(r,"DataClient",{enumerable:!0,get:function(){return ce.DataClient}}),Object.defineProperty(r,"dataClient",{enumerable:!0,get:function(){return ce.dataClient}});var ae=Ik();Object.defineProperty(r,"autoInitializeDataClient",{enumerable:!0,get:function(){return ae.autoInitializeDataClient}}),Object.defineProperty(r,"getCachedDataClientConfig",{enumerable:!0,get:function(){return ae.getCachedDataClientConfig}});var q=mw();Object.defineProperty(r,"TokenValidationService",{enumerable:!0,get:function(){return q.TokenValidationService}})})(oi)),oi}var jE=OE();const DE=F.createContext(void 0);function Nk({children:r,initOptions:i}){const[s,n]=F.useState(null),[a,l]=F.useState(!0),[c,m]=F.useState(null),g=async()=>{l(!0),m(null);try{const w=await jE.autoInitializeDataClient({clientTokenUri:i?.clientTokenUri,baseUrl:i?.baseUrl,cacheConfig:i?.cacheConfig??!0,onError:S=>{m(S)}});n(w)}catch(w){const S=w instanceof Error?w:new Error(String(w));m(S),n(null)}finally{l(!1)}},y=async()=>{await g()},f=w=>{n(w),m(null),l(!1)};F.useEffect(()=>{g()},[]);const h=F.useMemo(()=>({dataClient:s,isLoading:a,error:c,reinitialize:y,setManualClient:f}),[s,a,c]);return d.jsx(DE.Provider,{value:h,children:r})}function So(){const r=F.useContext(DE);if(r===void 0)throw new Error("useDataClient must be used within DataClientProvider");return r}function Jw(){const{dataClient:r,error:i,isLoading:s,reinitialize:n}=So(),[a,l]=F.useState(!1),[c,m]=F.useState(null),g=T=>{if(!T)return null;const I=T.message||String(T);try{const A=T;if(A.response?.data){const H=A.response.data;if(typeof H=="object"&&H!==null){const G=H,le=G.title&&typeof G.title=="string"?G.title:"Error",fe=G.detail&&typeof G.detail=="string"?G.detail:le;if(G.title||G.detail)return{title:le,detail:fe}}}}catch{}try{const A=I.indexOf("{");if(A!==-1){let H=0,G=-1;for(let le=A;le<I.length;le++)if(I[le]==="{"&&H++,I[le]==="}"&&(H--,H===0)){G=le;break}if(G!==-1){const le=I.substring(A,G+1),fe=JSON.parse(le);if(fe.title||fe.detail){const Z=fe.title&&typeof fe.title=="string"?fe.title:"Error",ne=fe.detail&&typeof fe.detail=="string"?fe.detail:Z;return{title:Z,detail:ne}}if(fe.message&&typeof fe.message=="string")return{title:"Error",detail:fe.message};if(fe.error&&typeof fe.error=="string")return{title:"Error",detail:fe.error}}}}catch{}return I.includes("ERR_EMPTY_RESPONSE")||I.includes("empty response")||I.includes("Connection error")?{title:"Connection Error",detail:"The server closed the connection without sending a response. Please check if the server is running and accessible."}:I.includes("timeout")||I.includes("Timeout")||I.includes("did not respond within")?{title:"Timeout Error",detail:"Request timed out. Please check your network connection and ensure the server is running."}:I.includes("Network")||I.includes("Failed to fetch")||I.includes("network")?{title:"Network Error",detail:"Unable to connect to server. Please check if the server is running and accessible."}:I.includes("CORS")||I.includes("cross-origin")||I.includes("CORS policy")?{title:"CORS Error",detail:"Cross-origin request blocked. Please check CORS configuration on the server."}:I.includes("ECONNREFUSED")||I.includes("connection refused")?{title:"Connection Error",detail:"Connection refused. Please check if the server is running and accessible."}:I.includes("ENOTFOUND")||I.includes("getaddrinfo")?{title:"Connection Error",detail:"Unable to resolve server address. Please check the server URL configuration."}:null},y=()=>{const T=jE.getCachedDataClientConfig();return T?{baseUrl:T.baseUrl||"",controllerUrl:T.controllerUrl||"",clientId:T.clientId||"",clientTokenUri:T.clientTokenUri}:null};F.useEffect(()=>{if(r){const T=y();m(T||{baseUrl:typeof window<"u"?window.location.origin:"http://localhost:3183",controllerUrl:"",clientId:""})}else m(null)},[r]);const f=async()=>{l(!0);try{await n();const T=y();T&&m(T),pe.success("DataClient initialized successfully",{description:"Configuration fetched from server endpoint"})}catch(T){const I=T instanceof Error?T:new Error(String(T)),A=g(I),H=A?.title||"Failed to initialize DataClient",G=A?.detail||I.message||"Unknown error occurred";pe.error(H,{description:G,duration:5e3})}finally{l(!1)}},h=!!r,w=c?.baseUrl||(typeof window<"u"?window.location.origin:""),S=c?.controllerUrl||"Not set",E=c?.clientId||"Not set",b=i?g(i):null,C=b?.title||(i?"Error":null),R=b?.detail||(i?i.message:null),P=b!==null,O=!s&&!a,D=O&&i&&C&&R,B=O&&h&&!i;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b border-border bg-white",children:d.jsxs("div",{className:"px-8 py-6",children:[d.jsx("h1",{className:"text-2xl",children:"Configuration"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Initialize and configure the Data Client connection"})]})}),d.jsx("div",{className:"flex-1 overflow-auto p-8",children:d.jsxs("div",{className:"max-w-4xl space-y-6",children:[D&&d.jsx(we,{className:"border-red-200 bg-red-50",children:d.jsx(Ee,{className:"pt-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Px,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-red-900 mb-1",children:C}),d.jsx("p",{className:`text-sm text-red-700 ${P?"":"font-mono break-all"}`,children:R})]})]})})}),B&&d.jsx(we,{className:"border-green-200 bg-green-50",children:d.jsx(Ee,{className:"pt-6",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Zw,{className:"w-6 h-6 text-green-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-green-900",children:"DataClient Initialized"}),d.jsx("p",{className:"text-sm text-green-700",children:"Ready to make API requests"})]})]})})}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:d.jsx(tb,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx(Ce,{children:"Zero-Config Setup"}),d.jsx(Be,{children:"Automatically fetch configuration from server (Recommended)"})]})]})}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:f,disabled:s||a,className:"w-full",size:"lg",children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Initializing..."]}):d.jsxs(d.Fragment,{children:["Auto-Initialize DataClient",d.jsx(Rx,{className:"w-4 h-4 ml-2"})]})})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:d.jsx(e0,{className:"w-5 h-5 text-muted-foreground"})}),d.jsxs("div",{children:[d.jsx(Ce,{children:"Configuration Settings"}),d.jsx(Be,{children:"Configure settings via environment variables"})]})]})}),d.jsx(Ee,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-sm text-muted-foreground",children:["You can change configuration settings by editing the ",d.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file in the root directory:"]}),d.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-xs space-y-1",children:[d.jsx("div",{className:"text-muted-foreground",children:"# Application port (default: 3083)"}),d.jsx("div",{className:"text-muted-foreground",children:"PORT=3183"}),d.jsx("div",{className:"text-muted-foreground",children:"# MISO Application Client Credentials (per application)"}),d.jsx("div",{children:"MISO_CLIENTID=miso-controller-dev-miso-test"}),d.jsx("div",{children:"MISO_CLIENTSECRET=your-secret-here"}),d.jsx("div",{className:"text-muted-foreground",children:"# MISO Controller URL"}),d.jsx("div",{children:"MISO_CONTROLLER_URL=http://localhost:3000"})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["After modifying the ",d.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file, restart the server for changes to take effect."]})]})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Connection Information"}),d.jsx(Be,{children:"Current configuration settings"})]}),d.jsx(Ee,{children:d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status"}),d.jsx("span",{className:h?"text-green-600 font-medium":"text-muted-foreground",children:h?"Connected":"Not Initialized"})]}),d.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[d.jsx("span",{className:"text-muted-foreground",children:"Base URL"}),d.jsx("span",{className:"font-mono text-xs",children:w})]}),d.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[d.jsx("span",{className:"text-muted-foreground",children:"Controller URL"}),d.jsx("span",{className:"font-mono text-xs",children:S})]}),d.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[d.jsx("span",{className:"text-muted-foreground",children:"Client ID"}),d.jsx("span",{className:"font-mono text-xs",children:E})]}),c?.clientTokenUri&&d.jsxs("div",{className:"flex justify-between py-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Client Token URI"}),d.jsx("span",{className:"font-mono text-xs",children:c.clientTokenUri})]})]})})]})]})})]})}function is(r,i,{checkForDefaultPrevented:s=!0}={}){return function(a){if(r?.(a),s===!1||!a.defaultPrevented)return i?.(a)}}function bp(r,i=[]){let s=[];function n(l,c){const m=F.createContext(c),g=s.length;s=[...s,c];const y=h=>{const{scope:w,children:S,...E}=h,b=w?.[r]?.[g]||m,C=F.useMemo(()=>E,Object.values(E));return d.jsx(b.Provider,{value:C,children:S})};y.displayName=l+"Provider";function f(h,w){const S=w?.[r]?.[g]||m,E=F.useContext(S);if(E)return E;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${l}\``)}return[y,f]}const a=()=>{const l=s.map(c=>F.createContext(c));return function(m){const g=m?.[r]||l;return F.useMemo(()=>({[`__scope${r}`]:{...m,[r]:g}}),[m,g])}};return a.scopeName=r,[n,Pk(a,...i)]}function Pk(...r){const i=r[0];if(r.length===1)return i;const s=()=>{const n=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=n.reduce((m,{useScope:g,scopeName:y})=>{const h=g(l)[`__scope${y}`];return{...m,...h}},{});return F.useMemo(()=>({[`__scope${i.scopeName}`]:c}),[c])}};return s.scopeName=i.scopeName,s}function qh(r){const i=Ok(r),s=F.forwardRef((n,a)=>{const{children:l,...c}=n,m=F.Children.toArray(l),g=m.find(Dk);if(g){const y=g.props.children,f=m.map(h=>h===g?F.Children.count(y)>1?F.Children.only(null):F.isValidElement(y)?y.props.children:null:h);return d.jsx(i,{...c,ref:a,children:F.isValidElement(y)?F.cloneElement(y,void 0,f):null})}return d.jsx(i,{...c,ref:a,children:l})});return s.displayName=`${r}.Slot`,s}function Ok(r){const i=F.forwardRef((s,n)=>{const{children:a,...l}=s;if(F.isValidElement(a)){const c=Mk(a),m=Lk(l,a.props);return a.type!==F.Fragment&&(m.ref=n?Wh(n,c):c),F.cloneElement(a,m)}return F.Children.count(a)>1?F.Children.only(null):null});return i.displayName=`${r}.SlotClone`,i}var jk=Symbol("radix.slottable");function Dk(r){return F.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===jk}function Lk(r,i){const s={...i};for(const n in i){const a=r[n],l=i[n];/^on[A-Z]/.test(n)?a&&l?s[n]=(...m)=>{const g=l(...m);return a(...m),g}:a&&(s[n]=a):n==="style"?s[n]={...a,...l}:n==="className"&&(s[n]=[a,l].filter(Boolean).join(" "))}return{...r,...s}}function Mk(r){let i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?r.ref:(i=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}function Uk(r){const i=r+"CollectionProvider",[s,n]=bp(i),[a,l]=s(i,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:C,children:R}=b,P=F.useRef(null),O=F.useRef(new Map).current;return d.jsx(a,{scope:C,itemMap:O,collectionRef:P,children:R})};c.displayName=i;const m=r+"CollectionSlot",g=qh(m),y=F.forwardRef((b,C)=>{const{scope:R,children:P}=b,O=l(m,R),D=kc(C,O.collectionRef);return d.jsx(g,{ref:D,children:P})});y.displayName=m;const f=r+"CollectionItemSlot",h="data-radix-collection-item",w=qh(f),S=F.forwardRef((b,C)=>{const{scope:R,children:P,...O}=b,D=F.useRef(null),B=kc(C,D),T=l(f,R);return F.useEffect(()=>(T.itemMap.set(D,{ref:D,...O}),()=>void T.itemMap.delete(D))),d.jsx(w,{[h]:"",ref:B,children:P})});S.displayName=f;function E(b){const C=l(r+"CollectionConsumer",b);return F.useCallback(()=>{const P=C.collectionRef.current;if(!P)return[];const O=Array.from(P.querySelectorAll(`[${h}]`));return Array.from(C.itemMap.values()).sort((T,I)=>O.indexOf(T.ref.current)-O.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:y,ItemSlot:S},E,n]}var qc=globalThis?.document?F.useLayoutEffect:()=>{},Hk=Kh[" useId ".trim().toString()]||(()=>{}),qk=0;function LE(r){const[i,s]=F.useState(Hk());return qc(()=>{s(n=>n??String(qk++))},[r]),r||(i?`radix-${i}`:"")}var Fk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xo=Fk.reduce((r,i)=>{const s=qh(`Primitive.${i}`),n=F.forwardRef((a,l)=>{const{asChild:c,...m}=a,g=c?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(g,{...m,ref:l})});return n.displayName=`Primitive.${i}`,{...r,[i]:n}},{});function zk(r){const i=F.useRef(r);return F.useEffect(()=>{i.current=r}),F.useMemo(()=>(...s)=>i.current?.(...s),[])}var $k=Kh[" useInsertionEffect ".trim().toString()]||qc;function ME({prop:r,defaultProp:i,onChange:s=()=>{},caller:n}){const[a,l,c]=Bk({defaultProp:i,onChange:s}),m=r!==void 0,g=m?r:a;{const f=F.useRef(r!==void 0);F.useEffect(()=>{const h=f.current;h!==m&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=m},[m,n])}const y=F.useCallback(f=>{if(m){const h=Kk(f)?f(r):f;h!==r&&c.current?.(h)}else l(f)},[m,r,l,c]);return[g,y]}function Bk({defaultProp:r,onChange:i}){const[s,n]=F.useState(r),a=F.useRef(s),l=F.useRef(i);return $k(()=>{l.current=i},[i]),F.useEffect(()=>{a.current!==s&&(l.current?.(s),a.current=s)},[s,a]),[s,n,l]}function Kk(r){return typeof r=="function"}var Wk=F.createContext(void 0);function UE(r){const i=F.useContext(Wk);return r||i||"ltr"}var Eh="rovingFocusGroup.onEntryFocus",Gk={bubbles:!1,cancelable:!0},Za="RovingFocusGroup",[Fh,HE,Vk]=Uk(Za),[Jk,qE]=bp(Za,[Vk]),[Yk,Xk]=Jk(Za),FE=F.forwardRef((r,i)=>d.jsx(Fh.Provider,{scope:r.__scopeRovingFocusGroup,children:d.jsx(Fh.Slot,{scope:r.__scopeRovingFocusGroup,children:d.jsx(Qk,{...r,ref:i})})}));FE.displayName=Za;var Qk=F.forwardRef((r,i)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:y,preventScrollOnEntryFocus:f=!1,...h}=r,w=F.useRef(null),S=kc(i,w),E=UE(l),[b,C]=ME({prop:c,defaultProp:m??null,onChange:g,caller:Za}),[R,P]=F.useState(!1),O=zk(y),D=HE(s),B=F.useRef(!1),[T,I]=F.useState(0);return F.useEffect(()=>{const A=w.current;if(A)return A.addEventListener(Eh,O),()=>A.removeEventListener(Eh,O)},[O]),d.jsx(Yk,{scope:s,orientation:n,dir:E,loop:a,currentTabStopId:b,onItemFocus:F.useCallback(A=>C(A),[C]),onItemShiftTab:F.useCallback(()=>P(!0),[]),onFocusableItemAdd:F.useCallback(()=>I(A=>A+1),[]),onFocusableItemRemove:F.useCallback(()=>I(A=>A-1),[]),children:d.jsx(xo.div,{tabIndex:R||T===0?-1:0,"data-orientation":n,...h,ref:S,style:{outline:"none",...r.style},onMouseDown:is(r.onMouseDown,()=>{B.current=!0}),onFocus:is(r.onFocus,A=>{const H=!B.current;if(A.target===A.currentTarget&&H&&!R){const G=new CustomEvent(Eh,Gk);if(A.currentTarget.dispatchEvent(G),!G.defaultPrevented){const le=D().filter(Y=>Y.focusable),fe=le.find(Y=>Y.active),Z=le.find(Y=>Y.id===b),W=[fe,Z,...le].filter(Boolean).map(Y=>Y.ref.current);BE(W,f)}}B.current=!1}),onBlur:is(r.onBlur,()=>P(!1))})})}),zE="RovingFocusGroupItem",$E=F.forwardRef((r,i)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:l,children:c,...m}=r,g=LE(),y=l||g,f=Xk(zE,s),h=f.currentTabStopId===y,w=HE(s),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:b}=f;return F.useEffect(()=>{if(n)return S(),()=>E()},[n,S,E]),d.jsx(Fh.ItemSlot,{scope:s,id:y,focusable:n,active:a,children:d.jsx(xo.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...m,ref:i,onMouseDown:is(r.onMouseDown,C=>{n?f.onItemFocus(y):C.preventDefault()}),onFocus:is(r.onFocus,()=>f.onItemFocus(y)),onKeyDown:is(r.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){f.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const R=t_(C,f.orientation,f.dir);if(R!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let O=w().filter(D=>D.focusable).map(D=>D.ref.current);if(R==="last")O.reverse();else if(R==="prev"||R==="next"){R==="prev"&&O.reverse();const D=O.indexOf(C.currentTarget);O=f.loop?r_(O,D+1):O.slice(D+1)}setTimeout(()=>BE(O))}}),children:typeof c=="function"?c({isCurrentTabStop:h,hasTabStop:b!=null}):c})})});$E.displayName=zE;var Zk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e_(r,i){return i!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function t_(r,i,s){const n=e_(r.key,s);if(!(i==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(i==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Zk[n]}function BE(r,i=!1){const s=document.activeElement;for(const n of r)if(n===s||(n.focus({preventScroll:i}),document.activeElement!==s))return}function r_(r,i){return r.map((s,n)=>r[(i+n)%r.length])}var n_=FE,s_=$E;function i_(r,i){return F.useReducer((s,n)=>i[s][n]??s,r)}var KE=r=>{const{present:i,children:s}=r,n=o_(i),a=typeof s=="function"?s({present:n.isPresent}):F.Children.only(s),l=kc(n.ref,a_(a));return typeof s=="function"||n.isPresent?F.cloneElement(a,{ref:l}):null};KE.displayName="Presence";function o_(r){const[i,s]=F.useState(),n=F.useRef(null),a=F.useRef(r),l=F.useRef("none"),c=r?"mounted":"unmounted",[m,g]=i_(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const y=xc(n.current);l.current=m==="mounted"?y:"none"},[m]),qc(()=>{const y=n.current,f=a.current;if(f!==r){const w=l.current,S=xc(y);r?g("MOUNT"):S==="none"||y?.display==="none"?g("UNMOUNT"):g(f&&w!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=r}},[r,g]),qc(()=>{if(i){let y;const f=i.ownerDocument.defaultView??window,h=S=>{const b=xc(n.current).includes(CSS.escape(S.animationName));if(S.target===i&&b&&(g("ANIMATION_END"),!a.current)){const C=i.style.animationFillMode;i.style.animationFillMode="forwards",y=f.setTimeout(()=>{i.style.animationFillMode==="forwards"&&(i.style.animationFillMode=C)})}},w=S=>{S.target===i&&(l.current=xc(n.current))};return i.addEventListener("animationstart",w),i.addEventListener("animationcancel",h),i.addEventListener("animationend",h),()=>{f.clearTimeout(y),i.removeEventListener("animationstart",w),i.removeEventListener("animationcancel",h),i.removeEventListener("animationend",h)}}else g("ANIMATION_END")},[i,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:F.useCallback(y=>{n.current=y?getComputedStyle(y):null,s(y)},[])}}function xc(r){return r?.animationName||"none"}function a_(r){let i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?r.ref:(i=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var cu="Tabs",[l_]=bp(cu,[qE]),WE=qE(),[c_,Cp]=l_(cu),GE=F.forwardRef((r,i)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:l,orientation:c="horizontal",dir:m,activationMode:g="automatic",...y}=r,f=UE(m),[h,w]=ME({prop:n,onChange:a,defaultProp:l??"",caller:cu});return d.jsx(c_,{scope:s,baseId:LE(),value:h,onValueChange:w,orientation:c,dir:f,activationMode:g,children:d.jsx(xo.div,{dir:f,"data-orientation":c,...y,ref:i})})});GE.displayName=cu;var VE="TabsList",JE=F.forwardRef((r,i)=>{const{__scopeTabs:s,loop:n=!0,...a}=r,l=Cp(VE,s),c=WE(s);return d.jsx(n_,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:d.jsx(xo.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:i})})});JE.displayName=VE;var YE="TabsTrigger",XE=F.forwardRef((r,i)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...l}=r,c=Cp(YE,s),m=WE(s),g=eS(c.baseId,n),y=tS(c.baseId,n),f=n===c.value;return d.jsx(s_,{asChild:!0,...m,focusable:!a,active:f,children:d.jsx(xo.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":y,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:g,...l,ref:i,onMouseDown:is(r.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?c.onValueChange(n):h.preventDefault()}),onKeyDown:is(r.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&c.onValueChange(n)}),onFocus:is(r.onFocus,()=>{const h=c.activationMode!=="manual";!f&&!a&&h&&c.onValueChange(n)})})})});XE.displayName=YE;var QE="TabsContent",ZE=F.forwardRef((r,i)=>{const{__scopeTabs:s,value:n,forceMount:a,children:l,...c}=r,m=Cp(QE,s),g=eS(m.baseId,n),y=tS(m.baseId,n),f=n===m.value,h=F.useRef(f);return F.useEffect(()=>{const w=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(w)},[]),d.jsx(KE,{present:a||f,children:({present:w})=>d.jsx(xo.div,{"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":g,hidden:!w,id:y,tabIndex:0,...c,ref:i,style:{...r.style,animationDuration:h.current?"0s":void 0},children:w&&l})})});ZE.displayName=QE;function eS(r,i){return`${r}-trigger-${i}`}function tS(r,i){return`${r}-content-${i}`}var u_=GE,d_=JE,f_=XE,h_=ZE;function uu({className:r,...i}){return d.jsx(u_,{"data-slot":"tabs",className:Gr("flex flex-col gap-2",r),...i})}function du({className:r,...i}){return d.jsx(d_,{"data-slot":"tabs-list",className:Gr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...i})}function fr({className:r,...i}){return d.jsx(f_,{"data-slot":"tabs-trigger",className:Gr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...i})}function hr({className:r,...i}){return d.jsx(h_,{"data-slot":"tabs-content",className:Gr("flex-1 outline-none",r),...i})}function p_(){const{dataClient:r,isLoading:i}=So(),[s,n]=F.useState(!1),[a,l]=F.useState(null),c=async(T,I,A)=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{let H;switch(T){case"GET":H=await r.get(I,{cache:{enabled:!1}});break;case"POST":H=await r.post(I,A);break;case"PUT":H=await r.put(I,A);break;case"PATCH":H=await r.patch(I,A);break;case"DELETE":H=await r.delete(I);break;default:throw new Error(`Unsupported method: ${T}`)}l({method:T,endpoint:I,status:200,timestamp:new Date().toISOString(),data:H}),pe.success(`${T} ${I} successful`)}catch(H){const G=H instanceof Error?H.message:"Request failed",le=H?.status||H?.response?.status||"ERROR";l({method:T,endpoint:I,error:G,status:le,timestamp:new Date().toISOString()}),pe.error("Request failed",{description:G})}finally{n(!1)}},m=()=>c("GET","/api/users"),g=()=>c("GET","/api/users/1"),y=()=>c("POST","/api/users",{name:"New User",email:"newuser@example.com"}),f=()=>c("PUT","/api/users/1",{name:"John Doe Updated",email:"john.updated@example.com"}),h=()=>c("PATCH","/api/users/1",{email:"john.patched@example.com"}),w=()=>c("DELETE","/api/users/1"),S=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const T=r.isAuthenticated();l({authenticated:T,timestamp:new Date().toISOString()}),pe.success(T?"User is authenticated":"User is not authenticated")}catch(T){const I=T instanceof Error?T.message:"Unknown error";pe.error("Failed to check authentication",{description:I})}finally{n(!1)}},E=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const T=await r.getEnvironmentToken();l({token:T||"No token available",timestamp:new Date().toISOString()}),pe.success("Token retrieved successfully")}catch(T){const I=T instanceof Error?T.message:"Unknown error";pe.error("Failed to get token",{description:I})}finally{n(!1)}},b=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const T=r.getClientTokenInfo();l({tokenInfo:T||"No token info available",timestamp:new Date().toISOString()}),pe.success("Token info retrieved successfully")}catch(T){const I=T instanceof Error?T.message:"Unknown error";pe.error("Failed to get token info",{description:I})}finally{n(!1)}},C=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{await r.logout(),l({message:"User logged out successfully",timestamp:new Date().toISOString()}),pe.success("Logged out successfully")}catch(T){const I=T instanceof Error?T.message:"Unknown error";pe.error("Logout failed",{description:I})}finally{n(!1)}},R=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{l({message:"Redirecting to login... (Page will redirect to miso-controller login endpoint)",timestamp:new Date().toISOString()}),await r.redirectToLogin()}catch(T){const I=T instanceof Error?T.message:"Redirect failed";l({error:I,timestamp:new Date().toISOString()}),pe.error("Redirect to login failed",{description:I}),n(!1)}},P=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{await r.get("/api/invalid-endpoint-that-does-not-exist-12345",{cache:{enabled:!1}})}catch(T){const I=T instanceof Error?T.message:"Network Error";l({error:I,type:"NETWORK_ERROR",message:I,timestamp:new Date().toISOString()}),pe.error("Network error occurred",{description:I})}finally{n(!1)}},O=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{await r.get("/api/slow-endpoint",{cache:{enabled:!1},timeout:100})}catch(T){const I=T instanceof Error?T.message:"Request Timeout";l({error:I,type:"TIMEOUT_ERROR",message:I,timestamp:new Date().toISOString()}),pe.error("Request timeout occurred",{description:I})}finally{n(!1)}},D=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{await r.post("/api/users",{invalid:"data"})}catch(T){const I=T instanceof Error?T.message:"Bad Request",A=T;l({error:I,status:A.status||A.response?.status||400,details:A.response?.data||I,timestamp:new Date().toISOString()}),pe.error("API error occurred",{description:I})}finally{n(!1)}},B=s||i||!r;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b border-border bg-white",children:d.jsxs("div",{className:"px-8 py-6",children:[d.jsx("h1",{className:"text-2xl",children:"API Testing"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Test HTTP methods, authentication, and error handling"})]})}),d.jsx("div",{className:"flex-1 overflow-auto p-8",children:d.jsxs("div",{className:"max-w-6xl",children:[d.jsxs(uu,{defaultValue:"http",className:"space-y-6",children:[d.jsxs(du,{children:[d.jsx(fr,{value:"http",children:"HTTP Methods"}),d.jsx(fr,{value:"auth",children:"Authentication"}),d.jsx(fr,{value:"errors",children:"Error Handling"})]}),d.jsx(hr,{value:"http",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"GET Requests"}),d.jsx(Be,{children:"Retrieve data from the server"})]}),d.jsxs(Ee,{className:"space-y-2",children:[d.jsx(Xe,{onClick:m,disabled:B,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users"}),d.jsx(Xe,{onClick:g,disabled:B,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users/:id"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"POST Requests"}),d.jsx(Be,{children:"Create new resources"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:y,disabled:B,className:"w-full bg-blue-600 hover:bg-blue-700",children:"POST /api/users"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"PUT Requests"}),d.jsx(Be,{children:"Update existing resources"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:f,disabled:B,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PUT /api/users/:id"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"PATCH Requests"}),d.jsx(Be,{children:"Partially update resources"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:h,disabled:B,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PATCH /api/users/:id"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"DELETE Requests"}),d.jsx(Be,{children:"Remove resources"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:w,disabled:B,variant:"destructive",className:"w-full",children:"DELETE /api/users/:id"})})]})]})}),d.jsx(hr,{value:"auth",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check Authentication"}),d.jsx(Be,{children:"Verify user authentication status"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:S,disabled:B,className:"w-full",children:"isAuthenticated()"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Get Token"}),d.jsx(Be,{children:"Retrieve environment token"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:E,disabled:B,className:"w-full",children:"getEnvironmentToken()"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Get Token Info"}),d.jsx(Be,{children:"Get client token information"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:b,disabled:B,className:"w-full",children:"getClientTokenInfo()"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Logout"}),d.jsx(Be,{children:"End user session"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:C,disabled:B,variant:"destructive",className:"w-full",children:"logout()"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Redirect to Login"}),d.jsx(Be,{children:"Redirect to miso-controller login page"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:R,disabled:B,className:"w-full bg-blue-600 hover:bg-blue-700",children:"redirectToLogin()"})})]})]})}),d.jsx(hr,{value:"errors",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Network Error"}),d.jsx(Be,{children:"Simulate connection failure"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:P,disabled:B,variant:"destructive",className:"w-full",children:"Test Network Error"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Timeout Error"}),d.jsx(Be,{children:"Simulate request timeout"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:O,disabled:B,variant:"destructive",className:"w-full",children:"Test Timeout"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"API Error (400)"}),d.jsx(Be,{children:"Simulate validation error"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:D,disabled:B,variant:"destructive",className:"w-full",children:"Test API Error"})})]})]})})]}),a&&d.jsxs(we,{className:"mt-6",children:[d.jsx(be,{children:d.jsx(Ce,{className:"text-lg",children:"Response"})}),d.jsx(Ee,{children:d.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(a,null,2)})})]})]})})]})}function gi({className:r,type:i,...s}){return d.jsx("input",{type:i,"data-slot":"input",className:Gr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...s})}var m_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g_=m_.reduce((r,i)=>{const s=r0(`Primitive.${i}`),n=F.forwardRef((a,l)=>{const{asChild:c,...m}=a,g=c?s:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(g,{...m,ref:l})});return n.displayName=`Primitive.${i}`,{...r,[i]:n}},{}),y_="Label",rS=F.forwardRef((r,i)=>d.jsx(g_.label,{...r,ref:i,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(r.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));rS.displayName=y_;var v_=rS;function rs({className:r,...i}){return d.jsx(v_,{"data-slot":"label",className:Gr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...i})}function w_(){const{dataClient:r,isLoading:i}=So(),[s,n]=F.useState(!1),[a,l]=F.useState(null),[c,m]=F.useState("60000"),g=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const E=Date.now(),b=await r.get("/api/users",{cache:{enabled:!0,ttl:parseInt(c,10)}}),C=Date.now()-E;l({data:b,cached:C<100,cacheKey:"GET:/api/users",ttl:c+"ms",duration:C+"ms",timestamp:new Date().toISOString()}),pe.success("Data retrieved",{description:C<100?"Response served from cache":"Fetched from server"})}catch(E){const b=E instanceof Error?E.message:"Unknown error";pe.error("Request failed",{description:b})}finally{n(!1)}},y=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const E=Date.now(),b=await r.get("/api/users",{cache:{enabled:!1}}),C=Date.now()-E;l({data:b,cached:!1,duration:C+"ms",timestamp:new Date().toISOString()}),pe.success("Fresh data retrieved",{description:"Cache bypassed, fetched from server"})}catch(E){const b=E instanceof Error?E.message:"Unknown error";pe.error("Request failed",{description:b})}finally{n(!1)}},f=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{r.clearCache();const E=r.getMetrics();l({message:"Cache cleared successfully",cacheHitRate:E.cacheHitRate,timestamp:new Date().toISOString()}),pe.success("Cache cleared",{description:"All cache entries removed"})}catch(E){const b=E instanceof Error?E.message:"Unknown error";pe.error("Failed to clear cache",{description:b})}finally{n(!1)}},h=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{r.setInterceptors({onRequest:async(b,C)=>({...C,headers:{...C.headers,"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}})});const E={url:"/api/users",method:"GET"};await r.get("/api/users",{cache:{enabled:!1}}),l({interceptor:"request",originalRequest:E,modifiedRequest:{...E,headers:{"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}},timestamp:new Date().toISOString()}),pe.success("Request interceptor applied")}catch(E){const b=E instanceof Error?E.message:"Unknown error";pe.error("Interceptor test failed",{description:b})}finally{n(!1)}},w=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{pe.info("Attempting request with retries...");const E=Date.now();await r.get("/api/users",{cache:{enabled:!1}});const b=Date.now()-E;l({message:"Request succeeded",duration:b+"ms",retries:"Automatic retries handled by DataClient",timestamp:new Date().toISOString()}),pe.success("Request completed")}catch(E){const b=E instanceof Error?E.message:"Unknown error";l({error:b,retries:"Retry logic attempted",timestamp:new Date().toISOString()}),pe.error("Request failed after retries",{description:b})}finally{n(!1)}},S=s||i||!r;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b border-border bg-white",children:d.jsxs("div",{className:"px-8 py-6",children:[d.jsx("h1",{className:"text-2xl",children:"Caching & Storage"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Test caching mechanisms, interceptors, and retry logic"})]})}),d.jsx("div",{className:"flex-1 overflow-auto p-8",children:d.jsxs("div",{className:"max-w-6xl space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:d.jsx(xh,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsx(Ce,{className:"text-lg",children:"Cache Enabled"}),d.jsx(Be,{children:"Retrieve data with caching"})]})]})}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"cacheTTL",children:"Cache TTL (milliseconds)"}),d.jsx(gi,{id:"cacheTTL",type:"number",value:c,onChange:E=>m(E.target.value),placeholder:"60000"})]}),d.jsxs(Xe,{onClick:g,disabled:S,className:"w-full bg-green-600 hover:bg-green-700",children:[d.jsx(xh,{className:"w-4 h-4 mr-2"}),"GET with Cache"]})]})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:d.jsx(Tc,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx(Ce,{className:"text-lg",children:"Cache Bypassed"}),d.jsx(Be,{children:"Fetch fresh data from server"})]})]})}),d.jsx(Ee,{children:d.jsxs(Xe,{onClick:y,disabled:S,className:"w-full bg-blue-600 hover:bg-blue-700",children:[d.jsx(Tc,{className:"w-4 h-4 mr-2"}),"GET without Cache"]})})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Cache Management"}),d.jsx(Be,{children:"Clear cache entries"})]}),d.jsx(Ee,{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.jsxs(Xe,{onClick:f,disabled:S,variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[d.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Clear All Cache"]})})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Request Interceptors"}),d.jsx(Be,{children:"Modify requests before sending"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:h,disabled:S,className:"w-full",children:"Test Request Interceptor"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Retry Logic"}),d.jsx(Be,{children:"Automatic retry on failures"})]}),d.jsx(Ee,{children:d.jsx(Xe,{onClick:w,disabled:S,className:"w-full",children:"Test Retry Mechanism"})})]})]}),a&&d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{className:"text-lg",children:"Response"})}),d.jsx(Ee,{children:d.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(a,null,2)})})]})]})})]})}function E_(){const{dataClient:r,isLoading:i}=So(),[s,n]=F.useState(!1),[a,l]=F.useState(null),[c,m]=F.useState([]),g=()=>{if(r)try{const C=r.getMetrics();l({totalRequests:C.totalRequests,successfulRequests:C.totalRequests-C.totalFailures,failedRequests:C.totalFailures,cacheHits:Math.round(C.cacheHitRate*C.totalRequests*.3),cacheMisses:Math.round(C.totalRequests*.7),averageResponseTime:Math.round(C.averageResponseTime),cacheHitRate:C.cacheHitRate,errorRate:C.errorRate})}catch(C){console.error("Failed to load metrics:",C)}};F.useEffect(()=>{r&&g()},[r]);const y=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{g(),pe.success("Metrics retrieved successfully")}catch(C){const R=C instanceof Error?C.message:"Unknown error";pe.error("Failed to get metrics",{description:R})}finally{n(!1)}},f=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{pe.info("Making multiple requests...");const C=Date.now(),R=[r.get("/api/users",{cache:{enabled:!1}}).catch(()=>null),r.get("/api/products",{cache:{enabled:!1}}).catch(()=>null),r.get("/api/orders",{cache:{enabled:!1}}).catch(()=>null)];await Promise.all(R);const P=Date.now()-C,O=[{endpoint:"/api/users",status:200,duration:`${Math.round(P/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/products",status:200,duration:`${Math.round(P/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/orders",status:200,duration:`${Math.round(P/3)}ms`,timestamp:new Date().toISOString()}];m(D=>[...O,...D]),g(),pe.success("All requests completed",{description:`Total duration: ${P}ms`})}catch(C){const R=C instanceof Error?C.message:"Unknown error";pe.error("Some requests failed",{description:R})}finally{n(!1)}},h=async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const C=Date.now();await r.put("/api/users/1",{name:"Updated User"}).catch(()=>null);const R=Date.now()-C,P={id:"audit-"+Date.now(),action:"USER_UPDATE",timestamp:new Date().toISOString(),endpoint:"/api/users/1",method:"PUT",status:200,duration:`${R}ms`};m(O=>[P,...O]),g(),pe.success("Audit log created")}catch(C){const R=C instanceof Error?C.message:"Unknown error";pe.error("Audit logging test failed",{description:R})}finally{n(!1)}},w=()=>{m([]),pe.success("Audit logs cleared")},S=a&&a.totalRequests>0?(a.successfulRequests/a.totalRequests*100).toFixed(1):"0",E=a&&a.cacheHitRate!==void 0?(a.cacheHitRate*100).toFixed(1):a&&a.cacheHits+a.cacheMisses>0?(a.cacheHits/(a.cacheHits+a.cacheMisses)*100).toFixed(1):"0",b=s||i||!r;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b border-border bg-white",children:d.jsxs("div",{className:"px-8 py-6",children:[d.jsx("h1",{className:"text-2xl",children:"Monitoring & Logs"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"View performance metrics, audit logs, and system health"})]})}),d.jsx("div",{className:"flex-1 overflow-auto p-8",children:d.jsx("div",{className:"max-w-6xl",children:d.jsxs(uu,{defaultValue:"metrics",className:"space-y-6",children:[d.jsxs(du,{children:[d.jsx(fr,{value:"metrics",children:"Metrics"}),d.jsx(fr,{value:"audit",children:"Audit Logs"})]}),d.jsxs(hr,{value:"metrics",className:"space-y-6",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Xe,{onClick:y,disabled:b,className:"bg-blue-600 hover:bg-blue-700",children:[d.jsx(kx,{className:"w-4 h-4 mr-2"}),"Refresh Metrics"]}),d.jsxs(Xe,{onClick:f,disabled:b,className:"bg-green-600 hover:bg-green-700",children:[d.jsx(Gg,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),a&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsx(we,{children:d.jsxs(Ee,{className:"pt-6",children:[d.jsx("div",{className:"text-2xl font-semibold",children:a.totalRequests}),d.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Total Requests"})]})}),d.jsx(we,{children:d.jsxs(Ee,{className:"pt-6",children:[d.jsxs("div",{className:"text-2xl font-semibold text-green-600",children:[S,"%"]}),d.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Success Rate"})]})}),d.jsx(we,{children:d.jsxs(Ee,{className:"pt-6",children:[d.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[E,"%"]}),d.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})}),d.jsx(we,{children:d.jsxs(Ee,{className:"pt-6",children:[d.jsxs("div",{className:"text-2xl font-semibold",children:[a.averageResponseTime,"ms"]}),d.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Avg Response Time"})]})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Request Status"}),d.jsx(Be,{children:"Breakdown by success/failure"})]}),d.jsx(Ee,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Successful"}),d.jsx("span",{className:"text-sm font-medium text-green-600",children:a.successfulRequests})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),d.jsx("span",{className:"text-sm font-medium text-red-600",children:a.failedRequests})]}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[d.jsx("span",{className:"text-sm font-medium",children:"Total"}),d.jsx("span",{className:"text-sm font-medium",children:a.totalRequests})]})]})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Cache Performance"}),d.jsx(Be,{children:"Cache hits vs misses"})]}),d.jsx(Ee,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Hits"}),d.jsx("span",{className:"text-sm font-medium text-green-600",children:a.cacheHits})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Misses"}),d.jsx("span",{className:"text-sm font-medium text-orange-600",children:a.cacheMisses})]}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[d.jsx("span",{className:"text-sm font-medium",children:"Hit Rate"}),d.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[E,"%"]})]})]})})]})]}),a&&d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Metrics Details"}),d.jsx(Be,{children:"Detailed performance metrics"})]}),d.jsx(Ee,{children:d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total Requests"}),d.jsx("span",{className:"font-medium",children:a.totalRequests})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Successful"}),d.jsx("span",{className:"font-medium text-green-600",children:a.successfulRequests})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Failed"}),d.jsx("span",{className:"font-medium text-red-600",children:a.failedRequests})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),d.jsxs("span",{className:"font-medium",children:[(a.errorRate*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Average Response Time"}),d.jsxs("span",{className:"font-medium",children:[a.averageResponseTime,"ms"]})]})]})})]})]})]}),d.jsxs(hr,{value:"audit",className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Xe,{onClick:h,disabled:b,children:[d.jsx(e0,{className:"w-4 h-4 mr-2"}),"Create Audit Log"]}),d.jsxs(Xe,{onClick:f,disabled:b,className:"bg-green-600 hover:bg-green-700",children:[d.jsx(Gg,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),c.length>0&&d.jsx(Xe,{onClick:w,variant:"outline",size:"sm",children:"Clear Logs"})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Audit Log Entries"}),d.jsx(Be,{children:"Recent activity and requests"})]}),d.jsx(Ee,{children:c.length===0?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No audit logs yet. Make some requests to see logs here."}):d.jsx("div",{className:"space-y-2",children:c.map((C,R)=>d.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"font-mono text-xs",children:C.endpoint}),d.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(C.timestamp).toLocaleTimeString()})]}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[d.jsxs("span",{children:["Method: ",d.jsx("span",{className:"font-medium",children:C.method||"GET"})]}),d.jsxs("span",{children:["Status: ",d.jsx("span",{className:`font-medium ${C.status===200?"text-green-600":"text-red-600"}`,children:C.status})]}),d.jsxs("span",{children:["Duration: ",d.jsx("span",{className:"font-medium",children:C.duration})]})]})]},R))})})]})]})]})})})]})}function S_(r,i){const[s,n]=F.useState(!1),[a,l]=F.useState(null),[c,m]=F.useState([]),[g,y]=F.useState([]);return{loading:s,result:a,roles:c,permissions:g,isDisabled:s||i||!r,testGetRoles:async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const I=await r.getRoles();m(I),l({roles:I,count:I.length,timestamp:new Date().toISOString()}),pe.success(`Retrieved ${I.length} roles`)}catch(I){const A=I instanceof Error?I.message:"Unknown error";pe.error("Failed to get roles",{description:A}),m([])}finally{n(!1)}},testGetPermissions:async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const I=await r.getPermissions();y(I),l({permissions:I,count:I.length,timestamp:new Date().toISOString()}),pe.success(`Retrieved ${I.length} permissions`)}catch(I){const A=I instanceof Error?I.message:"Unknown error";pe.error("Failed to get permissions",{description:A}),y([])}finally{n(!1)}},testHasRole:async I=>{if(!r){pe.error("DataClient not initialized");return}if(!I){pe.error("Please enter a role to check");return}n(!0);try{const A=await r.hasRole(I);l({role:I,hasRole:A,timestamp:new Date().toISOString()}),pe.success(A?`User has role: ${I}`:`User does not have role: ${I}`)}catch(A){const H=A instanceof Error?A.message:"Unknown error";pe.error("Failed to check role",{description:H})}finally{n(!1)}},testHasPermission:async I=>{if(!r){pe.error("DataClient not initialized");return}if(!I){pe.error("Please enter a permission to check");return}n(!0);try{const A=await r.hasPermission(I);l({permission:I,hasPermission:A,timestamp:new Date().toISOString()}),pe.success(A?`User has permission: ${I}`:`User does not have permission: ${I}`)}catch(A){const H=A instanceof Error?A.message:"Unknown error";pe.error("Failed to check permission",{description:H})}finally{n(!1)}},testHasAnyRole:async I=>{if(!r){pe.error("DataClient not initialized");return}if(!I){pe.error("Please enter roles to check (comma-separated)");return}n(!0);try{const A=I.split(",").map(G=>G.trim()).filter(Boolean),H=await r.hasAnyRole(A);l({roles:A,hasAnyRole:H,timestamp:new Date().toISOString()}),pe.success(H?"User has at least one of the roles":"User does not have any of the roles")}catch(A){const H=A instanceof Error?A.message:"Unknown error";pe.error("Failed to check roles",{description:H})}finally{n(!1)}},testHasAllRoles:async I=>{if(!r){pe.error("DataClient not initialized");return}if(!I){pe.error("Please enter roles to check (comma-separated)");return}n(!0);try{const A=I.split(",").map(G=>G.trim()).filter(Boolean),H=await r.hasAllRoles(A);l({roles:A,hasAllRoles:H,timestamp:new Date().toISOString()}),pe.success(H?"User has all of the roles":"User does not have all of the roles")}catch(A){const H=A instanceof Error?A.message:"Unknown error";pe.error("Failed to check roles",{description:H})}finally{n(!1)}},testHasAnyPermission:async I=>{if(!r){pe.error("DataClient not initialized");return}if(!I){pe.error("Please enter permissions to check (comma-separated)");return}n(!0);try{const A=I.split(",").map(G=>G.trim()).filter(Boolean),H=await r.hasAnyPermission(A);l({permissions:A,hasAnyPermission:H,timestamp:new Date().toISOString()}),pe.success(H?"User has at least one of the permissions":"User does not have any of the permissions")}catch(A){const H=A instanceof Error?A.message:"Unknown error";pe.error("Failed to check permissions",{description:H})}finally{n(!1)}},testHasAllPermissions:async I=>{if(!r){pe.error("DataClient not initialized");return}if(!I){pe.error("Please enter permissions to check (comma-separated)");return}n(!0);try{const A=I.split(",").map(G=>G.trim()).filter(Boolean),H=await r.hasAllPermissions(A);l({permissions:A,hasAllPermissions:H,timestamp:new Date().toISOString()}),pe.success(H?"User has all of the permissions":"User does not have all of the permissions")}catch(A){const H=A instanceof Error?A.message:"Unknown error";pe.error("Failed to check permissions",{description:H})}finally{n(!1)}},testRefreshRoles:async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const I=await r.refreshRoles();m(I),l({message:"Roles cache refreshed",roles:I,timestamp:new Date().toISOString()}),pe.success("Roles cache refreshed")}catch(I){const A=I instanceof Error?I.message:"Unknown error";pe.error("Failed to refresh roles",{description:A})}finally{n(!1)}},testRefreshPermissions:async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{const I=await r.refreshPermissions();y(I),l({message:"Permissions cache refreshed",permissions:I,timestamp:new Date().toISOString()}),pe.success("Permissions cache refreshed")}catch(I){const A=I instanceof Error?I.message:"Unknown error";pe.error("Failed to refresh permissions",{description:A})}finally{n(!1)}},testClearRolesCache:async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{await r.clearRolesCache(),l({message:"Roles cache cleared",timestamp:new Date().toISOString()}),pe.success("Roles cache cleared")}catch(I){const A=I instanceof Error?I.message:"Unknown error";pe.error("Failed to clear roles cache",{description:A})}finally{n(!1)}},testClearPermissionsCache:async()=>{if(!r){pe.error("DataClient not initialized");return}n(!0);try{await r.clearPermissionsCache(),l({message:"Permissions cache cleared",timestamp:new Date().toISOString()}),pe.success("Permissions cache cleared")}catch(I){const A=I instanceof Error?I.message:"Unknown error";pe.error("Failed to clear permissions cache",{description:A})}finally{n(!1)}}}}function x_(){const{dataClient:r,isLoading:i}=So(),{result:s,roles:n,permissions:a,isDisabled:l,testGetRoles:c,testGetPermissions:m,testHasRole:g,testHasPermission:y,testHasAnyRole:f,testHasAllRoles:h,testHasAnyPermission:w,testHasAllPermissions:S,testRefreshRoles:E,testRefreshPermissions:b,testClearRolesCache:C,testClearPermissionsCache:R}=S_(r,i),[P,O]=F.useState(""),[D,B]=F.useState(""),[T,I]=F.useState(""),[A,H]=F.useState("");return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b border-border bg-white",children:d.jsxs("div",{className:"px-8 py-6",children:[d.jsx("h1",{className:"text-2xl",children:"Authorization"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Test roles and permissions using DataClient methods"})]})}),d.jsx("div",{className:"flex-1 overflow-auto p-8",children:d.jsxs("div",{className:"max-w-6xl",children:[d.jsxs(uu,{defaultValue:"roles",className:"space-y-6",children:[d.jsxs(du,{children:[d.jsx(fr,{value:"roles",children:"Roles"}),d.jsx(fr,{value:"permissions",children:"Permissions"})]}),d.jsx(hr,{value:"roles",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Get Roles"}),d.jsx(Be,{children:"Retrieve user roles (auto-retrieves token from localStorage)"})]}),d.jsxs(Ee,{children:[d.jsxs(Xe,{onClick:c,disabled:l,className:"w-full",children:[d.jsx(bh,{className:"w-4 h-4 mr-2"}),"getRoles()"]}),n.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsx(rs,{children:"Current Roles:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((G,le)=>d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:G},le))})]})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check Role"}),d.jsx(Be,{children:"Check if user has a specific role"})]}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"roleToCheck",children:"Role Name"}),d.jsx(gi,{id:"roleToCheck",value:P,onChange:G=>O(G.target.value),placeholder:"admin"})]}),d.jsx(Xe,{onClick:()=>g(P),disabled:l,className:"w-full",children:"hasRole()"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check Any Role"}),d.jsx(Be,{children:"Check if user has any of the specified roles"})]}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"rolesToCheck",children:"Roles (comma-separated)"}),d.jsx(gi,{id:"rolesToCheck",value:T,onChange:G=>I(G.target.value),placeholder:"admin, user"})]}),d.jsx(Xe,{onClick:()=>f(T),disabled:l,className:"w-full",children:"hasAnyRole()"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check All Roles"}),d.jsx(Be,{children:"Check if user has all of the specified roles"})]}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"rolesToCheckAll",children:"Roles (comma-separated)"}),d.jsx(gi,{id:"rolesToCheckAll",value:T,onChange:G=>I(G.target.value),placeholder:"admin, user"})]}),d.jsx(Xe,{onClick:()=>h(T),disabled:l,className:"w-full",children:"hasAllRoles()"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Refresh Roles"}),d.jsx(Be,{children:"Force refresh roles (bypass cache)"})]}),d.jsx(Ee,{children:d.jsxs(Xe,{onClick:E,disabled:l,className:"w-full",children:[d.jsx(Tc,{className:"w-4 h-4 mr-2"}),"refreshRoles()"]})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Clear Roles Cache"}),d.jsx(Be,{children:"Clear cached roles"})]}),d.jsx(Ee,{children:d.jsxs(Xe,{onClick:C,disabled:l,variant:"outline",className:"w-full",children:[d.jsx(Ch,{className:"w-4 h-4 mr-2"}),"clearRolesCache()"]})})]})]})}),d.jsx(hr,{value:"permissions",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Get Permissions"}),d.jsx(Be,{children:"Retrieve user permissions (auto-retrieves token from localStorage)"})]}),d.jsxs(Ee,{children:[d.jsxs(Xe,{onClick:m,disabled:l,className:"w-full",children:[d.jsx(bh,{className:"w-4 h-4 mr-2"}),"getPermissions()"]}),a.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsx(rs,{children:"Current Permissions:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((G,le)=>d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",children:G},le))})]})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check Permission"}),d.jsx(Be,{children:"Check if user has a specific permission"})]}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"permissionToCheck",children:"Permission Name"}),d.jsx(gi,{id:"permissionToCheck",value:D,onChange:G=>B(G.target.value),placeholder:"users:read"})]}),d.jsx(Xe,{onClick:()=>y(D),disabled:l,className:"w-full",children:"hasPermission()"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check Any Permission"}),d.jsx(Be,{children:"Check if user has any of the specified permissions"})]}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"permissionsToCheck",children:"Permissions (comma-separated)"}),d.jsx(gi,{id:"permissionsToCheck",value:A,onChange:G=>H(G.target.value),placeholder:"users:read, users:write"})]}),d.jsx(Xe,{onClick:()=>w(A),disabled:l,className:"w-full",children:"hasAnyPermission()"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Check All Permissions"}),d.jsx(Be,{children:"Check if user has all of the specified permissions"})]}),d.jsxs(Ee,{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(rs,{htmlFor:"permissionsToCheckAll",children:"Permissions (comma-separated)"}),d.jsx(gi,{id:"permissionsToCheckAll",value:A,onChange:G=>H(G.target.value),placeholder:"users:read, users:write"})]}),d.jsx(Xe,{onClick:()=>S(A),disabled:l,className:"w-full",children:"hasAllPermissions()"})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Refresh Permissions"}),d.jsx(Be,{children:"Force refresh permissions (bypass cache)"})]}),d.jsx(Ee,{children:d.jsxs(Xe,{onClick:b,disabled:l,className:"w-full",children:[d.jsx(Tc,{className:"w-4 h-4 mr-2"}),"refreshPermissions()"]})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{className:"text-lg",children:"Clear Permissions Cache"}),d.jsx(Be,{children:"Clear cached permissions"})]}),d.jsx(Ee,{children:d.jsxs(Xe,{onClick:R,disabled:l,variant:"outline",className:"w-full",children:[d.jsx(Ch,{className:"w-4 h-4 mr-2"}),"clearPermissionsCache()"]})})]})]})})]}),s&&d.jsxs(we,{className:"mt-6",children:[d.jsx(be,{children:d.jsx(Ce,{className:"text-lg",children:"Response"})}),d.jsx(Ee,{children:d.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(s,null,2)})})]})]})})]})}const Je={gettingStarted:{serverSetup:`import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// Initialize MisoClient with environment variables
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN, not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// Your API routes
app.get('/api/users', async (req, res) => {
  // Your business logic here
  res.json({ users: [] });
});

app.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
});`,environmentVariables:`# Server-side environment variables (.env)
# Required for MisoClient initialization

# MISO Controller Configuration
MISO_CLIENTID=ctrl-dev-my-app
MISO_CLIENTSECRET=your-client-secret-here
MISO_CONTROLLER_URL=https://controller.aifabrix.ai

# Optional: Redis for caching (recommended for production)
REDIS_HOST=localhost
REDIS_PORT=6379

# Optional: Logging level
MISO_LOG_LEVEL=info`,clientSetup:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// Zero-config initialization
// Automatically fetches config from server's /api/v1/auth/client-token endpoint
const dataClient = await autoInitializeDataClient();

// Now you can use DataClient
const users = await dataClient.get('/api/users');
console.log('Users:', users);`,completeExample:`// ============================================
// SERVER-SIDE (Express.js)
// ============================================

import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// 1. Initialize MisoClient
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// 2. Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN (client token), not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// 3. Your API routes
// Option A: Public routes (no authentication)
app.get('/api/public', async (req, res) => {
  res.json({ message: 'Public endpoint' });
});

// Option B: Protected routes (validate user token)
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Token is valid, proceed with business logic
  res.json({ users: [{ id: 1, name: 'John' }] });
});

app.listen(3000);

// ============================================
// CLIENT-SIDE (Browser/React)
// ============================================

import { autoInitializeDataClient } from '@aifabrix/miso-client';

// 1. Initialize DataClient (zero-config)
// Automatically calls POST /api/v1/auth/client-token
// Receives: environment token (client token) + DataClient config
const dataClient = await autoInitializeDataClient();

// 2. Use DataClient
// Environment token is automatically sent in x-client-token header
// This authenticates the CLIENT APPLICATION, not the user
const users = await dataClient.get('/api/users');
console.log('Users:', users);

// 3. For user-authenticated requests:
// User must login first (via MISO Controller)
// User token is stored in localStorage by DataClient
// DataClient automatically includes user token in Authorization header`,howItWorks:`// HOW IT WORKS:
//
// 1. SERVER SETUP:
//    - Server has MISO_CLIENTID and MISO_CLIENTSECRET (never exposed to browser)
//    - Server creates /api/v1/auth/client-token endpoint
//    - This endpoint fetches ENVIRONMENT TOKEN (client token) from MISO Controller
//    - Returns environment token + DataClient configuration to browser
//    - Validates request origin (CORS) before returning token
//
// 2. CLIENT SETUP:
//    - Browser calls autoInitializeDataClient()
//    - DataClient calls POST /api/v1/auth/client-token
//    - Receives environment token (client token) + configuration
//    - Stores environment token in localStorage (with expiration)
//    - Initializes DataClient with received config
//
// 3. REQUEST FLOW:
//    - Client makes request: dataClient.get('/api/users')
//    - DataClient automatically adds x-client-token header (environment token)
//    - Environment token authenticates the CLIENT APPLICATION
//    - For user authentication, validate user token (Bearer token) in your routes
//
// TOKEN TYPES:
// - ENVIRONMENT TOKEN (client token): Authenticates the client application
//   - Sent in x-client-token header
//   - Used to authenticate with MISO Controller
//   - Short-lived (default: 30 minutes)
//   - Automatically refreshed when expired
//
// - USER TOKEN: Authenticates the user
//   - Sent in Authorization: Bearer <token> header
//   - Obtained via login flow
//   - Validated in your API routes using misoClient.auth.validateToken()
//
// SECURITY:
// - Client secret NEVER exposed to browser
// - Environment token is short-lived (default: 30 minutes)
// - Token automatically refreshed when expired
// - Origin validation prevents token theft
// - Your API routes should validate USER tokens, not client tokens`,validateUserTokens:`// ============================================
// VALIDATING USER TOKENS IN API ROUTES
// ============================================

import express from 'express';
import { MisoClient, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Option 1: Manual validation in each route
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Get user info if needed
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  
  // Token is valid, proceed with business logic
  res.json({ users: [], currentUser: userInfo });
});

// Option 2: Create middleware for reusable validation
function requireAuth(misoClient: MisoClient) {
  return async (req: express.Request, res: express.Response, next: express.NextFunction) => {
    const userToken = misoClient.getToken(req);
    
    if (!userToken) {
      return res.status(401).json({ error: 'Unauthorized - no token' });
    }
    
    const isValid = await misoClient.auth.validateToken(userToken);
    if (!isValid) {
      return res.status(401).json({ error: 'Unauthorized - invalid token' });
    }
    
    // Attach token to request for use in route handlers
    (req as any).userToken = userToken;
    next();
  };
}

// Use middleware
app.get('/api/protected', requireAuth(misoClient), async (req, res) => {
  const userToken = (req as any).userToken;
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  res.json({ message: 'Protected route', user: userInfo });
});

// IMPORTANT NOTES:
// - Environment token (x-client-token) is for client app authentication
// - User token (Authorization: Bearer) is for user authentication
// - Your routes should validate USER tokens, not environment tokens
// - Environment token is handled automatically by DataClient`},initialization:{zeroConfig:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// One line - automatically fetches config and initializes DataClient
const dataClient = await autoInitializeDataClient();

// Use DataClient
const users = await dataClient.get('/api/users');`,manual:`import { DataClient } from '@aifabrix/miso-client';

// Manual configuration (browser-safe, no clientSecret)
const dataClient = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    // Use server-provided token pattern
    clientTokenUri: '/api/v1/auth/client-token',
  },
});`,reactContext:`import { DataClientProvider, useDataClient } from './contexts/DataClientContext';

// Wrap your app with DataClientProvider
function App() {
  return (
    <DataClientProvider>
      <YourComponents />
    </DataClientProvider>
  );
}

// Use DataClient in components
function MyComponent() {
  const { dataClient, isLoading, error } = useDataClient();
  
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!dataClient) return <div>Not initialized</div>;
  
  // Use dataClient...
}`},httpMethods:{get:`// GET request with cache
const users = await dataClient.get('/api/users');

// GET request without cache
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});

// GET request with custom options
const user = await dataClient.get('/api/users/1', {
  headers: { 'X-Custom-Header': 'value' },
  timeout: 5000,
});`,post:`// POST request
const newUser = await dataClient.post('/api/users', {
  name: 'John Doe',
  email: 'john@example.com',
});

// POST with error handling
try {
  const result = await dataClient.post('/api/users', userData);
  console.log('User created:', result);
} catch (error) {
  console.error('Failed to create user:', error.message);
}`,put:`// PUT request (full update)
const updatedUser = await dataClient.put('/api/users/1', {
  name: 'John Doe Updated',
  email: 'john.updated@example.com',
});`,patch:`// PATCH request (partial update)
const patchedUser = await dataClient.patch('/api/users/1', {
  email: 'john.newemail@example.com',
});`,delete:`// DELETE request
await dataClient.delete('/api/users/1');

// DELETE with error handling
try {
  await dataClient.delete('/api/users/1');
  console.log('User deleted');
} catch (error) {
  console.error('Failed to delete user:', error.message);
}`},authentication:{isAuthenticated:`// Check if user is authenticated
const isAuth = dataClient.isAuthenticated();
if (isAuth) {
  console.log('User is authenticated');
} else {
  console.log('User is not authenticated');
}`,getToken:`// Get environment token
const token = await dataClient.getEnvironmentToken();
if (token) {
  console.log('Token:', token);
} else {
  console.log('No token available');
}`,getTokenInfo:`// Get client token information
const tokenInfo = dataClient.getClientTokenInfo();
if (tokenInfo) {
  console.log('Token expires at:', tokenInfo.expiresAt);
  console.log('Token issued at:', tokenInfo.issuedAt);
}`,logout:`// Logout user
try {
  await dataClient.logout();
  console.log('User logged out');
} catch (error) {
  console.error('Logout failed:', error.message);
}`,redirectToLogin:`// Redirect to login
try {
  await dataClient.redirectToLogin();
} catch (error) {
  console.error('Redirect failed:', error.message);
}`,handleOAuthCallback:`// OAuth callback handling (automatically called on initialization)
// Token is extracted from URL hash fragment (#token=...) and stored securely
// Hash fragment is immediately removed from URL (< 100ms) for security

// Auto-called on DataClient initialization
const dataClient = new DataClient(config);
// Token is automatically extracted if present in URL hash

// Or manually call if needed
const token = dataClient.handleOAuthCallback();
if (token) {
  console.log('Token extracted and stored');
}

// OAuth Flow:
// 1. User calls redirectToLogin() â†’ redirects to controller login page
// 2. Controller handles OAuth flow with Keycloak
// 3. Controller redirects back: https://myapp.com/dashboard#token=eyJhbGc...
// 4. handleOAuthCallback() extracts token from hash fragment
// 5. Token is validated and stored in localStorage
// 6. Hash fragment is immediately removed from URL (< 100ms)
// 7. User sees clean URL: https://myapp.com/dashboard`,tokenRefresh:`// Token refresh callback (automatic refresh on 401 errors)
// Configure onTokenRefresh callback to handle token renewal securely
const dataClientWithRefresh = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    clientTokenUri: '/api/v1/auth/client-token',
  },
  onTokenRefresh: async () => {
    // Call your backend endpoint that handles refresh token securely
    // Backend should use httpOnly cookies or session storage for refresh token
    const response = await fetch('/api/refresh-token', {
      method: 'POST',
      credentials: 'include', // Include cookies for auth
      headers: {
        'Content-Type': 'application/json',
      },
    });
    
    if (!response.ok) {
      throw new Error('Token refresh failed');
    }
    
    const data = await response.json();
    // Return new access token and expiration time
    return {
      token: data.token, // New access token
      expiresIn: data.expiresIn, // Expiration in seconds
    };
  },
});

// How it works:
// - Automatically called when a request receives 401 Unauthorized
// - Refreshes token using your secure backend endpoint
// - Retries the original request with new token
// - Prevents infinite retry loops with tokenRefreshAttempted flag
// - Refresh tokens are NEVER stored in browser localStorage (security requirement)`},caching:{enabled:`// Cache-enabled GET request
const users = await dataClient.get('/api/users', {
  cache: { enabled: true, ttl: 60000 }, // Cache for 60 seconds
});`,disabled:`// Cache-bypassed GET request
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});`,clearCache:`// Clear all cache
dataClient.clearCache();
console.log('Cache cleared');`},interceptors:{request:`// Set request interceptor
dataClient.setInterceptors({
  onRequest: async (url, options) => {
    // Modify request before sending
    return {
      ...options,
      headers: {
        ...options.headers,
        'X-Custom-Header': 'value',
      },
    };
  },
});`,response:`// Set response interceptor
dataClient.setInterceptors({
  onResponse: async (response) => {
    // Modify response before returning
    console.log('Response received:', response);
    return response;
  },
});`,error:`// Set error interceptor
dataClient.setInterceptors({
  onError: async (error) => {
    // Handle errors
    console.error('Request error:', error);
    throw error; // Re-throw to maintain error flow
  },
});`},roles:{getRoles:`// Get user roles (auto-retrieves token from localStorage)
const roles = await dataClient.getRoles();
console.log('User roles:', roles);`,hasRole:`// Check specific role
const isAdmin = await dataClient.hasRole('admin');
if (isAdmin) {
  console.log('User is admin');
}`,hasAnyRole:`// Check if user has any of the roles
const hasAccess = await dataClient.hasAnyRole(['admin', 'moderator']);
if (hasAccess) {
  console.log('User has access');
}`,hasAllRoles:`// Check if user has all of the roles
const isSuperAdmin = await dataClient.hasAllRoles(['admin', 'super']);
if (isSuperAdmin) {
  console.log('User is super admin');
}`,refreshRoles:`// Force refresh roles (bypass cache)
const refreshedRoles = await dataClient.refreshRoles();
console.log('Refreshed roles:', refreshedRoles);`,clearRolesCache:`// Clear cached roles
await dataClient.clearRolesCache();
console.log('Roles cache cleared');`},permissions:{getPermissions:`// Get user permissions (auto-retrieves token from localStorage)
const permissions = await dataClient.getPermissions();
console.log('User permissions:', permissions);`,hasPermission:`// Check specific permission
const canRead = await dataClient.hasPermission('users:read');
if (canRead) {
  console.log('User can read users');
}`,hasAnyPermission:`// Check if user has any of the permissions
const canAccess = await dataClient.hasAnyPermission(['users:read', 'users:write']);
if (canAccess) {
  console.log('User has access');
}`,hasAllPermissions:`// Check if user has all of the permissions
const canManage = await dataClient.hasAllPermissions(['users:read', 'users:write', 'users:delete']);
if (canManage) {
  console.log('User can manage users');
}`,refreshPermissions:`// Force refresh permissions (bypass cache)
const refreshedPermissions = await dataClient.refreshPermissions();
console.log('Refreshed permissions:', refreshedPermissions);`,clearPermissionsCache:`// Clear cached permissions
await dataClient.clearPermissionsCache();
console.log('Permissions cache cleared');`},errorHandling:{tryCatch:`// Basic error handling
try {
  const users = await dataClient.get('/api/users');
  console.log('Users:', users);
} catch (error) {
  console.error('Request failed:', error.message);
  // Display user-friendly error message
}`,networkError:`// Handle network errors
try {
  const users = await dataClient.get('/api/users');
} catch (error) {
  if (error.message.includes('Network')) {
    console.error('Network error - check your connection');
  } else {
    console.error('Request failed:', error.message);
  }
}`,apiError:`// Handle API errors
try {
  const result = await dataClient.post('/api/users', userData);
} catch (error: any) {
  if (error.status === 400) {
    console.error('Validation error:', error.response?.data);
  } else if (error.status === 401) {
    console.error('Unauthorized - please login');
  } else if (error.status === 403) {
    console.error('Forbidden - insufficient permissions');
  } else {
    console.error('Request failed:', error.message);
  }
}`},metrics:{getMetrics:`// Get request metrics
const metrics = dataClient.getMetrics();
console.log('Total requests:', metrics.totalRequests);
console.log('Failed requests:', metrics.totalFailures);
console.log('Average response time:', metrics.averageResponseTime);
console.log('Cache hit rate:', metrics.cacheHitRate);`}};function b_(){const[r,i]=F.useState(null),s=async(a,l)=>{try{await navigator.clipboard.writeText(a),i(l),pe.success("Code copied to clipboard"),setTimeout(()=>i(null),2e3)}catch{pe.error("Failed to copy code")}},n=({code:a,id:l})=>d.jsx("div",{className:"group",children:d.jsxs("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto relative",children:[d.jsx("code",{children:a}),d.jsx(Xe,{size:"sm",variant:"ghost",style:{position:"absolute",top:"0.5rem",right:"0.5rem"},className:"z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-background/80 backdrop-blur-sm",onClick:()=>s(a,l),children:r===l?d.jsx(Zw,{className:"w-4 h-4 text-green-600"}):d.jsx(Mx,{className:"w-4 h-4"})})]})});return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"border-b border-border bg-white",children:d.jsxs("div",{className:"px-8 py-6",children:[d.jsx("h1",{className:"text-2xl",children:"Code Examples"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Copyable code examples for using DataClient"})]})}),d.jsx("div",{className:"flex-1 overflow-auto p-8",children:d.jsxs("div",{className:"max-w-6xl",children:[d.jsxs(uu,{defaultValue:"gettingStarted",className:"space-y-6",children:[d.jsxs(du,{className:"grid w-full grid-cols-8",children:[d.jsx(fr,{value:"gettingStarted",children:"Getting Started"}),d.jsx(fr,{value:"initialization",children:"Init"}),d.jsx(fr,{value:"http",children:"HTTP"}),d.jsx(fr,{value:"auth",children:"Auth"}),d.jsx(fr,{value:"caching",children:"Cache"}),d.jsx(fr,{value:"interceptors",children:"Interceptors"}),d.jsx(fr,{value:"roles",children:"Roles"}),d.jsx(fr,{value:"permissions",children:"Permissions"})]}),d.jsxs(hr,{value:"gettingStarted",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Server Setup"}),d.jsx(Be,{children:"Set up Express.js server with client token endpoint"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.gettingStarted.serverSetup,id:"getting-started-server"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Environment Variables"}),d.jsx(Be,{children:"Configure server-side environment variables"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.gettingStarted.environmentVariables,id:"getting-started-env"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Client Setup"}),d.jsx(Be,{children:"Initialize DataClient in your browser application"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.gettingStarted.clientSetup,id:"getting-started-client"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Complete Example"}),d.jsx(Be,{children:"Full server and client integration example"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.gettingStarted.completeExample,id:"getting-started-complete"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"How It Works"}),d.jsx(Be,{children:"Understanding the authentication flow and security model"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.gettingStarted.howItWorks,id:"getting-started-how-it-works"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Validating User Tokens in Routes"}),d.jsx(Be,{children:"How to protect your API routes with user token validation"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.gettingStarted.validateUserTokens,id:"getting-started-validate-tokens"})})]})]}),d.jsxs(hr,{value:"initialization",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Zero-Config Initialization"}),d.jsx(Be,{children:"Automatically fetch configuration from server"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.initialization.zeroConfig,id:"init-zero"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Manual Initialization"}),d.jsx(Be,{children:"Configure DataClient with custom settings"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.initialization.manual,id:"init-manual"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"React Context Setup"}),d.jsx(Be,{children:"Use DataClient with React Context"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.initialization.reactContext,id:"init-context"})})]})]}),d.jsxs(hr,{value:"http",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"GET Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.httpMethods.get,id:"http-get"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"POST Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.httpMethods.post,id:"http-post"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"PUT Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.httpMethods.put,id:"http-put"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"PATCH Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.httpMethods.patch,id:"http-patch"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"DELETE Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.httpMethods.delete,id:"http-delete"})})]})]}),d.jsxs(hr,{value:"auth",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check Authentication"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.isAuthenticated,id:"auth-check"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Get Token"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.getToken,id:"auth-token"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Get Token Info"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.getTokenInfo,id:"auth-token-info"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Logout"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.logout,id:"auth-logout"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Redirect to Login"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.redirectToLogin,id:"auth-redirect"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"OAuth Callback Handling"}),d.jsx(Be,{children:"Automatically extract and store tokens from OAuth redirect (hash fragment)"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.handleOAuthCallback,id:"auth-oauth-callback"})})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Token Refresh Callback"}),d.jsx(Be,{children:"Configure automatic token refresh on 401 errors using secure backend endpoint"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.authentication.tokenRefresh,id:"auth-token-refresh"})})]})]}),d.jsxs(hr,{value:"caching",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Cache-Enabled Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.caching.enabled,id:"cache-enabled"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Cache-Bypassed Requests"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.caching.disabled,id:"cache-disabled"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Clear Cache"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.caching.clearCache,id:"cache-clear"})})]})]}),d.jsxs(hr,{value:"interceptors",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Request Interceptor"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.interceptors.request,id:"interceptor-request"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Response Interceptor"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.interceptors.response,id:"interceptor-response"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Error Interceptor"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.interceptors.error,id:"interceptor-error"})})]})]}),d.jsxs(hr,{value:"roles",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Get Roles"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.roles.getRoles,id:"roles-get"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check Role"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.roles.hasRole,id:"roles-has"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check Any Role"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.roles.hasAnyRole,id:"roles-any"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check All Roles"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.roles.hasAllRoles,id:"roles-all"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Refresh Roles"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.roles.refreshRoles,id:"roles-refresh"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Clear Roles Cache"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.roles.clearRolesCache,id:"roles-clear"})})]})]}),d.jsxs(hr,{value:"permissions",className:"space-y-6",children:[d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Get Permissions"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.permissions.getPermissions,id:"perms-get"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check Permission"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.permissions.hasPermission,id:"perms-has"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check Any Permission"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.permissions.hasAnyPermission,id:"perms-any"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Check All Permissions"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.permissions.hasAllPermissions,id:"perms-all"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Refresh Permissions"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.permissions.refreshPermissions,id:"perms-refresh"})})]}),d.jsxs(we,{children:[d.jsx(be,{children:d.jsx(Ce,{children:"Clear Permissions Cache"})}),d.jsx(Ee,{children:d.jsx(n,{code:Je.permissions.clearPermissionsCache,id:"perms-clear"})})]})]})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Error Handling"}),d.jsx(Be,{children:"Patterns for handling errors"})]}),d.jsxs(Ee,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium mb-2",children:"Basic Try-Catch"}),d.jsx(n,{code:Je.errorHandling.tryCatch,id:"error-basic"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium mb-2",children:"Network Errors"}),d.jsx(n,{code:Je.errorHandling.networkError,id:"error-network"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium mb-2",children:"API Errors"}),d.jsx(n,{code:Je.errorHandling.apiError,id:"error-api"})]})]})]}),d.jsxs(we,{children:[d.jsxs(be,{children:[d.jsx(Ce,{children:"Metrics"}),d.jsx(Be,{children:"Get request metrics"})]}),d.jsx(Ee,{children:d.jsx(n,{code:Je.metrics.getMetrics,id:"metrics-get"})})]})]})]})})]})}var C_=(r,i,s,n,a,l,c,m)=>{let g=document.documentElement,y=["light","dark"];function f(S){(Array.isArray(r)?r:[r]).forEach(E=>{let b=E==="class",C=b&&l?a.map(R=>l[R]||R):a;b?(g.classList.remove(...C),g.classList.add(l&&l[S]?l[S]:S)):g.setAttribute(E,S)}),h(S)}function h(S){m&&y.includes(S)&&(g.style.colorScheme=S)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let S=localStorage.getItem(i)||s,E=c&&S==="system"?w():S;f(E)}catch{}},Yw=["light","dark"],nS="(prefers-color-scheme: dark)",T_=typeof window>"u",Tp=F.createContext(void 0),k_={setTheme:r=>{},themes:[]},__=()=>{var r;return(r=F.useContext(Tp))!=null?r:k_},R_=r=>F.useContext(Tp)?F.createElement(F.Fragment,null,r.children):F.createElement(I_,{...r}),A_=["light","dark"],I_=({forcedTheme:r,disableTransitionOnChange:i=!1,enableSystem:s=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:l=A_,defaultTheme:c=s?"system":"light",attribute:m="data-theme",value:g,children:y,nonce:f,scriptProps:h})=>{let[w,S]=F.useState(()=>P_(a,c)),[E,b]=F.useState(()=>w==="system"?Sh():w),C=g?Object.values(g):l,R=F.useCallback(B=>{let T=B;if(!T)return;B==="system"&&s&&(T=Sh());let I=g?g[T]:T,A=i?O_(f):null,H=document.documentElement,G=le=>{le==="class"?(H.classList.remove(...C),I&&H.classList.add(I)):le.startsWith("data-")&&(I?H.setAttribute(le,I):H.removeAttribute(le))};if(Array.isArray(m)?m.forEach(G):G(m),n){let le=Yw.includes(c)?c:null,fe=Yw.includes(T)?T:le;H.style.colorScheme=fe}A?.()},[f]),P=F.useCallback(B=>{let T=typeof B=="function"?B(w):B;S(T);try{localStorage.setItem(a,T)}catch{}},[w]),O=F.useCallback(B=>{let T=Sh(B);b(T),w==="system"&&s&&!r&&R("system")},[w,r]);F.useEffect(()=>{let B=window.matchMedia(nS);return B.addListener(O),O(B),()=>B.removeListener(O)},[O]),F.useEffect(()=>{let B=T=>{T.key===a&&(T.newValue?S(T.newValue):P(c))};return window.addEventListener("storage",B),()=>window.removeEventListener("storage",B)},[P]),F.useEffect(()=>{R(r??w)},[r,w]);let D=F.useMemo(()=>({theme:w,setTheme:P,forcedTheme:r,resolvedTheme:w==="system"?E:w,themes:s?[...l,"system"]:l,systemTheme:s?E:void 0}),[w,P,r,E,s,l]);return F.createElement(Tp.Provider,{value:D},F.createElement(N_,{forcedTheme:r,storageKey:a,attribute:m,enableSystem:s,enableColorScheme:n,defaultTheme:c,value:g,themes:l,nonce:f,scriptProps:h}),y)},N_=F.memo(({forcedTheme:r,storageKey:i,attribute:s,enableSystem:n,enableColorScheme:a,defaultTheme:l,value:c,themes:m,nonce:g,scriptProps:y})=>{let f=JSON.stringify([s,i,l,r,m,c,n,a]).slice(1,-1);return F.createElement("script",{...y,suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(${C_.toString()})(${f})`}})}),P_=(r,i)=>{if(T_)return;let s;try{s=localStorage.getItem(r)||void 0}catch{}return s||i},O_=r=>{let i=document.createElement("style");return r&&i.setAttribute("nonce",r),i.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(i)},1)}},Sh=r=>(r||(r=window.matchMedia(nS)),r.matches?"dark":"light");const j_=({...r})=>{const{theme:i="system"}=__();return d.jsx(_1,{theme:i,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})},bc={p18cc100:"M34.4572 24.1629C34.1171 23.2828 33.8371 22.5727 33.6171 22.0526C33.407 21.5126 33.137 21.0225 32.8169 20.5624C32.5069 20.1023 32.0868 19.7323 31.5668 19.4423C31.0567 19.1422 30.4166 18.9922 29.6465 18.9922C28.8764 18.9922 28.2463 19.1422 27.7262 19.4423C27.2161 19.7323 26.7961 20.1124 26.476 20.5824C26.166 21.0525 25.8659 21.6526 25.5759 22.3727C25.3059 23.0828 25.0658 23.6929 24.8658 24.2029L17.8648 41.9855C17.5748 42.6956 17.3747 43.2457 17.2447 43.6457C17.1247 44.0458 17.0547 44.4258 17.0547 44.8059C17.0547 45.456 17.3247 46.0361 17.8548 46.5461C18.3849 47.0562 19.005 47.3162 19.7051 47.3162C20.5252 47.3162 21.1153 47.0762 21.4753 46.6061C21.8354 46.1161 22.2754 45.1959 22.7855 43.8257L24.0957 40.3152H35.2273L36.5375 43.7557C36.7075 44.1758 36.9175 44.6759 37.1576 45.2359C37.4076 45.786 37.6376 46.1961 37.8477 46.4661C38.0577 46.7262 38.3177 46.9362 38.6278 47.0862C38.9378 47.2462 39.3079 47.3262 39.7479 47.3262C40.498 47.3262 41.1281 47.0662 41.6482 46.5461C42.1883 46.0061 42.4483 45.426 42.4483 44.7859C42.4483 44.1458 42.1683 43.1956 41.6082 41.8555L34.4572 24.1829V24.1629ZM25.5459 36.1346L29.5965 24.833L33.7271 36.1346H25.5459Z",p2888f670:"M66.9996 29.5342C65.3393 29.5342 63.9992 30.8744 63.9992 32.5346V46.8167C63.9992 51.4073 62.2089 55.728 58.9684 58.9684C55.728 62.2189 51.4074 63.9991 46.8167 63.9991H23.1833C18.5927 63.9991 14.272 62.2089 11.0316 58.9684C7.78111 55.718 6.00086 51.4073 6.00086 46.8167V23.1833C6.00086 18.5927 7.79111 14.272 11.0316 11.0316C14.272 7.79112 18.5927 6.00086 23.1833 6.00086H46.8167C48.4769 6.00086 49.8171 4.66067 49.8171 3.00043C49.8171 1.34019 48.4769 0 46.8167 0H23.1833C16.9924 0 11.1716 2.41035 6.79097 6.79097C2.41034 11.1716 0 16.9924 0 23.1833V46.8167C0 53.0076 2.41034 58.8284 6.79097 63.209C11.1716 67.5897 16.9924 70 23.1833 70H46.8167C53.0076 70 58.8384 67.5897 63.209 63.209C67.5897 58.8284 70 53.0076 70 46.8167V32.5346C70 30.8744 68.6598 29.5342 66.9996 29.5342Z",p3d0c8dc0:"M63.3766 24.1126C69.5907 24.1126 74.6282 19.0751 74.6282 12.861C74.6282 6.64689 69.5907 1.60938 63.3766 1.60938C57.1625 1.60938 52.125 6.64689 52.125 12.861C52.125 19.0751 57.1625 24.1126 63.3766 24.1126Z",p5723880:"M48.7157 26.5742C47.9656 26.5742 47.3555 26.8343 46.8854 27.3443C46.4253 27.8544 46.1953 28.6145 46.1953 29.6247V44.2167C46.1953 45.2169 46.4253 45.977 46.8854 46.5171C47.3555 47.0571 47.9656 47.3172 48.7157 47.3172C49.4658 47.3172 50.0759 47.0571 50.5659 46.5371C51.056 46.017 51.296 45.2369 51.296 44.2167V29.4746C51.296 28.5645 51.056 27.8544 50.5659 27.3443C50.0759 26.8343 49.4658 26.5742 48.7157 26.5742Z"},D_="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2075%2070%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22clip0_5723_7999%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M75%200H0V70H75V0Z%22%20fill%3D%22var(--fill-0%2C%20black)%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function L_(){return d.jsx("div",{className:"relative size-full","data-name":"favicon 1",children:d.jsx("div",{className:"absolute contents inset-0","data-name":"Clip path group",children:d.jsx("div",{className:"absolute inset-[0_0.5%_0_0] mask-alpha mask-intersect mask-no-clip mask-no-repeat mask-position-[0px] mask-size-[75px_70px]","data-name":"Group",style:{maskImage:`url('${D_}')`},children:d.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 75 70",children:d.jsxs("g",{id:"Group",children:[d.jsx("path",{d:bc.p5723880,fill:"var(--fill-0, #111827)",id:"Vector"}),d.jsx("path",{d:bc.p18cc100,fill:"var(--fill-0, #111827)",id:"Vector_2"}),d.jsx("path",{d:bc.p2888f670,fill:"var(--fill-0, #0062FF)",id:"Vector_3"}),d.jsx("path",{d:bc.p3d0c8dc0,fill:"var(--fill-0, #0062FF)",id:"Vector_4"})]})})})})})}function M_(){const[r,i]=F.useState("configuration"),s=()=>{switch(r){case"configuration":return d.jsx(Jw,{});case"api-testing":return d.jsx(p_,{});case"caching":return d.jsx(w_,{});case"monitoring":return d.jsx(E_,{});case"authorization":return d.jsx(x_,{});case"code-examples":return d.jsx(b_,{});default:return d.jsx(Jw,{})}};return d.jsxs("div",{className:"flex h-screen bg-background",children:[d.jsx(H_,{activeSection:r,onSectionChange:i}),d.jsx("main",{className:"flex-1 overflow-auto",children:s()}),d.jsx(j_,{position:"top-right"})]})}function U_(){const{dataClient:r,isLoading:i}=So(),[s,n]=F.useState(!1),[a,l]=F.useState(!1);F.useEffect(()=>{if(!r)return;const g=()=>{r.handleOAuthCallback()?(n(!0),pe.success("Authentication successful",{description:"You have been successfully authenticated",duration:3e3})):n(r.isAuthenticated())};g();const y=()=>{g()};window.addEventListener("hashchange",y);const f=()=>{setTimeout(g,100)};return window.addEventListener("focus",f),()=>{window.removeEventListener("hashchange",y),window.removeEventListener("focus",f)}},[r]);const c=async()=>{if(!r){pe.error("DataClient not initialized",{description:"Please initialize DataClient first on the Configuration page",duration:5e3});return}l(!0);try{await r.redirectToLogin(),l(!1)}catch(g){const y=g instanceof Error?g.message:"Unknown error";pe.error("Login failed",{description:y,duration:1e4}),l(!1)}},m=async()=>{if(!r){pe.error("DataClient not initialized");return}l(!0);try{await r.logout(),n(!1),pe.success("Logged out successfully")}catch(g){const y=g instanceof Error?g.message:"Unknown error";pe.error("Logout failed",{description:y})}finally{l(!1)}};return i?d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})}):d.jsxs("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx(Zx,{className:"w-3 h-3"}),d.jsx("span",{className:s?"text-green-600":"text-muted-foreground",children:s?"Authenticated":"Not authenticated"})]}),s?d.jsxs(Xe,{variant:"outline",size:"sm",className:"w-full",onClick:m,disabled:a||!r,children:[d.jsx($x,{className:"w-3 h-3 mr-2"}),a?"Logging out...":"Logout"]}):d.jsxs(Xe,{variant:"default",size:"sm",className:"w-full",onClick:c,disabled:a||!r,children:[d.jsx(Fx,{className:"w-3 h-3 mr-2"}),a?"Redirecting...":"Login"]})]})}function H_({activeSection:r,onSectionChange:i}){const s=[{id:"configuration",label:"Configuration",icon:Vx},{id:"api-testing",label:"API Testing",icon:Kx},{id:"caching",label:"Caching & Storage",icon:xh},{id:"monitoring",label:"Monitoring & Logs",icon:Ix},{id:"authorization",label:"Authorization",icon:bh},{id:"code-examples",label:"Code Examples",icon:Dx}];return d.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col",children:[d.jsx("div",{className:"p-6 border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10",children:d.jsx(L_,{})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-sidebar-foreground font-medium",children:"AI Fabrix"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"MISO Data Client"})]})]})}),d.jsx("nav",{className:"flex-1 p-4",role:"navigation","aria-label":"Main navigation",children:d.jsx("ul",{className:"space-y-1",children:s.map(n=>{const a=r===n.id,l=n.icon;return d.jsx("li",{children:d.jsxs("button",{onClick:()=>i(n.id),className:`
                    w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors
                    ${a?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"}
                  `,children:[d.jsx(l,{className:"w-4 h-4"}),d.jsx("span",{children:n.label})]})},n.id)})})}),d.jsx(U_,{}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Version"}),d.jsx("span",{className:"font-medium",children:"1.0.0"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Environment"}),d.jsx("span",{className:"font-medium text-green-600",children:"Development"})]})]})})]})}Ex.createRoot(document.getElementById("root")).render(d.jsx(R_,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:d.jsx(Nk,{children:d.jsx(M_,{})})}))});export default q_();
//# sourceMappingURL=index-Cv8X1X5L.js.map
