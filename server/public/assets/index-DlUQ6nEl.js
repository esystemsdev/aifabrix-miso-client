var Q_=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var e2=Q_((ut,ze)=>{function Z_(t,s){for(var n=0;n<s.length;n++){const i=s[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sc(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}var hh={exports:{}},gl={},ph={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function eR(){if(UE)return ot;UE=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function E(J){return J===null||typeof J!="object"?null:(J=p&&J[p]||J["@@iterator"],typeof J=="function"?J:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function R(J,ne,ue){this.props=J,this.context=ne,this.refs=C,this.updater=ue||P}R.prototype.isReactComponent={},R.prototype.setState=function(J,ne){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ne,"setState")},R.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function x(){}x.prototype=R.prototype;function w(J,ne,ue){this.props=J,this.context=ne,this.refs=C,this.updater=ue||P}var v=w.prototype=new x;v.constructor=w,_(v,R.prototype),v.isPureReactComponent=!0;var k=Array.isArray,O=Object.prototype.hasOwnProperty,j={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(J,ne,ue){var ge,ve={},Oe=null,Fe=null;if(ne!=null)for(ge in ne.ref!==void 0&&(Fe=ne.ref),ne.key!==void 0&&(Oe=""+ne.key),ne)O.call(ne,ge)&&!D.hasOwnProperty(ge)&&(ve[ge]=ne[ge]);var Le=arguments.length-2;if(Le===1)ve.children=ue;else if(1<Le){for(var Ye=Array(Le),gt=0;gt<Le;gt++)Ye[gt]=arguments[gt+2];ve.children=Ye}if(J&&J.defaultProps)for(ge in Le=J.defaultProps,Le)ve[ge]===void 0&&(ve[ge]=Le[ge]);return{$$typeof:t,type:J,key:Oe,ref:Fe,props:ve,_owner:j.current}}function H(J,ne){return{$$typeof:t,type:J.type,key:ne,ref:J.ref,props:J.props,_owner:J._owner}}function G(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function ie(J){var ne={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ue){return ne[ue]})}var he=/\/+/g;function X(J,ne){return typeof J=="object"&&J!==null&&J.key!=null?ie(""+J.key):ne.toString(36)}function V(J,ne,ue,ge,ve){var Oe=typeof J;(Oe==="undefined"||Oe==="boolean")&&(J=null);var Fe=!1;if(J===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch(J.$$typeof){case t:case s:Fe=!0}}if(Fe)return Fe=J,ve=ve(Fe),J=ge===""?"."+X(Fe,0):ge,k(ve)?(ue="",J!=null&&(ue=J.replace(he,"$&/")+"/"),V(ve,ne,ue,"",function(gt){return gt})):ve!=null&&(G(ve)&&(ve=H(ve,ue+(!ve.key||Fe&&Fe.key===ve.key?"":(""+ve.key).replace(he,"$&/")+"/")+J)),ne.push(ve)),1;if(Fe=0,ge=ge===""?".":ge+":",k(J))for(var Le=0;Le<J.length;Le++){Oe=J[Le];var Ye=ge+X(Oe,Le);Fe+=V(Oe,ne,ue,Ye,ve)}else if(Ye=E(J),typeof Ye=="function")for(J=Ye.call(J),Le=0;!(Oe=J.next()).done;)Oe=Oe.value,Ye=ge+X(Oe,Le++),Fe+=V(Oe,ne,ue,Ye,ve);else if(Oe==="object")throw ne=String(J),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Fe}function M(J,ne,ue){if(J==null)return J;var ge=[],ve=0;return V(J,ge,"","",function(Oe){return ne.call(ue,Oe,ve++)}),ge}function W(J){if(J._status===-1){var ne=J._result;ne=ne(),ne.then(function(ue){(J._status===0||J._status===-1)&&(J._status=1,J._result=ue)},function(ue){(J._status===0||J._status===-1)&&(J._status=2,J._result=ue)}),J._status===-1&&(J._status=0,J._result=ne)}if(J._status===1)return J._result.default;throw J._result}var B={current:null},$={transition:null},Y={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:$,ReactCurrentOwner:j};function te(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:M,forEach:function(J,ne,ue){M(J,function(){ne.apply(this,arguments)},ue)},count:function(J){var ne=0;return M(J,function(){ne++}),ne},toArray:function(J){return M(J,function(ne){return ne})||[]},only:function(J){if(!G(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},ot.Component=R,ot.Fragment=n,ot.Profiler=a,ot.PureComponent=w,ot.StrictMode=i,ot.Suspense=c,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ot.act=te,ot.cloneElement=function(J,ne,ue){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var ge=_({},J.props),ve=J.key,Oe=J.ref,Fe=J._owner;if(ne!=null){if(ne.ref!==void 0&&(Oe=ne.ref,Fe=j.current),ne.key!==void 0&&(ve=""+ne.key),J.type&&J.type.defaultProps)var Le=J.type.defaultProps;for(Ye in ne)O.call(ne,Ye)&&!D.hasOwnProperty(Ye)&&(ge[Ye]=ne[Ye]===void 0&&Le!==void 0?Le[Ye]:ne[Ye])}var Ye=arguments.length-2;if(Ye===1)ge.children=ue;else if(1<Ye){Le=Array(Ye);for(var gt=0;gt<Ye;gt++)Le[gt]=arguments[gt+2];ge.children=Le}return{$$typeof:t,type:J.type,key:ve,ref:Oe,props:ge,_owner:Fe}},ot.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:l,_context:J},J.Consumer=J},ot.createElement=I,ot.createFactory=function(J){var ne=I.bind(null,J);return ne.type=J,ne},ot.createRef=function(){return{current:null}},ot.forwardRef=function(J){return{$$typeof:u,render:J}},ot.isValidElement=G,ot.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:W}},ot.memo=function(J,ne){return{$$typeof:h,type:J,compare:ne===void 0?null:ne}},ot.startTransition=function(J){var ne=$.transition;$.transition={};try{J()}finally{$.transition=ne}},ot.unstable_act=te,ot.useCallback=function(J,ne){return B.current.useCallback(J,ne)},ot.useContext=function(J){return B.current.useContext(J)},ot.useDebugValue=function(){},ot.useDeferredValue=function(J){return B.current.useDeferredValue(J)},ot.useEffect=function(J,ne){return B.current.useEffect(J,ne)},ot.useId=function(){return B.current.useId()},ot.useImperativeHandle=function(J,ne,ue){return B.current.useImperativeHandle(J,ne,ue)},ot.useInsertionEffect=function(J,ne){return B.current.useInsertionEffect(J,ne)},ot.useLayoutEffect=function(J,ne){return B.current.useLayoutEffect(J,ne)},ot.useMemo=function(J,ne){return B.current.useMemo(J,ne)},ot.useReducer=function(J,ne,ue){return B.current.useReducer(J,ne,ue)},ot.useRef=function(J){return B.current.useRef(J)},ot.useState=function(J){return B.current.useState(J)},ot.useSyncExternalStore=function(J,ne,ue){return B.current.useSyncExternalStore(J,ne,ue)},ot.useTransition=function(){return B.current.useTransition()},ot.version="18.3.1",ot}var $E;function Ag(){return $E||($E=1,ph.exports=eR()),ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function tR(){if(ME)return gl;ME=1;var t=Ag(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(u,c,h){var f,p={},E=null,P=null;h!==void 0&&(E=""+h),c.key!==void 0&&(E=""+c.key),c.ref!==void 0&&(P=c.ref);for(f in c)i.call(c,f)&&!l.hasOwnProperty(f)&&(p[f]=c[f]);if(u&&u.defaultProps)for(f in c=u.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:s,type:u,key:E,ref:P,props:p,_owner:a.current}}return gl.Fragment=n,gl.jsx=o,gl.jsxs=o,gl}var qE;function rR(){return qE||(qE=1,hh.exports=tR()),hh.exports}var g=rR(),FE={},HE;function nR(){if(HE)return FE;if(HE=1,typeof process>"u"){const t={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(s){setTimeout(s,0)},cwd:function(){return"/"},exit:function(s){console.warn("process.exit called with code:",s)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=t),typeof Oo<"u"&&(Oo.process=t),typeof globalThis<"u"&&(globalThis.process=t)}if(typeof Buffer>"u"){class t{static from(n,i){const a=new t;return a._data=n,a._encoding=i,a}static alloc(n,i,a){const l=new t;return l._size=n,l._fill=i,l._encoding=a,l}static allocUnsafe(n){return t.alloc(n)}static isBuffer(n){return n instanceof t}toString(n){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}typeof window<"u"&&(window.Buffer=t),typeof Oo<"u"&&(Oo.Buffer=t),typeof globalThis<"u"&&(globalThis.Buffer=t)}return typeof Oo>"u"&&(typeof window<"u"?window.global=window:typeof globalThis<"u"&&(globalThis.global=globalThis)),console.log("âœ… Node.js globals polyfill loaded"),FE}nR();class jn{static from(s,n){const i=new jn;return i._data=s,i}static alloc(s,n,i){const a=new jn;return a._size=s,a._fill=n,a}static allocUnsafe(s){return jn.alloc(s)}static isBuffer(s){return s instanceof jn}_data;_encoding;_size;_fill;toString(s){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}const sR=jn,Ra={Buffer:jn};typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=Ra,ze.exports.Buffer=jn,ze.exports.default=Ra,ze.exports.buffer=Ra);typeof ut<"u"&&(ut.default=Ra,ut.buffer=Ra,ut.Buffer=jn);typeof window<"u"&&(window.Buffer=jn);typeof globalThis<"u"&&(globalThis.Buffer=jn);typeof global<"u"&&(global.Buffer=jn);const iR=Object.freeze(Object.defineProperty({__proto__:null,Buffer:sR,default:Ra},Symbol.toStringTag,{value:"Module"}));function hC(t,s){if(!s)return;let n=s.prototype;(!n||typeof n!="object")&&(n=Object.prototype),t.super_=s,t.prototype=Object.create(n,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function pC(t){try{return JSON.stringify(t,null,2)}catch{return String(t)}}function mC(t){return(...s)=>new Promise((n,i)=>{t(...s,(a,l)=>{a?i(a):n(l)})})}const mc={inherits:hC,inspect:pC,promisify:mC};typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports={...mc,default:mc,util:mc});typeof ut<"u"&&(ut.default=mc,ut.util=mc,ut.inherits=hC,ut.inspect=pC,ut.promisify=mC);const Ec={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(t){setTimeout(t,0)},cwd:function(){return"/"},exit:function(t){console.warn("process.exit called with code:",t)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=Ec);typeof global<"u"&&(global.process=Ec);typeof globalThis<"u"&&(globalThis.process=Ec);typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=Ec,ze.exports.default=Ec);let Ig=class{_events=new Map;on(s,n){return this._events.has(s)||this._events.set(s,[]),this._events.get(s).push(n),this}once(s,n){const i=(...a)=>{this.removeListener(s,i),n(...a)};return Promise.resolve(this.on(s,i))}emit(s,...n){const i=this._events.get(s);return i&&i.length>0?(i.forEach(a=>{try{a(...n)}catch(l){console.error("EventEmitter error:",l)}}),!0):!1}removeListener(s,n){const i=this._events.get(s);if(i){const a=i.indexOf(n);a>-1&&i.splice(a,1)}return this}removeAllListeners(s){return s?this._events.delete(s):this._events.clear(),this}off(s,n){return this.removeListener(s,n)}addListener(s,n){return this.on(s,n)}};const gc={EventEmitter:Ig};typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=gc,ze.exports.default=gc,ze.exports.EventEmitter=Ig,ze.exports.events=gc);typeof ut<"u"&&(ut.default=gc,ut.events=gc,ut.EventEmitter=Ig);var ku={},mh={exports:{}},tn={},gh={exports:{}},yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function oR(){return BE||(BE=1,(function(t){function s($,Y){var te=$.length;$.push(Y);e:for(;0<te;){var J=te-1>>>1,ne=$[J];if(0<a(ne,Y))$[J]=Y,$[te]=ne,te=J;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Y=$[0],te=$.pop();if(te!==Y){$[0]=te;e:for(var J=0,ne=$.length,ue=ne>>>1;J<ue;){var ge=2*(J+1)-1,ve=$[ge],Oe=ge+1,Fe=$[Oe];if(0>a(ve,te))Oe<ne&&0>a(Fe,ve)?($[J]=Fe,$[Oe]=te,J=Oe):($[J]=ve,$[ge]=te,J=ge);else if(Oe<ne&&0>a(Fe,te))$[J]=Fe,$[Oe]=te,J=Oe;else break e}}return Y}function a($,Y){var te=$.sortIndex-Y.sortIndex;return te!==0?te:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,p=null,E=3,P=!1,_=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var Y=n(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=$)i(h),Y.sortIndex=Y.expirationTime,s(c,Y);else break;Y=n(h)}}function k($){if(C=!1,v($),!_)if(n(c)!==null)_=!0,W(O);else{var Y=n(h);Y!==null&&B(k,Y.startTime-$)}}function O($,Y){_=!1,C&&(C=!1,x(I),I=-1),P=!0;var te=E;try{for(v(Y),p=n(c);p!==null&&(!(p.expirationTime>Y)||$&&!ie());){var J=p.callback;if(typeof J=="function"){p.callback=null,E=p.priorityLevel;var ne=J(p.expirationTime<=Y);Y=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(c)&&i(c),v(Y)}else i(c);p=n(c)}if(p!==null)var ue=!0;else{var ge=n(h);ge!==null&&B(k,ge.startTime-Y),ue=!1}return ue}finally{p=null,E=te,P=!1}}var j=!1,D=null,I=-1,H=5,G=-1;function ie(){return!(t.unstable_now()-G<H)}function he(){if(D!==null){var $=t.unstable_now();G=$;var Y=!0;try{Y=D(!0,$)}finally{Y?X():(j=!1,D=null)}}else j=!1}var X;if(typeof w=="function")X=function(){w(he)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,M=V.port2;V.port1.onmessage=he,X=function(){M.postMessage(null)}}else X=function(){R(he,0)};function W($){D=$,j||(j=!0,X())}function B($,Y){I=R(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||P||(_=!0,W(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var te=E;E=Y;try{return $()}finally{E=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=E;E=$;try{return Y()}finally{E=te}},t.unstable_scheduleCallback=function($,Y,te){var J=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?J+te:J):te=J,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=te+ne,$={id:f++,callback:Y,priorityLevel:$,startTime:te,expirationTime:ne,sortIndex:-1},te>J?($.sortIndex=te,s(h,$),n(c)===null&&$===n(h)&&(C?(x(I),I=-1):C=!0,B(k,te-J))):($.sortIndex=ne,s(c,$),_||P||(_=!0,W(O))),$},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function($){var Y=E;return function(){var te=E;E=Y;try{return $.apply(this,arguments)}finally{E=te}}}})(yh)),yh}var zE;function aR(){return zE||(zE=1,gh.exports=oR()),gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function lR(){if(WE)return tn;WE=1;var t=Ag(),s=aR();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,d=1;d<arguments.length;d++)r+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(e,r){o(e,r),o(e+"Capture",r)}function o(e,r){for(a[e]=r,e=0;e<r.length;e++)i.add(r[e])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function E(e){return c.call(p,e)?!0:c.call(f,e)?!1:h.test(e)?p[e]=!0:(f[e]=!0,!1)}function P(e,r,d,m){if(d!==null&&d.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,r,d,m){if(r===null||typeof r>"u"||P(e,r,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function C(e,r,d,m,b,A,U){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=e,this.type=r,this.sanitizeURL=A,this.removeEmptyString=U}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];R[r]=new C(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(x,w);R[r]=new C(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(x,w);R[r]=new C(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(x,w);R[r]=new C(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function v(e,r,d,m){var b=R.hasOwnProperty(r)?R[r]:null;(b!==null?b.type!==0:m||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(_(r,d,b,m)&&(d=null),m||b===null?E(r)&&(d===null?e.removeAttribute(r):e.setAttribute(r,""+d)):b.mustUseProperty?e[b.propertyName]=d===null?b.type===3?!1:"":d:(r=b.attributeName,m=b.attributeNamespace,d===null?e.removeAttribute(r):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,m?e.setAttributeNS(m,r,d):e.setAttribute(r,d))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),$=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,J;function ne(e){if(J===void 0)try{throw Error()}catch(d){var r=d.stack.trim().match(/\n( *(at )?)/);J=r&&r[1]||""}return`
`+J+e}var ue=!1;function ge(e,r){if(!e||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(fe){var m=fe}Reflect.construct(e,[],r)}else{try{r.call()}catch(fe){m=fe}e.call(r.prototype)}else{try{throw Error()}catch(fe){m=fe}e()}}catch(fe){if(fe&&m&&typeof fe.stack=="string"){for(var b=fe.stack.split(`
`),A=m.stack.split(`
`),U=b.length-1,Q=A.length-1;1<=U&&0<=Q&&b[U]!==A[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(b[U]!==A[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||b[U]!==A[Q]){var re=`
`+b[U].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=U&&0<=Q);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(e=e?e.displayName||e.name:"")?ne(e):""}function ve(e){switch(e.tag){case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function Oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case j:return"Portal";case H:return"Profiler";case I:return"StrictMode";case X:return"Suspense";case V:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ie:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case he:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return r=e.displayName||null,r!==null?r:Oe(e.type)||"Memo";case W:r=e._payload,e=e._init;try{return Oe(e(r))}catch{}}return null}function Fe(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ye(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(e){var r=Ye(e)?"checked":"value",d=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),m=""+e[r];if(!e.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,A=d.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return b.call(this)},set:function(U){m=""+U,A.call(this,U)}}),Object.defineProperty(e,r,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function $t(e){e._valueTracker||(e._valueTracker=gt(e))}function K(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var d=r.getValue(),m="";return e&&(m=Ye(e)?e.checked?"true":"false":e.value),e=m,e!==d?(r.setValue(e),!0):!1}function we(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function be(e,r){var d=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??e._wrapperState.initialChecked})}function rt(e,r){var d=r.defaultValue==null?"":r.defaultValue,m=r.checked!=null?r.checked:r.defaultChecked;d=Le(r.value!=null?r.value:d),e._wrapperState={initialChecked:m,initialValue:d,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ct(e,r){r=r.checked,r!=null&&v(e,"checked",r,!1)}function dt(e,r){ct(e,r);var d=Le(r.value),m=r.type;if(d!=null)m==="number"?(d===0&&e.value===""||e.value!=d)&&(e.value=""+d):e.value!==""+d&&(e.value=""+d);else if(m==="submit"||m==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?cr(e,r.type,d):r.hasOwnProperty("defaultValue")&&cr(e,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Ts(e,r,d){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var m=r.type;if(!(m!=="submit"&&m!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,d||r===e.value||(e.value=r),e.defaultValue=r}d=e.name,d!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,d!==""&&(e.name=d)}function cr(e,r,d){(r!=="number"||we(e.ownerDocument)!==e)&&(d==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+d&&(e.defaultValue=""+d))}var $n=Array.isArray;function gn(e,r,d,m){if(e=e.options,r){r={};for(var b=0;b<d.length;b++)r["$"+d[b]]=!0;for(d=0;d<e.length;d++)b=r.hasOwnProperty("$"+e[d].value),e[d].selected!==b&&(e[d].selected=b),b&&m&&(e[d].defaultSelected=!0)}else{for(d=""+Le(d),r=null,b=0;b<e.length;b++){if(e[b].value===d){e[b].selected=!0,m&&(e[b].defaultSelected=!0);return}r!==null||e[b].disabled||(r=e[b])}r!==null&&(r.selected=!0)}}function Mt(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cr(e,r){var d=r.value;if(d==null){if(d=r.children,r=r.defaultValue,d!=null){if(r!=null)throw Error(n(92));if($n(d)){if(1<d.length)throw Error(n(93));d=d[0]}r=d}r==null&&(r=""),d=r}e._wrapperState={initialValue:Le(d)}}function ii(e,r){var d=Le(r.value),m=Le(r.defaultValue);d!=null&&(d=""+d,d!==e.value&&(e.value=d),r.defaultValue==null&&e.defaultValue!==d&&(e.defaultValue=d)),m!=null&&(e.defaultValue=""+m)}function $o(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function z(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?z(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pe,as=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,d,m,b){MSApp.execUnsafeLocalFunction(function(){return e(r,d,m,b)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Kt(e,r){if(r){var d=e.firstChild;if(d&&d===e.lastChild&&d.nodeType===3){d.nodeValue=r;return}}e.textContent=r}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hr=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(e){Hr.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Fr[r]=Fr[e]})});function oi(e,r,d){return r==null||typeof r=="boolean"||r===""?"":d||typeof r!="number"||r===0||Fr.hasOwnProperty(e)&&Fr[e]?(""+r).trim():r+"px"}function ai(e,r){e=e.style;for(var d in r)if(r.hasOwnProperty(d)){var m=d.indexOf("--")===0,b=oi(d,r[d],m);d==="float"&&(d="cssFloat"),m?e.setProperty(d,b):e[d]=b}}var Br=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(e,r){if(r){if(Br[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function an(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=null;function mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mn=null,vn=null,Tr=null;function qn(e){if(e=tl(e)){if(typeof Mn!="function")throw Error(n(280));var r=e.stateNode;r&&(r=Bc(r),Mn(e.stateNode,e.type,r))}}function Ge(e){vn?Tr?Tr.push(e):Tr=[e]:vn=e}function Tt(){if(vn){var e=vn,r=Tr;if(Tr=vn=null,qn(e),r)for(e=0;e<r.length;e++)qn(r[e])}}function Nt(e,r){return e(r)}function Vt(){}var gr=!1;function Et(e,r,d){if(gr)return e(r,d);gr=!0;try{return Nt(e,r,d)}finally{gr=!1,(vn!==null||Tr!==null)&&(Vt(),Tt())}}function Dt(e,r){var d=e.stateNode;if(d===null)return null;var m=Bc(d);if(m===null)return null;d=m[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(e=e.type,m=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!m;break e;default:e=!1}if(e)return null;if(d&&typeof d!="function")throw Error(n(231,r,typeof d));return d}var En=!1;if(u)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){En=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{En=!1}function ur(e,r,d,m,b,A,U,Q,re){var fe=Array.prototype.slice.call(arguments,3);try{r.apply(d,fe)}catch(xe){this.onError(xe)}}var et=!1,yr=null,_s=!1,qi=null,Fi={onError:function(e){et=!0,yr=e}};function qa(e,r,d,m,b,A,U,Q,re){et=!1,yr=null,ur.apply(Fi,arguments)}function Rs(e,r,d,m,b,A,U,Q,re){if(qa.apply(this,arguments),et){if(et){var fe=yr;et=!1,yr=null}else throw Error(n(198));_s||(_s=!0,qi=fe)}}function _r(e){var r=e,d=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(d=r.return),e=r.return;while(e)}return r.tag===3?d:null}function Mo(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function qo(e){if(_r(e)!==e)throw Error(n(188))}function Hi(e){var r=e.alternate;if(!r){if(r=_r(e),r===null)throw Error(n(188));return r!==e?null:e}for(var d=e,m=r;;){var b=d.return;if(b===null)break;var A=b.alternate;if(A===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===d)return qo(b),e;if(A===m)return qo(b),r;A=A.sibling}throw Error(n(188))}if(d.return!==m.return)d=b,m=A;else{for(var U=!1,Q=b.child;Q;){if(Q===d){U=!0,d=b,m=A;break}if(Q===m){U=!0,m=b,d=A;break}Q=Q.sibling}if(!U){for(Q=A.child;Q;){if(Q===d){U=!0,d=A,m=b;break}if(Q===m){U=!0,m=A,d=b;break}Q=Q.sibling}if(!U)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?e:r}function zr(e){return e=Hi(e),e!==null?wn(e):null}function wn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=wn(e);if(r!==null)return r;e=e.sibling}return null}var Fo=s.unstable_scheduleCallback,Ho=s.unstable_cancelCallback,ks=s.unstable_shouldYield,Fa=s.unstable_requestPaint,_t=s.unstable_now,Fn=s.unstable_getCurrentPriorityLevel,bt=s.unstable_ImmediatePriority,ls=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Ha=s.unstable_LowPriority,Wr=s.unstable_IdlePriority,us=null,Kr=null;function Ba(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(us,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:zi,Hn=Math.log,Bi=Math.LN2;function zi(e){return e>>>=0,e===0?32:31-(Hn(e)/Bi|0)|0}var li=64,ci=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,r){var d=e.pendingLanes;if(d===0)return 0;var m=0,b=e.suspendedLanes,A=e.pingedLanes,U=d&268435455;if(U!==0){var Q=U&~b;Q!==0?m=As(Q):(A&=U,A!==0&&(m=As(A)))}else U=d&~b,U!==0?m=As(U):A!==0&&(m=As(A));if(m===0)return 0;if(r!==0&&r!==m&&(r&b)===0&&(b=m&-m,A=r&-r,b>=A||b===16&&(A&4194240)!==0))return r;if((m&4)!==0&&(m|=d&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=m;0<r;)d=31-Rr(r),b=1<<d,m|=e[d],r&=~b;return m}function Wi(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ki(e,r){for(var d=e.suspendedLanes,m=e.pingedLanes,b=e.expirationTimes,A=e.pendingLanes;0<A;){var U=31-Rr(A),Q=1<<U,re=b[U];re===-1?((Q&d)===0||(Q&m)!==0)&&(b[U]=Wi(Q,r)):re<=r&&(e.expiredLanes|=Q),A&=~Q}}function Xt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function di(){var e=li;return li<<=1,(li&4194240)===0&&(li=64),e}function za(e){for(var r=[],d=0;31>d;d++)r.push(e);return r}function Is(e,r,d){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Rr(r),e[r]=d}function Kd(e,r){var d=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var m=e.eventTimes;for(e=e.expirationTimes;0<d;){var b=31-Rr(d),A=1<<b;r[b]=0,m[b]=-1,e[b]=-1,d&=~A}}function Vi(e,r){var d=e.entangledLanes|=r;for(e=e.entanglements;d;){var m=31-Rr(d),b=1<<m;b&r|e[m]&r&&(e[m]|=r),d&=~b}}var ft=0;function Bo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zo,Ps,fi,Sn,Wo,Ns=!1,ds=[],Vr=null,bn=null,xn=null,Bn=new Map,cn=new Map,Gr=[],Wa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ko(e,r){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Bn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function zn(e,r,d,m,b,A){return e===null||e.nativeEvent!==A?(e={blockedOn:r,domEventName:d,eventSystemFlags:m,nativeEvent:A,targetContainers:[b]},r!==null&&(r=tl(r),r!==null&&Ps(r)),e):(e.eventSystemFlags|=m,r=e.targetContainers,b!==null&&r.indexOf(b)===-1&&r.push(b),e)}function Os(e,r,d,m,b){switch(r){case"focusin":return Vr=zn(Vr,e,r,d,m,b),!0;case"dragenter":return bn=zn(bn,e,r,d,m,b),!0;case"mouseover":return xn=zn(xn,e,r,d,m,b),!0;case"pointerover":var A=b.pointerId;return Bn.set(A,zn(Bn.get(A)||null,e,r,d,m,b)),!0;case"gotpointercapture":return A=b.pointerId,cn.set(A,zn(cn.get(A)||null,e,r,d,m,b)),!0}return!1}function hi(e){var r=ro(e.target);if(r!==null){var d=_r(r);if(d!==null){if(r=d.tag,r===13){if(r=Mo(d),r!==null){e.blockedOn=r,Wo(e.priority,function(){fi(d)});return}}else if(r===3&&d.stateNode.current.memoizedState.isDehydrated){e.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var d=Xi(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(d===null){d=e.nativeEvent;var m=new d.constructor(d.type,d);ln=m,d.target.dispatchEvent(m),ln=null}else return r=tl(d),r!==null&&Ps(r),e.blockedOn=d,!1;r.shift()}return!0}function Cn(e,r,d){fs(e)&&d.delete(r)}function Gi(){Ns=!1,Vr!==null&&fs(Vr)&&(Vr=null),bn!==null&&fs(bn)&&(bn=null),xn!==null&&fs(xn)&&(xn=null),Bn.forEach(Cn),cn.forEach(Cn)}function js(e,r){e.blockedOn===r&&(e.blockedOn=null,Ns||(Ns=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Gi)))}function kr(e){function r(b){return js(b,e)}if(0<ds.length){js(ds[0],e);for(var d=1;d<ds.length;d++){var m=ds[d];m.blockedOn===e&&(m.blockedOn=null)}}for(Vr!==null&&js(Vr,e),bn!==null&&js(bn,e),xn!==null&&js(xn,e),Bn.forEach(r),cn.forEach(r),d=0;d<Gr.length;d++)m=Gr[d],m.blockedOn===e&&(m.blockedOn=null);for(;0<Gr.length&&(d=Gr[0],d.blockedOn===null);)hi(d),d.blockedOn===null&&Gr.shift()}var wt=k.ReactCurrentBatchConfig,Jr=!0;function Wn(e,r,d,m){var b=ft,A=wt.transition;wt.transition=null;try{ft=1,Ji(e,r,d,m)}finally{ft=b,wt.transition=A}}function Ls(e,r,d,m){var b=ft,A=wt.transition;wt.transition=null;try{ft=4,Ji(e,r,d,m)}finally{ft=b,wt.transition=A}}function Ji(e,r,d,m){if(Jr){var b=Xi(e,r,d,m);if(b===null)rf(e,r,m,pi,d),Ko(e,m);else if(Os(b,e,r,d,m))m.stopPropagation();else if(Ko(e,m),r&4&&-1<Wa.indexOf(e)){for(;b!==null;){var A=tl(b);if(A!==null&&zo(A),A=Xi(e,r,d,m),A===null&&rf(e,r,m,pi,d),A===b)break;b=A}b!==null&&m.stopPropagation()}else rf(e,r,m,null,d)}}var pi=null;function Xi(e,r,d,m){if(pi=null,e=mr(m),e=ro(e),e!==null)if(r=_r(e),r===null)e=null;else if(d=r.tag,d===13){if(e=Mo(r),e!==null)return e;e=null}else if(d===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return pi=e,null}function hs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fn()){case bt:return 1;case ls:return 4;case cs:case Ha:return 16;case Wr:return 536870912;default:return 16}default:return 16}}var Tn=null,Ds=null,Xe=null;function y(){if(Xe)return Xe;var e,r=Ds,d=r.length,m,b="value"in Tn?Tn.value:Tn.textContent,A=b.length;for(e=0;e<d&&r[e]===b[e];e++);var U=d-e;for(m=1;m<=U&&r[d-m]===b[A-m];m++);return Xe=b.slice(e,1<m?1-m:void 0)}function S(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function T(){return!0}function N(){return!1}function L(e){function r(d,m,b,A,U){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var Q in e)e.hasOwnProperty(Q)&&(d=e[Q],this[Q]=d?d(A):A[Q]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?T:N,this.isPropagationStopped=N,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=T)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=T)},persist:function(){},isPersistent:T}),r}var F={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q=L(F),Z=te({},F,{view:0,detail:0}),pe=L(Z),ce,oe,ye,Be=te({},Z,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:un,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ye&&(ye&&e.type==="mousemove"?(ce=e.screenX-ye.screenX,oe=e.screenY-ye.screenY):oe=ce=0,ye=e),ce)},movementY:function(e){return"movementY"in e?e.movementY:oe}}),lt=L(Be),ae=te({},Be,{dataTransfer:0}),Ce=L(ae),me=te({},Z,{relatedTarget:0}),Qe=L(me),xt=te({},F,{animationName:0,elapsedTime:0,pseudoElement:0}),st=L(xt),yt=te({},F,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rt=L(yt),dr=te({},F,{data:0}),St=L(dr),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qi(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Yi[e])?!!r[e]:!1}function un(){return Qi}var dn=te({},Z,{key:function(e){if(e.key){var r=Us[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=S(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:un,charCode:function(e){return e.type==="keypress"?S(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?S(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fr=L(dn),Zi=te({},Be,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),It=L(Zi),eo=te({},Z,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:un}),Yt=L(eo),to=te({},F,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ka=L(to),Qt=te({},Be,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=L(Qt),$s=[9,13,27,32],fn=u&&"CompositionEvent"in window,Vn=null;u&&"documentMode"in document&&(Vn=document.documentMode);var GT=u&&"TextEvent"in window&&!Vn,Ay=u&&(!fn||Vn&&8<Vn&&11>=Vn),Iy=" ",Py=!1;function Ny(e,r){switch(e){case"keyup":return $s.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vo=!1;function JT(e,r){switch(e){case"compositionend":return Oy(r);case"keypress":return r.which!==32?null:(Py=!0,Iy);case"textInput":return e=r.data,e===Iy&&Py?null:e;default:return null}}function XT(e,r){if(Vo)return e==="compositionend"||!fn&&Ny(e,r)?(e=y(),Xe=Ds=Tn=null,Vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ay&&r.locale!=="ko"?null:r.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!YT[e.type]:r==="textarea"}function Ly(e,r,d,m){Ge(m),r=qc(r,"onChange"),0<r.length&&(d=new q("onChange","change",null,d,m),e.push({event:d,listeners:r}))}var Va=null,Ga=null;function QT(e){Zy(e,0)}function Dc(e){var r=Qo(e);if(K(r))return e}function ZT(e,r){if(e==="change")return r}var Dy=!1;if(u){var Vd;if(u){var Gd="oninput"in document;if(!Gd){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),Gd=typeof Uy.oninput=="function"}Vd=Gd}else Vd=!1;Dy=Vd&&(!document.documentMode||9<document.documentMode)}function $y(){Va&&(Va.detachEvent("onpropertychange",My),Ga=Va=null)}function My(e){if(e.propertyName==="value"&&Dc(Ga)){var r=[];Ly(r,Ga,e,mr(e)),Et(QT,r)}}function e_(e,r,d){e==="focusin"?($y(),Va=r,Ga=d,Va.attachEvent("onpropertychange",My)):e==="focusout"&&$y()}function t_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dc(Ga)}function r_(e,r){if(e==="click")return Dc(r)}function n_(e,r){if(e==="input"||e==="change")return Dc(r)}function s_(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Gn=typeof Object.is=="function"?Object.is:s_;function Ja(e,r){if(Gn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var d=Object.keys(e),m=Object.keys(r);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!c.call(r,b)||!Gn(e[b],r[b]))return!1}return!0}function qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fy(e,r){var d=qy(e);e=0;for(var m;d;){if(d.nodeType===3){if(m=e+d.textContent.length,e<=r&&m>=r)return{node:d,offset:r-e};e=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=qy(d)}}function Hy(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Hy(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function By(){for(var e=window,r=we();r instanceof e.HTMLIFrameElement;){try{var d=typeof r.contentWindow.location.href=="string"}catch{d=!1}if(d)e=r.contentWindow;else break;r=we(e.document)}return r}function Jd(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function i_(e){var r=By(),d=e.focusedElem,m=e.selectionRange;if(r!==d&&d&&d.ownerDocument&&Hy(d.ownerDocument.documentElement,d)){if(m!==null&&Jd(d)){if(r=m.start,e=m.end,e===void 0&&(e=r),"selectionStart"in d)d.selectionStart=r,d.selectionEnd=Math.min(e,d.value.length);else if(e=(r=d.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var b=d.textContent.length,A=Math.min(m.start,b);m=m.end===void 0?A:Math.min(m.end,b),!e.extend&&A>m&&(b=m,m=A,A=b),b=Fy(d,A);var U=Fy(d,m);b&&U&&(e.rangeCount!==1||e.anchorNode!==b.node||e.anchorOffset!==b.offset||e.focusNode!==U.node||e.focusOffset!==U.offset)&&(r=r.createRange(),r.setStart(b.node,b.offset),e.removeAllRanges(),A>m?(e.addRange(r),e.extend(U.node,U.offset)):(r.setEnd(U.node,U.offset),e.addRange(r)))}}for(r=[],e=d;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<r.length;d++)e=r[d],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o_=u&&"documentMode"in document&&11>=document.documentMode,Go=null,Xd=null,Xa=null,Yd=!1;function zy(e,r,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Yd||Go==null||Go!==we(m)||(m=Go,"selectionStart"in m&&Jd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xa&&Ja(Xa,m)||(Xa=m,m=qc(Xd,"onSelect"),0<m.length&&(r=new q("onSelect","select",null,r,d),e.push({event:r,listeners:m}),r.target=Go)))}function Uc(e,r){var d={};return d[e.toLowerCase()]=r.toLowerCase(),d["Webkit"+e]="webkit"+r,d["Moz"+e]="moz"+r,d}var Jo={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},Qd={},Wy={};u&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function $c(e){if(Qd[e])return Qd[e];if(!Jo[e])return e;var r=Jo[e],d;for(d in r)if(r.hasOwnProperty(d)&&d in Wy)return Qd[e]=r[d];return e}var Ky=$c("animationend"),Vy=$c("animationiteration"),Gy=$c("animationstart"),Jy=$c("transitionend"),Xy=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,r){Xy.set(e,r),l(r,[e])}for(var Zd=0;Zd<Yy.length;Zd++){var ef=Yy[Zd],a_=ef.toLowerCase(),l_=ef[0].toUpperCase()+ef.slice(1);mi(a_,"on"+l_)}mi(Ky,"onAnimationEnd"),mi(Vy,"onAnimationIteration"),mi(Gy,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Jy,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function Qy(e,r,d){var m=e.type||"unknown-event";e.currentTarget=d,Rs(m,r,void 0,e),e.currentTarget=null}function Zy(e,r){r=(r&4)!==0;for(var d=0;d<e.length;d++){var m=e[d],b=m.event;m=m.listeners;e:{var A=void 0;if(r)for(var U=m.length-1;0<=U;U--){var Q=m[U],re=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,re!==A&&b.isPropagationStopped())break e;Qy(b,Q,fe),A=re}else for(U=0;U<m.length;U++){if(Q=m[U],re=Q.instance,fe=Q.currentTarget,Q=Q.listener,re!==A&&b.isPropagationStopped())break e;Qy(b,Q,fe),A=re}}}if(_s)throw e=qi,_s=!1,qi=null,e}function kt(e,r){var d=r[cf];d===void 0&&(d=r[cf]=new Set);var m=e+"__bubble";d.has(m)||(ev(r,e,2,!1),d.add(m))}function tf(e,r,d){var m=0;r&&(m|=4),ev(d,e,m,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Qa(e){if(!e[Mc]){e[Mc]=!0,i.forEach(function(d){d!=="selectionchange"&&(c_.has(d)||tf(d,!1,e),tf(d,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,tf("selectionchange",!1,r))}}function ev(e,r,d,m){switch(hs(r)){case 1:var b=Wn;break;case 4:b=Ls;break;default:b=Ji}d=b.bind(null,r,d,e),b=void 0,!En||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(b=!0),m?b!==void 0?e.addEventListener(r,d,{capture:!0,passive:b}):e.addEventListener(r,d,!0):b!==void 0?e.addEventListener(r,d,{passive:b}):e.addEventListener(r,d,!1)}function rf(e,r,d,m,b){var A=m;if((r&1)===0&&(r&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var Q=m.stateNode.containerInfo;if(Q===b||Q.nodeType===8&&Q.parentNode===b)break;if(U===4)for(U=m.return;U!==null;){var re=U.tag;if((re===3||re===4)&&(re=U.stateNode.containerInfo,re===b||re.nodeType===8&&re.parentNode===b))return;U=U.return}for(;Q!==null;){if(U=ro(Q),U===null)return;if(re=U.tag,re===5||re===6){m=A=U;continue e}Q=Q.parentNode}}m=m.return}Et(function(){var fe=A,xe=mr(d),Te=[];e:{var Se=Xy.get(e);if(Se!==void 0){var Ne=q,Ue=e;switch(e){case"keypress":if(S(d)===0)break e;case"keydown":case"keyup":Ne=fr;break;case"focusin":Ue="focus",Ne=Qe;break;case"focusout":Ue="blur",Ne=Qe;break;case"beforeblur":case"afterblur":Ne=Qe;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Ce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Yt;break;case Ky:case Vy:case Gy:Ne=st;break;case Jy:Ne=Ka;break;case"scroll":Ne=pe;break;case"wheel":Ne=Ar;break;case"copy":case"cut":case"paste":Ne=Rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=It}var qe=(r&4)!==0,Ft=!qe&&e==="scroll",le=qe?Se!==null?Se+"Capture":null:Se;qe=[];for(var se=fe,de;se!==null;){de=se;var _e=de.stateNode;if(de.tag===5&&_e!==null&&(de=_e,le!==null&&(_e=Dt(se,le),_e!=null&&qe.push(Za(se,_e,de)))),Ft)break;se=se.return}0<qe.length&&(Se=new Ne(Se,Ue,null,d,xe),Te.push({event:Se,listeners:qe}))}}if((r&7)===0){e:{if(Se=e==="mouseover"||e==="pointerover",Ne=e==="mouseout"||e==="pointerout",Se&&d!==ln&&(Ue=d.relatedTarget||d.fromElement)&&(ro(Ue)||Ue[Ms]))break e;if((Ne||Se)&&(Se=xe.window===xe?xe:(Se=xe.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ne?(Ue=d.relatedTarget||d.toElement,Ne=fe,Ue=Ue?ro(Ue):null,Ue!==null&&(Ft=_r(Ue),Ue!==Ft||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Ne=null,Ue=fe),Ne!==Ue)){if(qe=lt,_e="onMouseLeave",le="onMouseEnter",se="mouse",(e==="pointerout"||e==="pointerover")&&(qe=It,_e="onPointerLeave",le="onPointerEnter",se="pointer"),Ft=Ne==null?Se:Qo(Ne),de=Ue==null?Se:Qo(Ue),Se=new qe(_e,se+"leave",Ne,d,xe),Se.target=Ft,Se.relatedTarget=de,_e=null,ro(xe)===fe&&(qe=new qe(le,se+"enter",Ue,d,xe),qe.target=de,qe.relatedTarget=Ft,_e=qe),Ft=_e,Ne&&Ue)t:{for(qe=Ne,le=Ue,se=0,de=qe;de;de=Xo(de))se++;for(de=0,_e=le;_e;_e=Xo(_e))de++;for(;0<se-de;)qe=Xo(qe),se--;for(;0<de-se;)le=Xo(le),de--;for(;se--;){if(qe===le||le!==null&&qe===le.alternate)break t;qe=Xo(qe),le=Xo(le)}qe=null}else qe=null;Ne!==null&&tv(Te,Se,Ne,qe,!1),Ue!==null&&Ft!==null&&tv(Te,Ft,Ue,qe,!0)}}e:{if(Se=fe?Qo(fe):window,Ne=Se.nodeName&&Se.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Se.type==="file")var He=ZT;else if(jy(Se))if(Dy)He=n_;else{He=t_;var We=e_}else(Ne=Se.nodeName)&&Ne.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(He=r_);if(He&&(He=He(e,fe))){Ly(Te,He,d,xe);break e}We&&We(e,Se,fe),e==="focusout"&&(We=Se._wrapperState)&&We.controlled&&Se.type==="number"&&cr(Se,"number",Se.value)}switch(We=fe?Qo(fe):window,e){case"focusin":(jy(We)||We.contentEditable==="true")&&(Go=We,Xd=fe,Xa=null);break;case"focusout":Xa=Xd=Go=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,zy(Te,d,xe);break;case"selectionchange":if(o_)break;case"keydown":case"keyup":zy(Te,d,xe)}var Ke;if(fn)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Vo?Ny(e,d)&&(Je="onCompositionEnd"):e==="keydown"&&d.keyCode===229&&(Je="onCompositionStart");Je&&(Ay&&d.locale!=="ko"&&(Vo||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Vo&&(Ke=y()):(Tn=xe,Ds="value"in Tn?Tn.value:Tn.textContent,Vo=!0)),We=qc(fe,Je),0<We.length&&(Je=new St(Je,e,null,d,xe),Te.push({event:Je,listeners:We}),Ke?Je.data=Ke:(Ke=Oy(d),Ke!==null&&(Je.data=Ke)))),(Ke=GT?JT(e,d):XT(e,d))&&(fe=qc(fe,"onBeforeInput"),0<fe.length&&(xe=new St("onBeforeInput","beforeinput",null,d,xe),Te.push({event:xe,listeners:fe}),xe.data=Ke))}Zy(Te,r)})}function Za(e,r,d){return{instance:e,listener:r,currentTarget:d}}function qc(e,r){for(var d=r+"Capture",m=[];e!==null;){var b=e,A=b.stateNode;b.tag===5&&A!==null&&(b=A,A=Dt(e,d),A!=null&&m.unshift(Za(e,A,b)),A=Dt(e,r),A!=null&&m.push(Za(e,A,b))),e=e.return}return m}function Xo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tv(e,r,d,m,b){for(var A=r._reactName,U=[];d!==null&&d!==m;){var Q=d,re=Q.alternate,fe=Q.stateNode;if(re!==null&&re===m)break;Q.tag===5&&fe!==null&&(Q=fe,b?(re=Dt(d,A),re!=null&&U.unshift(Za(d,re,Q))):b||(re=Dt(d,A),re!=null&&U.push(Za(d,re,Q)))),d=d.return}U.length!==0&&e.push({event:r,listeners:U})}var u_=/\r\n?/g,d_=/\u0000|\uFFFD/g;function rv(e){return(typeof e=="string"?e:""+e).replace(u_,`
`).replace(d_,"")}function Fc(e,r,d){if(r=rv(r),rv(e)!==r&&d)throw Error(n(425))}function Hc(){}var nf=null,sf=null;function of(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,f_=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(e){return nv.resolve(null).then(e).catch(p_)}:af;function p_(e){setTimeout(function(){throw e})}function lf(e,r){var d=r,m=0;do{var b=d.nextSibling;if(e.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(m===0){e.removeChild(b),kr(r);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=b}while(d);kr(r)}function gi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function sv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var d=e.data;if(d==="$"||d==="$!"||d==="$?"){if(r===0)return e;r--}else d==="/$"&&r++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),ps="__reactFiber$"+Yo,el="__reactProps$"+Yo,Ms="__reactContainer$"+Yo,cf="__reactEvents$"+Yo,m_="__reactListeners$"+Yo,g_="__reactHandles$"+Yo;function ro(e){var r=e[ps];if(r)return r;for(var d=e.parentNode;d;){if(r=d[Ms]||d[ps]){if(d=r.alternate,r.child!==null||d!==null&&d.child!==null)for(e=sv(e);e!==null;){if(d=e[ps])return d;e=sv(e)}return r}e=d,d=e.parentNode}return null}function tl(e){return e=e[ps]||e[Ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Bc(e){return e[el]||null}var uf=[],Zo=-1;function yi(e){return{current:e}}function At(e){0>Zo||(e.current=uf[Zo],uf[Zo]=null,Zo--)}function Ct(e,r){Zo++,uf[Zo]=e.current,e.current=r}var vi={},vr=yi(vi),Xr=yi(!1),no=vi;function ea(e,r){var d=e.type.contextTypes;if(!d)return vi;var m=e.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===r)return m.__reactInternalMemoizedMaskedChildContext;var b={},A;for(A in d)b[A]=r[A];return m&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=b),b}function Yr(e){return e=e.childContextTypes,e!=null}function zc(){At(Xr),At(vr)}function iv(e,r,d){if(vr.current!==vi)throw Error(n(168));Ct(vr,r),Ct(Xr,d)}function ov(e,r,d){var m=e.stateNode;if(r=r.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var b in m)if(!(b in r))throw Error(n(108,Fe(e)||"Unknown",b));return te({},d,m)}function Wc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,no=vr.current,Ct(vr,e),Ct(Xr,Xr.current),!0}function av(e,r,d){var m=e.stateNode;if(!m)throw Error(n(169));d?(e=ov(e,r,no),m.__reactInternalMemoizedMergedChildContext=e,At(Xr),At(vr),Ct(vr,e)):At(Xr),Ct(Xr,d)}var qs=null,Kc=!1,df=!1;function lv(e){qs===null?qs=[e]:qs.push(e)}function y_(e){Kc=!0,lv(e)}function Ei(){if(!df&&qs!==null){df=!0;var e=0,r=ft;try{var d=qs;for(ft=1;e<d.length;e++){var m=d[e];do m=m(!0);while(m!==null)}qs=null,Kc=!1}catch(b){throw qs!==null&&(qs=qs.slice(e+1)),Fo(bt,Ei),b}finally{ft=r,df=!1}}return null}var ta=[],ra=0,Vc=null,Gc=0,_n=[],Rn=0,so=null,Fs=1,Hs="";function io(e,r){ta[ra++]=Gc,ta[ra++]=Vc,Vc=e,Gc=r}function cv(e,r,d){_n[Rn++]=Fs,_n[Rn++]=Hs,_n[Rn++]=so,so=e;var m=Fs;e=Hs;var b=32-Rr(m)-1;m&=~(1<<b),d+=1;var A=32-Rr(r)+b;if(30<A){var U=b-b%5;A=(m&(1<<U)-1).toString(32),m>>=U,b-=U,Fs=1<<32-Rr(r)+b|d<<b|m,Hs=A+e}else Fs=1<<A|d<<b|m,Hs=e}function ff(e){e.return!==null&&(io(e,1),cv(e,1,0))}function hf(e){for(;e===Vc;)Vc=ta[--ra],ta[ra]=null,Gc=ta[--ra],ta[ra]=null;for(;e===so;)so=_n[--Rn],_n[Rn]=null,Hs=_n[--Rn],_n[Rn]=null,Fs=_n[--Rn],_n[Rn]=null}var hn=null,pn=null,Pt=!1,Jn=null;function uv(e,r){var d=Pn(5,null,null,0);d.elementType="DELETED",d.stateNode=r,d.return=e,r=e.deletions,r===null?(e.deletions=[d],e.flags|=16):r.push(d)}function dv(e,r){switch(e.tag){case 5:var d=e.type;return r=r.nodeType!==1||d.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,hn=e,pn=gi(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,hn=e,pn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(d=so!==null?{id:Fs,overflow:Hs}:null,e.memoizedState={dehydrated:r,treeContext:d,retryLane:1073741824},d=Pn(18,null,null,0),d.stateNode=r,d.return=e,e.child=d,hn=e,pn=null,!0):!1;default:return!1}}function pf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mf(e){if(Pt){var r=pn;if(r){var d=r;if(!dv(e,r)){if(pf(e))throw Error(n(418));r=gi(d.nextSibling);var m=hn;r&&dv(e,r)?uv(m,d):(e.flags=e.flags&-4097|2,Pt=!1,hn=e)}}else{if(pf(e))throw Error(n(418));e.flags=e.flags&-4097|2,Pt=!1,hn=e}}}function fv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function Jc(e){if(e!==hn)return!1;if(!Pt)return fv(e),Pt=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!of(e.type,e.memoizedProps)),r&&(r=pn)){if(pf(e))throw hv(),Error(n(418));for(;r;)uv(e,r),r=gi(r.nextSibling)}if(fv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var d=e.data;if(d==="/$"){if(r===0){pn=gi(e.nextSibling);break e}r--}else d!=="$"&&d!=="$!"&&d!=="$?"||r++}e=e.nextSibling}pn=null}}else pn=hn?gi(e.stateNode.nextSibling):null;return!0}function hv(){for(var e=pn;e;)e=gi(e.nextSibling)}function na(){pn=hn=null,Pt=!1}function gf(e){Jn===null?Jn=[e]:Jn.push(e)}var v_=k.ReactCurrentBatchConfig;function rl(e,r,d){if(e=d.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,e));var b=m,A=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===A?r.ref:(r=function(U){var Q=b.refs;U===null?delete Q[A]:Q[A]=U},r._stringRef=A,r)}if(typeof e!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,e))}return e}function Xc(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function pv(e){var r=e._init;return r(e._payload)}function mv(e){function r(le,se){if(e){var de=le.deletions;de===null?(le.deletions=[se],le.flags|=16):de.push(se)}}function d(le,se){if(!e)return null;for(;se!==null;)r(le,se),se=se.sibling;return null}function m(le,se){for(le=new Map;se!==null;)se.key!==null?le.set(se.key,se):le.set(se.index,se),se=se.sibling;return le}function b(le,se){return le=Ri(le,se),le.index=0,le.sibling=null,le}function A(le,se,de){return le.index=de,e?(de=le.alternate,de!==null?(de=de.index,de<se?(le.flags|=2,se):de):(le.flags|=2,se)):(le.flags|=1048576,se)}function U(le){return e&&le.alternate===null&&(le.flags|=2),le}function Q(le,se,de,_e){return se===null||se.tag!==6?(se=ah(de,le.mode,_e),se.return=le,se):(se=b(se,de),se.return=le,se)}function re(le,se,de,_e){var He=de.type;return He===D?xe(le,se,de.props.children,_e,de.key):se!==null&&(se.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===W&&pv(He)===se.type)?(_e=b(se,de.props),_e.ref=rl(le,se,de),_e.return=le,_e):(_e=wu(de.type,de.key,de.props,null,le.mode,_e),_e.ref=rl(le,se,de),_e.return=le,_e)}function fe(le,se,de,_e){return se===null||se.tag!==4||se.stateNode.containerInfo!==de.containerInfo||se.stateNode.implementation!==de.implementation?(se=lh(de,le.mode,_e),se.return=le,se):(se=b(se,de.children||[]),se.return=le,se)}function xe(le,se,de,_e,He){return se===null||se.tag!==7?(se=po(de,le.mode,_e,He),se.return=le,se):(se=b(se,de),se.return=le,se)}function Te(le,se,de){if(typeof se=="string"&&se!==""||typeof se=="number")return se=ah(""+se,le.mode,de),se.return=le,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case O:return de=wu(se.type,se.key,se.props,null,le.mode,de),de.ref=rl(le,null,se),de.return=le,de;case j:return se=lh(se,le.mode,de),se.return=le,se;case W:var _e=se._init;return Te(le,_e(se._payload),de)}if($n(se)||Y(se))return se=po(se,le.mode,de,null),se.return=le,se;Xc(le,se)}return null}function Se(le,se,de,_e){var He=se!==null?se.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return He!==null?null:Q(le,se,""+de,_e);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case O:return de.key===He?re(le,se,de,_e):null;case j:return de.key===He?fe(le,se,de,_e):null;case W:return He=de._init,Se(le,se,He(de._payload),_e)}if($n(de)||Y(de))return He!==null?null:xe(le,se,de,_e,null);Xc(le,de)}return null}function Ne(le,se,de,_e,He){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return le=le.get(de)||null,Q(se,le,""+_e,He);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case O:return le=le.get(_e.key===null?de:_e.key)||null,re(se,le,_e,He);case j:return le=le.get(_e.key===null?de:_e.key)||null,fe(se,le,_e,He);case W:var We=_e._init;return Ne(le,se,de,We(_e._payload),He)}if($n(_e)||Y(_e))return le=le.get(de)||null,xe(se,le,_e,He,null);Xc(se,_e)}return null}function Ue(le,se,de,_e){for(var He=null,We=null,Ke=se,Je=se=0,ir=null;Ke!==null&&Je<de.length;Je++){Ke.index>Je?(ir=Ke,Ke=null):ir=Ke.sibling;var pt=Se(le,Ke,de[Je],_e);if(pt===null){Ke===null&&(Ke=ir);break}e&&Ke&&pt.alternate===null&&r(le,Ke),se=A(pt,se,Je),We===null?He=pt:We.sibling=pt,We=pt,Ke=ir}if(Je===de.length)return d(le,Ke),Pt&&io(le,Je),He;if(Ke===null){for(;Je<de.length;Je++)Ke=Te(le,de[Je],_e),Ke!==null&&(se=A(Ke,se,Je),We===null?He=Ke:We.sibling=Ke,We=Ke);return Pt&&io(le,Je),He}for(Ke=m(le,Ke);Je<de.length;Je++)ir=Ne(Ke,le,Je,de[Je],_e),ir!==null&&(e&&ir.alternate!==null&&Ke.delete(ir.key===null?Je:ir.key),se=A(ir,se,Je),We===null?He=ir:We.sibling=ir,We=ir);return e&&Ke.forEach(function(ki){return r(le,ki)}),Pt&&io(le,Je),He}function qe(le,se,de,_e){var He=Y(de);if(typeof He!="function")throw Error(n(150));if(de=He.call(de),de==null)throw Error(n(151));for(var We=He=null,Ke=se,Je=se=0,ir=null,pt=de.next();Ke!==null&&!pt.done;Je++,pt=de.next()){Ke.index>Je?(ir=Ke,Ke=null):ir=Ke.sibling;var ki=Se(le,Ke,pt.value,_e);if(ki===null){Ke===null&&(Ke=ir);break}e&&Ke&&ki.alternate===null&&r(le,Ke),se=A(ki,se,Je),We===null?He=ki:We.sibling=ki,We=ki,Ke=ir}if(pt.done)return d(le,Ke),Pt&&io(le,Je),He;if(Ke===null){for(;!pt.done;Je++,pt=de.next())pt=Te(le,pt.value,_e),pt!==null&&(se=A(pt,se,Je),We===null?He=pt:We.sibling=pt,We=pt);return Pt&&io(le,Je),He}for(Ke=m(le,Ke);!pt.done;Je++,pt=de.next())pt=Ne(Ke,le,Je,pt.value,_e),pt!==null&&(e&&pt.alternate!==null&&Ke.delete(pt.key===null?Je:pt.key),se=A(pt,se,Je),We===null?He=pt:We.sibling=pt,We=pt);return e&&Ke.forEach(function(Y_){return r(le,Y_)}),Pt&&io(le,Je),He}function Ft(le,se,de,_e){if(typeof de=="object"&&de!==null&&de.type===D&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case O:e:{for(var He=de.key,We=se;We!==null;){if(We.key===He){if(He=de.type,He===D){if(We.tag===7){d(le,We.sibling),se=b(We,de.props.children),se.return=le,le=se;break e}}else if(We.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===W&&pv(He)===We.type){d(le,We.sibling),se=b(We,de.props),se.ref=rl(le,We,de),se.return=le,le=se;break e}d(le,We);break}else r(le,We);We=We.sibling}de.type===D?(se=po(de.props.children,le.mode,_e,de.key),se.return=le,le=se):(_e=wu(de.type,de.key,de.props,null,le.mode,_e),_e.ref=rl(le,se,de),_e.return=le,le=_e)}return U(le);case j:e:{for(We=de.key;se!==null;){if(se.key===We)if(se.tag===4&&se.stateNode.containerInfo===de.containerInfo&&se.stateNode.implementation===de.implementation){d(le,se.sibling),se=b(se,de.children||[]),se.return=le,le=se;break e}else{d(le,se);break}else r(le,se);se=se.sibling}se=lh(de,le.mode,_e),se.return=le,le=se}return U(le);case W:return We=de._init,Ft(le,se,We(de._payload),_e)}if($n(de))return Ue(le,se,de,_e);if(Y(de))return qe(le,se,de,_e);Xc(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,se!==null&&se.tag===6?(d(le,se.sibling),se=b(se,de),se.return=le,le=se):(d(le,se),se=ah(de,le.mode,_e),se.return=le,le=se),U(le)):d(le,se)}return Ft}var sa=mv(!0),gv=mv(!1),Yc=yi(null),Qc=null,ia=null,yf=null;function vf(){yf=ia=Qc=null}function Ef(e){var r=Yc.current;At(Yc),e._currentValue=r}function wf(e,r,d){for(;e!==null;){var m=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),e===d)break;e=e.return}}function oa(e,r){Qc=e,yf=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Qr=!0),e.firstContext=null)}function kn(e){var r=e._currentValue;if(yf!==e)if(e={context:e,memoizedValue:r,next:null},ia===null){if(Qc===null)throw Error(n(308));ia=e,Qc.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return r}var oo=null;function Sf(e){oo===null?oo=[e]:oo.push(e)}function yv(e,r,d,m){var b=r.interleaved;return b===null?(d.next=d,Sf(r)):(d.next=b.next,b.next=d),r.interleaved=d,Bs(e,m)}function Bs(e,r){e.lanes|=r;var d=e.alternate;for(d!==null&&(d.lanes|=r),d=e,e=e.return;e!==null;)e.childLanes|=r,d=e.alternate,d!==null&&(d.childLanes|=r),d=e,e=e.return;return d.tag===3?d.stateNode:null}var wi=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vv(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Si(e,r,d){var m=e.updateQueue;if(m===null)return null;if(m=m.shared,(ht&2)!==0){var b=m.pending;return b===null?r.next=r:(r.next=b.next,b.next=r),m.pending=r,Bs(e,d)}return b=m.interleaved,b===null?(r.next=r,Sf(m)):(r.next=b.next,b.next=r),m.interleaved=r,Bs(e,d)}function Zc(e,r,d){if(r=r.updateQueue,r!==null&&(r=r.shared,(d&4194240)!==0)){var m=r.lanes;m&=e.pendingLanes,d|=m,r.lanes=d,Vi(e,d)}}function Ev(e,r){var d=e.updateQueue,m=e.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var U={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?b=A=U:A=A.next=U,d=d.next}while(d!==null);A===null?b=A=r:A=A.next=r}else b=A=r;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:m.shared,effects:m.effects},e.updateQueue=d;return}e=d.lastBaseUpdate,e===null?d.firstBaseUpdate=r:e.next=r,d.lastBaseUpdate=r}function eu(e,r,d,m){var b=e.updateQueue;wi=!1;var A=b.firstBaseUpdate,U=b.lastBaseUpdate,Q=b.shared.pending;if(Q!==null){b.shared.pending=null;var re=Q,fe=re.next;re.next=null,U===null?A=fe:U.next=fe,U=re;var xe=e.alternate;xe!==null&&(xe=xe.updateQueue,Q=xe.lastBaseUpdate,Q!==U&&(Q===null?xe.firstBaseUpdate=fe:Q.next=fe,xe.lastBaseUpdate=re))}if(A!==null){var Te=b.baseState;U=0,xe=fe=re=null,Q=A;do{var Se=Q.lane,Ne=Q.eventTime;if((m&Se)===Se){xe!==null&&(xe=xe.next={eventTime:Ne,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ue=e,qe=Q;switch(Se=r,Ne=d,qe.tag){case 1:if(Ue=qe.payload,typeof Ue=="function"){Te=Ue.call(Ne,Te,Se);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=qe.payload,Se=typeof Ue=="function"?Ue.call(Ne,Te,Se):Ue,Se==null)break e;Te=te({},Te,Se);break e;case 2:wi=!0}}Q.callback!==null&&Q.lane!==0&&(e.flags|=64,Se=b.effects,Se===null?b.effects=[Q]:Se.push(Q))}else Ne={eventTime:Ne,lane:Se,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},xe===null?(fe=xe=Ne,re=Te):xe=xe.next=Ne,U|=Se;if(Q=Q.next,Q===null){if(Q=b.shared.pending,Q===null)break;Se=Q,Q=Se.next,Se.next=null,b.lastBaseUpdate=Se,b.shared.pending=null}}while(!0);if(xe===null&&(re=Te),b.baseState=re,b.firstBaseUpdate=fe,b.lastBaseUpdate=xe,r=b.shared.interleaved,r!==null){b=r;do U|=b.lane,b=b.next;while(b!==r)}else A===null&&(b.shared.lanes=0);co|=U,e.lanes=U,e.memoizedState=Te}}function wv(e,r,d){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var m=e[r],b=m.callback;if(b!==null){if(m.callback=null,m=d,typeof b!="function")throw Error(n(191,b));b.call(m)}}}var nl={},ms=yi(nl),sl=yi(nl),il=yi(nl);function ao(e){if(e===nl)throw Error(n(174));return e}function xf(e,r){switch(Ct(il,r),Ct(sl,e),Ct(ms,nl),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:at(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=at(r,e)}At(ms),Ct(ms,r)}function aa(){At(ms),At(sl),At(il)}function Sv(e){ao(il.current);var r=ao(ms.current),d=at(r,e.type);r!==d&&(Ct(sl,e),Ct(ms,d))}function Cf(e){sl.current===e&&(At(ms),At(sl))}var Ot=yi(0);function tu(e){for(var r=e;r!==null;){if(r.tag===13){var d=r.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tf=[];function _f(){for(var e=0;e<Tf.length;e++)Tf[e]._workInProgressVersionPrimary=null;Tf.length=0}var ru=k.ReactCurrentDispatcher,Rf=k.ReactCurrentBatchConfig,lo=0,jt=null,Zt=null,nr=null,nu=!1,ol=!1,al=0,E_=0;function Er(){throw Error(n(321))}function kf(e,r){if(r===null)return!1;for(var d=0;d<r.length&&d<e.length;d++)if(!Gn(e[d],r[d]))return!1;return!0}function Af(e,r,d,m,b,A){if(lo=A,jt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ru.current=e===null||e.memoizedState===null?x_:C_,e=d(m,b),ol){A=0;do{if(ol=!1,al=0,25<=A)throw Error(n(301));A+=1,nr=Zt=null,r.updateQueue=null,ru.current=T_,e=d(m,b)}while(ol)}if(ru.current=ou,r=Zt!==null&&Zt.next!==null,lo=0,nr=Zt=jt=null,nu=!1,r)throw Error(n(300));return e}function If(){var e=al!==0;return al=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?jt.memoizedState=nr=e:nr=nr.next=e,nr}function An(){if(Zt===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var r=nr===null?jt.memoizedState:nr.next;if(r!==null)nr=r,Zt=e;else{if(e===null)throw Error(n(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},nr===null?jt.memoizedState=nr=e:nr=nr.next=e}return nr}function ll(e,r){return typeof r=="function"?r(e):r}function Pf(e){var r=An(),d=r.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=e;var m=Zt,b=m.baseQueue,A=d.pending;if(A!==null){if(b!==null){var U=b.next;b.next=A.next,A.next=U}m.baseQueue=b=A,d.pending=null}if(b!==null){A=b.next,m=m.baseState;var Q=U=null,re=null,fe=A;do{var xe=fe.lane;if((lo&xe)===xe)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),m=fe.hasEagerState?fe.eagerState:e(m,fe.action);else{var Te={lane:xe,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?(Q=re=Te,U=m):re=re.next=Te,jt.lanes|=xe,co|=xe}fe=fe.next}while(fe!==null&&fe!==A);re===null?U=m:re.next=Q,Gn(m,r.memoizedState)||(Qr=!0),r.memoizedState=m,r.baseState=U,r.baseQueue=re,d.lastRenderedState=m}if(e=d.interleaved,e!==null){b=e;do A=b.lane,jt.lanes|=A,co|=A,b=b.next;while(b!==e)}else b===null&&(d.lanes=0);return[r.memoizedState,d.dispatch]}function Nf(e){var r=An(),d=r.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=e;var m=d.dispatch,b=d.pending,A=r.memoizedState;if(b!==null){d.pending=null;var U=b=b.next;do A=e(A,U.action),U=U.next;while(U!==b);Gn(A,r.memoizedState)||(Qr=!0),r.memoizedState=A,r.baseQueue===null&&(r.baseState=A),d.lastRenderedState=A}return[A,m]}function bv(){}function xv(e,r){var d=jt,m=An(),b=r(),A=!Gn(m.memoizedState,b);if(A&&(m.memoizedState=b,Qr=!0),m=m.queue,Of(_v.bind(null,d,m,e),[e]),m.getSnapshot!==r||A||nr!==null&&nr.memoizedState.tag&1){if(d.flags|=2048,cl(9,Tv.bind(null,d,m,b,r),void 0,null),sr===null)throw Error(n(349));(lo&30)!==0||Cv(d,r,b)}return b}function Cv(e,r,d){e.flags|=16384,e={getSnapshot:r,value:d},r=jt.updateQueue,r===null?(r={lastEffect:null,stores:null},jt.updateQueue=r,r.stores=[e]):(d=r.stores,d===null?r.stores=[e]:d.push(e))}function Tv(e,r,d,m){r.value=d,r.getSnapshot=m,Rv(r)&&kv(e)}function _v(e,r,d){return d(function(){Rv(r)&&kv(e)})}function Rv(e){var r=e.getSnapshot;e=e.value;try{var d=r();return!Gn(e,d)}catch{return!0}}function kv(e){var r=Bs(e,1);r!==null&&Zn(r,e,1,-1)}function Av(e){var r=gs();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:e},r.queue=e,e=e.dispatch=b_.bind(null,jt,e),[r.memoizedState,e]}function cl(e,r,d,m){return e={tag:e,create:r,destroy:d,deps:m,next:null},r=jt.updateQueue,r===null?(r={lastEffect:null,stores:null},jt.updateQueue=r,r.lastEffect=e.next=e):(d=r.lastEffect,d===null?r.lastEffect=e.next=e:(m=d.next,d.next=e,e.next=m,r.lastEffect=e)),e}function Iv(){return An().memoizedState}function su(e,r,d,m){var b=gs();jt.flags|=e,b.memoizedState=cl(1|r,d,void 0,m===void 0?null:m)}function iu(e,r,d,m){var b=An();m=m===void 0?null:m;var A=void 0;if(Zt!==null){var U=Zt.memoizedState;if(A=U.destroy,m!==null&&kf(m,U.deps)){b.memoizedState=cl(r,d,A,m);return}}jt.flags|=e,b.memoizedState=cl(1|r,d,A,m)}function Pv(e,r){return su(8390656,8,e,r)}function Of(e,r){return iu(2048,8,e,r)}function Nv(e,r){return iu(4,2,e,r)}function Ov(e,r){return iu(4,4,e,r)}function jv(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Lv(e,r,d){return d=d!=null?d.concat([e]):null,iu(4,4,jv.bind(null,r,e),d)}function jf(){}function Dv(e,r){var d=An();r=r===void 0?null:r;var m=d.memoizedState;return m!==null&&r!==null&&kf(r,m[1])?m[0]:(d.memoizedState=[e,r],e)}function Uv(e,r){var d=An();r=r===void 0?null:r;var m=d.memoizedState;return m!==null&&r!==null&&kf(r,m[1])?m[0]:(e=e(),d.memoizedState=[e,r],e)}function $v(e,r,d){return(lo&21)===0?(e.baseState&&(e.baseState=!1,Qr=!0),e.memoizedState=d):(Gn(d,r)||(d=di(),jt.lanes|=d,co|=d,e.baseState=!0),r)}function w_(e,r){var d=ft;ft=d!==0&&4>d?d:4,e(!0);var m=Rf.transition;Rf.transition={};try{e(!1),r()}finally{ft=d,Rf.transition=m}}function Mv(){return An().memoizedState}function S_(e,r,d){var m=Ti(e);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},qv(e))Fv(r,d);else if(d=yv(e,r,d,m),d!==null){var b=Pr();Zn(d,e,m,b),Hv(d,r,m)}}function b_(e,r,d){var m=Ti(e),b={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(qv(e))Fv(r,b);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=r.lastRenderedReducer,A!==null))try{var U=r.lastRenderedState,Q=A(U,d);if(b.hasEagerState=!0,b.eagerState=Q,Gn(Q,U)){var re=r.interleaved;re===null?(b.next=b,Sf(r)):(b.next=re.next,re.next=b),r.interleaved=b;return}}catch{}finally{}d=yv(e,r,b,m),d!==null&&(b=Pr(),Zn(d,e,m,b),Hv(d,r,m))}}function qv(e){var r=e.alternate;return e===jt||r!==null&&r===jt}function Fv(e,r){ol=nu=!0;var d=e.pending;d===null?r.next=r:(r.next=d.next,d.next=r),e.pending=r}function Hv(e,r,d){if((d&4194240)!==0){var m=r.lanes;m&=e.pendingLanes,d|=m,r.lanes=d,Vi(e,d)}}var ou={readContext:kn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},x_={readContext:kn,useCallback:function(e,r){return gs().memoizedState=[e,r===void 0?null:r],e},useContext:kn,useEffect:Pv,useImperativeHandle:function(e,r,d){return d=d!=null?d.concat([e]):null,su(4194308,4,jv.bind(null,r,e),d)},useLayoutEffect:function(e,r){return su(4194308,4,e,r)},useInsertionEffect:function(e,r){return su(4,2,e,r)},useMemo:function(e,r){var d=gs();return r=r===void 0?null:r,e=e(),d.memoizedState=[e,r],e},useReducer:function(e,r,d){var m=gs();return r=d!==void 0?d(r):r,m.memoizedState=m.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},m.queue=e,e=e.dispatch=S_.bind(null,jt,e),[m.memoizedState,e]},useRef:function(e){var r=gs();return e={current:e},r.memoizedState=e},useState:Av,useDebugValue:jf,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=Av(!1),r=e[0];return e=w_.bind(null,e[1]),gs().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,d){var m=jt,b=gs();if(Pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=r(),sr===null)throw Error(n(349));(lo&30)!==0||Cv(m,r,d)}b.memoizedState=d;var A={value:d,getSnapshot:r};return b.queue=A,Pv(_v.bind(null,m,A,e),[e]),m.flags|=2048,cl(9,Tv.bind(null,m,A,d,r),void 0,null),d},useId:function(){var e=gs(),r=sr.identifierPrefix;if(Pt){var d=Hs,m=Fs;d=(m&~(1<<32-Rr(m)-1)).toString(32)+d,r=":"+r+"R"+d,d=al++,0<d&&(r+="H"+d.toString(32)),r+=":"}else d=E_++,r=":"+r+"r"+d.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},C_={readContext:kn,useCallback:Dv,useContext:kn,useEffect:Of,useImperativeHandle:Lv,useInsertionEffect:Nv,useLayoutEffect:Ov,useMemo:Uv,useReducer:Pf,useRef:Iv,useState:function(){return Pf(ll)},useDebugValue:jf,useDeferredValue:function(e){var r=An();return $v(r,Zt.memoizedState,e)},useTransition:function(){var e=Pf(ll)[0],r=An().memoizedState;return[e,r]},useMutableSource:bv,useSyncExternalStore:xv,useId:Mv,unstable_isNewReconciler:!1},T_={readContext:kn,useCallback:Dv,useContext:kn,useEffect:Of,useImperativeHandle:Lv,useInsertionEffect:Nv,useLayoutEffect:Ov,useMemo:Uv,useReducer:Nf,useRef:Iv,useState:function(){return Nf(ll)},useDebugValue:jf,useDeferredValue:function(e){var r=An();return Zt===null?r.memoizedState=e:$v(r,Zt.memoizedState,e)},useTransition:function(){var e=Nf(ll)[0],r=An().memoizedState;return[e,r]},useMutableSource:bv,useSyncExternalStore:xv,useId:Mv,unstable_isNewReconciler:!1};function Xn(e,r){if(e&&e.defaultProps){r=te({},r),e=e.defaultProps;for(var d in e)r[d]===void 0&&(r[d]=e[d]);return r}return r}function Lf(e,r,d,m){r=e.memoizedState,d=d(m,r),d=d==null?r:te({},r,d),e.memoizedState=d,e.lanes===0&&(e.updateQueue.baseState=d)}var au={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,r,d){e=e._reactInternals;var m=Pr(),b=Ti(e),A=zs(m,b);A.payload=r,d!=null&&(A.callback=d),r=Si(e,A,b),r!==null&&(Zn(r,e,b,m),Zc(r,e,b))},enqueueReplaceState:function(e,r,d){e=e._reactInternals;var m=Pr(),b=Ti(e),A=zs(m,b);A.tag=1,A.payload=r,d!=null&&(A.callback=d),r=Si(e,A,b),r!==null&&(Zn(r,e,b,m),Zc(r,e,b))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var d=Pr(),m=Ti(e),b=zs(d,m);b.tag=2,r!=null&&(b.callback=r),r=Si(e,b,m),r!==null&&(Zn(r,e,m,d),Zc(r,e,m))}};function Bv(e,r,d,m,b,A,U){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(m,A,U):r.prototype&&r.prototype.isPureReactComponent?!Ja(d,m)||!Ja(b,A):!0}function zv(e,r,d){var m=!1,b=vi,A=r.contextType;return typeof A=="object"&&A!==null?A=kn(A):(b=Yr(r)?no:vr.current,m=r.contextTypes,A=(m=m!=null)?ea(e,b):vi),r=new r(d,A),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=au,e.stateNode=r,r._reactInternals=e,m&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=b,e.__reactInternalMemoizedMaskedChildContext=A),r}function Wv(e,r,d,m){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(d,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(d,m),r.state!==e&&au.enqueueReplaceState(r,r.state,null)}function Df(e,r,d,m){var b=e.stateNode;b.props=d,b.state=e.memoizedState,b.refs={},bf(e);var A=r.contextType;typeof A=="object"&&A!==null?b.context=kn(A):(A=Yr(r)?no:vr.current,b.context=ea(e,A)),b.state=e.memoizedState,A=r.getDerivedStateFromProps,typeof A=="function"&&(Lf(e,r,A,d),b.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(r=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),r!==b.state&&au.enqueueReplaceState(b,b.state,null),eu(e,d,b,m),b.state=e.memoizedState),typeof b.componentDidMount=="function"&&(e.flags|=4194308)}function la(e,r){try{var d="",m=r;do d+=ve(m),m=m.return;while(m);var b=d}catch(A){b=`
Error generating stack: `+A.message+`
`+A.stack}return{value:e,source:r,stack:b,digest:null}}function Uf(e,r,d){return{value:e,source:null,stack:d??null,digest:r??null}}function $f(e,r){try{console.error(r.value)}catch(d){setTimeout(function(){throw d})}}var __=typeof WeakMap=="function"?WeakMap:Map;function Kv(e,r,d){d=zs(-1,d),d.tag=3,d.payload={element:null};var m=r.value;return d.callback=function(){pu||(pu=!0,Zf=m),$f(e,r)},d}function Vv(e,r,d){d=zs(-1,d),d.tag=3;var m=e.type.getDerivedStateFromError;if(typeof m=="function"){var b=r.value;d.payload=function(){return m(b)},d.callback=function(){$f(e,r)}}var A=e.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){$f(e,r),typeof m!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var U=r.stack;this.componentDidCatch(r.value,{componentStack:U!==null?U:""})}),d}function Gv(e,r,d){var m=e.pingCache;if(m===null){m=e.pingCache=new __;var b=new Set;m.set(r,b)}else b=m.get(r),b===void 0&&(b=new Set,m.set(r,b));b.has(d)||(b.add(d),e=q_.bind(null,e,r,d),r.then(e,e))}function Jv(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Xv(e,r,d,m,b){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(r=zs(-1,1),r.tag=2,Si(d,r,1))),d.lanes|=1),e):(e.flags|=65536,e.lanes=b,e)}var R_=k.ReactCurrentOwner,Qr=!1;function Ir(e,r,d,m){r.child=e===null?gv(r,null,d,m):sa(r,e.child,d,m)}function Yv(e,r,d,m,b){d=d.render;var A=r.ref;return oa(r,b),m=Af(e,r,d,m,A,b),d=If(),e!==null&&!Qr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~b,Ws(e,r,b)):(Pt&&d&&ff(r),r.flags|=1,Ir(e,r,m,b),r.child)}function Qv(e,r,d,m,b){if(e===null){var A=d.type;return typeof A=="function"&&!oh(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(r.tag=15,r.type=A,Zv(e,r,A,m,b)):(e=wu(d.type,null,m,r,r.mode,b),e.ref=r.ref,e.return=r,r.child=e)}if(A=e.child,(e.lanes&b)===0){var U=A.memoizedProps;if(d=d.compare,d=d!==null?d:Ja,d(U,m)&&e.ref===r.ref)return Ws(e,r,b)}return r.flags|=1,e=Ri(A,m),e.ref=r.ref,e.return=r,r.child=e}function Zv(e,r,d,m,b){if(e!==null){var A=e.memoizedProps;if(Ja(A,m)&&e.ref===r.ref)if(Qr=!1,r.pendingProps=m=A,(e.lanes&b)!==0)(e.flags&131072)!==0&&(Qr=!0);else return r.lanes=e.lanes,Ws(e,r,b)}return Mf(e,r,d,m,b)}function eE(e,r,d){var m=r.pendingProps,b=m.children,A=e!==null?e.memoizedState:null;if(m.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(ua,mn),mn|=d;else{if((d&1073741824)===0)return e=A!==null?A.baseLanes|d:d,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ct(ua,mn),mn|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=A!==null?A.baseLanes:d,Ct(ua,mn),mn|=m}else A!==null?(m=A.baseLanes|d,r.memoizedState=null):m=d,Ct(ua,mn),mn|=m;return Ir(e,r,b,d),r.child}function tE(e,r){var d=r.ref;(e===null&&d!==null||e!==null&&e.ref!==d)&&(r.flags|=512,r.flags|=2097152)}function Mf(e,r,d,m,b){var A=Yr(d)?no:vr.current;return A=ea(r,A),oa(r,b),d=Af(e,r,d,m,A,b),m=If(),e!==null&&!Qr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~b,Ws(e,r,b)):(Pt&&m&&ff(r),r.flags|=1,Ir(e,r,d,b),r.child)}function rE(e,r,d,m,b){if(Yr(d)){var A=!0;Wc(r)}else A=!1;if(oa(r,b),r.stateNode===null)cu(e,r),zv(r,d,m),Df(r,d,m,b),m=!0;else if(e===null){var U=r.stateNode,Q=r.memoizedProps;U.props=Q;var re=U.context,fe=d.contextType;typeof fe=="object"&&fe!==null?fe=kn(fe):(fe=Yr(d)?no:vr.current,fe=ea(r,fe));var xe=d.getDerivedStateFromProps,Te=typeof xe=="function"||typeof U.getSnapshotBeforeUpdate=="function";Te||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==m||re!==fe)&&Wv(r,U,m,fe),wi=!1;var Se=r.memoizedState;U.state=Se,eu(r,m,U,b),re=r.memoizedState,Q!==m||Se!==re||Xr.current||wi?(typeof xe=="function"&&(Lf(r,d,xe,m),re=r.memoizedState),(Q=wi||Bv(r,d,Q,m,Se,re,fe))?(Te||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(r.flags|=4194308)):(typeof U.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=re),U.props=m,U.state=re,U.context=fe,m=Q):(typeof U.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{U=r.stateNode,vv(e,r),Q=r.memoizedProps,fe=r.type===r.elementType?Q:Xn(r.type,Q),U.props=fe,Te=r.pendingProps,Se=U.context,re=d.contextType,typeof re=="object"&&re!==null?re=kn(re):(re=Yr(d)?no:vr.current,re=ea(r,re));var Ne=d.getDerivedStateFromProps;(xe=typeof Ne=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==Te||Se!==re)&&Wv(r,U,m,re),wi=!1,Se=r.memoizedState,U.state=Se,eu(r,m,U,b);var Ue=r.memoizedState;Q!==Te||Se!==Ue||Xr.current||wi?(typeof Ne=="function"&&(Lf(r,d,Ne,m),Ue=r.memoizedState),(fe=wi||Bv(r,d,fe,m,Se,Ue,re)||!1)?(xe||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(m,Ue,re),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(m,Ue,re)),typeof U.componentDidUpdate=="function"&&(r.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===e.memoizedProps&&Se===e.memoizedState||(r.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===e.memoizedProps&&Se===e.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=Ue),U.props=m,U.state=Ue,U.context=re,m=fe):(typeof U.componentDidUpdate!="function"||Q===e.memoizedProps&&Se===e.memoizedState||(r.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===e.memoizedProps&&Se===e.memoizedState||(r.flags|=1024),m=!1)}return qf(e,r,d,m,A,b)}function qf(e,r,d,m,b,A){tE(e,r);var U=(r.flags&128)!==0;if(!m&&!U)return b&&av(r,d,!1),Ws(e,r,A);m=r.stateNode,R_.current=r;var Q=U&&typeof d.getDerivedStateFromError!="function"?null:m.render();return r.flags|=1,e!==null&&U?(r.child=sa(r,e.child,null,A),r.child=sa(r,null,Q,A)):Ir(e,r,Q,A),r.memoizedState=m.state,b&&av(r,d,!0),r.child}function nE(e){var r=e.stateNode;r.pendingContext?iv(e,r.pendingContext,r.pendingContext!==r.context):r.context&&iv(e,r.context,!1),xf(e,r.containerInfo)}function sE(e,r,d,m,b){return na(),gf(b),r.flags|=256,Ir(e,r,d,m),r.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Hf(e){return{baseLanes:e,cachePool:null,transitions:null}}function iE(e,r,d){var m=r.pendingProps,b=Ot.current,A=!1,U=(r.flags&128)!==0,Q;if((Q=U)||(Q=e!==null&&e.memoizedState===null?!1:(b&2)!==0),Q?(A=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(b|=1),Ct(Ot,b&1),e===null)return mf(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(U=m.children,e=m.fallback,A?(m=r.mode,A=r.child,U={mode:"hidden",children:U},(m&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=U):A=Su(U,m,0,null),e=po(e,m,d,null),A.return=r,e.return=r,A.sibling=e,r.child=A,r.child.memoizedState=Hf(d),r.memoizedState=Ff,e):Bf(r,U));if(b=e.memoizedState,b!==null&&(Q=b.dehydrated,Q!==null))return k_(e,r,U,m,Q,b,d);if(A){A=m.fallback,U=r.mode,b=e.child,Q=b.sibling;var re={mode:"hidden",children:m.children};return(U&1)===0&&r.child!==b?(m=r.child,m.childLanes=0,m.pendingProps=re,r.deletions=null):(m=Ri(b,re),m.subtreeFlags=b.subtreeFlags&14680064),Q!==null?A=Ri(Q,A):(A=po(A,U,d,null),A.flags|=2),A.return=r,m.return=r,m.sibling=A,r.child=m,m=A,A=r.child,U=e.child.memoizedState,U=U===null?Hf(d):{baseLanes:U.baseLanes|d,cachePool:null,transitions:U.transitions},A.memoizedState=U,A.childLanes=e.childLanes&~d,r.memoizedState=Ff,m}return A=e.child,e=A.sibling,m=Ri(A,{mode:"visible",children:m.children}),(r.mode&1)===0&&(m.lanes=d),m.return=r,m.sibling=null,e!==null&&(d=r.deletions,d===null?(r.deletions=[e],r.flags|=16):d.push(e)),r.child=m,r.memoizedState=null,m}function Bf(e,r){return r=Su({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function lu(e,r,d,m){return m!==null&&gf(m),sa(r,e.child,null,d),e=Bf(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function k_(e,r,d,m,b,A,U){if(d)return r.flags&256?(r.flags&=-257,m=Uf(Error(n(422))),lu(e,r,U,m)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(A=m.fallback,b=r.mode,m=Su({mode:"visible",children:m.children},b,0,null),A=po(A,b,U,null),A.flags|=2,m.return=r,A.return=r,m.sibling=A,r.child=m,(r.mode&1)!==0&&sa(r,e.child,null,U),r.child.memoizedState=Hf(U),r.memoizedState=Ff,A);if((r.mode&1)===0)return lu(e,r,U,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var Q=m.dgst;return m=Q,A=Error(n(419)),m=Uf(A,m,void 0),lu(e,r,U,m)}if(Q=(U&e.childLanes)!==0,Qr||Q){if(m=sr,m!==null){switch(U&-U){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|U))!==0?0:b,b!==0&&b!==A.retryLane&&(A.retryLane=b,Bs(e,b),Zn(m,e,b,-1))}return ih(),m=Uf(Error(n(421))),lu(e,r,U,m)}return b.data==="$?"?(r.flags|=128,r.child=e.child,r=F_.bind(null,e),b._reactRetry=r,null):(e=A.treeContext,pn=gi(b.nextSibling),hn=r,Pt=!0,Jn=null,e!==null&&(_n[Rn++]=Fs,_n[Rn++]=Hs,_n[Rn++]=so,Fs=e.id,Hs=e.overflow,so=r),r=Bf(r,m.children),r.flags|=4096,r)}function oE(e,r,d){e.lanes|=r;var m=e.alternate;m!==null&&(m.lanes|=r),wf(e.return,r,d)}function zf(e,r,d,m,b){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=d,A.tailMode=b)}function aE(e,r,d){var m=r.pendingProps,b=m.revealOrder,A=m.tail;if(Ir(e,r,m.children,d),m=Ot.current,(m&2)!==0)m=m&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oE(e,d,r);else if(e.tag===19)oE(e,d,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}m&=1}if(Ct(Ot,m),(r.mode&1)===0)r.memoizedState=null;else switch(b){case"forwards":for(d=r.child,b=null;d!==null;)e=d.alternate,e!==null&&tu(e)===null&&(b=d),d=d.sibling;d=b,d===null?(b=r.child,r.child=null):(b=d.sibling,d.sibling=null),zf(r,!1,b,d,A);break;case"backwards":for(d=null,b=r.child,r.child=null;b!==null;){if(e=b.alternate,e!==null&&tu(e)===null){r.child=b;break}e=b.sibling,b.sibling=d,d=b,b=e}zf(r,!0,d,null,A);break;case"together":zf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cu(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Ws(e,r,d){if(e!==null&&(r.dependencies=e.dependencies),co|=r.lanes,(d&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,d=Ri(e,e.pendingProps),r.child=d,d.return=r;e.sibling!==null;)e=e.sibling,d=d.sibling=Ri(e,e.pendingProps),d.return=r;d.sibling=null}return r.child}function A_(e,r,d){switch(r.tag){case 3:nE(r),na();break;case 5:Sv(r);break;case 1:Yr(r.type)&&Wc(r);break;case 4:xf(r,r.stateNode.containerInfo);break;case 10:var m=r.type._context,b=r.memoizedProps.value;Ct(Yc,m._currentValue),m._currentValue=b;break;case 13:if(m=r.memoizedState,m!==null)return m.dehydrated!==null?(Ct(Ot,Ot.current&1),r.flags|=128,null):(d&r.child.childLanes)!==0?iE(e,r,d):(Ct(Ot,Ot.current&1),e=Ws(e,r,d),e!==null?e.sibling:null);Ct(Ot,Ot.current&1);break;case 19:if(m=(d&r.childLanes)!==0,(e.flags&128)!==0){if(m)return aE(e,r,d);r.flags|=128}if(b=r.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ct(Ot,Ot.current),m)break;return null;case 22:case 23:return r.lanes=0,eE(e,r,d)}return Ws(e,r,d)}var lE,Wf,cE,uE;lE=function(e,r){for(var d=r.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break;for(;d.sibling===null;){if(d.return===null||d.return===r)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Wf=function(){},cE=function(e,r,d,m){var b=e.memoizedProps;if(b!==m){e=r.stateNode,ao(ms.current);var A=null;switch(d){case"input":b=be(e,b),m=be(e,m),A=[];break;case"select":b=te({},b,{value:void 0}),m=te({},m,{value:void 0}),A=[];break;case"textarea":b=Mt(e,b),m=Mt(e,m),A=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(e.onclick=Hc)}yn(d,m);var U;d=null;for(fe in b)if(!m.hasOwnProperty(fe)&&b.hasOwnProperty(fe)&&b[fe]!=null)if(fe==="style"){var Q=b[fe];for(U in Q)Q.hasOwnProperty(U)&&(d||(d={}),d[U]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(a.hasOwnProperty(fe)?A||(A=[]):(A=A||[]).push(fe,null));for(fe in m){var re=m[fe];if(Q=b?.[fe],m.hasOwnProperty(fe)&&re!==Q&&(re!=null||Q!=null))if(fe==="style")if(Q){for(U in Q)!Q.hasOwnProperty(U)||re&&re.hasOwnProperty(U)||(d||(d={}),d[U]="");for(U in re)re.hasOwnProperty(U)&&Q[U]!==re[U]&&(d||(d={}),d[U]=re[U])}else d||(A||(A=[]),A.push(fe,d)),d=re;else fe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Q=Q?Q.__html:void 0,re!=null&&Q!==re&&(A=A||[]).push(fe,re)):fe==="children"?typeof re!="string"&&typeof re!="number"||(A=A||[]).push(fe,""+re):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(a.hasOwnProperty(fe)?(re!=null&&fe==="onScroll"&&kt("scroll",e),A||Q===re||(A=[])):(A=A||[]).push(fe,re))}d&&(A=A||[]).push("style",d);var fe=A;(r.updateQueue=fe)&&(r.flags|=4)}},uE=function(e,r,d,m){d!==m&&(r.flags|=4)};function ul(e,r){if(!Pt)switch(e.tailMode){case"hidden":r=e.tail;for(var d=null;r!==null;)r.alternate!==null&&(d=r),r=r.sibling;d===null?e.tail=null:d.sibling=null;break;case"collapsed":d=e.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:m.sibling=null}}function wr(e){var r=e.alternate!==null&&e.alternate.child===e.child,d=0,m=0;if(r)for(var b=e.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=e,b=b.sibling;else for(b=e.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=e,b=b.sibling;return e.subtreeFlags|=m,e.childLanes=d,r}function I_(e,r,d){var m=r.pendingProps;switch(hf(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(r),null;case 1:return Yr(r.type)&&zc(),wr(r),null;case 3:return m=r.stateNode,aa(),At(Xr),At(vr),_f(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(e===null||e.child===null)&&(Jc(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jn!==null&&(rh(Jn),Jn=null))),Wf(e,r),wr(r),null;case 5:Cf(r);var b=ao(il.current);if(d=r.type,e!==null&&r.stateNode!=null)cE(e,r,d,m,b),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!m){if(r.stateNode===null)throw Error(n(166));return wr(r),null}if(e=ao(ms.current),Jc(r)){m=r.stateNode,d=r.type;var A=r.memoizedProps;switch(m[ps]=r,m[el]=A,e=(r.mode&1)!==0,d){case"dialog":kt("cancel",m),kt("close",m);break;case"iframe":case"object":case"embed":kt("load",m);break;case"video":case"audio":for(b=0;b<Ya.length;b++)kt(Ya[b],m);break;case"source":kt("error",m);break;case"img":case"image":case"link":kt("error",m),kt("load",m);break;case"details":kt("toggle",m);break;case"input":rt(m,A),kt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!A.multiple},kt("invalid",m);break;case"textarea":Cr(m,A),kt("invalid",m)}yn(d,A),b=null;for(var U in A)if(A.hasOwnProperty(U)){var Q=A[U];U==="children"?typeof Q=="string"?m.textContent!==Q&&(A.suppressHydrationWarning!==!0&&Fc(m.textContent,Q,e),b=["children",Q]):typeof Q=="number"&&m.textContent!==""+Q&&(A.suppressHydrationWarning!==!0&&Fc(m.textContent,Q,e),b=["children",""+Q]):a.hasOwnProperty(U)&&Q!=null&&U==="onScroll"&&kt("scroll",m)}switch(d){case"input":$t(m),Ts(m,A,!0);break;case"textarea":$t(m),$o(m);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(m.onclick=Hc)}m=b,r.updateQueue=m,m!==null&&(r.flags|=4)}else{U=b.nodeType===9?b:b.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z(d)),e==="http://www.w3.org/1999/xhtml"?d==="script"?(e=U.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof m.is=="string"?e=U.createElement(d,{is:m.is}):(e=U.createElement(d),d==="select"&&(U=e,m.multiple?U.multiple=!0:m.size&&(U.size=m.size))):e=U.createElementNS(e,d),e[ps]=r,e[el]=m,lE(e,r,!1,!1),r.stateNode=e;e:{switch(U=an(d,m),d){case"dialog":kt("cancel",e),kt("close",e),b=m;break;case"iframe":case"object":case"embed":kt("load",e),b=m;break;case"video":case"audio":for(b=0;b<Ya.length;b++)kt(Ya[b],e);b=m;break;case"source":kt("error",e),b=m;break;case"img":case"image":case"link":kt("error",e),kt("load",e),b=m;break;case"details":kt("toggle",e),b=m;break;case"input":rt(e,m),b=be(e,m),kt("invalid",e);break;case"option":b=m;break;case"select":e._wrapperState={wasMultiple:!!m.multiple},b=te({},m,{value:void 0}),kt("invalid",e);break;case"textarea":Cr(e,m),b=Mt(e,m),kt("invalid",e);break;default:b=m}yn(d,b),Q=b;for(A in Q)if(Q.hasOwnProperty(A)){var re=Q[A];A==="style"?ai(e,re):A==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&as(e,re)):A==="children"?typeof re=="string"?(d!=="textarea"||re!=="")&&Kt(e,re):typeof re=="number"&&Kt(e,""+re):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(a.hasOwnProperty(A)?re!=null&&A==="onScroll"&&kt("scroll",e):re!=null&&v(e,A,re,U))}switch(d){case"input":$t(e),Ts(e,m,!1);break;case"textarea":$t(e),$o(e);break;case"option":m.value!=null&&e.setAttribute("value",""+Le(m.value));break;case"select":e.multiple=!!m.multiple,A=m.value,A!=null?gn(e,!!m.multiple,A,!1):m.defaultValue!=null&&gn(e,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(e.onclick=Hc)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return wr(r),null;case 6:if(e&&r.stateNode!=null)uE(e,r,e.memoizedProps,m);else{if(typeof m!="string"&&r.stateNode===null)throw Error(n(166));if(d=ao(il.current),ao(ms.current),Jc(r)){if(m=r.stateNode,d=r.memoizedProps,m[ps]=r,(A=m.nodeValue!==d)&&(e=hn,e!==null))switch(e.tag){case 3:Fc(m.nodeValue,d,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(m.nodeValue,d,(e.mode&1)!==0)}A&&(r.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ps]=r,r.stateNode=m}return wr(r),null;case 13:if(At(Ot),m=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&pn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)hv(),na(),r.flags|=98560,A=!1;else if(A=Jc(r),m!==null&&m.dehydrated!==null){if(e===null){if(!A)throw Error(n(318));if(A=r.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ps]=r}else na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wr(r),A=!1}else Jn!==null&&(rh(Jn),Jn=null),A=!0;if(!A)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=d,r):(m=m!==null,m!==(e!==null&&e.memoizedState!==null)&&m&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Ot.current&1)!==0?er===0&&(er=3):ih())),r.updateQueue!==null&&(r.flags|=4),wr(r),null);case 4:return aa(),Wf(e,r),e===null&&Qa(r.stateNode.containerInfo),wr(r),null;case 10:return Ef(r.type._context),wr(r),null;case 17:return Yr(r.type)&&zc(),wr(r),null;case 19:if(At(Ot),A=r.memoizedState,A===null)return wr(r),null;if(m=(r.flags&128)!==0,U=A.rendering,U===null)if(m)ul(A,!1);else{if(er!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(U=tu(e),U!==null){for(r.flags|=128,ul(A,!1),m=U.updateQueue,m!==null&&(r.updateQueue=m,r.flags|=4),r.subtreeFlags=0,m=d,d=r.child;d!==null;)A=d,e=m,A.flags&=14680066,U=A.alternate,U===null?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=U.childLanes,A.lanes=U.lanes,A.child=U.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=U.memoizedProps,A.memoizedState=U.memoizedState,A.updateQueue=U.updateQueue,A.type=U.type,e=U.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),d=d.sibling;return Ct(Ot,Ot.current&1|2),r.child}e=e.sibling}A.tail!==null&&_t()>da&&(r.flags|=128,m=!0,ul(A,!1),r.lanes=4194304)}else{if(!m)if(e=tu(U),e!==null){if(r.flags|=128,m=!0,d=e.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),ul(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!Pt)return wr(r),null}else 2*_t()-A.renderingStartTime>da&&d!==1073741824&&(r.flags|=128,m=!0,ul(A,!1),r.lanes=4194304);A.isBackwards?(U.sibling=r.child,r.child=U):(d=A.last,d!==null?d.sibling=U:r.child=U,A.last=U)}return A.tail!==null?(r=A.tail,A.rendering=r,A.tail=r.sibling,A.renderingStartTime=_t(),r.sibling=null,d=Ot.current,Ct(Ot,m?d&1|2:d&1),r):(wr(r),null);case 22:case 23:return sh(),m=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==m&&(r.flags|=8192),m&&(r.mode&1)!==0?(mn&1073741824)!==0&&(wr(r),r.subtreeFlags&6&&(r.flags|=8192)):wr(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function P_(e,r){switch(hf(r),r.tag){case 1:return Yr(r.type)&&zc(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return aa(),At(Xr),At(vr),_f(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Cf(r),null;case 13:if(At(Ot),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));na()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return At(Ot),null;case 4:return aa(),null;case 10:return Ef(r.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var uu=!1,Sr=!1,N_=typeof WeakSet=="function"?WeakSet:Set,je=null;function ca(e,r){var d=e.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Ut(e,r,m)}else d.current=null}function Kf(e,r,d){try{d()}catch(m){Ut(e,r,m)}}var dE=!1;function O_(e,r){if(nf=Jr,e=By(),Jd(e)){if("selectionStart"in e)var d={start:e.selectionStart,end:e.selectionEnd};else e:{d=(d=e.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var U=0,Q=-1,re=-1,fe=0,xe=0,Te=e,Se=null;t:for(;;){for(var Ne;Te!==d||b!==0&&Te.nodeType!==3||(Q=U+b),Te!==A||m!==0&&Te.nodeType!==3||(re=U+m),Te.nodeType===3&&(U+=Te.nodeValue.length),(Ne=Te.firstChild)!==null;)Se=Te,Te=Ne;for(;;){if(Te===e)break t;if(Se===d&&++fe===b&&(Q=U),Se===A&&++xe===m&&(re=U),(Ne=Te.nextSibling)!==null)break;Te=Se,Se=Te.parentNode}Te=Ne}d=Q===-1||re===-1?null:{start:Q,end:re}}else d=null}d=d||{start:0,end:0}}else d=null;for(sf={focusedElem:e,selectionRange:d},Jr=!1,je=r;je!==null;)if(r=je,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,je=e;else for(;je!==null;){r=je;try{var Ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var qe=Ue.memoizedProps,Ft=Ue.memoizedState,le=r.stateNode,se=le.getSnapshotBeforeUpdate(r.elementType===r.type?qe:Xn(r.type,qe),Ft);le.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var de=r.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){Ut(r,r.return,_e)}if(e=r.sibling,e!==null){e.return=r.return,je=e;break}je=r.return}return Ue=dE,dE=!1,Ue}function dl(e,r,d){var m=r.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&e)===e){var A=b.destroy;b.destroy=void 0,A!==void 0&&Kf(r,d,A)}b=b.next}while(b!==m)}}function du(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var d=r=r.next;do{if((d.tag&e)===e){var m=d.create;d.destroy=m()}d=d.next}while(d!==r)}}function Vf(e){var r=e.ref;if(r!==null){var d=e.stateNode;switch(e.tag){case 5:e=d;break;default:e=d}typeof r=="function"?r(e):r.current=e}}function fE(e){var r=e.alternate;r!==null&&(e.alternate=null,fE(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[ps],delete r[el],delete r[cf],delete r[m_],delete r[g_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hE(e){return e.tag===5||e.tag===3||e.tag===4}function pE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,r,d){var m=e.tag;if(m===5||m===6)e=e.stateNode,r?d.nodeType===8?d.parentNode.insertBefore(e,r):d.insertBefore(e,r):(d.nodeType===8?(r=d.parentNode,r.insertBefore(e,d)):(r=d,r.appendChild(e)),d=d._reactRootContainer,d!=null||r.onclick!==null||(r.onclick=Hc));else if(m!==4&&(e=e.child,e!==null))for(Gf(e,r,d),e=e.sibling;e!==null;)Gf(e,r,d),e=e.sibling}function Jf(e,r,d){var m=e.tag;if(m===5||m===6)e=e.stateNode,r?d.insertBefore(e,r):d.appendChild(e);else if(m!==4&&(e=e.child,e!==null))for(Jf(e,r,d),e=e.sibling;e!==null;)Jf(e,r,d),e=e.sibling}var hr=null,Yn=!1;function bi(e,r,d){for(d=d.child;d!==null;)mE(e,r,d),d=d.sibling}function mE(e,r,d){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(us,d)}catch{}switch(d.tag){case 5:Sr||ca(d,r);case 6:var m=hr,b=Yn;hr=null,bi(e,r,d),hr=m,Yn=b,hr!==null&&(Yn?(e=hr,d=d.stateNode,e.nodeType===8?e.parentNode.removeChild(d):e.removeChild(d)):hr.removeChild(d.stateNode));break;case 18:hr!==null&&(Yn?(e=hr,d=d.stateNode,e.nodeType===8?lf(e.parentNode,d):e.nodeType===1&&lf(e,d),kr(e)):lf(hr,d.stateNode));break;case 4:m=hr,b=Yn,hr=d.stateNode.containerInfo,Yn=!0,bi(e,r,d),hr=m,Yn=b;break;case 0:case 11:case 14:case 15:if(!Sr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var A=b,U=A.destroy;A=A.tag,U!==void 0&&((A&2)!==0||(A&4)!==0)&&Kf(d,r,U),b=b.next}while(b!==m)}bi(e,r,d);break;case 1:if(!Sr&&(ca(d,r),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(Q){Ut(d,r,Q)}bi(e,r,d);break;case 21:bi(e,r,d);break;case 22:d.mode&1?(Sr=(m=Sr)||d.memoizedState!==null,bi(e,r,d),Sr=m):bi(e,r,d);break;default:bi(e,r,d)}}function gE(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var d=e.stateNode;d===null&&(d=e.stateNode=new N_),r.forEach(function(m){var b=H_.bind(null,e,m);d.has(m)||(d.add(m),m.then(b,b))})}}function Qn(e,r){var d=r.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];try{var A=e,U=r,Q=U;e:for(;Q!==null;){switch(Q.tag){case 5:hr=Q.stateNode,Yn=!1;break e;case 3:hr=Q.stateNode.containerInfo,Yn=!0;break e;case 4:hr=Q.stateNode.containerInfo,Yn=!0;break e}Q=Q.return}if(hr===null)throw Error(n(160));mE(A,U,b),hr=null,Yn=!1;var re=b.alternate;re!==null&&(re.return=null),b.return=null}catch(fe){Ut(b,r,fe)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)yE(r,e),r=r.sibling}function yE(e,r){var d=e.alternate,m=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(r,e),ys(e),m&4){try{dl(3,e,e.return),du(3,e)}catch(qe){Ut(e,e.return,qe)}try{dl(5,e,e.return)}catch(qe){Ut(e,e.return,qe)}}break;case 1:Qn(r,e),ys(e),m&512&&d!==null&&ca(d,d.return);break;case 5:if(Qn(r,e),ys(e),m&512&&d!==null&&ca(d,d.return),e.flags&32){var b=e.stateNode;try{Kt(b,"")}catch(qe){Ut(e,e.return,qe)}}if(m&4&&(b=e.stateNode,b!=null)){var A=e.memoizedProps,U=d!==null?d.memoizedProps:A,Q=e.type,re=e.updateQueue;if(e.updateQueue=null,re!==null)try{Q==="input"&&A.type==="radio"&&A.name!=null&&ct(b,A),an(Q,U);var fe=an(Q,A);for(U=0;U<re.length;U+=2){var xe=re[U],Te=re[U+1];xe==="style"?ai(b,Te):xe==="dangerouslySetInnerHTML"?as(b,Te):xe==="children"?Kt(b,Te):v(b,xe,Te,fe)}switch(Q){case"input":dt(b,A);break;case"textarea":ii(b,A);break;case"select":var Se=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!A.multiple;var Ne=A.value;Ne!=null?gn(b,!!A.multiple,Ne,!1):Se!==!!A.multiple&&(A.defaultValue!=null?gn(b,!!A.multiple,A.defaultValue,!0):gn(b,!!A.multiple,A.multiple?[]:"",!1))}b[el]=A}catch(qe){Ut(e,e.return,qe)}}break;case 6:if(Qn(r,e),ys(e),m&4){if(e.stateNode===null)throw Error(n(162));b=e.stateNode,A=e.memoizedProps;try{b.nodeValue=A}catch(qe){Ut(e,e.return,qe)}}break;case 3:if(Qn(r,e),ys(e),m&4&&d!==null&&d.memoizedState.isDehydrated)try{kr(r.containerInfo)}catch(qe){Ut(e,e.return,qe)}break;case 4:Qn(r,e),ys(e);break;case 13:Qn(r,e),ys(e),b=e.child,b.flags&8192&&(A=b.memoizedState!==null,b.stateNode.isHidden=A,!A||b.alternate!==null&&b.alternate.memoizedState!==null||(Qf=_t())),m&4&&gE(e);break;case 22:if(xe=d!==null&&d.memoizedState!==null,e.mode&1?(Sr=(fe=Sr)||xe,Qn(r,e),Sr=fe):Qn(r,e),ys(e),m&8192){if(fe=e.memoizedState!==null,(e.stateNode.isHidden=fe)&&!xe&&(e.mode&1)!==0)for(je=e,xe=e.child;xe!==null;){for(Te=je=xe;je!==null;){switch(Se=je,Ne=Se.child,Se.tag){case 0:case 11:case 14:case 15:dl(4,Se,Se.return);break;case 1:ca(Se,Se.return);var Ue=Se.stateNode;if(typeof Ue.componentWillUnmount=="function"){m=Se,d=Se.return;try{r=m,Ue.props=r.memoizedProps,Ue.state=r.memoizedState,Ue.componentWillUnmount()}catch(qe){Ut(m,d,qe)}}break;case 5:ca(Se,Se.return);break;case 22:if(Se.memoizedState!==null){wE(Te);continue}}Ne!==null?(Ne.return=Se,je=Ne):wE(Te)}xe=xe.sibling}e:for(xe=null,Te=e;;){if(Te.tag===5){if(xe===null){xe=Te;try{b=Te.stateNode,fe?(A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(Q=Te.stateNode,re=Te.memoizedProps.style,U=re!=null&&re.hasOwnProperty("display")?re.display:null,Q.style.display=oi("display",U))}catch(qe){Ut(e,e.return,qe)}}}else if(Te.tag===6){if(xe===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(qe){Ut(e,e.return,qe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===e)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===e)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===e)break e;xe===Te&&(xe=null),Te=Te.return}xe===Te&&(xe=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Qn(r,e),ys(e),m&4&&gE(e);break;case 21:break;default:Qn(r,e),ys(e)}}function ys(e){var r=e.flags;if(r&2){try{e:{for(var d=e.return;d!==null;){if(hE(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(Kt(b,""),m.flags&=-33);var A=pE(e);Jf(e,A,b);break;case 3:case 4:var U=m.stateNode.containerInfo,Q=pE(e);Gf(e,Q,U);break;default:throw Error(n(161))}}catch(re){Ut(e,e.return,re)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function j_(e,r,d){je=e,vE(e)}function vE(e,r,d){for(var m=(e.mode&1)!==0;je!==null;){var b=je,A=b.child;if(b.tag===22&&m){var U=b.memoizedState!==null||uu;if(!U){var Q=b.alternate,re=Q!==null&&Q.memoizedState!==null||Sr;Q=uu;var fe=Sr;if(uu=U,(Sr=re)&&!fe)for(je=b;je!==null;)U=je,re=U.child,U.tag===22&&U.memoizedState!==null?SE(b):re!==null?(re.return=U,je=re):SE(b);for(;A!==null;)je=A,vE(A),A=A.sibling;je=b,uu=Q,Sr=fe}EE(e)}else(b.subtreeFlags&8772)!==0&&A!==null?(A.return=b,je=A):EE(e)}}function EE(e){for(;je!==null;){var r=je;if((r.flags&8772)!==0){var d=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Sr||du(5,r);break;case 1:var m=r.stateNode;if(r.flags&4&&!Sr)if(d===null)m.componentDidMount();else{var b=r.elementType===r.type?d.memoizedProps:Xn(r.type,d.memoizedProps);m.componentDidUpdate(b,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var A=r.updateQueue;A!==null&&wv(r,A,m);break;case 3:var U=r.updateQueue;if(U!==null){if(d=null,r.child!==null)switch(r.child.tag){case 5:d=r.child.stateNode;break;case 1:d=r.child.stateNode}wv(r,U,d)}break;case 5:var Q=r.stateNode;if(d===null&&r.flags&4){d=Q;var re=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&d.focus();break;case"img":re.src&&(d.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var fe=r.alternate;if(fe!==null){var xe=fe.memoizedState;if(xe!==null){var Te=xe.dehydrated;Te!==null&&kr(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sr||r.flags&512&&Vf(r)}catch(Se){Ut(r,r.return,Se)}}if(r===e){je=null;break}if(d=r.sibling,d!==null){d.return=r.return,je=d;break}je=r.return}}function wE(e){for(;je!==null;){var r=je;if(r===e){je=null;break}var d=r.sibling;if(d!==null){d.return=r.return,je=d;break}je=r.return}}function SE(e){for(;je!==null;){var r=je;try{switch(r.tag){case 0:case 11:case 15:var d=r.return;try{du(4,r)}catch(re){Ut(r,d,re)}break;case 1:var m=r.stateNode;if(typeof m.componentDidMount=="function"){var b=r.return;try{m.componentDidMount()}catch(re){Ut(r,b,re)}}var A=r.return;try{Vf(r)}catch(re){Ut(r,A,re)}break;case 5:var U=r.return;try{Vf(r)}catch(re){Ut(r,U,re)}}}catch(re){Ut(r,r.return,re)}if(r===e){je=null;break}var Q=r.sibling;if(Q!==null){Q.return=r.return,je=Q;break}je=r.return}}var L_=Math.ceil,fu=k.ReactCurrentDispatcher,Xf=k.ReactCurrentOwner,In=k.ReactCurrentBatchConfig,ht=0,sr=null,Gt=null,pr=0,mn=0,ua=yi(0),er=0,fl=null,co=0,hu=0,Yf=0,hl=null,Zr=null,Qf=0,da=1/0,Ks=null,pu=!1,Zf=null,xi=null,mu=!1,Ci=null,gu=0,pl=0,eh=null,yu=-1,vu=0;function Pr(){return(ht&6)!==0?_t():yu!==-1?yu:yu=_t()}function Ti(e){return(e.mode&1)===0?1:(ht&2)!==0&&pr!==0?pr&-pr:v_.transition!==null?(vu===0&&(vu=di()),vu):(e=ft,e!==0||(e=window.event,e=e===void 0?16:hs(e.type)),e)}function Zn(e,r,d,m){if(50<pl)throw pl=0,eh=null,Error(n(185));Is(e,d,m),((ht&2)===0||e!==sr)&&(e===sr&&((ht&2)===0&&(hu|=d),er===4&&_i(e,pr)),en(e,m),d===1&&ht===0&&(r.mode&1)===0&&(da=_t()+500,Kc&&Ei()))}function en(e,r){var d=e.callbackNode;Ki(e,r);var m=ui(e,e===sr?pr:0);if(m===0)d!==null&&Ho(d),e.callbackNode=null,e.callbackPriority=0;else if(r=m&-m,e.callbackPriority!==r){if(d!=null&&Ho(d),r===1)e.tag===0?y_(xE.bind(null,e)):lv(xE.bind(null,e)),h_(function(){(ht&6)===0&&Ei()}),d=null;else{switch(Bo(m)){case 1:d=bt;break;case 4:d=ls;break;case 16:d=cs;break;case 536870912:d=Wr;break;default:d=cs}d=PE(d,bE.bind(null,e))}e.callbackPriority=r,e.callbackNode=d}}function bE(e,r){if(yu=-1,vu=0,(ht&6)!==0)throw Error(n(327));var d=e.callbackNode;if(fa()&&e.callbackNode!==d)return null;var m=ui(e,e===sr?pr:0);if(m===0)return null;if((m&30)!==0||(m&e.expiredLanes)!==0||r)r=Eu(e,m);else{r=m;var b=ht;ht|=2;var A=TE();(sr!==e||pr!==r)&&(Ks=null,da=_t()+500,fo(e,r));do try{$_();break}catch(Q){CE(e,Q)}while(!0);vf(),fu.current=A,ht=b,Gt!==null?r=0:(sr=null,pr=0,r=er)}if(r!==0){if(r===2&&(b=Xt(e),b!==0&&(m=b,r=th(e,b))),r===1)throw d=fl,fo(e,0),_i(e,m),en(e,_t()),d;if(r===6)_i(e,m);else{if(b=e.current.alternate,(m&30)===0&&!D_(b)&&(r=Eu(e,m),r===2&&(A=Xt(e),A!==0&&(m=A,r=th(e,A))),r===1))throw d=fl,fo(e,0),_i(e,m),en(e,_t()),d;switch(e.finishedWork=b,e.finishedLanes=m,r){case 0:case 1:throw Error(n(345));case 2:ho(e,Zr,Ks);break;case 3:if(_i(e,m),(m&130023424)===m&&(r=Qf+500-_t(),10<r)){if(ui(e,0)!==0)break;if(b=e.suspendedLanes,(b&m)!==m){Pr(),e.pingedLanes|=e.suspendedLanes&b;break}e.timeoutHandle=af(ho.bind(null,e,Zr,Ks),r);break}ho(e,Zr,Ks);break;case 4:if(_i(e,m),(m&4194240)===m)break;for(r=e.eventTimes,b=-1;0<m;){var U=31-Rr(m);A=1<<U,U=r[U],U>b&&(b=U),m&=~A}if(m=b,m=_t()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*L_(m/1960))-m,10<m){e.timeoutHandle=af(ho.bind(null,e,Zr,Ks),m);break}ho(e,Zr,Ks);break;case 5:ho(e,Zr,Ks);break;default:throw Error(n(329))}}}return en(e,_t()),e.callbackNode===d?bE.bind(null,e):null}function th(e,r){var d=hl;return e.current.memoizedState.isDehydrated&&(fo(e,r).flags|=256),e=Eu(e,r),e!==2&&(r=Zr,Zr=d,r!==null&&rh(r)),e}function rh(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function D_(e){for(var r=e;;){if(r.flags&16384){var d=r.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var b=d[m],A=b.getSnapshot;b=b.value;try{if(!Gn(A(),b))return!1}catch{return!1}}}if(d=r.child,r.subtreeFlags&16384&&d!==null)d.return=r,r=d;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _i(e,r){for(r&=~Yf,r&=~hu,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var d=31-Rr(r),m=1<<d;e[d]=-1,r&=~m}}function xE(e){if((ht&6)!==0)throw Error(n(327));fa();var r=ui(e,0);if((r&1)===0)return en(e,_t()),null;var d=Eu(e,r);if(e.tag!==0&&d===2){var m=Xt(e);m!==0&&(r=m,d=th(e,m))}if(d===1)throw d=fl,fo(e,0),_i(e,r),en(e,_t()),d;if(d===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,ho(e,Zr,Ks),en(e,_t()),null}function nh(e,r){var d=ht;ht|=1;try{return e(r)}finally{ht=d,ht===0&&(da=_t()+500,Kc&&Ei())}}function uo(e){Ci!==null&&Ci.tag===0&&(ht&6)===0&&fa();var r=ht;ht|=1;var d=In.transition,m=ft;try{if(In.transition=null,ft=1,e)return e()}finally{ft=m,In.transition=d,ht=r,(ht&6)===0&&Ei()}}function sh(){mn=ua.current,At(ua)}function fo(e,r){e.finishedWork=null,e.finishedLanes=0;var d=e.timeoutHandle;if(d!==-1&&(e.timeoutHandle=-1,f_(d)),Gt!==null)for(d=Gt.return;d!==null;){var m=d;switch(hf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&zc();break;case 3:aa(),At(Xr),At(vr),_f();break;case 5:Cf(m);break;case 4:aa();break;case 13:At(Ot);break;case 19:At(Ot);break;case 10:Ef(m.type._context);break;case 22:case 23:sh()}d=d.return}if(sr=e,Gt=e=Ri(e.current,null),pr=mn=r,er=0,fl=null,Yf=hu=co=0,Zr=hl=null,oo!==null){for(r=0;r<oo.length;r++)if(d=oo[r],m=d.interleaved,m!==null){d.interleaved=null;var b=m.next,A=d.pending;if(A!==null){var U=A.next;A.next=b,m.next=U}d.pending=m}oo=null}return e}function CE(e,r){do{var d=Gt;try{if(vf(),ru.current=ou,nu){for(var m=jt.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}nu=!1}if(lo=0,nr=Zt=jt=null,ol=!1,al=0,Xf.current=null,d===null||d.return===null){er=1,fl=r,Gt=null;break}e:{var A=e,U=d.return,Q=d,re=r;if(r=pr,Q.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,xe=Q,Te=xe.tag;if((xe.mode&1)===0&&(Te===0||Te===11||Te===15)){var Se=xe.alternate;Se?(xe.updateQueue=Se.updateQueue,xe.memoizedState=Se.memoizedState,xe.lanes=Se.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Ne=Jv(U);if(Ne!==null){Ne.flags&=-257,Xv(Ne,U,Q,A,r),Ne.mode&1&&Gv(A,fe,r),r=Ne,re=fe;var Ue=r.updateQueue;if(Ue===null){var qe=new Set;qe.add(re),r.updateQueue=qe}else Ue.add(re);break e}else{if((r&1)===0){Gv(A,fe,r),ih();break e}re=Error(n(426))}}else if(Pt&&Q.mode&1){var Ft=Jv(U);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),Xv(Ft,U,Q,A,r),gf(la(re,Q));break e}}A=re=la(re,Q),er!==4&&(er=2),hl===null?hl=[A]:hl.push(A),A=U;do{switch(A.tag){case 3:A.flags|=65536,r&=-r,A.lanes|=r;var le=Kv(A,re,r);Ev(A,le);break e;case 1:Q=re;var se=A.type,de=A.stateNode;if((A.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(xi===null||!xi.has(de)))){A.flags|=65536,r&=-r,A.lanes|=r;var _e=Vv(A,Q,r);Ev(A,_e);break e}}A=A.return}while(A!==null)}RE(d)}catch(He){r=He,Gt===d&&d!==null&&(Gt=d=d.return);continue}break}while(!0)}function TE(){var e=fu.current;return fu.current=ou,e===null?ou:e}function ih(){(er===0||er===3||er===2)&&(er=4),sr===null||(co&268435455)===0&&(hu&268435455)===0||_i(sr,pr)}function Eu(e,r){var d=ht;ht|=2;var m=TE();(sr!==e||pr!==r)&&(Ks=null,fo(e,r));do try{U_();break}catch(b){CE(e,b)}while(!0);if(vf(),ht=d,fu.current=m,Gt!==null)throw Error(n(261));return sr=null,pr=0,er}function U_(){for(;Gt!==null;)_E(Gt)}function $_(){for(;Gt!==null&&!ks();)_E(Gt)}function _E(e){var r=IE(e.alternate,e,mn);e.memoizedProps=e.pendingProps,r===null?RE(e):Gt=r,Xf.current=null}function RE(e){var r=e;do{var d=r.alternate;if(e=r.return,(r.flags&32768)===0){if(d=I_(d,r,mn),d!==null){Gt=d;return}}else{if(d=P_(d,r),d!==null){d.flags&=32767,Gt=d;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{er=6,Gt=null;return}}if(r=r.sibling,r!==null){Gt=r;return}Gt=r=e}while(r!==null);er===0&&(er=5)}function ho(e,r,d){var m=ft,b=In.transition;try{In.transition=null,ft=1,M_(e,r,d,m)}finally{In.transition=b,ft=m}return null}function M_(e,r,d,m){do fa();while(Ci!==null);if((ht&6)!==0)throw Error(n(327));d=e.finishedWork;var b=e.finishedLanes;if(d===null)return null;if(e.finishedWork=null,e.finishedLanes=0,d===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var A=d.lanes|d.childLanes;if(Kd(e,A),e===sr&&(Gt=sr=null,pr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||mu||(mu=!0,PE(cs,function(){return fa(),null})),A=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||A){A=In.transition,In.transition=null;var U=ft;ft=1;var Q=ht;ht|=4,Xf.current=null,O_(e,d),yE(d,e),i_(sf),Jr=!!nf,sf=nf=null,e.current=d,j_(d),Fa(),ht=Q,ft=U,In.transition=A}else e.current=d;if(mu&&(mu=!1,Ci=e,gu=b),A=e.pendingLanes,A===0&&(xi=null),Ba(d.stateNode),en(e,_t()),r!==null)for(m=e.onRecoverableError,d=0;d<r.length;d++)b=r[d],m(b.value,{componentStack:b.stack,digest:b.digest});if(pu)throw pu=!1,e=Zf,Zf=null,e;return(gu&1)!==0&&e.tag!==0&&fa(),A=e.pendingLanes,(A&1)!==0?e===eh?pl++:(pl=0,eh=e):pl=0,Ei(),null}function fa(){if(Ci!==null){var e=Bo(gu),r=In.transition,d=ft;try{if(In.transition=null,ft=16>e?16:e,Ci===null)var m=!1;else{if(e=Ci,Ci=null,gu=0,(ht&6)!==0)throw Error(n(331));var b=ht;for(ht|=4,je=e.current;je!==null;){var A=je,U=A.child;if((je.flags&16)!==0){var Q=A.deletions;if(Q!==null){for(var re=0;re<Q.length;re++){var fe=Q[re];for(je=fe;je!==null;){var xe=je;switch(xe.tag){case 0:case 11:case 15:dl(8,xe,A)}var Te=xe.child;if(Te!==null)Te.return=xe,je=Te;else for(;je!==null;){xe=je;var Se=xe.sibling,Ne=xe.return;if(fE(xe),xe===fe){je=null;break}if(Se!==null){Se.return=Ne,je=Se;break}je=Ne}}}var Ue=A.alternate;if(Ue!==null){var qe=Ue.child;if(qe!==null){Ue.child=null;do{var Ft=qe.sibling;qe.sibling=null,qe=Ft}while(qe!==null)}}je=A}}if((A.subtreeFlags&2064)!==0&&U!==null)U.return=A,je=U;else e:for(;je!==null;){if(A=je,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:dl(9,A,A.return)}var le=A.sibling;if(le!==null){le.return=A.return,je=le;break e}je=A.return}}var se=e.current;for(je=se;je!==null;){U=je;var de=U.child;if((U.subtreeFlags&2064)!==0&&de!==null)de.return=U,je=de;else e:for(U=se;je!==null;){if(Q=je,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:du(9,Q)}}catch(He){Ut(Q,Q.return,He)}if(Q===U){je=null;break e}var _e=Q.sibling;if(_e!==null){_e.return=Q.return,je=_e;break e}je=Q.return}}if(ht=b,Ei(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(us,e)}catch{}m=!0}return m}finally{ft=d,In.transition=r}}return!1}function kE(e,r,d){r=la(d,r),r=Kv(e,r,1),e=Si(e,r,1),r=Pr(),e!==null&&(Is(e,1,r),en(e,r))}function Ut(e,r,d){if(e.tag===3)kE(e,e,d);else for(;r!==null;){if(r.tag===3){kE(r,e,d);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){e=la(d,e),e=Vv(r,e,1),r=Si(r,e,1),e=Pr(),r!==null&&(Is(r,1,e),en(r,e));break}}r=r.return}}function q_(e,r,d){var m=e.pingCache;m!==null&&m.delete(r),r=Pr(),e.pingedLanes|=e.suspendedLanes&d,sr===e&&(pr&d)===d&&(er===4||er===3&&(pr&130023424)===pr&&500>_t()-Qf?fo(e,0):Yf|=d),en(e,r)}function AE(e,r){r===0&&((e.mode&1)===0?r=1:(r=ci,ci<<=1,(ci&130023424)===0&&(ci=4194304)));var d=Pr();e=Bs(e,r),e!==null&&(Is(e,r,d),en(e,d))}function F_(e){var r=e.memoizedState,d=0;r!==null&&(d=r.retryLane),AE(e,d)}function H_(e,r){var d=0;switch(e.tag){case 13:var m=e.stateNode,b=e.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=e.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(r),AE(e,d)}var IE;IE=function(e,r,d){if(e!==null)if(e.memoizedProps!==r.pendingProps||Xr.current)Qr=!0;else{if((e.lanes&d)===0&&(r.flags&128)===0)return Qr=!1,A_(e,r,d);Qr=(e.flags&131072)!==0}else Qr=!1,Pt&&(r.flags&1048576)!==0&&cv(r,Gc,r.index);switch(r.lanes=0,r.tag){case 2:var m=r.type;cu(e,r),e=r.pendingProps;var b=ea(r,vr.current);oa(r,d),b=Af(null,r,m,e,b,d);var A=If();return r.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Yr(m)?(A=!0,Wc(r)):A=!1,r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,bf(r),b.updater=au,r.stateNode=b,b._reactInternals=r,Df(r,m,e,d),r=qf(null,r,m,!0,A,d)):(r.tag=0,Pt&&A&&ff(r),Ir(null,r,b,d),r=r.child),r;case 16:m=r.elementType;e:{switch(cu(e,r),e=r.pendingProps,b=m._init,m=b(m._payload),r.type=m,b=r.tag=z_(m),e=Xn(m,e),b){case 0:r=Mf(null,r,m,e,d);break e;case 1:r=rE(null,r,m,e,d);break e;case 11:r=Yv(null,r,m,e,d);break e;case 14:r=Qv(null,r,m,Xn(m.type,e),d);break e}throw Error(n(306,m,""))}return r;case 0:return m=r.type,b=r.pendingProps,b=r.elementType===m?b:Xn(m,b),Mf(e,r,m,b,d);case 1:return m=r.type,b=r.pendingProps,b=r.elementType===m?b:Xn(m,b),rE(e,r,m,b,d);case 3:e:{if(nE(r),e===null)throw Error(n(387));m=r.pendingProps,A=r.memoizedState,b=A.element,vv(e,r),eu(r,m,null,d);var U=r.memoizedState;if(m=U.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},r.updateQueue.baseState=A,r.memoizedState=A,r.flags&256){b=la(Error(n(423)),r),r=sE(e,r,m,d,b);break e}else if(m!==b){b=la(Error(n(424)),r),r=sE(e,r,m,d,b);break e}else for(pn=gi(r.stateNode.containerInfo.firstChild),hn=r,Pt=!0,Jn=null,d=gv(r,null,m,d),r.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(na(),m===b){r=Ws(e,r,d);break e}Ir(e,r,m,d)}r=r.child}return r;case 5:return Sv(r),e===null&&mf(r),m=r.type,b=r.pendingProps,A=e!==null?e.memoizedProps:null,U=b.children,of(m,b)?U=null:A!==null&&of(m,A)&&(r.flags|=32),tE(e,r),Ir(e,r,U,d),r.child;case 6:return e===null&&mf(r),null;case 13:return iE(e,r,d);case 4:return xf(r,r.stateNode.containerInfo),m=r.pendingProps,e===null?r.child=sa(r,null,m,d):Ir(e,r,m,d),r.child;case 11:return m=r.type,b=r.pendingProps,b=r.elementType===m?b:Xn(m,b),Yv(e,r,m,b,d);case 7:return Ir(e,r,r.pendingProps,d),r.child;case 8:return Ir(e,r,r.pendingProps.children,d),r.child;case 12:return Ir(e,r,r.pendingProps.children,d),r.child;case 10:e:{if(m=r.type._context,b=r.pendingProps,A=r.memoizedProps,U=b.value,Ct(Yc,m._currentValue),m._currentValue=U,A!==null)if(Gn(A.value,U)){if(A.children===b.children&&!Xr.current){r=Ws(e,r,d);break e}}else for(A=r.child,A!==null&&(A.return=r);A!==null;){var Q=A.dependencies;if(Q!==null){U=A.child;for(var re=Q.firstContext;re!==null;){if(re.context===m){if(A.tag===1){re=zs(-1,d&-d),re.tag=2;var fe=A.updateQueue;if(fe!==null){fe=fe.shared;var xe=fe.pending;xe===null?re.next=re:(re.next=xe.next,xe.next=re),fe.pending=re}}A.lanes|=d,re=A.alternate,re!==null&&(re.lanes|=d),wf(A.return,d,r),Q.lanes|=d;break}re=re.next}}else if(A.tag===10)U=A.type===r.type?null:A.child;else if(A.tag===18){if(U=A.return,U===null)throw Error(n(341));U.lanes|=d,Q=U.alternate,Q!==null&&(Q.lanes|=d),wf(U,d,r),U=A.sibling}else U=A.child;if(U!==null)U.return=A;else for(U=A;U!==null;){if(U===r){U=null;break}if(A=U.sibling,A!==null){A.return=U.return,U=A;break}U=U.return}A=U}Ir(e,r,b.children,d),r=r.child}return r;case 9:return b=r.type,m=r.pendingProps.children,oa(r,d),b=kn(b),m=m(b),r.flags|=1,Ir(e,r,m,d),r.child;case 14:return m=r.type,b=Xn(m,r.pendingProps),b=Xn(m.type,b),Qv(e,r,m,b,d);case 15:return Zv(e,r,r.type,r.pendingProps,d);case 17:return m=r.type,b=r.pendingProps,b=r.elementType===m?b:Xn(m,b),cu(e,r),r.tag=1,Yr(m)?(e=!0,Wc(r)):e=!1,oa(r,d),zv(r,m,b),Df(r,m,b,d),qf(null,r,m,!0,e,d);case 19:return aE(e,r,d);case 22:return eE(e,r,d)}throw Error(n(156,r.tag))};function PE(e,r){return Fo(e,r)}function B_(e,r,d,m){this.tag=e,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,r,d,m){return new B_(e,r,d,m)}function oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z_(e){if(typeof e=="function")return oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===M)return 14}return 2}function Ri(e,r){var d=e.alternate;return d===null?(d=Pn(e.tag,r,e.key,e.mode),d.elementType=e.elementType,d.type=e.type,d.stateNode=e.stateNode,d.alternate=e,e.alternate=d):(d.pendingProps=r,d.type=e.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=e.flags&14680064,d.childLanes=e.childLanes,d.lanes=e.lanes,d.child=e.child,d.memoizedProps=e.memoizedProps,d.memoizedState=e.memoizedState,d.updateQueue=e.updateQueue,r=e.dependencies,d.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},d.sibling=e.sibling,d.index=e.index,d.ref=e.ref,d}function wu(e,r,d,m,b,A){var U=2;if(m=e,typeof e=="function")oh(e)&&(U=1);else if(typeof e=="string")U=5;else e:switch(e){case D:return po(d.children,b,A,r);case I:U=8,b|=8;break;case H:return e=Pn(12,d,r,b|2),e.elementType=H,e.lanes=A,e;case X:return e=Pn(13,d,r,b),e.elementType=X,e.lanes=A,e;case V:return e=Pn(19,d,r,b),e.elementType=V,e.lanes=A,e;case B:return Su(d,b,A,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:U=10;break e;case ie:U=9;break e;case he:U=11;break e;case M:U=14;break e;case W:U=16,m=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=Pn(U,d,r,b),r.elementType=e,r.type=m,r.lanes=A,r}function po(e,r,d,m){return e=Pn(7,e,m,r),e.lanes=d,e}function Su(e,r,d,m){return e=Pn(22,e,m,r),e.elementType=B,e.lanes=d,e.stateNode={isHidden:!1},e}function ah(e,r,d){return e=Pn(6,e,null,r),e.lanes=d,e}function lh(e,r,d){return r=Pn(4,e.children!==null?e.children:[],e.key,r),r.lanes=d,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function W_(e,r,d,m,b){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ch(e,r,d,m,b,A,U,Q,re){return e=new W_(e,r,d,Q,re),r===1?(r=1,A===!0&&(r|=8)):r=0,A=Pn(3,null,null,r),e.current=A,A.stateNode=e,A.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(A),e}function K_(e,r,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:m==null?null:""+m,children:e,containerInfo:r,implementation:d}}function NE(e){if(!e)return vi;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Yr(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var d=e.type;if(Yr(d))return ov(e,d,r)}return r}function OE(e,r,d,m,b,A,U,Q,re){return e=ch(d,m,!0,e,b,A,U,Q,re),e.context=NE(null),d=e.current,m=Pr(),b=Ti(d),A=zs(m,b),A.callback=r??null,Si(d,A,b),e.current.lanes=b,Is(e,b,m),en(e,m),e}function bu(e,r,d,m){var b=r.current,A=Pr(),U=Ti(b);return d=NE(d),r.context===null?r.context=d:r.pendingContext=d,r=zs(A,U),r.payload={element:e},m=m===void 0?null:m,m!==null&&(r.callback=m),e=Si(b,r,U),e!==null&&(Zn(e,b,U,A),Zc(e,b,U)),U}function xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jE(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var d=e.retryLane;e.retryLane=d!==0&&d<r?d:r}}function uh(e,r){jE(e,r),(e=e.alternate)&&jE(e,r)}function V_(){return null}var LE=typeof reportError=="function"?reportError:function(e){console.error(e)};function dh(e){this._internalRoot=e}Cu.prototype.render=dh.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));bu(e,r,null,null)},Cu.prototype.unmount=dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;uo(function(){bu(null,e,null,null)}),r[Ms]=null}};function Cu(e){this._internalRoot=e}Cu.prototype.unstable_scheduleHydration=function(e){if(e){var r=Sn();e={blockedOn:null,target:e,priority:r};for(var d=0;d<Gr.length&&r!==0&&r<Gr[d].priority;d++);Gr.splice(d,0,e),d===0&&hi(e)}};function fh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function DE(){}function G_(e,r,d,m,b){if(b){if(typeof m=="function"){var A=m;m=function(){var fe=xu(U);A.call(fe)}}var U=OE(r,m,e,0,null,!1,!1,"",DE);return e._reactRootContainer=U,e[Ms]=U.current,Qa(e.nodeType===8?e.parentNode:e),uo(),U}for(;b=e.lastChild;)e.removeChild(b);if(typeof m=="function"){var Q=m;m=function(){var fe=xu(re);Q.call(fe)}}var re=ch(e,0,!1,null,null,!1,!1,"",DE);return e._reactRootContainer=re,e[Ms]=re.current,Qa(e.nodeType===8?e.parentNode:e),uo(function(){bu(r,re,d,m)}),re}function _u(e,r,d,m,b){var A=d._reactRootContainer;if(A){var U=A;if(typeof b=="function"){var Q=b;b=function(){var re=xu(U);Q.call(re)}}bu(r,U,e,b)}else U=G_(d,r,e,b,m);return xu(U)}zo=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var d=As(r.pendingLanes);d!==0&&(Vi(r,d|1),en(r,_t()),(ht&6)===0&&(da=_t()+500,Ei()))}break;case 13:uo(function(){var m=Bs(e,1);if(m!==null){var b=Pr();Zn(m,e,1,b)}}),uh(e,1)}},Ps=function(e){if(e.tag===13){var r=Bs(e,134217728);if(r!==null){var d=Pr();Zn(r,e,134217728,d)}uh(e,134217728)}},fi=function(e){if(e.tag===13){var r=Ti(e),d=Bs(e,r);if(d!==null){var m=Pr();Zn(d,e,r,m)}uh(e,r)}},Sn=function(){return ft},Wo=function(e,r){var d=ft;try{return ft=e,r()}finally{ft=d}},Mn=function(e,r,d){switch(r){case"input":if(dt(e,d),r=d.name,d.type==="radio"&&r!=null){for(d=e;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<d.length;r++){var m=d[r];if(m!==e&&m.form===e.form){var b=Bc(m);if(!b)throw Error(n(90));K(m),dt(m,b)}}}break;case"textarea":ii(e,d);break;case"select":r=d.value,r!=null&&gn(e,!!d.multiple,r,!1)}},Nt=nh,Vt=uo;var J_={usingClientEntryPoint:!1,Events:[tl,Qo,Bc,Ge,Tt,nh]},ml={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X_={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zr(e),e===null?null:e.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||V_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{us=Ru.inject(X_),Kr=Ru}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J_,tn.createPortal=function(e,r){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fh(r))throw Error(n(200));return K_(e,r,null,d)},tn.createRoot=function(e,r){if(!fh(e))throw Error(n(299));var d=!1,m="",b=LE;return r!=null&&(r.unstable_strictMode===!0&&(d=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=ch(e,1,!1,null,null,d,!1,m,b),e[Ms]=r.current,Qa(e.nodeType===8?e.parentNode:e),new dh(r)},tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=zr(r),e=e===null?null:e.stateNode,e},tn.flushSync=function(e){return uo(e)},tn.hydrate=function(e,r,d){if(!Tu(r))throw Error(n(200));return _u(null,e,r,!0,d)},tn.hydrateRoot=function(e,r,d){if(!fh(e))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,b=!1,A="",U=LE;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(U=d.onRecoverableError)),r=OE(r,null,e,1,d??null,b,!1,A,U),e[Ms]=r.current,Qa(e),m)for(e=0;e<m.length;e++)d=m[e],b=d._getVersion,b=b(d._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[d,b]:r.mutableSourceEagerHydrationData.push(d,b);return new Cu(r)},tn.render=function(e,r,d){if(!Tu(r))throw Error(n(200));return _u(null,e,r,!1,d)},tn.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(n(40));return e._reactRootContainer?(uo(function(){_u(null,null,e,!1,function(){e._reactRootContainer=null,e[Ms]=null})}),!0):!1},tn.unstable_batchedUpdates=nh,tn.unstable_renderSubtreeIntoContainer=function(e,r,d,m){if(!Tu(d))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return _u(e,r,d,!1,m)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var KE;function gC(){if(KE)return mh.exports;KE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),mh.exports=lR(),mh.exports}var VE;function cR(){if(VE)return ku;VE=1;var t=gC();return ku.createRoot=t.createRoot,ku.hydrateRoot=t.hydrateRoot,ku}var uR=cR(),ee=Ag();const Pg=Z_({__proto__:null,default:ee},[ee]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,i)=>i?i.toUpperCase():n.toLowerCase()),GE=t=>{const s=fR(t);return s.charAt(0).toUpperCase()+s.slice(1)},yC=(...t)=>t.filter((s,n,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=ee.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:o,...u},c)=>ee.createElement("svg",{ref:c,...hR,width:s,height:s,stroke:t,strokeWidth:i?Number(n)*24/Number(s):n,className:yC("lucide",a),...u},[...o.map(([h,f])=>ee.createElement(h,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(t,s)=>{const n=ee.forwardRef(({className:i,...a},l)=>ee.createElement(pR,{ref:l,iconNode:s,className:yC(`lucide-${dR(GE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=GE(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gR=rr("activity",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vR=rr("arrow-right",yR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],wR=rr("chart-no-axes-column-increasing",ER);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bR=rr("circle-alert",SR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vC=rr("circle-check",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],TR=rr("code",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],RR=rr("copy",_R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pg=rr("database",kR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],EC=rr("file-text",AR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],PR=rr("log-in",IR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],OR=rr("log-out",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],LR=rr("radio",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qu=rr("refresh-cw",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$R=rr("settings",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mg=rr("shield",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],gg=rr("trash-2",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],JE=rr("trending-up",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BR=rr("user",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],WR=rr("zap",zR);function XE(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Ng(...t){return s=>{let n=!1;const i=t.map(a=>{const l=XE(a,s);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():XE(t[a],null)}}}}function Zu(...t){return ee.useCallback(Ng(...t),t)}var KR=Symbol.for("react.lazy"),ed=Pg[" use ".trim().toString()];function VR(t){return typeof t=="object"&&t!==null&&"then"in t}function wC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===KR&&"_payload"in t&&VR(t._payload)}function SC(t){const s=JR(t),n=ee.forwardRef((i,a)=>{let{children:l,...o}=i;wC(l)&&typeof ed=="function"&&(l=ed(l._payload));const u=ee.Children.toArray(l),c=u.find(YR);if(c){const h=c.props.children,f=u.map(p=>p===c?ee.Children.count(h)>1?ee.Children.only(null):ee.isValidElement(h)?h.props.children:null:p);return g.jsx(s,{...o,ref:a,children:ee.isValidElement(h)?ee.cloneElement(h,void 0,f):null})}return g.jsx(s,{...o,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}var GR=SC("Slot");function JR(t){const s=ee.forwardRef((n,i)=>{let{children:a,...l}=n;if(wC(a)&&typeof ed=="function"&&(a=ed(a._payload)),ee.isValidElement(a)){const o=ZR(a),u=QR(l,a.props);return a.type!==ee.Fragment&&(u.ref=i?Ng(i,o):o),ee.cloneElement(a,u)}return ee.Children.count(a)>1?ee.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var XR=Symbol("radix.slottable");function YR(t){return ee.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XR}function QR(t,s){const n={...s};for(const i in s){const a=t[i],l=s[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...u)=>{const c=l(...u);return a(...u),c}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function ZR(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bC(t){var s,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(n=bC(t[s]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function xC(){for(var t,s,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(s=bC(t))&&(i&&(i+=" "),i+=s);return i}const YE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,QE=xC,ek=(t,s)=>n=>{var i;if(s?.variants==null)return QE(t,n?.class,n?.className);const{variants:a,defaultVariants:l}=s,o=Object.keys(a).map(h=>{const f=n?.[h],p=l?.[h];if(f===null)return null;const E=YE(f)||YE(p);return a[h][E]}),u=n&&Object.entries(n).reduce((h,f)=>{let[p,E]=f;return E===void 0||(h[p]=E),h},{}),c=s==null||(i=s.compoundVariants)===null||i===void 0?void 0:i.reduce((h,f)=>{let{class:p,className:E,...P}=f;return Object.entries(P).every(_=>{let[C,R]=_;return Array.isArray(R)?R.includes({...l,...u}[C]):{...l,...u}[C]===R})?[...h,p,E]:h},[]);return QE(t,o,c,n?.class,n?.className)},tk=(t,s)=>{const n=new Array(t.length+s.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<s.length;i++)n[t.length+i]=s[i];return n},rk=(t,s)=>({classGroupId:t,validator:s}),CC=(t=new Map,s=null,n)=>({nextPart:t,validators:s,classGroupId:n}),td="-",ZE=[],nk="arbitrary..",sk=t=>{const s=ok(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return ik(o);const u=o.split(td),c=u[0]===""&&u.length>1?1:0;return TC(u,c,s)},getConflictingClassGroupIds:(o,u)=>{if(u){const c=i[o],h=n[o];return c?h?tk(h,c):c:h||ZE}return n[o]||ZE}}},TC=(t,s,n)=>{if(t.length-s===0)return n.classGroupId;const a=t[s],l=n.nextPart.get(a);if(l){const h=TC(t,s+1,l);if(h)return h}const o=n.validators;if(o===null)return;const u=s===0?t.join(td):t.slice(s).join(td),c=o.length;for(let h=0;h<c;h++){const f=o[h];if(f.validator(u))return f.classGroupId}},ik=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),n=s.indexOf(":"),i=s.slice(0,n);return i?nk+i:void 0})(),ok=t=>{const{theme:s,classGroups:n}=t;return ak(n,s)},ak=(t,s)=>{const n=CC();for(const i in t){const a=t[i];Og(a,n,i,s)}return n},Og=(t,s,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const o=t[l];lk(o,s,n,i)}},lk=(t,s,n,i)=>{if(typeof t=="string"){ck(t,s,n);return}if(typeof t=="function"){uk(t,s,n,i);return}dk(t,s,n,i)},ck=(t,s,n)=>{const i=t===""?s:_C(s,t);i.classGroupId=n},uk=(t,s,n,i)=>{if(fk(t)){Og(t(i),s,n,i);return}s.validators===null&&(s.validators=[]),s.validators.push(rk(n,t))},dk=(t,s,n,i)=>{const a=Object.entries(t),l=a.length;for(let o=0;o<l;o++){const[u,c]=a[o];Og(c,_C(s,u),n,i)}},_C=(t,s)=>{let n=t;const i=s.split(td),a=i.length;for(let l=0;l<a;l++){const o=i[l];let u=n.nextPart.get(o);u||(u=CC(),n.nextPart.set(o,u)),n=u}return n},fk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,hk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,n=Object.create(null),i=Object.create(null);const a=(l,o)=>{n[l]=o,s++,s>t&&(s=0,i=n,n=Object.create(null))};return{get(l){let o=n[l];if(o!==void 0)return o;if((o=i[l])!==void 0)return a(l,o),o},set(l,o){l in n?n[l]=o:a(l,o)}}},yg="!",ew=":",pk=[],tw=(t,s,n,i,a)=>({modifiers:t,hasImportantModifier:s,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),mk=t=>{const{prefix:s,experimentalParseClassName:n}=t;let i=a=>{const l=[];let o=0,u=0,c=0,h;const f=a.length;for(let C=0;C<f;C++){const R=a[C];if(o===0&&u===0){if(R===ew){l.push(a.slice(c,C)),c=C+1;continue}if(R==="/"){h=C;continue}}R==="["?o++:R==="]"?o--:R==="("?u++:R===")"&&u--}const p=l.length===0?a:a.slice(c);let E=p,P=!1;p.endsWith(yg)?(E=p.slice(0,-1),P=!0):p.startsWith(yg)&&(E=p.slice(1),P=!0);const _=h&&h>c?h-c:void 0;return tw(l,P,E,_)};if(s){const a=s+ew,l=i;i=o=>o.startsWith(a)?l(o.slice(a.length)):tw(pk,!1,o,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},gk=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{s.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const o=n[l],u=o[0]==="[",c=s.has(o);u||c?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(o)):a.push(o)}return a.length>0&&(a.sort(),i.push(...a)),i}},yk=t=>({cache:hk(t.cacheSize),parseClassName:mk(t),sortModifiers:gk(t),...sk(t)}),vk=/\s+/,Ek=(t,s)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=s,o=[],u=t.trim().split(vk);let c="";for(let h=u.length-1;h>=0;h-=1){const f=u[h],{isExternal:p,modifiers:E,hasImportantModifier:P,baseClassName:_,maybePostfixModifierPosition:C}=n(f);if(p){c=f+(c.length>0?" "+c:c);continue}let R=!!C,x=i(R?_.substring(0,C):_);if(!x){if(!R){c=f+(c.length>0?" "+c:c);continue}if(x=i(_),!x){c=f+(c.length>0?" "+c:c);continue}R=!1}const w=E.length===0?"":E.length===1?E[0]:l(E).join(":"),v=P?w+yg:w,k=v+x;if(o.indexOf(k)>-1)continue;o.push(k);const O=a(x,R);for(let j=0;j<O.length;++j){const D=O[j];o.push(v+D)}c=f+(c.length>0?" "+c:c)}return c},wk=(...t)=>{let s=0,n,i,a="";for(;s<t.length;)(n=t[s++])&&(i=RC(n))&&(a&&(a+=" "),a+=i);return a},RC=t=>{if(typeof t=="string")return t;let s,n="";for(let i=0;i<t.length;i++)t[i]&&(s=RC(t[i]))&&(n&&(n+=" "),n+=s);return n},Sk=(t,...s)=>{let n,i,a,l;const o=c=>{const h=s.reduce((f,p)=>p(f),t());return n=yk(h),i=n.cache.get,a=n.cache.set,l=u,u(c)},u=c=>{const h=i(c);if(h)return h;const f=Ek(c,n);return a(c,f),f};return l=o,(...c)=>l(wk(...c))},bk=[],tr=t=>{const s=n=>n[t]||bk;return s.isThemeGetter=!0,s},kC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xk=/^\d+\/\d+$/,Ck=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ha=t=>xk.test(t),it=t=>!!t&&!Number.isNaN(Number(t)),Ai=t=>!!t&&Number.isInteger(Number(t)),vh=t=>t.endsWith("%")&&it(t.slice(0,-1)),Vs=t=>Ck.test(t),Ak=()=>!0,Ik=t=>Tk.test(t)&&!_k.test(t),IC=()=>!1,Pk=t=>Rk.test(t),Nk=t=>kk.test(t),Ok=t=>!$e(t)&&!Me(t),jk=t=>Ia(t,OC,IC),$e=t=>kC.test(t),mo=t=>Ia(t,jC,Ik),Eh=t=>Ia(t,Mk,it),rw=t=>Ia(t,PC,IC),Lk=t=>Ia(t,NC,Nk),Au=t=>Ia(t,LC,Pk),Me=t=>AC.test(t),yl=t=>Pa(t,jC),Dk=t=>Pa(t,qk),nw=t=>Pa(t,PC),Uk=t=>Pa(t,OC),$k=t=>Pa(t,NC),Iu=t=>Pa(t,LC,!0),Ia=(t,s,n)=>{const i=kC.exec(t);return i?i[1]?s(i[1]):n(i[2]):!1},Pa=(t,s,n=!1)=>{const i=AC.exec(t);return i?i[1]?s(i[1]):n:!1},PC=t=>t==="position"||t==="percentage",NC=t=>t==="image"||t==="url",OC=t=>t==="length"||t==="size"||t==="bg-size",jC=t=>t==="length",Mk=t=>t==="number",qk=t=>t==="family-name",LC=t=>t==="shadow",Fk=()=>{const t=tr("color"),s=tr("font"),n=tr("text"),i=tr("font-weight"),a=tr("tracking"),l=tr("leading"),o=tr("breakpoint"),u=tr("container"),c=tr("spacing"),h=tr("radius"),f=tr("shadow"),p=tr("inset-shadow"),E=tr("text-shadow"),P=tr("drop-shadow"),_=tr("blur"),C=tr("perspective"),R=tr("aspect"),x=tr("ease"),w=tr("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...k(),Me,$e],j=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],I=()=>[Me,$e,c],H=()=>[ha,"full","auto",...I()],G=()=>[Ai,"none","subgrid",Me,$e],ie=()=>["auto",{span:["full",Ai,Me,$e]},Ai,Me,$e],he=()=>[Ai,"auto",Me,$e],X=()=>["auto","min","max","fr",Me,$e],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...I()],B=()=>[ha,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],$=()=>[t,Me,$e],Y=()=>[...k(),nw,rw,{position:[Me,$e]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",Uk,jk,{size:[Me,$e]}],ne=()=>[vh,yl,mo],ue=()=>["","none","full",h,Me,$e],ge=()=>["",it,yl,mo],ve=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Fe=()=>[it,vh,nw,rw],Le=()=>["","none",_,Me,$e],Ye=()=>["none",it,Me,$e],gt=()=>["none",it,Me,$e],$t=()=>[it,Me,$e],K=()=>[ha,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[Ak],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[Ok],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",it],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ha,$e,Me,R]}],container:["container"],columns:[{columns:[it,$e,Me,u]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Ai,"auto",Me,$e]}],basis:[{basis:[ha,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,ha,"auto","initial","none",$e]}],grow:[{grow:["",it,Me,$e]}],shrink:[{shrink:["",it,Me,$e]}],order:[{order:[Ai,"first","last","none",Me,$e]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[u,"screen",...B()]}],"min-w":[{"min-w":[u,"screen","none",...B()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,yl,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Me,Eh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vh,$e]}],"font-family":[{font:[Dk,$e,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Me,$e]}],"line-clamp":[{"line-clamp":[it,"none",Me,Eh]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",Me,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",Me,mo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[it,"auto",Me,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ai,Me,$e],radial:["",Me,$e],conic:[Ai,Me,$e]},$k,Lk]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,Me,$e]}],"outline-w":[{outline:["",it,yl,mo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",f,Iu,Au]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",p,Iu,Au]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[it,mo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",E,Iu,Au]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[it,Me,$e]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":Fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Fe()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Fe()}],"mask-image-t-to-pos":[{"mask-t-to":Fe()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Fe()}],"mask-image-r-to-pos":[{"mask-r-to":Fe()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Fe()}],"mask-image-b-to-pos":[{"mask-b-to":Fe()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Fe()}],"mask-image-l-to-pos":[{"mask-l-to":Fe()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Fe()}],"mask-image-x-to-pos":[{"mask-x-to":Fe()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Fe()}],"mask-image-y-to-pos":[{"mask-y-to":Fe()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Me,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":Fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Fe()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":Fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Fe()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,$e]}],filter:[{filter:["","none",Me,$e]}],blur:[{blur:Le()}],brightness:[{brightness:[it,Me,$e]}],contrast:[{contrast:[it,Me,$e]}],"drop-shadow":[{"drop-shadow":["","none",P,Iu,Au]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",it,Me,$e]}],"hue-rotate":[{"hue-rotate":[it,Me,$e]}],invert:[{invert:["",it,Me,$e]}],saturate:[{saturate:[it,Me,$e]}],sepia:[{sepia:["",it,Me,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,$e]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[it,Me,$e]}],"backdrop-contrast":[{"backdrop-contrast":[it,Me,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,Me,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,Me,$e]}],"backdrop-invert":[{"backdrop-invert":["",it,Me,$e]}],"backdrop-opacity":[{"backdrop-opacity":[it,Me,$e]}],"backdrop-saturate":[{"backdrop-saturate":[it,Me,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",it,Me,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",Me,$e]}],ease:[{ease:["linear","initial",x,Me,$e]}],delay:[{delay:[it,Me,$e]}],animate:[{animate:["none",w,Me,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Me,$e]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:gt()}],"scale-x":[{"scale-x":gt()}],"scale-y":[{"scale-y":gt()}],"scale-z":[{"scale-z":gt()}],"scale-3d":["scale-3d"],skew:[{skew:$t()}],"skew-x":[{"skew-x":$t()}],"skew-y":[{"skew-y":$t()}],transform:[{transform:[Me,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,$e]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[it,yl,mo,Eh]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Hk=Sk(Fk);function Un(...t){return Hk(xC(t))}const Bk=ek("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),tt=ee.forwardRef(({className:t,variant:s,size:n,asChild:i=!1,...a},l)=>{const o=i?GR:"button";return g.jsx(o,{"data-slot":"button",className:Un(Bk({variant:s,size:n,className:t})),ref:l,...a})});tt.displayName="Button";function Re({className:t,...s}){return g.jsx("div",{"data-slot":"card",className:Un("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...s})}function Ae({className:t,...s}){return g.jsx("div",{"data-slot":"card-header",className:Un("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function Ie({className:t,...s}){return g.jsx("h4",{"data-slot":"card-title",className:Un("leading-none",t),...s})}function Ve({className:t,...s}){return g.jsx("p",{"data-slot":"card-description",className:Un("text-muted-foreground",t),...s})}function ke({className:t,...s}){return g.jsx("div",{"data-slot":"card-content",className:Un("px-6 [&:last-child]:pb-6",t),...s})}var zk=gC();function Wk(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Kk=t=>{switch(t){case"success":return Jk;case"info":return Yk;case"warning":return Xk;case"error":return Qk;default:return null}},Vk=Array(12).fill(0),Gk=({visible:t,className:s})=>ee.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},ee.createElement("div",{className:"sonner-spinner"},Vk.map((n,i)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Jk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Yk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Qk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Zk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eA=()=>{const[t,s]=ee.useState(document.hidden);return ee.useEffect(()=>{const n=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let vg=1;class tA{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const n=this.subscribers.indexOf(s);this.subscribers.splice(n,1)}),this.publish=s=>{this.subscribers.forEach(n=>n(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var n;const{message:i,...a}=s,l=typeof s?.id=="number"||((n=s.id)==null?void 0:n.length)>0?s.id:vg++,o=this.toasts.find(c=>c.id===l),u=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),o?this.toasts=this.toasts.map(c=>c.id===l?(this.publish({...c,...s,id:l,title:i}),{...c,...s,id:l,dismissible:u,title:i}):c):this.addToast({title:i,...a,dismissible:u,id:l}),l},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:s,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),s),this.message=(s,n)=>this.create({...n,message:s}),this.error=(s,n)=>this.create({...n,message:s,type:"error"}),this.success=(s,n)=>this.create({...n,type:"success",message:s}),this.info=(s,n)=>this.create({...n,type:"info",message:s}),this.warning=(s,n)=>this.create({...n,type:"warning",message:s}),this.loading=(s,n)=>this.create({...n,type:"loading",message:s}),this.promise=(s,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:s,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(s instanceof Function?s():s);let l=i!==void 0,o;const u=a.then(async h=>{if(o=["resolve",h],ee.isValidElement(h))l=!1,this.create({id:i,type:"default",message:h});else if(nA(h)&&!h.ok){l=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,E=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof p=="object"&&!ee.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:E,..._})}else if(h instanceof Error){l=!1;const p=typeof n.error=="function"?await n.error(h):n.error,E=typeof n.description=="function"?await n.description(h):n.description,_=typeof p=="object"&&!ee.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:E,..._})}else if(n.success!==void 0){l=!1;const p=typeof n.success=="function"?await n.success(h):n.success,E=typeof n.description=="function"?await n.description(h):n.description,_=typeof p=="object"&&!ee.isValidElement(p)?p:{message:p};this.create({id:i,type:"success",description:E,..._})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){l=!1;const f=typeof n.error=="function"?await n.error(h):n.error,p=typeof n.description=="function"?await n.description(h):n.description,P=typeof f=="object"&&!ee.isValidElement(f)?f:{message:f};this.create({id:i,type:"error",description:p,...P})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((h,f)=>u.then(()=>o[0]==="reject"?f(o[1]):h(o[1])).catch(f));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(s,n)=>{const i=n?.id||vg++;return this.create({jsx:s(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sn=new tA,rA=(t,s)=>{const n=s?.id||vg++;return sn.addToast({title:t,...s,id:n}),n},nA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sA=rA,iA=()=>sn.toasts,oA=()=>sn.getActiveToasts(),Ee=Object.assign(sA,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:iA,getToasts:oA});Wk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Pu(t){return t.label!==void 0}const aA=3,lA="24px",cA="16px",sw=4e3,uA=356,dA=14,fA=45,hA=200;function vs(...t){return t.filter(Boolean).join(" ")}function pA(t){const[s,n]=t.split("-"),i=[];return s&&i.push(s),n&&i.push(n),i}const mA=t=>{var s,n,i,a,l,o,u,c,h;const{invert:f,toast:p,unstyled:E,interacting:P,setHeights:_,visibleToasts:C,heights:R,index:x,toasts:w,expanded:v,removeToast:k,defaultRichColors:O,closeButton:j,style:D,cancelButtonStyle:I,actionButtonStyle:H,className:G="",descriptionClassName:ie="",duration:he,position:X,gap:V,expandByDefault:M,classNames:W,icons:B,closeButtonAriaLabel:$="Close toast"}=t,[Y,te]=ee.useState(null),[J,ne]=ee.useState(null),[ue,ge]=ee.useState(!1),[ve,Oe]=ee.useState(!1),[Fe,Le]=ee.useState(!1),[Ye,gt]=ee.useState(!1),[$t,K]=ee.useState(!1),[we,be]=ee.useState(0),[rt,ct]=ee.useState(0),dt=ee.useRef(p.duration||he||sw),Ts=ee.useRef(null),cr=ee.useRef(null),$n=x===0,gn=x+1<=C,Mt=p.type,Cr=p.dismissible!==!1,ii=p.className||"",$o=p.descriptionClassName||"",z=ee.useMemo(()=>R.findIndex(Ge=>Ge.toastId===p.id)||0,[R,p.id]),at=ee.useMemo(()=>{var Ge;return(Ge=p.closeButton)!=null?Ge:j},[p.closeButton,j]),Pe=ee.useMemo(()=>p.duration||he||sw,[p.duration,he]),as=ee.useRef(0),Kt=ee.useRef(0),Fr=ee.useRef(0),Hr=ee.useRef(null),[oi,ai]=X.split("-"),Br=ee.useMemo(()=>R.reduce((Ge,Tt,Nt)=>Nt>=z?Ge:Ge+Tt.height,0),[R,z]),yn=eA(),an=p.invert||f,ln=Mt==="loading";Kt.current=ee.useMemo(()=>z*V+Br,[z,Br]),ee.useEffect(()=>{dt.current=Pe},[Pe]),ee.useEffect(()=>{ge(!0)},[]),ee.useEffect(()=>{const Ge=cr.current;if(Ge){const Tt=Ge.getBoundingClientRect().height;return ct(Tt),_(Nt=>[{toastId:p.id,height:Tt,position:p.position},...Nt]),()=>_(Nt=>Nt.filter(Vt=>Vt.toastId!==p.id))}},[_,p.id]),ee.useLayoutEffect(()=>{if(!ue)return;const Ge=cr.current,Tt=Ge.style.height;Ge.style.height="auto";const Nt=Ge.getBoundingClientRect().height;Ge.style.height=Tt,ct(Nt),_(Vt=>Vt.find(Et=>Et.toastId===p.id)?Vt.map(Et=>Et.toastId===p.id?{...Et,height:Nt}:Et):[{toastId:p.id,height:Nt,position:p.position},...Vt])},[ue,p.title,p.description,_,p.id,p.jsx,p.action,p.cancel]);const mr=ee.useCallback(()=>{Oe(!0),be(Kt.current),_(Ge=>Ge.filter(Tt=>Tt.toastId!==p.id)),setTimeout(()=>{k(p)},hA)},[p,k,_,Kt]);ee.useEffect(()=>{if(p.promise&&Mt==="loading"||p.duration===1/0||p.type==="loading")return;let Ge;return v||P||yn?(()=>{if(Fr.current<as.current){const Vt=new Date().getTime()-as.current;dt.current=dt.current-Vt}Fr.current=new Date().getTime()})():(()=>{dt.current!==1/0&&(as.current=new Date().getTime(),Ge=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),mr()},dt.current))})(),()=>clearTimeout(Ge)},[v,P,p,Mt,yn,mr]),ee.useEffect(()=>{p.delete&&(mr(),p.onDismiss==null||p.onDismiss.call(p,p))},[mr,p.delete]);function Mn(){var Ge;if(B?.loading){var Tt;return ee.createElement("div",{className:vs(W?.loader,p==null||(Tt=p.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":Mt==="loading"},B.loading)}return ee.createElement(Gk,{className:vs(W?.loader,p==null||(Ge=p.classNames)==null?void 0:Ge.loader),visible:Mt==="loading"})}const vn=p.icon||B?.[Mt]||Kk(Mt);var Tr,qn;return ee.createElement("li",{tabIndex:0,ref:cr,className:vs(G,ii,W?.toast,p==null||(s=p.classNames)==null?void 0:s.toast,W?.default,W?.[Mt],p==null||(n=p.classNames)==null?void 0:n[Mt]),"data-sonner-toast":"","data-rich-colors":(Tr=p.richColors)!=null?Tr:O,"data-styled":!(p.jsx||p.unstyled||E),"data-mounted":ue,"data-promise":!!p.promise,"data-swiped":$t,"data-removed":ve,"data-visible":gn,"data-y-position":oi,"data-x-position":ai,"data-index":x,"data-front":$n,"data-swiping":Fe,"data-dismissible":Cr,"data-type":Mt,"data-invert":an,"data-swipe-out":Ye,"data-swipe-direction":J,"data-expanded":!!(v||M&&ue),"data-testid":p.testId,style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${ve?we:Kt.current}px`,"--initial-height":M?"auto":`${rt}px`,...D,...p.style},onDragEnd:()=>{Le(!1),te(null),Hr.current=null},onPointerDown:Ge=>{Ge.button!==2&&(ln||!Cr||(Ts.current=new Date,be(Kt.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Le(!0),Hr.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,Tt,Nt;if(Ye||!Cr)return;Hr.current=null;const Vt=Number(((Ge=cr.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gr=Number(((Tt=cr.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Et=new Date().getTime()-((Nt=Ts.current)==null?void 0:Nt.getTime()),Dt=Y==="x"?Vt:gr,En=Math.abs(Dt)/Et;if(Math.abs(Dt)>=fA||En>.11){be(Kt.current),p.onDismiss==null||p.onDismiss.call(p,p),ne(Y==="x"?Vt>0?"right":"left":gr>0?"down":"up"),mr(),gt(!0);return}else{var qt,ur;(qt=cr.current)==null||qt.style.setProperty("--swipe-amount-x","0px"),(ur=cr.current)==null||ur.style.setProperty("--swipe-amount-y","0px")}K(!1),Le(!1),te(null)},onPointerMove:Ge=>{var Tt,Nt,Vt;if(!Hr.current||!Cr||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const Et=Ge.clientY-Hr.current.y,Dt=Ge.clientX-Hr.current.x;var En;const qt=(En=t.swipeDirections)!=null?En:pA(X);!Y&&(Math.abs(Dt)>1||Math.abs(Et)>1)&&te(Math.abs(Dt)>Math.abs(Et)?"x":"y");let ur={x:0,y:0};const et=yr=>1/(1.5+Math.abs(yr)/20);if(Y==="y"){if(qt.includes("top")||qt.includes("bottom"))if(qt.includes("top")&&Et<0||qt.includes("bottom")&&Et>0)ur.y=Et;else{const yr=Et*et(Et);ur.y=Math.abs(yr)<Math.abs(Et)?yr:Et}}else if(Y==="x"&&(qt.includes("left")||qt.includes("right")))if(qt.includes("left")&&Dt<0||qt.includes("right")&&Dt>0)ur.x=Dt;else{const yr=Dt*et(Dt);ur.x=Math.abs(yr)<Math.abs(Dt)?yr:Dt}(Math.abs(ur.x)>0||Math.abs(ur.y)>0)&&K(!0),(Nt=cr.current)==null||Nt.style.setProperty("--swipe-amount-x",`${ur.x}px`),(Vt=cr.current)==null||Vt.style.setProperty("--swipe-amount-y",`${ur.y}px`)}},at&&!p.jsx&&Mt!=="loading"?ee.createElement("button",{"aria-label":$,"data-disabled":ln,"data-close-button":!0,onClick:ln||!Cr?()=>{}:()=>{mr(),p.onDismiss==null||p.onDismiss.call(p,p)},className:vs(W?.closeButton,p==null||(i=p.classNames)==null?void 0:i.closeButton)},(qn=B?.close)!=null?qn:Zk):null,(Mt||p.icon||p.promise)&&p.icon!==null&&(B?.[Mt]!==null||p.icon)?ee.createElement("div",{"data-icon":"",className:vs(W?.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Mn():null,p.type!=="loading"?vn:null):null,ee.createElement("div",{"data-content":"",className:vs(W?.content,p==null||(l=p.classNames)==null?void 0:l.content)},ee.createElement("div",{"data-title":"",className:vs(W?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ee.createElement("div",{"data-description":"",className:vs(ie,$o,W?.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),ee.isValidElement(p.cancel)?p.cancel:p.cancel&&Pu(p.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Ge=>{Pu(p.cancel)&&Cr&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ge),mr())},className:vs(W?.cancelButton,p==null||(c=p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,ee.isValidElement(p.action)?p.action:p.action&&Pu(p.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||H,onClick:Ge=>{Pu(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ge),!Ge.defaultPrevented&&mr())},className:vs(W?.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function iw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gA(t,s){const n={};return[t,s].forEach((i,a)=>{const l=a===1,o=l?"--mobile-offset":"--offset",u=l?cA:lA;function c(h){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(h=>{i[h]===void 0?n[`${o}-${h}`]=u:n[`${o}-${h}`]=typeof i[h]=="number"?`${i[h]}px`:i[h]}):c(u)}),n}const yA=ee.forwardRef(function(s,n){const{id:i,invert:a,position:l="bottom-right",hotkey:o=["altKey","KeyT"],expand:u,closeButton:c,className:h,offset:f,mobileOffset:p,theme:E="light",richColors:P,duration:_,style:C,visibleToasts:R=aA,toastOptions:x,dir:w=iw(),gap:v=dA,icons:k,containerAriaLabel:O="Notifications"}=s,[j,D]=ee.useState([]),I=ee.useMemo(()=>i?j.filter(ue=>ue.toasterId===i):j.filter(ue=>!ue.toasterId),[j,i]),H=ee.useMemo(()=>Array.from(new Set([l].concat(I.filter(ue=>ue.position).map(ue=>ue.position)))),[I,l]),[G,ie]=ee.useState([]),[he,X]=ee.useState(!1),[V,M]=ee.useState(!1),[W,B]=ee.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=ee.useRef(null),Y=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=ee.useRef(null),J=ee.useRef(!1),ne=ee.useCallback(ue=>{D(ge=>{var ve;return(ve=ge.find(Oe=>Oe.id===ue.id))!=null&&ve.delete||sn.dismiss(ue.id),ge.filter(({id:Oe})=>Oe!==ue.id)})},[]);return ee.useEffect(()=>sn.subscribe(ue=>{if(ue.dismiss){requestAnimationFrame(()=>{D(ge=>ge.map(ve=>ve.id===ue.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{zk.flushSync(()=>{D(ge=>{const ve=ge.findIndex(Oe=>Oe.id===ue.id);return ve!==-1?[...ge.slice(0,ve),{...ge[ve],...ue},...ge.slice(ve+1)]:[ue,...ge]})})})}),[j]),ee.useEffect(()=>{if(E!=="system"){B(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:ge})=>{B(ge?"dark":"light")})}catch{ue.addListener(({matches:ve})=>{try{B(ve?"dark":"light")}catch(Oe){console.error(Oe)}})}},[E]),ee.useEffect(()=>{j.length<=1&&X(!1)},[j]),ee.useEffect(()=>{const ue=ge=>{var ve;if(o.every(Le=>ge[Le]||ge.code===Le)){var Fe;X(!0),(Fe=$.current)==null||Fe.focus()}ge.code==="Escape"&&(document.activeElement===$.current||(ve=$.current)!=null&&ve.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[o]),ee.useEffect(()=>{if($.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,J.current=!1)}},[$.current]),ee.createElement("section",{ref:n,"aria-label":`${O} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((ue,ge)=>{var ve;const[Oe,Fe]=ue.split("-");return I.length?ee.createElement("ol",{key:ue,dir:w==="auto"?iw():w,tabIndex:-1,ref:$,className:h,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":Oe,"data-x-position":Fe,style:{"--front-toast-height":`${((ve=G[0])==null?void 0:ve.height)||0}px`,"--width":`${uA}px`,"--gap":`${v}px`,...C,...gA(f,p)},onBlur:Le=>{J.current&&!Le.currentTarget.contains(Le.relatedTarget)&&(J.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||J.current||(J.current=!0,te.current=Le.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{V||X(!1)},onDragEnd:()=>X(!1),onPointerDown:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},I.filter(Le=>!Le.position&&ge===0||Le.position===ue).map((Le,Ye)=>{var gt,$t;return ee.createElement(mA,{key:Le.id,icons:k,index:Ye,toast:Le,defaultRichColors:P,duration:(gt=x?.duration)!=null?gt:_,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:a,visibleToasts:R,closeButton:($t=x?.closeButton)!=null?$t:c,interacting:V,position:ue,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:ne,toasts:I.filter(K=>K.position==Le.position),heights:G.filter(K=>K.position==Le.position),setHeights:ie,expandByDefault:u,gap:v,expanded:he,swipeDirections:s.swipeDirections})})):null}))});var go={},vl={},El={},yo={},Gs={},ow;function jg(){if(ow)return Gs;ow=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.ApiErrorException=Gs.MisoClientError=void 0,Gs.transformError=i,Gs.handleApiError=l;class t extends Error{constructor(u,c,h,f,p){let E=u;c&&(c.title?E=c.title:c.errors&&c.errors.length>0&&(E=c.errors[0])),super(E),this.name="MisoClientError",this.errorResponse=c,this.errorBody=h,this.statusCode=f??c?.statusCode,this.authMethod=p??c?.authMethod??null,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}Gs.MisoClientError=t;function s(o,u){const c=o.error;return{errors:c.errors??["Unknown error"],type:c.type??"about:blank",title:c.title??u.message??"Unknown error",statusCode:c.statusCode??u.response?.status??500,instance:c.instance??u.config?.url,correlationId:c.correlationId}}function n(o,u){const c=typeof o.statusCode=="number"?o.statusCode:typeof u.response?.status=="number"?u.response.status:500;return{errors:Array.isArray(o.errors)?o.errors:["Unknown error"],type:o.type??"about:blank",title:o.title??u.message??"Unknown error",statusCode:c,instance:o.instance??u.config?.url,correlationId:o.correlationId}}function i(o){if(o&&typeof o=="object"&&"response"in o){const u=o,c=u.response?.data;return c&&typeof c=="object"?"error"in c?s(c,u):n(c,u):{errors:[u.message??"Network error"],type:"about:blank",title:"Network error",statusCode:u.response?.status??0}}return o instanceof Error?{errors:[o.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class a extends Error{constructor(u){super(u.title||"API Error"),this.name="ApiErrorException",this.statusCode=u.statusCode,this.correlationId=u.correlationId,this.type=u.type,this.instance=u.instance,this.errors=u.errors,Error.captureStackTrace&&Error.captureStackTrace(this,a)}}Gs.ApiErrorException=a;function l(o){const u=i(o);throw new a(u)}return Gs}var Nu={},es={},aw;function vA(){if(aw)return es;aw=1,Object.defineProperty(es,"__esModule",{value:!0}),es.AuthenticationError=es.TimeoutError=es.NetworkError=es.ApiError=void 0;class t extends Error{constructor(l,o,u,c){super(l),this.name="ApiError",this.statusCode=o,this.response=u,this.originalError=c,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}es.ApiError=t;class s extends t{constructor(l,o){super(l,0,void 0,o),this.name="NetworkError"}}es.NetworkError=s;class n extends t{constructor(l,o){super(l,408),this.name="TimeoutError"}}es.TimeoutError=n;class i extends t{constructor(l,o){super(l,401,o),this.name="AuthenticationError"}}return es.AuthenticationError=i,es}var lw;function xs(){if(lw)return Nu;lw=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.extractErrorInfo=o;const t=jg(),s=vA();function n(u,c,h,f,p,E){u.errorType=c,u.errorName=h,u.message=f,u.statusCode=p,u.stackTrace=E}function i(u,c){n(c,"MisoClientError",u.name,u.message,u.statusCode,u.stack),u.errorResponse&&"correlationId"in u.errorResponse&&(c.correlationId=c.correlationId||u.errorResponse.correlationId),u.errorResponse?c.responseBody={errors:u.errorResponse.errors,type:u.errorResponse.type,title:u.errorResponse.title,statusCode:u.errorResponse.statusCode,instance:u.errorResponse.instance,correlationId:u.errorResponse.correlationId}:u.errorBody&&(c.responseBody=u.errorBody)}function a(u,c){if(n(c,u.name,u.name,u.message,u.statusCode,u.stack),c.originalError=u.originalError,u.response)try{c.responseBody={status:u.statusCode,message:u.message}}catch{}}function l(u,c){c.errorType="Unknown",c.errorName="UnknownError",c.message=typeof u=="string"?u:u&&typeof u=="object"&&"message"in u?String(u.message):"Unknown error occurred"}function o(u,c){const h={errorType:"Unknown",errorName:"Error",message:"Unknown error",endpoint:c?.endpoint,method:c?.method,correlationId:c?.correlationId};return u instanceof t.MisoClientError?i(u,h):u instanceof s.ApiError?a(u,h):u instanceof s.AuthenticationError?n(h,"AuthenticationError",u.name,u.message,401,u.stack):u instanceof s.NetworkError?n(h,"NetworkError",u.name,u.message,0,u.stack):u instanceof s.TimeoutError?n(h,"TimeoutError",u.name,u.message,408,u.stack):u instanceof Error?n(h,"Error",u.name,u.message,void 0,u.stack):l(u,h),h}return Nu}var pa={},cw;function rs(){if(cw)return pa;cw=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.logErrorWithContext=t,pa.writeWarn=s,pa.writeErr=n;function t(i,a="[MisoClient]"){const l=i.correlationId||"no-correlation-id",o=[];o.push(`${i.errorName}: ${i.message}`),i.statusCode!==void 0&&o.push(`Status: ${i.statusCode}`),i.endpoint&&i.method?o.push(`Endpoint: ${i.method} ${i.endpoint}`):i.endpoint?o.push(`Endpoint: ${i.endpoint}`):i.method&&o.push(`Method: ${i.method}`);const u=o.join(" | "),c=`${a} [${l}]`;console.error(c,u),i.responseBody&&console.error(c,`Response Body: ${JSON.stringify(i.responseBody,null,2)}`),i.stackTrace&&console.error(c,`Stack Trace: ${i.stackTrace}`),i.originalError&&console.error(c,`Original Error: ${String(i.originalError)}`)}function s(i){console.warn(i)}function n(i){console.error(i)}return pa}var uw;function EA(){if(uw)return yo;uw=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.formatAuthError=i,yo.handleAuthError=l,yo.handleAuthErrorSilent=o,yo.isHttpStatus=u;const t=jg(),s=xs(),n=rs();function i(c,h,f,p){if(c instanceof t.MisoClientError){const P={statusCode:c.statusCode,message:c.message,errorResponse:c.errorResponse,errorBody:c.errorBody};return`${h} failed: ${c.message}. Full response: ${JSON.stringify(P)} [correlationId: ${f}, clientId: ${p}]`}if(a(c)){const P=c.response?`status: ${c.response.status}, data: ${JSON.stringify(c.response.data)}`:`message: ${c.message}`;return`${h} failed: ${c.message}. ${P} [correlationId: ${f}, clientId: ${p}]`}const E=c instanceof Error?c.message:"Unknown error";return`${h} failed: ${E} [correlationId: ${f}, clientId: ${p}]`}function a(c){return c!==null&&typeof c=="object"&&"isAxiosError"in c&&c.isAxiosError===!0}function l(c,h,f,p){throw new Error(i(c,h,f,p))}function o(c,h,f,p){const E=i(c,h,f,p);console.error(E,{operation:h,correlationId:f,clientId:p});const P=(0,s.extractErrorInfo)(c,{endpoint:h,method:"AUTH",correlationId:f});return P.message=E,(0,n.logErrorWithContext)(P,"[Auth]"),null}function u(c,h){return c instanceof t.MisoClientError?c.statusCode===h:a(c)&&c.response?c.response.status===h:!1}return yo}var Nn={},vo={},dw;function bc(){if(dw)return vo;dw=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.isBrowser=t,vo.validateUrl=s,vo.resolveControllerUrl=n,vo.resolveKeycloakUrl=i;function t(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function s(a){try{const l=new URL(a);return l.protocol==="http:"||l.protocol==="https:"}catch{return!1}}function n(a){const l=t();let o;if(l?o=a.controllerPublicUrl:o=a.controllerPrivateUrl,o||(o=a.controllerUrl),!o)throw new Error(`No controller URL configured. Please provide ${l?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!s(o))throw new Error(`Invalid controller URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}function i(a){const l=t();let o;if(l?o=a.authServerPublicUrl:o=a.authServerPrivateUrl,o||(o=a.authServerUrl),!o)throw new Error(`No Keycloak URL configured. Please provide ${l?"authServerPublicUrl":"authServerPrivateUrl"} or authServerUrl in your Keycloak configuration.`);if(!s(o))throw new Error(`Invalid Keycloak URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}return vo}/*! Axios v1.13.4 Copyright (c) 2026 Matt Zabriskie and contributors */var wh,fw;function wA(){if(fw)return wh;fw=1;function t(y,S){return function(){return y.apply(S,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:i,toStringTag:a}=Symbol,l=(y=>S=>{const T=s.call(S);return y[T]||(y[T]=T.slice(8,-1).toLowerCase())})(Object.create(null)),o=y=>(y=y.toLowerCase(),S=>l(S)===y),u=y=>S=>typeof S===y,{isArray:c}=Array,h=u("undefined");function f(y){return y!==null&&!h(y)&&y.constructor!==null&&!h(y.constructor)&&_(y.constructor.isBuffer)&&y.constructor.isBuffer(y)}const p=o("ArrayBuffer");function E(y){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(y):S=y&&y.buffer&&p(y.buffer),S}const P=u("string"),_=u("function"),C=u("number"),R=y=>y!==null&&typeof y=="object",x=y=>y===!0||y===!1,w=y=>{if(l(y)!=="object")return!1;const S=n(y);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(a in y)&&!(i in y)},v=y=>{if(!R(y)||f(y))return!1;try{return Object.keys(y).length===0&&Object.getPrototypeOf(y)===Object.prototype}catch{return!1}},k=o("Date"),O=o("File"),j=o("Blob"),D=o("FileList"),I=y=>R(y)&&_(y.pipe),H=y=>{let S;return y&&(typeof FormData=="function"&&y instanceof FormData||_(y.append)&&((S=l(y))==="formdata"||S==="object"&&_(y.toString)&&y.toString()==="[object FormData]"))},G=o("URLSearchParams"),[ie,he,X,V]=["ReadableStream","Request","Response","Headers"].map(o),M=y=>y.trim?y.trim():y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(y,S,{allOwnKeys:T=!1}={}){if(y===null||typeof y>"u")return;let N,L;if(typeof y!="object"&&(y=[y]),c(y))for(N=0,L=y.length;N<L;N++)S.call(null,y[N],N,y);else{if(f(y))return;const F=T?Object.getOwnPropertyNames(y):Object.keys(y),q=F.length;let Z;for(N=0;N<q;N++)Z=F[N],S.call(null,y[Z],Z,y)}}function B(y,S){if(f(y))return null;S=S.toLowerCase();const T=Object.keys(y);let N=T.length,L;for(;N-- >0;)if(L=T[N],S===L.toLowerCase())return L;return null}const $=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Oo,Y=y=>!h(y)&&y!==$;function te(){const{caseless:y,skipUndefined:S}=Y(this)&&this||{},T={},N=(L,F)=>{const q=y&&B(T,F)||F;w(T[q])&&w(L)?T[q]=te(T[q],L):w(L)?T[q]=te({},L):c(L)?T[q]=L.slice():(!S||!h(L))&&(T[q]=L)};for(let L=0,F=arguments.length;L<F;L++)arguments[L]&&W(arguments[L],N);return T}const J=(y,S,T,{allOwnKeys:N}={})=>(W(S,(L,F)=>{T&&_(L)?Object.defineProperty(y,F,{value:t(L,T),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(y,F,{value:L,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:N}),y),ne=y=>(y.charCodeAt(0)===65279&&(y=y.slice(1)),y),ue=(y,S,T,N)=>{y.prototype=Object.create(S.prototype,N),Object.defineProperty(y.prototype,"constructor",{value:y,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(y,"super",{value:S.prototype}),T&&Object.assign(y.prototype,T)},ge=(y,S,T,N)=>{let L,F,q;const Z={};if(S=S||{},y==null)return S;do{for(L=Object.getOwnPropertyNames(y),F=L.length;F-- >0;)q=L[F],(!N||N(q,y,S))&&!Z[q]&&(S[q]=y[q],Z[q]=!0);y=T!==!1&&n(y)}while(y&&(!T||T(y,S))&&y!==Object.prototype);return S},ve=(y,S,T)=>{y=String(y),(T===void 0||T>y.length)&&(T=y.length),T-=S.length;const N=y.indexOf(S,T);return N!==-1&&N===T},Oe=y=>{if(!y)return null;if(c(y))return y;let S=y.length;if(!C(S))return null;const T=new Array(S);for(;S-- >0;)T[S]=y[S];return T},Fe=(y=>S=>y&&S instanceof y)(typeof Uint8Array<"u"&&n(Uint8Array)),Le=(y,S)=>{const N=(y&&y[i]).call(y);let L;for(;(L=N.next())&&!L.done;){const F=L.value;S.call(y,F[0],F[1])}},Ye=(y,S)=>{let T;const N=[];for(;(T=y.exec(S))!==null;)N.push(T);return N},gt=o("HTMLFormElement"),$t=y=>y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(T,N,L){return N.toUpperCase()+L}),K=(({hasOwnProperty:y})=>(S,T)=>y.call(S,T))(Object.prototype),we=o("RegExp"),be=(y,S)=>{const T=Object.getOwnPropertyDescriptors(y),N={};W(T,(L,F)=>{let q;(q=S(L,F,y))!==!1&&(N[F]=q||L)}),Object.defineProperties(y,N)},rt=y=>{be(y,(S,T)=>{if(_(y)&&["arguments","caller","callee"].indexOf(T)!==-1)return!1;const N=y[T];if(_(N)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+T+"'")})}})},ct=(y,S)=>{const T={},N=L=>{L.forEach(F=>{T[F]=!0})};return c(y)?N(y):N(String(y).split(S)),T},dt=()=>{},Ts=(y,S)=>y!=null&&Number.isFinite(y=+y)?y:S;function cr(y){return!!(y&&_(y.append)&&y[a]==="FormData"&&y[i])}const $n=y=>{const S=new Array(10),T=(N,L)=>{if(R(N)){if(S.indexOf(N)>=0)return;if(f(N))return N;if(!("toJSON"in N)){S[L]=N;const F=c(N)?[]:{};return W(N,(q,Z)=>{const pe=T(q,L+1);!h(pe)&&(F[Z]=pe)}),S[L]=void 0,F}}return N};return T(y,0)},gn=o("AsyncFunction"),Mt=y=>y&&(R(y)||_(y))&&_(y.then)&&_(y.catch),Cr=((y,S)=>y?setImmediate:S?((T,N)=>($.addEventListener("message",({source:L,data:F})=>{L===$&&F===T&&N.length&&N.shift()()},!1),L=>{N.push(L),$.postMessage(T,"*")}))(`axios@${Math.random()}`,[]):T=>setTimeout(T))(typeof setImmediate=="function",_($.postMessage)),ii=typeof queueMicrotask<"u"?queueMicrotask.bind($):typeof process<"u"&&process.nextTick||Cr;var z={isArray:c,isArrayBuffer:p,isBuffer:f,isFormData:H,isArrayBufferView:E,isString:P,isNumber:C,isBoolean:x,isObject:R,isPlainObject:w,isEmptyObject:v,isReadableStream:ie,isRequest:he,isResponse:X,isHeaders:V,isUndefined:h,isDate:k,isFile:O,isBlob:j,isRegExp:we,isFunction:_,isStream:I,isURLSearchParams:G,isTypedArray:Fe,isFileList:D,forEach:W,merge:te,extend:J,trim:M,stripBOM:ne,inherits:ue,toFlatObject:ge,kindOf:l,kindOfTest:o,endsWith:ve,toArray:Oe,forEachEntry:Le,matchAll:Ye,isHTMLForm:gt,hasOwnProperty:K,hasOwnProp:K,reduceDescriptors:be,freezeMethods:rt,toObjectSet:ct,toCamelCase:$t,noop:dt,toFiniteNumber:Ts,findKey:B,global:$,isContextDefined:Y,isSpecCompliantForm:cr,toJSONObject:$n,isAsyncFn:gn,isThenable:Mt,setImmediate:Cr,asap:ii,isIterable:y=>y!=null&&_(y[i])};class at extends Error{static from(S,T,N,L,F,q){const Z=new at(S.message,T||S.code,N,L,F);return Z.cause=S,Z.name=S.name,q&&Object.assign(Z,q),Z}constructor(S,T,N,L,F){super(S),this.name="AxiosError",this.isAxiosError=!0,T&&(this.code=T),N&&(this.config=N),L&&(this.request=L),F&&(this.response=F,this.status=F.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}}at.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",at.ERR_BAD_OPTION="ERR_BAD_OPTION",at.ECONNABORTED="ECONNABORTED",at.ETIMEDOUT="ETIMEDOUT",at.ERR_NETWORK="ERR_NETWORK",at.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",at.ERR_DEPRECATED="ERR_DEPRECATED",at.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",at.ERR_BAD_REQUEST="ERR_BAD_REQUEST",at.ERR_CANCELED="ERR_CANCELED",at.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",at.ERR_INVALID_URL="ERR_INVALID_URL";var Pe=at,as=null;function Kt(y){return z.isPlainObject(y)||z.isArray(y)}function Fr(y){return z.endsWith(y,"[]")?y.slice(0,-2):y}function Hr(y,S,T){return y?y.concat(S).map(function(L,F){return L=Fr(L),!T&&F?"["+L+"]":L}).join(T?".":""):S}function oi(y){return z.isArray(y)&&!y.some(Kt)}const ai=z.toFlatObject(z,{},null,function(S){return/^is[A-Z]/.test(S)});function Br(y,S,T){if(!z.isObject(y))throw new TypeError("target must be an object");S=S||new FormData,T=z.toFlatObject(T,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ce,me){return!z.isUndefined(me[Ce])});const N=T.metaTokens,L=T.visitor||oe,F=T.dots,q=T.indexes,pe=(T.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(S);if(!z.isFunction(L))throw new TypeError("visitor must be a function");function ce(ae){if(ae===null)return"";if(z.isDate(ae))return ae.toISOString();if(z.isBoolean(ae))return ae.toString();if(!pe&&z.isBlob(ae))throw new Pe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(ae)||z.isTypedArray(ae)?pe&&typeof Blob=="function"?new Blob([ae]):Buffer.from(ae):ae}function oe(ae,Ce,me){let Qe=ae;if(ae&&!me&&typeof ae=="object"){if(z.endsWith(Ce,"{}"))Ce=N?Ce:Ce.slice(0,-2),ae=JSON.stringify(ae);else if(z.isArray(ae)&&oi(ae)||(z.isFileList(ae)||z.endsWith(Ce,"[]"))&&(Qe=z.toArray(ae)))return Ce=Fr(Ce),Qe.forEach(function(st,yt){!(z.isUndefined(st)||st===null)&&S.append(q===!0?Hr([Ce],yt,F):q===null?Ce:Ce+"[]",ce(st))}),!1}return Kt(ae)?!0:(S.append(Hr(me,Ce,F),ce(ae)),!1)}const ye=[],Be=Object.assign(ai,{defaultVisitor:oe,convertValue:ce,isVisitable:Kt});function lt(ae,Ce){if(!z.isUndefined(ae)){if(ye.indexOf(ae)!==-1)throw Error("Circular reference detected in "+Ce.join("."));ye.push(ae),z.forEach(ae,function(Qe,xt){(!(z.isUndefined(Qe)||Qe===null)&&L.call(S,Qe,z.isString(xt)?xt.trim():xt,Ce,Be))===!0&&lt(Qe,Ce?Ce.concat(xt):[xt])}),ye.pop()}}if(!z.isObject(y))throw new TypeError("data must be an object");return lt(y),S}function yn(y){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(y).replace(/[!'()~]|%20|%00/g,function(N){return S[N]})}function an(y,S){this._pairs=[],y&&Br(y,this,S)}const ln=an.prototype;ln.append=function(S,T){this._pairs.push([S,T])},ln.toString=function(S){const T=S?function(N){return S.call(this,N,yn)}:yn;return this._pairs.map(function(L){return T(L[0])+"="+T(L[1])},"").join("&")};function mr(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mn(y,S,T){if(!S)return y;const N=T&&T.encode||mr,L=z.isFunction(T)?{serialize:T}:T,F=L&&L.serialize;let q;if(F?q=F(S,L):q=z.isURLSearchParams(S)?S.toString():new an(S,L).toString(N),q){const Z=y.indexOf("#");Z!==-1&&(y=y.slice(0,Z)),y+=(y.indexOf("?")===-1?"?":"&")+q}return y}class vn{constructor(){this.handlers=[]}use(S,T,N){return this.handlers.push({fulfilled:S,rejected:T,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){z.forEach(this.handlers,function(N){N!==null&&S(N)})}}var Tr=vn,qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ge=typeof URLSearchParams<"u"?URLSearchParams:an,Tt=typeof FormData<"u"?FormData:null,Nt=typeof Blob<"u"?Blob:null,Vt={isBrowser:!0,classes:{URLSearchParams:Ge,FormData:Tt,Blob:Nt},protocols:["http","https","file","blob","url","data"]};const gr=typeof window<"u"&&typeof document<"u",Et=typeof navigator=="object"&&navigator||void 0,Dt=gr&&(!Et||["ReactNative","NativeScript","NS"].indexOf(Et.product)<0),En=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qt=gr&&window.location.href||"http://localhost";var ur=Object.freeze({__proto__:null,hasBrowserEnv:gr,hasStandardBrowserWebWorkerEnv:En,hasStandardBrowserEnv:Dt,navigator:Et,origin:qt}),et={...ur,...Vt};function yr(y,S){return Br(y,new et.classes.URLSearchParams,{visitor:function(T,N,L,F){return et.isNode&&z.isBuffer(T)?(this.append(N,T.toString("base64")),!1):F.defaultVisitor.apply(this,arguments)},...S})}function _s(y){return z.matchAll(/\w+|\[(\w*)]/g,y).map(S=>S[0]==="[]"?"":S[1]||S[0])}function qi(y){const S={},T=Object.keys(y);let N;const L=T.length;let F;for(N=0;N<L;N++)F=T[N],S[F]=y[F];return S}function Fi(y){function S(T,N,L,F){let q=T[F++];if(q==="__proto__")return!0;const Z=Number.isFinite(+q),pe=F>=T.length;return q=!q&&z.isArray(L)?L.length:q,pe?(z.hasOwnProp(L,q)?L[q]=[L[q],N]:L[q]=N,!Z):((!L[q]||!z.isObject(L[q]))&&(L[q]=[]),S(T,N,L[q],F)&&z.isArray(L[q])&&(L[q]=qi(L[q])),!Z)}if(z.isFormData(y)&&z.isFunction(y.entries)){const T={};return z.forEachEntry(y,(N,L)=>{S(_s(N),L,T,0)}),T}return null}function qa(y,S,T){if(z.isString(y))try{return(S||JSON.parse)(y),z.trim(y)}catch(N){if(N.name!=="SyntaxError")throw N}return(T||JSON.stringify)(y)}const Rs={transitional:qn,adapter:["xhr","http","fetch"],transformRequest:[function(S,T){const N=T.getContentType()||"",L=N.indexOf("application/json")>-1,F=z.isObject(S);if(F&&z.isHTMLForm(S)&&(S=new FormData(S)),z.isFormData(S))return L?JSON.stringify(Fi(S)):S;if(z.isArrayBuffer(S)||z.isBuffer(S)||z.isStream(S)||z.isFile(S)||z.isBlob(S)||z.isReadableStream(S))return S;if(z.isArrayBufferView(S))return S.buffer;if(z.isURLSearchParams(S))return T.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let Z;if(F){if(N.indexOf("application/x-www-form-urlencoded")>-1)return yr(S,this.formSerializer).toString();if((Z=z.isFileList(S))||N.indexOf("multipart/form-data")>-1){const pe=this.env&&this.env.FormData;return Br(Z?{"files[]":S}:S,pe&&new pe,this.formSerializer)}}return F||L?(T.setContentType("application/json",!1),qa(S)):S}],transformResponse:[function(S){const T=this.transitional||Rs.transitional,N=T&&T.forcedJSONParsing,L=this.responseType==="json";if(z.isResponse(S)||z.isReadableStream(S))return S;if(S&&z.isString(S)&&(N&&!this.responseType||L)){const q=!(T&&T.silentJSONParsing)&&L;try{return JSON.parse(S,this.parseReviver)}catch(Z){if(q)throw Z.name==="SyntaxError"?Pe.from(Z,Pe.ERR_BAD_RESPONSE,this,null,this.response):Z}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:et.classes.FormData,Blob:et.classes.Blob},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],y=>{Rs.headers[y]={}});var _r=Rs;const Mo=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var qo=y=>{const S={};let T,N,L;return y&&y.split(`
`).forEach(function(q){L=q.indexOf(":"),T=q.substring(0,L).trim().toLowerCase(),N=q.substring(L+1).trim(),!(!T||S[T]&&Mo[T])&&(T==="set-cookie"?S[T]?S[T].push(N):S[T]=[N]:S[T]=S[T]?S[T]+", "+N:N)}),S};const Hi=Symbol("internals");function zr(y){return y&&String(y).trim().toLowerCase()}function wn(y){return y===!1||y==null?y:z.isArray(y)?y.map(wn):String(y)}function Fo(y){const S=Object.create(null),T=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let N;for(;N=T.exec(y);)S[N[1]]=N[2];return S}const Ho=y=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(y.trim());function ks(y,S,T,N,L){if(z.isFunction(N))return N.call(this,S,T);if(L&&(S=T),!!z.isString(S)){if(z.isString(N))return S.indexOf(N)!==-1;if(z.isRegExp(N))return N.test(S)}}function Fa(y){return y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,T,N)=>T.toUpperCase()+N)}function _t(y,S){const T=z.toCamelCase(" "+S);["get","set","has"].forEach(N=>{Object.defineProperty(y,N+T,{value:function(L,F,q){return this[N].call(this,S,L,F,q)},configurable:!0})})}class Fn{constructor(S){S&&this.set(S)}set(S,T,N){const L=this;function F(Z,pe,ce){const oe=zr(pe);if(!oe)throw new Error("header name must be a non-empty string");const ye=z.findKey(L,oe);(!ye||L[ye]===void 0||ce===!0||ce===void 0&&L[ye]!==!1)&&(L[ye||pe]=wn(Z))}const q=(Z,pe)=>z.forEach(Z,(ce,oe)=>F(ce,oe,pe));if(z.isPlainObject(S)||S instanceof this.constructor)q(S,T);else if(z.isString(S)&&(S=S.trim())&&!Ho(S))q(qo(S),T);else if(z.isObject(S)&&z.isIterable(S)){let Z={},pe,ce;for(const oe of S){if(!z.isArray(oe))throw TypeError("Object iterator must return a key-value pair");Z[ce=oe[0]]=(pe=Z[ce])?z.isArray(pe)?[...pe,oe[1]]:[pe,oe[1]]:oe[1]}q(Z,T)}else S!=null&&F(T,S,N);return this}get(S,T){if(S=zr(S),S){const N=z.findKey(this,S);if(N){const L=this[N];if(!T)return L;if(T===!0)return Fo(L);if(z.isFunction(T))return T.call(this,L,N);if(z.isRegExp(T))return T.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,T){if(S=zr(S),S){const N=z.findKey(this,S);return!!(N&&this[N]!==void 0&&(!T||ks(this,this[N],N,T)))}return!1}delete(S,T){const N=this;let L=!1;function F(q){if(q=zr(q),q){const Z=z.findKey(N,q);Z&&(!T||ks(N,N[Z],Z,T))&&(delete N[Z],L=!0)}}return z.isArray(S)?S.forEach(F):F(S),L}clear(S){const T=Object.keys(this);let N=T.length,L=!1;for(;N--;){const F=T[N];(!S||ks(this,this[F],F,S,!0))&&(delete this[F],L=!0)}return L}normalize(S){const T=this,N={};return z.forEach(this,(L,F)=>{const q=z.findKey(N,F);if(q){T[q]=wn(L),delete T[F];return}const Z=S?Fa(F):String(F).trim();Z!==F&&delete T[F],T[Z]=wn(L),N[Z]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const T=Object.create(null);return z.forEach(this,(N,L)=>{N!=null&&N!==!1&&(T[L]=S&&z.isArray(N)?N.join(", "):N)}),T}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,T])=>S+": "+T).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...T){const N=new this(S);return T.forEach(L=>N.set(L)),N}static accessor(S){const N=(this[Hi]=this[Hi]={accessors:{}}).accessors,L=this.prototype;function F(q){const Z=zr(q);N[Z]||(_t(L,q),N[Z]=!0)}return z.isArray(S)?S.forEach(F):F(S),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),z.reduceDescriptors(Fn.prototype,({value:y},S)=>{let T=S[0].toUpperCase()+S.slice(1);return{get:()=>y,set(N){this[T]=N}}}),z.freezeMethods(Fn);var bt=Fn;function ls(y,S){const T=this||_r,N=S||T,L=bt.from(N.headers);let F=N.data;return z.forEach(y,function(Z){F=Z.call(T,F,L.normalize(),S?S.status:void 0)}),L.normalize(),F}function cs(y){return!!(y&&y.__CANCEL__)}class Ha extends Pe{constructor(S,T,N){super(S??"canceled",Pe.ERR_CANCELED,T,N),this.name="CanceledError",this.__CANCEL__=!0}}var Wr=Ha;function us(y,S,T){const N=T.config.validateStatus;!T.status||!N||N(T.status)?y(T):S(new Pe("Request failed with status code "+T.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(T.status/100)-4],T.config,T.request,T))}function Kr(y){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y);return S&&S[1]||""}function Ba(y,S){y=y||10;const T=new Array(y),N=new Array(y);let L=0,F=0,q;return S=S!==void 0?S:1e3,function(pe){const ce=Date.now(),oe=N[F];q||(q=ce),T[L]=pe,N[L]=ce;let ye=F,Be=0;for(;ye!==L;)Be+=T[ye++],ye=ye%y;if(L=(L+1)%y,L===F&&(F=(F+1)%y),ce-q<S)return;const lt=oe&&ce-oe;return lt?Math.round(Be*1e3/lt):void 0}}function Rr(y,S){let T=0,N=1e3/S,L,F;const q=(ce,oe=Date.now())=>{T=oe,L=null,F&&(clearTimeout(F),F=null),y(...ce)};return[(...ce)=>{const oe=Date.now(),ye=oe-T;ye>=N?q(ce,oe):(L=ce,F||(F=setTimeout(()=>{F=null,q(L)},N-ye)))},()=>L&&q(L)]}const Hn=(y,S,T=3)=>{let N=0;const L=Ba(50,250);return Rr(F=>{const q=F.loaded,Z=F.lengthComputable?F.total:void 0,pe=q-N,ce=L(pe),oe=q<=Z;N=q;const ye={loaded:q,total:Z,progress:Z?q/Z:void 0,bytes:pe,rate:ce||void 0,estimated:ce&&Z&&oe?(Z-q)/ce:void 0,event:F,lengthComputable:Z!=null,[S?"download":"upload"]:!0};y(ye)},T)},Bi=(y,S)=>{const T=y!=null;return[N=>S[0]({lengthComputable:T,total:y,loaded:N}),S[1]]},zi=y=>(...S)=>z.asap(()=>y(...S));var li=et.hasStandardBrowserEnv?((y,S)=>T=>(T=new URL(T,et.origin),y.protocol===T.protocol&&y.host===T.host&&(S||y.port===T.port)))(new URL(et.origin),et.navigator&&/(msie|trident)/i.test(et.navigator.userAgent)):()=>!0,ci=et.hasStandardBrowserEnv?{write(y,S,T,N,L,F,q){if(typeof document>"u")return;const Z=[`${y}=${encodeURIComponent(S)}`];z.isNumber(T)&&Z.push(`expires=${new Date(T).toUTCString()}`),z.isString(N)&&Z.push(`path=${N}`),z.isString(L)&&Z.push(`domain=${L}`),F===!0&&Z.push("secure"),z.isString(q)&&Z.push(`SameSite=${q}`),document.cookie=Z.join("; ")},read(y){if(typeof document>"u")return null;const S=document.cookie.match(new RegExp("(?:^|; )"+y+"=([^;]*)"));return S?decodeURIComponent(S[1]):null},remove(y){this.write(y,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function As(y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(y)}function ui(y,S){return S?y.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):y}function Wi(y,S,T){let N=!As(S);return y&&(N||T==!1)?ui(y,S):S}const Ki=y=>y instanceof bt?{...y}:y;function Xt(y,S){S=S||{};const T={};function N(ce,oe,ye,Be){return z.isPlainObject(ce)&&z.isPlainObject(oe)?z.merge.call({caseless:Be},ce,oe):z.isPlainObject(oe)?z.merge({},oe):z.isArray(oe)?oe.slice():oe}function L(ce,oe,ye,Be){if(z.isUndefined(oe)){if(!z.isUndefined(ce))return N(void 0,ce,ye,Be)}else return N(ce,oe,ye,Be)}function F(ce,oe){if(!z.isUndefined(oe))return N(void 0,oe)}function q(ce,oe){if(z.isUndefined(oe)){if(!z.isUndefined(ce))return N(void 0,ce)}else return N(void 0,oe)}function Z(ce,oe,ye){if(ye in S)return N(ce,oe);if(ye in y)return N(void 0,ce)}const pe={url:F,method:F,data:F,baseURL:q,transformRequest:q,transformResponse:q,paramsSerializer:q,timeout:q,timeoutMessage:q,withCredentials:q,withXSRFToken:q,adapter:q,responseType:q,xsrfCookieName:q,xsrfHeaderName:q,onUploadProgress:q,onDownloadProgress:q,decompress:q,maxContentLength:q,maxBodyLength:q,beforeRedirect:q,transport:q,httpAgent:q,httpsAgent:q,cancelToken:q,socketPath:q,responseEncoding:q,validateStatus:Z,headers:(ce,oe,ye)=>L(Ki(ce),Ki(oe),ye,!0)};return z.forEach(Object.keys({...y,...S}),function(oe){const ye=pe[oe]||L,Be=ye(y[oe],S[oe],oe);z.isUndefined(Be)&&ye!==Z||(T[oe]=Be)}),T}var di=y=>{const S=Xt({},y);let{data:T,withXSRFToken:N,xsrfHeaderName:L,xsrfCookieName:F,headers:q,auth:Z}=S;if(S.headers=q=bt.from(q),S.url=Mn(Wi(S.baseURL,S.url,S.allowAbsoluteUrls),y.params,y.paramsSerializer),Z&&q.set("Authorization","Basic "+btoa((Z.username||"")+":"+(Z.password?unescape(encodeURIComponent(Z.password)):""))),z.isFormData(T)){if(et.hasStandardBrowserEnv||et.hasStandardBrowserWebWorkerEnv)q.setContentType(void 0);else if(z.isFunction(T.getHeaders)){const pe=T.getHeaders(),ce=["content-type","content-length"];Object.entries(pe).forEach(([oe,ye])=>{ce.includes(oe.toLowerCase())&&q.set(oe,ye)})}}if(et.hasStandardBrowserEnv&&(N&&z.isFunction(N)&&(N=N(S)),N||N!==!1&&li(S.url))){const pe=L&&F&&ci.read(F);pe&&q.set(L,pe)}return S},Is=typeof XMLHttpRequest<"u"&&function(y){return new Promise(function(T,N){const L=di(y);let F=L.data;const q=bt.from(L.headers).normalize();let{responseType:Z,onUploadProgress:pe,onDownloadProgress:ce}=L,oe,ye,Be,lt,ae;function Ce(){lt&&lt(),ae&&ae(),L.cancelToken&&L.cancelToken.unsubscribe(oe),L.signal&&L.signal.removeEventListener("abort",oe)}let me=new XMLHttpRequest;me.open(L.method.toUpperCase(),L.url,!0),me.timeout=L.timeout;function Qe(){if(!me)return;const st=bt.from("getAllResponseHeaders"in me&&me.getAllResponseHeaders()),Rt={data:!Z||Z==="text"||Z==="json"?me.responseText:me.response,status:me.status,statusText:me.statusText,headers:st,config:y,request:me};us(function(St){T(St),Ce()},function(St){N(St),Ce()},Rt),me=null}"onloadend"in me?me.onloadend=Qe:me.onreadystatechange=function(){!me||me.readyState!==4||me.status===0&&!(me.responseURL&&me.responseURL.indexOf("file:")===0)||setTimeout(Qe)},me.onabort=function(){me&&(N(new Pe("Request aborted",Pe.ECONNABORTED,y,me)),me=null)},me.onerror=function(yt){const Rt=yt&&yt.message?yt.message:"Network Error",dr=new Pe(Rt,Pe.ERR_NETWORK,y,me);dr.event=yt||null,N(dr),me=null},me.ontimeout=function(){let yt=L.timeout?"timeout of "+L.timeout+"ms exceeded":"timeout exceeded";const Rt=L.transitional||qn;L.timeoutErrorMessage&&(yt=L.timeoutErrorMessage),N(new Pe(yt,Rt.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,y,me)),me=null},F===void 0&&q.setContentType(null),"setRequestHeader"in me&&z.forEach(q.toJSON(),function(yt,Rt){me.setRequestHeader(Rt,yt)}),z.isUndefined(L.withCredentials)||(me.withCredentials=!!L.withCredentials),Z&&Z!=="json"&&(me.responseType=L.responseType),ce&&([Be,ae]=Hn(ce,!0),me.addEventListener("progress",Be)),pe&&me.upload&&([ye,lt]=Hn(pe),me.upload.addEventListener("progress",ye),me.upload.addEventListener("loadend",lt)),(L.cancelToken||L.signal)&&(oe=st=>{me&&(N(!st||st.type?new Wr(null,y,me):st),me.abort(),me=null)},L.cancelToken&&L.cancelToken.subscribe(oe),L.signal&&(L.signal.aborted?oe():L.signal.addEventListener("abort",oe)));const xt=Kr(L.url);if(xt&&et.protocols.indexOf(xt)===-1){N(new Pe("Unsupported protocol "+xt+":",Pe.ERR_BAD_REQUEST,y));return}me.send(F||null)})},Vi=(y,S)=>{const{length:T}=y=y?y.filter(Boolean):[];if(S||T){let N=new AbortController,L;const F=function(ce){if(!L){L=!0,Z();const oe=ce instanceof Error?ce:this.reason;N.abort(oe instanceof Pe?oe:new Wr(oe instanceof Error?oe.message:oe))}};let q=S&&setTimeout(()=>{q=null,F(new Pe(`timeout of ${S}ms exceeded`,Pe.ETIMEDOUT))},S);const Z=()=>{y&&(q&&clearTimeout(q),q=null,y.forEach(ce=>{ce.unsubscribe?ce.unsubscribe(F):ce.removeEventListener("abort",F)}),y=null)};y.forEach(ce=>ce.addEventListener("abort",F));const{signal:pe}=N;return pe.unsubscribe=()=>z.asap(Z),pe}};const ft=function*(y,S){let T=y.byteLength;if(T<S){yield y;return}let N=0,L;for(;N<T;)L=N+S,yield y.slice(N,L),N=L},Bo=async function*(y,S){for await(const T of zo(y))yield*ft(T,S)},zo=async function*(y){if(y[Symbol.asyncIterator]){yield*y;return}const S=y.getReader();try{for(;;){const{done:T,value:N}=await S.read();if(T)break;yield N}}finally{await S.cancel()}},Ps=(y,S,T,N)=>{const L=Bo(y,S);let F=0,q,Z=pe=>{q||(q=!0,N&&N(pe))};return new ReadableStream({async pull(pe){try{const{done:ce,value:oe}=await L.next();if(ce){Z(),pe.close();return}let ye=oe.byteLength;if(T){let Be=F+=ye;T(Be)}pe.enqueue(new Uint8Array(oe))}catch(ce){throw Z(ce),ce}},cancel(pe){return Z(pe),L.return()}},{highWaterMark:2})},fi=64*1024,{isFunction:Sn}=z,Wo=(({Request:y,Response:S})=>({Request:y,Response:S}))(z.global),{ReadableStream:Ns,TextEncoder:ds}=z.global,Vr=(y,...S)=>{try{return!!y(...S)}catch{return!1}},bn=y=>{y=z.merge.call({skipUndefined:!0},Wo,y);const{fetch:S,Request:T,Response:N}=y,L=S?Sn(S):typeof fetch=="function",F=Sn(T),q=Sn(N);if(!L)return!1;const Z=L&&Sn(Ns),pe=L&&(typeof ds=="function"?(ae=>Ce=>ae.encode(Ce))(new ds):async ae=>new Uint8Array(await new T(ae).arrayBuffer())),ce=F&&Z&&Vr(()=>{let ae=!1;const Ce=new T(et.origin,{body:new Ns,method:"POST",get duplex(){return ae=!0,"half"}}).headers.has("Content-Type");return ae&&!Ce}),oe=q&&Z&&Vr(()=>z.isReadableStream(new N("").body)),ye={stream:oe&&(ae=>ae.body)};L&&["text","arrayBuffer","blob","formData","stream"].forEach(ae=>{!ye[ae]&&(ye[ae]=(Ce,me)=>{let Qe=Ce&&Ce[ae];if(Qe)return Qe.call(Ce);throw new Pe(`Response type '${ae}' is not supported`,Pe.ERR_NOT_SUPPORT,me)})});const Be=async ae=>{if(ae==null)return 0;if(z.isBlob(ae))return ae.size;if(z.isSpecCompliantForm(ae))return(await new T(et.origin,{method:"POST",body:ae}).arrayBuffer()).byteLength;if(z.isArrayBufferView(ae)||z.isArrayBuffer(ae))return ae.byteLength;if(z.isURLSearchParams(ae)&&(ae=ae+""),z.isString(ae))return(await pe(ae)).byteLength},lt=async(ae,Ce)=>{const me=z.toFiniteNumber(ae.getContentLength());return me??Be(Ce)};return async ae=>{let{url:Ce,method:me,data:Qe,signal:xt,cancelToken:st,timeout:yt,onDownloadProgress:Rt,onUploadProgress:dr,responseType:St,headers:Us,withCredentials:Kn="same-origin",fetchOptions:Yi}=di(ae),Qi=S||fetch;St=St?(St+"").toLowerCase():"text";let un=Vi([xt,st&&st.toAbortSignal()],yt),dn=null;const fr=un&&un.unsubscribe&&(()=>{un.unsubscribe()});let Zi;try{if(dr&&ce&&me!=="get"&&me!=="head"&&(Zi=await lt(Us,Qe))!==0){let Qt=new T(Ce,{method:"POST",body:Qe,duplex:"half"}),Ar;if(z.isFormData(Qe)&&(Ar=Qt.headers.get("content-type"))&&Us.setContentType(Ar),Qt.body){const[$s,fn]=Bi(Zi,Hn(zi(dr)));Qe=Ps(Qt.body,fi,$s,fn)}}z.isString(Kn)||(Kn=Kn?"include":"omit");const It=F&&"credentials"in T.prototype,eo={...Yi,signal:un,method:me.toUpperCase(),headers:Us.normalize().toJSON(),body:Qe,duplex:"half",credentials:It?Kn:void 0};dn=F&&new T(Ce,eo);let Yt=await(F?Qi(dn,Yi):Qi(Ce,eo));const to=oe&&(St==="stream"||St==="response");if(oe&&(Rt||to&&fr)){const Qt={};["status","statusText","headers"].forEach(Vn=>{Qt[Vn]=Yt[Vn]});const Ar=z.toFiniteNumber(Yt.headers.get("content-length")),[$s,fn]=Rt&&Bi(Ar,Hn(zi(Rt),!0))||[];Yt=new N(Ps(Yt.body,fi,$s,()=>{fn&&fn(),fr&&fr()}),Qt)}St=St||"text";let Ka=await ye[z.findKey(ye,St)||"text"](Yt,ae);return!to&&fr&&fr(),await new Promise((Qt,Ar)=>{us(Qt,Ar,{data:Ka,headers:bt.from(Yt.headers),status:Yt.status,statusText:Yt.statusText,config:ae,request:dn})})}catch(It){throw fr&&fr(),It&&It.name==="TypeError"&&/Load failed|fetch/i.test(It.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,ae,dn),{cause:It.cause||It}):Pe.from(It,It&&It.code,ae,dn)}}},xn=new Map,Bn=y=>{let S=y&&y.env||{};const{fetch:T,Request:N,Response:L}=S,F=[N,L,T];let q=F.length,Z=q,pe,ce,oe=xn;for(;Z--;)pe=F[Z],ce=oe.get(pe),ce===void 0&&oe.set(pe,ce=Z?new Map:bn(S)),oe=ce;return ce};Bn();const cn={http:as,xhr:Is,fetch:{get:Bn}};z.forEach(cn,(y,S)=>{if(y){try{Object.defineProperty(y,"name",{value:S})}catch{}Object.defineProperty(y,"adapterName",{value:S})}});const Gr=y=>`- ${y}`,Wa=y=>z.isFunction(y)||y===null||y===!1;function Ko(y,S){y=z.isArray(y)?y:[y];const{length:T}=y;let N,L;const F={};for(let q=0;q<T;q++){N=y[q];let Z;if(L=N,!Wa(N)&&(L=cn[(Z=String(N)).toLowerCase()],L===void 0))throw new Pe(`Unknown adapter '${Z}'`);if(L&&(z.isFunction(L)||(L=L.get(S))))break;F[Z||"#"+q]=L}if(!L){const q=Object.entries(F).map(([pe,ce])=>`adapter ${pe} `+(ce===!1?"is not supported by the environment":"is not available in the build"));let Z=T?q.length>1?`since :
`+q.map(Gr).join(`
`):" "+Gr(q[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return L}var zn={getAdapter:Ko,adapters:cn};function Os(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new Wr(null,y)}function hi(y){return Os(y),y.headers=bt.from(y.headers),y.data=ls.call(y,y.transformRequest),["post","put","patch"].indexOf(y.method)!==-1&&y.headers.setContentType("application/x-www-form-urlencoded",!1),zn.getAdapter(y.adapter||_r.adapter,y)(y).then(function(N){return Os(y),N.data=ls.call(y,y.transformResponse,N),N.headers=bt.from(N.headers),N},function(N){return cs(N)||(Os(y),N&&N.response&&(N.response.data=ls.call(y,y.transformResponse,N.response),N.response.headers=bt.from(N.response.headers))),Promise.reject(N)})}const fs="1.13.4",Cn={};["object","boolean","number","function","string","symbol"].forEach((y,S)=>{Cn[y]=function(N){return typeof N===y||"a"+(S<1?"n ":" ")+y}});const Gi={};Cn.transitional=function(S,T,N){function L(F,q){return"[Axios v"+fs+"] Transitional option '"+F+"'"+q+(N?". "+N:"")}return(F,q,Z)=>{if(S===!1)throw new Pe(L(q," has been removed"+(T?" in "+T:"")),Pe.ERR_DEPRECATED);return T&&!Gi[q]&&(Gi[q]=!0,console.warn(L(q," has been deprecated since v"+T+" and will be removed in the near future"))),S?S(F,q,Z):!0}},Cn.spelling=function(S){return(T,N)=>(console.warn(`${N} is likely a misspelling of ${S}`),!0)};function js(y,S,T){if(typeof y!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const N=Object.keys(y);let L=N.length;for(;L-- >0;){const F=N[L],q=S[F];if(q){const Z=y[F],pe=Z===void 0||q(Z,F,y);if(pe!==!0)throw new Pe("option "+F+" must be "+pe,Pe.ERR_BAD_OPTION_VALUE);continue}if(T!==!0)throw new Pe("Unknown option "+F,Pe.ERR_BAD_OPTION)}}var kr={assertOptions:js,validators:Cn};const wt=kr.validators;class Jr{constructor(S){this.defaults=S||{},this.interceptors={request:new Tr,response:new Tr}}async request(S,T){try{return await this._request(S,T)}catch(N){if(N instanceof Error){let L={};Error.captureStackTrace?Error.captureStackTrace(L):L=new Error;const F=L.stack?L.stack.replace(/^.+\n/,""):"";try{N.stack?F&&!String(N.stack).endsWith(F.replace(/^.+\n.+\n/,""))&&(N.stack+=`
`+F):N.stack=F}catch{}}throw N}}_request(S,T){typeof S=="string"?(T=T||{},T.url=S):T=S||{},T=Xt(this.defaults,T);const{transitional:N,paramsSerializer:L,headers:F}=T;N!==void 0&&kr.assertOptions(N,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),L!=null&&(z.isFunction(L)?T.paramsSerializer={serialize:L}:kr.assertOptions(L,{encode:wt.function,serialize:wt.function},!0)),T.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?T.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:T.allowAbsoluteUrls=!0),kr.assertOptions(T,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),T.method=(T.method||this.defaults.method||"get").toLowerCase();let q=F&&z.merge(F.common,F[T.method]);F&&z.forEach(["delete","get","head","post","put","patch","common"],ae=>{delete F[ae]}),T.headers=bt.concat(q,F);const Z=[];let pe=!0;this.interceptors.request.forEach(function(Ce){typeof Ce.runWhen=="function"&&Ce.runWhen(T)===!1||(pe=pe&&Ce.synchronous,Z.unshift(Ce.fulfilled,Ce.rejected))});const ce=[];this.interceptors.response.forEach(function(Ce){ce.push(Ce.fulfilled,Ce.rejected)});let oe,ye=0,Be;if(!pe){const ae=[hi.bind(this),void 0];for(ae.unshift(...Z),ae.push(...ce),Be=ae.length,oe=Promise.resolve(T);ye<Be;)oe=oe.then(ae[ye++],ae[ye++]);return oe}Be=Z.length;let lt=T;for(;ye<Be;){const ae=Z[ye++],Ce=Z[ye++];try{lt=ae(lt)}catch(me){Ce.call(this,me);break}}try{oe=hi.call(this,lt)}catch(ae){return Promise.reject(ae)}for(ye=0,Be=ce.length;ye<Be;)oe=oe.then(ce[ye++],ce[ye++]);return oe}getUri(S){S=Xt(this.defaults,S);const T=Wi(S.baseURL,S.url,S.allowAbsoluteUrls);return Mn(T,S.params,S.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(S){Jr.prototype[S]=function(T,N){return this.request(Xt(N||{},{method:S,url:T,data:(N||{}).data}))}}),z.forEach(["post","put","patch"],function(S){function T(N){return function(F,q,Z){return this.request(Xt(Z||{},{method:S,headers:N?{"Content-Type":"multipart/form-data"}:{},url:F,data:q}))}}Jr.prototype[S]=T(),Jr.prototype[S+"Form"]=T(!0)});var Wn=Jr;class Ls{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let T;this.promise=new Promise(function(F){T=F});const N=this;this.promise.then(L=>{if(!N._listeners)return;let F=N._listeners.length;for(;F-- >0;)N._listeners[F](L);N._listeners=null}),this.promise.then=L=>{let F;const q=new Promise(Z=>{N.subscribe(Z),F=Z}).then(L);return q.cancel=function(){N.unsubscribe(F)},q},S(function(F,q,Z){N.reason||(N.reason=new Wr(F,q,Z),T(N.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const T=this._listeners.indexOf(S);T!==-1&&this._listeners.splice(T,1)}toAbortSignal(){const S=new AbortController,T=N=>{S.abort(N)};return this.subscribe(T),S.signal.unsubscribe=()=>this.unsubscribe(T),S.signal}static source(){let S;return{token:new Ls(function(L){S=L}),cancel:S}}}var Ji=Ls;function pi(y){return function(T){return y.apply(null,T)}}function Xi(y){return z.isObject(y)&&y.isAxiosError===!0}const hs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hs).forEach(([y,S])=>{hs[S]=y});var Tn=hs;function Ds(y){const S=new Wn(y),T=t(Wn.prototype.request,S);return z.extend(T,Wn.prototype,S,{allOwnKeys:!0}),z.extend(T,S,null,{allOwnKeys:!0}),T.create=function(L){return Ds(Xt(y,L))},T}const Xe=Ds(_r);return Xe.Axios=Wn,Xe.CanceledError=Wr,Xe.CancelToken=Ji,Xe.isCancel=cs,Xe.VERSION=fs,Xe.toFormData=Br,Xe.AxiosError=Pe,Xe.Cancel=Xe.CanceledError,Xe.all=function(S){return Promise.all(S)},Xe.spread=pi,Xe.isAxiosError=Xi,Xe.mergeConfig=Xt,Xe.AxiosHeaders=bt,Xe.formToJSON=y=>Fi(z.isHTMLForm(y)?new FormData(y):y),Xe.getAdapter=zn.getAdapter,Xe.HttpStatusCode=Tn,Xe.default=Xe,wh=Xe,wh}const SA={},bA=Object.freeze(Object.defineProperty({__proto__:null,default:SA},Symbol.toStringTag,{value:"Module"})),Li=Sc(bA);var hw;function xA(){if(hw)return Nn;hw=1;var t=Nn&&Nn.__createBinding||(Object.create?(function(u,c,h,f){f===void 0&&(f=h);var p=Object.getOwnPropertyDescriptor(c,h);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(u,f,p)}):(function(u,c,h,f){f===void 0&&(f=h),u[f]=c[h]})),s=Nn&&Nn.__setModuleDefault||(Object.create?(function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}):function(u,c){u.default=c}),n=Nn&&Nn.__importStar||(function(){var u=function(c){return u=Object.getOwnPropertyNames||function(h){var f=[];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[f.length]=p);return f},u(c)};return function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var f=u(c),p=0;p<f.length;p++)f[p]!=="default"&&t(h,c,f[p]);return s(h,c),h}})();Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.extractTokenFromEnvResponse=a,Nn.createEnvTokenClient=l,Nn.fetchEnvironmentTokenResponse=o;const i=bc();function a(u){const c=u,h=c?.data;return h?.data?.token||h?.token||c?.token}async function l(u,c,h){const f=(await Promise.resolve().then(()=>n(wA()))).default,p=await Promise.resolve().then(()=>n(Li)),E=await Promise.resolve().then(()=>n(Li)),P=(0,i.resolveControllerUrl)(u),_=P.startsWith("https://"),C={family:4,timeout:c},R=new AbortController,x=setTimeout(()=>R.abort(),c);return{tempAxios:f.create({baseURL:P,timeout:c,signal:R.signal,httpAgent:_?void 0:new p.Agent(C),httpsAgent:_?new E.Agent(C):void 0,headers:{"Content-Type":"application/json","x-client-id":h,"x-client-secret":u.clientSecret}}),timeoutId:x,controller:R}}async function o(u,c,h,f,p){const E=new Promise((P,_)=>setTimeout(()=>_(new Error(`Request timeout after ${p}ms`)),p));try{const P=await Promise.race([u.post(f),E]);return clearTimeout(c),P}catch(P){throw clearTimeout(c),h.abort(),P}}return Nn}var Es={};const rd={createHash:()=>({update:()=>({digest:()=>""})}),randomBytes:()=>({toString:()=>""})};typeof ze<"u"&&ze.exports&&(ze.exports=rd,ze.exports.default=rd);const CA=Object.freeze(Object.defineProperty({__proto__:null,crypto:rd,default:rd},Symbol.toStringTag,{value:"Module"})),Uo=Sc(CA);var Js={},Ou={exports:{}};const Di=Sc(iR);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var pw;function xc(){return pw||(pw=1,(function(t,s){var n=Di,i=n.Buffer;function a(o,u){for(var c in o)u[c]=o[c]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,s),s.Buffer=l);function l(o,u,c){return i(o,u,c)}l.prototype=Object.create(i.prototype),a(i,l),l.from=function(o,u,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,u,c)},l.alloc=function(o,u,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=i(o);return u!==void 0?typeof c=="string"?h.fill(u,c):h.fill(u):h.fill(0),h},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Ou,Ou.exports)),Ou.exports}class $i{static from(s){return new $i}constructor(){}pipe(){return{}}on(){return this}once(){return Promise.resolve({})}read(){return null}push(){return!0}destroy(){}emit(){return!1}removeListener(){return this}removeAllListeners(){return this}}class hd{write(){return!0}end(){return this}on(){return this}once(){return Promise.resolve({})}destroy(){}}class pd extends $i{_transform(){}}class Lg extends $i{write(){return!0}end(){return this}}class Dg extends pd{}const Lo={Readable:$i,Writable:hd,Transform:pd,Duplex:Lg,PassThrough:Dg};typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=Lo,ze.exports.default=Lo,ze.exports.stream=Lo,ze.exports.Readable=$i,ze.exports.Writable=hd,ze.exports.Transform=pd,ze.exports.Duplex=Lg,ze.exports.PassThrough=Dg);typeof ut<"u"&&(ut.default=Lo,ut.stream=Lo,ut.Readable=$i,ut.Writable=hd,ut.Transform=pd,ut.Duplex=Lg,ut.PassThrough=Dg);const Na=Object.freeze(Object.defineProperty({__proto__:null,Readable:$i,Writable:hd,default:Lo,stream:Lo},Symbol.toStringTag,{value:"Module"}));function md(t,s){if(!s)return;let n=s.prototype;if(!n)try{Object.isExtensible&&Object.isExtensible(s)?(s.prototype={},n=s.prototype):n=Object.prototype}catch{n=Object.prototype}(typeof n!="object"||n===null)&&(n=Object.prototype),t.super_=s;try{t.prototype=Object.create(n,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}catch{try{if(t.prototype=Object.create(Object.prototype),t.prototype.constructor=t,n&&typeof n=="object"&&n!==Object.prototype){for(const a in n)if(n.hasOwnProperty(a))try{t.prototype[a]=n[a]}catch{}}}catch{t.prototype||(t.prototype={}),t.prototype.constructor||(t.prototype.constructor=t)}}}function gd(t){try{return JSON.stringify(t,null,2)}catch{return String(t)}}function yd(t){return function(...s){return new Promise((n,i)=>{t(...s,(a,l)=>{a?i(a):n(l)})})}}function vd(t,s){let n=!1;return function(...i){return n||(console.warn("DeprecationWarning:",s),n=!0),t.apply(this,i)}}const Do={inherits:md,inspect:gd,promisify:yd,deprecate:vd};typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=Do,ze.exports.default=Do,ze.exports.util=Do,ze.exports.inherits=md,ze.exports.inspect=gd,ze.exports.promisify=yd,ze.exports.deprecate=vd);typeof ut<"u"&&(ut.default=Do,ut.util=Do,ut.inherits=md,ut.inspect=gd,ut.promisify=yd,ut.deprecate=vd);const Mi=Object.freeze(Object.defineProperty({__proto__:null,default:Do,deprecate:vd,inherits:md,inspect:gd,promisify:yd,util:Do},Symbol.toStringTag,{value:"Module"}));var Sh,mw;function DC(){if(mw)return Sh;mw=1;var t=xc().Buffer,s=Na,n=Mi;function i(a){if(this.buffer=null,this.writable=!0,this.readable=!0,!a)return this.buffer=t.alloc(0),this;if(typeof a.pipe=="function")return this.buffer=t.alloc(0),a.pipe(this),this;if(a.length||typeof a=="object")return this.buffer=a,this.writable=!1,process.nextTick(function(){this.emit("end",a),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof a+")")}return n.inherits(i,s),i.prototype.write=function(l){this.buffer=t.concat([this.buffer,t.from(l)]),this.emit("data",l)},i.prototype.end=function(l){l&&this.write(l),this.emit("end",l),this.emit("close"),this.writable=!1,this.readable=!1},Sh=i,Sh}var bh,gw;function TA(){if(gw)return bh;gw=1;function t(i){var a=(i/8|0)+(i%8===0?0:1);return a}var s={ES256:t(256),ES384:t(384),ES512:t(521)};function n(i){var a=s[i];if(a)return a;throw new Error('Unknown algorithm "'+i+'"')}return bh=n,bh}var xh,yw;function _A(){if(yw)return xh;yw=1;var t=xc().Buffer,s=TA(),n=128,i=0,a=32,l=16,o=2,u=l|a|i<<6,c=o|i<<6;function h(_){return _.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(_){if(t.isBuffer(_))return _;if(typeof _=="string")return t.from(_,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function p(_,C){_=f(_);var R=s(C),x=R+1,w=_.length,v=0;if(_[v++]!==u)throw new Error('Could not find expected "seq"');var k=_[v++];if(k===(n|1)&&(k=_[v++]),w-v<k)throw new Error('"seq" specified length of "'+k+'", only "'+(w-v)+'" remaining');if(_[v++]!==c)throw new Error('Could not find expected "int" for "r"');var O=_[v++];if(w-v-2<O)throw new Error('"r" specified length of "'+O+'", only "'+(w-v-2)+'" available');if(x<O)throw new Error('"r" specified length of "'+O+'", max of "'+x+'" is acceptable');var j=v;if(v+=O,_[v++]!==c)throw new Error('Could not find expected "int" for "s"');var D=_[v++];if(w-v!==D)throw new Error('"s" specified length of "'+D+'", expected "'+(w-v)+'"');if(x<D)throw new Error('"s" specified length of "'+D+'", max of "'+x+'" is acceptable');var I=v;if(v+=D,v!==w)throw new Error('Expected to consume entire buffer, but "'+(w-v)+'" bytes remain');var H=R-O,G=R-D,ie=t.allocUnsafe(H+O+G+D);for(v=0;v<H;++v)ie[v]=0;_.copy(ie,v,j+Math.max(-H,0),j+O),v=R;for(var he=v;v<he+G;++v)ie[v]=0;return _.copy(ie,v,I+Math.max(-G,0),I+D),ie=ie.toString("base64"),ie=h(ie),ie}function E(_,C,R){for(var x=0;C+x<R&&_[C+x]===0;)++x;var w=_[C+x]>=n;return w&&--x,x}function P(_,C){_=f(_);var R=s(C),x=_.length;if(x!==R*2)throw new TypeError('"'+C+'" signatures must be "'+R*2+'" bytes, saw "'+x+'"');var w=E(_,0,R),v=E(_,R,_.length),k=R-w,O=R-v,j=2+k+1+1+O,D=j<n,I=t.allocUnsafe((D?2:3)+j),H=0;return I[H++]=u,D?I[H++]=j:(I[H++]=n|1,I[H++]=j&255),I[H++]=c,I[H++]=k,w<0?(I[H++]=0,H+=_.copy(I,H,0,R)):H+=_.copy(I,H,w,R),I[H++]=c,I[H++]=O,v<0?(I[H++]=0,_.copy(I,H,R)):_.copy(I,H,R+v),I}return xh={derToJose:p,joseToDer:P},xh}var Ch,vw;function RA(){if(vw)return Ch;vw=1;var t=Di.Buffer,s=Di.SlowBuffer;Ch=n;function n(l,o){if(!t.isBuffer(l)||!t.isBuffer(o)||l.length!==o.length)return!1;for(var u=0,c=0;c<l.length;c++)u|=l[c]^o[c];return u===0}n.install=function(){t.prototype.equal=s.prototype.equal=function(o){return n(this,o)}};var i=t.prototype.equal,a=s.prototype.equal;return n.restore=function(){t.prototype.equal=i,s.prototype.equal=a},Ch}var Th,Ew;function UC(){if(Ew)return Th;Ew=1;var t=xc().Buffer,s=Uo,n=_A(),i=Mi,a=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",o="key must be a string or a buffer",u="key must be a string, a buffer or an object",c=typeof s.createPublicKey=="function";c&&(o+=" or a KeyObject",l+="or a KeyObject");function h(X){if(!t.isBuffer(X)&&typeof X!="string"&&(!c||typeof X!="object"||typeof X.type!="string"||typeof X.asymmetricKeyType!="string"||typeof X.export!="function"))throw _(o)}function f(X){if(!t.isBuffer(X)&&typeof X!="string"&&typeof X!="object")throw _(u)}function p(X){if(!t.isBuffer(X)){if(typeof X=="string")return X;if(!c||typeof X!="object"||X.type!=="secret"||typeof X.export!="function")throw _(l)}}function E(X){return X.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function P(X){X=X.toString();var V=4-X.length%4;if(V!==4)for(var M=0;M<V;++M)X+="=";return X.replace(/\-/g,"+").replace(/_/g,"/")}function _(X){var V=[].slice.call(arguments,1),M=i.format.bind(i,X).apply(null,V);return new TypeError(M)}function C(X){return t.isBuffer(X)||typeof X=="string"}function R(X){return C(X)||(X=JSON.stringify(X)),X}function x(X){return function(M,W){p(W),M=R(M);var B=s.createHmac("sha"+X,W),$=(B.update(M),B.digest("base64"));return E($)}}var w,v="timingSafeEqual"in s?function(V,M){return V.byteLength!==M.byteLength?!1:s.timingSafeEqual(V,M)}:function(V,M){return w||(w=RA()),w(V,M)};function k(X){return function(M,W,B){var $=x(X)(M,B);return v(t.from(W),t.from($))}}function O(X){return function(M,W){f(W),M=R(M);var B=s.createSign("RSA-SHA"+X),$=(B.update(M),B.sign(W,"base64"));return E($)}}function j(X){return function(M,W,B){h(B),M=R(M),W=P(W);var $=s.createVerify("RSA-SHA"+X);return $.update(M),$.verify(B,W,"base64")}}function D(X){return function(M,W){f(W),M=R(M);var B=s.createSign("RSA-SHA"+X),$=(B.update(M),B.sign({key:W,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return E($)}}function I(X){return function(M,W,B){h(B),M=R(M),W=P(W);var $=s.createVerify("RSA-SHA"+X);return $.update(M),$.verify({key:B,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},W,"base64")}}function H(X){var V=O(X);return function(){var W=V.apply(null,arguments);return W=n.derToJose(W,"ES"+X),W}}function G(X){var V=j(X);return function(W,B,$){B=n.joseToDer(B,"ES"+X).toString("base64");var Y=V(W,B,$);return Y}}function ie(){return function(){return""}}function he(){return function(V,M){return M===""}}return Th=function(V){var M={hs:x,rs:O,ps:D,es:H,none:ie},W={hs:k,rs:j,ps:I,es:G,none:he},B=V.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!B)throw _(a,V);var $=(B[1]||B[3]).toLowerCase(),Y=B[2];return{sign:M[$](Y),verify:W[$](Y)}},Th}var _h,ww;function $C(){if(ww)return _h;ww=1;var t=Di.Buffer;return _h=function(n){return typeof n=="string"?n:typeof n=="number"||t.isBuffer(n)?n.toString():JSON.stringify(n)},_h}var Rh,Sw;function kA(){if(Sw)return Rh;Sw=1;var t=xc().Buffer,s=DC(),n=UC(),i=Na,a=$C(),l=Mi;function o(f,p){return t.from(f,p).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(f,p,E){E=E||"utf8";var P=o(a(f),"binary"),_=o(a(p),E);return l.format("%s.%s",P,_)}function c(f){var p=f.header,E=f.payload,P=f.secret||f.privateKey,_=f.encoding,C=n(p.alg),R=u(p,E,_),x=C.sign(R,P);return l.format("%s.%s",R,x)}function h(f){var p=f.secret;if(p=p??f.privateKey,p=p??f.key,/^hs/i.test(f.header.alg)===!0&&p==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var E=new s(p);this.readable=!0,this.header=f.header,this.encoding=f.encoding,this.secret=this.privateKey=this.key=E,this.payload=new s(f.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return l.inherits(h,i),h.prototype.sign=function(){try{var p=c({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",p),this.emit("data",p),this.emit("end"),this.readable=!1,p}catch(E){this.readable=!1,this.emit("error",E),this.emit("close")}},h.sign=c,Rh=h,Rh}var kh,bw;function AA(){if(bw)return kh;bw=1;var t=xc().Buffer,s=DC(),n=UC(),i=Na,a=$C(),l=Mi,o=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(x){return Object.prototype.toString.call(x)==="[object Object]"}function c(x){if(u(x))return x;try{return JSON.parse(x)}catch{return}}function h(x){var w=x.split(".",1)[0];return c(t.from(w,"base64").toString("binary"))}function f(x){return x.split(".",2).join(".")}function p(x){return x.split(".")[2]}function E(x,w){w=w||"utf8";var v=x.split(".")[1];return t.from(v,"base64").toString(w)}function P(x){return o.test(x)&&!!h(x)}function _(x,w,v){if(!w){var k=new Error("Missing algorithm parameter for jws.verify");throw k.code="MISSING_ALGORITHM",k}x=a(x);var O=p(x),j=f(x),D=n(w);return D.verify(j,O,v)}function C(x,w){if(w=w||{},x=a(x),!P(x))return null;var v=h(x);if(!v)return null;var k=E(x);return(v.typ==="JWT"||w.json)&&(k=JSON.parse(k,w.encoding)),{header:v,payload:k,signature:p(x)}}function R(x){x=x||{};var w=x.secret;if(w=w??x.publicKey,w=w??x.key,/^hs/i.test(x.algorithm)===!0&&w==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var v=new s(w);this.readable=!0,this.algorithm=x.algorithm,this.encoding=x.encoding,this.secret=this.publicKey=this.key=v,this.signature=new s(x.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return l.inherits(R,i),R.prototype.verify=function(){try{var w=_(this.signature.buffer,this.algorithm,this.key.buffer),v=C(this.signature.buffer,this.encoding);return this.emit("done",w,v),this.emit("data",w),this.emit("end"),this.readable=!1,w}catch(k){this.readable=!1,this.emit("error",k),this.emit("close")}},R.decode=C,R.isValid=P,R.verify=_,kh=R,kh}var xw;function Ug(){if(xw)return Js;xw=1;var t=kA(),s=AA(),n=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return Js.ALGORITHMS=n,Js.sign=t.sign,Js.verify=s.verify,Js.decode=s.decode,Js.isValid=s.isValid,Js.createSign=function(a){return new t(a)},Js.createVerify=function(a){return new s(a)},Js}var Ah,Cw;function MC(){if(Cw)return Ah;Cw=1;var t=Ug();return Ah=function(s,n){n=n||{};var i=t.decode(s,n);if(!i)return null;var a=i.payload;if(typeof a=="string")try{var l=JSON.parse(a);l!==null&&typeof l=="object"&&(a=l)}catch{}return n.complete===!0?{header:i.header,payload:a,signature:i.signature}:a},Ah}var Ih,Tw;function Ed(){if(Tw)return Ih;Tw=1;var t=function(s,n){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,n&&(this.inner=n)};return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,Ih=t,Ih}var Ph,_w;function qC(){if(_w)return Ph;_w=1;var t=Ed(),s=function(n,i){t.call(this,n),this.name="NotBeforeError",this.date=i};return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Ph=s,Ph}var Nh,Rw;function FC(){if(Rw)return Nh;Rw=1;var t=Ed(),s=function(n,i){t.call(this,n),this.name="TokenExpiredError",this.expiredAt=i};return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Nh=s,Nh}var Oh,kw;function IA(){if(kw)return Oh;kw=1;var t=1e3,s=t*60,n=s*60,i=n*24,a=i*7,l=i*365.25;Oh=function(f,p){p=p||{};var E=typeof f;if(E==="string"&&f.length>0)return o(f);if(E==="number"&&isFinite(f))return p.long?c(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var E=parseFloat(p[1]),P=(p[2]||"ms").toLowerCase();switch(P){case"years":case"year":case"yrs":case"yr":case"y":return E*l;case"weeks":case"week":case"w":return E*a;case"days":case"day":case"d":return E*i;case"hours":case"hour":case"hrs":case"hr":case"h":return E*n;case"minutes":case"minute":case"mins":case"min":case"m":return E*s;case"seconds":case"second":case"secs":case"sec":case"s":return E*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function u(f){var p=Math.abs(f);return p>=i?Math.round(f/i)+"d":p>=n?Math.round(f/n)+"h":p>=s?Math.round(f/s)+"m":p>=t?Math.round(f/t)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=i?h(f,p,i,"day"):p>=n?h(f,p,n,"hour"):p>=s?h(f,p,s,"minute"):p>=t?h(f,p,t,"second"):f+" ms"}function h(f,p,E,P){var _=p>=E*1.5;return Math.round(f/E)+" "+P+(_?"s":"")}return Oh}var jh,Aw;function HC(){if(Aw)return jh;Aw=1;var t=IA();return jh=function(s,n){var i=n||Math.floor(Date.now()/1e3);if(typeof s=="string"){var a=t(s);return typeof a>"u"?void 0:Math.floor(i+a/1e3)}else return typeof s=="number"?i+s:void 0},jh}var ju={exports:{}},Lh,Iw;function wd(){if(Iw)return Lh;Iw=1;const t="2.0.0",s=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=s-6;return Lh={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Lh}var Dh,Pw;function Sd(){if(Pw)return Dh;Pw=1;var t={};return Dh=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Dh}var Nw;function Cc(){return Nw||(Nw=1,(function(t,s){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=wd(),l=Sd();s=t.exports={};const o=s.re=[],u=s.safeRe=[],c=s.src=[],h=s.safeSrc=[],f=s.t={};let p=0;const E="[a-zA-Z0-9-]",P=[["\\s",1],["\\d",a],[E,i]],_=R=>{for(const[x,w]of P)R=R.split(`${x}*`).join(`${x}{0,${w}}`).split(`${x}+`).join(`${x}{1,${w}}`);return R},C=(R,x,w)=>{const v=_(x),k=p++;l(R,k,x),f[R]=k,c[k]=x,h[k]=v,o[k]=new RegExp(x,w?"g":void 0),u[k]=new RegExp(v,w?"g":void 0)};C("NUMERICIDENTIFIER","0|[1-9]\\d*"),C("NUMERICIDENTIFIERLOOSE","\\d+"),C("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),C("MAINVERSION",`(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})`),C("MAINVERSIONLOOSE",`(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASEIDENTIFIER",`(?:${c[f.NONNUMERICIDENTIFIER]}|${c[f.NUMERICIDENTIFIER]})`),C("PRERELEASEIDENTIFIERLOOSE",`(?:${c[f.NONNUMERICIDENTIFIER]}|${c[f.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASE",`(?:-(${c[f.PRERELEASEIDENTIFIER]}(?:\\.${c[f.PRERELEASEIDENTIFIER]})*))`),C("PRERELEASELOOSE",`(?:-?(${c[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[f.PRERELEASEIDENTIFIERLOOSE]})*))`),C("BUILDIDENTIFIER",`${E}+`),C("BUILD",`(?:\\+(${c[f.BUILDIDENTIFIER]}(?:\\.${c[f.BUILDIDENTIFIER]})*))`),C("FULLPLAIN",`v?${c[f.MAINVERSION]}${c[f.PRERELEASE]}?${c[f.BUILD]}?`),C("FULL",`^${c[f.FULLPLAIN]}$`),C("LOOSEPLAIN",`[v=\\s]*${c[f.MAINVERSIONLOOSE]}${c[f.PRERELEASELOOSE]}?${c[f.BUILD]}?`),C("LOOSE",`^${c[f.LOOSEPLAIN]}$`),C("GTLT","((?:<|>)?=?)"),C("XRANGEIDENTIFIERLOOSE",`${c[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),C("XRANGEIDENTIFIER",`${c[f.NUMERICIDENTIFIER]}|x|X|\\*`),C("XRANGEPLAIN",`[v=\\s]*(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:${c[f.PRERELEASE]})?${c[f.BUILD]}?)?)?`),C("XRANGEPLAINLOOSE",`[v=\\s]*(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:${c[f.PRERELEASELOOSE]})?${c[f.BUILD]}?)?)?`),C("XRANGE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAIN]}$`),C("XRANGELOOSE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAINLOOSE]}$`),C("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),C("COERCE",`${c[f.COERCEPLAIN]}(?:$|[^\\d])`),C("COERCEFULL",c[f.COERCEPLAIN]+`(?:${c[f.PRERELEASE]})?(?:${c[f.BUILD]})?(?:$|[^\\d])`),C("COERCERTL",c[f.COERCE],!0),C("COERCERTLFULL",c[f.COERCEFULL],!0),C("LONETILDE","(?:~>?)"),C("TILDETRIM",`(\\s*)${c[f.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",C("TILDE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAIN]}$`),C("TILDELOOSE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAINLOOSE]}$`),C("LONECARET","(?:\\^)"),C("CARETTRIM",`(\\s*)${c[f.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",C("CARET",`^${c[f.LONECARET]}${c[f.XRANGEPLAIN]}$`),C("CARETLOOSE",`^${c[f.LONECARET]}${c[f.XRANGEPLAINLOOSE]}$`),C("COMPARATORLOOSE",`^${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]})$|^$`),C("COMPARATOR",`^${c[f.GTLT]}\\s*(${c[f.FULLPLAIN]})$|^$`),C("COMPARATORTRIM",`(\\s*)${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]}|${c[f.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",C("HYPHENRANGE",`^\\s*(${c[f.XRANGEPLAIN]})\\s+-\\s+(${c[f.XRANGEPLAIN]})\\s*$`),C("HYPHENRANGELOOSE",`^\\s*(${c[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[f.XRANGEPLAINLOOSE]})\\s*$`),C("STAR","(<|>)?=?\\s*\\*"),C("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),C("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ju,ju.exports)),ju.exports}var Uh,Ow;function $g(){if(Ow)return Uh;Ow=1;const t=Object.freeze({loose:!0}),s=Object.freeze({});return Uh=i=>i?typeof i!="object"?t:i:s,Uh}var $h,jw;function BC(){if(jw)return $h;jw=1;const t=/^[0-9]+$/,s=(i,a)=>{if(typeof i=="number"&&typeof a=="number")return i===a?0:i<a?-1:1;const l=t.test(i),o=t.test(a);return l&&o&&(i=+i,a=+a),i===a?0:l&&!o?-1:o&&!l?1:i<a?-1:1};return $h={compareIdentifiers:s,rcompareIdentifiers:(i,a)=>s(a,i)},$h}var Mh,Lw;function $r(){if(Lw)return Mh;Lw=1;const t=Sd(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:n}=wd(),{safeRe:i,t:a}=Cc(),l=$g(),{compareIdentifiers:o}=BC();class u{constructor(h,f){if(f=l(f),h instanceof u){if(h.loose===!!f.loose&&h.includePrerelease===!!f.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>s)throw new TypeError(`version is longer than ${s} characters`);t("SemVer",h,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const p=h.trim().match(f.loose?i[a.LOOSE]:i[a.FULL]);if(!p)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const P=+E;if(P>=0&&P<n)return P}return E}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof u)){if(typeof h=="string"&&h===this.version)return 0;h=new u(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof u||(h=new u(h,this.options)),this.major<h.major?-1:this.major>h.major?1:this.minor<h.minor?-1:this.minor>h.minor?1:this.patch<h.patch?-1:this.patch>h.patch?1:0}comparePre(h){if(h instanceof u||(h=new u(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let f=0;do{const p=this.prerelease[f],E=h.prerelease[f];if(t("prerelease compare",f,p,E),p===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(p===void 0)return-1;if(p===E)continue;return o(p,E)}while(++f)}compareBuild(h){h instanceof u||(h=new u(h,this.options));let f=0;do{const p=this.build[f],E=h.build[f];if(t("build compare",f,p,E),p===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(p===void 0)return-1;if(p===E)continue;return o(p,E)}while(++f)}inc(h,f,p){if(h.startsWith("pre")){if(!f&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const E=`-${f}`.match(this.options.loose?i[a.PRERELEASELOOSE]:i[a.PRERELEASE]);if(!E||E[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,p),this.inc("pre",f,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,p),this.inc("pre",f,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[E];else{let P=this.prerelease.length;for(;--P>=0;)typeof this.prerelease[P]=="number"&&(this.prerelease[P]++,P=-2);if(P===-1){if(f===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(f){let P=[f,E];p===!1&&(P=[f]),o(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=P):this.prerelease=P}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Mh=u,Mh}var qh,Dw;function Oa(){if(Dw)return qh;Dw=1;const t=$r();return qh=(n,i,a=!1)=>{if(n instanceof t)return n;try{return new t(n,i)}catch(l){if(!a)return null;throw l}},qh}var Fh,Uw;function PA(){if(Uw)return Fh;Uw=1;const t=Oa();return Fh=(n,i)=>{const a=t(n,i);return a?a.version:null},Fh}var Hh,$w;function NA(){if($w)return Hh;$w=1;const t=Oa();return Hh=(n,i)=>{const a=t(n.trim().replace(/^[=v]+/,""),i);return a?a.version:null},Hh}var Bh,Mw;function OA(){if(Mw)return Bh;Mw=1;const t=$r();return Bh=(n,i,a,l,o)=>{typeof a=="string"&&(o=l,l=a,a=void 0);try{return new t(n instanceof t?n.version:n,a).inc(i,l,o).version}catch{return null}},Bh}var zh,qw;function jA(){if(qw)return zh;qw=1;const t=Oa();return zh=(n,i)=>{const a=t(n,null,!0),l=t(i,null,!0),o=a.compare(l);if(o===0)return null;const u=o>0,c=u?a:l,h=u?l:a,f=!!c.prerelease.length;if(!!h.prerelease.length&&!f){if(!h.patch&&!h.minor)return"major";if(h.compareMain(c)===0)return h.minor&&!h.patch?"minor":"patch"}const E=f?"pre":"";return a.major!==l.major?E+"major":a.minor!==l.minor?E+"minor":a.patch!==l.patch?E+"patch":"prerelease"},zh}var Wh,Fw;function LA(){if(Fw)return Wh;Fw=1;const t=$r();return Wh=(n,i)=>new t(n,i).major,Wh}var Kh,Hw;function DA(){if(Hw)return Kh;Hw=1;const t=$r();return Kh=(n,i)=>new t(n,i).minor,Kh}var Vh,Bw;function UA(){if(Bw)return Vh;Bw=1;const t=$r();return Vh=(n,i)=>new t(n,i).patch,Vh}var Gh,zw;function $A(){if(zw)return Gh;zw=1;const t=Oa();return Gh=(n,i)=>{const a=t(n,i);return a&&a.prerelease.length?a.prerelease:null},Gh}var Jh,Ww;function ns(){if(Ww)return Jh;Ww=1;const t=$r();return Jh=(n,i,a)=>new t(n,a).compare(new t(i,a)),Jh}var Xh,Kw;function MA(){if(Kw)return Xh;Kw=1;const t=ns();return Xh=(n,i,a)=>t(i,n,a),Xh}var Yh,Vw;function qA(){if(Vw)return Yh;Vw=1;const t=ns();return Yh=(n,i)=>t(n,i,!0),Yh}var Qh,Gw;function Mg(){if(Gw)return Qh;Gw=1;const t=$r();return Qh=(n,i,a)=>{const l=new t(n,a),o=new t(i,a);return l.compare(o)||l.compareBuild(o)},Qh}var Zh,Jw;function FA(){if(Jw)return Zh;Jw=1;const t=Mg();return Zh=(n,i)=>n.sort((a,l)=>t(a,l,i)),Zh}var ep,Xw;function HA(){if(Xw)return ep;Xw=1;const t=Mg();return ep=(n,i)=>n.sort((a,l)=>t(l,a,i)),ep}var tp,Yw;function bd(){if(Yw)return tp;Yw=1;const t=ns();return tp=(n,i,a)=>t(n,i,a)>0,tp}var rp,Qw;function qg(){if(Qw)return rp;Qw=1;const t=ns();return rp=(n,i,a)=>t(n,i,a)<0,rp}var np,Zw;function zC(){if(Zw)return np;Zw=1;const t=ns();return np=(n,i,a)=>t(n,i,a)===0,np}var sp,e0;function WC(){if(e0)return sp;e0=1;const t=ns();return sp=(n,i,a)=>t(n,i,a)!==0,sp}var ip,t0;function Fg(){if(t0)return ip;t0=1;const t=ns();return ip=(n,i,a)=>t(n,i,a)>=0,ip}var op,r0;function Hg(){if(r0)return op;r0=1;const t=ns();return op=(n,i,a)=>t(n,i,a)<=0,op}var ap,n0;function KC(){if(n0)return ap;n0=1;const t=zC(),s=WC(),n=bd(),i=Fg(),a=qg(),l=Hg();return ap=(u,c,h,f)=>{switch(c){case"===":return typeof u=="object"&&(u=u.version),typeof h=="object"&&(h=h.version),u===h;case"!==":return typeof u=="object"&&(u=u.version),typeof h=="object"&&(h=h.version),u!==h;case"":case"=":case"==":return t(u,h,f);case"!=":return s(u,h,f);case">":return n(u,h,f);case">=":return i(u,h,f);case"<":return a(u,h,f);case"<=":return l(u,h,f);default:throw new TypeError(`Invalid operator: ${c}`)}},ap}var lp,s0;function BA(){if(s0)return lp;s0=1;const t=$r(),s=Oa(),{safeRe:n,t:i}=Cc();return lp=(l,o)=>{if(l instanceof t)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;o=o||{};let u=null;if(!o.rtl)u=l.match(o.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);else{const P=o.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let _;for(;(_=P.exec(l))&&(!u||u.index+u[0].length!==l.length);)(!u||_.index+_[0].length!==u.index+u[0].length)&&(u=_),P.lastIndex=_.index+_[1].length+_[2].length;P.lastIndex=-1}if(u===null)return null;const c=u[2],h=u[3]||"0",f=u[4]||"0",p=o.includePrerelease&&u[5]?`-${u[5]}`:"",E=o.includePrerelease&&u[6]?`+${u[6]}`:"";return s(`${c}.${h}.${f}${p}${E}`,o)},lp}var cp,i0;function zA(){if(i0)return cp;i0=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const i=this.map.get(n);if(i!==void 0)return this.map.delete(n),this.map.set(n,i),i}delete(n){return this.map.delete(n)}set(n,i){if(!this.delete(n)&&i!==void 0){if(this.map.size>=this.max){const l=this.map.keys().next().value;this.delete(l)}this.map.set(n,i)}return this}}return cp=t,cp}var up,o0;function ss(){if(o0)return up;o0=1;const t=/\s+/g;class s{constructor(M,W){if(W=a(W),M instanceof s)return M.loose===!!W.loose&&M.includePrerelease===!!W.includePrerelease?M:new s(M.raw,W);if(M instanceof l)return this.raw=M.value,this.set=[[M]],this.formatted=void 0,this;if(this.options=W,this.loose=!!W.loose,this.includePrerelease=!!W.includePrerelease,this.raw=M.trim().replace(t," "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter($=>!C($[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&R($[0])){this.set=[$];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let M=0;M<this.set.length;M++){M>0&&(this.formatted+="||");const W=this.set[M];for(let B=0;B<W.length;B++)B>0&&(this.formatted+=" "),this.formatted+=W[B].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(M){const B=((this.options.includePrerelease&&P)|(this.options.loose&&_))+":"+M,$=i.get(B);if($)return $;const Y=this.options.loose,te=Y?c[h.HYPHENRANGELOOSE]:c[h.HYPHENRANGE];M=M.replace(te,he(this.options.includePrerelease)),o("hyphen replace",M),M=M.replace(c[h.COMPARATORTRIM],f),o("comparator trim",M),M=M.replace(c[h.TILDETRIM],p),o("tilde trim",M),M=M.replace(c[h.CARETTRIM],E),o("caret trim",M);let J=M.split(" ").map(ve=>w(ve,this.options)).join(" ").split(/\s+/).map(ve=>ie(ve,this.options));Y&&(J=J.filter(ve=>(o("loose invalid filter",ve,this.options),!!ve.match(c[h.COMPARATORLOOSE])))),o("range list",J);const ne=new Map,ue=J.map(ve=>new l(ve,this.options));for(const ve of ue){if(C(ve))return[ve];ne.set(ve.value,ve)}ne.size>1&&ne.has("")&&ne.delete("");const ge=[...ne.values()];return i.set(B,ge),ge}intersects(M,W){if(!(M instanceof s))throw new TypeError("a Range is required");return this.set.some(B=>x(B,W)&&M.set.some($=>x($,W)&&B.every(Y=>$.every(te=>Y.intersects(te,W)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new u(M,this.options)}catch{return!1}for(let W=0;W<this.set.length;W++)if(X(this.set[W],M,this.options))return!0;return!1}}up=s;const n=zA(),i=new n,a=$g(),l=xd(),o=Sd(),u=$r(),{safeRe:c,t:h,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:E}=Cc(),{FLAG_INCLUDE_PRERELEASE:P,FLAG_LOOSE:_}=wd(),C=V=>V.value==="<0.0.0-0",R=V=>V.value==="",x=(V,M)=>{let W=!0;const B=V.slice();let $=B.pop();for(;W&&B.length;)W=B.every(Y=>$.intersects(Y,M)),$=B.pop();return W},w=(V,M)=>(V=V.replace(c[h.BUILD],""),o("comp",V,M),V=j(V,M),o("caret",V),V=k(V,M),o("tildes",V),V=I(V,M),o("xrange",V),V=G(V,M),o("stars",V),V),v=V=>!V||V.toLowerCase()==="x"||V==="*",k=(V,M)=>V.trim().split(/\s+/).map(W=>O(W,M)).join(" "),O=(V,M)=>{const W=M.loose?c[h.TILDELOOSE]:c[h.TILDE];return V.replace(W,(B,$,Y,te,J)=>{o("tilde",V,B,$,Y,te,J);let ne;return v($)?ne="":v(Y)?ne=`>=${$}.0.0 <${+$+1}.0.0-0`:v(te)?ne=`>=${$}.${Y}.0 <${$}.${+Y+1}.0-0`:J?(o("replaceTilde pr",J),ne=`>=${$}.${Y}.${te}-${J} <${$}.${+Y+1}.0-0`):ne=`>=${$}.${Y}.${te} <${$}.${+Y+1}.0-0`,o("tilde return",ne),ne})},j=(V,M)=>V.trim().split(/\s+/).map(W=>D(W,M)).join(" "),D=(V,M)=>{o("caret",V,M);const W=M.loose?c[h.CARETLOOSE]:c[h.CARET],B=M.includePrerelease?"-0":"";return V.replace(W,($,Y,te,J,ne)=>{o("caret",V,$,Y,te,J,ne);let ue;return v(Y)?ue="":v(te)?ue=`>=${Y}.0.0${B} <${+Y+1}.0.0-0`:v(J)?Y==="0"?ue=`>=${Y}.${te}.0${B} <${Y}.${+te+1}.0-0`:ue=`>=${Y}.${te}.0${B} <${+Y+1}.0.0-0`:ne?(o("replaceCaret pr",ne),Y==="0"?te==="0"?ue=`>=${Y}.${te}.${J}-${ne} <${Y}.${te}.${+J+1}-0`:ue=`>=${Y}.${te}.${J}-${ne} <${Y}.${+te+1}.0-0`:ue=`>=${Y}.${te}.${J}-${ne} <${+Y+1}.0.0-0`):(o("no pr"),Y==="0"?te==="0"?ue=`>=${Y}.${te}.${J}${B} <${Y}.${te}.${+J+1}-0`:ue=`>=${Y}.${te}.${J}${B} <${Y}.${+te+1}.0-0`:ue=`>=${Y}.${te}.${J} <${+Y+1}.0.0-0`),o("caret return",ue),ue})},I=(V,M)=>(o("replaceXRanges",V,M),V.split(/\s+/).map(W=>H(W,M)).join(" ")),H=(V,M)=>{V=V.trim();const W=M.loose?c[h.XRANGELOOSE]:c[h.XRANGE];return V.replace(W,(B,$,Y,te,J,ne)=>{o("xRange",V,B,$,Y,te,J,ne);const ue=v(Y),ge=ue||v(te),ve=ge||v(J),Oe=ve;return $==="="&&Oe&&($=""),ne=M.includePrerelease?"-0":"",ue?$===">"||$==="<"?B="<0.0.0-0":B="*":$&&Oe?(ge&&(te=0),J=0,$===">"?($=">=",ge?(Y=+Y+1,te=0,J=0):(te=+te+1,J=0)):$==="<="&&($="<",ge?Y=+Y+1:te=+te+1),$==="<"&&(ne="-0"),B=`${$+Y}.${te}.${J}${ne}`):ge?B=`>=${Y}.0.0${ne} <${+Y+1}.0.0-0`:ve&&(B=`>=${Y}.${te}.0${ne} <${Y}.${+te+1}.0-0`),o("xRange return",B),B})},G=(V,M)=>(o("replaceStars",V,M),V.trim().replace(c[h.STAR],"")),ie=(V,M)=>(o("replaceGTE0",V,M),V.trim().replace(c[M.includePrerelease?h.GTE0PRE:h.GTE0],"")),he=V=>(M,W,B,$,Y,te,J,ne,ue,ge,ve,Oe)=>(v(B)?W="":v($)?W=`>=${B}.0.0${V?"-0":""}`:v(Y)?W=`>=${B}.${$}.0${V?"-0":""}`:te?W=`>=${W}`:W=`>=${W}${V?"-0":""}`,v(ue)?ne="":v(ge)?ne=`<${+ue+1}.0.0-0`:v(ve)?ne=`<${ue}.${+ge+1}.0-0`:Oe?ne=`<=${ue}.${ge}.${ve}-${Oe}`:V?ne=`<${ue}.${ge}.${+ve+1}-0`:ne=`<=${ne}`,`${W} ${ne}`.trim()),X=(V,M,W)=>{for(let B=0;B<V.length;B++)if(!V[B].test(M))return!1;if(M.prerelease.length&&!W.includePrerelease){for(let B=0;B<V.length;B++)if(o(V[B].semver),V[B].semver!==l.ANY&&V[B].semver.prerelease.length>0){const $=V[B].semver;if($.major===M.major&&$.minor===M.minor&&$.patch===M.patch)return!0}return!1}return!0};return up}var dp,a0;function xd(){if(a0)return dp;a0=1;const t=Symbol("SemVer ANY");class s{static get ANY(){return t}constructor(f,p){if(p=n(p),f instanceof s){if(f.loose===!!p.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),o("comparator",f,p),this.options=p,this.loose=!!p.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(f){const p=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],E=f.match(p);if(!E)throw new TypeError(`Invalid comparator: ${f}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new u(E[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(o("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new u(f,this.options)}catch{return!1}return l(f,this.operator,this.semver,this.options)}intersects(f,p){if(!(f instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(f.value,p).test(this.value):f.operator===""?f.value===""?!0:new c(this.value,p).test(f.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||l(this.semver,"<",f.semver,p)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||l(this.semver,">",f.semver,p)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}dp=s;const n=$g(),{safeRe:i,t:a}=Cc(),l=KC(),o=Sd(),u=$r(),c=ss();return dp}var fp,l0;function Cd(){if(l0)return fp;l0=1;const t=ss();return fp=(n,i,a)=>{try{i=new t(i,a)}catch{return!1}return i.test(n)},fp}var hp,c0;function WA(){if(c0)return hp;c0=1;const t=ss();return hp=(n,i)=>new t(n,i).set.map(a=>a.map(l=>l.value).join(" ").trim().split(" ")),hp}var pp,u0;function KA(){if(u0)return pp;u0=1;const t=$r(),s=ss();return pp=(i,a,l)=>{let o=null,u=null,c=null;try{c=new s(a,l)}catch{return null}return i.forEach(h=>{c.test(h)&&(!o||u.compare(h)===-1)&&(o=h,u=new t(o,l))}),o},pp}var mp,d0;function VA(){if(d0)return mp;d0=1;const t=$r(),s=ss();return mp=(i,a,l)=>{let o=null,u=null,c=null;try{c=new s(a,l)}catch{return null}return i.forEach(h=>{c.test(h)&&(!o||u.compare(h)===1)&&(o=h,u=new t(o,l))}),o},mp}var gp,f0;function GA(){if(f0)return gp;f0=1;const t=$r(),s=ss(),n=bd();return gp=(a,l)=>{a=new s(a,l);let o=new t("0.0.0");if(a.test(o)||(o=new t("0.0.0-0"),a.test(o)))return o;o=null;for(let u=0;u<a.set.length;++u){const c=a.set[u];let h=null;c.forEach(f=>{const p=new t(f.semver.version);switch(f.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!h||n(p,h))&&(h=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),h&&(!o||n(o,h))&&(o=h)}return o&&a.test(o)?o:null},gp}var yp,h0;function JA(){if(h0)return yp;h0=1;const t=ss();return yp=(n,i)=>{try{return new t(n,i).range||"*"}catch{return null}},yp}var vp,p0;function Bg(){if(p0)return vp;p0=1;const t=$r(),s=xd(),{ANY:n}=s,i=ss(),a=Cd(),l=bd(),o=qg(),u=Hg(),c=Fg();return vp=(f,p,E,P)=>{f=new t(f,P),p=new i(p,P);let _,C,R,x,w;switch(E){case">":_=l,C=u,R=o,x=">",w=">=";break;case"<":_=o,C=c,R=l,x="<",w="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(f,p,P))return!1;for(let v=0;v<p.set.length;++v){const k=p.set[v];let O=null,j=null;if(k.forEach(D=>{D.semver===n&&(D=new s(">=0.0.0")),O=O||D,j=j||D,_(D.semver,O.semver,P)?O=D:R(D.semver,j.semver,P)&&(j=D)}),O.operator===x||O.operator===w||(!j.operator||j.operator===x)&&C(f,j.semver))return!1;if(j.operator===w&&R(f,j.semver))return!1}return!0},vp}var Ep,m0;function XA(){if(m0)return Ep;m0=1;const t=Bg();return Ep=(n,i,a)=>t(n,i,">",a),Ep}var wp,g0;function YA(){if(g0)return wp;g0=1;const t=Bg();return wp=(n,i,a)=>t(n,i,"<",a),wp}var Sp,y0;function QA(){if(y0)return Sp;y0=1;const t=ss();return Sp=(n,i,a)=>(n=new t(n,a),i=new t(i,a),n.intersects(i,a)),Sp}var bp,v0;function ZA(){if(v0)return bp;v0=1;const t=Cd(),s=ns();return bp=(n,i,a)=>{const l=[];let o=null,u=null;const c=n.sort((E,P)=>s(E,P,a));for(const E of c)t(E,i,a)?(u=E,o||(o=E)):(u&&l.push([o,u]),u=null,o=null);o&&l.push([o,null]);const h=[];for(const[E,P]of l)E===P?h.push(E):!P&&E===c[0]?h.push("*"):P?E===c[0]?h.push(`<=${P}`):h.push(`${E} - ${P}`):h.push(`>=${E}`);const f=h.join(" || "),p=typeof i.raw=="string"?i.raw:String(i);return f.length<p.length?f:i},bp}var xp,E0;function eI(){if(E0)return xp;E0=1;const t=ss(),s=xd(),{ANY:n}=s,i=Cd(),a=ns(),l=(p,E,P={})=>{if(p===E)return!0;p=new t(p,P),E=new t(E,P);let _=!1;e:for(const C of p.set){for(const R of E.set){const x=c(C,R,P);if(_=_||x!==null,x)continue e}if(_)return!1}return!0},o=[new s(">=0.0.0-0")],u=[new s(">=0.0.0")],c=(p,E,P)=>{if(p===E)return!0;if(p.length===1&&p[0].semver===n){if(E.length===1&&E[0].semver===n)return!0;P.includePrerelease?p=o:p=u}if(E.length===1&&E[0].semver===n){if(P.includePrerelease)return!0;E=u}const _=new Set;let C,R;for(const I of p)I.operator===">"||I.operator===">="?C=h(C,I,P):I.operator==="<"||I.operator==="<="?R=f(R,I,P):_.add(I.semver);if(_.size>1)return null;let x;if(C&&R){if(x=a(C.semver,R.semver,P),x>0)return null;if(x===0&&(C.operator!==">="||R.operator!=="<="))return null}for(const I of _){if(C&&!i(I,String(C),P)||R&&!i(I,String(R),P))return null;for(const H of E)if(!i(I,String(H),P))return!1;return!0}let w,v,k,O,j=R&&!P.includePrerelease&&R.semver.prerelease.length?R.semver:!1,D=C&&!P.includePrerelease&&C.semver.prerelease.length?C.semver:!1;j&&j.prerelease.length===1&&R.operator==="<"&&j.prerelease[0]===0&&(j=!1);for(const I of E){if(O=O||I.operator===">"||I.operator===">=",k=k||I.operator==="<"||I.operator==="<=",C){if(D&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===D.major&&I.semver.minor===D.minor&&I.semver.patch===D.patch&&(D=!1),I.operator===">"||I.operator===">="){if(w=h(C,I,P),w===I&&w!==C)return!1}else if(C.operator===">="&&!i(C.semver,String(I),P))return!1}if(R){if(j&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===j.major&&I.semver.minor===j.minor&&I.semver.patch===j.patch&&(j=!1),I.operator==="<"||I.operator==="<="){if(v=f(R,I,P),v===I&&v!==R)return!1}else if(R.operator==="<="&&!i(R.semver,String(I),P))return!1}if(!I.operator&&(R||C)&&x!==0)return!1}return!(C&&k&&!R&&x!==0||R&&O&&!C&&x!==0||D||j)},h=(p,E,P)=>{if(!p)return E;const _=a(p.semver,E.semver,P);return _>0?p:_<0||E.operator===">"&&p.operator===">="?E:p},f=(p,E,P)=>{if(!p)return E;const _=a(p.semver,E.semver,P);return _<0?p:_>0||E.operator==="<"&&p.operator==="<="?E:p};return xp=l,xp}var Cp,w0;function zg(){if(w0)return Cp;w0=1;const t=Cc(),s=wd(),n=$r(),i=BC(),a=Oa(),l=PA(),o=NA(),u=OA(),c=jA(),h=LA(),f=DA(),p=UA(),E=$A(),P=ns(),_=MA(),C=qA(),R=Mg(),x=FA(),w=HA(),v=bd(),k=qg(),O=zC(),j=WC(),D=Fg(),I=Hg(),H=KC(),G=BA(),ie=xd(),he=ss(),X=Cd(),V=WA(),M=KA(),W=VA(),B=GA(),$=JA(),Y=Bg(),te=XA(),J=YA(),ne=QA(),ue=ZA(),ge=eI();return Cp={parse:a,valid:l,clean:o,inc:u,diff:c,major:h,minor:f,patch:p,prerelease:E,compare:P,rcompare:_,compareLoose:C,compareBuild:R,sort:x,rsort:w,gt:v,lt:k,eq:O,neq:j,gte:D,lte:I,cmp:H,coerce:G,Comparator:ie,Range:he,satisfies:X,toComparators:V,maxSatisfying:M,minSatisfying:W,minVersion:B,validRange:$,outside:Y,gtr:te,ltr:J,intersects:ne,simplifyRange:ue,subset:ge,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},Cp}var Tp,S0;function tI(){return S0||(S0=1,Tp=zg().satisfies(process.version,">=15.7.0")),Tp}var _p,b0;function rI(){return b0||(b0=1,_p=zg().satisfies(process.version,">=16.9.0")),_p}var Rp,x0;function VC(){if(x0)return Rp;x0=1;const t=tI(),s=rI(),n={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},i={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Rp=function(a,l){if(!a||!l)return;const o=l.asymmetricKeyType;if(!o)return;const u=n[o];if(!u)throw new Error(`Unknown key type "${o}".`);if(!u.includes(a))throw new Error(`"alg" parameter for "${o}" key type must be one of: ${u.join(", ")}.`);if(t)switch(o){case"ec":const c=l.asymmetricKeyDetails.namedCurve,h=i[a];if(c!==h)throw new Error(`"alg" parameter "${a}" requires curve "${h}".`);break;case"rsa-pss":if(s){const f=parseInt(a.slice(-3),10),{hashAlgorithm:p,mgf1HashAlgorithm:E,saltLength:P}=l.asymmetricKeyDetails;if(p!==`sha${f}`||E!==p)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${a}.`);if(P!==void 0&&P>f>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${a}.`)}break}},Rp}var kp,C0;function GC(){if(C0)return kp;C0=1;var t=zg();return kp=t.satisfies(process.version,"^6.12.0 || >=8.0.0"),kp}var Ap,T0;function nI(){if(T0)return Ap;T0=1;const t=Ed(),s=qC(),n=FC(),i=MC(),a=HC(),l=VC(),o=GC(),u=Ug(),{KeyObject:c,createSecretKey:h,createPublicKey:f}=Uo,p=["RS256","RS384","RS512"],E=["ES256","ES384","ES512"],P=["RS256","RS384","RS512"],_=["HS256","HS384","HS512"];return o&&(p.splice(p.length,0,"PS256","PS384","PS512"),P.splice(P.length,0,"PS256","PS384","PS512")),Ap=function(C,R,x,w){typeof x=="function"&&!w&&(w=x,x={}),x||(x={}),x=Object.assign({},x);let v;if(w?v=w:v=function(H,G){if(H)throw H;return G},x.clockTimestamp&&typeof x.clockTimestamp!="number")return v(new t("clockTimestamp must be a number"));if(x.nonce!==void 0&&(typeof x.nonce!="string"||x.nonce.trim()===""))return v(new t("nonce must be a non-empty string"));if(x.allowInvalidAsymmetricKeyTypes!==void 0&&typeof x.allowInvalidAsymmetricKeyTypes!="boolean")return v(new t("allowInvalidAsymmetricKeyTypes must be a boolean"));const k=x.clockTimestamp||Math.floor(Date.now()/1e3);if(!C)return v(new t("jwt must be provided"));if(typeof C!="string")return v(new t("jwt must be a string"));const O=C.split(".");if(O.length!==3)return v(new t("jwt malformed"));let j;try{j=i(C,{complete:!0})}catch(H){return v(H)}if(!j)return v(new t("invalid token"));const D=j.header;let I;if(typeof R=="function"){if(!w)return v(new t("verify must be called asynchronous if secret or public key is provided as a callback"));I=R}else I=function(H,G){return G(null,R)};return I(D,function(H,G){if(H)return v(new t("error in secret or public key callback: "+H.message));const ie=O[2].trim()!=="";if(!ie&&G)return v(new t("jwt signature is required"));if(ie&&!G)return v(new t("secret or public key must be provided"));if(!ie&&!x.algorithms)return v(new t('please specify "none" in "algorithms" to verify unsigned tokens'));if(G!=null&&!(G instanceof c))try{G=f(G)}catch{try{G=h(typeof G=="string"?Buffer.from(G):G)}catch{return v(new t("secretOrPublicKey is not valid key material"))}}if(x.algorithms||(G.type==="secret"?x.algorithms=_:["rsa","rsa-pss"].includes(G.asymmetricKeyType)?x.algorithms=P:G.asymmetricKeyType==="ec"?x.algorithms=E:x.algorithms=p),x.algorithms.indexOf(j.header.alg)===-1)return v(new t("invalid algorithm"));if(D.alg.startsWith("HS")&&G.type!=="secret")return v(new t(`secretOrPublicKey must be a symmetric key when using ${D.alg}`));if(/^(?:RS|PS|ES)/.test(D.alg)&&G.type!=="public")return v(new t(`secretOrPublicKey must be an asymmetric key when using ${D.alg}`));if(!x.allowInvalidAsymmetricKeyTypes)try{l(D.alg,G)}catch(V){return v(V)}let he;try{he=u.verify(C,j.header.alg,G)}catch(V){return v(V)}if(!he)return v(new t("invalid signature"));const X=j.payload;if(typeof X.nbf<"u"&&!x.ignoreNotBefore){if(typeof X.nbf!="number")return v(new t("invalid nbf value"));if(X.nbf>k+(x.clockTolerance||0))return v(new s("jwt not active",new Date(X.nbf*1e3)))}if(typeof X.exp<"u"&&!x.ignoreExpiration){if(typeof X.exp!="number")return v(new t("invalid exp value"));if(k>=X.exp+(x.clockTolerance||0))return v(new n("jwt expired",new Date(X.exp*1e3)))}if(x.audience){const V=Array.isArray(x.audience)?x.audience:[x.audience];if(!(Array.isArray(X.aud)?X.aud:[X.aud]).some(function(B){return V.some(function($){return $ instanceof RegExp?$.test(B):$===B})}))return v(new t("jwt audience invalid. expected: "+V.join(" or ")))}if(x.issuer&&(typeof x.issuer=="string"&&X.iss!==x.issuer||Array.isArray(x.issuer)&&x.issuer.indexOf(X.iss)===-1))return v(new t("jwt issuer invalid. expected: "+x.issuer));if(x.subject&&X.sub!==x.subject)return v(new t("jwt subject invalid. expected: "+x.subject));if(x.jwtid&&X.jti!==x.jwtid)return v(new t("jwt jwtid invalid. expected: "+x.jwtid));if(x.nonce&&X.nonce!==x.nonce)return v(new t("jwt nonce invalid. expected: "+x.nonce));if(x.maxAge){if(typeof X.iat!="number")return v(new t("iat required when maxAge is specified"));const V=a(x.maxAge,X.iat);if(typeof V>"u")return v(new t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(k>=V+(x.clockTolerance||0))return v(new n("maxAge exceeded",new Date(V*1e3)))}if(x.complete===!0){const V=j.signature;return v(null,{header:D,payload:X,signature:V})}return v(null,X)})},Ap}var Ip,_0;function sI(){if(_0)return Ip;_0=1;var t=1/0,s=9007199254740991,n=17976931348623157e292,i=NaN,a="[object Arguments]",l="[object Function]",o="[object GeneratorFunction]",u="[object String]",c="[object Symbol]",h=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,E=/^0o[0-7]+$/i,P=/^(?:0|[1-9]\d*)$/,_=parseInt;function C(K,we){for(var be=-1,rt=K?K.length:0,ct=Array(rt);++be<rt;)ct[be]=we(K[be],be,K);return ct}function R(K,we,be,rt){for(var ct=K.length,dt=be+-1;++dt<ct;)if(we(K[dt],dt,K))return dt;return-1}function x(K,we,be){if(we!==we)return R(K,w,be);for(var rt=be-1,ct=K.length;++rt<ct;)if(K[rt]===we)return rt;return-1}function w(K){return K!==K}function v(K,we){for(var be=-1,rt=Array(K);++be<K;)rt[be]=we(be);return rt}function k(K,we){return C(we,function(be){return K[be]})}function O(K,we){return function(be){return K(we(be))}}var j=Object.prototype,D=j.hasOwnProperty,I=j.toString,H=j.propertyIsEnumerable,G=O(Object.keys,Object),ie=Math.max;function he(K,we){var be=$(K)||B(K)?v(K.length,String):[],rt=be.length,ct=!!rt;for(var dt in K)D.call(K,dt)&&!(ct&&(dt=="length"||V(dt,rt)))&&be.push(dt);return be}function X(K){if(!M(K))return G(K);var we=[];for(var be in Object(K))D.call(K,be)&&be!="constructor"&&we.push(be);return we}function V(K,we){return we=we??s,!!we&&(typeof K=="number"||P.test(K))&&K>-1&&K%1==0&&K<we}function M(K){var we=K&&K.constructor,be=typeof we=="function"&&we.prototype||j;return K===be}function W(K,we,be,rt){K=Y(K)?K:$t(K),be=be&&!rt?Le(be):0;var ct=K.length;return be<0&&(be=ie(ct+be,0)),ve(K)?be<=ct&&K.indexOf(we,be)>-1:!!ct&&x(K,we,be)>-1}function B(K){return te(K)&&D.call(K,"callee")&&(!H.call(K,"callee")||I.call(K)==a)}var $=Array.isArray;function Y(K){return K!=null&&ne(K.length)&&!J(K)}function te(K){return ge(K)&&Y(K)}function J(K){var we=ue(K)?I.call(K):"";return we==l||we==o}function ne(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=s}function ue(K){var we=typeof K;return!!K&&(we=="object"||we=="function")}function ge(K){return!!K&&typeof K=="object"}function ve(K){return typeof K=="string"||!$(K)&&ge(K)&&I.call(K)==u}function Oe(K){return typeof K=="symbol"||ge(K)&&I.call(K)==c}function Fe(K){if(!K)return K===0?K:0;if(K=Ye(K),K===t||K===-t){var we=K<0?-1:1;return we*n}return K===K?K:0}function Le(K){var we=Fe(K),be=we%1;return we===we?be?we-be:we:0}function Ye(K){if(typeof K=="number")return K;if(Oe(K))return i;if(ue(K)){var we=typeof K.valueOf=="function"?K.valueOf():K;K=ue(we)?we+"":we}if(typeof K!="string")return K===0?K:+K;K=K.replace(h,"");var be=p.test(K);return be||E.test(K)?_(K.slice(2),be?2:8):f.test(K)?i:+K}function gt(K){return Y(K)?he(K):X(K)}function $t(K){return K?k(K,gt(K)):[]}return Ip=W,Ip}var Pp,R0;function iI(){if(R0)return Pp;R0=1;var t="[object Boolean]",s=Object.prototype,n=s.toString;function i(l){return l===!0||l===!1||a(l)&&n.call(l)==t}function a(l){return!!l&&typeof l=="object"}return Pp=i,Pp}var Np,k0;function oI(){if(k0)return Np;k0=1;var t=1/0,s=17976931348623157e292,n=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,h=Object.prototype,f=h.toString;function p(w){return typeof w=="number"&&w==R(w)}function E(w){var v=typeof w;return!!w&&(v=="object"||v=="function")}function P(w){return!!w&&typeof w=="object"}function _(w){return typeof w=="symbol"||P(w)&&f.call(w)==i}function C(w){if(!w)return w===0?w:0;if(w=x(w),w===t||w===-t){var v=w<0?-1:1;return v*s}return w===w?w:0}function R(w){var v=C(w),k=v%1;return v===v?k?v-k:v:0}function x(w){if(typeof w=="number")return w;if(_(w))return n;if(E(w)){var v=typeof w.valueOf=="function"?w.valueOf():w;w=E(v)?v+"":v}if(typeof w!="string")return w===0?w:+w;w=w.replace(a,"");var k=o.test(w);return k||u.test(w)?c(w.slice(2),k?2:8):l.test(w)?n:+w}return Np=p,Np}var Op,A0;function aI(){if(A0)return Op;A0=1;var t="[object Number]",s=Object.prototype,n=s.toString;function i(l){return!!l&&typeof l=="object"}function a(l){return typeof l=="number"||i(l)&&n.call(l)==t}return Op=a,Op}var jp,I0;function lI(){if(I0)return jp;I0=1;var t="[object Object]";function s(E){var P=!1;if(E!=null&&typeof E.toString!="function")try{P=!!(E+"")}catch{}return P}function n(E,P){return function(_){return E(P(_))}}var i=Function.prototype,a=Object.prototype,l=i.toString,o=a.hasOwnProperty,u=l.call(Object),c=a.toString,h=n(Object.getPrototypeOf,Object);function f(E){return!!E&&typeof E=="object"}function p(E){if(!f(E)||c.call(E)!=t||s(E))return!1;var P=h(E);if(P===null)return!0;var _=o.call(P,"constructor")&&P.constructor;return typeof _=="function"&&_ instanceof _&&l.call(_)==u}return jp=p,jp}var Lp,P0;function cI(){if(P0)return Lp;P0=1;var t="[object String]",s=Object.prototype,n=s.toString,i=Array.isArray;function a(o){return!!o&&typeof o=="object"}function l(o){return typeof o=="string"||!i(o)&&a(o)&&n.call(o)==t}return Lp=l,Lp}var Dp,N0;function uI(){if(N0)return Dp;N0=1;var t="Expected a function",s=1/0,n=17976931348623157e292,i=NaN,a="[object Symbol]",l=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,f=Object.prototype,p=f.toString;function E(k,O){var j;if(typeof O!="function")throw new TypeError(t);return k=w(k),function(){return--k>0&&(j=O.apply(this,arguments)),k<=1&&(O=void 0),j}}function P(k){return E(2,k)}function _(k){var O=typeof k;return!!k&&(O=="object"||O=="function")}function C(k){return!!k&&typeof k=="object"}function R(k){return typeof k=="symbol"||C(k)&&p.call(k)==a}function x(k){if(!k)return k===0?k:0;if(k=v(k),k===s||k===-s){var O=k<0?-1:1;return O*n}return k===k?k:0}function w(k){var O=x(k),j=O%1;return O===O?j?O-j:O:0}function v(k){if(typeof k=="number")return k;if(R(k))return i;if(_(k)){var O=typeof k.valueOf=="function"?k.valueOf():k;k=_(O)?O+"":O}if(typeof k!="string")return k===0?k:+k;k=k.replace(l,"");var j=u.test(k);return j||c.test(k)?h(k.slice(2),j?2:8):o.test(k)?i:+k}return Dp=P,Dp}var Up,O0;function dI(){if(O0)return Up;O0=1;const t=HC(),s=GC(),n=VC(),i=Ug(),a=sI(),l=iI(),o=oI(),u=aI(),c=lI(),h=cI(),f=uI(),{KeyObject:p,createSecretKey:E,createPrivateKey:P}=Uo,_=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&_.splice(3,0,"PS256","PS384","PS512");const C={expiresIn:{isValid:function(j){return o(j)||h(j)&&j},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(j){return o(j)||h(j)&&j},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(j){return h(j)||Array.isArray(j)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,_),message:'"algorithm" must be a valid string enum value'},header:{isValid:c,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},R={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function x(j,D,I,H){if(!c(I))throw new Error('Expected "'+H+'" to be a plain object.');Object.keys(I).forEach(function(G){const ie=j[G];if(!ie){if(!D)throw new Error('"'+G+'" is not allowed in "'+H+'"');return}if(!ie.isValid(I[G]))throw new Error(ie.message)})}function w(j){return x(C,!1,j,"options")}function v(j){return x(R,!0,j,"payload")}const k={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},O=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return Up=function(j,D,I,H){typeof I=="function"?(H=I,I={}):I=I||{};const G=typeof j=="object"&&!Buffer.isBuffer(j),ie=Object.assign({alg:I.algorithm||"HS256",typ:G?"JWT":void 0,kid:I.keyid},I.header);function he(M){if(H)return H(M);throw M}if(!D&&I.algorithm!=="none")return he(new Error("secretOrPrivateKey must have a value"));if(D!=null&&!(D instanceof p))try{D=P(D)}catch{try{D=E(typeof D=="string"?Buffer.from(D):D)}catch{return he(new Error("secretOrPrivateKey is not valid key material"))}}if(ie.alg.startsWith("HS")&&D.type!=="secret")return he(new Error(`secretOrPrivateKey must be a symmetric key when using ${ie.alg}`));if(/^(?:RS|PS|ES)/.test(ie.alg)){if(D.type!=="private")return he(new Error(`secretOrPrivateKey must be an asymmetric key when using ${ie.alg}`));if(!I.allowInsecureKeySizes&&!ie.alg.startsWith("ES")&&D.asymmetricKeyDetails!==void 0&&D.asymmetricKeyDetails.modulusLength<2048)return he(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${ie.alg}`))}if(typeof j>"u")return he(new Error("payload is required"));if(G){try{v(j)}catch(M){return he(M)}I.mutatePayload||(j=Object.assign({},j))}else{const M=O.filter(function(W){return typeof I[W]<"u"});if(M.length>0)return he(new Error("invalid "+M.join(",")+" option for "+typeof j+" payload"))}if(typeof j.exp<"u"&&typeof I.expiresIn<"u")return he(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof j.nbf<"u"&&typeof I.notBefore<"u")return he(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{w(I)}catch(M){return he(M)}if(!I.allowInvalidAsymmetricKeyTypes)try{n(ie.alg,D)}catch(M){return he(M)}const X=j.iat||Math.floor(Date.now()/1e3);if(I.noTimestamp?delete j.iat:G&&(j.iat=X),typeof I.notBefore<"u"){try{j.nbf=t(I.notBefore,X)}catch(M){return he(M)}if(typeof j.nbf>"u")return he(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof I.expiresIn<"u"&&typeof j=="object"){try{j.exp=t(I.expiresIn,X)}catch(M){return he(M)}if(typeof j.exp>"u")return he(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(k).forEach(function(M){const W=k[M];if(typeof I[M]<"u"){if(typeof j[W]<"u")return he(new Error('Bad "options.'+M+'" option. The payload already has an "'+W+'" property.'));j[W]=I[M]}});const V=I.encoding||"utf8";if(typeof H=="function")H=H&&f(H),i.createSign({header:ie,privateKey:D,payload:j,encoding:V}).once("error",H).once("done",function(M){if(!I.allowInsecureKeySizes&&/^(?:RS|PS)/.test(ie.alg)&&M.length<256)return H(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${ie.alg}`));H(null,M)});else{let M=i.sign({header:ie,payload:j,secret:D,encoding:V});if(!I.allowInsecureKeySizes&&/^(?:RS|PS)/.test(ie.alg)&&M.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${ie.alg}`);return M}},Up}var $p,j0;function Tc(){return j0||(j0=1,$p={decode:MC(),verify:nI(),sign:dI(),JsonWebTokenError:Ed(),NotBeforeError:qC(),TokenExpiredError:FC()}),$p}var L0;function fI(){if(L0)return Es;L0=1;var t=Es&&Es.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Es,"__esModule",{value:!0}),Es.extractUserIdFromToken=l,Es.getTokenCacheKey=o,Es.getCacheTtlFromToken=u,Es.clearTokenCache=c,Es.clearUserCache=h;const s=t(Uo),n=t(Tc()),i=xs(),a=rs();function l(f){try{const p=n.default.decode(f);return p?p.sub||p.userId||p.user_id||p.id:null}catch{return null}}function o(f){return`token_validation:${s.default.createHash("sha256").update(f).digest("hex")}`}function u(f,p,E){try{const _=n.default.decode(f);if(!_||typeof _.exp!="number")return p;const C=Math.floor(Date.now()/1e3),R=_.exp-C-30;return Math.max(E,Math.min(R,p))}catch{return p}}function c(f,p){try{const E=o(p);f.delete(E)}catch(E){(0,a.logErrorWithContext)((0,i.extractErrorInfo)(E,{endpoint:"clearTokenCache"}),"[AuthCacheHelpers]")}}function h(f,p){try{const E=l(p);E&&f.delete(`user:${E}`)}catch(E){(0,a.logErrorWithContext)((0,i.extractErrorInfo)(E,{endpoint:"clearUserCache"}),"[AuthCacheHelpers]")}}return Es}var D0;function JC(){if(D0)return El;D0=1,Object.defineProperty(El,"__esModule",{value:!0}),El.AuthService=void 0;const t=EA(),s=xA(),n=fI(),i=xs(),a=rs();class l{constructor(u,c,h){this.cache=h,this.httpClient=u,this.apiClient=c;const f=this.httpClient.config;this.tokenValidationTTL=f.cache?.tokenValidationTTL||900,this.minValidationTTL=f.cache?.minValidationTTL||60,this.userTTL=f.cache?.userTTL||300}isApiKeyToken(u){const c=this.httpClient.config;return c.apiKey!==void 0&&u===c.apiKey}buildAuthStrategyWithToken(u,c){const h=c||this.httpClient.config.authStrategy;return h?{...h,bearerToken:u}:{methods:["bearer"],bearerToken:u}}async getCachedUserInfo(u){if(!u)return null;const c=await this.cache.get(u);return c?c.user:null}async cacheUserInfo(u,c){u&&await this.cache.set(u,{user:c,timestamp:Date.now()},this.userTTL)}async getCachedTokenValidation(u){const c=await this.cache.get(u);return c?c.authenticated:null}async cacheTokenValidation(u,c,h){const f=(0,n.getCacheTtlFromToken)(c,this.tokenValidationTTL,this.minValidationTTL);await this.cache.set(u,{authenticated:h,timestamp:Date.now()},f)}mapUserInfo(u){return{id:u.id,username:u.username,email:u.email}}generateCorrelationId(){const u=Date.now(),c=Math.random().toString(36).substring(2,8);return`${this.httpClient.config.clientId.substring(0,10)}-${u}-${c}`}async getEnvironmentToken(){const u=this.generateCorrelationId(),c=this.httpClient.config.clientId,h=4e3;try{const{tempAxios:f,timeoutId:p,controller:E}=await(0,s.createEnvTokenClient)(this.httpClient.config,h,c),P=await(0,s.fetchEnvironmentTokenResponse)(f,p,E,this.httpClient.config.clientTokenUri||"/api/v1/auth/token",h),_=(0,s.extractTokenFromEnvResponse)(P.data);return P.status>=200&&P.status<300&&_?_:((0,t.handleAuthErrorSilent)(new Error(`Invalid response format. Status: ${P.status}`),"Get environment token",u,c),"")}catch(f){return(0,t.handleAuthErrorSilent)(f,"Get environment token",u,c),""}}async login(u){const c=this.generateCorrelationId(),h=this.httpClient.config.clientId;try{const f={redirect:u.redirect};u.state&&(f.state=u.state);const p=this.httpClient.config.authStrategy,E=await this.apiClient.auth.login({redirect:u.redirect,state:u.state},p);return{success:E.success,data:{loginUrl:E.data.loginUrl,state:E.data.state||""},timestamp:E.timestamp}}catch(f){return(0,t.handleAuthErrorSilent)(f,"Login",c,h),{success:!1,data:{loginUrl:"",state:u.state||""},timestamp:new Date().toISOString()}}}async validateToken(u,c){if(this.isApiKeyToken(u))return!0;try{const h=(0,n.getTokenCacheKey)(u),f=await this.getCachedTokenValidation(h);if(f!==null)return f;const p=this.buildAuthStrategyWithToken(u,c),P=(await this.apiClient.auth.validateToken({token:u},p)).data?.authenticated||!1;return await this.cacheTokenValidation(h,u,P),P}catch(h){return this.logAuthServiceError("Validate token",h,u,"/api/auth/validate"),!1}}async getUser(u,c){if(this.isApiKeyToken(u))return null;try{const h=this.buildAuthStrategyWithToken(u,c),f=await this.apiClient.auth.validateToken({token:u},h);return f.data?.authenticated&&f.data.user?this.mapUserInfo(f.data.user):null}catch(h){return this.logAuthServiceError("Get user",h,u,"/api/auth/validate"),null}}logAuthServiceError(u,c,h,f,p="POST"){const E=(0,n.extractUserIdFromToken)(h),P=(0,i.extractErrorInfo)(c,{endpoint:f,method:p,correlationId:c?.correlationId}),_=E?` (userId: ${E})`:"";P.message=`${u} failed${_}: ${P.message}`,(0,a.logErrorWithContext)(P,"[AuthService]")}async getUserInfo(u,c){if(this.isApiKeyToken(u))return null;try{const h=(0,n.extractUserIdFromToken)(u),f=h?`user:${h}`:null,p=await this.getCachedUserInfo(f);if(p)return p;const E=this.buildAuthStrategyWithToken(u,c),P=await this.apiClient.auth.getUser(E);if(P.data?.authenticated&&P.data.user){const _=this.mapUserInfo(P.data.user);return await this.cacheUserInfo(f,_),_}return null}catch(h){return this.logAuthServiceError("Get user info",h,u,"/api/auth/user","GET"),null}}clearTokenCache(u){(0,n.clearTokenCache)(this.cache,u)}clearUserCache(u){(0,n.clearUserCache)(this.cache,u)}async logout(u){const c=this.generateCorrelationId(),h=this.httpClient.config.clientId;try{const f=await this.apiClient.auth.logoutWithToken(u.token);return this.clearTokenCache(u.token),this.clearUserCache(u.token),f}catch(f){return(0,t.isHttpStatus)(f,400)?(console.warn(`[Auth] Logout: No active session (400) [${c}]`,{correlationId:c}),this.clearTokenCache(u.token),this.clearUserCache(u.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}):((0,t.handleAuthErrorSilent)(f,"Logout",c,h),{success:!1,message:"Logout failed",timestamp:new Date().toISOString()})}}async refreshToken(u,c){const h=this.generateCorrelationId(),f=this.httpClient.config.clientId;try{const p=c||this.httpClient.config.authStrategy,E=await this.apiClient.auth.refreshToken({refreshToken:u},p);return E.data?{success:E.success,accessToken:E.data.accessToken,refreshToken:E.data.refreshToken||u,expiresIn:E.data.expiresIn,expiresAt:E.timestamp,timestamp:E.timestamp}:null}catch(p){return(0,t.handleAuthErrorSilent)(p,"Refresh token",h,f)}}async isAuthenticated(u,c){return this.validateToken(u,c)}}return El.AuthService=l,El}var wl={},Sl={},U0;function Td(){if(U0)return Sl;U0=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.decodeJWT=s,Sl.extractUserIdFromToken=n;function t(i){let a=i.replace(/-/g,"+").replace(/_/g,"/");for(;a.length%4;)a+="=";return a}function s(i){try{const a=i.split(".");if(a.length!==3)return null;const l=a[1],o=t(l),u=atob(o);return JSON.parse(u)}catch{return null}}function n(i){try{const a=s(i);if(!a)return null;const l=a.sub||a.userId||a.user_id||a.id;return l||null}catch{return null}}return Sl}var bl={},ma={},Nr={},$0;function XC(){if($0)return Nr;$0=1;var t=Nr&&Nr.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.isBrowser=n,Nr.getLocalStorage=i,Nr.setLocalStorage=a,Nr.removeLocalStorage=l,Nr.extractUserIdFromToken=o,Nr.generateCacheKey=u,Nr.truncatePayload=c,Nr.calculateSize=h,Nr.isRetryableError=f,Nr.calculateBackoffDelay=p;const s=t(Tc());function n(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function i(E){if(!n())return null;try{return globalThis.localStorage.getItem(E)}catch{return null}}function a(E,P){if(n())try{globalThis.localStorage.setItem(E,P)}catch{}}function l(E){if(n())try{globalThis.localStorage.removeItem(E)}catch{}}function o(E){try{const P=s.default.decode(E);return P?P.sub||P.userId||P.user_id||P.id:null}catch{return null}}function u(E,P){const _=P?.method||"GET",C=P?.body?JSON.stringify(P.body):"";return`data-client:${_}:${E}:${C}`}function c(E,P){const _=JSON.stringify(E);return _.length<=P?{data:E,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:_.length},truncated:!0}}function h(E){try{return JSON.stringify(E).length}catch{return 0}}function f(E,P){return!E||E>=500||E===408||E===429?!0:(E===401||E===403||E>=400&&E<500,!1)}function p(E,P,_){return Math.min(P*Math.pow(2,E),_)+Math.random()*1e3}return Nr}var M0;function YC(){if(M0)return ma;M0=1;var t=ma&&ma.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ma,"__esModule",{value:!0}),ma.extractClientTokenInfo=u;const s=t(Tc()),n=XC(),i=rs();function a(c){if((0,n.isBrowser)())try{const h=c.split(".");if(h.length!==3)return null;let f=h[1];for(;f.length%4;)f+="=";return f=f.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(atob(f))}catch(h){return(0,i.writeWarn)(`[decodeJWT] Browser decode failed: ${String(h)}`),null}else try{return s.default.decode(c)}catch(h){return(0,i.writeWarn)(`[decodeJWT] Node.js decode failed: ${String(h)}`),null}}function l(c){return typeof c=="string"}function o(c,...h){for(const f of h){const p=c[f];if(l(p))return p}}function u(c){try{const h=a(c);if(!h||typeof h!="object")return(0,i.writeWarn)("[extractClientTokenInfo] Failed to decode client token: Invalid token format"),{};const f={},p=o(h,"application","app"),E=o(h,"environment","env","environmentKey"),P=o(h,"applicationId","app_id"),_=o(h,"clientId","client_id");return p&&(f.application=p),E&&(f.environment=E),P&&(f.applicationId=P),_&&(f.clientId=_),f}catch(h){return(0,i.writeWarn)(`[extractClientTokenInfo] Failed to decode client token: ${h instanceof Error?h.message:String(h)}`),{}}}return ma}var q0;function _c(){if(q0)return bl;q0=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.ApplicationContextService=void 0;const t=YC(),s=XC(),n=xs(),i=rs();class a{constructor(o){this.cachedContext=null,this.httpClient=o}parseClientIdFormat(o){try{if(!o||typeof o!="string")return{environment:null,application:null};const u=o.split("-");if(u.length<4||u[0]!=="miso"||u[1]!=="controller")return{environment:null,application:null};const c=u[2]||null,h=u.slice(3).join("-")||null;return{environment:c,application:h}}catch(u){return(0,i.logErrorWithContext)((0,n.extractErrorInfo)(u,{endpoint:"parseClientId"}),"[ApplicationContextService]"),{environment:null,application:null}}}getClientToken(){try{if(this.httpClient.config.clientToken)return this.httpClient.config.clientToken;if((0,s.isBrowser)()){const o=(0,s.getLocalStorage)("miso:client-token");if(o)return o}return null}catch(o){return(0,i.logErrorWithContext)((0,n.extractErrorInfo)(o,{endpoint:"getClientToken"}),"[ApplicationContextService]"),null}}extractFromClientToken(o){const u={application:"",applicationId:"",environment:""};try{const c=(0,t.extractClientTokenInfo)(o);c.applicationId&&(u.applicationId=c.applicationId),c.environment&&(u.environment=c.environment),c.application&&(u.application=c.application)}catch(c){(0,i.logErrorWithContext)((0,n.extractErrorInfo)(c,{endpoint:"extractClientToken"}),"[ApplicationContextService]")}return u}applyClientIdFallback(o,u){if(o&&u)return{application:o,environment:u};const c=this.parseClientIdFormat(this.httpClient.config.clientId);return{application:o||c.application||"",environment:u||c.environment||""}}getApplicationContext(){if(this.cachedContext)return this.cachedContext;let o="",u="",c="";const h=this.getClientToken();if(h){const p=this.extractFromClientToken(h);u=p.applicationId,o=p.application,c=p.environment}const f=this.applyClientIdFallback(o,c);return this.cachedContext={application:f.application,applicationId:u||"",environment:f.environment},this.cachedContext}clearCache(){this.cachedContext=null}}return bl.ApplicationContextService=a,bl}var F0;function QC(){if(F0)return wl;F0=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.RoleService=void 0;const t=Td(),s=_c(),n=xs(),i=rs();class a{constructor(o,u,c){this.cache=c,this.httpClient=o,this.apiClient=u,this.roleTTL=this.httpClient.config.cache?.roleTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}buildAuthStrategy(o,u){const c=u||this.httpClient.config.authStrategy;return c?{...c,bearerToken:o}:{methods:["bearer"],bearerToken:o}}getEnvironmentParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async resolveUserId(o,u){const c=(0,t.extractUserIdFromToken)(o);if(c)return c;const h=this.buildAuthStrategy(o,u);return(await this.apiClient.auth.validateToken({token:o},h)).data?.user?.id||null}async getRoles(o,u){try{let c=(0,t.extractUserIdFromToken)(o);const h=c?`roles:${c}`:null;if(h){const p=await this.cache.get(h);if(p)return p.roles||[]}if(!c&&(c=await this.resolveUserId(o,u),!c))return[];const f=await this.fetchRolesFromController(o,u);return await this.cache.set(`roles:${c}`,{roles:f,timestamp:Date.now()},this.roleTTL),f}catch(c){const h=(0,n.extractErrorInfo)(c,{endpoint:"/api/auth/roles",method:"GET",correlationId:c?.correlationId});return h.message=`Failed to get roles: ${h.message}`,(0,i.logErrorWithContext)(h,"[RoleService]"),[]}}async fetchRolesFromController(o,u){const c=this.buildAuthStrategy(o,u),h=this.getEnvironmentParams();return(await this.apiClient.roles.getRoles(h,c)).data?.roles||[]}async hasRole(o,u,c){return(await this.getRoles(o,c)).includes(u)}async hasAnyRole(o,u,c){const h=await this.getRoles(o,c);return u.some(f=>h.includes(f))}async hasAllRoles(o,u,c){const h=await this.getRoles(o,c);return u.every(f=>h.includes(f))}async refreshRoles(o,u){try{const c=this.buildAuthStrategy(o,u),f=(await this.apiClient.auth.validateToken({token:o},c)).data?.user?.id;if(!f)return[];const p=this.getEnvironmentParams(),P=(await this.apiClient.roles.refreshRoles(p,c)).data?.roles||[];return await this.cache.set(`roles:${f}`,{roles:P,timestamp:Date.now()},this.roleTTL),P}catch(c){const h=(0,n.extractErrorInfo)(c,{endpoint:"/api/auth/roles/refresh",method:"POST",correlationId:c?.correlationId});return h.message=`Failed to refresh roles: ${h.message}`,(0,i.logErrorWithContext)(h,"[RoleService]"),[]}}}return wl.RoleService=a,wl}var xl={},H0;function ZC(){if(H0)return xl;H0=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.PermissionService=void 0;const t=Td(),s=_c(),n=xs(),i=rs();class a{constructor(o,u,c){this.cache=c,this.httpClient=o,this.apiClient=u,this.permissionTTL=this.httpClient.config.cache?.permissionTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}buildAuthStrategy(o,u){const c=u||this.httpClient.config.authStrategy;return c?{...c,bearerToken:o}:{methods:["bearer"],bearerToken:o}}getEnvironmentParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async resolveUserId(o,u){const c=(0,t.extractUserIdFromToken)(o);if(c)return c;const h=this.buildAuthStrategy(o,u);return(await this.apiClient.auth.validateToken({token:o},h)).data?.user?.id||null}async getPermissions(o,u){try{let c=(0,t.extractUserIdFromToken)(o);const h=c?`permissions:${c}`:null;if(h){const p=await this.cache.get(h);if(p)return p.permissions||[]}if(!c&&(c=await this.resolveUserId(o,u),!c))return[];const f=await this.fetchPermissionsFromController(o,u);return await this.cache.set(`permissions:${c}`,{permissions:f,timestamp:Date.now()},this.permissionTTL),f}catch(c){const h=(0,n.extractErrorInfo)(c,{endpoint:"/api/auth/permissions",method:"GET",correlationId:c?.correlationId});return h.message=`Failed to get permissions: ${h.message}`,(0,i.logErrorWithContext)(h,"[PermissionService]"),[]}}async fetchPermissionsFromController(o,u){const c=this.buildAuthStrategy(o,u),h=this.getEnvironmentParams();return(await this.apiClient.permissions.getPermissions(h,c)).data?.permissions||[]}async hasPermission(o,u,c){return(await this.getPermissions(o,c)).includes(u)}async hasAnyPermission(o,u,c){const h=await this.getPermissions(o,c);return u.some(f=>h.includes(f))}async hasAllPermissions(o,u,c){const h=await this.getPermissions(o,c);return u.every(f=>h.includes(f))}async refreshPermissions(o,u){try{const c=this.buildAuthStrategy(o,u),f=(await this.apiClient.auth.validateToken({token:o},c)).data?.user?.id;if(!f)return[];const p=this.getEnvironmentParams(),P=(await this.apiClient.permissions.refreshPermissions(p,c)).data?.permissions||[];return await this.cache.set(`permissions:${f}`,{permissions:P,timestamp:Date.now()},this.permissionTTL),P}catch(c){const h=(0,n.extractErrorInfo)(c,{endpoint:"/api/auth/permissions/refresh",method:"POST",correlationId:c?.correlationId});return h.message=`Failed to refresh permissions: ${h.message}`,(0,i.logErrorWithContext)(h,"[PermissionService]"),[]}}async clearPermissionsCache(o,u){try{const c=this.buildAuthStrategy(o,u),f=(await this.apiClient.auth.validateToken({token:o},c)).data?.user?.id;if(!f)return;await this.cache.delete(`permissions:${f}`)}catch(c){const h=(0,n.extractErrorInfo)(c,{endpoint:"/cache/permissions",method:"DELETE",correlationId:c?.correlationId});h.message=`Failed to clear permissions cache: ${h.message}`,(0,i.logErrorWithContext)(h,"[PermissionService]")}}}return xl.PermissionService=a,xl}var Mp={},Cl={};class _d{constructor(){this._events=new Map}on(s,n){return this._events.has(s)||this._events.set(s,[]),this._events.get(s).push(n),this}once(s,n){const i=(...a)=>{this.removeListener(s,i),n(...a)};return this.on(s,i),this}emit(s,...n){const i=this._events.get(s);return i&&i.length>0?(i.forEach(a=>{try{a(...n)}catch(l){console.error("EventEmitter error:",l)}}),!0):!1}removeListener(s,n){const i=this._events.get(s);if(i){const a=i.indexOf(n);a>-1&&i.splice(a,1)}return this}removeAllListeners(s){return s?this._events.delete(s):this._events.clear(),this}off(s,n){return this.removeListener(s,n)}addListener(s,n){return this.on(s,n)}}const ka={EventEmitter:_d};typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=ka,ze.exports.default=ka,ze.exports.EventEmitter=_d,ze.exports.events=ka);typeof ut<"u"&&(ut.default=ka,ut.events=ka,ut.EventEmitter=_d);const hI=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:_d,events:ka},Symbol.toStringTag,{value:"Module"}));var Tl={},rn={};const B0={},pI=Object.freeze(Object.defineProperty({__proto__:null,default:B0,fs:B0},Symbol.toStringTag,{value:"Module"})),e1=Sc(pI),z0={join:(...t)=>t.join("/"),resolve:(...t)=>t.join("/"),dirname:()=>"",basename:()=>"",extname:()=>""},mI=Object.freeze(Object.defineProperty({__proto__:null,default:z0,path:z0},Symbol.toStringTag,{value:"Module"})),t1=Sc(mI),gI="1.0.0",yI="ISO 27001 compliant sensitive fields configuration for data masking",vI={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},EI=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],wI={version:gI,description:yI,categories:vI,fieldPatterns:EI};var W0;function SI(){if(W0)return rn;W0=1;var t={},s=rn&&rn.__createBinding||(Object.create?(function(v,k,O,j){j===void 0&&(j=O);var D=Object.getOwnPropertyDescriptor(k,O);(!D||("get"in D?!k.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return k[O]}}),Object.defineProperty(v,j,D)}):(function(v,k,O,j){j===void 0&&(j=O),v[j]=k[O]})),n=rn&&rn.__setModuleDefault||(Object.create?(function(v,k){Object.defineProperty(v,"default",{enumerable:!0,value:k})}):function(v,k){v.default=k}),i=rn&&rn.__importStar||(function(){var v=function(k){return v=Object.getOwnPropertyNames||function(O){var j=[];for(var D in O)Object.prototype.hasOwnProperty.call(O,D)&&(j[j.length]=D);return j},v(k)};return function(k){if(k&&k.__esModule)return k;var O={};if(k!=null)for(var j=v(k),D=0;D<j.length;D++)j[D]!=="default"&&s(O,k,j[D]);return n(O,k),O}})(),a=rn&&rn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(rn,"__esModule",{value:!0}),rn.loadSensitiveFieldsConfig=_,rn.getFieldPatterns=x,rn.getSensitiveFieldsArray=w;const l=i(e1),o=i(t1),u=a(wI);function c(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function h(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function f(v){const k=v||t.MISO_SENSITIVE_FIELDS_CONFIG;return k?o.isAbsolute(k)?k:o.resolve(process.cwd(),k):null}function p(v){const k=new Set;return Object.values(v.categories).forEach(O=>{O.forEach(j=>k.add(j.toLowerCase()))}),c().forEach(O=>k.add(O)),k}function E(v){if(!l.existsSync(v))return null;const k=l.readFileSync(v,"utf8"),O=JSON.parse(k);return p(O)}function P(){try{const v=u.default;return p(v)}catch{const v=o.join(__dirname,"sensitive-fields.config.json");return E(v)}}function _(v){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!t)return c();try{const k=f(v);if(k){const j=E(k);if(j)return j}return P()??c()}catch{return c()}}function C(v){if(!l.existsSync(v))return null;const k=l.readFileSync(v,"utf8");return JSON.parse(k).fieldPatterns||h()}function R(){try{return u.default.fieldPatterns||h()}catch{const v=o.join(__dirname,"sensitive-fields.config.json");return C(v)}}function x(v){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!t)return h();try{const k=f(v);if(k){const j=C(k);if(j)return j}return R()??h()}catch{return h()}}function w(v){const k=_(v);return Array.from(k)}return rn}var K0;function Wg(){if(K0)return Tl;K0=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.DataMasker=void 0;const t=SI();class s{static initializeSensitiveFields(i){return this.configPath!==i&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=i),this.cachedFields?this.cachedFields:(this.cachedFields=(0,t.loadSensitiveFieldsConfig)(i),this.cachedFieldPatterns=(0,t.getFieldPatterns)(i),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,t.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(i){this.configPath=i,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(i){const a=this.getSensitiveFields(),l=this.getFieldPatterns(),o=i.toLowerCase().replace(/[_-]/g,"");if(a.has(o))return!0;for(const u of l)if(o.includes(u.toLowerCase()))return!0;return!1}static maskSensitiveData(i){if(i==null||typeof i!="object")return i;if(Array.isArray(i))return i.map(l=>this.maskSensitiveData(l));const a={};for(const[l,o]of Object.entries(i))this.isSensitiveField(l)?a[l]=this.MASKED_VALUE:typeof o=="object"&&o!==null?a[l]=this.maskSensitiveData(o):a[l]=o;return a}static maskValue(i,a=0,l=0){if(!i||i.length<=a+l)return this.MASKED_VALUE;const o=i.substring(0,a),u=i.substring(i.length-l),c="*".repeat(Math.min(8,i.length-a-l));return`${o}${c}${u}`}static containsSensitiveData(i){if(i==null||typeof i!="object")return!1;if(Array.isArray(i))return i.some(a=>this.containsSensitiveData(a));for(const[a,l]of Object.entries(i))if(this.isSensitiveField(a)||typeof l=="object"&&l!==null&&this.containsSensitiveData(l))return!0;return!1}}return Tl.DataMasker=s,s.MASKED_VALUE="***MASKED***",s.cachedFields=null,s.cachedFieldPatterns=null,s.configPath=void 0,Tl}var _l={},V0;function bI(){if(V0)return _l;V0=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.AuditLogQueue=void 0;class t{constructor(n,i,a,l){this.queue=[],this.flushTimer=null,this.isFlushing=!1,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.httpClient=n,this.redis=i,this.config=a,this.eventEmitter=l;const o=a.audit||{};this.batchSize=o.batchSize??10,this.batchInterval=o.batchInterval??100,typeof process<"u"&&(process.on("SIGINT",()=>this.flush(!0)),process.on("SIGTERM",()=>this.flush(!0)),process.on("beforeExit",()=>this.flush(!0)))}setApiClient(n){this.apiClient=n}async add(n){if(this.queue.push({entry:n,timestamp:Date.now()}),this.queue.length>=this.batchSize){await this.flush(!1);return}!this.flushTimer&&this.queue.length>0&&(this.flushTimer=setTimeout(()=>{this.flush(!1).catch(()=>{})},this.batchInterval),this.flushTimer&&typeof this.flushTimer.unref=="function"&&this.flushTimer.unref())}async flush(n=!1){if(!(this.isFlushing||this.queue.length===0)){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.isFlushing=!0;try{const i=this.queue.splice(0);if(i.length===0)return;const a=i.map(l=>l.entry);if(await this.flushToEvents(a)||await this.flushToRedis(a))return;await this.flushToHttp(a)}catch{}finally{this.isFlushing=!1}}}async flushToEvents(n){return!this.config.emitEvents||!this.eventEmitter?!1:(this.eventEmitter.emit("log:batch",n),!0)}async flushToRedis(n){if(!this.redis.isConnected())return!1;const i=`audit-logs:${this.config.clientId}`;return await this.redis.rpush(i,JSON.stringify(n))}async flushToHttp(n){const i=Date.now();if(!(this.httpLoggingDisabledUntil&&i<this.httpLoggingDisabledUntil))try{this.apiClient?await this.apiClient.logs.createBatchLogs({logs:n}):await this.httpClient.request("POST","/api/v1/logs/batch",{logs:n}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch{this.httpLoggingFailures++,this.httpLoggingFailures>=t.MAX_FAILURES&&(this.httpLoggingDisabledUntil=i+t.DISABLE_DURATION_MS,this.httpLoggingFailures=0)}}getQueueSize(){return this.queue.length}clear(){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue=[]}}return _l.AuditLogQueue=t,t.MAX_FAILURES=3,t.DISABLE_DURATION_MS=6e4,_l}var Rl={},ga={},G0;function Rd(){if(G0)return ga;G0=1;var t=ga&&ga.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ga,"__esModule",{value:!0}),ga.extractRequestContext=i;const s=t(Tc());function n(a){const o=(a.headers||{}).authorization;if(!o?.startsWith("Bearer "))return{};try{const u=o.substring(7),c=s.default.decode(u);return c?{userId:c.sub||c.userId||c.user_id||c.id,sessionId:c.sessionId||c.sid}:{}}catch{return{}}}function i(a){const l=a.headers||{},o=a.ip||l["x-forwarded-for"]?.split(",")[0]?.trim()||a.socket?.remoteAddress,u=l["x-correlation-id"]||l["x-request-id"]||l["request-id"],{userId:c,sessionId:h}=n(a);return{ipAddress:o,method:a.method,path:a.originalUrl||a.path,userAgent:l["user-agent"],correlationId:u,referer:l.referer,userId:c,sessionId:h,requestId:l["x-request-id"],requestSize:l["content-length"]?parseInt(l["content-length"],10):void 0}}return ga}var kl={},J0;function Rc(){if(J0)return kl;J0=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.LoggerContextStorage=void 0;const t=Li;class s{constructor(){this.asyncLocalStorage=new t.AsyncLocalStorage}static getInstance(){return s.instance||(s.instance=new s),s.instance}getContext(){const i=this.asyncLocalStorage.getStore();return i===void 0?null:i}setContext(i){const a=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...a,...i})}clearContext(){this.asyncLocalStorage.enterWith({})}mergeContext(i){const a=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...a,...i})}runWithContext(i,a){const l={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(l,a)}async runWithContextAsync(i,a){const l={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(l,a)}}return kl.LoggerContextStorage=s,s.instance=null,kl}var X0;function r1(){if(X0)return Rl;X0=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.LoggerChain=void 0;const t=Rd(),s=Rc();class n{constructor(a,l={},o={}){this.contextStorage=s.LoggerContextStorage.getInstance(),this.logger=a,this.context=l,this.options=o}addContext(a,l){return this.context[a]=l,this}withoutMasking(){return this.options.maskSensitiveData=!1,this}withIndexedContext(a){return this.options.sourceKey=a.sourceKey,this.options.sourceDisplayName=a.sourceDisplayName,this.options.externalSystemKey=a.externalSystemKey,this.options.externalSystemDisplayName=a.externalSystemDisplayName,this.options.recordKey=a.recordKey,this.options.recordDisplayName=a.recordDisplayName,this}withCredentialContext(a,l){return this.options.credentialId=a,this.options.credentialType=l,this}withResponseMetrics(a,l){return this.options.responseSize=a,this.options.durationMs=l,this}withRequest(a){const l=(0,t.extractRequestContext)(a),o=a.headers.authorization?.replace("Bearer ","");return this.contextStorage.mergeContext({ipAddress:l.ipAddress,method:l.method,path:l.path,userAgent:l.userAgent,correlationId:l.correlationId,referer:l.referer,userId:l.userId,sessionId:l.sessionId,requestId:l.requestId,requestSize:l.requestSize,token:o}),l.method&&(this.context.method=l.method),l.path&&(this.context.path=l.path),l.referer&&(this.context.referer=l.referer),l.requestSize!==void 0&&(this.context.requestSize=l.requestSize),this}async error(a,l){await this.logger.error(a,this.context,l,this.options)}async info(a){await this.logger.info(a,this.context,this.options)}async warn(a){await this.logger.warn(a,this.context,this.options)}async audit(a,l){await this.logger.audit(a,l,this.context,this.options)}}return Rl.LoggerChain=n,Rl}var Xs={},Y0;function n1(){if(Y0)return Xs;Y0=1;var t={},s=Xs&&Xs.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.extractJwtContext=l,Xs.extractEnvironmentMetadata=o,Xs.getLogWithRequest=u,Xs.getWithContext=c;const n=s(Tc()),i=Wg(),a=Rd();function l(h){if(!h)return{};try{const f=n.default.decode(h);return f?{userId:f.sub||f.userId||f.user_id,applicationId:f.applicationId||f.app_id,sessionId:f.sessionId||f.sid,roles:f.roles||f.realm_access?.roles||[],permissions:f.permissions||f.scope?.split(" ")||[]}:{}}catch{return{}}}function o(){const h={};if(typeof globalThis<"u"&&"window"in globalThis){const f=globalThis,p=f.window?.navigator,E=f.window?.location;h.userAgent=p?.userAgent,h.hostname=E?.hostname}return typeof process<"u"&&t&&(h.hostname=t.HOSTNAME||"unknown"),h}function u(h,f,p="info",E,P){const{applicationContextService:_,generateCorrelationId:C,maskSensitiveData:R,clientId:x}=P,w=(0,a.extractRequestContext)(h),v=l(h.headers.authorization?.replace("Bearer ","")),k=o(),O=_.getApplicationContext(),j=w.correlationId||C(),D=R&&E?i.DataMasker.maskSensitiveData(E):E;let I=v.applicationId||"";return!I&&O.applicationId&&(I=O.applicationId),{timestamp:new Date().toISOString(),level:p,environment:O.environment||"unknown",application:O.application||x||"",applicationId:I,message:f,context:D,correlationId:j,userId:w.userId||v.userId,sessionId:w.sessionId||v.sessionId,requestId:w.requestId,ipAddress:w.ipAddress||k.ipAddress,userAgent:w.userAgent||k.userAgent,referer:w.referer,requestSize:w.requestSize,...k}}function c(h,f,p="info",E){const{applicationContextService:P,generateCorrelationId:_,maskSensitiveData:C,clientId:R}=E,x=o(),w=_(),v=P.getApplicationContext(),k=C?i.DataMasker.maskSensitiveData(h):h;return{timestamp:new Date().toISOString(),level:p,environment:v.environment||"unknown",application:v.application||R||"",applicationId:v.applicationId||"",message:f,context:k,correlationId:w,...x}}return Xs}var Al={},Q0;function xI(){if(Q0)return Al;Q0=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.isAuthError=t,Al.sendAuditLogPayload=s;function t(n){return n instanceof Error?n.message.includes("401")||n.message.includes("Unauthorized")?!0:n.statusCode===401:!1}async function s(n,i,a,l,o){const u=a.resource,c=a.oldValues,h=a.newValues,f=a.entityType||(u?.startsWith("/api/")?"API Endpoint":"HTTP Request"),p=a.entityId||u||"unknown",E=a.action||"unknown";delete a.action,delete a.resource,delete a.entityType,delete a.entityId,delete a.oldValues,delete a.newValues,await n.logs.createLog({type:l,data:{level:o,message:i.message,context:a,correlationId:i.correlationId,entityType:f,entityId:p,action:E,oldValues:c,newValues:h}})}return Al}var Z0;function CI(){if(Z0)return Cl;Z0=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.LoggerService=void 0;const t=hI,s=Wg(),n=bI(),i=r1(),a=_c(),l=Rc(),o=n1(),u=xI();class c extends t.EventEmitter{constructor(f,p){super(),this.maskSensitiveData=!0,this.correlationCounter=0,this.auditLogQueue=null,this.loggerContextStorage=l.LoggerContextStorage.getInstance(),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.redis=p,this.httpClient=f,this.applicationContextService=new a.ApplicationContextService(f);const E=this.httpClient.config.audit||{};(E.batchSize!==void 0||E.batchInterval!==void 0)&&(this.auditLogQueue=new n.AuditLogQueue(f,p,this.httpClient.config,this))}setHttpClient(f){this.httpClient=f,this.applicationContextService=new a.ApplicationContextService(f)}setApiClient(f){this.apiClient=f,this.auditLogQueue&&this.auditLogQueue.setApiClient(f)}getApplicationContextService(){return this.applicationContextService}setMasking(f){this.maskSensitiveData=f}generateCorrelationId(){this.correlationCounter=(this.correlationCounter+1)%1e4;const f=Date.now(),p=Math.random().toString(36).substring(2,8);return`${this.httpClient.config.clientId.substring(0,10)}-${f}-${this.correlationCounter}-${p}`}async error(f,p,E,P){await this.log("error",f,p,E,P)}async audit(f,p,E,P){const _={action:f,resource:p,...E};await this.log("audit",`Audit: ${f} on ${p}`,_,void 0,P)}async info(f,p,E){await this.log("info",f,p,void 0,E)}async warn(f,p,E){await this.log("warn",f,p,void 0,E)}async debug(f,p,E){this.httpClient.config.logLevel==="debug"&&await this.log("debug",f,p,void 0,E)}async log(f,p,E,P,_){const C=this.loggerContextStorage.getContext()||{},R=C.token?(0,o.extractJwtContext)(C.token):{},x=(0,o.extractEnvironmentMetadata)(),w=C.correlationId||this.generateCorrelationId(),v=this.maskContext(E,_),k=this.applicationContextService.getApplicationContext(),O=this.buildLogEntry({level:f,message:p,maskedContext:v,stackTrace:P,options:_,jwtContext:R,metadata:x,appContext:k,loggerContext:C,correlationId:w});if(this.httpClient.config.emitEvents){this.emit("log",O);return}if(f==="audit"&&this.auditLogQueue){await this.auditLogQueue.add(O);return}await this.sendToRedis(O)||this.isCircuitOpen()||await this.sendToHttp(f,O)}maskContext(f,p){return!(p?.maskSensitiveData!==!1&&this.maskSensitiveData)||!f?f:s.DataMasker.maskSensitiveData(f)}buildLogEntry(f){const p=f,E=typeof p.maskedContext?.environment=="string"?p.maskedContext.environment:void 0,P=typeof p.maskedContext?.application=="string"?p.maskedContext.application:void 0,_=this.resolveApplicationId(p.jwtContext,p.appContext,p.loggerContext);return{timestamp:new Date().toISOString(),level:p.level,environment:E||p.appContext.environment||"unknown",application:P||p.appContext.application||this.httpClient.config.clientId,applicationId:_,message:p.message,context:p.maskedContext,stackTrace:p.stackTrace,correlationId:p.correlationId,userId:p.loggerContext?.userId||p.jwtContext.userId,sessionId:p.loggerContext?.sessionId||p.jwtContext.sessionId,requestId:p.loggerContext?.requestId,ipAddress:p.loggerContext?.ipAddress||p.metadata.ipAddress,userAgent:p.loggerContext?.userAgent||p.metadata.userAgent,referer:p.loggerContext?.referer,...p.metadata,sourceKey:p.options?.sourceKey,sourceDisplayName:p.options?.sourceDisplayName,externalSystemKey:p.options?.externalSystemKey,externalSystemDisplayName:p.options?.externalSystemDisplayName,recordKey:p.options?.recordKey,recordDisplayName:p.options?.recordDisplayName,credentialId:p.options?.credentialId,credentialType:p.options?.credentialType,requestSize:p.loggerContext?.requestSize,responseSize:p.options?.responseSize,durationMs:p.options?.durationMs,errorCategory:p.options?.errorCategory,httpStatusCategory:p.options?.httpStatusCategory}}resolveApplicationId(f,p,E){return E?.applicationId?E.applicationId:p.applicationId?p.applicationId:f.applicationId||""}async sendToRedis(f){if(!this.redis.isConnected())return!1;const p=`logs:${this.httpClient.config.clientId}`;return!!await this.redis.rpush(p,JSON.stringify(f))}isCircuitOpen(){const f=Date.now();return!!(this.httpLoggingDisabledUntil&&f<this.httpLoggingDisabledUntil)}mapLogType(f){const p=f==="audit"?"audit":f==="error"?"error":"general";let E;switch(f){case"audit":case"info":E="info";break;case"warn":E="warn";break;case"error":E="error";break;case"debug":E="debug";break;default:E=this.assertNever(f)}return{logType:p,logLevel:E}}assertNever(f){throw new Error(`Unhandled log level: ${String(f)}`)}buildEnrichedContext(f){const p={...f.context,userId:f.userId,sessionId:f.sessionId,requestId:f.requestId,ipAddress:f.ipAddress,userAgent:f.userAgent,referer:f.referer,hostname:f.hostname,applicationId:f.applicationId,sourceKey:f.sourceKey,sourceDisplayName:f.sourceDisplayName,externalSystemKey:f.externalSystemKey,externalSystemDisplayName:f.externalSystemDisplayName,recordKey:f.recordKey,recordDisplayName:f.recordDisplayName,credentialId:f.credentialId,credentialType:f.credentialType,requestSize:f.requestSize,responseSize:f.responseSize,durationMs:f.durationMs,errorCategory:f.errorCategory,httpStatusCategory:f.httpStatusCategory};return Object.keys(p).forEach(E=>{p[E]===void 0&&delete p[E]}),f.stackTrace&&(p.stackTrace=f.stackTrace),p}async sendToHttp(f,p){const E=Date.now();try{if(!this.apiClient)throw new Error("ApiClient not initialized. Call setApiClient() before logging.");const{logType:P,logLevel:_}=this.mapLogType(f),C=this.buildEnrichedContext(p);f==="audit"?await(0,u.sendAuditLogPayload)(this.apiClient,p,C,P,_):await this.apiClient.logs.createLog({type:P,data:{level:_,message:p.message,context:C,correlationId:p.correlationId}}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch(P){(0,u.isAuthError)(P)||(this.httpLoggingFailures++,this.httpLoggingFailures>=c.MAX_FAILURES&&(this.httpLoggingDisabledUntil=E+c.DISABLE_DURATION_MS,this.httpLoggingFailures=0))}}withContext(f){return new i.LoggerChain(this,f)}withoutMasking(){return new i.LoggerChain(this,{},{maskSensitiveData:!1})}getLogWithRequest(f,p,E="info",P){return(0,o.getLogWithRequest)(f,p,E,P,{applicationContextService:this.applicationContextService,generateCorrelationId:()=>this.generateCorrelationId(),maskSensitiveData:this.maskSensitiveData,clientId:this.httpClient.config.clientId})}getWithContext(f,p,E="info"){return(0,o.getWithContext)(f,p,E,{applicationContextService:this.applicationContextService,generateCorrelationId:()=>this.generateCorrelationId(),maskSensitiveData:this.maskSensitiveData,clientId:this.httpClient.config.clientId})}getForRequest(f,p,E="info",P){return this.getLogWithRequest(f,p,E,P)}forRequest(f){return new i.LoggerChain(this,{},{}).withRequest(f)}}return Cl.LoggerService=c,c.MAX_FAILURES=3,c.DISABLE_DURATION_MS=6e4,Cl}var Il={},eS;function Kg(){if(eS)return Il;eS=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.UnifiedLoggerService=void 0;class t{constructor(n,i){this.loggerService=n,this.contextStorage=i}getContext(){return this.contextStorage.getContext()||{}}buildLoggingOptions(n){return{maskSensitiveData:!0}}extractErrorContext(n){if(!n)return{};if(n instanceof Error)return{stackTrace:n.stack,errorName:n.name,errorMessage:n.message};if(typeof n=="string")return{errorMessage:n};if(typeof n=="object"&&n!==null){const i=n;return{stackTrace:i.stack,errorName:i.name,errorMessage:i.message}}return{}}async info(n){try{const i=this.getContext(),a=this.buildLoggingOptions(i);await this.loggerService.info(n,void 0,a)}catch{}}async warn(n){try{const i=this.getContext(),a=this.buildLoggingOptions(i);await this.loggerService.warn(n,void 0,a)}catch{}}async debug(n){try{const i=this.getContext(),a=this.buildLoggingOptions(i);await this.loggerService.debug(n,void 0,a)}catch{}}async error(n,i){try{const a=this.getContext(),l=this.buildLoggingOptions(a),o=this.extractErrorContext(i),u={};o.errorName&&(u.errorName=o.errorName),o.errorMessage&&(u.errorMessage=o.errorMessage),await this.loggerService.error(n,u,o.stackTrace,l)}catch{}}async audit(n,i,a,l,o){try{const u=this.getContext(),c=this.buildLoggingOptions(u),h={entityId:a||"unknown"};l!==void 0&&(h.oldValues=l),o!==void 0&&(h.newValues=o),await this.loggerService.audit(n,i,h,c)}catch{}}}return Il.UnifiedLoggerService=t,Il}var ws={},tS;function s1(){if(tS)return ws;tS=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.LoggerServiceRegistry=void 0,ws.getLogger=i,ws.setLoggerContext=a,ws.clearLoggerContext=l,ws.mergeLoggerContext=o,ws.registerLoggerService=u;const t=Kg(),s=Rc();class n{static register(h){n.instance=h}static get(){return n.instance}static clear(){n.instance=null}}ws.LoggerServiceRegistry=n,n.instance=null;function i(c){const h=s.LoggerContextStorage.getInstance(),f=c||n.get();if(!f)throw new Error("LoggerService not available. Either pass LoggerService to getLogger() or ensure MisoClient is initialized.");return new t.UnifiedLoggerService(f,h)}function a(c){s.LoggerContextStorage.getInstance().setContext(c)}function l(){s.LoggerContextStorage.getInstance().clearContext()}function o(c){s.LoggerContextStorage.getInstance().mergeContext(c)}function u(c){n.register(c)}return ws}var rS;function nd(){return rS||(rS=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoggerService=t.getLogger=t.LoggerContextStorage=t.UnifiedLoggerService=t.LoggerChain=t.LoggerService=void 0;var s=CI();Object.defineProperty(t,"LoggerService",{enumerable:!0,get:function(){return s.LoggerService}});var n=r1();Object.defineProperty(t,"LoggerChain",{enumerable:!0,get:function(){return n.LoggerChain}});var i=Kg();Object.defineProperty(t,"UnifiedLoggerService",{enumerable:!0,get:function(){return i.UnifiedLoggerService}});var a=Rc();Object.defineProperty(t,"LoggerContextStorage",{enumerable:!0,get:function(){return a.LoggerContextStorage}});var l=s1();Object.defineProperty(t,"getLogger",{enumerable:!0,get:function(){return l.getLogger}}),Object.defineProperty(t,"registerLoggerService",{enumerable:!0,get:function(){return l.registerLoggerService}})})(Mp)),Mp}var Eo={};class Vg{constructor(s){this.options=s||{},this.connected=!1}async connect(){return console.warn("[Redis Stub] Redis.connect() called in browser - Redis is server-side only"),this.connected=!0,Promise.resolve()}async disconnect(){return this.connected=!1,Promise.resolve()}async get(s){return null}async set(s,n){return"OK"}async del(s){return 0}async rpush(s,n){return 0}async lpop(s){return null}async exists(s){return 0}async expire(s,n){return 0}async keys(s){return[]}isConnected(){return!1}on(){return this}off(){return this}once(){return Promise.resolve({})}emit(){return!1}}const sd=Vg;typeof ze<"u"&&typeof ze.exports<"u"&&(ze.exports=sd,ze.exports.default=sd,ze.exports.Redis=Vg);const TI=Object.freeze(Object.defineProperty({__proto__:null,Redis:sd,RedisStub:Vg,default:sd},Symbol.toStringTag,{value:"Module"}));var nS;function Gg(){if(nS)return Eo;nS=1;var t=Eo&&Eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.RedisService=void 0;const s=t(TI);class n{constructor(a){this.connected=!1,this.config=a}async connect(){if(this.config)try{this.redis=new s.default({host:this.config.host,port:this.config.port,password:this.config.password,db:this.config.db||0,keyPrefix:this.config.keyPrefix||"miso:",maxRetriesPerRequest:3,lazyConnect:!0,enableReadyCheck:!1,disableClientInfo:!0}),await this.redis.connect(),this.connected=!0}catch(a){throw console.error("Failed to connect to Redis:",{errorMessage:a instanceof Error?a.message:String(a)}),this.connected=!1,a}}async disconnect(){this.redis&&(await this.redis.disconnect(),this.connected=!1)}async get(a){if(!this.redis||!this.connected)return null;try{return await this.redis.get(a)}catch(l){return console.error("Redis get error:",{key:a,errorMessage:l instanceof Error?l.message:String(l)}),null}}async set(a,l,o){if(!this.redis||!this.connected)return!1;try{return await this.redis.setex(a,o,l),!0}catch(u){return console.error("Redis set error:",{key:a,errorMessage:u instanceof Error?u.message:String(u)}),!1}}async delete(a){if(!this.redis||!this.connected)return!1;try{return await this.redis.del(a),!0}catch(l){return console.error("Redis delete error:",{key:a,errorMessage:l instanceof Error?l.message:String(l)}),!1}}async rpush(a,l){if(!this.redis||!this.connected)return!1;try{return await this.redis.rpush(a,l),!0}catch(o){return console.error("Redis rpush error:",{queue:a,errorMessage:o instanceof Error?o.message:String(o)}),!1}}isConnected(){return this.connected}}return Eo.RedisService=n,Eo}var Pl={},sS;function Jg(){if(sS)return Pl;sS=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.CacheService=void 0;const t=xs(),s=rs();class n{constructor(a){this.memoryCache=new Map,this.redis=a,this.cleanupInterval=setInterval(()=>{this.cleanupExpired()},300*1e3),this.cleanupInterval&&typeof this.cleanupInterval.unref=="function"&&this.cleanupInterval.unref()}cleanupExpired(){const a=Date.now(),l=[];for(const[o,u]of this.memoryCache.entries())u.expiresAt<a&&l.push(o);for(const o of l)this.memoryCache.delete(o)}parseAndCacheRedisValue(a,l){try{const o=JSON.parse(l);return this.setInMemory(a,o,300),o}catch(o){return(0,s.logErrorWithContext)((0,t.extractErrorInfo)(o,{endpoint:a,method:"parseCache"}),"[CacheService]"),this.delete(a),null}}async get(a){try{if(this.redis&&this.redis.isConnected()){const o=await this.redis.get(a);if(o)return this.parseAndCacheRedisValue(a,o)}const l=this.memoryCache.get(a);return l?l.expiresAt<Date.now()?(this.memoryCache.delete(a),null):l.value:null}catch{const l=this.memoryCache.get(a);return l&&l.expiresAt>=Date.now()?l.value:null}}async set(a,l,o){try{const u=JSON.stringify(l);let c=!0;return this.redis&&this.redis.isConnected()&&(c=await this.redis.set(a,u,o)),this.setInMemory(a,l,o),c}catch(u){try{return this.setInMemory(a,l,o),!1}catch{return(0,s.logErrorWithContext)((0,t.extractErrorInfo)(u,{endpoint:a,method:"setCache"}),"[CacheService]"),!1}}}setInMemory(a,l,o){const u=Date.now()+o*1e3;this.memoryCache.set(a,{value:l,expiresAt:u})}async delete(a){let l=!1;this.redis&&this.redis.isConnected()&&(l=await this.redis.delete(a));const o=this.memoryCache.delete(a);return l||o}async clear(){this.memoryCache.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=void 0),this.memoryCache.clear()}}return Pl.CacheService=n,Pl}var Nl={},wo={};/*! Axios v1.13.4 Copyright (c) 2026 Matt Zabriskie and contributors */var qp,iS;function Xg(){if(iS)return qp;iS=1;function t(y,S){return function(){return y.apply(S,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:i,toStringTag:a}=Symbol,l=(y=>S=>{const T=s.call(S);return y[T]||(y[T]=T.slice(8,-1).toLowerCase())})(Object.create(null)),o=y=>(y=y.toLowerCase(),S=>l(S)===y),u=y=>S=>typeof S===y,{isArray:c}=Array,h=u("undefined");function f(y){return y!==null&&!h(y)&&y.constructor!==null&&!h(y.constructor)&&_(y.constructor.isBuffer)&&y.constructor.isBuffer(y)}const p=o("ArrayBuffer");function E(y){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(y):S=y&&y.buffer&&p(y.buffer),S}const P=u("string"),_=u("function"),C=u("number"),R=y=>y!==null&&typeof y=="object",x=y=>y===!0||y===!1,w=y=>{if(l(y)!=="object")return!1;const S=n(y);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(a in y)&&!(i in y)},v=y=>{if(!R(y)||f(y))return!1;try{return Object.keys(y).length===0&&Object.getPrototypeOf(y)===Object.prototype}catch{return!1}},k=o("Date"),O=o("File"),j=o("Blob"),D=o("FileList"),I=y=>R(y)&&_(y.pipe),H=y=>{let S;return y&&(typeof FormData=="function"&&y instanceof FormData||_(y.append)&&((S=l(y))==="formdata"||S==="object"&&_(y.toString)&&y.toString()==="[object FormData]"))},G=o("URLSearchParams"),[ie,he,X,V]=["ReadableStream","Request","Response","Headers"].map(o),M=y=>y.trim?y.trim():y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(y,S,{allOwnKeys:T=!1}={}){if(y===null||typeof y>"u")return;let N,L;if(typeof y!="object"&&(y=[y]),c(y))for(N=0,L=y.length;N<L;N++)S.call(null,y[N],N,y);else{if(f(y))return;const F=T?Object.getOwnPropertyNames(y):Object.keys(y),q=F.length;let Z;for(N=0;N<q;N++)Z=F[N],S.call(null,y[Z],Z,y)}}function B(y,S){if(f(y))return null;S=S.toLowerCase();const T=Object.keys(y);let N=T.length,L;for(;N-- >0;)if(L=T[N],S===L.toLowerCase())return L;return null}const $=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Oo,Y=y=>!h(y)&&y!==$;function te(){const{caseless:y,skipUndefined:S}=Y(this)&&this||{},T={},N=(L,F)=>{const q=y&&B(T,F)||F;w(T[q])&&w(L)?T[q]=te(T[q],L):w(L)?T[q]=te({},L):c(L)?T[q]=L.slice():(!S||!h(L))&&(T[q]=L)};for(let L=0,F=arguments.length;L<F;L++)arguments[L]&&W(arguments[L],N);return T}const J=(y,S,T,{allOwnKeys:N}={})=>(W(S,(L,F)=>{T&&_(L)?Object.defineProperty(y,F,{value:t(L,T),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(y,F,{value:L,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:N}),y),ne=y=>(y.charCodeAt(0)===65279&&(y=y.slice(1)),y),ue=(y,S,T,N)=>{y.prototype=Object.create(S.prototype,N),Object.defineProperty(y.prototype,"constructor",{value:y,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(y,"super",{value:S.prototype}),T&&Object.assign(y.prototype,T)},ge=(y,S,T,N)=>{let L,F,q;const Z={};if(S=S||{},y==null)return S;do{for(L=Object.getOwnPropertyNames(y),F=L.length;F-- >0;)q=L[F],(!N||N(q,y,S))&&!Z[q]&&(S[q]=y[q],Z[q]=!0);y=T!==!1&&n(y)}while(y&&(!T||T(y,S))&&y!==Object.prototype);return S},ve=(y,S,T)=>{y=String(y),(T===void 0||T>y.length)&&(T=y.length),T-=S.length;const N=y.indexOf(S,T);return N!==-1&&N===T},Oe=y=>{if(!y)return null;if(c(y))return y;let S=y.length;if(!C(S))return null;const T=new Array(S);for(;S-- >0;)T[S]=y[S];return T},Fe=(y=>S=>y&&S instanceof y)(typeof Uint8Array<"u"&&n(Uint8Array)),Le=(y,S)=>{const N=(y&&y[i]).call(y);let L;for(;(L=N.next())&&!L.done;){const F=L.value;S.call(y,F[0],F[1])}},Ye=(y,S)=>{let T;const N=[];for(;(T=y.exec(S))!==null;)N.push(T);return N},gt=o("HTMLFormElement"),$t=y=>y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(T,N,L){return N.toUpperCase()+L}),K=(({hasOwnProperty:y})=>(S,T)=>y.call(S,T))(Object.prototype),we=o("RegExp"),be=(y,S)=>{const T=Object.getOwnPropertyDescriptors(y),N={};W(T,(L,F)=>{let q;(q=S(L,F,y))!==!1&&(N[F]=q||L)}),Object.defineProperties(y,N)},rt=y=>{be(y,(S,T)=>{if(_(y)&&["arguments","caller","callee"].indexOf(T)!==-1)return!1;const N=y[T];if(_(N)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+T+"'")})}})},ct=(y,S)=>{const T={},N=L=>{L.forEach(F=>{T[F]=!0})};return c(y)?N(y):N(String(y).split(S)),T},dt=()=>{},Ts=(y,S)=>y!=null&&Number.isFinite(y=+y)?y:S;function cr(y){return!!(y&&_(y.append)&&y[a]==="FormData"&&y[i])}const $n=y=>{const S=new Array(10),T=(N,L)=>{if(R(N)){if(S.indexOf(N)>=0)return;if(f(N))return N;if(!("toJSON"in N)){S[L]=N;const F=c(N)?[]:{};return W(N,(q,Z)=>{const pe=T(q,L+1);!h(pe)&&(F[Z]=pe)}),S[L]=void 0,F}}return N};return T(y,0)},gn=o("AsyncFunction"),Mt=y=>y&&(R(y)||_(y))&&_(y.then)&&_(y.catch),Cr=((y,S)=>y?setImmediate:S?((T,N)=>($.addEventListener("message",({source:L,data:F})=>{L===$&&F===T&&N.length&&N.shift()()},!1),L=>{N.push(L),$.postMessage(T,"*")}))(`axios@${Math.random()}`,[]):T=>setTimeout(T))(typeof setImmediate=="function",_($.postMessage)),ii=typeof queueMicrotask<"u"?queueMicrotask.bind($):typeof process<"u"&&process.nextTick||Cr;var z={isArray:c,isArrayBuffer:p,isBuffer:f,isFormData:H,isArrayBufferView:E,isString:P,isNumber:C,isBoolean:x,isObject:R,isPlainObject:w,isEmptyObject:v,isReadableStream:ie,isRequest:he,isResponse:X,isHeaders:V,isUndefined:h,isDate:k,isFile:O,isBlob:j,isRegExp:we,isFunction:_,isStream:I,isURLSearchParams:G,isTypedArray:Fe,isFileList:D,forEach:W,merge:te,extend:J,trim:M,stripBOM:ne,inherits:ue,toFlatObject:ge,kindOf:l,kindOfTest:o,endsWith:ve,toArray:Oe,forEachEntry:Le,matchAll:Ye,isHTMLForm:gt,hasOwnProperty:K,hasOwnProp:K,reduceDescriptors:be,freezeMethods:rt,toObjectSet:ct,toCamelCase:$t,noop:dt,toFiniteNumber:Ts,findKey:B,global:$,isContextDefined:Y,isSpecCompliantForm:cr,toJSONObject:$n,isAsyncFn:gn,isThenable:Mt,setImmediate:Cr,asap:ii,isIterable:y=>y!=null&&_(y[i])};class at extends Error{static from(S,T,N,L,F,q){const Z=new at(S.message,T||S.code,N,L,F);return Z.cause=S,Z.name=S.name,q&&Object.assign(Z,q),Z}constructor(S,T,N,L,F){super(S),this.name="AxiosError",this.isAxiosError=!0,T&&(this.code=T),N&&(this.config=N),L&&(this.request=L),F&&(this.response=F,this.status=F.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}}at.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",at.ERR_BAD_OPTION="ERR_BAD_OPTION",at.ECONNABORTED="ECONNABORTED",at.ETIMEDOUT="ETIMEDOUT",at.ERR_NETWORK="ERR_NETWORK",at.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",at.ERR_DEPRECATED="ERR_DEPRECATED",at.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",at.ERR_BAD_REQUEST="ERR_BAD_REQUEST",at.ERR_CANCELED="ERR_CANCELED",at.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",at.ERR_INVALID_URL="ERR_INVALID_URL";var Pe=at,as=null;function Kt(y){return z.isPlainObject(y)||z.isArray(y)}function Fr(y){return z.endsWith(y,"[]")?y.slice(0,-2):y}function Hr(y,S,T){return y?y.concat(S).map(function(L,F){return L=Fr(L),!T&&F?"["+L+"]":L}).join(T?".":""):S}function oi(y){return z.isArray(y)&&!y.some(Kt)}const ai=z.toFlatObject(z,{},null,function(S){return/^is[A-Z]/.test(S)});function Br(y,S,T){if(!z.isObject(y))throw new TypeError("target must be an object");S=S||new FormData,T=z.toFlatObject(T,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ce,me){return!z.isUndefined(me[Ce])});const N=T.metaTokens,L=T.visitor||oe,F=T.dots,q=T.indexes,pe=(T.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(S);if(!z.isFunction(L))throw new TypeError("visitor must be a function");function ce(ae){if(ae===null)return"";if(z.isDate(ae))return ae.toISOString();if(z.isBoolean(ae))return ae.toString();if(!pe&&z.isBlob(ae))throw new Pe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(ae)||z.isTypedArray(ae)?pe&&typeof Blob=="function"?new Blob([ae]):Buffer.from(ae):ae}function oe(ae,Ce,me){let Qe=ae;if(ae&&!me&&typeof ae=="object"){if(z.endsWith(Ce,"{}"))Ce=N?Ce:Ce.slice(0,-2),ae=JSON.stringify(ae);else if(z.isArray(ae)&&oi(ae)||(z.isFileList(ae)||z.endsWith(Ce,"[]"))&&(Qe=z.toArray(ae)))return Ce=Fr(Ce),Qe.forEach(function(st,yt){!(z.isUndefined(st)||st===null)&&S.append(q===!0?Hr([Ce],yt,F):q===null?Ce:Ce+"[]",ce(st))}),!1}return Kt(ae)?!0:(S.append(Hr(me,Ce,F),ce(ae)),!1)}const ye=[],Be=Object.assign(ai,{defaultVisitor:oe,convertValue:ce,isVisitable:Kt});function lt(ae,Ce){if(!z.isUndefined(ae)){if(ye.indexOf(ae)!==-1)throw Error("Circular reference detected in "+Ce.join("."));ye.push(ae),z.forEach(ae,function(Qe,xt){(!(z.isUndefined(Qe)||Qe===null)&&L.call(S,Qe,z.isString(xt)?xt.trim():xt,Ce,Be))===!0&&lt(Qe,Ce?Ce.concat(xt):[xt])}),ye.pop()}}if(!z.isObject(y))throw new TypeError("data must be an object");return lt(y),S}function yn(y){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(y).replace(/[!'()~]|%20|%00/g,function(N){return S[N]})}function an(y,S){this._pairs=[],y&&Br(y,this,S)}const ln=an.prototype;ln.append=function(S,T){this._pairs.push([S,T])},ln.toString=function(S){const T=S?function(N){return S.call(this,N,yn)}:yn;return this._pairs.map(function(L){return T(L[0])+"="+T(L[1])},"").join("&")};function mr(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mn(y,S,T){if(!S)return y;const N=T&&T.encode||mr,L=z.isFunction(T)?{serialize:T}:T,F=L&&L.serialize;let q;if(F?q=F(S,L):q=z.isURLSearchParams(S)?S.toString():new an(S,L).toString(N),q){const Z=y.indexOf("#");Z!==-1&&(y=y.slice(0,Z)),y+=(y.indexOf("?")===-1?"?":"&")+q}return y}class vn{constructor(){this.handlers=[]}use(S,T,N){return this.handlers.push({fulfilled:S,rejected:T,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){z.forEach(this.handlers,function(N){N!==null&&S(N)})}}var Tr=vn,qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ge=typeof URLSearchParams<"u"?URLSearchParams:an,Tt=typeof FormData<"u"?FormData:null,Nt=typeof Blob<"u"?Blob:null,Vt={isBrowser:!0,classes:{URLSearchParams:Ge,FormData:Tt,Blob:Nt},protocols:["http","https","file","blob","url","data"]};const gr=typeof window<"u"&&typeof document<"u",Et=typeof navigator=="object"&&navigator||void 0,Dt=gr&&(!Et||["ReactNative","NativeScript","NS"].indexOf(Et.product)<0),En=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qt=gr&&window.location.href||"http://localhost";var ur=Object.freeze({__proto__:null,hasBrowserEnv:gr,hasStandardBrowserWebWorkerEnv:En,hasStandardBrowserEnv:Dt,navigator:Et,origin:qt}),et={...ur,...Vt};function yr(y,S){return Br(y,new et.classes.URLSearchParams,{visitor:function(T,N,L,F){return et.isNode&&z.isBuffer(T)?(this.append(N,T.toString("base64")),!1):F.defaultVisitor.apply(this,arguments)},...S})}function _s(y){return z.matchAll(/\w+|\[(\w*)]/g,y).map(S=>S[0]==="[]"?"":S[1]||S[0])}function qi(y){const S={},T=Object.keys(y);let N;const L=T.length;let F;for(N=0;N<L;N++)F=T[N],S[F]=y[F];return S}function Fi(y){function S(T,N,L,F){let q=T[F++];if(q==="__proto__")return!0;const Z=Number.isFinite(+q),pe=F>=T.length;return q=!q&&z.isArray(L)?L.length:q,pe?(z.hasOwnProp(L,q)?L[q]=[L[q],N]:L[q]=N,!Z):((!L[q]||!z.isObject(L[q]))&&(L[q]=[]),S(T,N,L[q],F)&&z.isArray(L[q])&&(L[q]=qi(L[q])),!Z)}if(z.isFormData(y)&&z.isFunction(y.entries)){const T={};return z.forEachEntry(y,(N,L)=>{S(_s(N),L,T,0)}),T}return null}function qa(y,S,T){if(z.isString(y))try{return(S||JSON.parse)(y),z.trim(y)}catch(N){if(N.name!=="SyntaxError")throw N}return(T||JSON.stringify)(y)}const Rs={transitional:qn,adapter:["xhr","http","fetch"],transformRequest:[function(S,T){const N=T.getContentType()||"",L=N.indexOf("application/json")>-1,F=z.isObject(S);if(F&&z.isHTMLForm(S)&&(S=new FormData(S)),z.isFormData(S))return L?JSON.stringify(Fi(S)):S;if(z.isArrayBuffer(S)||z.isBuffer(S)||z.isStream(S)||z.isFile(S)||z.isBlob(S)||z.isReadableStream(S))return S;if(z.isArrayBufferView(S))return S.buffer;if(z.isURLSearchParams(S))return T.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let Z;if(F){if(N.indexOf("application/x-www-form-urlencoded")>-1)return yr(S,this.formSerializer).toString();if((Z=z.isFileList(S))||N.indexOf("multipart/form-data")>-1){const pe=this.env&&this.env.FormData;return Br(Z?{"files[]":S}:S,pe&&new pe,this.formSerializer)}}return F||L?(T.setContentType("application/json",!1),qa(S)):S}],transformResponse:[function(S){const T=this.transitional||Rs.transitional,N=T&&T.forcedJSONParsing,L=this.responseType==="json";if(z.isResponse(S)||z.isReadableStream(S))return S;if(S&&z.isString(S)&&(N&&!this.responseType||L)){const q=!(T&&T.silentJSONParsing)&&L;try{return JSON.parse(S,this.parseReviver)}catch(Z){if(q)throw Z.name==="SyntaxError"?Pe.from(Z,Pe.ERR_BAD_RESPONSE,this,null,this.response):Z}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:et.classes.FormData,Blob:et.classes.Blob},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],y=>{Rs.headers[y]={}});var _r=Rs;const Mo=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var qo=y=>{const S={};let T,N,L;return y&&y.split(`
`).forEach(function(q){L=q.indexOf(":"),T=q.substring(0,L).trim().toLowerCase(),N=q.substring(L+1).trim(),!(!T||S[T]&&Mo[T])&&(T==="set-cookie"?S[T]?S[T].push(N):S[T]=[N]:S[T]=S[T]?S[T]+", "+N:N)}),S};const Hi=Symbol("internals");function zr(y){return y&&String(y).trim().toLowerCase()}function wn(y){return y===!1||y==null?y:z.isArray(y)?y.map(wn):String(y)}function Fo(y){const S=Object.create(null),T=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let N;for(;N=T.exec(y);)S[N[1]]=N[2];return S}const Ho=y=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(y.trim());function ks(y,S,T,N,L){if(z.isFunction(N))return N.call(this,S,T);if(L&&(S=T),!!z.isString(S)){if(z.isString(N))return S.indexOf(N)!==-1;if(z.isRegExp(N))return N.test(S)}}function Fa(y){return y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,T,N)=>T.toUpperCase()+N)}function _t(y,S){const T=z.toCamelCase(" "+S);["get","set","has"].forEach(N=>{Object.defineProperty(y,N+T,{value:function(L,F,q){return this[N].call(this,S,L,F,q)},configurable:!0})})}class Fn{constructor(S){S&&this.set(S)}set(S,T,N){const L=this;function F(Z,pe,ce){const oe=zr(pe);if(!oe)throw new Error("header name must be a non-empty string");const ye=z.findKey(L,oe);(!ye||L[ye]===void 0||ce===!0||ce===void 0&&L[ye]!==!1)&&(L[ye||pe]=wn(Z))}const q=(Z,pe)=>z.forEach(Z,(ce,oe)=>F(ce,oe,pe));if(z.isPlainObject(S)||S instanceof this.constructor)q(S,T);else if(z.isString(S)&&(S=S.trim())&&!Ho(S))q(qo(S),T);else if(z.isObject(S)&&z.isIterable(S)){let Z={},pe,ce;for(const oe of S){if(!z.isArray(oe))throw TypeError("Object iterator must return a key-value pair");Z[ce=oe[0]]=(pe=Z[ce])?z.isArray(pe)?[...pe,oe[1]]:[pe,oe[1]]:oe[1]}q(Z,T)}else S!=null&&F(T,S,N);return this}get(S,T){if(S=zr(S),S){const N=z.findKey(this,S);if(N){const L=this[N];if(!T)return L;if(T===!0)return Fo(L);if(z.isFunction(T))return T.call(this,L,N);if(z.isRegExp(T))return T.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,T){if(S=zr(S),S){const N=z.findKey(this,S);return!!(N&&this[N]!==void 0&&(!T||ks(this,this[N],N,T)))}return!1}delete(S,T){const N=this;let L=!1;function F(q){if(q=zr(q),q){const Z=z.findKey(N,q);Z&&(!T||ks(N,N[Z],Z,T))&&(delete N[Z],L=!0)}}return z.isArray(S)?S.forEach(F):F(S),L}clear(S){const T=Object.keys(this);let N=T.length,L=!1;for(;N--;){const F=T[N];(!S||ks(this,this[F],F,S,!0))&&(delete this[F],L=!0)}return L}normalize(S){const T=this,N={};return z.forEach(this,(L,F)=>{const q=z.findKey(N,F);if(q){T[q]=wn(L),delete T[F];return}const Z=S?Fa(F):String(F).trim();Z!==F&&delete T[F],T[Z]=wn(L),N[Z]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const T=Object.create(null);return z.forEach(this,(N,L)=>{N!=null&&N!==!1&&(T[L]=S&&z.isArray(N)?N.join(", "):N)}),T}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,T])=>S+": "+T).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...T){const N=new this(S);return T.forEach(L=>N.set(L)),N}static accessor(S){const N=(this[Hi]=this[Hi]={accessors:{}}).accessors,L=this.prototype;function F(q){const Z=zr(q);N[Z]||(_t(L,q),N[Z]=!0)}return z.isArray(S)?S.forEach(F):F(S),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),z.reduceDescriptors(Fn.prototype,({value:y},S)=>{let T=S[0].toUpperCase()+S.slice(1);return{get:()=>y,set(N){this[T]=N}}}),z.freezeMethods(Fn);var bt=Fn;function ls(y,S){const T=this||_r,N=S||T,L=bt.from(N.headers);let F=N.data;return z.forEach(y,function(Z){F=Z.call(T,F,L.normalize(),S?S.status:void 0)}),L.normalize(),F}function cs(y){return!!(y&&y.__CANCEL__)}class Ha extends Pe{constructor(S,T,N){super(S??"canceled",Pe.ERR_CANCELED,T,N),this.name="CanceledError",this.__CANCEL__=!0}}var Wr=Ha;function us(y,S,T){const N=T.config.validateStatus;!T.status||!N||N(T.status)?y(T):S(new Pe("Request failed with status code "+T.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(T.status/100)-4],T.config,T.request,T))}function Kr(y){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y);return S&&S[1]||""}function Ba(y,S){y=y||10;const T=new Array(y),N=new Array(y);let L=0,F=0,q;return S=S!==void 0?S:1e3,function(pe){const ce=Date.now(),oe=N[F];q||(q=ce),T[L]=pe,N[L]=ce;let ye=F,Be=0;for(;ye!==L;)Be+=T[ye++],ye=ye%y;if(L=(L+1)%y,L===F&&(F=(F+1)%y),ce-q<S)return;const lt=oe&&ce-oe;return lt?Math.round(Be*1e3/lt):void 0}}function Rr(y,S){let T=0,N=1e3/S,L,F;const q=(ce,oe=Date.now())=>{T=oe,L=null,F&&(clearTimeout(F),F=null),y(...ce)};return[(...ce)=>{const oe=Date.now(),ye=oe-T;ye>=N?q(ce,oe):(L=ce,F||(F=setTimeout(()=>{F=null,q(L)},N-ye)))},()=>L&&q(L)]}const Hn=(y,S,T=3)=>{let N=0;const L=Ba(50,250);return Rr(F=>{const q=F.loaded,Z=F.lengthComputable?F.total:void 0,pe=q-N,ce=L(pe),oe=q<=Z;N=q;const ye={loaded:q,total:Z,progress:Z?q/Z:void 0,bytes:pe,rate:ce||void 0,estimated:ce&&Z&&oe?(Z-q)/ce:void 0,event:F,lengthComputable:Z!=null,[S?"download":"upload"]:!0};y(ye)},T)},Bi=(y,S)=>{const T=y!=null;return[N=>S[0]({lengthComputable:T,total:y,loaded:N}),S[1]]},zi=y=>(...S)=>z.asap(()=>y(...S));var li=et.hasStandardBrowserEnv?((y,S)=>T=>(T=new URL(T,et.origin),y.protocol===T.protocol&&y.host===T.host&&(S||y.port===T.port)))(new URL(et.origin),et.navigator&&/(msie|trident)/i.test(et.navigator.userAgent)):()=>!0,ci=et.hasStandardBrowserEnv?{write(y,S,T,N,L,F,q){if(typeof document>"u")return;const Z=[`${y}=${encodeURIComponent(S)}`];z.isNumber(T)&&Z.push(`expires=${new Date(T).toUTCString()}`),z.isString(N)&&Z.push(`path=${N}`),z.isString(L)&&Z.push(`domain=${L}`),F===!0&&Z.push("secure"),z.isString(q)&&Z.push(`SameSite=${q}`),document.cookie=Z.join("; ")},read(y){if(typeof document>"u")return null;const S=document.cookie.match(new RegExp("(?:^|; )"+y+"=([^;]*)"));return S?decodeURIComponent(S[1]):null},remove(y){this.write(y,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function As(y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(y)}function ui(y,S){return S?y.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):y}function Wi(y,S,T){let N=!As(S);return y&&(N||T==!1)?ui(y,S):S}const Ki=y=>y instanceof bt?{...y}:y;function Xt(y,S){S=S||{};const T={};function N(ce,oe,ye,Be){return z.isPlainObject(ce)&&z.isPlainObject(oe)?z.merge.call({caseless:Be},ce,oe):z.isPlainObject(oe)?z.merge({},oe):z.isArray(oe)?oe.slice():oe}function L(ce,oe,ye,Be){if(z.isUndefined(oe)){if(!z.isUndefined(ce))return N(void 0,ce,ye,Be)}else return N(ce,oe,ye,Be)}function F(ce,oe){if(!z.isUndefined(oe))return N(void 0,oe)}function q(ce,oe){if(z.isUndefined(oe)){if(!z.isUndefined(ce))return N(void 0,ce)}else return N(void 0,oe)}function Z(ce,oe,ye){if(ye in S)return N(ce,oe);if(ye in y)return N(void 0,ce)}const pe={url:F,method:F,data:F,baseURL:q,transformRequest:q,transformResponse:q,paramsSerializer:q,timeout:q,timeoutMessage:q,withCredentials:q,withXSRFToken:q,adapter:q,responseType:q,xsrfCookieName:q,xsrfHeaderName:q,onUploadProgress:q,onDownloadProgress:q,decompress:q,maxContentLength:q,maxBodyLength:q,beforeRedirect:q,transport:q,httpAgent:q,httpsAgent:q,cancelToken:q,socketPath:q,responseEncoding:q,validateStatus:Z,headers:(ce,oe,ye)=>L(Ki(ce),Ki(oe),ye,!0)};return z.forEach(Object.keys({...y,...S}),function(oe){const ye=pe[oe]||L,Be=ye(y[oe],S[oe],oe);z.isUndefined(Be)&&ye!==Z||(T[oe]=Be)}),T}var di=y=>{const S=Xt({},y);let{data:T,withXSRFToken:N,xsrfHeaderName:L,xsrfCookieName:F,headers:q,auth:Z}=S;if(S.headers=q=bt.from(q),S.url=Mn(Wi(S.baseURL,S.url,S.allowAbsoluteUrls),y.params,y.paramsSerializer),Z&&q.set("Authorization","Basic "+btoa((Z.username||"")+":"+(Z.password?unescape(encodeURIComponent(Z.password)):""))),z.isFormData(T)){if(et.hasStandardBrowserEnv||et.hasStandardBrowserWebWorkerEnv)q.setContentType(void 0);else if(z.isFunction(T.getHeaders)){const pe=T.getHeaders(),ce=["content-type","content-length"];Object.entries(pe).forEach(([oe,ye])=>{ce.includes(oe.toLowerCase())&&q.set(oe,ye)})}}if(et.hasStandardBrowserEnv&&(N&&z.isFunction(N)&&(N=N(S)),N||N!==!1&&li(S.url))){const pe=L&&F&&ci.read(F);pe&&q.set(L,pe)}return S},Is=typeof XMLHttpRequest<"u"&&function(y){return new Promise(function(T,N){const L=di(y);let F=L.data;const q=bt.from(L.headers).normalize();let{responseType:Z,onUploadProgress:pe,onDownloadProgress:ce}=L,oe,ye,Be,lt,ae;function Ce(){lt&&lt(),ae&&ae(),L.cancelToken&&L.cancelToken.unsubscribe(oe),L.signal&&L.signal.removeEventListener("abort",oe)}let me=new XMLHttpRequest;me.open(L.method.toUpperCase(),L.url,!0),me.timeout=L.timeout;function Qe(){if(!me)return;const st=bt.from("getAllResponseHeaders"in me&&me.getAllResponseHeaders()),Rt={data:!Z||Z==="text"||Z==="json"?me.responseText:me.response,status:me.status,statusText:me.statusText,headers:st,config:y,request:me};us(function(St){T(St),Ce()},function(St){N(St),Ce()},Rt),me=null}"onloadend"in me?me.onloadend=Qe:me.onreadystatechange=function(){!me||me.readyState!==4||me.status===0&&!(me.responseURL&&me.responseURL.indexOf("file:")===0)||setTimeout(Qe)},me.onabort=function(){me&&(N(new Pe("Request aborted",Pe.ECONNABORTED,y,me)),me=null)},me.onerror=function(yt){const Rt=yt&&yt.message?yt.message:"Network Error",dr=new Pe(Rt,Pe.ERR_NETWORK,y,me);dr.event=yt||null,N(dr),me=null},me.ontimeout=function(){let yt=L.timeout?"timeout of "+L.timeout+"ms exceeded":"timeout exceeded";const Rt=L.transitional||qn;L.timeoutErrorMessage&&(yt=L.timeoutErrorMessage),N(new Pe(yt,Rt.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,y,me)),me=null},F===void 0&&q.setContentType(null),"setRequestHeader"in me&&z.forEach(q.toJSON(),function(yt,Rt){me.setRequestHeader(Rt,yt)}),z.isUndefined(L.withCredentials)||(me.withCredentials=!!L.withCredentials),Z&&Z!=="json"&&(me.responseType=L.responseType),ce&&([Be,ae]=Hn(ce,!0),me.addEventListener("progress",Be)),pe&&me.upload&&([ye,lt]=Hn(pe),me.upload.addEventListener("progress",ye),me.upload.addEventListener("loadend",lt)),(L.cancelToken||L.signal)&&(oe=st=>{me&&(N(!st||st.type?new Wr(null,y,me):st),me.abort(),me=null)},L.cancelToken&&L.cancelToken.subscribe(oe),L.signal&&(L.signal.aborted?oe():L.signal.addEventListener("abort",oe)));const xt=Kr(L.url);if(xt&&et.protocols.indexOf(xt)===-1){N(new Pe("Unsupported protocol "+xt+":",Pe.ERR_BAD_REQUEST,y));return}me.send(F||null)})},Vi=(y,S)=>{const{length:T}=y=y?y.filter(Boolean):[];if(S||T){let N=new AbortController,L;const F=function(ce){if(!L){L=!0,Z();const oe=ce instanceof Error?ce:this.reason;N.abort(oe instanceof Pe?oe:new Wr(oe instanceof Error?oe.message:oe))}};let q=S&&setTimeout(()=>{q=null,F(new Pe(`timeout of ${S}ms exceeded`,Pe.ETIMEDOUT))},S);const Z=()=>{y&&(q&&clearTimeout(q),q=null,y.forEach(ce=>{ce.unsubscribe?ce.unsubscribe(F):ce.removeEventListener("abort",F)}),y=null)};y.forEach(ce=>ce.addEventListener("abort",F));const{signal:pe}=N;return pe.unsubscribe=()=>z.asap(Z),pe}};const ft=function*(y,S){let T=y.byteLength;if(T<S){yield y;return}let N=0,L;for(;N<T;)L=N+S,yield y.slice(N,L),N=L},Bo=async function*(y,S){for await(const T of zo(y))yield*ft(T,S)},zo=async function*(y){if(y[Symbol.asyncIterator]){yield*y;return}const S=y.getReader();try{for(;;){const{done:T,value:N}=await S.read();if(T)break;yield N}}finally{await S.cancel()}},Ps=(y,S,T,N)=>{const L=Bo(y,S);let F=0,q,Z=pe=>{q||(q=!0,N&&N(pe))};return new ReadableStream({async pull(pe){try{const{done:ce,value:oe}=await L.next();if(ce){Z(),pe.close();return}let ye=oe.byteLength;if(T){let Be=F+=ye;T(Be)}pe.enqueue(new Uint8Array(oe))}catch(ce){throw Z(ce),ce}},cancel(pe){return Z(pe),L.return()}},{highWaterMark:2})},fi=64*1024,{isFunction:Sn}=z,Wo=(({Request:y,Response:S})=>({Request:y,Response:S}))(z.global),{ReadableStream:Ns,TextEncoder:ds}=z.global,Vr=(y,...S)=>{try{return!!y(...S)}catch{return!1}},bn=y=>{y=z.merge.call({skipUndefined:!0},Wo,y);const{fetch:S,Request:T,Response:N}=y,L=S?Sn(S):typeof fetch=="function",F=Sn(T),q=Sn(N);if(!L)return!1;const Z=L&&Sn(Ns),pe=L&&(typeof ds=="function"?(ae=>Ce=>ae.encode(Ce))(new ds):async ae=>new Uint8Array(await new T(ae).arrayBuffer())),ce=F&&Z&&Vr(()=>{let ae=!1;const Ce=new T(et.origin,{body:new Ns,method:"POST",get duplex(){return ae=!0,"half"}}).headers.has("Content-Type");return ae&&!Ce}),oe=q&&Z&&Vr(()=>z.isReadableStream(new N("").body)),ye={stream:oe&&(ae=>ae.body)};L&&["text","arrayBuffer","blob","formData","stream"].forEach(ae=>{!ye[ae]&&(ye[ae]=(Ce,me)=>{let Qe=Ce&&Ce[ae];if(Qe)return Qe.call(Ce);throw new Pe(`Response type '${ae}' is not supported`,Pe.ERR_NOT_SUPPORT,me)})});const Be=async ae=>{if(ae==null)return 0;if(z.isBlob(ae))return ae.size;if(z.isSpecCompliantForm(ae))return(await new T(et.origin,{method:"POST",body:ae}).arrayBuffer()).byteLength;if(z.isArrayBufferView(ae)||z.isArrayBuffer(ae))return ae.byteLength;if(z.isURLSearchParams(ae)&&(ae=ae+""),z.isString(ae))return(await pe(ae)).byteLength},lt=async(ae,Ce)=>{const me=z.toFiniteNumber(ae.getContentLength());return me??Be(Ce)};return async ae=>{let{url:Ce,method:me,data:Qe,signal:xt,cancelToken:st,timeout:yt,onDownloadProgress:Rt,onUploadProgress:dr,responseType:St,headers:Us,withCredentials:Kn="same-origin",fetchOptions:Yi}=di(ae),Qi=S||fetch;St=St?(St+"").toLowerCase():"text";let un=Vi([xt,st&&st.toAbortSignal()],yt),dn=null;const fr=un&&un.unsubscribe&&(()=>{un.unsubscribe()});let Zi;try{if(dr&&ce&&me!=="get"&&me!=="head"&&(Zi=await lt(Us,Qe))!==0){let Qt=new T(Ce,{method:"POST",body:Qe,duplex:"half"}),Ar;if(z.isFormData(Qe)&&(Ar=Qt.headers.get("content-type"))&&Us.setContentType(Ar),Qt.body){const[$s,fn]=Bi(Zi,Hn(zi(dr)));Qe=Ps(Qt.body,fi,$s,fn)}}z.isString(Kn)||(Kn=Kn?"include":"omit");const It=F&&"credentials"in T.prototype,eo={...Yi,signal:un,method:me.toUpperCase(),headers:Us.normalize().toJSON(),body:Qe,duplex:"half",credentials:It?Kn:void 0};dn=F&&new T(Ce,eo);let Yt=await(F?Qi(dn,Yi):Qi(Ce,eo));const to=oe&&(St==="stream"||St==="response");if(oe&&(Rt||to&&fr)){const Qt={};["status","statusText","headers"].forEach(Vn=>{Qt[Vn]=Yt[Vn]});const Ar=z.toFiniteNumber(Yt.headers.get("content-length")),[$s,fn]=Rt&&Bi(Ar,Hn(zi(Rt),!0))||[];Yt=new N(Ps(Yt.body,fi,$s,()=>{fn&&fn(),fr&&fr()}),Qt)}St=St||"text";let Ka=await ye[z.findKey(ye,St)||"text"](Yt,ae);return!to&&fr&&fr(),await new Promise((Qt,Ar)=>{us(Qt,Ar,{data:Ka,headers:bt.from(Yt.headers),status:Yt.status,statusText:Yt.statusText,config:ae,request:dn})})}catch(It){throw fr&&fr(),It&&It.name==="TypeError"&&/Load failed|fetch/i.test(It.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,ae,dn),{cause:It.cause||It}):Pe.from(It,It&&It.code,ae,dn)}}},xn=new Map,Bn=y=>{let S=y&&y.env||{};const{fetch:T,Request:N,Response:L}=S,F=[N,L,T];let q=F.length,Z=q,pe,ce,oe=xn;for(;Z--;)pe=F[Z],ce=oe.get(pe),ce===void 0&&oe.set(pe,ce=Z?new Map:bn(S)),oe=ce;return ce};Bn();const cn={http:as,xhr:Is,fetch:{get:Bn}};z.forEach(cn,(y,S)=>{if(y){try{Object.defineProperty(y,"name",{value:S})}catch{}Object.defineProperty(y,"adapterName",{value:S})}});const Gr=y=>`- ${y}`,Wa=y=>z.isFunction(y)||y===null||y===!1;function Ko(y,S){y=z.isArray(y)?y:[y];const{length:T}=y;let N,L;const F={};for(let q=0;q<T;q++){N=y[q];let Z;if(L=N,!Wa(N)&&(L=cn[(Z=String(N)).toLowerCase()],L===void 0))throw new Pe(`Unknown adapter '${Z}'`);if(L&&(z.isFunction(L)||(L=L.get(S))))break;F[Z||"#"+q]=L}if(!L){const q=Object.entries(F).map(([pe,ce])=>`adapter ${pe} `+(ce===!1?"is not supported by the environment":"is not available in the build"));let Z=T?q.length>1?`since :
`+q.map(Gr).join(`
`):" "+Gr(q[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return L}var zn={getAdapter:Ko,adapters:cn};function Os(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new Wr(null,y)}function hi(y){return Os(y),y.headers=bt.from(y.headers),y.data=ls.call(y,y.transformRequest),["post","put","patch"].indexOf(y.method)!==-1&&y.headers.setContentType("application/x-www-form-urlencoded",!1),zn.getAdapter(y.adapter||_r.adapter,y)(y).then(function(N){return Os(y),N.data=ls.call(y,y.transformResponse,N),N.headers=bt.from(N.headers),N},function(N){return cs(N)||(Os(y),N&&N.response&&(N.response.data=ls.call(y,y.transformResponse,N.response),N.response.headers=bt.from(N.response.headers))),Promise.reject(N)})}const fs="1.13.4",Cn={};["object","boolean","number","function","string","symbol"].forEach((y,S)=>{Cn[y]=function(N){return typeof N===y||"a"+(S<1?"n ":" ")+y}});const Gi={};Cn.transitional=function(S,T,N){function L(F,q){return"[Axios v"+fs+"] Transitional option '"+F+"'"+q+(N?". "+N:"")}return(F,q,Z)=>{if(S===!1)throw new Pe(L(q," has been removed"+(T?" in "+T:"")),Pe.ERR_DEPRECATED);return T&&!Gi[q]&&(Gi[q]=!0,console.warn(L(q," has been deprecated since v"+T+" and will be removed in the near future"))),S?S(F,q,Z):!0}},Cn.spelling=function(S){return(T,N)=>(console.warn(`${N} is likely a misspelling of ${S}`),!0)};function js(y,S,T){if(typeof y!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const N=Object.keys(y);let L=N.length;for(;L-- >0;){const F=N[L],q=S[F];if(q){const Z=y[F],pe=Z===void 0||q(Z,F,y);if(pe!==!0)throw new Pe("option "+F+" must be "+pe,Pe.ERR_BAD_OPTION_VALUE);continue}if(T!==!0)throw new Pe("Unknown option "+F,Pe.ERR_BAD_OPTION)}}var kr={assertOptions:js,validators:Cn};const wt=kr.validators;class Jr{constructor(S){this.defaults=S||{},this.interceptors={request:new Tr,response:new Tr}}async request(S,T){try{return await this._request(S,T)}catch(N){if(N instanceof Error){let L={};Error.captureStackTrace?Error.captureStackTrace(L):L=new Error;const F=L.stack?L.stack.replace(/^.+\n/,""):"";try{N.stack?F&&!String(N.stack).endsWith(F.replace(/^.+\n.+\n/,""))&&(N.stack+=`
`+F):N.stack=F}catch{}}throw N}}_request(S,T){typeof S=="string"?(T=T||{},T.url=S):T=S||{},T=Xt(this.defaults,T);const{transitional:N,paramsSerializer:L,headers:F}=T;N!==void 0&&kr.assertOptions(N,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),L!=null&&(z.isFunction(L)?T.paramsSerializer={serialize:L}:kr.assertOptions(L,{encode:wt.function,serialize:wt.function},!0)),T.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?T.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:T.allowAbsoluteUrls=!0),kr.assertOptions(T,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),T.method=(T.method||this.defaults.method||"get").toLowerCase();let q=F&&z.merge(F.common,F[T.method]);F&&z.forEach(["delete","get","head","post","put","patch","common"],ae=>{delete F[ae]}),T.headers=bt.concat(q,F);const Z=[];let pe=!0;this.interceptors.request.forEach(function(Ce){typeof Ce.runWhen=="function"&&Ce.runWhen(T)===!1||(pe=pe&&Ce.synchronous,Z.unshift(Ce.fulfilled,Ce.rejected))});const ce=[];this.interceptors.response.forEach(function(Ce){ce.push(Ce.fulfilled,Ce.rejected)});let oe,ye=0,Be;if(!pe){const ae=[hi.bind(this),void 0];for(ae.unshift(...Z),ae.push(...ce),Be=ae.length,oe=Promise.resolve(T);ye<Be;)oe=oe.then(ae[ye++],ae[ye++]);return oe}Be=Z.length;let lt=T;for(;ye<Be;){const ae=Z[ye++],Ce=Z[ye++];try{lt=ae(lt)}catch(me){Ce.call(this,me);break}}try{oe=hi.call(this,lt)}catch(ae){return Promise.reject(ae)}for(ye=0,Be=ce.length;ye<Be;)oe=oe.then(ce[ye++],ce[ye++]);return oe}getUri(S){S=Xt(this.defaults,S);const T=Wi(S.baseURL,S.url,S.allowAbsoluteUrls);return Mn(T,S.params,S.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(S){Jr.prototype[S]=function(T,N){return this.request(Xt(N||{},{method:S,url:T,data:(N||{}).data}))}}),z.forEach(["post","put","patch"],function(S){function T(N){return function(F,q,Z){return this.request(Xt(Z||{},{method:S,headers:N?{"Content-Type":"multipart/form-data"}:{},url:F,data:q}))}}Jr.prototype[S]=T(),Jr.prototype[S+"Form"]=T(!0)});var Wn=Jr;class Ls{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let T;this.promise=new Promise(function(F){T=F});const N=this;this.promise.then(L=>{if(!N._listeners)return;let F=N._listeners.length;for(;F-- >0;)N._listeners[F](L);N._listeners=null}),this.promise.then=L=>{let F;const q=new Promise(Z=>{N.subscribe(Z),F=Z}).then(L);return q.cancel=function(){N.unsubscribe(F)},q},S(function(F,q,Z){N.reason||(N.reason=new Wr(F,q,Z),T(N.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const T=this._listeners.indexOf(S);T!==-1&&this._listeners.splice(T,1)}toAbortSignal(){const S=new AbortController,T=N=>{S.abort(N)};return this.subscribe(T),S.signal.unsubscribe=()=>this.unsubscribe(T),S.signal}static source(){let S;return{token:new Ls(function(L){S=L}),cancel:S}}}var Ji=Ls;function pi(y){return function(T){return y.apply(null,T)}}function Xi(y){return z.isObject(y)&&y.isAxiosError===!0}const hs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hs).forEach(([y,S])=>{hs[S]=y});var Tn=hs;function Ds(y){const S=new Wn(y),T=t(Wn.prototype.request,S);return z.extend(T,Wn.prototype,S,{allOwnKeys:!0}),z.extend(T,S,null,{allOwnKeys:!0}),T.create=function(L){return Ds(Xt(y,L))},T}const Xe=Ds(_r);return Xe.Axios=Wn,Xe.CanceledError=Wr,Xe.CancelToken=Ji,Xe.isCancel=cs,Xe.VERSION=fs,Xe.toFormData=Br,Xe.AxiosError=Pe,Xe.Cancel=Xe.CanceledError,Xe.all=function(S){return Promise.all(S)},Xe.spread=pi,Xe.isAxiosError=Xi,Xe.mergeConfig=Xt,Xe.AxiosHeaders=bt,Xe.formToJSON=y=>Fi(z.isHTMLForm(y)?new FormData(y):y),Xe.getAdapter=zn.getAdapter,Xe.HttpStatusCode=Tn,Xe.default=Xe,qp=Xe,qp}var Ol={},oS;function i1(){if(oS)return Ol;oS=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.AuthStrategyHandler=void 0;class t{static buildAuthHeaders(n,i,a,l){const o={};for(const u of n.methods)switch(u){case"bearer":if(n.bearerToken)return o.Authorization=`Bearer ${n.bearerToken}`,o;break;case"client-token":if(i)return o["x-client-token"]=i,o;break;case"client-credentials":if(a&&l)return o["x-client-id"]=a,o["x-client-secret"]=l,o;break;case"api-key":if(n.apiKey)return o.Authorization=`Bearer ${n.apiKey}`,o;break}return o}static shouldTryMethod(n,i){if(!i.methods.includes(n))return!1;switch(n){case"bearer":return!!i.bearerToken;case"client-token":return!0;case"client-credentials":return!0;case"api-key":return!!i.apiKey;default:return!1}}static getDefaultStrategy(n){return{methods:["bearer","client-token"],bearerToken:n}}static mergeStrategy(n,i){return n?{methods:n.methods.length>0?n.methods:i.methods,bearerToken:n.bearerToken||i.bearerToken,apiKey:n.apiKey||i.apiKey}:i}}return Ol.AuthStrategyHandler=t,Ol}var So={},aS;function kc(){if(aS)return So;aS=1,Object.defineProperty(So,"__esModule",{value:!0}),So.isBrowser=t,So.validateUrl=s,So.resolveControllerUrl=n,So.resolveKeycloakUrl=i;function t(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function s(a){try{const l=new URL(a);return l.protocol==="http:"||l.protocol==="https:"}catch{return!1}}function n(a){const l=t();let o;if(l?o=a.controllerPublicUrl:o=a.controllerPrivateUrl,o||(o=a.controllerUrl),!o)throw new Error(`No controller URL configured. Please provide ${l?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!s(o))throw new Error(`Invalid controller URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}function i(a){const l=t();let o;if(l?o=a.authServerPublicUrl:o=a.authServerPrivateUrl,o||(o=a.authServerUrl),!o)throw new Error(`No Keycloak URL configured. Please provide ${l?"authServerPublicUrl":"authServerPrivateUrl"} or authServerUrl in your Keycloak configuration.`);if(!s(o))throw new Error(`Invalid Keycloak URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}return So}var Lu={},Fp={},ya={},lS;function Yg(){if(lS)return ya;lS=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.LOG_LEVELS=void 0,ya.isErrorResponse=t,ya.LOG_LEVELS=["debug","info","warn","error"];function t(s){if(!s||typeof s!="object")return!1;const n=s;return!(!Array.isArray(n.errors)||!n.errors.every(i=>typeof i=="string")||typeof n.type!="string"||typeof n.title!="string"||typeof n.statusCode!="number"||n.instance!==void 0&&typeof n.instance!="string")}return ya}var cS;function _I(){return cS||(cS=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateErrorResponse=void 0,t.validateSuccessResponse=s,t.validatePaginatedResponse=a,t.getResponseType=o;function s(u){if(!u||typeof u!="object")return!1;const c=u;return!(typeof c.success!="boolean"||typeof c.timestamp!="string"||c.message!==void 0&&typeof c.message!="string")}function n(u){if(!u||typeof u!="object")return!1;const c=u;return typeof c.totalItems=="number"&&typeof c.currentPage=="number"&&typeof c.pageSize=="number"&&typeof c.type=="string"}function i(u){if(u===void 0)return!0;if(typeof u!="object"||u===null)return!1;const c=u;return!(c.first!==void 0&&typeof c.first!="string"||c.prev!==void 0&&typeof c.prev!="string"||c.next!==void 0&&typeof c.next!="string"||c.last!==void 0&&typeof c.last!="string")}function a(u){if(!u||typeof u!="object")return!1;const c=u;return!Array.isArray(c.data)||!n(c.meta)?!1:i(c.links)}var l=Yg();Object.defineProperty(t,"validateErrorResponse",{enumerable:!0,get:function(){return l.isErrorResponse}});function o(u){return s(u)?"success":a(u)?"paginated":"unknown"}})(Fp)),Fp}var uS;function RI(){if(uS)return Lu;uS=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.validateHttpResponse=n;const t=_I();function s(i,a,l,o){const u=`Response validation failed for ${i}: ${a} ${l} Actual: ${JSON.stringify(o)}
`;console.warn(u)}function n(i,a,l){if(l.validateResponses===!1||(a.includes("/api/v1/auth/validate")||a.includes("/api/auth/validate"))&&i&&typeof i=="object"&&"data"in i)return!0;const o=(0,t.getResponseType)(i);return o==="unknown"?(s(a,"Response structure doesn't match expected format.","Expected: success response ({success, data?, message?, timestamp}) or paginated response ({data[], meta, links?}).",i),!1):o==="success"&&!(0,t.validateSuccessResponse)(i)?(s(a,"Success response structure invalid.","Expected: {success: boolean, data?: T, message?: string, timestamp: string}.",i),!1):o==="paginated"&&!(0,t.validatePaginatedResponse)(i)?(s(a,"Paginated response structure invalid.","Expected: {data: T[], meta: {totalItems, currentPage, pageSize, type}, links?}.",i),!1):!0}return Lu}var bo={},Ys={},dS;function ja(){if(dS)return Ys;dS=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.ApiErrorException=Ys.MisoClientError=void 0,Ys.transformError=i,Ys.handleApiError=l;class t extends Error{constructor(u,c,h,f,p){let E=u;c&&(c.title?E=c.title:c.errors&&c.errors.length>0&&(E=c.errors[0])),super(E),this.name="MisoClientError",this.errorResponse=c,this.errorBody=h,this.statusCode=f??c?.statusCode,this.authMethod=p??c?.authMethod??null,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}Ys.MisoClientError=t;function s(o,u){const c=o.error;return{errors:c.errors??["Unknown error"],type:c.type??"about:blank",title:c.title??u.message??"Unknown error",statusCode:c.statusCode??u.response?.status??500,instance:c.instance??u.config?.url,correlationId:c.correlationId}}function n(o,u){const c=typeof o.statusCode=="number"?o.statusCode:typeof u.response?.status=="number"?u.response.status:500;return{errors:Array.isArray(o.errors)?o.errors:["Unknown error"],type:o.type??"about:blank",title:o.title??u.message??"Unknown error",statusCode:c,instance:o.instance??u.config?.url,correlationId:o.correlationId}}function i(o){if(o&&typeof o=="object"&&"response"in o){const u=o,c=u.response?.data;return c&&typeof c=="object"?"error"in c?s(c,u):n(c,u):{errors:[u.message??"Network error"],type:"about:blank",title:"Network error",statusCode:u.response?.status??0}}return o instanceof Error?{errors:[o.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class a extends Error{constructor(u){super(u.title||"API Error"),this.name="ApiErrorException",this.statusCode=u.statusCode,this.correlationId=u.correlationId,this.type=u.type,this.instance=u.instance,this.errors=u.errors,Error.captureStackTrace&&Error.captureStackTrace(this,a)}}Ys.ApiErrorException=a;function l(o){const u=i(o);throw new a(u)}return Ys}var fS;function Qg(){if(fS)return bo;fS=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.detectAuthMethodFromHeaders=i,bo.parseErrorResponse=a,bo.createMisoClientError=l,bo.isAxiosError=o;const t=Xg(),s=Yg(),n=ja();function i(u){return u?u.Authorization?"bearer":u["x-client-token"]?"client-token":u["x-client-id"]?"client-credentials":null:null}function a(u,c){try{if(!u.response?.data)return null;const h=u.response.data;if(typeof h=="object"&&h!==null&&(0,s.isErrorResponse)(h)){const f=h;return{errors:h.errors,type:h.type,title:h.title,statusCode:h.statusCode,instance:h.instance||c,authMethod:f.authMethod}}if(typeof h=="string")try{const f=JSON.parse(h);if((0,s.isErrorResponse)(f)){const p=f;return{errors:f.errors,type:f.type,title:f.title,statusCode:f.statusCode,instance:f.instance||c,authMethod:p.authMethod}}}catch{return null}return null}catch{return null}}function l(u,c){const h=u.response?.status,f=a(u,c);let p=null;h===401&&(p=f?.authMethod??i(u.config?.headers));let E;u.response?.data&&typeof u.response.data=="object"&&(E=u.response.data);let P=u.message||"Request failed";return u.response&&(P=u.response.statusText||`Request failed with status code ${h}`),new n.MisoClientError(P,f||void 0,E,h,p)}function o(u){return u instanceof t.AxiosError?!0:typeof u=="object"&&u!==null&&"isAxiosError"in u?u.isAxiosError===!0:!1}return bo}var or={},hS;function kI(){if(hS)return or;hS=1;var t=or&&or.__createBinding||(Object.create?(function(R,x,w,v){v===void 0&&(v=w);var k=Object.getOwnPropertyDescriptor(x,w);(!k||("get"in k?!x.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return x[w]}}),Object.defineProperty(R,v,k)}):(function(R,x,w,v){v===void 0&&(v=w),R[v]=x[w]})),s=or&&or.__setModuleDefault||(Object.create?(function(R,x){Object.defineProperty(R,"default",{enumerable:!0,value:x})}):function(R,x){R.default=x}),n=or&&or.__importStar||(function(){var R=function(x){return R=Object.getOwnPropertyNames||function(w){var v=[];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(v[v.length]=k);return v},R(x)};return function(x){if(x&&x.__esModule)return x;var w={};if(x!=null)for(var v=R(x),k=0;k<v.length;k++)v[k]!=="default"&&t(w,x,v[k]);return s(w,x),w}})(),i=or&&or.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(or,"__esModule",{value:!0}),or.generateCorrelationId=c,or.createHttpAgent=h,or.extractTokenFromResponse=f,or.formatTokenFetchError=p,or.fetchClientToken=P,or.refreshClientTokenFromCallback=_,or.isTokenValid=C;const a=i(Xg()),l=kc(),o=Qg(),u=ja();function c(R){const x=Date.now(),w=Math.random().toString(36).substring(2,8);return`${R.substring(0,10)}-${x}-${w}`}async function h(R,x){const w=await Promise.resolve().then(()=>n(Li)),v=await Promise.resolve().then(()=>n(Li));return R?new v.Agent({family:4,timeout:x}):new w.Agent({family:4,timeout:x})}function f(R,x){const w=R.data.data?.token||R.data.token,v=R.data.data?.expiresIn||R.data.expiresIn,k=R.data.success===!0,O=R.status>=200&&R.status<300;return w&&(k||O)?(x.token=w,v&&(x.expiresAt=new Date(Date.now()+(v-30)*1e3)),x.token):null}function p(R,x,w){const v=R instanceof Error?R.message:"Unknown error",k=(0,o.isAxiosError)(R)?R.response?.status:void 0,O=(0,o.isAxiosError)(R)&&R.response?`status: ${R.response.status}, data: ${JSON.stringify(R.response.data)}`:(0,o.isAxiosError)(R)&&R.request?`code: ${R.code||"N/A"}`:"",j=`Failed to get client token: ${v}${O?`. ${O}`:""}`,D={errors:[`Client credential authentication failed: ${v}${O?`. ${O}`:""}`],type:"/Errors/Unauthorized",title:j,statusCode:k||401,instance:"/api/v1/auth/token",authMethod:"client-credentials"};return new u.MisoClientError(`Failed to authenticate with client credentials (clientId: ${w}) [correlationId: ${x}]`,D,void 0,k||401,"client-credentials")}async function E(R){const w=new AbortController,v=setTimeout(()=>w.abort(),3e4);typeof v.unref=="function"&&v.unref();const k=(0,l.resolveControllerUrl)(R),O=k.startsWith("https://"),j=await h(O,3e4),D=a.default.create({baseURL:k,timeout:3e4,signal:w.signal,httpAgent:O?void 0:j,httpsAgent:O?j:void 0,headers:{"Content-Type":"application/json","x-client-id":R.clientId,"x-client-secret":R.clientSecret}}),I=new Promise((H,G)=>{const ie=setTimeout(()=>G(new Error("Request timeout after 30000ms")),3e4);typeof ie.unref=="function"&&ie.unref()});try{const H=await Promise.race([D.post(R.clientTokenUri||"/api/v1/auth/token"),I]);return clearTimeout(v),H}catch(H){throw clearTimeout(v),H}}async function P(R,x){if(!R.clientSecret)throw new Error("Cannot fetch client token: clientSecret is required but not provided");const w=c(R.clientId),v=R.clientId;try{const k=await E(R),O=f(k,x);if(O)return O;throw new Error(`Failed to get client token: Invalid response format. Full response: ${JSON.stringify({status:k.status,data:k.data})} [correlationId: ${w}, clientId: ${v}]`)}catch(k){throw p(k,w,v)}}async function _(R,x){if(!R.onClientTokenRefresh)throw new Error("Client token expired and no refresh callback provided");try{const w=await R.onClientTokenRefresh();if(x.token=w.token,w.expiresIn){const v=w.expiresIn-30;x.expiresAt=new Date(Date.now()+v*1e3)}return x.token}catch(w){throw x.token=null,x.expiresAt=null,w}}function C(R,x=6e4){const w=new Date;return!!(R.token&&R.expiresAt&&R.expiresAt>new Date(w.getTime()+x))}return or}var pS;function Zg(){if(pS)return wo;pS=1;var t=wo&&wo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(wo,"__esModule",{value:!0}),wo.InternalHttpClient=void 0;const s=t(Xg()),n=i1(),i=kc(),a=RI(),l=Qg(),o=kI();class u{constructor(h){this.tokenState={token:null,expiresAt:null},this.tokenRefreshPromise=null,this.config=h,this.initializeTokenFromConfig(h),this.axios=this.createAxiosInstance(h),this.setupInterceptors()}initializeTokenFromConfig(h){h.clientToken&&(this.tokenState.token=h.clientToken,h.clientTokenExpiresAt&&(this.tokenState.expiresAt=typeof h.clientTokenExpiresAt=="string"?new Date(h.clientTokenExpiresAt):h.clientTokenExpiresAt))}createAxiosInstance(h){const f=(0,i.resolveControllerUrl)(h),p=f.startsWith("https://");let E,P;const _=h.timeout??3e4;if(typeof globalThis.window>"u"){const C=Li,R=Li,x={family:4,timeout:_,keepAlive:!1};E=p?void 0:new C.Agent(x),P=p?new R.Agent(x):void 0}return s.default.create({baseURL:f,timeout:_,httpAgent:E,httpsAgent:P,headers:{"Content-Type":"application/json"}})}setupInterceptors(){this.axios.interceptors.request.use(async h=>{if(h.headers=h.headers||{},!h.headers["x-client-token"]&&!h.headers["x-client-id"]){const f=await this.getClientToken();f?h.headers["x-client-token"]=f:console.warn("Client token is not available. Ensure clientSecret or onClientTokenRefresh is configured.")}return h},h=>Promise.reject(h)),this.axios.interceptors.response.use(h=>h,h=>(h.response?.status===401&&this.handle401Error(h),Promise.reject(h)))}handle401Error(h){const f=h.config?.headers,p=!!f?.Authorization,E=!!f?.["x-client-token"];p?h.message="Bearer token authentication failed - token may be invalid or expired":E?h.message="Client token authentication failed - x-client-token may be invalid or expired":h.message="Authentication failed - token may be invalid",this.tokenState.token=null,this.tokenState.expiresAt=null}async getClientToken(){return(0,o.isTokenValid)(this.tokenState)?this.tokenState.token:this.tokenRefreshPromise?this.tokenRefreshPromise:this.config.onClientTokenRefresh?this.executeTokenRefresh(()=>(0,o.refreshClientTokenFromCallback)(this.config,this.tokenState)):this.config.clientSecret?this.executeTokenRefresh(()=>(0,o.fetchClientToken)(this.config,this.tokenState)):null}async executeTokenRefresh(h){this.tokenRefreshPromise=h();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}mergeAbortSignals(h,f){const p=new AbortController,E=()=>p.abort();return h.addEventListener("abort",E),f.addEventListener("abort",E),p.signal}async executeWithTimeout(h,f){const p=this.config.timeout??3e4,E=new AbortController;let P=null;const _=new Promise((R,x)=>{P=setTimeout(()=>{E.abort(),x(new Error(`Request timeout after ${p}ms`))},p)}),C={...f,signal:f?.signal?this.mergeAbortSignals(E.signal,f.signal):E.signal};try{const R=await Promise.race([h(C),_]);return(0,a.validateHttpResponse)(R.data,R.config?.url||"",this.config),R.data}catch(R){throw(0,l.isAxiosError)(R)?(0,l.createMisoClientError)(R,R.config?.url):R}finally{P&&clearTimeout(P)}}async buildAuthStrategyConfig(h,f){const p=await this.getClientToken(),E=n.AuthStrategyHandler.buildAuthHeaders(h,p,this.config.clientId,this.config.clientSecret);return{...f,headers:{...f?.headers,...E}}}async executeMethod(h,f,p,E){switch(h){case"GET":return this.get(f,E);case"POST":return this.post(f,p,E);case"PUT":return this.put(f,p,E);case"DELETE":return this.delete(f,E);default:throw new Error(`Unsupported HTTP method: ${h}`)}}getAxiosInstance(){return this.axios}async get(h,f){return this.executeWithTimeout(p=>this.axios.get(h,p),f)}async post(h,f,p){const{data:E,...P}=p??{};return this.executeWithTimeout(_=>this.axios.post(h,f,_),P)}async put(h,f,p){const{data:E,...P}=p??{};return this.executeWithTimeout(_=>this.axios.put(h,f,_),P)}async delete(h,f){return this.executeWithTimeout(p=>this.axios.delete(h,p),f)}async request(h,f,p,E){return this.executeMethod(h,f,p,E||{})}async authenticatedRequest(h,f,p,E,P,_){const C=_?await this.buildAuthStrategyConfig(_,P):{...P,headers:{...P?.headers,Authorization:`Bearer ${p}`}};return this.executeMethod(h,f,E,C)}async requestWithAuthStrategy(h,f,p,E,P){const _=await this.buildAuthStrategyConfig(p,P);return this.executeMethod(h,f,E,_)}}return wo.InternalHttpClient=u,wo}var jl={},nn={};const AI="1.0.0",II="ISO 27001 compliant sensitive fields configuration for data masking",PI={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},NI=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],OI={version:AI,description:II,categories:PI,fieldPatterns:NI};var mS;function jI(){if(mS)return nn;mS=1;var t={},s=nn&&nn.__createBinding||(Object.create?(function(v,k,O,j){j===void 0&&(j=O);var D=Object.getOwnPropertyDescriptor(k,O);(!D||("get"in D?!k.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return k[O]}}),Object.defineProperty(v,j,D)}):(function(v,k,O,j){j===void 0&&(j=O),v[j]=k[O]})),n=nn&&nn.__setModuleDefault||(Object.create?(function(v,k){Object.defineProperty(v,"default",{enumerable:!0,value:k})}):function(v,k){v.default=k}),i=nn&&nn.__importStar||(function(){var v=function(k){return v=Object.getOwnPropertyNames||function(O){var j=[];for(var D in O)Object.prototype.hasOwnProperty.call(O,D)&&(j[j.length]=D);return j},v(k)};return function(k){if(k&&k.__esModule)return k;var O={};if(k!=null)for(var j=v(k),D=0;D<j.length;D++)j[D]!=="default"&&s(O,k,j[D]);return n(O,k),O}})(),a=nn&&nn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(nn,"__esModule",{value:!0}),nn.loadSensitiveFieldsConfig=_,nn.getFieldPatterns=x,nn.getSensitiveFieldsArray=w;const l=i(e1),o=i(t1),u=a(OI);function c(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function h(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function f(v){const k=v||t.MISO_SENSITIVE_FIELDS_CONFIG;return k?o.isAbsolute(k)?k:o.resolve(process.cwd(),k):null}function p(v){const k=new Set;return Object.values(v.categories).forEach(O=>{O.forEach(j=>k.add(j.toLowerCase()))}),c().forEach(O=>k.add(O)),k}function E(v){if(!l.existsSync(v))return null;const k=l.readFileSync(v,"utf8"),O=JSON.parse(k);return p(O)}function P(){try{const v=u.default;return p(v)}catch{const v=o.join(__dirname,"sensitive-fields.config.json");return E(v)}}function _(v){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!t)return c();try{const k=f(v);if(k){const j=E(k);if(j)return j}return P()??c()}catch{return c()}}function C(v){if(!l.existsSync(v))return null;const k=l.readFileSync(v,"utf8");return JSON.parse(k).fieldPatterns||h()}function R(){try{return u.default.fieldPatterns||h()}catch{const v=o.join(__dirname,"sensitive-fields.config.json");return C(v)}}function x(v){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!t)return h();try{const k=f(v);if(k){const j=C(k);if(j)return j}return R()??h()}catch{return h()}}function w(v){const k=_(v);return Array.from(k)}return nn}var gS;function La(){if(gS)return jl;gS=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.DataMasker=void 0;const t=jI();class s{static initializeSensitiveFields(i){return this.configPath!==i&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=i),this.cachedFields?this.cachedFields:(this.cachedFields=(0,t.loadSensitiveFieldsConfig)(i),this.cachedFieldPatterns=(0,t.getFieldPatterns)(i),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,t.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(i){this.configPath=i,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(i){const a=this.getSensitiveFields(),l=this.getFieldPatterns(),o=i.toLowerCase().replace(/[_-]/g,"");if(a.has(o))return!0;for(const u of l)if(o.includes(u.toLowerCase()))return!0;return!1}static maskSensitiveData(i){if(i==null||typeof i!="object")return i;if(Array.isArray(i))return i.map(l=>this.maskSensitiveData(l));const a={};for(const[l,o]of Object.entries(i))this.isSensitiveField(l)?a[l]=this.MASKED_VALUE:typeof o=="object"&&o!==null?a[l]=this.maskSensitiveData(o):a[l]=o;return a}static maskValue(i,a=0,l=0){if(!i||i.length<=a+l)return this.MASKED_VALUE;const o=i.substring(0,a),u=i.substring(i.length-l),c="*".repeat(Math.min(8,i.length-a-l));return`${o}${c}${u}`}static containsSensitiveData(i){if(i==null||typeof i!="object")return!1;if(Array.isArray(i))return i.some(a=>this.containsSensitiveData(a));for(const[a,l]of Object.entries(i))if(this.isSensitiveField(a)||typeof l=="object"&&l!==null&&this.containsSensitiveData(l))return!0;return!1}}return jl.DataMasker=s,s.MASKED_VALUE="***MASKED***",s.cachedFields=null,s.cachedFieldPatterns=null,s.configPath=void 0,jl}var xo={},Qs={},Du={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var yS;function Ac(){return yS||(yS=1,(function(t,s){var n=Di,i=n.Buffer;function a(o,u){for(var c in o)u[c]=o[c]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,s),s.Buffer=l);function l(o,u,c){return i(o,u,c)}l.prototype=Object.create(i.prototype),a(i,l),l.from=function(o,u,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,u,c)},l.alloc=function(o,u,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=i(o);return u!==void 0?typeof c=="string"?h.fill(u,c):h.fill(u):h.fill(0),h},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Du,Du.exports)),Du.exports}var Hp,vS;function o1(){if(vS)return Hp;vS=1;var t=Ac().Buffer,s=Na,n=Mi;function i(a){if(this.buffer=null,this.writable=!0,this.readable=!0,!a)return this.buffer=t.alloc(0),this;if(typeof a.pipe=="function")return this.buffer=t.alloc(0),a.pipe(this),this;if(a.length||typeof a=="object")return this.buffer=a,this.writable=!1,process.nextTick(function(){this.emit("end",a),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof a+")")}return n.inherits(i,s),i.prototype.write=function(l){this.buffer=t.concat([this.buffer,t.from(l)]),this.emit("data",l)},i.prototype.end=function(l){l&&this.write(l),this.emit("end",l),this.emit("close"),this.writable=!1,this.readable=!1},Hp=i,Hp}var Bp,ES;function LI(){if(ES)return Bp;ES=1;function t(i){var a=(i/8|0)+(i%8===0?0:1);return a}var s={ES256:t(256),ES384:t(384),ES512:t(521)};function n(i){var a=s[i];if(a)return a;throw new Error('Unknown algorithm "'+i+'"')}return Bp=n,Bp}var zp,wS;function DI(){if(wS)return zp;wS=1;var t=Ac().Buffer,s=LI(),n=128,i=0,a=32,l=16,o=2,u=l|a|i<<6,c=o|i<<6;function h(_){return _.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(_){if(t.isBuffer(_))return _;if(typeof _=="string")return t.from(_,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function p(_,C){_=f(_);var R=s(C),x=R+1,w=_.length,v=0;if(_[v++]!==u)throw new Error('Could not find expected "seq"');var k=_[v++];if(k===(n|1)&&(k=_[v++]),w-v<k)throw new Error('"seq" specified length of "'+k+'", only "'+(w-v)+'" remaining');if(_[v++]!==c)throw new Error('Could not find expected "int" for "r"');var O=_[v++];if(w-v-2<O)throw new Error('"r" specified length of "'+O+'", only "'+(w-v-2)+'" available');if(x<O)throw new Error('"r" specified length of "'+O+'", max of "'+x+'" is acceptable');var j=v;if(v+=O,_[v++]!==c)throw new Error('Could not find expected "int" for "s"');var D=_[v++];if(w-v!==D)throw new Error('"s" specified length of "'+D+'", expected "'+(w-v)+'"');if(x<D)throw new Error('"s" specified length of "'+D+'", max of "'+x+'" is acceptable');var I=v;if(v+=D,v!==w)throw new Error('Expected to consume entire buffer, but "'+(w-v)+'" bytes remain');var H=R-O,G=R-D,ie=t.allocUnsafe(H+O+G+D);for(v=0;v<H;++v)ie[v]=0;_.copy(ie,v,j+Math.max(-H,0),j+O),v=R;for(var he=v;v<he+G;++v)ie[v]=0;return _.copy(ie,v,I+Math.max(-G,0),I+D),ie=ie.toString("base64"),ie=h(ie),ie}function E(_,C,R){for(var x=0;C+x<R&&_[C+x]===0;)++x;var w=_[C+x]>=n;return w&&--x,x}function P(_,C){_=f(_);var R=s(C),x=_.length;if(x!==R*2)throw new TypeError('"'+C+'" signatures must be "'+R*2+'" bytes, saw "'+x+'"');var w=E(_,0,R),v=E(_,R,_.length),k=R-w,O=R-v,j=2+k+1+1+O,D=j<n,I=t.allocUnsafe((D?2:3)+j),H=0;return I[H++]=u,D?I[H++]=j:(I[H++]=n|1,I[H++]=j&255),I[H++]=c,I[H++]=k,w<0?(I[H++]=0,H+=_.copy(I,H,0,R)):H+=_.copy(I,H,w,R),I[H++]=c,I[H++]=O,v<0?(I[H++]=0,_.copy(I,H,R)):_.copy(I,H,R+v),I}return zp={derToJose:p,joseToDer:P},zp}var Wp,SS;function UI(){if(SS)return Wp;SS=1;var t=Di.Buffer,s=Di.SlowBuffer;Wp=n;function n(l,o){if(!t.isBuffer(l)||!t.isBuffer(o)||l.length!==o.length)return!1;for(var u=0,c=0;c<l.length;c++)u|=l[c]^o[c];return u===0}n.install=function(){t.prototype.equal=s.prototype.equal=function(o){return n(this,o)}};var i=t.prototype.equal,a=s.prototype.equal;return n.restore=function(){t.prototype.equal=i,s.prototype.equal=a},Wp}var Kp,bS;function a1(){if(bS)return Kp;bS=1;var t=Ac().Buffer,s=Uo,n=DI(),i=Mi,a=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",o="key must be a string or a buffer",u="key must be a string, a buffer or an object",c=typeof s.createPublicKey=="function";c&&(o+=" or a KeyObject",l+="or a KeyObject");function h(X){if(!t.isBuffer(X)&&typeof X!="string"&&(!c||typeof X!="object"||typeof X.type!="string"||typeof X.asymmetricKeyType!="string"||typeof X.export!="function"))throw _(o)}function f(X){if(!t.isBuffer(X)&&typeof X!="string"&&typeof X!="object")throw _(u)}function p(X){if(!t.isBuffer(X)){if(typeof X=="string")return X;if(!c||typeof X!="object"||X.type!=="secret"||typeof X.export!="function")throw _(l)}}function E(X){return X.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function P(X){X=X.toString();var V=4-X.length%4;if(V!==4)for(var M=0;M<V;++M)X+="=";return X.replace(/\-/g,"+").replace(/_/g,"/")}function _(X){var V=[].slice.call(arguments,1),M=i.format.bind(i,X).apply(null,V);return new TypeError(M)}function C(X){return t.isBuffer(X)||typeof X=="string"}function R(X){return C(X)||(X=JSON.stringify(X)),X}function x(X){return function(M,W){p(W),M=R(M);var B=s.createHmac("sha"+X,W),$=(B.update(M),B.digest("base64"));return E($)}}var w,v="timingSafeEqual"in s?function(V,M){return V.byteLength!==M.byteLength?!1:s.timingSafeEqual(V,M)}:function(V,M){return w||(w=UI()),w(V,M)};function k(X){return function(M,W,B){var $=x(X)(M,B);return v(t.from(W),t.from($))}}function O(X){return function(M,W){f(W),M=R(M);var B=s.createSign("RSA-SHA"+X),$=(B.update(M),B.sign(W,"base64"));return E($)}}function j(X){return function(M,W,B){h(B),M=R(M),W=P(W);var $=s.createVerify("RSA-SHA"+X);return $.update(M),$.verify(B,W,"base64")}}function D(X){return function(M,W){f(W),M=R(M);var B=s.createSign("RSA-SHA"+X),$=(B.update(M),B.sign({key:W,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return E($)}}function I(X){return function(M,W,B){h(B),M=R(M),W=P(W);var $=s.createVerify("RSA-SHA"+X);return $.update(M),$.verify({key:B,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},W,"base64")}}function H(X){var V=O(X);return function(){var W=V.apply(null,arguments);return W=n.derToJose(W,"ES"+X),W}}function G(X){var V=j(X);return function(W,B,$){B=n.joseToDer(B,"ES"+X).toString("base64");var Y=V(W,B,$);return Y}}function ie(){return function(){return""}}function he(){return function(V,M){return M===""}}return Kp=function(V){var M={hs:x,rs:O,ps:D,es:H,none:ie},W={hs:k,rs:j,ps:I,es:G,none:he},B=V.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!B)throw _(a,V);var $=(B[1]||B[3]).toLowerCase(),Y=B[2];return{sign:M[$](Y),verify:W[$](Y)}},Kp}var Vp,xS;function l1(){if(xS)return Vp;xS=1;var t=Di.Buffer;return Vp=function(n){return typeof n=="string"?n:typeof n=="number"||t.isBuffer(n)?n.toString():JSON.stringify(n)},Vp}var Gp,CS;function $I(){if(CS)return Gp;CS=1;var t=Ac().Buffer,s=o1(),n=a1(),i=Na,a=l1(),l=Mi;function o(f,p){return t.from(f,p).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(f,p,E){E=E||"utf8";var P=o(a(f),"binary"),_=o(a(p),E);return l.format("%s.%s",P,_)}function c(f){var p=f.header,E=f.payload,P=f.secret||f.privateKey,_=f.encoding,C=n(p.alg),R=u(p,E,_),x=C.sign(R,P);return l.format("%s.%s",R,x)}function h(f){var p=f.secret;if(p=p??f.privateKey,p=p??f.key,/^hs/i.test(f.header.alg)===!0&&p==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var E=new s(p);this.readable=!0,this.header=f.header,this.encoding=f.encoding,this.secret=this.privateKey=this.key=E,this.payload=new s(f.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return l.inherits(h,i),h.prototype.sign=function(){try{var p=c({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",p),this.emit("data",p),this.emit("end"),this.readable=!1,p}catch(E){this.readable=!1,this.emit("error",E),this.emit("close")}},h.sign=c,Gp=h,Gp}var Jp,TS;function MI(){if(TS)return Jp;TS=1;var t=Ac().Buffer,s=o1(),n=a1(),i=Na,a=l1(),l=Mi,o=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(x){return Object.prototype.toString.call(x)==="[object Object]"}function c(x){if(u(x))return x;try{return JSON.parse(x)}catch{return}}function h(x){var w=x.split(".",1)[0];return c(t.from(w,"base64").toString("binary"))}function f(x){return x.split(".",2).join(".")}function p(x){return x.split(".")[2]}function E(x,w){w=w||"utf8";var v=x.split(".")[1];return t.from(v,"base64").toString(w)}function P(x){return o.test(x)&&!!h(x)}function _(x,w,v){if(!w){var k=new Error("Missing algorithm parameter for jws.verify");throw k.code="MISSING_ALGORITHM",k}x=a(x);var O=p(x),j=f(x),D=n(w);return D.verify(j,O,v)}function C(x,w){if(w=w||{},x=a(x),!P(x))return null;var v=h(x);if(!v)return null;var k=E(x);return(v.typ==="JWT"||w.json)&&(k=JSON.parse(k,w.encoding)),{header:v,payload:k,signature:p(x)}}function R(x){x=x||{};var w=x.secret;if(w=w??x.publicKey,w=w??x.key,/^hs/i.test(x.algorithm)===!0&&w==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var v=new s(w);this.readable=!0,this.algorithm=x.algorithm,this.encoding=x.encoding,this.secret=this.publicKey=this.key=v,this.signature=new s(x.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return l.inherits(R,i),R.prototype.verify=function(){try{var w=_(this.signature.buffer,this.algorithm,this.key.buffer),v=C(this.signature.buffer,this.encoding);return this.emit("done",w,v),this.emit("data",w),this.emit("end"),this.readable=!1,w}catch(k){this.readable=!1,this.emit("error",k),this.emit("close")}},R.decode=C,R.isValid=P,R.verify=_,Jp=R,Jp}var _S;function ey(){if(_S)return Qs;_S=1;var t=$I(),s=MI(),n=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return Qs.ALGORITHMS=n,Qs.sign=t.sign,Qs.verify=s.verify,Qs.decode=s.decode,Qs.isValid=s.isValid,Qs.createSign=function(a){return new t(a)},Qs.createVerify=function(a){return new s(a)},Qs}var Xp,RS;function c1(){if(RS)return Xp;RS=1;var t=ey();return Xp=function(s,n){n=n||{};var i=t.decode(s,n);if(!i)return null;var a=i.payload;if(typeof a=="string")try{var l=JSON.parse(a);l!==null&&typeof l=="object"&&(a=l)}catch{}return n.complete===!0?{header:i.header,payload:a,signature:i.signature}:a},Xp}var Yp,kS;function kd(){if(kS)return Yp;kS=1;var t=function(s,n){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,n&&(this.inner=n)};return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,Yp=t,Yp}var Qp,AS;function u1(){if(AS)return Qp;AS=1;var t=kd(),s=function(n,i){t.call(this,n),this.name="NotBeforeError",this.date=i};return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Qp=s,Qp}var Zp,IS;function d1(){if(IS)return Zp;IS=1;var t=kd(),s=function(n,i){t.call(this,n),this.name="TokenExpiredError",this.expiredAt=i};return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Zp=s,Zp}var em,PS;function qI(){if(PS)return em;PS=1;var t=1e3,s=t*60,n=s*60,i=n*24,a=i*7,l=i*365.25;em=function(f,p){p=p||{};var E=typeof f;if(E==="string"&&f.length>0)return o(f);if(E==="number"&&isFinite(f))return p.long?c(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var E=parseFloat(p[1]),P=(p[2]||"ms").toLowerCase();switch(P){case"years":case"year":case"yrs":case"yr":case"y":return E*l;case"weeks":case"week":case"w":return E*a;case"days":case"day":case"d":return E*i;case"hours":case"hour":case"hrs":case"hr":case"h":return E*n;case"minutes":case"minute":case"mins":case"min":case"m":return E*s;case"seconds":case"second":case"secs":case"sec":case"s":return E*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function u(f){var p=Math.abs(f);return p>=i?Math.round(f/i)+"d":p>=n?Math.round(f/n)+"h":p>=s?Math.round(f/s)+"m":p>=t?Math.round(f/t)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=i?h(f,p,i,"day"):p>=n?h(f,p,n,"hour"):p>=s?h(f,p,s,"minute"):p>=t?h(f,p,t,"second"):f+" ms"}function h(f,p,E,P){var _=p>=E*1.5;return Math.round(f/E)+" "+P+(_?"s":"")}return em}var tm,NS;function f1(){if(NS)return tm;NS=1;var t=qI();return tm=function(s,n){var i=n||Math.floor(Date.now()/1e3);if(typeof s=="string"){var a=t(s);return typeof a>"u"?void 0:Math.floor(i+a/1e3)}else return typeof s=="number"?i+s:void 0},tm}var Uu={exports:{}},rm,OS;function Ad(){if(OS)return rm;OS=1;const t="2.0.0",s=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=s-6;return rm={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},rm}var nm,jS;function Id(){if(jS)return nm;jS=1;var t={};return nm=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},nm}var LS;function Ic(){return LS||(LS=1,(function(t,s){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=Ad(),l=Id();s=t.exports={};const o=s.re=[],u=s.safeRe=[],c=s.src=[],h=s.safeSrc=[],f=s.t={};let p=0;const E="[a-zA-Z0-9-]",P=[["\\s",1],["\\d",a],[E,i]],_=R=>{for(const[x,w]of P)R=R.split(`${x}*`).join(`${x}{0,${w}}`).split(`${x}+`).join(`${x}{1,${w}}`);return R},C=(R,x,w)=>{const v=_(x),k=p++;l(R,k,x),f[R]=k,c[k]=x,h[k]=v,o[k]=new RegExp(x,w?"g":void 0),u[k]=new RegExp(v,w?"g":void 0)};C("NUMERICIDENTIFIER","0|[1-9]\\d*"),C("NUMERICIDENTIFIERLOOSE","\\d+"),C("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),C("MAINVERSION",`(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})`),C("MAINVERSIONLOOSE",`(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASEIDENTIFIER",`(?:${c[f.NONNUMERICIDENTIFIER]}|${c[f.NUMERICIDENTIFIER]})`),C("PRERELEASEIDENTIFIERLOOSE",`(?:${c[f.NONNUMERICIDENTIFIER]}|${c[f.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASE",`(?:-(${c[f.PRERELEASEIDENTIFIER]}(?:\\.${c[f.PRERELEASEIDENTIFIER]})*))`),C("PRERELEASELOOSE",`(?:-?(${c[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[f.PRERELEASEIDENTIFIERLOOSE]})*))`),C("BUILDIDENTIFIER",`${E}+`),C("BUILD",`(?:\\+(${c[f.BUILDIDENTIFIER]}(?:\\.${c[f.BUILDIDENTIFIER]})*))`),C("FULLPLAIN",`v?${c[f.MAINVERSION]}${c[f.PRERELEASE]}?${c[f.BUILD]}?`),C("FULL",`^${c[f.FULLPLAIN]}$`),C("LOOSEPLAIN",`[v=\\s]*${c[f.MAINVERSIONLOOSE]}${c[f.PRERELEASELOOSE]}?${c[f.BUILD]}?`),C("LOOSE",`^${c[f.LOOSEPLAIN]}$`),C("GTLT","((?:<|>)?=?)"),C("XRANGEIDENTIFIERLOOSE",`${c[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),C("XRANGEIDENTIFIER",`${c[f.NUMERICIDENTIFIER]}|x|X|\\*`),C("XRANGEPLAIN",`[v=\\s]*(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:${c[f.PRERELEASE]})?${c[f.BUILD]}?)?)?`),C("XRANGEPLAINLOOSE",`[v=\\s]*(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:${c[f.PRERELEASELOOSE]})?${c[f.BUILD]}?)?)?`),C("XRANGE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAIN]}$`),C("XRANGELOOSE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAINLOOSE]}$`),C("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),C("COERCE",`${c[f.COERCEPLAIN]}(?:$|[^\\d])`),C("COERCEFULL",c[f.COERCEPLAIN]+`(?:${c[f.PRERELEASE]})?(?:${c[f.BUILD]})?(?:$|[^\\d])`),C("COERCERTL",c[f.COERCE],!0),C("COERCERTLFULL",c[f.COERCEFULL],!0),C("LONETILDE","(?:~>?)"),C("TILDETRIM",`(\\s*)${c[f.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",C("TILDE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAIN]}$`),C("TILDELOOSE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAINLOOSE]}$`),C("LONECARET","(?:\\^)"),C("CARETTRIM",`(\\s*)${c[f.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",C("CARET",`^${c[f.LONECARET]}${c[f.XRANGEPLAIN]}$`),C("CARETLOOSE",`^${c[f.LONECARET]}${c[f.XRANGEPLAINLOOSE]}$`),C("COMPARATORLOOSE",`^${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]})$|^$`),C("COMPARATOR",`^${c[f.GTLT]}\\s*(${c[f.FULLPLAIN]})$|^$`),C("COMPARATORTRIM",`(\\s*)${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]}|${c[f.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",C("HYPHENRANGE",`^\\s*(${c[f.XRANGEPLAIN]})\\s+-\\s+(${c[f.XRANGEPLAIN]})\\s*$`),C("HYPHENRANGELOOSE",`^\\s*(${c[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[f.XRANGEPLAINLOOSE]})\\s*$`),C("STAR","(<|>)?=?\\s*\\*"),C("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),C("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Uu,Uu.exports)),Uu.exports}var sm,DS;function ty(){if(DS)return sm;DS=1;const t=Object.freeze({loose:!0}),s=Object.freeze({});return sm=i=>i?typeof i!="object"?t:i:s,sm}var im,US;function h1(){if(US)return im;US=1;const t=/^[0-9]+$/,s=(i,a)=>{if(typeof i=="number"&&typeof a=="number")return i===a?0:i<a?-1:1;const l=t.test(i),o=t.test(a);return l&&o&&(i=+i,a=+a),i===a?0:l&&!o?-1:o&&!l?1:i<a?-1:1};return im={compareIdentifiers:s,rcompareIdentifiers:(i,a)=>s(a,i)},im}var om,$S;function Mr(){if($S)return om;$S=1;const t=Id(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:n}=Ad(),{safeRe:i,t:a}=Ic(),l=ty(),{compareIdentifiers:o}=h1();class u{constructor(h,f){if(f=l(f),h instanceof u){if(h.loose===!!f.loose&&h.includePrerelease===!!f.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>s)throw new TypeError(`version is longer than ${s} characters`);t("SemVer",h,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const p=h.trim().match(f.loose?i[a.LOOSE]:i[a.FULL]);if(!p)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const P=+E;if(P>=0&&P<n)return P}return E}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof u)){if(typeof h=="string"&&h===this.version)return 0;h=new u(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof u||(h=new u(h,this.options)),this.major<h.major?-1:this.major>h.major?1:this.minor<h.minor?-1:this.minor>h.minor?1:this.patch<h.patch?-1:this.patch>h.patch?1:0}comparePre(h){if(h instanceof u||(h=new u(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let f=0;do{const p=this.prerelease[f],E=h.prerelease[f];if(t("prerelease compare",f,p,E),p===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(p===void 0)return-1;if(p===E)continue;return o(p,E)}while(++f)}compareBuild(h){h instanceof u||(h=new u(h,this.options));let f=0;do{const p=this.build[f],E=h.build[f];if(t("build compare",f,p,E),p===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(p===void 0)return-1;if(p===E)continue;return o(p,E)}while(++f)}inc(h,f,p){if(h.startsWith("pre")){if(!f&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const E=`-${f}`.match(this.options.loose?i[a.PRERELEASELOOSE]:i[a.PRERELEASE]);if(!E||E[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,p),this.inc("pre",f,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,p),this.inc("pre",f,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[E];else{let P=this.prerelease.length;for(;--P>=0;)typeof this.prerelease[P]=="number"&&(this.prerelease[P]++,P=-2);if(P===-1){if(f===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(f){let P=[f,E];p===!1&&(P=[f]),o(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=P):this.prerelease=P}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return om=u,om}var am,MS;function Da(){if(MS)return am;MS=1;const t=Mr();return am=(n,i,a=!1)=>{if(n instanceof t)return n;try{return new t(n,i)}catch(l){if(!a)return null;throw l}},am}var lm,qS;function FI(){if(qS)return lm;qS=1;const t=Da();return lm=(n,i)=>{const a=t(n,i);return a?a.version:null},lm}var cm,FS;function HI(){if(FS)return cm;FS=1;const t=Da();return cm=(n,i)=>{const a=t(n.trim().replace(/^[=v]+/,""),i);return a?a.version:null},cm}var um,HS;function BI(){if(HS)return um;HS=1;const t=Mr();return um=(n,i,a,l,o)=>{typeof a=="string"&&(o=l,l=a,a=void 0);try{return new t(n instanceof t?n.version:n,a).inc(i,l,o).version}catch{return null}},um}var dm,BS;function zI(){if(BS)return dm;BS=1;const t=Da();return dm=(n,i)=>{const a=t(n,null,!0),l=t(i,null,!0),o=a.compare(l);if(o===0)return null;const u=o>0,c=u?a:l,h=u?l:a,f=!!c.prerelease.length;if(!!h.prerelease.length&&!f){if(!h.patch&&!h.minor)return"major";if(h.compareMain(c)===0)return h.minor&&!h.patch?"minor":"patch"}const E=f?"pre":"";return a.major!==l.major?E+"major":a.minor!==l.minor?E+"minor":a.patch!==l.patch?E+"patch":"prerelease"},dm}var fm,zS;function WI(){if(zS)return fm;zS=1;const t=Mr();return fm=(n,i)=>new t(n,i).major,fm}var hm,WS;function KI(){if(WS)return hm;WS=1;const t=Mr();return hm=(n,i)=>new t(n,i).minor,hm}var pm,KS;function VI(){if(KS)return pm;KS=1;const t=Mr();return pm=(n,i)=>new t(n,i).patch,pm}var mm,VS;function GI(){if(VS)return mm;VS=1;const t=Da();return mm=(n,i)=>{const a=t(n,i);return a&&a.prerelease.length?a.prerelease:null},mm}var gm,GS;function is(){if(GS)return gm;GS=1;const t=Mr();return gm=(n,i,a)=>new t(n,a).compare(new t(i,a)),gm}var ym,JS;function JI(){if(JS)return ym;JS=1;const t=is();return ym=(n,i,a)=>t(i,n,a),ym}var vm,XS;function XI(){if(XS)return vm;XS=1;const t=is();return vm=(n,i)=>t(n,i,!0),vm}var Em,YS;function ry(){if(YS)return Em;YS=1;const t=Mr();return Em=(n,i,a)=>{const l=new t(n,a),o=new t(i,a);return l.compare(o)||l.compareBuild(o)},Em}var wm,QS;function YI(){if(QS)return wm;QS=1;const t=ry();return wm=(n,i)=>n.sort((a,l)=>t(a,l,i)),wm}var Sm,ZS;function QI(){if(ZS)return Sm;ZS=1;const t=ry();return Sm=(n,i)=>n.sort((a,l)=>t(l,a,i)),Sm}var bm,eb;function Pd(){if(eb)return bm;eb=1;const t=is();return bm=(n,i,a)=>t(n,i,a)>0,bm}var xm,tb;function ny(){if(tb)return xm;tb=1;const t=is();return xm=(n,i,a)=>t(n,i,a)<0,xm}var Cm,rb;function p1(){if(rb)return Cm;rb=1;const t=is();return Cm=(n,i,a)=>t(n,i,a)===0,Cm}var Tm,nb;function m1(){if(nb)return Tm;nb=1;const t=is();return Tm=(n,i,a)=>t(n,i,a)!==0,Tm}var _m,sb;function sy(){if(sb)return _m;sb=1;const t=is();return _m=(n,i,a)=>t(n,i,a)>=0,_m}var Rm,ib;function iy(){if(ib)return Rm;ib=1;const t=is();return Rm=(n,i,a)=>t(n,i,a)<=0,Rm}var km,ob;function g1(){if(ob)return km;ob=1;const t=p1(),s=m1(),n=Pd(),i=sy(),a=ny(),l=iy();return km=(u,c,h,f)=>{switch(c){case"===":return typeof u=="object"&&(u=u.version),typeof h=="object"&&(h=h.version),u===h;case"!==":return typeof u=="object"&&(u=u.version),typeof h=="object"&&(h=h.version),u!==h;case"":case"=":case"==":return t(u,h,f);case"!=":return s(u,h,f);case">":return n(u,h,f);case">=":return i(u,h,f);case"<":return a(u,h,f);case"<=":return l(u,h,f);default:throw new TypeError(`Invalid operator: ${c}`)}},km}var Am,ab;function ZI(){if(ab)return Am;ab=1;const t=Mr(),s=Da(),{safeRe:n,t:i}=Ic();return Am=(l,o)=>{if(l instanceof t)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;o=o||{};let u=null;if(!o.rtl)u=l.match(o.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);else{const P=o.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let _;for(;(_=P.exec(l))&&(!u||u.index+u[0].length!==l.length);)(!u||_.index+_[0].length!==u.index+u[0].length)&&(u=_),P.lastIndex=_.index+_[1].length+_[2].length;P.lastIndex=-1}if(u===null)return null;const c=u[2],h=u[3]||"0",f=u[4]||"0",p=o.includePrerelease&&u[5]?`-${u[5]}`:"",E=o.includePrerelease&&u[6]?`+${u[6]}`:"";return s(`${c}.${h}.${f}${p}${E}`,o)},Am}var Im,lb;function eP(){if(lb)return Im;lb=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const i=this.map.get(n);if(i!==void 0)return this.map.delete(n),this.map.set(n,i),i}delete(n){return this.map.delete(n)}set(n,i){if(!this.delete(n)&&i!==void 0){if(this.map.size>=this.max){const l=this.map.keys().next().value;this.delete(l)}this.map.set(n,i)}return this}}return Im=t,Im}var Pm,cb;function os(){if(cb)return Pm;cb=1;const t=/\s+/g;class s{constructor(M,W){if(W=a(W),M instanceof s)return M.loose===!!W.loose&&M.includePrerelease===!!W.includePrerelease?M:new s(M.raw,W);if(M instanceof l)return this.raw=M.value,this.set=[[M]],this.formatted=void 0,this;if(this.options=W,this.loose=!!W.loose,this.includePrerelease=!!W.includePrerelease,this.raw=M.trim().replace(t," "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter($=>!C($[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&R($[0])){this.set=[$];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let M=0;M<this.set.length;M++){M>0&&(this.formatted+="||");const W=this.set[M];for(let B=0;B<W.length;B++)B>0&&(this.formatted+=" "),this.formatted+=W[B].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(M){const B=((this.options.includePrerelease&&P)|(this.options.loose&&_))+":"+M,$=i.get(B);if($)return $;const Y=this.options.loose,te=Y?c[h.HYPHENRANGELOOSE]:c[h.HYPHENRANGE];M=M.replace(te,he(this.options.includePrerelease)),o("hyphen replace",M),M=M.replace(c[h.COMPARATORTRIM],f),o("comparator trim",M),M=M.replace(c[h.TILDETRIM],p),o("tilde trim",M),M=M.replace(c[h.CARETTRIM],E),o("caret trim",M);let J=M.split(" ").map(ve=>w(ve,this.options)).join(" ").split(/\s+/).map(ve=>ie(ve,this.options));Y&&(J=J.filter(ve=>(o("loose invalid filter",ve,this.options),!!ve.match(c[h.COMPARATORLOOSE])))),o("range list",J);const ne=new Map,ue=J.map(ve=>new l(ve,this.options));for(const ve of ue){if(C(ve))return[ve];ne.set(ve.value,ve)}ne.size>1&&ne.has("")&&ne.delete("");const ge=[...ne.values()];return i.set(B,ge),ge}intersects(M,W){if(!(M instanceof s))throw new TypeError("a Range is required");return this.set.some(B=>x(B,W)&&M.set.some($=>x($,W)&&B.every(Y=>$.every(te=>Y.intersects(te,W)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new u(M,this.options)}catch{return!1}for(let W=0;W<this.set.length;W++)if(X(this.set[W],M,this.options))return!0;return!1}}Pm=s;const n=eP(),i=new n,a=ty(),l=Nd(),o=Id(),u=Mr(),{safeRe:c,t:h,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:E}=Ic(),{FLAG_INCLUDE_PRERELEASE:P,FLAG_LOOSE:_}=Ad(),C=V=>V.value==="<0.0.0-0",R=V=>V.value==="",x=(V,M)=>{let W=!0;const B=V.slice();let $=B.pop();for(;W&&B.length;)W=B.every(Y=>$.intersects(Y,M)),$=B.pop();return W},w=(V,M)=>(V=V.replace(c[h.BUILD],""),o("comp",V,M),V=j(V,M),o("caret",V),V=k(V,M),o("tildes",V),V=I(V,M),o("xrange",V),V=G(V,M),o("stars",V),V),v=V=>!V||V.toLowerCase()==="x"||V==="*",k=(V,M)=>V.trim().split(/\s+/).map(W=>O(W,M)).join(" "),O=(V,M)=>{const W=M.loose?c[h.TILDELOOSE]:c[h.TILDE];return V.replace(W,(B,$,Y,te,J)=>{o("tilde",V,B,$,Y,te,J);let ne;return v($)?ne="":v(Y)?ne=`>=${$}.0.0 <${+$+1}.0.0-0`:v(te)?ne=`>=${$}.${Y}.0 <${$}.${+Y+1}.0-0`:J?(o("replaceTilde pr",J),ne=`>=${$}.${Y}.${te}-${J} <${$}.${+Y+1}.0-0`):ne=`>=${$}.${Y}.${te} <${$}.${+Y+1}.0-0`,o("tilde return",ne),ne})},j=(V,M)=>V.trim().split(/\s+/).map(W=>D(W,M)).join(" "),D=(V,M)=>{o("caret",V,M);const W=M.loose?c[h.CARETLOOSE]:c[h.CARET],B=M.includePrerelease?"-0":"";return V.replace(W,($,Y,te,J,ne)=>{o("caret",V,$,Y,te,J,ne);let ue;return v(Y)?ue="":v(te)?ue=`>=${Y}.0.0${B} <${+Y+1}.0.0-0`:v(J)?Y==="0"?ue=`>=${Y}.${te}.0${B} <${Y}.${+te+1}.0-0`:ue=`>=${Y}.${te}.0${B} <${+Y+1}.0.0-0`:ne?(o("replaceCaret pr",ne),Y==="0"?te==="0"?ue=`>=${Y}.${te}.${J}-${ne} <${Y}.${te}.${+J+1}-0`:ue=`>=${Y}.${te}.${J}-${ne} <${Y}.${+te+1}.0-0`:ue=`>=${Y}.${te}.${J}-${ne} <${+Y+1}.0.0-0`):(o("no pr"),Y==="0"?te==="0"?ue=`>=${Y}.${te}.${J}${B} <${Y}.${te}.${+J+1}-0`:ue=`>=${Y}.${te}.${J}${B} <${Y}.${+te+1}.0-0`:ue=`>=${Y}.${te}.${J} <${+Y+1}.0.0-0`),o("caret return",ue),ue})},I=(V,M)=>(o("replaceXRanges",V,M),V.split(/\s+/).map(W=>H(W,M)).join(" ")),H=(V,M)=>{V=V.trim();const W=M.loose?c[h.XRANGELOOSE]:c[h.XRANGE];return V.replace(W,(B,$,Y,te,J,ne)=>{o("xRange",V,B,$,Y,te,J,ne);const ue=v(Y),ge=ue||v(te),ve=ge||v(J),Oe=ve;return $==="="&&Oe&&($=""),ne=M.includePrerelease?"-0":"",ue?$===">"||$==="<"?B="<0.0.0-0":B="*":$&&Oe?(ge&&(te=0),J=0,$===">"?($=">=",ge?(Y=+Y+1,te=0,J=0):(te=+te+1,J=0)):$==="<="&&($="<",ge?Y=+Y+1:te=+te+1),$==="<"&&(ne="-0"),B=`${$+Y}.${te}.${J}${ne}`):ge?B=`>=${Y}.0.0${ne} <${+Y+1}.0.0-0`:ve&&(B=`>=${Y}.${te}.0${ne} <${Y}.${+te+1}.0-0`),o("xRange return",B),B})},G=(V,M)=>(o("replaceStars",V,M),V.trim().replace(c[h.STAR],"")),ie=(V,M)=>(o("replaceGTE0",V,M),V.trim().replace(c[M.includePrerelease?h.GTE0PRE:h.GTE0],"")),he=V=>(M,W,B,$,Y,te,J,ne,ue,ge,ve,Oe)=>(v(B)?W="":v($)?W=`>=${B}.0.0${V?"-0":""}`:v(Y)?W=`>=${B}.${$}.0${V?"-0":""}`:te?W=`>=${W}`:W=`>=${W}${V?"-0":""}`,v(ue)?ne="":v(ge)?ne=`<${+ue+1}.0.0-0`:v(ve)?ne=`<${ue}.${+ge+1}.0-0`:Oe?ne=`<=${ue}.${ge}.${ve}-${Oe}`:V?ne=`<${ue}.${ge}.${+ve+1}-0`:ne=`<=${ne}`,`${W} ${ne}`.trim()),X=(V,M,W)=>{for(let B=0;B<V.length;B++)if(!V[B].test(M))return!1;if(M.prerelease.length&&!W.includePrerelease){for(let B=0;B<V.length;B++)if(o(V[B].semver),V[B].semver!==l.ANY&&V[B].semver.prerelease.length>0){const $=V[B].semver;if($.major===M.major&&$.minor===M.minor&&$.patch===M.patch)return!0}return!1}return!0};return Pm}var Nm,ub;function Nd(){if(ub)return Nm;ub=1;const t=Symbol("SemVer ANY");class s{static get ANY(){return t}constructor(f,p){if(p=n(p),f instanceof s){if(f.loose===!!p.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),o("comparator",f,p),this.options=p,this.loose=!!p.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(f){const p=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],E=f.match(p);if(!E)throw new TypeError(`Invalid comparator: ${f}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new u(E[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(o("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new u(f,this.options)}catch{return!1}return l(f,this.operator,this.semver,this.options)}intersects(f,p){if(!(f instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(f.value,p).test(this.value):f.operator===""?f.value===""?!0:new c(this.value,p).test(f.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||l(this.semver,"<",f.semver,p)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||l(this.semver,">",f.semver,p)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}Nm=s;const n=ty(),{safeRe:i,t:a}=Ic(),l=g1(),o=Id(),u=Mr(),c=os();return Nm}var Om,db;function Od(){if(db)return Om;db=1;const t=os();return Om=(n,i,a)=>{try{i=new t(i,a)}catch{return!1}return i.test(n)},Om}var jm,fb;function tP(){if(fb)return jm;fb=1;const t=os();return jm=(n,i)=>new t(n,i).set.map(a=>a.map(l=>l.value).join(" ").trim().split(" ")),jm}var Lm,hb;function rP(){if(hb)return Lm;hb=1;const t=Mr(),s=os();return Lm=(i,a,l)=>{let o=null,u=null,c=null;try{c=new s(a,l)}catch{return null}return i.forEach(h=>{c.test(h)&&(!o||u.compare(h)===-1)&&(o=h,u=new t(o,l))}),o},Lm}var Dm,pb;function nP(){if(pb)return Dm;pb=1;const t=Mr(),s=os();return Dm=(i,a,l)=>{let o=null,u=null,c=null;try{c=new s(a,l)}catch{return null}return i.forEach(h=>{c.test(h)&&(!o||u.compare(h)===1)&&(o=h,u=new t(o,l))}),o},Dm}var Um,mb;function sP(){if(mb)return Um;mb=1;const t=Mr(),s=os(),n=Pd();return Um=(a,l)=>{a=new s(a,l);let o=new t("0.0.0");if(a.test(o)||(o=new t("0.0.0-0"),a.test(o)))return o;o=null;for(let u=0;u<a.set.length;++u){const c=a.set[u];let h=null;c.forEach(f=>{const p=new t(f.semver.version);switch(f.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!h||n(p,h))&&(h=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),h&&(!o||n(o,h))&&(o=h)}return o&&a.test(o)?o:null},Um}var $m,gb;function iP(){if(gb)return $m;gb=1;const t=os();return $m=(n,i)=>{try{return new t(n,i).range||"*"}catch{return null}},$m}var Mm,yb;function oy(){if(yb)return Mm;yb=1;const t=Mr(),s=Nd(),{ANY:n}=s,i=os(),a=Od(),l=Pd(),o=ny(),u=iy(),c=sy();return Mm=(f,p,E,P)=>{f=new t(f,P),p=new i(p,P);let _,C,R,x,w;switch(E){case">":_=l,C=u,R=o,x=">",w=">=";break;case"<":_=o,C=c,R=l,x="<",w="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(f,p,P))return!1;for(let v=0;v<p.set.length;++v){const k=p.set[v];let O=null,j=null;if(k.forEach(D=>{D.semver===n&&(D=new s(">=0.0.0")),O=O||D,j=j||D,_(D.semver,O.semver,P)?O=D:R(D.semver,j.semver,P)&&(j=D)}),O.operator===x||O.operator===w||(!j.operator||j.operator===x)&&C(f,j.semver))return!1;if(j.operator===w&&R(f,j.semver))return!1}return!0},Mm}var qm,vb;function oP(){if(vb)return qm;vb=1;const t=oy();return qm=(n,i,a)=>t(n,i,">",a),qm}var Fm,Eb;function aP(){if(Eb)return Fm;Eb=1;const t=oy();return Fm=(n,i,a)=>t(n,i,"<",a),Fm}var Hm,wb;function lP(){if(wb)return Hm;wb=1;const t=os();return Hm=(n,i,a)=>(n=new t(n,a),i=new t(i,a),n.intersects(i,a)),Hm}var Bm,Sb;function cP(){if(Sb)return Bm;Sb=1;const t=Od(),s=is();return Bm=(n,i,a)=>{const l=[];let o=null,u=null;const c=n.sort((E,P)=>s(E,P,a));for(const E of c)t(E,i,a)?(u=E,o||(o=E)):(u&&l.push([o,u]),u=null,o=null);o&&l.push([o,null]);const h=[];for(const[E,P]of l)E===P?h.push(E):!P&&E===c[0]?h.push("*"):P?E===c[0]?h.push(`<=${P}`):h.push(`${E} - ${P}`):h.push(`>=${E}`);const f=h.join(" || "),p=typeof i.raw=="string"?i.raw:String(i);return f.length<p.length?f:i},Bm}var zm,bb;function uP(){if(bb)return zm;bb=1;const t=os(),s=Nd(),{ANY:n}=s,i=Od(),a=is(),l=(p,E,P={})=>{if(p===E)return!0;p=new t(p,P),E=new t(E,P);let _=!1;e:for(const C of p.set){for(const R of E.set){const x=c(C,R,P);if(_=_||x!==null,x)continue e}if(_)return!1}return!0},o=[new s(">=0.0.0-0")],u=[new s(">=0.0.0")],c=(p,E,P)=>{if(p===E)return!0;if(p.length===1&&p[0].semver===n){if(E.length===1&&E[0].semver===n)return!0;P.includePrerelease?p=o:p=u}if(E.length===1&&E[0].semver===n){if(P.includePrerelease)return!0;E=u}const _=new Set;let C,R;for(const I of p)I.operator===">"||I.operator===">="?C=h(C,I,P):I.operator==="<"||I.operator==="<="?R=f(R,I,P):_.add(I.semver);if(_.size>1)return null;let x;if(C&&R){if(x=a(C.semver,R.semver,P),x>0)return null;if(x===0&&(C.operator!==">="||R.operator!=="<="))return null}for(const I of _){if(C&&!i(I,String(C),P)||R&&!i(I,String(R),P))return null;for(const H of E)if(!i(I,String(H),P))return!1;return!0}let w,v,k,O,j=R&&!P.includePrerelease&&R.semver.prerelease.length?R.semver:!1,D=C&&!P.includePrerelease&&C.semver.prerelease.length?C.semver:!1;j&&j.prerelease.length===1&&R.operator==="<"&&j.prerelease[0]===0&&(j=!1);for(const I of E){if(O=O||I.operator===">"||I.operator===">=",k=k||I.operator==="<"||I.operator==="<=",C){if(D&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===D.major&&I.semver.minor===D.minor&&I.semver.patch===D.patch&&(D=!1),I.operator===">"||I.operator===">="){if(w=h(C,I,P),w===I&&w!==C)return!1}else if(C.operator===">="&&!i(C.semver,String(I),P))return!1}if(R){if(j&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===j.major&&I.semver.minor===j.minor&&I.semver.patch===j.patch&&(j=!1),I.operator==="<"||I.operator==="<="){if(v=f(R,I,P),v===I&&v!==R)return!1}else if(R.operator==="<="&&!i(R.semver,String(I),P))return!1}if(!I.operator&&(R||C)&&x!==0)return!1}return!(C&&k&&!R&&x!==0||R&&O&&!C&&x!==0||D||j)},h=(p,E,P)=>{if(!p)return E;const _=a(p.semver,E.semver,P);return _>0?p:_<0||E.operator===">"&&p.operator===">="?E:p},f=(p,E,P)=>{if(!p)return E;const _=a(p.semver,E.semver,P);return _<0?p:_>0||E.operator==="<"&&p.operator==="<="?E:p};return zm=l,zm}var Wm,xb;function ay(){if(xb)return Wm;xb=1;const t=Ic(),s=Ad(),n=Mr(),i=h1(),a=Da(),l=FI(),o=HI(),u=BI(),c=zI(),h=WI(),f=KI(),p=VI(),E=GI(),P=is(),_=JI(),C=XI(),R=ry(),x=YI(),w=QI(),v=Pd(),k=ny(),O=p1(),j=m1(),D=sy(),I=iy(),H=g1(),G=ZI(),ie=Nd(),he=os(),X=Od(),V=tP(),M=rP(),W=nP(),B=sP(),$=iP(),Y=oy(),te=oP(),J=aP(),ne=lP(),ue=cP(),ge=uP();return Wm={parse:a,valid:l,clean:o,inc:u,diff:c,major:h,minor:f,patch:p,prerelease:E,compare:P,rcompare:_,compareLoose:C,compareBuild:R,sort:x,rsort:w,gt:v,lt:k,eq:O,neq:j,gte:D,lte:I,cmp:H,coerce:G,Comparator:ie,Range:he,satisfies:X,toComparators:V,maxSatisfying:M,minSatisfying:W,minVersion:B,validRange:$,outside:Y,gtr:te,ltr:J,intersects:ne,simplifyRange:ue,subset:ge,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},Wm}var Km,Cb;function dP(){return Cb||(Cb=1,Km=ay().satisfies(process.version,">=15.7.0")),Km}var Vm,Tb;function fP(){return Tb||(Tb=1,Vm=ay().satisfies(process.version,">=16.9.0")),Vm}var Gm,_b;function y1(){if(_b)return Gm;_b=1;const t=dP(),s=fP(),n={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},i={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Gm=function(a,l){if(!a||!l)return;const o=l.asymmetricKeyType;if(!o)return;const u=n[o];if(!u)throw new Error(`Unknown key type "${o}".`);if(!u.includes(a))throw new Error(`"alg" parameter for "${o}" key type must be one of: ${u.join(", ")}.`);if(t)switch(o){case"ec":const c=l.asymmetricKeyDetails.namedCurve,h=i[a];if(c!==h)throw new Error(`"alg" parameter "${a}" requires curve "${h}".`);break;case"rsa-pss":if(s){const f=parseInt(a.slice(-3),10),{hashAlgorithm:p,mgf1HashAlgorithm:E,saltLength:P}=l.asymmetricKeyDetails;if(p!==`sha${f}`||E!==p)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${a}.`);if(P!==void 0&&P>f>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${a}.`)}break}},Gm}var Jm,Rb;function v1(){if(Rb)return Jm;Rb=1;var t=ay();return Jm=t.satisfies(process.version,"^6.12.0 || >=8.0.0"),Jm}var Xm,kb;function hP(){if(kb)return Xm;kb=1;const t=kd(),s=u1(),n=d1(),i=c1(),a=f1(),l=y1(),o=v1(),u=ey(),{KeyObject:c,createSecretKey:h,createPublicKey:f}=Uo,p=["RS256","RS384","RS512"],E=["ES256","ES384","ES512"],P=["RS256","RS384","RS512"],_=["HS256","HS384","HS512"];return o&&(p.splice(p.length,0,"PS256","PS384","PS512"),P.splice(P.length,0,"PS256","PS384","PS512")),Xm=function(C,R,x,w){typeof x=="function"&&!w&&(w=x,x={}),x||(x={}),x=Object.assign({},x);let v;if(w?v=w:v=function(H,G){if(H)throw H;return G},x.clockTimestamp&&typeof x.clockTimestamp!="number")return v(new t("clockTimestamp must be a number"));if(x.nonce!==void 0&&(typeof x.nonce!="string"||x.nonce.trim()===""))return v(new t("nonce must be a non-empty string"));if(x.allowInvalidAsymmetricKeyTypes!==void 0&&typeof x.allowInvalidAsymmetricKeyTypes!="boolean")return v(new t("allowInvalidAsymmetricKeyTypes must be a boolean"));const k=x.clockTimestamp||Math.floor(Date.now()/1e3);if(!C)return v(new t("jwt must be provided"));if(typeof C!="string")return v(new t("jwt must be a string"));const O=C.split(".");if(O.length!==3)return v(new t("jwt malformed"));let j;try{j=i(C,{complete:!0})}catch(H){return v(H)}if(!j)return v(new t("invalid token"));const D=j.header;let I;if(typeof R=="function"){if(!w)return v(new t("verify must be called asynchronous if secret or public key is provided as a callback"));I=R}else I=function(H,G){return G(null,R)};return I(D,function(H,G){if(H)return v(new t("error in secret or public key callback: "+H.message));const ie=O[2].trim()!=="";if(!ie&&G)return v(new t("jwt signature is required"));if(ie&&!G)return v(new t("secret or public key must be provided"));if(!ie&&!x.algorithms)return v(new t('please specify "none" in "algorithms" to verify unsigned tokens'));if(G!=null&&!(G instanceof c))try{G=f(G)}catch{try{G=h(typeof G=="string"?Buffer.from(G):G)}catch{return v(new t("secretOrPublicKey is not valid key material"))}}if(x.algorithms||(G.type==="secret"?x.algorithms=_:["rsa","rsa-pss"].includes(G.asymmetricKeyType)?x.algorithms=P:G.asymmetricKeyType==="ec"?x.algorithms=E:x.algorithms=p),x.algorithms.indexOf(j.header.alg)===-1)return v(new t("invalid algorithm"));if(D.alg.startsWith("HS")&&G.type!=="secret")return v(new t(`secretOrPublicKey must be a symmetric key when using ${D.alg}`));if(/^(?:RS|PS|ES)/.test(D.alg)&&G.type!=="public")return v(new t(`secretOrPublicKey must be an asymmetric key when using ${D.alg}`));if(!x.allowInvalidAsymmetricKeyTypes)try{l(D.alg,G)}catch(V){return v(V)}let he;try{he=u.verify(C,j.header.alg,G)}catch(V){return v(V)}if(!he)return v(new t("invalid signature"));const X=j.payload;if(typeof X.nbf<"u"&&!x.ignoreNotBefore){if(typeof X.nbf!="number")return v(new t("invalid nbf value"));if(X.nbf>k+(x.clockTolerance||0))return v(new s("jwt not active",new Date(X.nbf*1e3)))}if(typeof X.exp<"u"&&!x.ignoreExpiration){if(typeof X.exp!="number")return v(new t("invalid exp value"));if(k>=X.exp+(x.clockTolerance||0))return v(new n("jwt expired",new Date(X.exp*1e3)))}if(x.audience){const V=Array.isArray(x.audience)?x.audience:[x.audience];if(!(Array.isArray(X.aud)?X.aud:[X.aud]).some(function(B){return V.some(function($){return $ instanceof RegExp?$.test(B):$===B})}))return v(new t("jwt audience invalid. expected: "+V.join(" or ")))}if(x.issuer&&(typeof x.issuer=="string"&&X.iss!==x.issuer||Array.isArray(x.issuer)&&x.issuer.indexOf(X.iss)===-1))return v(new t("jwt issuer invalid. expected: "+x.issuer));if(x.subject&&X.sub!==x.subject)return v(new t("jwt subject invalid. expected: "+x.subject));if(x.jwtid&&X.jti!==x.jwtid)return v(new t("jwt jwtid invalid. expected: "+x.jwtid));if(x.nonce&&X.nonce!==x.nonce)return v(new t("jwt nonce invalid. expected: "+x.nonce));if(x.maxAge){if(typeof X.iat!="number")return v(new t("iat required when maxAge is specified"));const V=a(x.maxAge,X.iat);if(typeof V>"u")return v(new t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(k>=V+(x.clockTolerance||0))return v(new n("maxAge exceeded",new Date(V*1e3)))}if(x.complete===!0){const V=j.signature;return v(null,{header:D,payload:X,signature:V})}return v(null,X)})},Xm}var Ym,Ab;function pP(){if(Ab)return Ym;Ab=1;var t=1/0,s=9007199254740991,n=17976931348623157e292,i=NaN,a="[object Arguments]",l="[object Function]",o="[object GeneratorFunction]",u="[object String]",c="[object Symbol]",h=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,E=/^0o[0-7]+$/i,P=/^(?:0|[1-9]\d*)$/,_=parseInt;function C(K,we){for(var be=-1,rt=K?K.length:0,ct=Array(rt);++be<rt;)ct[be]=we(K[be],be,K);return ct}function R(K,we,be,rt){for(var ct=K.length,dt=be+-1;++dt<ct;)if(we(K[dt],dt,K))return dt;return-1}function x(K,we,be){if(we!==we)return R(K,w,be);for(var rt=be-1,ct=K.length;++rt<ct;)if(K[rt]===we)return rt;return-1}function w(K){return K!==K}function v(K,we){for(var be=-1,rt=Array(K);++be<K;)rt[be]=we(be);return rt}function k(K,we){return C(we,function(be){return K[be]})}function O(K,we){return function(be){return K(we(be))}}var j=Object.prototype,D=j.hasOwnProperty,I=j.toString,H=j.propertyIsEnumerable,G=O(Object.keys,Object),ie=Math.max;function he(K,we){var be=$(K)||B(K)?v(K.length,String):[],rt=be.length,ct=!!rt;for(var dt in K)D.call(K,dt)&&!(ct&&(dt=="length"||V(dt,rt)))&&be.push(dt);return be}function X(K){if(!M(K))return G(K);var we=[];for(var be in Object(K))D.call(K,be)&&be!="constructor"&&we.push(be);return we}function V(K,we){return we=we??s,!!we&&(typeof K=="number"||P.test(K))&&K>-1&&K%1==0&&K<we}function M(K){var we=K&&K.constructor,be=typeof we=="function"&&we.prototype||j;return K===be}function W(K,we,be,rt){K=Y(K)?K:$t(K),be=be&&!rt?Le(be):0;var ct=K.length;return be<0&&(be=ie(ct+be,0)),ve(K)?be<=ct&&K.indexOf(we,be)>-1:!!ct&&x(K,we,be)>-1}function B(K){return te(K)&&D.call(K,"callee")&&(!H.call(K,"callee")||I.call(K)==a)}var $=Array.isArray;function Y(K){return K!=null&&ne(K.length)&&!J(K)}function te(K){return ge(K)&&Y(K)}function J(K){var we=ue(K)?I.call(K):"";return we==l||we==o}function ne(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=s}function ue(K){var we=typeof K;return!!K&&(we=="object"||we=="function")}function ge(K){return!!K&&typeof K=="object"}function ve(K){return typeof K=="string"||!$(K)&&ge(K)&&I.call(K)==u}function Oe(K){return typeof K=="symbol"||ge(K)&&I.call(K)==c}function Fe(K){if(!K)return K===0?K:0;if(K=Ye(K),K===t||K===-t){var we=K<0?-1:1;return we*n}return K===K?K:0}function Le(K){var we=Fe(K),be=we%1;return we===we?be?we-be:we:0}function Ye(K){if(typeof K=="number")return K;if(Oe(K))return i;if(ue(K)){var we=typeof K.valueOf=="function"?K.valueOf():K;K=ue(we)?we+"":we}if(typeof K!="string")return K===0?K:+K;K=K.replace(h,"");var be=p.test(K);return be||E.test(K)?_(K.slice(2),be?2:8):f.test(K)?i:+K}function gt(K){return Y(K)?he(K):X(K)}function $t(K){return K?k(K,gt(K)):[]}return Ym=W,Ym}var Qm,Ib;function mP(){if(Ib)return Qm;Ib=1;var t="[object Boolean]",s=Object.prototype,n=s.toString;function i(l){return l===!0||l===!1||a(l)&&n.call(l)==t}function a(l){return!!l&&typeof l=="object"}return Qm=i,Qm}var Zm,Pb;function gP(){if(Pb)return Zm;Pb=1;var t=1/0,s=17976931348623157e292,n=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,h=Object.prototype,f=h.toString;function p(w){return typeof w=="number"&&w==R(w)}function E(w){var v=typeof w;return!!w&&(v=="object"||v=="function")}function P(w){return!!w&&typeof w=="object"}function _(w){return typeof w=="symbol"||P(w)&&f.call(w)==i}function C(w){if(!w)return w===0?w:0;if(w=x(w),w===t||w===-t){var v=w<0?-1:1;return v*s}return w===w?w:0}function R(w){var v=C(w),k=v%1;return v===v?k?v-k:v:0}function x(w){if(typeof w=="number")return w;if(_(w))return n;if(E(w)){var v=typeof w.valueOf=="function"?w.valueOf():w;w=E(v)?v+"":v}if(typeof w!="string")return w===0?w:+w;w=w.replace(a,"");var k=o.test(w);return k||u.test(w)?c(w.slice(2),k?2:8):l.test(w)?n:+w}return Zm=p,Zm}var eg,Nb;function yP(){if(Nb)return eg;Nb=1;var t="[object Number]",s=Object.prototype,n=s.toString;function i(l){return!!l&&typeof l=="object"}function a(l){return typeof l=="number"||i(l)&&n.call(l)==t}return eg=a,eg}var tg,Ob;function vP(){if(Ob)return tg;Ob=1;var t="[object Object]";function s(E){var P=!1;if(E!=null&&typeof E.toString!="function")try{P=!!(E+"")}catch{}return P}function n(E,P){return function(_){return E(P(_))}}var i=Function.prototype,a=Object.prototype,l=i.toString,o=a.hasOwnProperty,u=l.call(Object),c=a.toString,h=n(Object.getPrototypeOf,Object);function f(E){return!!E&&typeof E=="object"}function p(E){if(!f(E)||c.call(E)!=t||s(E))return!1;var P=h(E);if(P===null)return!0;var _=o.call(P,"constructor")&&P.constructor;return typeof _=="function"&&_ instanceof _&&l.call(_)==u}return tg=p,tg}var rg,jb;function EP(){if(jb)return rg;jb=1;var t="[object String]",s=Object.prototype,n=s.toString,i=Array.isArray;function a(o){return!!o&&typeof o=="object"}function l(o){return typeof o=="string"||!i(o)&&a(o)&&n.call(o)==t}return rg=l,rg}var ng,Lb;function wP(){if(Lb)return ng;Lb=1;var t="Expected a function",s=1/0,n=17976931348623157e292,i=NaN,a="[object Symbol]",l=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,f=Object.prototype,p=f.toString;function E(k,O){var j;if(typeof O!="function")throw new TypeError(t);return k=w(k),function(){return--k>0&&(j=O.apply(this,arguments)),k<=1&&(O=void 0),j}}function P(k){return E(2,k)}function _(k){var O=typeof k;return!!k&&(O=="object"||O=="function")}function C(k){return!!k&&typeof k=="object"}function R(k){return typeof k=="symbol"||C(k)&&p.call(k)==a}function x(k){if(!k)return k===0?k:0;if(k=v(k),k===s||k===-s){var O=k<0?-1:1;return O*n}return k===k?k:0}function w(k){var O=x(k),j=O%1;return O===O?j?O-j:O:0}function v(k){if(typeof k=="number")return k;if(R(k))return i;if(_(k)){var O=typeof k.valueOf=="function"?k.valueOf():k;k=_(O)?O+"":O}if(typeof k!="string")return k===0?k:+k;k=k.replace(l,"");var j=u.test(k);return j||c.test(k)?h(k.slice(2),j?2:8):o.test(k)?i:+k}return ng=P,ng}var sg,Db;function SP(){if(Db)return sg;Db=1;const t=f1(),s=v1(),n=y1(),i=ey(),a=pP(),l=mP(),o=gP(),u=yP(),c=vP(),h=EP(),f=wP(),{KeyObject:p,createSecretKey:E,createPrivateKey:P}=Uo,_=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&_.splice(3,0,"PS256","PS384","PS512");const C={expiresIn:{isValid:function(j){return o(j)||h(j)&&j},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(j){return o(j)||h(j)&&j},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(j){return h(j)||Array.isArray(j)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,_),message:'"algorithm" must be a valid string enum value'},header:{isValid:c,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},R={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function x(j,D,I,H){if(!c(I))throw new Error('Expected "'+H+'" to be a plain object.');Object.keys(I).forEach(function(G){const ie=j[G];if(!ie){if(!D)throw new Error('"'+G+'" is not allowed in "'+H+'"');return}if(!ie.isValid(I[G]))throw new Error(ie.message)})}function w(j){return x(C,!1,j,"options")}function v(j){return x(R,!0,j,"payload")}const k={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},O=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return sg=function(j,D,I,H){typeof I=="function"?(H=I,I={}):I=I||{};const G=typeof j=="object"&&!Buffer.isBuffer(j),ie=Object.assign({alg:I.algorithm||"HS256",typ:G?"JWT":void 0,kid:I.keyid},I.header);function he(M){if(H)return H(M);throw M}if(!D&&I.algorithm!=="none")return he(new Error("secretOrPrivateKey must have a value"));if(D!=null&&!(D instanceof p))try{D=P(D)}catch{try{D=E(typeof D=="string"?Buffer.from(D):D)}catch{return he(new Error("secretOrPrivateKey is not valid key material"))}}if(ie.alg.startsWith("HS")&&D.type!=="secret")return he(new Error(`secretOrPrivateKey must be a symmetric key when using ${ie.alg}`));if(/^(?:RS|PS|ES)/.test(ie.alg)){if(D.type!=="private")return he(new Error(`secretOrPrivateKey must be an asymmetric key when using ${ie.alg}`));if(!I.allowInsecureKeySizes&&!ie.alg.startsWith("ES")&&D.asymmetricKeyDetails!==void 0&&D.asymmetricKeyDetails.modulusLength<2048)return he(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${ie.alg}`))}if(typeof j>"u")return he(new Error("payload is required"));if(G){try{v(j)}catch(M){return he(M)}I.mutatePayload||(j=Object.assign({},j))}else{const M=O.filter(function(W){return typeof I[W]<"u"});if(M.length>0)return he(new Error("invalid "+M.join(",")+" option for "+typeof j+" payload"))}if(typeof j.exp<"u"&&typeof I.expiresIn<"u")return he(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof j.nbf<"u"&&typeof I.notBefore<"u")return he(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{w(I)}catch(M){return he(M)}if(!I.allowInvalidAsymmetricKeyTypes)try{n(ie.alg,D)}catch(M){return he(M)}const X=j.iat||Math.floor(Date.now()/1e3);if(I.noTimestamp?delete j.iat:G&&(j.iat=X),typeof I.notBefore<"u"){try{j.nbf=t(I.notBefore,X)}catch(M){return he(M)}if(typeof j.nbf>"u")return he(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof I.expiresIn<"u"&&typeof j=="object"){try{j.exp=t(I.expiresIn,X)}catch(M){return he(M)}if(typeof j.exp>"u")return he(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(k).forEach(function(M){const W=k[M];if(typeof I[M]<"u"){if(typeof j[W]<"u")return he(new Error('Bad "options.'+M+'" option. The payload already has an "'+W+'" property.'));j[W]=I[M]}});const V=I.encoding||"utf8";if(typeof H=="function")H=H&&f(H),i.createSign({header:ie,privateKey:D,payload:j,encoding:V}).once("error",H).once("done",function(M){if(!I.allowInsecureKeySizes&&/^(?:RS|PS)/.test(ie.alg)&&M.length<256)return H(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${ie.alg}`));H(null,M)});else{let M=i.sign({header:ie,payload:j,secret:D,encoding:V});if(!I.allowInsecureKeySizes&&/^(?:RS|PS)/.test(ie.alg)&&M.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${ie.alg}`);return M}},sg}var ig,Ub;function Pc(){return Ub||(Ub=1,ig={decode:c1(),verify:hP(),sign:SP(),JsonWebTokenError:kd(),NotBeforeError:u1(),TokenExpiredError:d1()}),ig}var $b;function bP(){if($b)return xo;$b=1;var t=xo&&xo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(xo,"__esModule",{value:!0}),xo.extractRequestMetadata=i,xo.extractUserIdFromToken=u;const s=t(Pc()),n=kc();function i(c,h,f){const p=c?.config||h?.config;if(!p)return null;const E=p.metadata;if(!E)return null;const P=a(E,p,f),_=l(p,h),C=o(c,h);return{...P,..._,...C}}function a(c,h,f){const p=Date.now()-c.startTime,E=c.method||"UNKNOWN",P=c.url||"",_=c.baseURL||(0,n.resolveControllerUrl)(f),C=`${_}${P}`,R=h.headers?.authorization,x=u(R);return{config:h,metadata:c,duration:p,method:E,url:P,fullUrl:C,baseURL:_,statusCode:0,authHeader:R,userId:x}}function l(c,h){return{requestHeaders:c.headers||{},requestBody:c.data||h?.config?.data}}function o(c,h){return{statusCode:c?.status||h?.response?.status||0,responseBody:c?.data||h?.response?.data,responseHeaders:c?.headers||h?.response?.headers||{}}}function u(c){if(!c||!c.startsWith("Bearer "))return null;const h=c.substring(7);try{const f=s.default.decode(h);return f?f.sub||f.userId||f.user_id||f.id:null}catch{return null}}return xo}var Ll={},Dl={},Mb;function jd(){if(Mb)return Dl;Mb=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.LoggerContextStorage=void 0;const t=Li;class s{constructor(){this.asyncLocalStorage=new t.AsyncLocalStorage}static getInstance(){return s.instance||(s.instance=new s),s.instance}getContext(){const i=this.asyncLocalStorage.getStore();return i===void 0?null:i}setContext(i){const a=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...a,...i})}clearContext(){this.asyncLocalStorage.enterWith({})}mergeContext(i){const a=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...a,...i})}runWithContext(i,a){const l={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(l,a)}async runWithContextAsync(i,a){const l={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(l,a)}}return Dl.LoggerContextStorage=s,s.instance=null,Dl}var Ss={},qb;function xP(){if(qb)return Ss;qb=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.estimateObjectSize=s,Ss.truncateResponseBody=n,Ss.analyzeRequestSizes=i,Ss.truncateBodies=a,Ss.applyMaskingStrategy=l,Ss.applyStandardMasking=o,Ss.applyDetailedMasking=u;const t=La();function s(p){if(p==null)return 0;if(typeof p=="string")return p.length;if(typeof p!="object")return 10;if(Array.isArray(p)){const _=p.length;if(_===0)return 10;const C=Math.min(3,_);let R=0;for(let w=0;w<C;w++)R+=s(p[w]);const x=C>0?R/C:100;return _*x}const E=Object.entries(p);let P=0;for(const[_,C]of E)P+=_.length+s(C);return P}function n(p,E=1e4){if(p==null)return{data:p,truncated:!1};if(typeof p=="string")return p.length<=E?{data:p,truncated:!1}:{data:p.substring(0,E)+"...",truncated:!0};const P=s(p);return P<=E?{data:p,truncated:!1}:{data:{_message:"Response body too large, truncated for performance",_estimatedSize:P},truncated:!0}}function i(p,E,P){const _=p?s(p):0,C=E?s(E):0,R=_<1024&&C<1024,x=_>P||C>P;return{isSmallRequest:R,isLargeRequest:x}}function a(p,E,P){const{data:_,truncated:C}=n(E,P),{data:R,truncated:x}=p&&s(p)>P?n(p,P):{data:p,truncated:!1};return{requestBody:R,responseBody:_,requestTruncated:x,responseTruncated:C}}async function l(p,E,P,_){const C=i(p.requestBody,p.responseBody,_),R=a(p.requestBody,p.responseBody,P),x={requestHeaders:p.requestHeaders,responseHeaders:p.responseHeaders,requestBody:R.requestBody,responseBody:R.responseBody,isSmallRequest:C.isSmallRequest,isLargeRequest:C.isLargeRequest,requestTruncated:R.requestTruncated,responseTruncated:R.responseTruncated};return E==="standard"?o(x):u(x)}function o(p){const E=t.DataMasker.maskSensitiveData(p.requestHeaders),P=t.DataMasker.maskSensitiveData(p.responseHeaders),_=p.isSmallRequest||!p.isLargeRequest,C=_?t.DataMasker.maskSensitiveData(p.requestBody):{_message:"Request body too large, masking skipped"},R=_?t.DataMasker.maskSensitiveData(p.responseBody):{_message:"Response body too large, masking skipped"};return{headers:E,requestBody:C,responseBody:R,responseHeaders:P,requestTruncated:p.requestTruncated,responseTruncated:p.responseTruncated}}async function u(p){return p.isLargeRequest?c(p.requestHeaders,p.responseHeaders,p.requestTruncated,p.responseTruncated):p.isSmallRequest?h(p.requestHeaders,p.responseHeaders,p.requestBody,p.responseBody,p.requestTruncated,p.responseTruncated):f(p.requestHeaders,p.responseHeaders,p.requestBody,p.responseBody,p.requestTruncated,p.responseTruncated)}function c(p,E,P,_){return{headers:p,requestBody:{_message:"Request body too large, masking skipped"},responseBody:{_message:"Response body too large, masking skipped"},responseHeaders:E,requestTruncated:P,responseTruncated:_}}function h(p,E,P,_,C,R){return{headers:t.DataMasker.maskSensitiveData(p),requestBody:t.DataMasker.maskSensitiveData(P),responseBody:t.DataMasker.maskSensitiveData(_),responseHeaders:t.DataMasker.maskSensitiveData(E),requestTruncated:C,responseTruncated:R}}async function f(p,E,P,_,C,R){const[x,w,v,k]=await Promise.all([Promise.resolve(t.DataMasker.maskSensitiveData(p)),Promise.resolve(t.DataMasker.maskSensitiveData(P)),Promise.resolve(t.DataMasker.maskSensitiveData(_)),Promise.resolve(t.DataMasker.maskSensitiveData(E))]);return{headers:x,requestBody:w,responseBody:v,responseHeaders:k,requestTruncated:C,responseTruncated:R}}return Ss}var Fb;function CP(){if(Fb)return Ll;Fb=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.logHttpRequestAudit=n,Ll.calculateRequestSizes=o;const t=jd(),s=xP();async function n(p,E,P,_){try{if(!p)return;const C=P.audit||{},R=C.level||"detailed";if(R==="minimal"){await i(p,E,_);return}await a(p,R,C,E,P,_)}catch{}}async function i(p,E,P){const _=p.userId?void 0:p.authHeader?.replace("Bearer ","");await l(_,async()=>{await P.audit(`http.request.${p.method}`,p.url,{method:p.method,url:p.fullUrl,statusCode:p.statusCode,duration:p.duration,userId:p.userId||void 0,error:E?.message||void 0})})}async function a(p,E,P,_,C,R){const x=await(0,s.applyMaskingStrategy)({requestHeaders:p.requestHeaders,requestBody:p.requestBody,responseBody:p.responseBody,responseHeaders:p.responseHeaders},E,P.maxResponseSize??1e4,P.maxMaskingSize??5e4),w=E==="detailed"||E==="full"?o(p.requestBody,p.responseBody):{requestSize:void 0,responseSize:void 0},v=u({method:p.method,fullUrl:p.fullUrl,duration:p.duration,statusCode:p.statusCode,userId:p.userId},w,x,E,_),k=p.userId?void 0:p.authHeader?.replace("Bearer ","");if(await l(k,async()=>{await R.audit(`http.request.${p.method}`,p.url,v)}),C.logLevel==="debug")try{await c(p,x,w,_,R)}catch{}}async function l(p,E){if(!p){await E();return}await t.LoggerContextStorage.getInstance().runWithContextAsync({token:p},E)}function o(p,E){let P,_;if(p){const C=JSON.stringify(p),R=Buffer.byteLength(C);P=R<=2?void 0:R}if(E){const C=JSON.stringify(E),R=Buffer.byteLength(C);_=R<=2?void 0:R}return{requestSize:P,responseSize:_}}function u(p,E,P,_,C){const R={method:p.method,url:p.fullUrl,statusCode:p.statusCode,duration:p.duration,userId:p.userId||void 0,error:C?.message||void 0};return(_==="detailed"||_==="full")&&(R.requestSize=E.requestSize!==void 0&&E.requestSize>0?E.requestSize:void 0,R.responseSize=E.responseSize!==void 0&&E.responseSize>0?E.responseSize:void 0,P.requestTruncated&&(R.requestTruncated=!0),P.responseTruncated&&(R.responseTruncated=!0)),R}async function c(p,E,P,_,C){const R=h(E.responseBody),x=f(p,E,P,R,_),w=p.userId?void 0:p.authHeader?.replace("Bearer ","");await l(w,async()=>{await C.debug(`HTTP ${p.method} ${p.url}`,x)})}function h(p){if(!p||typeof p!="object")return p;const E=JSON.stringify(p);if(E.length<=1e3)return p;try{return JSON.parse(E.substring(0,1e3)+"...")}catch{return{_message:"Response body truncated"}}}function f(p,E,P,_,C){return{method:p.method,url:p.fullUrl,baseURL:p.baseURL,statusCode:p.statusCode,duration:p.duration,userId:p.userId||void 0,timeout:p.config.timeout||3e4,requestHeaders:E.headers,responseHeaders:E.responseHeaders,requestBody:E.requestBody,responseBody:_,requestSize:P.requestSize!==void 0&&P.requestSize>0?P.requestSize:void 0,responseSize:P.responseSize!==void 0&&P.responseSize>0?P.responseSize:void 0,error:C?.message||void 0}}return Ll}var Hb;function ly(){if(Hb)return Nl;Hb=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.HttpClient=void 0;const t=Zg(),s=La(),n=bP(),i=CP();class a{constructor(o,u){this.config=o,this.logger=u,this.internalClient=new t.InternalHttpClient(o),o.sensitiveFieldsConfig&&s.DataMasker.setConfigPath(o.sensitiveFieldsConfig),this.setupAuditLogging()}setupAuditLogging(){const o=this.internalClient.getAxiosInstance();o.interceptors.request.use(async u=>(this.shouldAuditRequest(u.url||"")&&(u.metadata={startTime:Date.now(),method:u.method?.toUpperCase(),url:u.url,baseURL:u.baseURL}),u),u=>Promise.reject(u)),o.interceptors.response.use(u=>(setTimeout(()=>{this.logHttpRequestAudit(u,null).catch(()=>{})},0),u),u=>(setTimeout(()=>{this.logHttpRequestAudit(u.response,u).catch(()=>{})},0),Promise.reject(u)))}shouldAuditRequest(o){if(this.config.audit?.enabled===!1)return!1;if(this.config.audit?.skipEndpoints){for(const u of this.config.audit.skipEndpoints)if(o&&o.includes(u))return!1}return!(o&&o.includes("/api/v1/logs")||o&&o.includes("/api/v1/auth/token"))}async logHttpRequestAudit(o,u){try{const c=(0,n.extractRequestMetadata)(o,u,this.config);await(0,i.logHttpRequestAudit)(c,u,this.config,this.logger)}catch{}}async get(o,u){return this.internalClient.get(o,u)}async post(o,u,c){return this.internalClient.post(o,u,c)}async put(o,u,c){return this.internalClient.put(o,u,c)}async delete(o,u){return this.internalClient.delete(o,u)}async request(o,u,c,h){return this.internalClient.request(o,u,c,h)}async authenticatedRequest(o,u,c,h,f,p){return this.internalClient.authenticatedRequest(o,u,c,h,f,p)}async requestWithAuthStrategy(o,u,c,h,f){return this.internalClient.requestWithAuthStrategy(o,u,c,h,f)}async validateTokenRequest(o,u){return this.authenticatedRequest("POST","/api/v1/auth/validate",o,{token:o},void 0,u)}async getWithFilters(o,u,c){const h=u.toQueryString(),f=h?`${o}?${h}`:o;return this.internalClient.get(f,c)}async getPaginated(o,u,c){const h=new URLSearchParams;h.append("page",u.page.toString()),h.append("page_size",u.pageSize.toString());const f=`${o}?${h.toString()}`;return this.internalClient.get(f,c)}}return Nl.HttpClient=a,Nl}var Ul={},$l={},Ml={},va={},Bb;function Wt(){if(Bb)return va;Bb=1,Object.defineProperty(va,"__esModule",{value:!0}),va.logErrorWithContext=t,va.writeWarn=s,va.writeErr=n;function t(i,a="[MisoClient]"){const l=i.correlationId||"no-correlation-id",o=[];o.push(`${i.errorName}: ${i.message}`),i.statusCode!==void 0&&o.push(`Status: ${i.statusCode}`),i.endpoint&&i.method?o.push(`Endpoint: ${i.method} ${i.endpoint}`):i.endpoint?o.push(`Endpoint: ${i.endpoint}`):i.method&&o.push(`Method: ${i.method}`);const u=o.join(" | "),c=`${a} [${l}]`;console.error(c,u),i.responseBody&&console.error(c,`Response Body: ${JSON.stringify(i.responseBody,null,2)}`),i.stackTrace&&console.error(c,`Stack Trace: ${i.stackTrace}`),i.originalError&&console.error(c,`Original Error: ${String(i.originalError)}`)}function s(i){console.warn(i)}function n(i){console.error(i)}return va}var $u={},ts={},zb;function cy(){if(zb)return ts;zb=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.AuthenticationError=ts.TimeoutError=ts.NetworkError=ts.ApiError=void 0;class t extends Error{constructor(l,o,u,c){super(l),this.name="ApiError",this.statusCode=o,this.response=u,this.originalError=c,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}ts.ApiError=t;class s extends t{constructor(l,o){super(l,0,void 0,o),this.name="NetworkError"}}ts.NetworkError=s;class n extends t{constructor(l,o){super(l,408),this.name="TimeoutError"}}ts.TimeoutError=n;class i extends t{constructor(l,o){super(l,401,o),this.name="AuthenticationError"}}return ts.AuthenticationError=i,ts}var Wb;function qr(){if(Wb)return $u;Wb=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.extractErrorInfo=o;const t=ja(),s=cy();function n(u,c,h,f,p,E){u.errorType=c,u.errorName=h,u.message=f,u.statusCode=p,u.stackTrace=E}function i(u,c){n(c,"MisoClientError",u.name,u.message,u.statusCode,u.stack),u.errorResponse&&"correlationId"in u.errorResponse&&(c.correlationId=c.correlationId||u.errorResponse.correlationId),u.errorResponse?c.responseBody={errors:u.errorResponse.errors,type:u.errorResponse.type,title:u.errorResponse.title,statusCode:u.errorResponse.statusCode,instance:u.errorResponse.instance,correlationId:u.errorResponse.correlationId}:u.errorBody&&(c.responseBody=u.errorBody)}function a(u,c){if(n(c,u.name,u.name,u.message,u.statusCode,u.stack),c.originalError=u.originalError,u.response)try{c.responseBody={status:u.statusCode,message:u.message}}catch{}}function l(u,c){c.errorType="Unknown",c.errorName="UnknownError",c.message=typeof u=="string"?u:u&&typeof u=="object"&&"message"in u?String(u.message):"Unknown error occurred"}function o(u,c){const h={errorType:"Unknown",errorName:"Error",message:"Unknown error",endpoint:c?.endpoint,method:c?.method,correlationId:c?.correlationId};return u instanceof t.MisoClientError?i(u,h):u instanceof s.ApiError?a(u,h):u instanceof s.AuthenticationError?n(h,"AuthenticationError",u.name,u.message,401,u.stack):u instanceof s.NetworkError?n(h,"NetworkError",u.name,u.message,0,u.stack):u instanceof s.TimeoutError?n(h,"TimeoutError",u.name,u.message,408,u.stack):u instanceof Error?n(h,"Error",u.name,u.message,void 0,u.stack):l(u,h),h}return $u}var Kb;function TP(){if(Kb)return Ml;Kb=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.AuthLoginApi=void 0;const t=Wt(),s=qr();class n{constructor(a){this.httpClient=a}async login(a,l){try{return l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGIN_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGIN_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,s.extractErrorInfo)(o,{endpoint:n.LOGIN_ENDPOINT,method:"GET"});throw(0,t.logErrorWithContext)(u,"[AuthLoginApi]"),o}}async initiateDeviceCode(a,l){try{return l?await this.httpClient.requestWithAuthStrategy("POST",n.LOGIN_ENDPOINT,l,a):await this.httpClient.request("POST",n.LOGIN_ENDPOINT,a)}catch(o){const u=(0,s.extractErrorInfo)(o,{endpoint:n.LOGIN_ENDPOINT,method:"POST"});throw(0,t.logErrorWithContext)(u,"[AuthLoginApi]"),o}}async pollDeviceCodeToken(a){try{return await this.httpClient.request("POST",n.DEVICE_CODE_TOKEN_ENDPOINT,a)}catch(l){const o=(0,s.extractErrorInfo)(l,{endpoint:n.DEVICE_CODE_TOKEN_ENDPOINT,method:"POST"});throw(0,t.logErrorWithContext)(o,"[AuthLoginApi]"),l}}async refreshDeviceCodeToken(a){try{return await this.httpClient.request("POST",n.DEVICE_CODE_REFRESH_ENDPOINT,a)}catch(l){const o=(0,s.extractErrorInfo)(l,{endpoint:n.DEVICE_CODE_REFRESH_ENDPOINT,method:"POST"});throw(0,t.logErrorWithContext)(o,"[AuthLoginApi]"),l}}async getLoginDiagnostics(a){try{const l=a?{environment:a}:void 0,o=await this.httpClient.request("GET",n.LOGIN_DIAGNOSTICS_ENDPOINT,void 0,{params:l});if(o.success!==void 0)return o;if(o.data&&typeof o.data=="object"){const u=o.data;return{success:!0,data:{database:u.database||{},controller:u.controller||{},environment:u.environment||{},keycloak:u.keycloak||{}},timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}throw new Error(`Unexpected response format from login diagnostics endpoint: ${JSON.stringify(o)}`)}catch(l){const o=(0,s.extractErrorInfo)(l,{endpoint:n.LOGIN_DIAGNOSTICS_ENDPOINT,method:"GET"});throw(0,t.logErrorWithContext)(o,"[AuthLoginApi]"),l}}}return Ml.AuthLoginApi=n,n.LOGIN_ENDPOINT="/api/v1/auth/login",n.DEVICE_CODE_TOKEN_ENDPOINT="/api/v1/auth/login/device/token",n.DEVICE_CODE_REFRESH_ENDPOINT="/api/v1/auth/login/device/refresh",n.LOGIN_DIAGNOSTICS_ENDPOINT="/api/v1/auth/login/diagnostics",Ml}var ql={},Vb;function _P(){if(Vb)return ql;Vb=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.AuthTokenApi=void 0;const t=qr(),s=Wt();function n(o){const u=o.data;if(!u||typeof u.token!="string")throw new Error(`Unexpected response format from client-token endpoint: ${JSON.stringify(o)}`);return{success:!0,data:{token:u.token,expiresIn:typeof u.expiresIn=="number"?u.expiresIn:0,expiresAt:typeof u.expiresAt=="string"?u.expiresAt:new Date().toISOString()},timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}function i(o,u){return{success:!0,token:u.token,expiresIn:typeof u.expiresIn=="number"?u.expiresIn:0,expiresAt:typeof u.expiresAt=="string"?u.expiresAt:new Date().toISOString(),timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}function a(o){return{success:!0,token:o.token,expiresIn:typeof o.expiresIn=="number"?o.expiresIn:0,expiresAt:typeof o.expiresAt=="string"?o.expiresAt:new Date().toISOString(),timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}class l{constructor(u){this.httpClient=u}async getClientToken(u){try{if(u)return await this.httpClient.requestWithAuthStrategy("POST",l.CLIENT_TOKEN_ENDPOINT,u);const c=await this.httpClient.request("POST",l.CLIENT_TOKEN_ENDPOINT,void 0,{headers:{"x-client-id":this.httpClient.config.clientId||""}});if(c.success!==void 0)return c;if(c.data&&typeof c.data=="object")return n(c);throw new Error(`Unexpected response format from client-token endpoint: ${JSON.stringify(c)}`)}catch(c){const h=(0,t.extractErrorInfo)(c,{endpoint:l.CLIENT_TOKEN_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(h,"[AuthTokenApi]"),c}}async generateClientToken(u){try{if(u)return await this.httpClient.requestWithAuthStrategy("POST",l.CLIENT_TOKEN_LEGACY_ENDPOINT,u);const c=await this.httpClient.request("POST",l.CLIENT_TOKEN_LEGACY_ENDPOINT,void 0,{headers:{"x-client-id":this.httpClient.config.clientId||"","x-client-secret":this.httpClient.config.clientSecret||""}});if(c.success!==void 0)return c;if(c.data&&typeof c.data=="object"){const h=c.data;if(typeof h.token=="string")return i(c,h)}if(typeof c.token=="string")return a(c);throw new Error(`Unexpected response format from token endpoint: ${JSON.stringify(c)}`)}catch(c){const h=(0,t.extractErrorInfo)(c,{endpoint:l.CLIENT_TOKEN_LEGACY_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(h,"[AuthTokenApi]"),c}}async validateToken(u,c){try{return await this.httpClient.authenticatedRequest("POST",l.VALIDATE_ENDPOINT,u.token,u,void 0,c)}catch(h){const f=(0,t.extractErrorInfo)(h,{endpoint:l.VALIDATE_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(f,"[AuthTokenApi]"),h}}async refreshToken(u,c){try{return c?await this.httpClient.requestWithAuthStrategy("POST",l.REFRESH_ENDPOINT,c,u):await this.httpClient.request("POST",l.REFRESH_ENDPOINT,u)}catch(h){const f=(0,t.extractErrorInfo)(h,{endpoint:l.REFRESH_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(f,"[AuthTokenApi]"),h}}}return ql.AuthTokenApi=l,l.CLIENT_TOKEN_ENDPOINT="/api/v1/auth/client-token",l.CLIENT_TOKEN_LEGACY_ENDPOINT="/api/v1/auth/token",l.VALIDATE_ENDPOINT="/api/v1/auth/validate",l.REFRESH_ENDPOINT="/api/v1/auth/refresh",ql}var Fl={},Gb;function RP(){if(Gb)return Fl;Gb=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.AuthUserApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async getUser(a){try{if(a?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.USER_ENDPOINT,a.bearerToken,void 0,void 0,a);if(a)return await this.httpClient.requestWithAuthStrategy("GET",n.USER_ENDPOINT,a);throw new Error("getUser requires authentication - provide authStrategy with bearerToken")}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.USER_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthUserApi]"),l}}async logout(){try{return await this.httpClient.request("POST",n.LOGOUT_ENDPOINT)}catch(a){const l=(0,t.extractErrorInfo)(a,{endpoint:n.LOGOUT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(l,"[AuthUserApi]"),a}}async logoutWithToken(a){try{return await this.httpClient.request("POST",n.LOGOUT_ENDPOINT,{token:a})}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.LOGOUT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[AuthUserApi]"),l}}async handleCallback(a,l){try{return l?await this.httpClient.requestWithAuthStrategy("GET",n.CALLBACK_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.CALLBACK_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.CALLBACK_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[AuthUserApi]"),o}}}return Fl.AuthUserApi=n,n.USER_ENDPOINT="/api/v1/auth/user",n.LOGOUT_ENDPOINT="/api/v1/auth/logout",n.CALLBACK_ENDPOINT="/api/v1/auth/callback",Fl}var Hl={},Jb;function kP(){if(Jb)return Hl;Jb=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.AuthCacheApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async getCacheStats(a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.CACHE_STATS_ENDPOINT,a.bearerToken,void 0,void 0,a):a?await this.httpClient.requestWithAuthStrategy("GET",n.CACHE_STATS_ENDPOINT,a):await this.httpClient.request("GET",n.CACHE_STATS_ENDPOINT)}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.CACHE_STATS_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),l}}async getCachePerformance(a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.CACHE_PERFORMANCE_ENDPOINT,a.bearerToken,void 0,void 0,a):a?await this.httpClient.requestWithAuthStrategy("GET",n.CACHE_PERFORMANCE_ENDPOINT,a):await this.httpClient.request("GET",n.CACHE_PERFORMANCE_ENDPOINT)}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.CACHE_PERFORMANCE_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),l}}async getCacheEfficiency(a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.CACHE_EFFICIENCY_ENDPOINT,a.bearerToken,void 0,void 0,a):a?await this.httpClient.requestWithAuthStrategy("GET",n.CACHE_EFFICIENCY_ENDPOINT,a):await this.httpClient.request("GET",n.CACHE_EFFICIENCY_ENDPOINT)}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.CACHE_EFFICIENCY_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),l}}async clearCache(a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("POST",n.CACHE_CLEAR_ENDPOINT,a.bearerToken,void 0,void 0,a):a?await this.httpClient.requestWithAuthStrategy("POST",n.CACHE_CLEAR_ENDPOINT,a):await this.httpClient.request("POST",n.CACHE_CLEAR_ENDPOINT)}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.CACHE_CLEAR_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),l}}async invalidateCache(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("POST",n.CACHE_INVALIDATE_ENDPOINT,l.bearerToken,a,void 0,l):l?await this.httpClient.requestWithAuthStrategy("POST",n.CACHE_INVALIDATE_ENDPOINT,l,a):await this.httpClient.request("POST",n.CACHE_INVALIDATE_ENDPOINT,a)}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.CACHE_INVALIDATE_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(u,"[AuthCacheApi]"),o}}}return Hl.AuthCacheApi=n,n.CACHE_STATS_ENDPOINT="/api/v1/auth/cache/stats",n.CACHE_PERFORMANCE_ENDPOINT="/api/v1/auth/cache/performance",n.CACHE_EFFICIENCY_ENDPOINT="/api/v1/auth/cache/efficiency",n.CACHE_CLEAR_ENDPOINT="/api/v1/auth/cache/clear",n.CACHE_INVALIDATE_ENDPOINT="/api/v1/auth/cache/invalidate",Hl}var Xb;function AP(){if(Xb)return $l;Xb=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.AuthApi=void 0;const t=TP(),s=_P(),n=RP(),i=kP();class a{constructor(o){this.httpClient=o,this.loginApi=new t.AuthLoginApi(o),this.tokenApi=new s.AuthTokenApi(o),this.userApi=new n.AuthUserApi(o),this.cacheApi=new i.AuthCacheApi(o)}async login(o,u){return this.loginApi.login(o,u)}async initiateDeviceCode(o,u){return this.loginApi.initiateDeviceCode(o,u)}async pollDeviceCodeToken(o){return this.loginApi.pollDeviceCodeToken(o)}async refreshDeviceCodeToken(o){return this.loginApi.refreshDeviceCodeToken(o)}async getLoginDiagnostics(o){return this.loginApi.getLoginDiagnostics(o)}async getClientToken(o){return this.tokenApi.getClientToken(o)}async generateClientToken(o){return this.tokenApi.generateClientToken(o)}async validateToken(o,u){return this.tokenApi.validateToken(o,u)}async refreshToken(o,u){return this.tokenApi.refreshToken(o,u)}async getUser(o){return this.userApi.getUser(o)}async logout(){return this.userApi.logout()}async logoutWithToken(o){return this.userApi.logoutWithToken(o)}async handleCallback(o,u){return this.userApi.handleCallback(o,u)}async getCacheStats(o){return this.cacheApi.getCacheStats(o)}async getCachePerformance(o){return this.cacheApi.getCachePerformance(o)}async getCacheEfficiency(o){return this.cacheApi.getCacheEfficiency(o)}async clearCache(o){return this.cacheApi.clearCache(o)}async invalidateCache(o,u){return this.cacheApi.invalidateCache(o,u)}}return $l.AuthApi=a,$l}var Bl={},Yb;function IP(){if(Yb)return Bl;Yb=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.RolesApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async getRoles(a,l){try{if(l?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.ROLES_ENDPOINT,l.bearerToken,void 0,{params:a},l);if(l)return await this.httpClient.requestWithAuthStrategy("GET",n.ROLES_ENDPOINT,l,void 0,{params:a});throw new Error("getRoles requires authentication - provide authStrategy with bearerToken")}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.ROLES_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[RolesApi]"),o}}async refreshRoles(a,l){try{if(l?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.ROLES_REFRESH_ENDPOINT,l.bearerToken,void 0,{params:a},l);if(l)return await this.httpClient.requestWithAuthStrategy("GET",n.ROLES_REFRESH_ENDPOINT,l,void 0,{params:a});throw new Error("refreshRoles requires authentication - provide authStrategy with bearerToken")}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.ROLES_REFRESH_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[RolesApi]"),o}}}return Bl.RolesApi=n,n.ROLES_ENDPOINT="/api/v1/auth/roles",n.ROLES_REFRESH_ENDPOINT="/api/v1/auth/roles/refresh",Bl}var zl={},Qb;function PP(){if(Qb)return zl;Qb=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.PermissionsApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async getPermissions(a,l){try{if(l?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.PERMISSIONS_ENDPOINT,l.bearerToken,void 0,{params:a},l);if(l)return await this.httpClient.requestWithAuthStrategy("GET",n.PERMISSIONS_ENDPOINT,l,void 0,{params:a});throw new Error("getPermissions requires authentication - provide authStrategy with bearerToken")}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.PERMISSIONS_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[PermissionsApi]"),o}}async refreshPermissions(a,l){try{if(l?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.PERMISSIONS_REFRESH_ENDPOINT,l.bearerToken,void 0,{params:a},l);if(l)return await this.httpClient.requestWithAuthStrategy("GET",n.PERMISSIONS_REFRESH_ENDPOINT,l,void 0,{params:a});throw new Error("refreshPermissions requires authentication - provide authStrategy with bearerToken")}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.PERMISSIONS_REFRESH_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[PermissionsApi]"),o}}}return zl.PermissionsApi=n,n.PERMISSIONS_ENDPOINT="/api/v1/auth/permissions",n.PERMISSIONS_REFRESH_ENDPOINT="/api/v1/auth/permissions/refresh",zl}var Wl={},Kl={},Zb;function NP(){if(Zb)return Kl;Zb=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.LogsCreateApi=void 0;const t=qr(),s=Wt(),n=ja();function i(u){return{success:!0,data:null,message:typeof u.message=="string"?u.message:"Log created successfully",timestamp:typeof u.timestamp=="string"?u.timestamp:new Date().toISOString()}}function a(u){const c=u.data&&typeof u.data=="object"?u.data:void 0,h=typeof c?.processed=="number"?c.processed:typeof u.processed=="number"?u.processed:0,f=typeof c?.failed=="number"?c.failed:typeof u.failed=="number"?u.failed:0,p=Array.isArray(c?.errors)?c.errors:Array.isArray(u.errors)?u.errors:void 0;return{success:!0,message:typeof u.message=="string"?u.message:"Batch logs processed",processed:h,failed:f,errors:p,timestamp:typeof u.timestamp=="string"?u.timestamp:new Date().toISOString()}}function l(u,c,h){u instanceof n.MisoClientError&&u.statusCode===401||(0,s.logErrorWithContext)((0,t.extractErrorInfo)(u,{endpoint:c,method:"POST"}),h)}class o{constructor(c){this.httpClient=c}async createLog(c,h){try{if(h?.bearerToken)return await this.httpClient.authenticatedRequest("POST",o.LOGS_ENDPOINT,h.bearerToken,c,void 0,h);if(h)return await this.httpClient.requestWithAuthStrategy("POST",o.LOGS_ENDPOINT,h,c);const f=await this.httpClient.request("POST",o.LOGS_ENDPOINT,c);return f.success!==void 0?f:i(f)}catch(f){throw l(f,o.LOGS_ENDPOINT,"[LogsCreateApi]"),f}}async createBatchLogs(c,h){try{if(h?.bearerToken)return await this.httpClient.authenticatedRequest("POST",o.LOGS_BATCH_ENDPOINT,h.bearerToken,c,void 0,h);if(h)return await this.httpClient.requestWithAuthStrategy("POST",o.LOGS_BATCH_ENDPOINT,h,c);const f=await this.httpClient.request("POST",o.LOGS_BATCH_ENDPOINT,c);return f.success!==void 0?f:a(f)}catch(f){throw l(f,o.LOGS_BATCH_ENDPOINT,"[LogsCreateApi]"),f}}}return Kl.LogsCreateApi=o,o.LOGS_ENDPOINT="/api/v1/logs",o.LOGS_BATCH_ENDPOINT="/api/v1/logs/batch",Kl}var Vl={},ex;function OP(){if(ex)return Vl;ex=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.LogsListApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async listGeneralLogs(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_GENERAL_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_GENERAL_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_GENERAL_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsListApi]"),o}}async getGeneralLog(a,l,o){try{const u=`${n.LOGS_GENERAL_ENDPOINT}/${a}`,c=l?{environment:l}:void 0;return o?.bearerToken?await this.httpClient.authenticatedRequest("GET",u,o.bearerToken,void 0,{params:c},o):o?await this.httpClient.requestWithAuthStrategy("GET",u,o,void 0,{params:c}):await this.httpClient.request("GET",u,void 0,{params:c})}catch(u){const c=(0,t.extractErrorInfo)(u,{endpoint:n.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(c,"[LogsListApi]"),u}}async listAuditLogs(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_AUDIT_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_AUDIT_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_AUDIT_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:n.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsListApi]"),o}}async getAuditLog(a,l,o){try{const u=`${n.LOGS_AUDIT_ENDPOINT}/${a}`,c=l?{environment:l}:void 0;return o?.bearerToken?await this.httpClient.authenticatedRequest("GET",u,o.bearerToken,void 0,{params:c},o):o?await this.httpClient.requestWithAuthStrategy("GET",u,o,void 0,{params:c}):await this.httpClient.request("GET",u,void 0,{params:c})}catch(u){const c=(0,t.extractErrorInfo)(u,{endpoint:n.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(c,"[LogsListApi]"),u}}async listJobLogs(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_JOBS_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_JOBS_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_JOBS_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsListApi]"),o}}async getJobLog(a,l){try{const o=`${n.LOGS_JOBS_ENDPOINT}/${a}`;return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",o,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",o,l):await this.httpClient.request("GET",o)}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsListApi]"),o}}}return Vl.LogsListApi=n,n.LOGS_GENERAL_ENDPOINT="/api/v1/logs/general",n.LOGS_AUDIT_ENDPOINT="/api/v1/logs/audit",n.LOGS_JOBS_ENDPOINT="/api/v1/logs/jobs",Vl}var Gl={},tx;function jP(){if(tx)return Gl;tx=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.LogsStatsApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async getLogStatsSummary(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_SUMMARY_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_SUMMARY_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_STATS_SUMMARY_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsStatsApi]"),o}}async getErrorStats(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_ERRORS_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_ERRORS_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_STATS_ERRORS_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsStatsApi]"),o}}async getUserActivityStats(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_USERS_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_USERS_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_STATS_USERS_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsStatsApi]"),o}}async getApplicationStats(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_APPLICATIONS_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_APPLICATIONS_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_STATS_APPLICATIONS_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsStatsApi]"),o}}}return Gl.LogsStatsApi=n,n.LOGS_STATS_SUMMARY_ENDPOINT="/api/v1/logs/stats/summary",n.LOGS_STATS_ERRORS_ENDPOINT="/api/v1/logs/stats/errors",n.LOGS_STATS_USERS_ENDPOINT="/api/v1/logs/stats/users",n.LOGS_STATS_APPLICATIONS_ENDPOINT="/api/v1/logs/stats/applications",Gl}var Jl={},rx;function LP(){if(rx)return Jl;rx=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.LogsExportApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async exportLogs(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_EXPORT_ENDPOINT,l.bearerToken,void 0,{params:a},l):l?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_EXPORT_ENDPOINT,l,void 0,{params:a}):await this.httpClient.request("GET",n.LOGS_EXPORT_ENDPOINT,void 0,{params:a})}catch(o){const u=(0,t.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(u,"[LogsExportApi]"),o}}}return Jl.LogsExportApi=n,n.LOGS_EXPORT_ENDPOINT="/api/v1/logs/export",Jl}var nx;function DP(){if(nx)return Wl;nx=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.LogsApi=void 0;const t=NP(),s=OP(),n=jP(),i=LP();class a{constructor(o){this.httpClient=o,this.create=new t.LogsCreateApi(o),this.list=new s.LogsListApi(o),this.stats=new n.LogsStatsApi(o),this.export=new i.LogsExportApi(o)}async createLog(o,u){return this.create.createLog(o,u)}async createBatchLogs(o,u){return this.create.createBatchLogs(o,u)}async listGeneralLogs(o,u){return this.list.listGeneralLogs(o,u)}async getGeneralLog(o,u,c){return this.list.getGeneralLog(o,u,c)}async listAuditLogs(o,u){return this.list.listAuditLogs(o,u)}async getAuditLog(o,u,c){return this.list.getAuditLog(o,u,c)}async listJobLogs(o,u){return this.list.listJobLogs(o,u)}async getJobLog(o,u){return this.list.getJobLog(o,u)}async getLogStatsSummary(o,u){return this.stats.getLogStatsSummary(o,u)}async getErrorStats(o,u){return this.stats.getErrorStats(o,u)}async getUserActivityStats(o,u){return this.stats.getUserActivityStats(o,u)}async getApplicationStats(o,u){return this.stats.getApplicationStats(o,u)}async exportLogs(o,u){return this.export.exportLogs(o,u)}}return Wl.LogsApi=a,Wl}var Xl={},sx;function UP(){if(sx)return Xl;sx=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.EncryptionApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}async encrypt(a){try{return await this.httpClient.request("POST",n.ENCRYPT_ENDPOINT,a)}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.ENCRYPT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[EncryptionApi]"),l}}async decrypt(a){try{return await this.httpClient.request("POST",n.DECRYPT_ENDPOINT,a)}catch(l){const o=(0,t.extractErrorInfo)(l,{endpoint:n.DECRYPT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[EncryptionApi]"),l}}}return Xl.EncryptionApi=n,n.ENCRYPT_ENDPOINT="/api/security/parameters/encrypt",n.DECRYPT_ENDPOINT="/api/security/parameters/decrypt",Xl}var Yl={},ix;function $P(){if(ix)return Yl;ix=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.ApplicationsApi=void 0;const t=qr(),s=Wt();class n{constructor(a){this.httpClient=a}buildPath(a,l){let o=a.replace(":envKey",l.envKey);return l.appKey!==void 0&&(o=o.replace(":appKey",l.appKey)),o}async updateSelfStatus(a,l,o){const u=this.buildPath(n.SELF_STATUS_ENDPOINT,{envKey:a});try{return o?.bearerToken?await this.httpClient.authenticatedRequest("POST",u,o.bearerToken,l,void 0,o):o?await this.httpClient.requestWithAuthStrategy("POST",u,o,l):await this.httpClient.request("POST",u,l)}catch(c){const h=(0,t.extractErrorInfo)(c,{endpoint:u,method:"POST"});throw(0,s.logErrorWithContext)(h,"[ApplicationsApi]"),c}}async getApplicationStatus(a,l,o){const u=this.buildPath(n.APPLICATION_STATUS_ENDPOINT,{envKey:a,appKey:l});try{return o?.bearerToken?await this.httpClient.authenticatedRequest("GET",u,o.bearerToken,void 0,void 0,o):o?await this.httpClient.requestWithAuthStrategy("GET",u,o):await this.httpClient.request("GET",u)}catch(c){const h=(0,t.extractErrorInfo)(c,{endpoint:u,method:"GET"});throw(0,s.logErrorWithContext)(h,"[ApplicationsApi]"),c}}}return Yl.ApplicationsApi=n,n.SELF_STATUS_ENDPOINT="/api/v1/environments/:envKey/applications/self/status",n.APPLICATION_STATUS_ENDPOINT="/api/v1/environments/:envKey/applications/:appKey/status",Yl}var ox;function E1(){if(ox)return Ul;ox=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.ApiClient=void 0;const t=AP(),s=IP(),n=PP(),i=DP(),a=UP(),l=$P();class o{constructor(c){this.auth=new t.AuthApi(c),this.roles=new s.RolesApi(c),this.permissions=new n.PermissionsApi(c),this.logs=new i.LogsApi(c),this.encryption=new a.EncryptionApi(c),this.applications=new l.ApplicationsApi(c)}}return Ul.ApiClient=o,Ul}var bs={},ax;function w1(){if(ax)return bs;ax=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.LoggerServiceRegistry=void 0,bs.getLogger=i,bs.setLoggerContext=a,bs.clearLoggerContext=l,bs.mergeLoggerContext=o,bs.registerLoggerService=u;const t=Kg(),s=Rc();class n{static register(h){n.instance=h}static get(){return n.instance}static clear(){n.instance=null}}bs.LoggerServiceRegistry=n,n.instance=null;function i(c){const h=s.LoggerContextStorage.getInstance(),f=c||n.get();if(!f)throw new Error("LoggerService not available. Either pass LoggerService to getLogger() or ensure MisoClient is initialized.");return new t.UnifiedLoggerService(f,h)}function a(c){s.LoggerContextStorage.getInstance().setContext(c)}function l(){s.LoggerContextStorage.getInstance().clearContext()}function o(c){s.LoggerContextStorage.getInstance().mergeContext(c)}function u(c){n.register(c)}return bs}var Mu={},lx;function uy(){if(lx)return Mu;lx=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.validateOrigin=n;function t(i){return i.trim().toLowerCase().replace(/\/$/,"")}function s(i,a){const l=t(i),o=t(a);if(l===o)return!0;if(a.includes(":*"))try{const u=new URL(l),c=new URL(o.replace(":*",""));if(u.protocol===c.protocol&&u.hostname===c.hostname)return!0}catch{}return!1}function n(i,a){if(!a||a.length===0)return{valid:!0};let l=Array.isArray(i.headers.origin)?i.headers.origin[0]:i.headers.origin;if(!l||typeof l!="string"){const u=Array.isArray(i.headers.referer)?i.headers.referer[0]:i.headers.referer;if(u&&typeof u=="string")try{const c=new URL(u);l=`${c.protocol}//${c.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const o=l;for(const u of a)if(s(o,u))return{valid:!0};return{valid:!1,error:`Origin '${o}' is not allowed`}}return Mu}var Ql={};const nt=crypto,on=t=>t instanceof CryptoKey,S1=async(t,s)=>{const n=`SHA-${t.slice(-3)}`;return new Uint8Array(await nt.subtle.digest(n,s))},Bt=new TextEncoder,Ln=new TextDecoder,id=2**32;function Cs(...t){const s=t.reduce((a,{length:l})=>a+l,0),n=new Uint8Array(s);let i=0;for(const a of t)n.set(a,i),i+=a.length;return n}function MP(t,s){return Cs(Bt.encode(t),new Uint8Array([0]),s)}function Eg(t,s,n){if(s<0||s>=id)throw new RangeError(`value must be >= 0 and <= ${id-1}. Received ${s}`);t.set([s>>>24,s>>>16,s>>>8,s&255],n)}function b1(t){const s=Math.floor(t/id),n=t%id,i=new Uint8Array(8);return Eg(i,s,0),Eg(i,n,4),i}function dy(t){const s=new Uint8Array(4);return Eg(s,t),s}function og(t){return Cs(dy(t.length),t)}async function qP(t,s,n){const i=Math.ceil((s>>3)/32),a=new Uint8Array(i*32);for(let l=0;l<i;l++){const o=new Uint8Array(4+t.length+n.length);o.set(dy(l+1)),o.set(t,4),o.set(n,4+t.length),a.set(await S1("sha256",o),l*32)}return a.slice(0,s>>3)}const fy=t=>{let s=t;typeof s=="string"&&(s=Bt.encode(s));const n=32768,i=[];for(let a=0;a<s.length;a+=n)i.push(String.fromCharCode.apply(null,s.subarray(a,a+n)));return btoa(i.join(""))},Jt=t=>fy(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),x1=t=>{const s=atob(t),n=new Uint8Array(s.length);for(let i=0;i<s.length;i++)n[i]=s.charCodeAt(i);return n},Ht=t=>{let s=t;s instanceof Uint8Array&&(s=Ln.decode(s)),s=s.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return x1(s)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class lr extends Error{constructor(s,n){super(s,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}lr.code="ERR_JOSE_GENERIC";class jr extends lr{constructor(s,n,i="unspecified",a="unspecified"){super(s,{cause:{claim:i,reason:a,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=i,this.reason=a,this.payload=n}}jr.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class od extends lr{constructor(s,n,i="unspecified",a="unspecified"){super(s,{cause:{claim:i,reason:a,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=i,this.reason=a,this.payload=n}}od.code="ERR_JWT_EXPIRED";class wc extends lr{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}wc.code="ERR_JOSE_ALG_NOT_ALLOWED";class mt extends lr{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}mt.code="ERR_JOSE_NOT_SUPPORTED";class Aa extends lr{constructor(s="decryption operation failed",n){super(s,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}Aa.code="ERR_JWE_DECRYPTION_FAILED";class De extends lr{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}De.code="ERR_JWE_INVALID";class vt extends lr{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}vt.code="ERR_JWS_INVALID";class Ur extends lr{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}Ur.code="ERR_JWT_INVALID";class hy extends lr{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}hy.code="ERR_JWK_INVALID";class Ld extends lr{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}Ld.code="ERR_JWKS_INVALID";class Dd extends lr{constructor(s="no applicable key found in the JSON Web Key Set",n){super(s,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}Dd.code="ERR_JWKS_NO_MATCHING_KEY";class py extends lr{constructor(s="multiple matching keys found in the JSON Web Key Set",n){super(s,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}py.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class my extends lr{constructor(s="request timed out",n){super(s,n),this.code="ERR_JWKS_TIMEOUT"}}my.code="ERR_JWKS_TIMEOUT";class Ud extends lr{constructor(s="signature verification failed",n){super(s,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}Ud.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const FP=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:wc,JOSEError:lr,JOSENotSupported:mt,JWEDecryptionFailed:Aa,JWEInvalid:De,JWKInvalid:hy,JWKSInvalid:Ld,JWKSMultipleMatchingKeys:py,JWKSNoMatchingKey:Dd,JWKSTimeout:my,JWSInvalid:vt,JWSSignatureVerificationFailed:Ud,JWTClaimValidationFailed:jr,JWTExpired:od,JWTInvalid:Ur},Symbol.toStringTag,{value:"Module"})),$d=nt.getRandomValues.bind(nt);function C1(t){switch(t){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new mt(`Unsupported JWE Algorithm: ${t}`)}}const HP=t=>$d(new Uint8Array(C1(t)>>3)),T1=(t,s)=>{if(s.length<<3!==C1(t))throw new De("Invalid Initialization Vector length")},ad=(t,s)=>{const n=t.byteLength<<3;if(n!==s)throw new De(`Invalid Content Encryption Key length. Expected ${s} bits, got ${n} bits`)},BP=(t,s)=>{if(!(t instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(s instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(t.length!==s.length)throw new TypeError("Input buffers must have the same length");const n=t.length;let i=0,a=-1;for(;++a<n;)i|=t[a]^s[a];return i===0};function ar(t,s="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${s} must be ${t}`)}function ni(t,s){return t.name===s}function Yu(t){return parseInt(t.name.slice(4),10)}function zP(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function _1(t,s){if(s.length&&!s.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(s.length>2){const i=s.pop();n+=`one of ${s.join(", ")}, or ${i}.`}else s.length===2?n+=`one of ${s[0]} or ${s[1]}.`:n+=`${s[0]}.`;throw new TypeError(n)}}function WP(t,s,...n){switch(s){case"HS256":case"HS384":case"HS512":{if(!ni(t.algorithm,"HMAC"))throw ar("HMAC");const i=parseInt(s.slice(2),10);if(Yu(t.algorithm.hash)!==i)throw ar(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ni(t.algorithm,"RSASSA-PKCS1-v1_5"))throw ar("RSASSA-PKCS1-v1_5");const i=parseInt(s.slice(2),10);if(Yu(t.algorithm.hash)!==i)throw ar(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ni(t.algorithm,"RSA-PSS"))throw ar("RSA-PSS");const i=parseInt(s.slice(2),10);if(Yu(t.algorithm.hash)!==i)throw ar(`SHA-${i}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw ar("Ed25519 or Ed448");break}case"Ed25519":{if(!ni(t.algorithm,"Ed25519"))throw ar("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!ni(t.algorithm,"ECDSA"))throw ar("ECDSA");const i=zP(s);if(t.algorithm.namedCurve!==i)throw ar(i,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}_1(t,n)}function Ui(t,s,...n){switch(s){case"A128GCM":case"A192GCM":case"A256GCM":{if(!ni(t.algorithm,"AES-GCM"))throw ar("AES-GCM");const i=parseInt(s.slice(1,4),10);if(t.algorithm.length!==i)throw ar(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!ni(t.algorithm,"AES-KW"))throw ar("AES-KW");const i=parseInt(s.slice(1,4),10);if(t.algorithm.length!==i)throw ar(i,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw ar("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ni(t.algorithm,"PBKDF2"))throw ar("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!ni(t.algorithm,"RSA-OAEP"))throw ar("RSA-OAEP");const i=parseInt(s.slice(9),10)||1;if(Yu(t.algorithm.hash)!==i)throw ar(`SHA-${i}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}_1(t,n)}function R1(t,s,...n){if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return s==null?t+=` Received ${s}`:typeof s=="function"&&s.name?t+=` Received function ${s.name}`:typeof s=="object"&&s!=null&&s.constructor?.name&&(t+=` Received an instance of ${s.constructor.name}`),t}const br=(t,...s)=>R1("Key must be ",t,...s);function k1(t,s,...n){return R1(`Key for the ${t} algorithm must be `,s,...n)}const A1=t=>on(t)?!0:t?.[Symbol.toStringTag]==="KeyObject",xr=["CryptoKey"];async function KP(t,s,n,i,a,l){if(!(s instanceof Uint8Array))throw new TypeError(br(s,"Uint8Array"));const o=parseInt(t.slice(1,4),10),u=await nt.subtle.importKey("raw",s.subarray(o>>3),"AES-CBC",!1,["decrypt"]),c=await nt.subtle.importKey("raw",s.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),h=Cs(l,i,n,b1(l.length<<3)),f=new Uint8Array((await nt.subtle.sign("HMAC",c,h)).slice(0,o>>3));let p;try{p=BP(a,f)}catch{}if(!p)throw new Aa;let E;try{E=new Uint8Array(await nt.subtle.decrypt({iv:i,name:"AES-CBC"},u,n))}catch{}if(!E)throw new Aa;return E}async function VP(t,s,n,i,a,l){let o;s instanceof Uint8Array?o=await nt.subtle.importKey("raw",s,"AES-GCM",!1,["decrypt"]):(Ui(s,t,"decrypt"),o=s);try{return new Uint8Array(await nt.subtle.decrypt({additionalData:l,iv:i,name:"AES-GCM",tagLength:128},o,Cs(n,a)))}catch{throw new Aa}}const I1=async(t,s,n,i,a,l)=>{if(!on(s)&&!(s instanceof Uint8Array))throw new TypeError(br(s,...xr,"Uint8Array"));if(!i)throw new De("JWE Initialization Vector missing");if(!a)throw new De("JWE Authentication Tag missing");switch(T1(t,i),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s instanceof Uint8Array&&ad(s,parseInt(t.slice(-3),10)),KP(t,s,n,i,a,l);case"A128GCM":case"A192GCM":case"A256GCM":return s instanceof Uint8Array&&ad(s,parseInt(t.slice(1,4),10)),VP(t,s,n,i,a,l);default:throw new mt("Unsupported JWE Content Encryption Algorithm")}},Nc=(...t)=>{const s=t.filter(Boolean);if(s.length===0||s.length===1)return!0;let n;for(const i of s){const a=Object.keys(i);if(!n||n.size===0){n=new Set(a);continue}for(const l of a){if(n.has(l))return!1;n.add(l)}}return!0};function GP(t){return typeof t=="object"&&t!==null}function zt(t){if(!GP(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let s=t;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(t)===s}const Md=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function P1(t,s){if(t.algorithm.length!==parseInt(s.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${s}`)}function N1(t,s,n){if(on(t))return Ui(t,s,n),t;if(t instanceof Uint8Array)return nt.subtle.importKey("raw",t,"AES-KW",!0,[n]);throw new TypeError(br(t,...xr,"Uint8Array"))}const wg=async(t,s,n)=>{const i=await N1(s,t,"wrapKey");P1(i,t);const a=await nt.subtle.importKey("raw",n,...Md);return new Uint8Array(await nt.subtle.wrapKey("raw",a,i,"AES-KW"))},Sg=async(t,s,n)=>{const i=await N1(s,t,"unwrapKey");P1(i,t);const a=await nt.subtle.unwrapKey("raw",n,i,"AES-KW",...Md);return new Uint8Array(await nt.subtle.exportKey("raw",a))};async function O1(t,s,n,i,a=new Uint8Array(0),l=new Uint8Array(0)){if(!on(t))throw new TypeError(br(t,...xr));if(Ui(t,"ECDH"),!on(s))throw new TypeError(br(s,...xr));Ui(s,"ECDH","deriveBits");const o=Cs(og(Bt.encode(n)),og(a),og(l),dy(i));let u;t.algorithm.name==="X25519"?u=256:t.algorithm.name==="X448"?u=448:u=Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3;const c=new Uint8Array(await nt.subtle.deriveBits({name:t.algorithm.name,public:t},s,u));return qP(c,i,o)}async function JP(t){if(!on(t))throw new TypeError(br(t,...xr));return nt.subtle.generateKey(t.algorithm,!0,["deriveBits"])}function j1(t){if(!on(t))throw new TypeError(br(t,...xr));return["P-256","P-384","P-521"].includes(t.algorithm.namedCurve)||t.algorithm.name==="X25519"||t.algorithm.name==="X448"}function XP(t){if(!(t instanceof Uint8Array)||t.length<8)throw new De("PBES2 Salt Input must be 8 or more octets")}function YP(t,s){if(t instanceof Uint8Array)return nt.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]);if(on(t))return Ui(t,s,"deriveBits","deriveKey"),t;throw new TypeError(br(t,...xr,"Uint8Array"))}async function L1(t,s,n,i){XP(t);const a=MP(s,t),l=parseInt(s.slice(13,16),10),o={hash:`SHA-${s.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:a},u={length:l,name:"AES-KW"},c=await YP(i,s);if(c.usages.includes("deriveBits"))return new Uint8Array(await nt.subtle.deriveBits(o,c,l));if(c.usages.includes("deriveKey"))return nt.subtle.deriveKey(o,c,u,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const QP=async(t,s,n,i=2048,a=$d(new Uint8Array(16)))=>{const l=await L1(a,t,i,s);return{encryptedKey:await wg(t.slice(-6),l,n),p2c:i,p2s:Jt(a)}},ZP=async(t,s,n,i,a)=>{const l=await L1(a,t,i,s);return Sg(t.slice(-6),l,n)};function ld(t){switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new mt(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}const qd=(t,s)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=s.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},eN=async(t,s,n)=>{if(!on(s))throw new TypeError(br(s,...xr));if(Ui(s,t,"encrypt","wrapKey"),qd(t,s),s.usages.includes("encrypt"))return new Uint8Array(await nt.subtle.encrypt(ld(t),s,n));if(s.usages.includes("wrapKey")){const i=await nt.subtle.importKey("raw",n,...Md);return new Uint8Array(await nt.subtle.wrapKey("raw",i,s,ld(t)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},tN=async(t,s,n)=>{if(!on(s))throw new TypeError(br(s,...xr));if(Ui(s,t,"decrypt","unwrapKey"),qd(t,s),s.usages.includes("decrypt"))return new Uint8Array(await nt.subtle.decrypt(ld(t),s,n));if(s.usages.includes("unwrapKey")){const i=await nt.subtle.unwrapKey("raw",n,s,ld(t),...Md);return new Uint8Array(await nt.subtle.exportKey("raw",i))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Ua(t){return zt(t)&&typeof t.kty=="string"}function rN(t){return t.kty!=="oct"&&typeof t.d=="string"}function nN(t){return t.kty!=="oct"&&typeof t.d>"u"}function sN(t){return Ua(t)&&t.kty==="oct"&&typeof t.k=="string"}function iN(t){let s,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new mt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":s={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new mt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":s={name:"Ed25519"},n=t.d?["sign"]:["verify"];break;case"EdDSA":s={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new mt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new mt('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:s,keyUsages:n}}const D1=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:s,keyUsages:n}=iN(t),i=[s,t.ext??!1,t.key_ops??n],a={...t};return delete a.alg,delete a.use,nt.subtle.importKey("jwk",a,...i)},U1=t=>Ht(t);let Ea,wa;const $1=t=>t?.[Symbol.toStringTag]==="KeyObject",cd=async(t,s,n,i,a=!1)=>{let l=t.get(s);if(l?.[i])return l[i];const o=await D1({...n,alg:i});return a&&Object.freeze(s),l?l[i]=o:t.set(s,{[i]:o}),o},oN=(t,s)=>{if($1(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?U1(n.k):(wa||(wa=new WeakMap),cd(wa,t,n,s))}return Ua(t)?t.k?Ht(t.k):(wa||(wa=new WeakMap),cd(wa,t,t,s,!0)):t},aN=(t,s)=>{if($1(t)){let n=t.export({format:"jwk"});return n.k?U1(n.k):(Ea||(Ea=new WeakMap),cd(Ea,t,n,s))}return Ua(t)?t.k?Ht(t.k):(Ea||(Ea=new WeakMap),cd(Ea,t,t,s,!0)):t},ud={normalizePublicKey:oN,normalizePrivateKey:aN};function gy(t){switch(t){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new mt(`Unsupported JWE Algorithm: ${t}`)}}const jo=t=>$d(new Uint8Array(gy(t)>>3)),M1=(t,s)=>{const n=(t.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${s}-----
${n}
-----END ${s}-----`},q1=async(t,s,n)=>{if(!on(n))throw new TypeError(br(n,...xr));if(!n.extractable)throw new TypeError("CryptoKey is not extractable");if(n.type!==t)throw new TypeError(`key is not a ${t} key`);return M1(fy(new Uint8Array(await nt.subtle.exportKey(s,n))),`${t.toUpperCase()} KEY`)},lN=t=>q1("public","spki",t),cN=t=>q1("private","pkcs8",t),Oi=(t,s,n=0)=>{n===0&&(s.unshift(s.length),s.unshift(6));const i=t.indexOf(s[0],n);if(i===-1)return!1;const a=t.subarray(i,i+s.length);return a.length!==s.length?!1:a.every((l,o)=>l===s[o])||Oi(t,s,i+1)},cx=t=>{switch(!0){case Oi(t,[42,134,72,206,61,3,1,7]):return"P-256";case Oi(t,[43,129,4,0,34]):return"P-384";case Oi(t,[43,129,4,0,35]):return"P-521";case Oi(t,[43,101,110]):return"X25519";case Oi(t,[43,101,111]):return"X448";case Oi(t,[43,101,112]):return"Ed25519";case Oi(t,[43,101,113]):return"Ed448";default:throw new mt("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},F1=async(t,s,n,i,a)=>{let l,o;const u=new Uint8Array(atob(n.replace(t,"")).split("").map(h=>h.charCodeAt(0))),c=s==="spki";switch(i){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},o=c?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},o=c?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},o=c?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},o=c?["verify"]:["sign"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},o=c?["verify"]:["sign"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},o=c?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const h=cx(u);l=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},o=c?[]:["deriveBits"];break}case"Ed25519":l={name:"Ed25519"},o=c?["verify"]:["sign"];break;case"EdDSA":l={name:cx(u)},o=c?["verify"]:["sign"];break;default:throw new mt('Invalid or unsupported "alg" (Algorithm) value')}return nt.subtle.importKey(s,u,l,a?.extractable??!1,o)},uN=(t,s,n)=>F1(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",t,s,n),H1=(t,s,n)=>F1(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",t,s,n);function ux(t){const s=[];let n=0;for(;n<t.length;){const i=B1(t.subarray(n));s.push(i),n+=i.byteLength}return s}function B1(t){let s=0,n=t[0]&31;if(s++,n===31){for(n=0;t[s]>=128;)n=n*128+t[s]-128,s++;n=n*128+t[s]-128,s++}let i=0;if(t[s]<128)i=t[s],s++;else if(i===128){for(i=0;t[s+i]!==0||t[s+i+1]!==0;){if(i>t.byteLength)throw new TypeError("invalid indefinite form length");i++}const l=s+i+2;return{byteLength:l,contents:t.subarray(s,s+i),raw:t.subarray(0,l)}}else{const l=t[s]&127;s++,i=0;for(let o=0;o<l;o++)i=i*256+t[s],s++}const a=s+i;return{byteLength:a,contents:t.subarray(s,a),raw:t.subarray(0,a)}}function dN(t){const s=ux(ux(B1(t).contents)[0].contents);return fy(s[s[0].raw[0]===160?6:5].raw)}function fN(t){const s=t.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),n=x1(s);return M1(dN(n),"PUBLIC KEY")}const hN=(t,s,n)=>{let i;try{i=fN(t)}catch(a){throw new TypeError("Failed to parse the X.509 certificate",{cause:a})}return H1(i,s,n)};async function pN(t,s,n){if(typeof t!="string"||t.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return H1(t,s,n)}async function mN(t,s,n){if(typeof t!="string"||t.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return hN(t,s,n)}async function gN(t,s,n){if(typeof t!="string"||t.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return uN(t,s,n)}async function Oc(t,s){if(!zt(t))throw new TypeError("JWK must be an object");switch(s||(s=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Ht(t.k);case"RSA":if("oth"in t&&t.oth!==void 0)throw new mt('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return D1({...t,alg:s});default:throw new mt('Unsupported "kty" (Key Type) Parameter value')}}const _a=t=>t?.[Symbol.toStringTag],bg=(t,s,n)=>{if(s.use!==void 0&&s.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(s.key_ops!==void 0&&s.key_ops.includes?.(n)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(s.alg!==void 0&&s.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},yN=(t,s,n,i)=>{if(!(s instanceof Uint8Array)){if(i&&Ua(s)){if(sN(s)&&bg(t,s,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!A1(s))throw new TypeError(k1(t,s,...xr,"Uint8Array",i?"JSON Web Key":null));if(s.type!=="secret")throw new TypeError(`${_a(s)} instances for symmetric algorithms must be of type "secret"`)}},vN=(t,s,n,i)=>{if(i&&Ua(s))switch(n){case"sign":if(rN(s)&&bg(t,s,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(nN(s)&&bg(t,s,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!A1(s))throw new TypeError(k1(t,s,...xr,i?"JSON Web Key":null));if(s.type==="secret")throw new TypeError(`${_a(s)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&s.type==="public")throw new TypeError(`${_a(s)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&s.type==="public")throw new TypeError(`${_a(s)} instances for asymmetric algorithm decryption must be of type "private"`);if(s.algorithm&&n==="verify"&&s.type==="private")throw new TypeError(`${_a(s)} instances for asymmetric algorithm verifying must be of type "public"`);if(s.algorithm&&n==="encrypt"&&s.type==="private")throw new TypeError(`${_a(s)} instances for asymmetric algorithm encryption must be of type "public"`)};function z1(t,s,n,i){s.startsWith("HS")||s==="dir"||s.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(s)?yN(s,n,i,t):vN(s,n,i,t)}const W1=z1.bind(void 0,!1),xg=z1.bind(void 0,!0);async function EN(t,s,n,i,a){if(!(n instanceof Uint8Array))throw new TypeError(br(n,"Uint8Array"));const l=parseInt(t.slice(1,4),10),o=await nt.subtle.importKey("raw",n.subarray(l>>3),"AES-CBC",!1,["encrypt"]),u=await nt.subtle.importKey("raw",n.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),c=new Uint8Array(await nt.subtle.encrypt({iv:i,name:"AES-CBC"},o,s)),h=Cs(a,i,c,b1(a.length<<3)),f=new Uint8Array((await nt.subtle.sign("HMAC",u,h)).slice(0,l>>3));return{ciphertext:c,tag:f,iv:i}}async function wN(t,s,n,i,a){let l;n instanceof Uint8Array?l=await nt.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(Ui(n,t,"encrypt"),l=n);const o=new Uint8Array(await nt.subtle.encrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},l,s)),u=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:u,iv:i}}const K1=async(t,s,n,i,a)=>{if(!on(n)&&!(n instanceof Uint8Array))throw new TypeError(br(n,...xr,"Uint8Array"));switch(i?T1(t,i):i=HP(t),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&ad(n,parseInt(t.slice(-3),10)),EN(t,s,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&ad(n,parseInt(t.slice(1,4),10)),wN(t,s,n,i,a);default:throw new mt("Unsupported JWE Content Encryption Algorithm")}};async function SN(t,s,n,i){const a=t.slice(0,7),l=await K1(a,n,s,i,new Uint8Array(0));return{encryptedKey:l.ciphertext,iv:Jt(l.iv),tag:Jt(l.tag)}}async function bN(t,s,n,i,a){const l=t.slice(0,7);return I1(l,s,n,i,a,new Uint8Array(0))}async function xN(t,s,n,i,a){switch(W1(t,s,"decrypt"),s=await ud.normalizePrivateKey?.(s,t)||s,t){case"dir":{if(n!==void 0)throw new De("Encountered unexpected JWE Encrypted Key");return s}case"ECDH-ES":if(n!==void 0)throw new De("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!zt(i.epk))throw new De('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!j1(s))throw new mt("ECDH with the provided key is not allowed or not supported by your javascript runtime");const l=await Oc(i.epk,t);let o,u;if(i.apu!==void 0){if(typeof i.apu!="string")throw new De('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=Ht(i.apu)}catch{throw new De("Failed to base64url decode the apu")}}if(i.apv!==void 0){if(typeof i.apv!="string")throw new De('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{u=Ht(i.apv)}catch{throw new De("Failed to base64url decode the apv")}}const c=await O1(l,s,t==="ECDH-ES"?i.enc:t,t==="ECDH-ES"?gy(i.enc):parseInt(t.slice(-5,-2),10),o,u);if(t==="ECDH-ES")return c;if(n===void 0)throw new De("JWE Encrypted Key missing");return Sg(t.slice(-6),c,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(n===void 0)throw new De("JWE Encrypted Key missing");return tN(t,s,n)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(n===void 0)throw new De("JWE Encrypted Key missing");if(typeof i.p2c!="number")throw new De('JOSE Header "p2c" (PBES2 Count) missing or invalid');const l=a?.maxPBES2Count||1e4;if(i.p2c>l)throw new De('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof i.p2s!="string")throw new De('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let o;try{o=Ht(i.p2s)}catch{throw new De("Failed to base64url decode the p2s")}return ZP(t,s,n,i.p2c,o)}case"A128KW":case"A192KW":case"A256KW":{if(n===void 0)throw new De("JWE Encrypted Key missing");return Sg(t,s,n)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(n===void 0)throw new De("JWE Encrypted Key missing");if(typeof i.iv!="string")throw new De('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof i.tag!="string")throw new De('JOSE Header "tag" (Authentication Tag) missing or invalid');let l;try{l=Ht(i.iv)}catch{throw new De("Failed to base64url decode the iv")}let o;try{o=Ht(i.tag)}catch{throw new De("Failed to base64url decode the tag")}return bN(t,s,n,l,o)}default:throw new mt('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function jc(t,s,n,i,a){if(a.crit!==void 0&&i?.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(o=>typeof o!="string"||o.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let l;n!==void 0?l=new Map([...Object.entries(n),...s.entries()]):l=s;for(const o of i.crit){if(!l.has(o))throw new mt(`Extension Header Parameter "${o}" is not recognized`);if(a[o]===void 0)throw new t(`Extension Header Parameter "${o}" is missing`);if(l.get(o)&&i[o]===void 0)throw new t(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(i.crit)}const Cg=(t,s)=>{if(s!==void 0&&(!Array.isArray(s)||s.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(s)return new Set(s)};async function yy(t,s,n){if(!zt(t))throw new De("Flattened JWE must be an object");if(t.protected===void 0&&t.header===void 0&&t.unprotected===void 0)throw new De("JOSE Header missing");if(t.iv!==void 0&&typeof t.iv!="string")throw new De("JWE Initialization Vector incorrect type");if(typeof t.ciphertext!="string")throw new De("JWE Ciphertext missing or incorrect type");if(t.tag!==void 0&&typeof t.tag!="string")throw new De("JWE Authentication Tag incorrect type");if(t.protected!==void 0&&typeof t.protected!="string")throw new De("JWE Protected Header incorrect type");if(t.encrypted_key!==void 0&&typeof t.encrypted_key!="string")throw new De("JWE Encrypted Key incorrect type");if(t.aad!==void 0&&typeof t.aad!="string")throw new De("JWE AAD incorrect type");if(t.header!==void 0&&!zt(t.header))throw new De("JWE Shared Unprotected Header incorrect type");if(t.unprotected!==void 0&&!zt(t.unprotected))throw new De("JWE Per-Recipient Unprotected Header incorrect type");let i;if(t.protected)try{const v=Ht(t.protected);i=JSON.parse(Ln.decode(v))}catch{throw new De("JWE Protected Header is invalid")}if(!Nc(i,t.header,t.unprotected))throw new De("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const a={...i,...t.header,...t.unprotected};if(jc(De,new Map,n?.crit,i,a),a.zip!==void 0)throw new mt('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:l,enc:o}=a;if(typeof l!="string"||!l)throw new De("missing JWE Algorithm (alg) in JWE Header");if(typeof o!="string"||!o)throw new De("missing JWE Encryption Algorithm (enc) in JWE Header");const u=n&&Cg("keyManagementAlgorithms",n.keyManagementAlgorithms),c=n&&Cg("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(u&&!u.has(l)||!u&&l.startsWith("PBES2"))throw new wc('"alg" (Algorithm) Header Parameter value not allowed');if(c&&!c.has(o))throw new wc('"enc" (Encryption Algorithm) Header Parameter value not allowed');let h;if(t.encrypted_key!==void 0)try{h=Ht(t.encrypted_key)}catch{throw new De("Failed to base64url decode the encrypted_key")}let f=!1;typeof s=="function"&&(s=await s(i,t),f=!0);let p;try{p=await xN(l,s,h,a,n)}catch(v){if(v instanceof TypeError||v instanceof De||v instanceof mt)throw v;p=jo(o)}let E,P;if(t.iv!==void 0)try{E=Ht(t.iv)}catch{throw new De("Failed to base64url decode the iv")}if(t.tag!==void 0)try{P=Ht(t.tag)}catch{throw new De("Failed to base64url decode the tag")}const _=Bt.encode(t.protected??"");let C;t.aad!==void 0?C=Cs(_,Bt.encode("."),Bt.encode(t.aad)):C=_;let R;try{R=Ht(t.ciphertext)}catch{throw new De("Failed to base64url decode the ciphertext")}const w={plaintext:await I1(o,p,R,E,P,C)};if(t.protected!==void 0&&(w.protectedHeader=i),t.aad!==void 0)try{w.additionalAuthenticatedData=Ht(t.aad)}catch{throw new De("Failed to base64url decode the aad")}return t.unprotected!==void 0&&(w.sharedUnprotectedHeader=t.unprotected),t.header!==void 0&&(w.unprotectedHeader=t.header),f?{...w,key:s}:w}async function V1(t,s,n){if(t instanceof Uint8Array&&(t=Ln.decode(t)),typeof t!="string")throw new De("Compact JWE must be a string or Uint8Array");const{0:i,1:a,2:l,3:o,4:u,length:c}=t.split(".");if(c!==5)throw new De("Invalid Compact JWE");const h=await yy({ciphertext:o,iv:l||void 0,protected:i,tag:u||void 0,encrypted_key:a||void 0},s,n),f={plaintext:h.plaintext,protectedHeader:h.protectedHeader};return typeof s=="function"?{...f,key:h.key}:f}async function CN(t,s,n){if(!zt(t))throw new De("General JWE must be an object");if(!Array.isArray(t.recipients)||!t.recipients.every(zt))throw new De("JWE Recipients missing or incorrect type");if(!t.recipients.length)throw new De("JWE Recipients has no members");for(const i of t.recipients)try{return await yy({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},s,n)}catch{}throw new Aa}const G1=Symbol(),TN=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:Jt(t)};if(!on(t))throw new TypeError(br(t,...xr,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:s,key_ops:n,alg:i,use:a,...l}=await nt.subtle.exportKey("jwk",t);return l};async function _N(t){return lN(t)}async function RN(t){return cN(t)}async function J1(t){return TN(t)}async function X1(t,s,n,i,a={}){let l,o,u;switch(W1(t,n,"encrypt"),n=await ud.normalizePublicKey?.(n,t)||n,t){case"dir":{u=n;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!j1(n))throw new mt("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:c,apv:h}=a;let{epk:f}=a;f||(f=(await JP(n)).privateKey);const{x:p,y:E,crv:P,kty:_}=await J1(f),C=await O1(n,f,t==="ECDH-ES"?s:t,t==="ECDH-ES"?gy(s):parseInt(t.slice(-5,-2),10),c,h);if(o={epk:{x:p,crv:P,kty:_}},_==="EC"&&(o.epk.y=E),c&&(o.apu=Jt(c)),h&&(o.apv=Jt(h)),t==="ECDH-ES"){u=C;break}u=i||jo(s);const R=t.slice(-6);l=await wg(R,C,u);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{u=i||jo(s),l=await eN(t,n,u);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{u=i||jo(s);const{p2c:c,p2s:h}=a;({encryptedKey:l,...o}=await QP(t,n,u,c,h));break}case"A128KW":case"A192KW":case"A256KW":{u=i||jo(s),l=await wg(t,n,u);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{u=i||jo(s);const{iv:c}=a;({encryptedKey:l,...o}=await SN(t,n,u,c));break}default:throw new mt('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:u,encryptedKey:l,parameters:o}}class dd{constructor(s){if(!(s instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=s}setKeyManagementParameters(s){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=s,this}setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setSharedUnprotectedHeader(s){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=s,this}setUnprotectedHeader(s){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=s,this}setAdditionalAuthenticatedData(s){return this._aad=s,this}setContentEncryptionKey(s){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=s,this}setInitializationVector(s){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=s,this}async encrypt(s,n){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new De("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Nc(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new De("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(jc(De,new Map,n?.crit,this._protectedHeader,i),i.zip!==void 0)throw new mt('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:a,enc:l}=i;if(typeof a!="string"||!a)throw new De('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof l!="string"||!l)throw new De('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o;if(this._cek&&(a==="dir"||a==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${a}`);let u;{let C;({cek:u,encryptedKey:o,parameters:C}=await X1(a,l,s,this._cek,this._keyManagementParameters)),C&&(n&&G1 in n?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...C}:this.setUnprotectedHeader(C):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...C}:this.setProtectedHeader(C))}let c,h,f;this._protectedHeader?h=Bt.encode(Jt(JSON.stringify(this._protectedHeader))):h=Bt.encode(""),this._aad?(f=Jt(this._aad),c=Cs(h,Bt.encode("."),Bt.encode(f))):c=h;const{ciphertext:p,tag:E,iv:P}=await K1(l,this._plaintext,u,this._iv,c),_={ciphertext:Jt(p)};return P&&(_.iv=Jt(P)),E&&(_.tag=Jt(E)),o&&(_.encrypted_key=Jt(o)),f&&(_.aad=f),this._protectedHeader&&(_.protected=Ln.decode(h)),this._sharedUnprotectedHeader&&(_.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(_.header=this._unprotectedHeader),_}}class kN{constructor(s,n,i){this.parent=s,this.key=n,this.options=i}setUnprotectedHeader(s){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=s,this}addRecipient(...s){return this.parent.addRecipient(...s)}encrypt(...s){return this.parent.encrypt(...s)}done(){return this.parent}}class AN{constructor(s){this._recipients=[],this._plaintext=s}addRecipient(s,n){const i=new kN(this,s,{crit:n?.crit});return this._recipients.push(i),i}setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setSharedUnprotectedHeader(s){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=s,this}setAdditionalAuthenticatedData(s){return this._aad=s,this}async encrypt(){if(!this._recipients.length)throw new De("at least one recipient must be added");if(this._recipients.length===1){const[a]=this._recipients,l=await new dd(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(a.unprotectedHeader).encrypt(a.key,{...a.options}),o={ciphertext:l.ciphertext,iv:l.iv,recipients:[{}],tag:l.tag};return l.aad&&(o.aad=l.aad),l.protected&&(o.protected=l.protected),l.unprotected&&(o.unprotected=l.unprotected),l.encrypted_key&&(o.recipients[0].encrypted_key=l.encrypted_key),l.header&&(o.recipients[0].header=l.header),o}let s;for(let a=0;a<this._recipients.length;a++){const l=this._recipients[a];if(!Nc(this._protectedHeader,this._unprotectedHeader,l.unprotectedHeader))throw new De("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const o={...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader},{alg:u}=o;if(typeof u!="string"||!u)throw new De('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(u==="dir"||u==="ECDH-ES")throw new De('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof o.enc!="string"||!o.enc)throw new De('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!s)s=o.enc;else if(s!==o.enc)throw new De('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(jc(De,new Map,l.options.crit,this._protectedHeader,o),o.zip!==void 0)throw new mt('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const n=jo(s),i={ciphertext:"",iv:"",recipients:[],tag:""};for(let a=0;a<this._recipients.length;a++){const l=this._recipients[a],o={};i.recipients.push(o);const c={...this._protectedHeader,...this._unprotectedHeader,...l.unprotectedHeader}.alg.startsWith("PBES2")?2048+a:void 0;if(a===0){const p=await new dd(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(n).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(l.unprotectedHeader).setKeyManagementParameters({p2c:c}).encrypt(l.key,{...l.options,[G1]:!0});i.ciphertext=p.ciphertext,i.iv=p.iv,i.tag=p.tag,p.aad&&(i.aad=p.aad),p.protected&&(i.protected=p.protected),p.unprotected&&(i.unprotected=p.unprotected),o.encrypted_key=p.encrypted_key,p.header&&(o.header=p.header);continue}const{encryptedKey:h,parameters:f}=await X1(l.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,s,l.key,n,{p2c:c});o.encrypted_key=Jt(h),(l.unprotectedHeader||f)&&(o.header={...l.unprotectedHeader,...f})}return i}}function Y1(t,s){const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:s.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:s.name};default:throw new mt(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function Q1(t,s,n){if(n==="sign"&&(s=await ud.normalizePrivateKey(s,t)),n==="verify"&&(s=await ud.normalizePublicKey(s,t)),on(s))return WP(s,t,n),s;if(s instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(br(s,...xr));return nt.subtle.importKey("raw",s,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(br(s,...xr,"Uint8Array","JSON Web Key"))}const IN=async(t,s,n,i)=>{const a=await Q1(t,s,"verify");qd(t,a);const l=Y1(t,a.algorithm);try{return await nt.subtle.verify(l,a,n,i)}catch{return!1}};async function vy(t,s,n){if(!zt(t))throw new vt("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new vt('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new vt("JWS Protected Header incorrect type");if(t.payload===void 0)throw new vt("JWS Payload missing");if(typeof t.signature!="string")throw new vt("JWS Signature missing or incorrect type");if(t.header!==void 0&&!zt(t.header))throw new vt("JWS Unprotected Header incorrect type");let i={};if(t.protected)try{const C=Ht(t.protected);i=JSON.parse(Ln.decode(C))}catch{throw new vt("JWS Protected Header is invalid")}if(!Nc(i,t.header))throw new vt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...i,...t.header},l=jc(vt,new Map([["b64",!0]]),n?.crit,i,a);let o=!0;if(l.has("b64")&&(o=i.b64,typeof o!="boolean"))throw new vt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:u}=a;if(typeof u!="string"||!u)throw new vt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=n&&Cg("algorithms",n.algorithms);if(c&&!c.has(u))throw new wc('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof t.payload!="string")throw new vt("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new vt("JWS Payload must be a string or an Uint8Array instance");let h=!1;typeof s=="function"?(s=await s(i,t),h=!0,xg(u,s,"verify"),Ua(s)&&(s=await Oc(s,u))):xg(u,s,"verify");const f=Cs(Bt.encode(t.protected??""),Bt.encode("."),typeof t.payload=="string"?Bt.encode(t.payload):t.payload);let p;try{p=Ht(t.signature)}catch{throw new vt("Failed to base64url decode the signature")}if(!await IN(u,s,p,f))throw new Ud;let P;if(o)try{P=Ht(t.payload)}catch{throw new vt("Failed to base64url decode the payload")}else typeof t.payload=="string"?P=Bt.encode(t.payload):P=t.payload;const _={payload:P};return t.protected!==void 0&&(_.protectedHeader=i),t.header!==void 0&&(_.unprotectedHeader=t.header),h?{..._,key:s}:_}async function Z1(t,s,n){if(t instanceof Uint8Array&&(t=Ln.decode(t)),typeof t!="string")throw new vt("Compact JWS must be a string or Uint8Array");const{0:i,1:a,2:l,length:o}=t.split(".");if(o!==3)throw new vt("Invalid Compact JWS");const u=await vy({payload:a,protected:i,signature:l},s,n),c={payload:u.payload,protectedHeader:u.protectedHeader};return typeof s=="function"?{...c,key:u.key}:c}async function PN(t,s,n){if(!zt(t))throw new vt("General JWS must be an object");if(!Array.isArray(t.signatures)||!t.signatures.every(zt))throw new vt("JWS Signatures missing or incorrect type");for(const i of t.signatures)try{return await vy({header:i.header,payload:t.payload,protected:i.protected,signature:i.signature},s,n)}catch{}throw new Ud}const ji=t=>Math.floor(t.getTime()/1e3),eT=60,tT=eT*60,Ey=tT*24,NN=Ey*7,ON=Ey*365.25,jN=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,yc=t=>{const s=jN.exec(t);if(!s||s[4]&&s[1])throw new TypeError("Invalid time period format");const n=parseFloat(s[2]),i=s[3].toLowerCase();let a;switch(i){case"sec":case"secs":case"second":case"seconds":case"s":a=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":a=Math.round(n*eT);break;case"hour":case"hours":case"hr":case"hrs":case"h":a=Math.round(n*tT);break;case"day":case"days":case"d":a=Math.round(n*Ey);break;case"week":case"weeks":case"w":a=Math.round(n*NN);break;default:a=Math.round(n*ON);break}return s[1]==="-"||s[4]==="ago"?-a:a},dx=t=>t.toLowerCase().replace(/^application\//,""),LN=(t,s)=>typeof t=="string"?s.includes(t):Array.isArray(t)?s.some(Set.prototype.has.bind(new Set(t))):!1,wy=(t,s,n={})=>{let i;try{i=JSON.parse(Ln.decode(s))}catch{}if(!zt(i))throw new Ur("JWT Claims Set must be a top-level JSON object");const{typ:a}=n;if(a&&(typeof t.typ!="string"||dx(t.typ)!==dx(a)))throw new jr('unexpected "typ" JWT header value',i,"typ","check_failed");const{requiredClaims:l=[],issuer:o,subject:u,audience:c,maxTokenAge:h}=n,f=[...l];h!==void 0&&f.push("iat"),c!==void 0&&f.push("aud"),u!==void 0&&f.push("sub"),o!==void 0&&f.push("iss");for(const _ of new Set(f.reverse()))if(!(_ in i))throw new jr(`missing required "${_}" claim`,i,_,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(i.iss))throw new jr('unexpected "iss" claim value',i,"iss","check_failed");if(u&&i.sub!==u)throw new jr('unexpected "sub" claim value',i,"sub","check_failed");if(c&&!LN(i.aud,typeof c=="string"?[c]:c))throw new jr('unexpected "aud" claim value',i,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=yc(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:E}=n,P=ji(E||new Date);if((i.iat!==void 0||h)&&typeof i.iat!="number")throw new jr('"iat" claim must be a number',i,"iat","invalid");if(i.nbf!==void 0){if(typeof i.nbf!="number")throw new jr('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>P+p)throw new jr('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(i.exp!==void 0){if(typeof i.exp!="number")throw new jr('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=P-p)throw new od('"exp" claim timestamp check failed',i,"exp","check_failed")}if(h){const _=P-i.iat,C=typeof h=="number"?h:yc(h);if(_-p>C)throw new od('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(_<0-p)throw new jr('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i};async function DN(t,s,n){const i=await Z1(t,s,n);if(i.protectedHeader.crit?.includes("b64")&&i.protectedHeader.b64===!1)throw new Ur("JWTs MUST NOT use unencoded payload");const l={payload:wy(i.protectedHeader,i.payload,n),protectedHeader:i.protectedHeader};return typeof s=="function"?{...l,key:i.key}:l}async function UN(t,s,n){const i=await V1(t,s,n),a=wy(i.protectedHeader,i.plaintext,n),{protectedHeader:l}=i;if(l.iss!==void 0&&l.iss!==a.iss)throw new jr('replicated "iss" claim header parameter mismatch',a,"iss","mismatch");if(l.sub!==void 0&&l.sub!==a.sub)throw new jr('replicated "sub" claim header parameter mismatch',a,"sub","mismatch");if(l.aud!==void 0&&JSON.stringify(l.aud)!==JSON.stringify(a.aud))throw new jr('replicated "aud" claim header parameter mismatch',a,"aud","mismatch");const o={payload:a,protectedHeader:l};return typeof s=="function"?{...o,key:i.key}:o}class rT{constructor(s){this._flattened=new dd(s)}setContentEncryptionKey(s){return this._flattened.setContentEncryptionKey(s),this}setInitializationVector(s){return this._flattened.setInitializationVector(s),this}setProtectedHeader(s){return this._flattened.setProtectedHeader(s),this}setKeyManagementParameters(s){return this._flattened.setKeyManagementParameters(s),this}async encrypt(s,n){const i=await this._flattened.encrypt(s,n);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}const $N=async(t,s,n)=>{const i=await Q1(t,s,"sign");qd(t,i);const a=await nt.subtle.sign(Y1(t,i.algorithm),i,n);return new Uint8Array(a)};class Sy{constructor(s){if(!(s instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=s}setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setUnprotectedHeader(s){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=s,this}async sign(s,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new vt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Nc(this._protectedHeader,this._unprotectedHeader))throw new vt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader},a=jc(vt,new Map([["b64",!0]]),n?.crit,this._protectedHeader,i);let l=!0;if(a.has("b64")&&(l=this._protectedHeader.b64,typeof l!="boolean"))throw new vt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=i;if(typeof o!="string"||!o)throw new vt('JWS "alg" (Algorithm) Header Parameter missing or invalid');xg(o,s,"sign");let u=this._payload;l&&(u=Bt.encode(Jt(u)));let c;this._protectedHeader?c=Bt.encode(Jt(JSON.stringify(this._protectedHeader))):c=Bt.encode("");const h=Cs(c,Bt.encode("."),u),f=await $N(o,s,h),p={signature:Jt(f),payload:""};return l&&(p.payload=Ln.decode(u)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Ln.decode(c)),p}}class nT{constructor(s){this._flattened=new Sy(s)}setProtectedHeader(s){return this._flattened.setProtectedHeader(s),this}async sign(s,n){const i=await this._flattened.sign(s,n);if(i.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}class MN{constructor(s,n,i){this.parent=s,this.key=n,this.options=i}setProtectedHeader(s){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=s,this}setUnprotectedHeader(s){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=s,this}addSignature(...s){return this.parent.addSignature(...s)}sign(...s){return this.parent.sign(...s)}done(){return this.parent}}class qN{constructor(s){this._signatures=[],this._payload=s}addSignature(s,n){const i=new MN(this,s,n);return this._signatures.push(i),i}async sign(){if(!this._signatures.length)throw new vt("at least one signature must be added");const s={signatures:[],payload:""};for(let n=0;n<this._signatures.length;n++){const i=this._signatures[n],a=new Sy(this._payload);a.setProtectedHeader(i.protectedHeader),a.setUnprotectedHeader(i.unprotectedHeader);const{payload:l,...o}=await a.sign(i.key,i.options);if(n===0)s.payload=l;else if(s.payload!==l)throw new vt("inconsistent use of JWS Unencoded Payload (RFC7797)");s.signatures.push(o)}return s}}function Co(t,s){if(!Number.isFinite(s))throw new TypeError(`Invalid ${t} input`);return s}class by{constructor(s={}){if(!zt(s))throw new TypeError("JWT Claims Set MUST be an object");this._payload=s}setIssuer(s){return this._payload={...this._payload,iss:s},this}setSubject(s){return this._payload={...this._payload,sub:s},this}setAudience(s){return this._payload={...this._payload,aud:s},this}setJti(s){return this._payload={...this._payload,jti:s},this}setNotBefore(s){return typeof s=="number"?this._payload={...this._payload,nbf:Co("setNotBefore",s)}:s instanceof Date?this._payload={...this._payload,nbf:Co("setNotBefore",ji(s))}:this._payload={...this._payload,nbf:ji(new Date)+yc(s)},this}setExpirationTime(s){return typeof s=="number"?this._payload={...this._payload,exp:Co("setExpirationTime",s)}:s instanceof Date?this._payload={...this._payload,exp:Co("setExpirationTime",ji(s))}:this._payload={...this._payload,exp:ji(new Date)+yc(s)},this}setIssuedAt(s){return typeof s>"u"?this._payload={...this._payload,iat:ji(new Date)}:s instanceof Date?this._payload={...this._payload,iat:Co("setIssuedAt",ji(s))}:typeof s=="string"?this._payload={...this._payload,iat:Co("setIssuedAt",ji(new Date)+yc(s))}:this._payload={...this._payload,iat:Co("setIssuedAt",s)},this}}class FN extends by{setProtectedHeader(s){return this._protectedHeader=s,this}async sign(s,n){const i=new nT(Bt.encode(JSON.stringify(this._payload)));if(i.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Ur("JWTs MUST NOT use unencoded payload");return i.sign(s,n)}}class HN extends by{setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setKeyManagementParameters(s){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=s,this}setContentEncryptionKey(s){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=s,this}setInitializationVector(s){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=s,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(s,n){const i=new rT(Bt.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),i.setProtectedHeader(this._protectedHeader),this._iv&&i.setInitializationVector(this._iv),this._cek&&i.setContentEncryptionKey(this._cek),this._keyManagementParameters&&i.setKeyManagementParameters(this._keyManagementParameters),i.encrypt(s,n)}}const Ii=(t,s)=>{if(typeof t!="string"||!t)throw new hy(`${s} missing or invalid`)};async function sT(t,s){if(!zt(t))throw new TypeError("JWK must be an object");if(s??(s="sha256"),s!=="sha256"&&s!=="sha384"&&s!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let n;switch(t.kty){case"EC":Ii(t.crv,'"crv" (Curve) Parameter'),Ii(t.x,'"x" (X Coordinate) Parameter'),Ii(t.y,'"y" (Y Coordinate) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":Ii(t.crv,'"crv" (Subtype of Key Pair) Parameter'),Ii(t.x,'"x" (Public Key) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":Ii(t.e,'"e" (Exponent) Parameter'),Ii(t.n,'"n" (Modulus) Parameter'),n={e:t.e,kty:t.kty,n:t.n};break;case"oct":Ii(t.k,'"k" (Key Value) Parameter'),n={k:t.k,kty:t.kty};break;default:throw new mt('"kty" (Key Type) Parameter missing or unsupported')}const i=Bt.encode(JSON.stringify(n));return Jt(await S1(s,i))}async function BN(t,s){s??(s="sha256");const n=await sT(t,s);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${s.slice(-3)}:${n}`}async function zN(t,s){const n={...t,...s?.header};if(!zt(n.jwk))throw new vt('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await Oc({...n.jwk,ext:!0},n.alg);if(i instanceof Uint8Array||i.type!=="public")throw new vt('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}function WN(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new mt('Unsupported "alg" value for a JSON Web Key Set')}}function KN(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(VN)}function VN(t){return zt(t)}function iT(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class GN{constructor(s){if(this._cached=new WeakMap,!KN(s))throw new Ld("JSON Web Key Set malformed");this._jwks=iT(s)}async getKey(s,n){const{alg:i,kid:a}={...s,...n?.header},l=WN(i),o=this._jwks.keys.filter(h=>{let f=l===h.kty;if(f&&typeof a=="string"&&(f=a===h.kid),f&&typeof h.alg=="string"&&(f=i===h.alg),f&&typeof h.use=="string"&&(f=h.use==="sig"),f&&Array.isArray(h.key_ops)&&(f=h.key_ops.includes("verify")),f)switch(i){case"ES256":f=h.crv==="P-256";break;case"ES256K":f=h.crv==="secp256k1";break;case"ES384":f=h.crv==="P-384";break;case"ES512":f=h.crv==="P-521";break;case"Ed25519":f=h.crv==="Ed25519";break;case"EdDSA":f=h.crv==="Ed25519"||h.crv==="Ed448";break}return f}),{0:u,length:c}=o;if(c===0)throw new Dd;if(c!==1){const h=new py,{_cached:f}=this;throw h[Symbol.asyncIterator]=async function*(){for(const p of o)try{yield await fx(f,p,i)}catch{}},h}return fx(this._cached,u,i)}}async function fx(t,s,n){const i=t.get(s)||t.set(s,{}).get(s);if(i[n]===void 0){const a=await Oc({...s,ext:!0},n);if(a instanceof Uint8Array||a.type!=="public")throw new Ld("JSON Web Key Set members must be public keys");i[n]=a}return i[n]}function Tg(t){const s=new GN(t),n=async(i,a)=>s.getKey(i,a);return Object.defineProperties(n,{jwks:{value:()=>iT(s._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const JN=async(t,s,n)=>{let i,a,l=!1;typeof AbortController=="function"&&(i=new AbortController,a=setTimeout(()=>{l=!0,i.abort()},s));const o=await fetch(t.href,{signal:i?i.signal:void 0,redirect:"manual",headers:n.headers}).catch(u=>{throw l?new my:u});if(a!==void 0&&clearTimeout(a),o.status!==200)throw new lr("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new lr("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function XN(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let _g;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(_g="jose/v5.10.0");const vc=Symbol();function YN(t,s){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=s||!("jwks"in t)||!zt(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,zt))}class QN{constructor(s,n){if(!(s instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(s.href),this._options={agent:n?.agent,headers:n?.headers},this._timeoutDuration=typeof n?.timeoutDuration=="number"?n?.timeoutDuration:5e3,this._cooldownDuration=typeof n?.cooldownDuration=="number"?n?.cooldownDuration:3e4,this._cacheMaxAge=typeof n?.cacheMaxAge=="number"?n?.cacheMaxAge:6e5,n?.[vc]!==void 0&&(this._cache=n?.[vc],YN(n?.[vc],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Tg(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(s,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(s,n)}catch(i){if(i instanceof Dd&&this.coolingDown()===!1)return await this.reload(),this._local(s,n);throw i}}async reload(){this._pendingFetch&&XN()&&(this._pendingFetch=void 0);const s=new Headers(this._options.headers);_g&&!s.has("User-Agent")&&(s.set("User-Agent",_g),this._options.headers=Object.fromEntries(s.entries())),this._pendingFetch||(this._pendingFetch=JN(this._url,this._timeoutDuration,this._options).then(n=>{this._local=Tg(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function ZN(t,s){const n=new QN(t,s),i=async(a,l)=>n.getKey(a,l);return Object.defineProperties(i,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>n._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}const eO=vc;class tO extends by{encode(){const s=Jt(JSON.stringify({alg:"none"})),n=Jt(JSON.stringify(this._payload));return`${s}.${n}.`}static decode(s,n){if(typeof s!="string")throw new Ur("Unsecured JWT must be a string");const{0:i,1:a,2:l,length:o}=s.split(".");if(o!==3||l!=="")throw new Ur("Invalid Unsecured JWT");let u;try{if(u=JSON.parse(Ln.decode(Ht(i))),u.alg!=="none")throw new Error}catch{throw new Ur("Invalid Unsecured JWT")}return{payload:wy(u,Ht(a),n),header:u}}}const rO=Jt,xy=Ht,nO=Object.freeze(Object.defineProperty({__proto__:null,decode:xy,encode:rO},Symbol.toStringTag,{value:"Module"}));function sO(t){let s;if(typeof t=="string"){const n=t.split(".");(n.length===3||n.length===5)&&([s]=n)}else if(typeof t=="object"&&t)if("protected"in t)s=t.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof s!="string"||!s)throw new Error;const n=JSON.parse(Ln.decode(xy(s)));if(!zt(n))throw new Error;return n}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function iO(t){if(typeof t!="string")throw new Ur("JWTs must use Compact JWS serialization, JWT must be a string");const{1:s,length:n}=t.split(".");if(n===5)throw new Ur("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Ur("Invalid JWT");if(!s)throw new Ur("JWTs must contain a payload");let i;try{i=xy(s)}catch{throw new Ur("Failed to base64url decode the payload")}let a;try{a=JSON.parse(Ln.decode(i))}catch{throw new Ur("Failed to parse the decoded payload as JSON")}if(!zt(a))throw new Ur("Invalid JWT Claims Set");return a}async function oO(t,s){let n,i,a;switch(t){case"HS256":case"HS384":case"HS512":n=parseInt(t.slice(-3),10),i={name:"HMAC",hash:`SHA-${n}`,length:n},a=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(t.slice(-3),10),$d(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":n=parseInt(t.slice(1,4),10),i={name:"AES-KW",length:n},a=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(t.slice(1,4),10),i={name:"AES-GCM",length:n},a=["encrypt","decrypt"];break;default:throw new mt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return nt.subtle.generateKey(i,s?.extractable??!1,a)}function ag(t){const s=t?.modulusLength??2048;if(typeof s!="number"||s<2048)throw new mt("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return s}async function aO(t,s){let n,i;switch(t){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:ag(s)},i=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:ag(s)},i=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:ag(s)},i=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},i=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},i=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},i=["sign","verify"];break;case"Ed25519":n={name:"Ed25519"},i=["sign","verify"];break;case"EdDSA":{i=["sign","verify"];const a=s?.crv??"Ed25519";switch(a){case"Ed25519":case"Ed448":n={name:a};break;default:throw new mt("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{i=["deriveKey","deriveBits"];const a=s?.crv??"P-256";switch(a){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:a};break}case"X25519":case"X448":n={name:a};break;default:throw new mt("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new mt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return nt.subtle.generateKey(n,s?.extractable??!1,i)}async function lO(t,s){return aO(t,s)}async function cO(t,s){return oO(t,s)}const uO="WebCryptoAPI",dO=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:rT,CompactSign:nT,EmbeddedJWK:zN,EncryptJWT:HN,FlattenedEncrypt:dd,FlattenedSign:Sy,GeneralEncrypt:AN,GeneralSign:qN,SignJWT:FN,UnsecuredJWT:tO,base64url:nO,calculateJwkThumbprint:sT,calculateJwkThumbprintUri:BN,compactDecrypt:V1,compactVerify:Z1,createLocalJWKSet:Tg,createRemoteJWKSet:ZN,cryptoRuntime:uO,decodeJwt:iO,decodeProtectedHeader:sO,errors:FP,experimental_jwksCache:eO,exportJWK:J1,exportPKCS8:RN,exportSPKI:_N,flattenedDecrypt:yy,flattenedVerify:vy,generalDecrypt:CN,generalVerify:PN,generateKeyPair:lO,generateSecret:cO,importJWK:Oc,importPKCS8:gN,importSPKI:pN,importX509:mN,jwksCache:vc,jwtDecrypt:UN,jwtVerify:DN},Symbol.toStringTag,{value:"Module"}));var hx;function oT(){if(hx)return Ql;hx=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.TokenValidationService=void 0;const t=dO,s=bc();class n{constructor(a){this.jwksCache=new Map,this.JWKS_CACHE_TTL_MS=3600*1e3,this.resultCache=new Map,this.RESULT_CACHE_TTL_MS=60*1e3,this.keycloakConfig=a}setKeycloakConfig(a){this.keycloakConfig=a}async validateTokenLocal(a,l){try{if(!l?.skipResultCache){const u=this.getCachedResult(a);if(u)return{...u,cached:!0}}const o=await this.performValidation(a,l);return!l?.skipResultCache&&this.shouldCacheResult(o)&&this.cacheResult(a,o),o}catch(o){const u=o instanceof Error?o.message:"Token validation failed";return{valid:!1,tokenType:l?.tokenType||"auto",error:u}}}clearCache(a){a?this.jwksCache.delete(a):this.jwksCache.clear()}clearResultCache(){this.resultCache.clear()}clearAllCaches(){this.jwksCache.clear(),this.resultCache.clear()}async performValidation(a,l){const u=(0,t.decodeJwt)(a).iss;return u?this.determineTokenType(u,l?.tokenType)==="keycloak"?this.validateKeycloakToken(a,l):this.validateDelegatedToken(a,u,l):{valid:!1,tokenType:"auto",error:"Token missing issuer (iss) claim"}}determineTokenType(a,l){if(l&&l!=="auto")return l;if(this.keycloakConfig){const u=`${this.keycloakConfig.authServerPublicUrl||this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;if(a===u)return"keycloak"}return"delegated"}async validateKeycloakToken(a,l){if(!this.keycloakConfig)return{valid:!1,tokenType:"keycloak",error:"Keycloak not configured"};const u=`${(0,s.resolveKeycloakUrl)(this.keycloakConfig)}/realms/${this.keycloakConfig.realm}/protocol/openid-connect/certs`,h=`${this.keycloakConfig.authServerPublicUrl||this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;try{const f=await this.getJWKS(u),p={issuer:h};this.keycloakConfig.verifyAudience&&this.keycloakConfig.clientId&&!l?.skipAudienceValidation&&(p.audience=this.keycloakConfig.clientId);const{payload:E}=await(0,t.jwtVerify)(a,f,p);return{valid:!0,tokenType:"keycloak",payload:this.mapPayload(E)}}catch(f){return{valid:!1,tokenType:"keycloak",error:f instanceof Error?f.message:"Keycloak token validation failed"}}}async validateDelegatedToken(a,l,o){let u=null;if(typeof o?.delegatedProvider=="function"?u=await o.delegatedProvider(l):o?.delegatedProvider&&(u=o.delegatedProvider),!u)return{valid:!1,tokenType:"delegated",error:`No delegated provider configured for issuer: ${l}`};try{const c=await this.getJWKS(u.jwksUri),h={issuer:u.issuer};!o?.skipAudienceValidation&&u.audience&&(h.audience=u.audience);const{payload:f}=await(0,t.jwtVerify)(a,c,h);return{valid:!0,tokenType:"delegated",providerKey:u.key,payload:this.mapPayload(f)}}catch(c){return{valid:!1,tokenType:"delegated",providerKey:u.key,error:c instanceof Error?c.message:"Delegated token validation failed"}}}mapPayload(a){return{...a,sub:a.sub,iss:a.iss,email:a.email,preferredUsername:a.preferred_username,name:a.name,realmAccess:a.realm_access,resourceAccess:a.resource_access}}async getJWKS(a){const l=this.jwksCache.get(a);if(l&&l.expiresAt>Date.now())return l.keySet;const o=(0,t.createRemoteJWKSet)(new URL(a));return this.jwksCache.set(a,{keySet:o,expiresAt:Date.now()+this.JWKS_CACHE_TTL_MS}),o}getTokenHash(a){return a.length<=32?a:`${a.slice(0,16)}...${a.slice(-16)}`}getCachedResult(a){const l=this.getTokenHash(a),o=this.resultCache.get(l);return o&&o.expiresAt>Date.now()?o.result:(o&&this.resultCache.delete(l),null)}cacheResult(a,l){const o=this.getTokenHash(a);this.resultCache.set(o,{result:l,expiresAt:Date.now()+this.RESULT_CACHE_TTL_MS})}shouldCacheResult(a){return!!(a.valid||a.error?.includes("expired")||a.error?.includes('"exp"')||a.error?.includes("signature")||a.error?.includes("invalid"))}}return Ql.TokenValidationService=n,Ql}var Zl={},ec={},px;function fO(){if(px)return ec;px=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.EncryptionError=void 0;const t=jg();class s extends t.MisoClientError{constructor(i,a,l){super(i),this.name="EncryptionError",this.code=a,this.parameterName=l,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}return ec.EncryptionError=s,ec}var mx;function aT(){if(mx)return Zl;mx=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.EncryptionService=void 0;const t=fO();class s{constructor(i,a){this.apiClient=i,this.encryptionKey=a}async encrypt(i,a){this.validateEncryptionKey(),this.validateParameterName(a);const l=await this.apiClient.encryption.encrypt({plaintext:i,parameterName:a,encryptionKey:this.encryptionKey});return{value:l.value,storage:l.storage}}async decrypt(i,a){return this.validateEncryptionKey(),this.validateParameterName(a),(await this.apiClient.encryption.decrypt({value:i,parameterName:a,encryptionKey:this.encryptionKey})).plaintext}validateEncryptionKey(){if(!this.encryptionKey)throw new t.EncryptionError("Encryption key is required. Set ENCRYPTION_KEY environment variable or provide encryptionKey in config.","ENCRYPTION_KEY_REQUIRED")}validateParameterName(i){if(!s.PARAMETER_NAME_REGEX.test(i))throw new t.EncryptionError("Invalid parameter name. Must be 1-128 characters, alphanumeric with dots, underscores, hyphens only.","INVALID_PARAMETER_NAME",i)}}return Zl.EncryptionService=s,s.PARAMETER_NAME_REGEX=/^[a-zA-Z0-9._-]{1,128}$/,Zl}var gx;function hO(){if(gx)return vl;gx=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.MisoClient=void 0;const t=JC(),s=QC(),n=ZC(),i=nd(),a=Gg(),l=Jg(),o=ly(),u=Zg(),c=E1(),h=La(),f=w1(),p=i1(),E=uy(),P=oT(),_=aT();class C{constructor(x){this.initialized=!1,this.config=x,x.sensitiveFieldsConfig&&h.DataMasker.setConfigPath(x.sensitiveFieldsConfig);const w=new u.InternalHttpClient(x);this.redis=new a.RedisService(x.redis),this.logger=new i.LoggerService(w,this.redis),this.httpClient=new o.HttpClient(x,this.logger),this.logger.httpClient=this.httpClient,this.apiClient=new c.ApiClient(this.httpClient),this.logger.setApiClient(this.apiClient),(0,f.registerLoggerService)(this.logger),this.cacheService=new l.CacheService(this.redis),this.auth=new t.AuthService(this.httpClient,this.apiClient,this.cacheService),this.roles=new s.RoleService(this.httpClient,this.apiClient,this.cacheService),this.permissions=new n.PermissionService(this.httpClient,this.apiClient,this.cacheService),this.tokenValidation=new P.TokenValidationService(x.keycloak),this.encryptionService=new _.EncryptionService(this.apiClient,this.config.encryptionKey)}async initialize(){if(!this.initialized)try{await this.redis.connect(),this.initialized=!0}catch{this.initialized=!0}}async disconnect(){await this.redis.disconnect(),this.initialized=!1}isInitialized(){return this.initialized}getToken(x){const w=x.headers.authorization;return w?w.startsWith("Bearer ")?w.substring(7):w:null}validateOrigin(x,w){return(0,E.validateOrigin)(x,w??this.config.allowedOrigins)}async getEnvironmentToken(){return this.auth.getEnvironmentToken()}async login(x){return this.auth.login(x)}async validateToken(x,w){return this.auth.validateToken(x,w)}async getUser(x,w){return this.auth.getUser(x,w)}async getUserInfo(x,w){return this.auth.getUserInfo(x,w)}async isAuthenticated(x,w){return this.auth.isAuthenticated(x,w)}async logout(x){return this.auth.logout(x)}async refreshToken(x,w){return this.auth.refreshToken(x,w)}async validateTokenLocal(x,w){return this.tokenValidation.validateTokenLocal(x,w)}setKeycloakConfig(x){this.tokenValidation.setKeycloakConfig(x)}clearJwksCache(x){this.tokenValidation.clearCache(x)}clearValidationCache(){this.tokenValidation.clearResultCache()}clearAllTokenCaches(){this.tokenValidation.clearAllCaches()}async getRoles(x,w){return this.roles.getRoles(x,w)}async hasRole(x,w,v){return this.roles.hasRole(x,w,v)}async hasAnyRole(x,w,v){return this.roles.hasAnyRole(x,w,v)}async hasAllRoles(x,w,v){return this.roles.hasAllRoles(x,w,v)}async refreshRoles(x,w){return this.roles.refreshRoles(x,w)}async getPermissions(x,w){return this.permissions.getPermissions(x,w)}async hasPermission(x,w,v){return this.permissions.hasPermission(x,w,v)}async hasAnyPermission(x,w,v){return this.permissions.hasAnyPermission(x,w,v)}async hasAllPermissions(x,w,v){return this.permissions.hasAllPermissions(x,w,v)}async refreshPermissions(x,w){return this.permissions.refreshPermissions(x,w)}async clearPermissionsCache(x,w){return this.permissions.clearPermissionsCache(x,w)}get log(){return this.logger}get encryption(){return this.encryptionService}get cache(){return this.cacheService}async updateMyApplicationStatus(x,w){const v=w?.envKey??this.logger.getApplicationContextService().getApplicationContext().environment;if(!v)throw new Error("updateMyApplicationStatus requires envKey or application context (client token/clientId with environment). Neither was available.");return this.apiClient.applications.updateSelfStatus(v,x,w?.authStrategy)}async getApplicationStatus(x,w,v){return this.apiClient.applications.getApplicationStatus(x,w,v)}async getMyApplicationStatus(x,w){const v=this.logger.getApplicationContextService().getApplicationContext(),k=x?.envKey??v.environment,O=x?.appKey??v.application;if(!k||!O)throw new Error("getMyApplicationStatus requires envKey and appKey or application context (client token/clientId). Neither was fully available.");return this.apiClient.applications.getApplicationStatus(k,O,w)}getConfig(){return{...this.config}}isRedisConnected(){return this.redis.isConnected()}async requestWithAuthStrategy(x,w,v,k,O){return this.httpClient.requestWithAuthStrategy(x,w,v,k,O)}createAuthStrategy(x,w,v){return{methods:x,bearerToken:w,apiKey:v}}getDefaultAuthStrategy(x){return p.AuthStrategyHandler.getDefaultStrategy(x)}}return vl.MisoClient=C,vl}var To={},tc={},yx;function lT(){if(yx)return tc;yx=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.FilterBuilder=void 0;class t{constructor(){this.filters=[]}add(n,i,a){return this.filters.push({field:n,op:i,value:a}),this}addMany(n){return this.filters.push(...n),this}build(){return[...this.filters]}toQueryString(){if(this.filters.length===0)return"";const n={};this.filters.forEach(l=>{n[l.field]||(n[l.field]={}),n[l.field][l.op]=l.value===null?null:l.value});const i=JSON.stringify(n),a=new URLSearchParams;return a.append("filter",i),a.toString()}}return tc.FilterBuilder=t,tc}var _o={},vx;function cT(){return vx||(vx=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.DefaultOperatorsByType=_o.FilterErrorCode=void 0,_o.FilterErrorCode={UNKNOWN_FIELD:"UNKNOWN_FIELD",INVALID_OPERATOR:"INVALID_OPERATOR",INVALID_TYPE:"INVALID_TYPE",INVALID_UUID:"INVALID_UUID",INVALID_DATE:"INVALID_DATE",INVALID_ENUM:"INVALID_ENUM",INVALID_IN:"INVALID_IN",INVALID_FORMAT:"INVALID_FORMAT"},_o.DefaultOperatorsByType={string:["eq","neq","in","nin","contains","like","ilike"],number:["eq","neq","gt","gte","lt","lte","in","nin"],boolean:["eq"],uuid:["eq","in"],timestamp:["eq","gt","gte","lt","lte"],enum:["eq","in"]}),_o}var rc={},Ex;function uT(){if(Ex)return rc;Ex=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.BrowserPermissionService=void 0;const t=Td(),s=_c(),n=xs(),i=rs();class a{constructor(o,u,c){this.cache=c,this.httpClient=o,this.apiClient=u,this.permissionTTL=this.httpClient.config.cache?.permissionTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}logPermissionError(o,u,c,h,f){const p=(0,n.extractErrorInfo)(o,{endpoint:f,method:h,correlationId:o?.correlationId});p.message=`Failed to ${c}: ${p.message}`,(0,i.logErrorWithContext)(p,"[BrowserPermissionService]")}extractUserIdFromToken(o){try{const u=(0,t.decodeJWT)(o);return u?u.sub||u.userId||u.user_id||u.id:null}catch{return null}}buildAuthStrategyWithToken(o,u){const c=u||this.httpClient.config.authStrategy;return c?{...c,bearerToken:o}:{methods:["bearer"],bearerToken:o}}async resolveUserId(o,u){return(await this.apiClient.auth.validateToken({token:o},this.buildAuthStrategyWithToken(o,u))).data?.user?.id||null}getPermissionsQueryParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async getPermissions(o,u){try{let c=this.extractUserIdFromToken(o);const h=c?`permissions:${c}`:null;if(h){const _=await this.cache.get(h);if(_)return _.permissions||[]}if(!c&&(c=await this.resolveUserId(o,u),!c))return[];const f=this.buildAuthStrategyWithToken(o,u),p=this.getPermissionsQueryParams(),P=(await this.apiClient.permissions.getPermissions(p,f)).data?.permissions||[];return await this.cache.set(`permissions:${c}`,{permissions:P,timestamp:Date.now()},this.permissionTTL),P}catch(c){return this.logPermissionError(c,o,"getPermissions","GET","/api/auth/permissions"),[]}}async hasPermission(o,u,c){return(await this.getPermissions(o,c)).includes(u)}async hasAnyPermission(o,u,c){const h=await this.getPermissions(o,c);return u.some(f=>h.includes(f))}async hasAllPermissions(o,u,c){const h=await this.getPermissions(o,c);return u.every(f=>h.includes(f))}async refreshPermissions(o,u){try{const c=u||this.httpClient.config.authStrategy,h=c?{...c,bearerToken:o}:{methods:["bearer"],bearerToken:o},f=await this.apiClient.auth.validateToken({token:o},h);if(!f.data?.user?.id)return[];const E=`permissions:${f.data.user.id}`,P=this.applicationContextService.getApplicationContext(),_=P.environment?{environment:P.environment}:void 0,R=(await this.apiClient.permissions.refreshPermissions(_,h)).data?.permissions||[];return await this.cache.set(E,{permissions:R,timestamp:Date.now()},this.permissionTTL),R}catch(c){return this.logPermissionError(c,o,"refreshPermissions","POST","/api/auth/permissions/refresh"),[]}}async clearPermissionsCache(o,u){try{const c=await this.resolveUserId(o,u);if(!c)return;await this.cache.delete(`permissions:${c}`)}catch(c){this.logPermissionError(c,o,"clearPermissionsCache","DELETE","/cache/permissions")}}}return rc.BrowserPermissionService=a,rc}var nc={},wx;function dT(){if(wx)return nc;wx=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.BrowserRoleService=void 0;const t=Td(),s=_c(),n=xs(),i=rs();class a{constructor(o,u,c){this.cache=c,this.httpClient=o,this.apiClient=u,this.roleTTL=this.httpClient.config.cache?.roleTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}logRoleError(o,u,c,h,f){const p=(0,n.extractErrorInfo)(o,{endpoint:f,method:h,correlationId:o?.correlationId});p.message=`Failed to ${c}: ${p.message}`,(0,i.logErrorWithContext)(p,"[BrowserRoleService]")}extractUserIdFromToken(o){try{const u=(0,t.decodeJWT)(o);return u?u.sub||u.userId||u.user_id||u.id:null}catch{return null}}buildAuthStrategyWithToken(o,u){const c=u||this.httpClient.config.authStrategy;return c?{...c,bearerToken:o}:{methods:["bearer"],bearerToken:o}}async resolveUserId(o,u){return(await this.apiClient.auth.validateToken({token:o},this.buildAuthStrategyWithToken(o,u))).data?.user?.id||null}getRolesQueryParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async getRoles(o,u){try{let c=this.extractUserIdFromToken(o);const h=c?`roles:${c}`:null;if(h){const _=await this.cache.get(h);if(_)return _.roles||[]}if(!c&&(c=await this.resolveUserId(o,u),!c))return[];const f=this.buildAuthStrategyWithToken(o,u),p=this.getRolesQueryParams(),P=(await this.apiClient.roles.getRoles(p,f)).data?.roles||[];return await this.cache.set(`roles:${c}`,{roles:P,timestamp:Date.now()},this.roleTTL),P}catch(c){return this.logRoleError(c,o,"getRoles","GET","/api/auth/roles"),[]}}async hasRole(o,u,c){return(await this.getRoles(o,c)).includes(u)}async hasAnyRole(o,u,c){const h=await this.getRoles(o,c);return u.some(f=>h.includes(f))}async hasAllRoles(o,u,c){const h=await this.getRoles(o,c);return u.every(f=>h.includes(f))}async refreshRoles(o,u){try{const c=await this.resolveUserId(o,u);if(!c)return[];const h=this.buildAuthStrategyWithToken(o,u),f=this.getRolesQueryParams(),E=(await this.apiClient.roles.refreshRoles(f,h)).data?.roles||[];return await this.cache.set(`roles:${c}`,{roles:E,timestamp:Date.now()},this.roleTTL),E}catch(c){return this.logRoleError(c,o,"refreshRoles","POST","/api/auth/roles/refresh"),[]}}async clearRolesCache(o,u){try{const c=await this.resolveUserId(o,u);if(!c)return;await this.cache.delete(`roles:${c}`)}catch(c){this.logRoleError(c,o,"clearRolesCache","DELETE","/cache/roles")}}}return nc.BrowserRoleService=a,nc}var qu={},Sx;function pO(){if(Sx)return qu;Sx=1;var t={};Object.defineProperty(qu,"__esModule",{value:!0}),qu.loadConfig=u;function s(){const c=t.REDIS_HOST;if(!c)return;const h={host:c,port:parseInt(t.REDIS_PORT||"6379",10),password:t.REDIS_PASSWORD};return t.REDIS_DB&&(h.db=parseInt(t.REDIS_DB,10)),t.REDIS_KEY_PREFIX&&(h.keyPrefix=t.REDIS_KEY_PREFIX),h}function n(){if(!t.MISO_AUTH_STRATEGY)return;const h=t.MISO_AUTH_STRATEGY.split(",").map(p=>p.trim()).filter(p=>["bearer","client-token","client-credentials","api-key"].includes(p));if(h.length===0)return;const f={methods:h};return t.MISO_BEARER_TOKEN&&(f.bearerToken=t.MISO_BEARER_TOKEN),(t.MISO_API_KEY||t.API_KEY)&&(f.apiKey=t.MISO_API_KEY||t.API_KEY),f}function i(){if(!(!t.KEYCLOAK_SERVER_URL&&!t.KEYCLOAK_PUBLIC_SERVER_URL))return{authServerUrl:t.KEYCLOAK_PUBLIC_SERVER_URL||t.KEYCLOAK_SERVER_URL||"",authServerPrivateUrl:t.KEYCLOAK_SERVER_URL,authServerPublicUrl:t.KEYCLOAK_PUBLIC_SERVER_URL,realm:t.KEYCLOAK_REALM||"",clientId:t.KEYCLOAK_CLIENT_ID,verifyAudience:t.KEYCLOAK_VERIFY_AUDIENCE==="true"}}function a(){if(!t.MISO_ALLOWED_ORIGINS)return;const c=t.MISO_ALLOWED_ORIGINS.split(",").map(h=>h.trim()).filter(h=>h.length>0);return c.length>0?c:void 0}function l(){const c={controllerUrl:t.MISO_CONTROLLER_URL||"https://controller.aifabrix.ai",clientId:t.MISO_CLIENTID||t.MISO_CLIENT_ID||"",clientSecret:t.MISO_CLIENTSECRET||t.MISO_CLIENT_SECRET||"",logLevel:t.MISO_LOG_LEVEL||"debug"};return t.MISO_WEB_SERVER_URL&&(c.controllerPublicUrl=t.MISO_WEB_SERVER_URL),t.MISO_CONTROLLER_URL&&(c.controllerPrivateUrl=t.MISO_CONTROLLER_URL,c.controllerUrl=t.MISO_CONTROLLER_URL),c}function o(c){const h=s();h&&(c.redis=h),t.API_KEY&&(c.apiKey=t.API_KEY),t.MISO_SENSITIVE_FIELDS_CONFIG&&(c.sensitiveFieldsConfig=t.MISO_SENSITIVE_FIELDS_CONFIG),t.MISO_EMIT_EVENTS&&(c.emitEvents=t.MISO_EMIT_EVENTS.toLowerCase()==="true");const f=n();f&&(c.authStrategy=f),t.MISO_CLIENT_TOKEN_URI&&(c.clientTokenUri=t.MISO_CLIENT_TOKEN_URI);const p=a();p&&(c.allowedOrigins=p),c.validateResponses=t.MISO_VALIDATE_RESPONSES!==void 0?t.MISO_VALIDATE_RESPONSES.toLowerCase()==="true":!1;const E=i();E&&(c.keycloak=E),t.ENCRYPTION_KEY&&(c.encryptionKey=t.ENCRYPTION_KEY)}function u(){const c=l();if(!c.clientId)throw new Error("MISO_CLIENTID environment variable is required");if(!c.clientSecret)throw new Error("MISO_CLIENTSECRET environment variable is required");return o(c),c}return qu}var Fu={},bx;function mO(){if(bx)return Fu;bx=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.getEnvironmentToken=u;const t=uy(),s=La(),n=kc();function i(c){return c.headers.origin||c.headers.referer||"unknown"}async function a(c,h,f,p,E){const P=c.log.forRequest(h);throw await P.addContext("origin",p).addContext("allowedOrigins",E||[]).addContext("reason","origin_validation_failed").error(f),await P.addContext("reason","origin_validation_failed").addContext("origin",p).addContext("allowedOrigins",E||[]).audit("client.token.request.rejected","environment-token"),new Error(f)}async function l(c,h,f){const p=s.DataMasker.maskSensitiveData({clientId:f.clientId}),E=f.clientSecret?s.DataMasker.maskSensitiveData({clientSecret:f.clientSecret}):{clientSecret:void 0};await c.log.forRequest(h).addContext("clientId",p.clientId).addContext("clientSecret",E.clientSecret).addContext("origin",i(h)).audit("client.token.request.success","environment-token")}async function o(c,h,f,p,E){const P=s.DataMasker.maskSensitiveData({clientId:f.clientId}),_=c.log.forRequest(h);await _.addContext("clientId",P.clientId).addContext("origin",i(h)).addContext("reason","token_fetch_failed").error(`Failed to get environment token: ${p}`,E),await _.addContext("reason","token_fetch_failed").addContext("error",p).addContext("clientId",P.clientId).addContext("origin",i(h)).audit("client.token.request.failed","environment-token")}async function u(c,h){const f=c.getConfig(),p=(0,t.validateOrigin)(h,f.allowedOrigins);if(!p.valid){const E=`Origin validation failed: ${p.error}`;await a(c,h,E,i(h),f.allowedOrigins)}try{(0,n.resolveControllerUrl)(f);const E=await c.getEnvironmentToken();return await l(c,h,f),E}catch(E){const P=E instanceof Error?E.message:"Unknown error";throw await o(c,h,f,P,E instanceof Error?E.stack:void 0),E}}return Fu}var Sa={},Or={},xx;function Dn(){if(xx)return Or;xx=1;var t=Or&&Or.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.isBrowser=n,Or.getLocalStorage=i,Or.setLocalStorage=a,Or.removeLocalStorage=l,Or.extractUserIdFromToken=o,Or.generateCacheKey=u,Or.truncatePayload=c,Or.calculateSize=h,Or.isRetryableError=f,Or.calculateBackoffDelay=p;const s=t(Pc());function n(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function i(E){if(!n())return null;try{return globalThis.localStorage.getItem(E)}catch{return null}}function a(E,P){if(n())try{globalThis.localStorage.setItem(E,P)}catch{}}function l(E){if(n())try{globalThis.localStorage.removeItem(E)}catch{}}function o(E){try{const P=s.default.decode(E);return P?P.sub||P.userId||P.user_id||P.id:null}catch{return null}}function u(E,P){const _=P?.method||"GET",C=P?.body?JSON.stringify(P.body):"";return`data-client:${_}:${E}:${C}`}function c(E,P){const _=JSON.stringify(E);return _.length<=P?{data:E,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:_.length},truncated:!0}}function h(E){try{return JSON.stringify(E).length}catch{return 0}}function f(E,P){return!E||E>=500||E===408||E===429?!0:(E===401||E===403||E>=400&&E<500,!1)}function p(E,P,_){return Math.min(P*Math.pow(2,E),_)+Math.random()*1e3}return Or}var Cx;function fT(){if(Cx)return Sa;Cx=1;var t=Sa&&Sa.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.extractClientTokenInfo=u;const s=t(Pc()),n=Dn(),i=Wt();function a(c){if((0,n.isBrowser)())try{const h=c.split(".");if(h.length!==3)return null;let f=h[1];for(;f.length%4;)f+="=";return f=f.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(atob(f))}catch(h){return(0,i.writeWarn)(`[decodeJWT] Browser decode failed: ${String(h)}`),null}else try{return s.default.decode(c)}catch(h){return(0,i.writeWarn)(`[decodeJWT] Node.js decode failed: ${String(h)}`),null}}function l(c){return typeof c=="string"}function o(c,...h){for(const f of h){const p=c[f];if(l(p))return p}}function u(c){try{const h=a(c);if(!h||typeof h!="object")return(0,i.writeWarn)("[extractClientTokenInfo] Failed to decode client token: Invalid token format"),{};const f={},p=o(h,"application","app"),E=o(h,"environment","env","environmentKey"),P=o(h,"applicationId","app_id"),_=o(h,"clientId","client_id");return p&&(f.application=p),E&&(f.environment=E),P&&(f.applicationId=P),_&&(f.clientId=_),f}catch(h){return(0,i.writeWarn)(`[extractClientTokenInfo] Failed to decode client token: ${h instanceof Error?h.message:String(h)}`),{}}}return Sa}var Hu={},Tx;function gO(){if(Tx)return Hu;Tx=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.extractLoggingContext=t;function t(s){const n={};return s.source&&(n.sourceKey=s.source.key,s.source.displayName!==void 0&&(n.sourceDisplayName=s.source.displayName),s.source.externalSystem&&(n.externalSystemKey=s.source.externalSystem.key,s.source.externalSystem.displayName!==void 0&&(n.externalSystemDisplayName=s.source.externalSystem.displayName))),s.externalSystem&&(n.externalSystemKey=s.externalSystem.key,s.externalSystem.displayName!==void 0&&(n.externalSystemDisplayName=s.externalSystem.displayName)),s.record&&(n.recordKey=s.record.key,s.record.displayName!==void 0&&(n.recordDisplayName=s.record.displayName)),n}return Hu}var ba={},_x;function yO(){if(_x)return ba;_x=1;var t=ba&&ba.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ba,"__esModule",{value:!0}),ba.extractRequestContext=i;const s=t(Pc());function n(a){const o=(a.headers||{}).authorization;if(!o?.startsWith("Bearer "))return{};try{const u=o.substring(7),c=s.default.decode(u);return c?{userId:c.sub||c.userId||c.user_id||c.id,sessionId:c.sessionId||c.sid}:{}}catch{return{}}}function i(a){const l=a.headers||{},o=a.ip||l["x-forwarded-for"]?.split(",")[0]?.trim()||a.socket?.remoteAddress,u=l["x-correlation-id"]||l["x-request-id"]||l["request-id"],{userId:c,sessionId:h}=n(a);return{ipAddress:o,method:a.method,path:a.originalUrl||a.path,userAgent:l["user-agent"],correlationId:u,referer:l.referer,userId:c,sessionId:h,requestId:l["x-request-id"],requestSize:l["content-length"]?parseInt(l["content-length"],10):void 0}}return ba}var Ro={},Rx;function vO(){if(Rx)return Ro;Rx=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.parsePaginationParams=t,Ro.createMetaObject=s,Ro.applyPaginationToArray=n,Ro.createPaginatedListResponse=i;function t(a){const l=parseInt(String(a.page??"1"),10),o=parseInt(String(a.page_size??"20"),10);return{currentPage:l,pageSize:o}}function s(a,l,o,u){return{totalItems:a,currentPage:l,pageSize:o,type:u}}function n(a,l,o){const u=(l-1)*o;return a.slice(u,u+o)}function i(a,l,o,u,c){return{meta:s(l,o,u,c),data:a}}return Ro}var lg={},xa={},kx;function EO(){if(kx)return xa;kx=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.normalizeOperator=t,xa.isColonFormat=s,xa.parseColonFilter=a;function t(l){return{equals:"eq",notEquals:"neq",">":"gt","<":"lt",">=":"gte","<=":"lte",equal:"eq",notEqual:"neq",greaterThan:"gt",lessThan:"lt",greaterThanOrEqual:"gte",lessThanOrEqual:"lte"}[l.toLowerCase()]||l}function s(l){if(!l||!l.includes(":"))return!1;const o=l.trim();return!o.startsWith("{")&&!o.startsWith("[")}function n(l){const o=l.indexOf(":");if(o===-1)throw new Error(`Invalid colon filter format: missing operator. Got: "${l}". Expected: "field:op:value"`);const u=l.substring(0,o);if(!u)throw new Error(`Invalid colon filter format: missing field name. Got: "${l}". Expected: "field:op:value"`);const c=l.substring(o+1),h=c.indexOf(":"),f=h===-1?c:c.substring(0,h),p=h===-1?"":c.substring(h+1);if(!f)throw new Error(`Invalid colon filter format: missing operator. Got: "${l}". Expected: "field:op:value"`);return{field:u,opStr:f,valueStr:p}}function i(l,o,u){if(l==="isNull"||l==="isNotNull")return null;if(l==="in"||l==="nin")return o?o.split(",").map(h=>{const f=h.trim(),p=Number(f);return!isNaN(p)&&f!==""?p:f}):[];if(o==="")throw new Error(`Invalid colon filter format: missing value for operator '${l}'. Got: "${u}". Expected: "field:${l}:value"`);if(o==="true")return!0;if(o==="false")return!1;if(o==="null")return null;const c=Number(o);return!isNaN(c)&&o!==""?c:o}function a(l){const{field:o,opStr:u,valueStr:c}=n(l),h=t(u),f=i(h,c,l);return{field:o,op:h,value:f}}return xa}var Ax;function wO(){return Ax||(Ax=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBuilder=void 0,t.parseFilterParams=l,t.buildQueryString=p,t.applyFilters=_,t.validateJsonFilter=C,t.filterQueryToJson=R,t.jsonToFilterQuery=x;const s=lT();Object.defineProperty(t,"FilterBuilder",{enumerable:!0,get:function(){return s.FilterBuilder}});const n=EO();function i(w,v){if((w==="in"||w==="nin")&&!Array.isArray(v))throw new Error(`Operator '${w}' requires array value, got ${typeof v}. Example: {"field": {"${w}": ["value1", "value2"]}}`);if((w==="isNull"||w==="isNotNull")&&v!==null)throw new Error(`Operator '${w}' requires null value, got ${typeof v}. Example: {"field": {"${w}": null}}`)}function a(w){const v=[];for(const[k,O]of Object.entries(w)){if(!k||typeof k!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof k}`);if(typeof O!="object"||O===null||Array.isArray(O))throw new Error(`Field '${k}' must have operator dictionary, got ${typeof O}. Expected format: {"${k}": {"op": value}}`);const j=O;for(const[D,I]of Object.entries(j)){const H=(0,n.normalizeOperator)(D);i(H,I);let G;H==="isNull"||H==="isNotNull"?G=null:(Array.isArray(I),G=I),v.push({field:k,op:H,value:G})}}return v}function l(w){const v=w.filter;if(!v)return[];try{if(typeof v=="object"&&!Array.isArray(v)&&v!==null)return a(v);if(typeof v=="string")return o(v);if(Array.isArray(v))return u(v);throw new Error(`Invalid filter format. Expected object, string, or array, got ${typeof v}.`)}catch(k){throw k instanceof Error?new Error(`Invalid filter format. ${k.message}`):new Error(`Invalid filter format. Got: ${typeof v}`)}}function o(w){if((0,n.isColonFormat)(w))return[(0,n.parseColonFilter)(w)];const v=h(w);if(v!==null)return f(v);if(w.includes(":"))return[(0,n.parseColonFilter)(w)];throw new Error(`Could not parse filter string: "${w}"`)}function u(w){const v=[];for(const k of w)v.push(...c(k));return v}function c(w){if(typeof w=="string")return o(w);if(typeof w=="object"&&w!==null)return a(w);throw new Error(`Invalid filter item: ${typeof w}`)}function h(w){try{return JSON.parse(decodeURIComponent(w))}catch{try{return JSON.parse(w)}catch{return null}}}function f(w){if(Array.isArray(w)){const v=[];for(const k of w)typeof k=="object"&&k!==null&&v.push(...a(k));return v}if(typeof w=="object"&&w!==null)return a(w);throw new Error("Invalid JSON filter format")}function p(w){const v=new URLSearchParams;if(w.filters&&w.filters.length>0){const k={};for(const j of w.filters)k[j.field]||(k[j.field]={}),k[j.field][j.op]=j.value===null?null:j.value;const O=JSON.stringify(k);v.append("filter",O)}return w.sort?.forEach(k=>v.append("sort",k)),w.page&&v.append("page",w.page.toString()),w.pageSize&&v.append("page_size",w.pageSize.toString()),w.fields&&w.fields.length>0&&v.append("fields",w.fields.join(",")),v.toString()}function E(w,v){const k=w[v.field],O=v.value;return v.op==="isNull"?k==null:v.op==="isNotNull"?k!=null:Array.isArray(O)?v.op==="in"?O.includes(k):!O.includes(k):P(k,v.op,O)}function P(w,v,k){switch(v){case"eq":return w===k;case"neq":return w!==k;case"gt":return w>k;case"lt":return w<k;case"gte":return w>=k;case"lte":return w<=k;case"contains":return String(w).includes(String(k));case"like":case"ilike":return new RegExp(String(k),"i").test(String(w));default:return!0}}function _(w,v){return w.filter(k=>v.every(O=>E(k,O)))}function C(w){if(typeof w!="object"||w===null||Array.isArray(w))throw new Error(`Invalid filter format. Expected object, got ${typeof w}. Example: {"field": {"op": value}}`);const v=w;for(const[k,O]of Object.entries(v)){if(!k||typeof k!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof k}`);if(typeof O!="object"||O===null||Array.isArray(O))throw new Error(`Field '${k}' must have operator dictionary, got ${typeof O}. Expected format: {"${k}": {"op": value}}`);const j=O;for(const[D,I]of Object.entries(j)){const H=(0,n.normalizeOperator)(D);i(H,I)}}}function R(w){const v={};if(w.filters)for(const k of w.filters)v[k.field]||(v[k.field]={}),v[k.field][k.op]=k.value;return v}function x(w){return{filters:a(w)}}})(lg)),lg}var cg={},Bu={},Ix;function SO(){if(Ix)return Bu;Ix=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.loadFilterSchema=i;function t(a){if(typeof a!="object"||a===null)throw new Error("Invalid filter schema: expected object");const l=a;if(typeof l.resource!="string")throw new Error("Invalid filter schema: missing 'resource' field");if(typeof l.fields!="object"||l.fields===null)throw new Error("Invalid filter schema: missing 'fields' object");return{resource:l.resource,version:typeof l.version=="string"?l.version:void 0,fields:l.fields}}function s(a,l){if(typeof l!="object"||l===null)throw new Error(`Invalid filter schema: field '${a}' must be an object`);const o=l;if(typeof o.column!="string")throw new Error(`Invalid filter schema: field '${a}' missing 'column'`);if(typeof o.type!="string")throw new Error(`Invalid filter schema: field '${a}' missing 'type'`);if(!Array.isArray(o.operators))throw new Error(`Invalid filter schema: field '${a}' missing 'operators' array`);return{column:o.column,type:o.type,operators:o.operators,enumValues:Array.isArray(o.enumValues)?o.enumValues:void 0,nullable:typeof o.nullable=="boolean"?o.nullable:void 0,description:typeof o.description=="string"?o.description:void 0}}function n(a){const l={};for(const[o,u]of Object.entries(a))l[o]=s(o,u);return l}function i(a){const l=t(a),o=n(l.fields);return{resource:l.resource,version:l.version,fields:o}}return Bu}var Px;function bO(){return Px||(Px=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadFilterSchema=void 0,t.createFilterError=n,t.coerceValue=c,t.validateFilter=h,t.validateFilters=x,t.compileFilter=v,t.createFilterSchema=j;const s=cT();function n(I,H,G){return{code:I,message:H,...G}}function i(I){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(I)}function a(I){const H=new Date(I);return!isNaN(H.getTime())}function l(I){if(Array.isArray(I))return I.map(G=>{const ie=Number(G);if(isNaN(ie))throw new Error(`Cannot coerce "${G}" to number`);return ie});const H=Number(I);if(isNaN(H))throw new Error(`Cannot coerce "${I}" to number`);return H}function o(I){if(typeof I=="boolean")return I;if(I==="true"||I==="1")return!0;if(I==="false"||I==="0")return!1;throw new Error(`Cannot coerce "${I}" to boolean`)}function u(I){if(typeof I!="string")return I;const H=new Date(I);if(isNaN(H.getTime()))throw new Error(`Cannot coerce "${I}" to timestamp`);return H.toISOString()}function c(I,H){if(I===null)return null;const ie={number:l,boolean:o,timestamp:u}[H.type];return ie?ie(I):I}function h(I,H){const G=H.fields[I.field];if(!G)return n(s.FilterErrorCode.UNKNOWN_FIELD,`Field '${I.field}' is not allowed for filtering on '${H.resource}'`,{field:I.field});if(!G.operators.includes(I.op))return n(s.FilterErrorCode.INVALID_OPERATOR,`Operator '${I.op}' is not allowed for field '${I.field}'`,{field:I.field,operator:I.op,allowedOperators:G.operators});if(I.op==="isNull"||I.op==="isNotNull")return null;const ie=f(I.value,G,I.field,I.op);return ie||null}function f(I,H,G,ie){if(I===null)return null;if(ie==="in"||ie==="nin"){if(!Array.isArray(I))return n(s.FilterErrorCode.INVALID_IN,`Operator '${ie}' requires an array value for field '${G}'`,{field:G,operator:ie,value:I});if(I.length===0)return n(s.FilterErrorCode.INVALID_IN,`Operator '${ie}' requires a non-empty array for field '${G}'`,{field:G,operator:ie,value:I});for(const he of I){const X=R(he,H,G);if(X)return X}return null}return R(I,H,G)}function p(I,H){return typeof I!="string"||!i(I)?n(s.FilterErrorCode.INVALID_UUID,`Invalid UUID value for field '${H}': ${I}`,{field:H,value:I}):null}function E(I,H){return typeof I!="string"||!a(I)?n(s.FilterErrorCode.INVALID_DATE,`Invalid timestamp value for field '${H}': ${I}`,{field:H,value:I}):null}function P(I,H){return typeof I!="number"&&isNaN(Number(I))?n(s.FilterErrorCode.INVALID_TYPE,`Expected number for field '${H}', got ${typeof I}`,{field:H,value:I}):null}function _(I,H){return typeof I!="boolean"&&I!=="true"&&I!=="false"?n(s.FilterErrorCode.INVALID_TYPE,`Expected boolean for field '${H}', got ${typeof I}`,{field:H,value:I}):null}function C(I,H,G){return H.enumValues&&!H.enumValues.includes(String(I))?n(s.FilterErrorCode.INVALID_ENUM,`Invalid value '${I}' for field '${G}'. Allowed: ${H.enumValues.join(", ")}`,{field:G,value:I,allowedValues:H.enumValues}):null}function R(I,H,G){switch(H.type){case"uuid":return p(I,G);case"timestamp":return E(I,G);case"number":return P(I,G);case"boolean":return _(I,G);case"enum":return C(I,H,G);default:return null}}function x(I,H){const G=[];for(const ie of I){const he=h(ie,H);he&&G.push(he)}return{valid:G.length===0,errors:G}}function w(I,H,G){switch(I){case"eq":return{sql:`${H} = $${G}`,hasParam:!0};case"neq":return{sql:`${H} != $${G}`,hasParam:!0};case"gt":return{sql:`${H} > $${G}`,hasParam:!0};case"gte":return{sql:`${H} >= $${G}`,hasParam:!0};case"lt":return{sql:`${H} < $${G}`,hasParam:!0};case"lte":return{sql:`${H} <= $${G}`,hasParam:!0};case"in":return{sql:`${H} = ANY($${G})`,hasParam:!0};case"nin":return{sql:`${H} != ALL($${G})`,hasParam:!0};case"like":return{sql:`${H} LIKE $${G}`,hasParam:!0};case"ilike":return{sql:`${H} ILIKE $${G}`,hasParam:!0};case"contains":return{sql:`${H} ILIKE $${G}`,hasParam:!0};case"isNull":return{sql:`${H} IS NULL`,hasParam:!1};case"isNotNull":return{sql:`${H} IS NOT NULL`,hasParam:!1};default:return{sql:`${H} = $${G}`,hasParam:!0}}}function v(I,H,G="and"){if(I.length===0)return{sql:"",params:[]};const ie=[],he=[];for(const V of I){const{sql:M,hasParam:W,value:B}=k(V,H,ie.length+1);he.push(M),W&&ie.push(B)}const X=G==="or"?" OR ":" AND ";return{sql:he.join(X),params:ie}}function k(I,H,G){const ie=H.fields[I.field];if(!ie)throw new Error(`Unknown field '${I.field}' in schema '${H.resource}'`);const he=ie.column,X=O(I,ie),{sql:V,hasParam:M}=w(I.op,he,G);return{sql:V,hasParam:M,value:X}}function O(I,H){let G=I.value;try{G=c(G,H)}catch{}return I.op==="contains"&&typeof G=="string"&&(G=`%${G}%`),G}function j(I,H,G){const ie={};for(const[he,X]of Object.entries(H))ie[he]={...X,operators:X.operators||s.DefaultOperatorsByType[X.type]};return{resource:I,version:G,fields:ie}}var D=SO();Object.defineProperty(t,"loadFilterSchema",{enumerable:!0,get:function(){return D.loadFilterSchema}})})(cg)),cg}var Ca={},Nx;function xO(){if(Nx)return Ca;Nx=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.parseSortParams=t,Ca.buildSortString=s,Ca.applySorting=n;function t(i){const a=i.sort;return(Array.isArray(a)?a:a?[a]:[]).map(o=>{const u=String(o).trim();if(!u||u==="-"||u===":")return null;if(u.includes(":")){const[c,h]=u.split(":"),f=c.trim();return f?{field:f,order:h?.trim().toLowerCase()==="desc"?"desc":"asc"}:null}if(u.startsWith("-")){const c=u.substring(1).trim();return c?{field:c,order:"desc"}:null}return{field:u,order:"asc"}}).filter(o=>o!==null)}function s(i){return i.map(a=>a.order==="desc"?`-${a.field}`:a.field)}function n(i,a){return!a||a.length===0?i:[...i].sort((l,o)=>{for(const u of a){const c=l[u.field],h=o[u.field];if(c==null)return 1;if(h==null)return-1;if(c<h)return u.order==="asc"?-1:1;if(c>h)return u.order==="asc"?1:-1}return 0})}return Ca}var sc={},Ox;function CO(){if(Ox)return sc;Ox=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.EncryptionError=void 0;const t=ja();class s extends t.MisoClientError{constructor(i,a,l){super(i),this.name="EncryptionError",this.code=a,this.parameterName=l,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}return sc.EncryptionError=s,sc}var ic={},jx;function TO(){return jx||(jx=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.APPLICATION_STATUS_VALUES=void 0,ic.APPLICATION_STATUS_VALUES=["healthy","degraded","deploying","error","maintenance"]),ic}var ug={},oc={},ko={},Lx;function _O(){if(Lx)return ko;Lx=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.parsePaginationParams=t,ko.createMetaObject=s,ko.applyPaginationToArray=n,ko.createPaginatedListResponse=i;function t(a){const l=parseInt(String(a.page??"1"),10),o=parseInt(String(a.page_size??"20"),10);return{currentPage:l,pageSize:o}}function s(a,l,o,u){return{totalItems:a,currentPage:l,pageSize:o,type:u}}function n(a,l,o){const u=(l-1)*o;return a.slice(u,u+o)}function i(a,l,o,u,c){return{meta:s(l,o,u,c),data:a}}return ko}var Zs={},Dx;function Fd(){if(Dx)return Zs;Dx=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.createErrorResponse=Zs.createSuccessResponse=Zs.AppError=void 0;const t={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"},s={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"};function n(o){return o?Array.isArray(o)?{validationErrors:o}:o:{}}class i extends Error{constructor(u,c=500,h=!0,f){super(u);const p=n(f);this.statusCode=c,this.isOperational=h,this.validationErrors=p.validationErrors||[],this.errorType=p.errorType,this.instance=p.instance,this.correlationId=p.correlationId,Error.captureStackTrace(this,this.constructor)}toErrorResponse(u){return{type:this.errorType||t[this.statusCode]||"/Errors/InternalServerError",title:s[this.statusCode]||"Internal Server Error",status:this.statusCode,detail:this.message,instance:this.instance||u,correlationId:this.correlationId,errors:this.validationErrors&&this.validationErrors.length>0?this.validationErrors:void 0}}}Zs.AppError=i;const a=(o,u,c)=>{const h={success:!0,data:o,timestamp:new Date().toISOString()};return u&&(h.message=u),c&&(h.correlationId=c),h};Zs.createSuccessResponse=a;const l=(o,u)=>{const c={success:!1,error:o,timestamp:new Date().toISOString()};return u&&(c.correlationId=u),c};return Zs.createErrorResponse=l,Zs}var Ux;function hT(){if(Ux)return oc;Ux=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.ResponseHelper=void 0;const t=_O(),s=Fd();class n{static success(a,l,o,u=200){const c={success:!0,data:l,timestamp:new Date().toISOString()};return o&&(c.message=o),a.status(u).json(c)}static created(a,l,o="Resource created"){return n.success(a,l,o,201)}static paginated(a,l,o){const u=(0,t.createPaginatedListResponse)(l,o.totalItems,o.currentPage,o.pageSize,o.type);return a.status(200).json(u)}static noContent(a){return a.status(204).send()}static accepted(a,l,o="Request accepted"){return n.success(a,l,o,202)}static error(a,l=400,o=!0,u,c){throw new s.AppError(a,l,o,{validationErrors:u,errorType:c})}}return oc.ResponseHelper=n,oc}var zu={},$x;function RO(){if($x)return zu;$x=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.injectResponseHelpers=s;const t=hT();function s(n,i,a){i.success=(l,o)=>t.ResponseHelper.success(i,l,o),i.created=(l,o)=>t.ResponseHelper.created(i,l,o),i.paginated=(l,o)=>t.ResponseHelper.paginated(i,l,o),i.noContent=()=>t.ResponseHelper.noContent(i),i.accepted=(l,o)=>t.ResponseHelper.accepted(i,l,o),a()}return zu}var ac={},lc={},Ao={},Mx;function Hd(){if(Mx)return Ao;Mx=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.getErrorTypeUri=s,Ao.getErrorTitle=n,Ao.createErrorResponse=i,Ao.sendErrorResponse=a;const t={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable",504:"/Errors/GatewayTimeout"};function s(l){return t[l]||"/Errors/InternalServerError"}function n(l){return{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable",504:"Gateway Timeout"}[l]||"Internal Server Error"}function i(l,o,u,c,h){let f;l instanceof Error?f=l.message:typeof l=="string"?f=l:l==null?f="An error occurred":f=String(l)||"An error occurred";const p=c||u?.correlationId||u?.headers["x-correlation-id"],E={type:s(o),title:n(o),status:o,detail:f,instance:u?.originalUrl};return p&&(E.correlationId=p),h&&h.length>0&&(E.errors=h),E}function a(l,o){l.setHeader("Content-Type","application/problem+json"),l.status(o.status).json(o)}return Ao}var qx;function pT(){if(qx)return lc;qx=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.setErrorLogger=o,lc.handleRouteError=_;const t=Fd(),s=Hd(),n=xs(),i=rs(),a=Rd();let l=null;function o(C){l=C}const u={P2002:409,P2025:404,P2003:400},c=[{pattern:/not found/i,status:404},{pattern:/already exists|duplicate/i,status:409},{pattern:/validation|invalid/i,status:400},{pattern:/unauthorized|authentication/i,status:401},{pattern:/forbidden|permission/i,status:403}];function h(C){if(C instanceof t.AppError)return C.statusCode;if(C&&typeof C=="object"&&"code"in C){const x=u[C.code];if(x)return x}const R=C instanceof Error?C.message:String(C||"");for(const{pattern:x,status:w}of c)if(x.test(R))return w;return 500}function f(C){return C instanceof Error?C.message:typeof C=="string"?C:"An unexpected error occurred"}function p(){const C=Date.now(),R=Math.random().toString(36).substring(2,8);return`express-${C}-${R}`}function E(C,R,x,w){let v;return C instanceof t.AppError&&C.validationErrors&&(v=C.validationErrors),(0,s.createErrorResponse)(C,R,x,w,v)}async function P(C,R){const{errorInfo:x,logMessage:w,req:v,correlationId:k,statusCode:O,operationName:j}=R;if((0,i.logErrorWithContext)(x,"[Express]"),l)try{await l.logError(w,{req:v,correlationId:x.correlationId||k,operation:j,statusCode:x.statusCode||O,url:v.originalUrl,method:v.method,errorMessage:x.message,errorName:x.errorName,errorType:x.errorType,stack:x.stackTrace})}catch(D){const I=D instanceof Error?D:new Error(String(D));console.error(`Failed to log error: ${I.message}`),console.error(`Original error: ${f(C)}`)}else console.error(w),C instanceof Error&&C.stack&&console.error(`Stack: ${C.stack}`)}async function _(C,R,x,w){const v=(0,a.extractRequestContext)(R),k=R.correlationId||v.correlationId||p(),O=h(C),j=f(C),D=w||"unknown operation",I=(0,n.extractErrorInfo)(C,{endpoint:R.originalUrl||R.path,method:R.method,correlationId:k});await P(C,{errorInfo:I,logMessage:`${D} failed: ${j}`,req:R,correlationId:k,statusCode:O,operationName:D});const H=E(C,O,R,k);C instanceof t.AppError&&C.correlationId&&(H.correlationId=C.correlationId),(0,s.sendErrorResponse)(x,H)}return lc}var Fx;function Cy(){if(Fx)return ac;Fx=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.asyncHandler=s,ac.asyncHandlerNamed=n;const t=pT();function s(i,a){return async(l,o,u)=>{try{await i(l,o,u)}catch(c){const h=a||`${l.method} ${l.route?.path||l.path}`;await(0,t.handleRouteError)(c,l,o,h)}}}function n(i,a){return s(a,i)}return ac}var cc={},Hx;function kO(){if(Hx)return cc;Hx=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.ValidationHelper=void 0;const t=Fd();class s{static async findOrFail(i,a,l){const o=await i();if(!o)throw new t.AppError(`${a} not found${l?`: ${l}`:""}`,404,!0,{errorType:"/Errors/NotFound"});return o}static async ensureNotExists(i,a,l){if(await i())throw new t.AppError(`${a} already exists${l?`: ${l}`:""}`,409,!0,{errorType:"/Errors/Conflict"})}static ensureOwnershipOrAdmin(i,a,l="No permission to access this resource"){const o=i.userId===a,u=i.userRoles?.includes("admin")||i.userRoles?.includes("superuser");if(!o&&!u)throw new t.AppError(l,403,!0,{errorType:"/Errors/Forbidden"})}static async validateAll(i){await Promise.all(i.map(a=>a()))}static validateRequiredFields(i,a,l){const o=a.filter(u=>i[u]===void 0||i[u]===null||i[u]==="");if(o.length>0)throw new t.AppError(`Missing required fields for ${l}: ${o.join(", ")}`,400,!0,{errorType:"/Errors/BadRequest"})}static ensureAuthenticated(i){if(!i.userId)throw new t.AppError("Authentication required",401,!0,{errorType:"/Errors/Unauthorized"})}static validateStringLength(i,a,l,o){if(l!==void 0&&i.length<l)throw new t.AppError(`${a} must be at least ${l} characters`,400,!0,{errorType:"/Errors/BadRequest"});if(o!==void 0&&i.length>o)throw new t.AppError(`${a} must not exceed ${o} characters`,400,!0,{errorType:"/Errors/BadRequest"})}}return cc.ValidationHelper=s,cc}var Wu={},Bx;function mT(){if(Bx)return Wu;Bx=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.validateOrigin=n;function t(i){return i.trim().toLowerCase().replace(/\/$/,"")}function s(i,a){const l=t(i),o=t(a);if(l===o)return!0;if(a.includes(":*"))try{const u=new URL(l),c=new URL(o.replace(":*",""));if(u.protocol===c.protocol&&u.hostname===c.hostname)return!0}catch{}return!1}function n(i,a){if(!a||a.length===0)return{valid:!0};let l=Array.isArray(i.headers.origin)?i.headers.origin[0]:i.headers.origin;if(!l||typeof l!="string"){const u=Array.isArray(i.headers.referer)?i.headers.referer[0]:i.headers.referer;if(u&&typeof u=="string")try{const c=new URL(u);l=`${c.protocol}//${c.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const o=l;for(const u of a)if(s(o,u))return{valid:!0};return{valid:!1,error:`Origin '${o}' is not allowed`}}return Wu}var Ku={},zx;function Ty(){if(zx)return Ku;zx=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.getEnvironmentToken=u;const t=mT(),s=Wg(),n=bc();function i(c){return c.headers.origin||c.headers.referer||"unknown"}async function a(c,h,f,p,E){const P=c.log.forRequest(h);throw await P.addContext("origin",p).addContext("allowedOrigins",E||[]).addContext("reason","origin_validation_failed").error(f),await P.addContext("reason","origin_validation_failed").addContext("origin",p).addContext("allowedOrigins",E||[]).audit("client.token.request.rejected","environment-token"),new Error(f)}async function l(c,h,f){const p=s.DataMasker.maskSensitiveData({clientId:f.clientId}),E=f.clientSecret?s.DataMasker.maskSensitiveData({clientSecret:f.clientSecret}):{clientSecret:void 0};await c.log.forRequest(h).addContext("clientId",p.clientId).addContext("clientSecret",E.clientSecret).addContext("origin",i(h)).audit("client.token.request.success","environment-token")}async function o(c,h,f,p,E){const P=s.DataMasker.maskSensitiveData({clientId:f.clientId}),_=c.log.forRequest(h);await _.addContext("clientId",P.clientId).addContext("origin",i(h)).addContext("reason","token_fetch_failed").error(`Failed to get environment token: ${p}`,E),await _.addContext("reason","token_fetch_failed").addContext("error",p).addContext("clientId",P.clientId).addContext("origin",i(h)).audit("client.token.request.failed","environment-token")}async function u(c,h){const f=c.getConfig(),p=(0,t.validateOrigin)(h,f.allowedOrigins);if(!p.valid){const E=`Origin validation failed: ${p.error}`;await a(c,h,E,i(h),f.allowedOrigins)}try{(0,n.resolveControllerUrl)(f);const E=await c.getEnvironmentToken();return await l(c,h,f),E}catch(E){const P=E instanceof Error?E.message:"Unknown error";throw await o(c,h,f,P,E instanceof Error?E.stack:void 0),E}}return Ku}var uc={},Wx;function AO(){if(Wx)return uc;Wx=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.hasConfig=a,uc.createClientTokenEndpoint=_;const t=Ty(),s=bc(),n=Cy(),i=Hd();function a(C){return C.config!==void 0}function l(C){const R=C.match(/status:\s*(\d+)/i)||C.match(/status code\s+(\d+)/i)||C.match(/status\s+(\d+)/i);return R?parseInt(R[1],10):void 0}function o(C){return C.response?{status:C.response.status,isNetworkError:!1}:C.request&&!C.response?{status:void 0,isNetworkError:!0}:{status:void 0,isNetworkError:!1}}function u(C){const R=C instanceof Error?C.message:"Unknown error",x=l(R),w=!1;let v=C;for(let k=0;k<5&&v;k++){if(v&&typeof v=="object"&&"isAxiosError"in v&&v.isAxiosError){const O=o(v);if(O.status!==void 0||O.isNetworkError)return{status:O.status,isNetworkError:O.isNetworkError}}v=v&&typeof v=="object"&&"cause"in v?v.cause:null}return{status:x,isNetworkError:w}}function c(C,R){const x=R||/ECONNREFUSED|ENOTFOUND|ETIMEDOUT|connect|Network Error|network error|getaddrinfo/i.test(C),w=C.includes("Request timeout: Failed to get environment token")||/timeout/i.test(C);return{isNetwork:x,isTimeout:w}}async function h(C,R){const x=new Promise((w,v)=>{setTimeout(()=>v(new Error("Request timeout: Failed to get environment token within 5 seconds")),5e3)});return Promise.race([(0,t.getEnvironmentToken)(R,C),x])}function f(C,R,x,w){const v=C instanceof Error?C.message:"Unknown error";if(v.includes("Origin validation failed")){(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(v,403,R));return}const{status:k,isNetworkError:O}=u(C);if(k){const I=k===401?"Failed to get environment token: Invalid client credentials or application not found":k===403?"Failed to get environment token: Access denied":v;(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(I,k,R));return}const{isNetwork:j,isTimeout:D}=c(v,O);if(j||D){const I=w.getConfig();let H;try{H=(0,s.resolveControllerUrl)(I)}catch{H=I.controllerPrivateUrl||I.controllerUrl||"NOT CONFIGURED"}const G=j?`Controller is unreachable. URL: ${H}.`:`Controller request timed out. URL: ${H}.`;(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(`Failed to get environment token: ${G}`,504,R));return}(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(v,500,R))}function p(C,R,x){const w=R.getConfig(),v=w.controllerPublicUrl||w.controllerUrl;return v?{baseUrl:`${C.protocol}://${C.get("host")||"localhost"}`,controllerUrl:v,controllerPublicUrl:w.controllerPublicUrl,clientId:w.clientId,clientTokenUri:x}:null}function E(C,R,x){const w=C.message;if(w.includes("Origin validation failed")){(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(w,403,R));return}if(/timeout/i.test(w)){(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)("Failed to get environment token: Request timed out",504,R));return}(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(w,500,R))}async function P(C,R,x,w){const v=()=>R.headersSent||R.writableEnded;if(!x.isInitialized()){v()||(0,i.sendErrorResponse)(R,(0,i.createErrorResponse)("MisoClient is not initialized",503,C));return}let k;try{k=await h(C,x)}catch(j){v()||f(j,C,R,x);return}if(!k){v()||(0,i.sendErrorResponse)(R,(0,i.createErrorResponse)("Request timeout: Failed to get environment token",504,C));return}const O={token:k,expiresIn:w.expiresIn};if(w.includeConfig){const j=p(C,x,w.clientTokenUri);if(!j){v()||(0,i.sendErrorResponse)(R,(0,i.createErrorResponse)("Controller URL not configured",500,C));return}O.config=j}v()||R.json(O)}function _(C,R){const x={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...R};return(0,n.asyncHandler)(async(w,v)=>{try{await P(w,v,C,x)}catch(k){!v.headersSent&&!v.writableEnded&&E(k instanceof Error?k:new Error(String(k)),w,v)}},"createClientTokenEndpoint")}return uc}var Vu={},Kx;function IO(){if(Kx)return Vu;Kx=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.loggerContextMiddleware=l;const t=s1(),s=Rd(),n=n1();function i(){return`server-${Date.now()}-${Math.random().toString(36).substring(2,8)}`}function a(o){const u=(0,s.extractRequestContext)(o),c=o.headers.authorization?.replace("Bearer ",""),h=c?(0,n.extractJwtContext)(c):{},f=u.correlationId||i();return{ipAddress:u.ipAddress,method:u.method,path:u.path,userId:u.userId||h.userId,sessionId:u.sessionId||h.sessionId,applicationId:h.applicationId,userAgent:u.userAgent,referer:u.referer,requestSize:u.requestSize,correlationId:f,requestId:u.requestId,token:c}}function l(o,u,c){try{(0,t.setLoggerContext)(a(o)),c()}catch{c()}}return Vu}var Vx;function PO(){return Vx||(Vx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.loggerContextMiddleware=t.hasConfig=t.createClientTokenEndpoint=t.extractClientTokenInfo=t.getEnvironmentToken=t.validateOrigin=t.sendErrorResponse=t.getErrorTitle=t.getErrorTypeUri=t.handleRouteError=t.setErrorLogger=t.createErrorResponse=t.createSuccessResponse=t.AppError=t.ValidationHelper=t.asyncHandlerNamed=t.asyncHandler=t.injectResponseHelpers=t.ResponseHelper=void 0;var s=hT();Object.defineProperty(t,"ResponseHelper",{enumerable:!0,get:function(){return s.ResponseHelper}});var n=RO();Object.defineProperty(t,"injectResponseHelpers",{enumerable:!0,get:function(){return n.injectResponseHelpers}});var i=Cy();Object.defineProperty(t,"asyncHandler",{enumerable:!0,get:function(){return i.asyncHandler}}),Object.defineProperty(t,"asyncHandlerNamed",{enumerable:!0,get:function(){return i.asyncHandlerNamed}});var a=kO();Object.defineProperty(t,"ValidationHelper",{enumerable:!0,get:function(){return a.ValidationHelper}});var l=Fd();Object.defineProperty(t,"AppError",{enumerable:!0,get:function(){return l.AppError}}),Object.defineProperty(t,"createSuccessResponse",{enumerable:!0,get:function(){return l.createSuccessResponse}}),Object.defineProperty(t,"createErrorResponse",{enumerable:!0,get:function(){return l.createErrorResponse}});var o=pT();Object.defineProperty(t,"setErrorLogger",{enumerable:!0,get:function(){return o.setErrorLogger}}),Object.defineProperty(t,"handleRouteError",{enumerable:!0,get:function(){return o.handleRouteError}});var u=Hd();Object.defineProperty(t,"getErrorTypeUri",{enumerable:!0,get:function(){return u.getErrorTypeUri}}),Object.defineProperty(t,"getErrorTitle",{enumerable:!0,get:function(){return u.getErrorTitle}}),Object.defineProperty(t,"sendErrorResponse",{enumerable:!0,get:function(){return u.sendErrorResponse}});var c=mT();Object.defineProperty(t,"validateOrigin",{enumerable:!0,get:function(){return c.validateOrigin}});var h=Ty();Object.defineProperty(t,"getEnvironmentToken",{enumerable:!0,get:function(){return h.getEnvironmentToken}});var f=YC();Object.defineProperty(t,"extractClientTokenInfo",{enumerable:!0,get:function(){return f.extractClientTokenInfo}});var p=AO();Object.defineProperty(t,"createClientTokenEndpoint",{enumerable:!0,get:function(){return p.createClientTokenEndpoint}}),Object.defineProperty(t,"hasConfig",{enumerable:!0,get:function(){return p.hasConfig}});var E=IO();Object.defineProperty(t,"loggerContextMiddleware",{enumerable:!0,get:function(){return E.loggerContextMiddleware}})})(ug)),ug}var On={},Io={},Gx;function gT(){if(Gx)return Io;Gx=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.getCachedEntry=s,Io.setCacheEntry=n,Io.isCacheEnabled=i,Io.getCacheKeyForRequest=a;const t=Dn();function s(l,o,u){const c=l.get(o);return c&&c.expiresAt>Date.now()?(u.cacheHits++,c.data):(u.cacheMisses++,null)}function n(l,o,u,c,h){if(l.set(o,{data:u,expiresAt:Date.now()+c*1e3,key:o}),l.size>h){const f=l.keys().next().value;f&&l.delete(f)}}function i(l,o,u){const c=l.toUpperCase()==="GET";return o?.enabled!==!1&&c&&u?.cache?.enabled!==!1}function a(l,o){return o?.cache?.key||(0,t.generateCacheKey)(l,o)}return Io}var Pi={},Ni={},dc={},Jx;function yT(){if(Jx)return dc;Jx=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.shouldSkipAudit=a,dc.logDataClientAudit=P;const t=jd(),s=La(),n=Dn(),i=Wt();function a(_,C){return C?.enabled?(C.skipEndpoints||[]).some(x=>_.includes(x)):!0}function l(_,C,R){const x=(0,n.truncatePayload)(_,C);return R&&!x.truncated?s.DataMasker.maskSensitiveData(x.data):x.data}function o(_){const C=_.statusCode||_.response?.status,R=_.message||String(_),x=_.code,w=x==="ECONNREFUSED"||x==="ENOTFOUND"||R.includes("ERR_CONNECTION_REFUSED")||R.includes("Failed to fetch")||R.includes("NetworkError")||R.includes("network error");return C===401||!!w}async function u(_,C){if(!_){await C();return}await t.LoggerContextStorage.getInstance().runWithContextAsync({token:_},C)}async function c(_,C,R,x,w){await u(C,async()=>{await _.log.audit(`http.request.${R.toLowerCase()}`,x,w)})}function h(_,C){const R=C.auditConfig?.maxResponseSize||1e4,x=C.auditConfig?.maxMaskingSize||5e4;_.requestBody=C.requestBody!==void 0?l(C.requestBody,x,!0):void 0,_.responseBody=C.responseBody!==void 0?l(C.responseBody,R,!0):void 0,_.requestHeaders=C.requestHeaders?s.DataMasker.maskSensitiveData(C.requestHeaders):void 0,_.responseHeaders=C.responseHeaders?s.DataMasker.maskSensitiveData(C.responseHeaders):void 0}function f(_,C,R){R!=="detailed"&&R!=="full"||(C.requestSize!==void 0&&(_.requestSize=C.requestSize),C.responseSize!==void 0&&(_.responseSize=C.responseSize))}function p(_){const{method:C,url:R,statusCode:x,duration:w}=_,v=_.getToken(),k=v?(0,n.extractUserIdFromToken)(v):void 0,O=_.auditConfig?.level||"standard",j={method:C,url:R,statusCode:x,duration:w,...k&&{userId:k}};return O==="minimal"||(h(j,_),f(j,_,O),_.error&&(j.error=s.DataMasker.maskSensitiveData({message:_.error.message,name:_.error.name,stack:_.error.stack}))),j}async function E(_){const{method:C,url:R,misoClient:x,getToken:w}=_,v=p(_);await c(x,w(),C,R,v)}async function P(_){const{url:C,auditConfig:R,misoClient:x,hasAnyToken:w}=_;if(!(a(C,R)||!x||!w()))try{await E({method:_.method,url:C,statusCode:_.statusCode,duration:_.duration,misoClient:x,auditConfig:R,getToken:_.getToken,requestSize:_.requestSize,responseSize:_.responseSize,error:_.error,requestHeaders:_.requestHeaders,responseHeaders:_.responseHeaders,requestBody:_.requestBody,responseBody:_.responseBody})}catch(v){if(o(v))return;(0,i.writeWarn)(`Failed to log audit event: ${String(v)}`)}}return dc}var Xx;function NO(){if(Xx)return Ni;Xx=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.generateCorrelationId=c,Ni.processSuccessfulResponse=h,Ni.handleNonRetryableError=f,Ni.handleAuthErrorCleanup=p,Ni.waitForRetry=O;const t=cy(),s=Dn(),n=gT(),i=yT(),a=qr(),l=Wt(),o=vT(),u=jd();function c(j){if(j?.log&&typeof j.log.generateCorrelationId=="function")return j.log.generateCorrelationId();const D=Date.now(),I=Math.random().toString(36).substring(2,8);return`${D}-${I}`}async function h(j){const{response:D,data:I,method:H,endpoint:G,startTime:ie,config:he,cache:X,cacheKey:V,cacheEnabled:M,misoClient:W,hasAnyToken:B,getToken:$,interceptors:Y,metrics:te,options:J}=j,ne=Date.now()-ie;if(E(te,ne),_({cacheEnabled:M,response:D,data:I,options:J,config:he,cache:X,cacheKey:V}),Y.onResponse)return await Y.onResponse(D,I);if(await C({response:D,data:I,method:H,endpoint:G,duration:ne,config:he,misoClient:W,hasAnyToken:B,getToken:$,options:J}),!D.ok)throw new t.ApiError(`Request failed with status ${D.status}`,D.status,D);return I}async function f(j){const{error:D,method:I,endpoint:H,startTime:G,statusCode:ie,responseStatus:he,config:X,misoClient:V,hasAnyToken:M,getToken:W,metrics:B,options:$}=j,Y=Date.now()-G;P(B);const te=R(D,H,I,V);throw(0,l.logErrorWithContext)(te,"[DataClient]"),await w({error:D,statusCode:ie||he||401,duration:Y,method:I,endpoint:H,config:X,misoClient:V,hasAnyToken:M,getToken:W,options:$,errorInfo:te,responseStatus:he}),D}function p(j){const{error:D,responseStatus:I,method:H,endpoint:G,startTime:ie,config:he,misoClient:X,hasAnyToken:V,getToken:M,handleAuthError:W,metrics:B,options:$}=j;W(),P(B);const Y=R(D,G,H,X);if((0,l.logErrorWithContext)(Y,"[DataClient] [AUTH]"),!$?.skipAudit){const te=Date.now()-ie;(0,i.logDataClientAudit)({method:H,url:G,statusCode:I,duration:te,misoClient:X,auditConfig:he.audit,hasAnyToken:V,getToken:M,requestSize:$?.body?(0,s.calculateSize)($.body):void 0,error:D,requestHeaders:(0,o.extractHeaders)($?.headers),requestBody:$?.body}).catch(()=>{})}k(X,Y)}function E(j,D){j.totalRequests++,j.responseTimes.push(D)}function P(j){j.totalFailures++}function _(j){const{cacheEnabled:D,response:I,data:H,options:G,config:ie,cache:he,cacheKey:X}=j;if(!D||!I.ok)return;const V=G?.cache?.ttl||ie.cache?.defaultTTL||300;(0,n.setCacheEntry)(he,X,H,V,ie.cache?.maxSize||100)}async function C(j){const{response:D,data:I,method:H,endpoint:G,duration:ie,config:he,misoClient:X,hasAnyToken:V,getToken:M,options:W}=j;W?.skipAudit||await(0,i.logDataClientAudit)({method:H,url:G,statusCode:D.status,duration:ie,misoClient:X,auditConfig:he.audit,hasAnyToken:V,getToken:M,requestSize:W?.body?(0,s.calculateSize)(W.body):void 0,responseSize:(0,s.calculateSize)(I),requestHeaders:(0,o.extractHeaders)(W?.headers),responseHeaders:(0,o.extractHeaders)(D.headers),requestBody:W?.body,responseBody:I})}function R(j,D,I,H){return(0,a.extractErrorInfo)(j,{endpoint:D,method:I,correlationId:c(H)})}function x(j){return j?j>=500?"server-error":j>=400?"client-error":"success":"unknown"}async function w(j){const{error:D,statusCode:I,duration:H,method:G,endpoint:ie,config:he,misoClient:X,hasAnyToken:V,getToken:M,options:W,errorInfo:B,responseStatus:$}=j;if(W?.skipAudit||!X?.log)return;await(0,i.logDataClientAudit)({method:G,url:ie,statusCode:I||$||401,duration:H,misoClient:X,auditConfig:he.audit,hasAnyToken:V,getToken:M,requestSize:W?.body?(0,s.calculateSize)(W.body):void 0,error:D,requestHeaders:(0,o.extractHeaders)(W?.headers),requestBody:W?.body});const Y=x(I||$);await v(X,B,Y)}async function v(j,D,I){try{await u.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:D.correlationId},async()=>{await j.log.error(`Request failed: ${D.message}`,{errorType:D.errorType,errorName:D.errorName,statusCode:D.statusCode,endpoint:D.endpoint,method:D.method,responseBody:D.responseBody},D.stackTrace,{errorCategory:D.errorType.toLowerCase().replace("error",""),httpStatusCategory:I})})}catch{}}function k(j,D){if(!j?.log)return;u.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:D.correlationId},async()=>{await j.log.error(`Authentication error: ${D.message}`,{authFlow:"token_validation_failed",errorType:D.errorType,errorName:D.errorName,statusCode:D.statusCode,endpoint:D.endpoint,method:D.method,responseBody:D.responseBody},D.stackTrace,{errorCategory:"authentication",httpStatusCategory:"client-error"})}).catch(()=>{})}async function O(j,D,I,H){const G=H(j,D,I);await new Promise(ie=>setTimeout(ie,G))}return Ni}var Yx;function vT(){if(Yx)return Pi;Yx=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.extractHeaders=a,Pi.parseResponse=l,Pi.mergeSignals=o,Pi.makeFetchRequest=f,Pi.executeHttpRequest=k;const t=cy(),s=Dn(),n=NO(),i=Wt();function a(O){if(!O)return;if(O instanceof Headers){const D={};return O.forEach((I,H)=>{D[H]=I}),D}if(Array.isArray(O)){const D={};return O.forEach(([I,H])=>{D[I]=String(H)}),D}const j={};return Object.entries(O).forEach(([D,I])=>{j[D]=Array.isArray(I)?I.join(", "):String(I)}),j}async function l(O){const j=O.headers.get("content-type")||"";return j.includes("application/json")?await O.json():j.includes("text/")?await O.text():await O.blob()}function o(O,j){const D=new AbortController,I=()=>{D.abort(),O.removeEventListener("abort",I),j.removeEventListener("abort",I)};return O.aborted||j.aborted?(D.abort(),D.signal):(O.addEventListener("abort",I),j.addEventListener("abort",I),D.signal)}function u(O,j){if(j){if(j instanceof Headers){j.forEach((D,I)=>O.set(I,D));return}Object.entries(j).forEach(([D,I])=>{O.set(D,String(I))})}}function c(O,j){const D=new AbortController,I=setTimeout(()=>D.abort(),O);return typeof I.unref=="function"&&I.unref(),{signal:j?o(D.signal,j):D.signal,timeoutId:I}}function h(O){const{cache:j,skipAuth:D,retries:I,skipAudit:H,timeout:G,...ie}=O||{};return ie}async function f(O,j,D,I,H){const G=new Headers(D.defaultHeaders);if(u(G,H?.headers),!H?.skipAuth){const M=I();M&&G.set("Authorization",`Bearer ${M}`)}const ie=H?.timeout||D.timeout||3e4,{signal:he,timeoutId:X}=c(ie,H?.signal),V=h(H);try{const M=await fetch(j,{method:O,headers:G,body:V.body,signal:he,...V});return clearTimeout(X),M}catch(M){throw clearTimeout(X),M instanceof Error&&M.name==="AbortError"?new t.TimeoutError(`Request timeout after ${ie}ms`,ie):new t.NetworkError(`Network error: ${M instanceof Error?M.message:"Unknown error"}`,M instanceof Error?M:void 0)}}function p(O,j){return{maxRetries:j?.retries!==void 0?j.retries:O.retry?.maxRetries||3,retryEnabled:O.retry?.enabled!==!1,baseDelay:O.retry?.baseDelay||1e3,maxDelay:O.retry?.maxDelay||1e4}}function E(O){return O===401||O===403}function P(O){const j=O;return O instanceof t.AuthenticationError||j.name==="AuthenticationError"||j.statusCode===401||j.statusCode===403}function _(O,j){const D=O.response?.status;return O.statusCode??D??j??void 0}function C(O,j,D,I){const H=O!==void 0&&O>=500&&O<600,G=H?0:j.maxRetries;return j.retryEnabled&&!H&&D<G&&(0,s.isRetryableError)(O,I)}async function R(O){const{responseStatus:j,config:D,refreshUserToken:I,attempt:H,state:G}=O;if(!E(j))return null;if(j===401&&D.onTokenRefresh&&I&&H===0&&!G.tokenRefreshAttempted){G.tokenRefreshAttempted=!0;try{if((await I())?.token)return await new Promise(X=>setTimeout(X,10)),w({...O,attempt:H+1})}catch(he){(0,i.writeWarn)(`Token refresh failed, redirecting to login: ${String(he)}`),G.authErrorDetected=!0}}G.authErrorDetected=!0;const ie=j===401?new t.AuthenticationError("Authentication required",O.response):new t.ApiError("Forbidden",403,O.response);throw(0,n.handleAuthErrorCleanup)({error:ie,responseStatus:j,method:O.method,endpoint:O.endpoint,startTime:O.startTime,config:O.config,misoClient:O.misoClient,hasAnyToken:O.hasAnyToken,getToken:O.getToken,handleAuthError:O.handleAuthError,metrics:O.metrics,options:O.options}),ie}async function x(O){const{error:j,responseStatus:D,state:I,attempt:H,retryConfig:G}=O;if(I.tokenRefreshAttempted&&E(D)||j instanceof t.AuthenticationError||E(D)||P(j))throw I.authErrorDetected=!0,j;const he=_(j,D);if(!C(he,G,H,j)){if(E(he))throw I.authErrorDetected=!0,j;O.metrics.totalFailures++,await(0,n.handleNonRetryableError)({error:j,method:O.method,endpoint:O.endpoint,startTime:O.startTime,statusCode:he,responseStatus:D,config:O.config,misoClient:O.misoClient,hasAnyToken:O.hasAnyToken,getToken:O.getToken,metrics:O.metrics,options:O.options})}if(I.authErrorDetected)throw j;return await(0,n.waitForRetry)(H,G.baseDelay,G.maxDelay,s.calculateBackoffDelay),w({...O,attempt:H+1})}async function w(O){if(O.state.authErrorDetected)throw new t.AuthenticationError("Authentication error detected - should not retry");let j,D;try{D=await f(O.method,O.fullUrl,O.config,O.getToken,O.options),j=D.status;const I=await R({...O,response:D,responseStatus:j});if(I)return I;const H=await l(D);return await(0,n.processSuccessfulResponse)({response:D,data:H,method:O.method,endpoint:O.endpoint,startTime:O.startTime,config:O.config,cache:O.cache,cacheKey:O.cacheKey,cacheEnabled:O.cacheEnabled,misoClient:O.misoClient,hasAnyToken:O.hasAnyToken,getToken:O.getToken,interceptors:O.interceptors,metrics:O.metrics,options:O.options})}catch(I){return x({...O,error:I,responseStatus:j})}}async function v(O,j,D){const I=P(O);throw D.totalFailures++,j.onError&&!I?await j.onError(O):O}async function k(O){const j=p(O.config,O.options),D={authErrorDetected:!1,tokenRefreshAttempted:!1};try{return await w({attempt:0,...O,retryConfig:j,state:D})}catch(I){return v(I,O.interceptors,O.metrics)}}return Pi}var fc={},Gu={},Qx;function OO(){if(Qx)return Gu;Qx=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.handleOAuthCallback=_;const t=Dn(),s=qr(),n=Wt();function i(){try{const C=globalThis;if(!C.window?.location||!C.window.history){(0,n.writeWarn)("[handleOAuthCallback] window not available for hash cleanup");return}const R=C.window.location.pathname+C.window.location.search;C.window.history.replaceState(null,"",R)}catch(C){(0,n.writeWarn)(`[handleOAuthCallback] Failed to clean up hash: ${String(C)}`)}}function a(C){return!C||typeof C!="string"?!1:C.trim().length>=5}function l(C){return C==="localhost"||C==="127.0.0.1"||C==="[::1]"||C.startsWith("192.168.")||C.startsWith("10.")||/^172\.(1[6-9]|2[0-9]|3[0-1])\./.test(C)}function o(C){try{return new URLSearchParams(C.substring(1))}catch(R){return(0,n.writeWarn)(`[handleOAuthCallback] Failed to parse hash: ${String(R)}`),null}}function u(C){return C.get("token")||C.get("access_token")||C.get("accessToken")}function c(C){(0,n.writeErr)(`[handleOAuthCallback] Invalid token format - token rejected: ${JSON.stringify({tokenLength:C.length,isEmpty:!C||C.trim().length===0,tooShort:C.length>0&&C.length<5,expectedFormat:"Non-empty string with at least 5 characters"})}`),i()}function h(C,R){return C==="https:"?!0:l(R)}function f(C,R){C.forEach(x=>{try{(0,t.setLocalStorage)(x,R)}catch(w){(0,n.writeWarn)(`[handleOAuthCallback] Failed to store token in key ${x}: ${String(w)}`)}})}function p(){const C=globalThis;return C.window?.location?{hash:C.window.location.hash,protocol:C.window.location.protocol,hostname:C.window.location.hostname||"",pathname:C.window.location.pathname||"/"}:null}function E(C){if(!C||C.length<=1)return null;const R=o(C);if(!R)return null;const x=u(R);return x?a(x)?x:(c(x),null):null}function P(C,R,x){C&&(0,n.writeWarn)(`[handleOAuthCallback] OAuth token extracted and stored securely: ${JSON.stringify({tokenLength:R.length,tokenKeys:x,storedInKeys:x.length})}`)}function _(C){if(!(0,t.isBrowser)())return null;const R=p();if(!R)return null;const x=E(R.hash);if(!x)return null;if(!h(R.protocol,R.hostname))return(0,n.writeErr)("[handleOAuthCallback] SECURITY WARNING: Token received over HTTP in production"),i(),null;i();const w=C.tokenKeys||["token","accessToken","authToken"];try{return f(w,x),P(C.misoConfig?.logLevel==="debug",x,w),x}catch(v){const k=v instanceof Error?v:new Error(String(v));return(0,n.logErrorWithContext)((0,s.extractErrorInfo)(k,{endpoint:R.pathname,method:"GET"}),"[DataClient] [AUTH] [OAuthCallback]"),(0,n.writeErr)(`[handleOAuthCallback] Failed to store token: ${String(v)}`),null}}return Gu}var Ta={},Zx;function ET(){if(Zx)return Ta;Zx=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.getValidatedRedirectUrl=a,Ta.redirectToLogin=o,Ta.logout=p;const t=wT(),s=Dn(),n=Wt();function i(E){if(!E||typeof E!="string"||E.trim()==="")return null;const P=E.trim(),_=["javascript:","data:","vbscript:","file:","about:"],C=P.toLowerCase();for(const w of _)if(C.startsWith(w))return null;let R;try{if(P.startsWith("/")||!P.includes("://")){const w=globalThis.window.location.origin;R=new URL(P,w)}else R=new URL(P)}catch{return null}return R.protocol!=="http:"&&R.protocol!=="https:"?null:R.href}function a(E,P){const _=i(E);if(_)return _;if(P){const C=i(P);if(C)return C}return null}function l(E){const P=E.loginUrl||"/login";return P.startsWith("/api/")?((0,n.writeWarn)(`âš ï¸ Warning: loginUrl is set to an API endpoint (${P}). redirectToLogin() should redirect to a login PAGE (e.g., '/login'), not an API endpoint. Using default '/login'.`),"/login"):P}async function o(E,P,_){if(!(0,s.isBrowser)())return;const C=u().href,R=_||C,x=(0,t.getControllerUrl)(E.misoConfig);if(!x){const O=new Error("Controller URL is not configured. Please configure controllerUrl or controllerPublicUrl in your DataClient configuration.");throw O.details={hasMisoConfig:!!E.misoConfig,controllerUrl:E.misoConfig?.controllerUrl,controllerPublicUrl:E.misoConfig?.controllerPublicUrl,controllerPrivateUrl:E.misoConfig?.controllerPrivateUrl},O}const w=await P(),v=l(E),k=/^https?:\/\//i.test(v)?new URL(v):new URL(v,x);k.searchParams.set("redirect",R),w&&k.searchParams.set("x-client-token",w),c(k.toString())}function u(){return globalThis.window.location}function c(E){u().href=E}function h(E){const P=globalThis.localStorage;P&&E.forEach(_=>{try{P.removeItem(_)}catch{}})}function f(E){if(/^https?:\/\//i.test(E))return E;const P=u().origin,_=E.startsWith("/")?E:`/${E}`;return`${P}${_}`}async function p(E,P,_,C,R,x){if(!(0,s.isBrowser)())return;const w=P(),v=await _();h(E.tokenKeys||["token","accessToken","authToken"]),C();const k=(0,t.getControllerUrl)(E.misoConfig),O=R||E.logoutUrl||E.loginUrl||"/login";if(!k){const I=f(O),H=a(I);H&&c(H);return}const j=E.logoutUrl||E.loginUrl||"/logout",D=/^https?:\/\//i.test(j)?new URL(j):new URL(j,k);D.searchParams.set("redirect",f(O)),v&&D.searchParams.set("x-client-token",v),w&&D.searchParams.set("token",w),c(D.toString())}return Ta}var eC;function wT(){return eC||(eC=1,(function(t){var s=fc&&fc.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.redirectToLogin=t.handleOAuthCallback=void 0,t.getToken=f,t.hasClientToken=p,t.hasAnyToken=E,t.getControllerUrl=P,t.getClientToken=k,t.getEnvironmentToken=M,t.getClientTokenInfo=W;const n=Dn(),i=fT(),a=s(Pc()),l=yT(),o=qr(),u=Wt(),c=jd();var h=OO();Object.defineProperty(t,"handleOAuthCallback",{enumerable:!0,get:function(){return h.handleOAuthCallback}});function f(B){if(!(0,n.isBrowser)())return null;const $=B||["token","accessToken","authToken"];for(const Y of $){const te=(0,n.getLocalStorage)(Y);if(te)return te}return null}function p(B,$){if(!(0,n.isBrowser)())return!!(B&&$?.clientSecret);if((0,n.getLocalStorage)("miso:client-token")){const te=(0,n.getLocalStorage)("miso:client-token-expires-at");if(te&&parseInt(te,10)>Date.now())return!0}return!!($?.clientToken||$?.onClientTokenRefresh||$?.clientSecret)}function E(B,$,Y){return f(B)!==null||p($||null,Y)}function P(B){return B&&(B.controllerPublicUrl||B.controllerUrl)||null}function _(B,$){B&&(0,u.writeWarn)($)}function C(){(0,n.removeLocalStorage)("miso:client-token"),(0,n.removeLocalStorage)("miso:client-token-expires-at")}function R(B,$,Y){return B?v(B,$)?(_(Y,"[getClientToken] Returning valid cached token"),B):(_(Y,"[getClientToken] Token expired, removing from cache"),C(),null):null}async function x(B,$){try{_(B,"[getClientToken] Fetching new token via getEnvironmentToken()");const Y=await $();return _(B,`[getClientToken] Got new token, length: ${Y?.length}`),Y}catch(Y){return(0,u.writeErr)(`[getClientToken] Failed to get environment token: ${JSON.stringify({method:"POST",path:"/api/v1/auth/token",errorMessage:Y instanceof Error?Y.message:String(Y),stackTrace:Y instanceof Error?Y.stack:void 0})}`),null}}function w(B){try{const $=a.default.decode(B);return $?.exp?$.exp*1e3:null}catch{return null}}function v(B,$){if(!B)return!1;const Y=Date.now();if($){const J=parseInt($,10);return!(!isNaN(J)&&J<=Y)}const te=w(B);return!(te&&te<=Y)}async function k(B,$,Y){if(!(0,n.isBrowser)())return null;const te=B?.logLevel==="debug",J=(0,n.getLocalStorage)("miso:client-token"),ne=(0,n.getLocalStorage)("miso:client-token-expires-at");_(te,`[getClientToken] Cache check: ${JSON.stringify({hasToken:!!J,hasExpiresAt:!!ne})}`);const ue=R(J,ne,te);return ue||(B?.clientToken?(_(te,"[getClientToken] Returning token from config"),B.clientToken):x(te,Y))}var O=ET();Object.defineProperty(t,"redirectToLogin",{enumerable:!0,get:function(){return O.redirectToLogin}}),Object.defineProperty(t,"logout",{enumerable:!0,get:function(){return O.logout}});const j="miso:client-token",D="miso:client-token-expires-at";function I(){const B=(0,n.getLocalStorage)(j),$=(0,n.getLocalStorage)(D);return!B||!$?null:parseInt($,10)<=Date.now()?((0,n.removeLocalStorage)(j),(0,n.removeLocalStorage)(D),null):B}function H(B){const $=B.data?.token||B.token||B.accessToken||B.access_token;if(!$||typeof $!="string")throw new Error("Invalid response format: token not found in response");const te=B.data?.expiresIn??B.expiresIn??B.expires_in??3600;return{token:$,expiresIn:Number(te)}}async function G(B,$,Y,te){if(!(0,l.shouldSkipAudit)($,te.audit))try{await B.log.audit("client.token.request.success",$,{method:"POST",url:$,statusCode:Y,cached:!1},{})}catch{}}async function ie(B,$,Y,te){if(!(0,l.shouldSkipAudit)(te,$.audit))try{await c.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:Y.correlationId},async()=>{await B.log.audit("client.token.request.failed",te,{method:"POST",url:te,statusCode:Y.statusCode||0,error:Y.message,cached:!1,errorType:Y.errorType,errorName:Y.errorName},{errorCategory:"authentication",httpStatusCategory:Y.statusCode&&Y.statusCode>=500?"server-error":"client-error"})})}catch{}}function he(B){const $=B.misoConfig?.clientTokenUri||"/api/v1/auth/client-token",Y=/^https?:\/\//i.test($)?$:`${B.baseUrl}${$}`;return{clientTokenUri:$,fullUrl:Y}}function X(B,$){const Y=Date.now()+$*1e3;(0,n.setLocalStorage)(j,B),(0,n.setLocalStorage)(D,Y.toString())}async function V(B){const $=await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!$.ok){const te=await $.text();throw new Error(`Failed to get environment token: ${$.status} ${$.statusText}. ${te}`)}const Y=await $.json();return{response:$,data:Y}}async function M(B,$){if(!(0,n.isBrowser)())throw new Error("getEnvironmentToken() is only available in browser environment");const Y=I();if(Y)return Y;const{clientTokenUri:te,fullUrl:J}=he(B);try{const{response:ne,data:ue}=await V(J),{token:ge,expiresIn:ve}=H(ue);return X(ge,ve),$&&await G($,te,ne.status,B),ge}catch(ne){const ue=(0,o.extractErrorInfo)(ne,{endpoint:te,method:"POST",correlationId:$?.log?.generateCorrelationId?.()});throw(0,u.logErrorWithContext)(ue,"[DataClient] [AUTH] [ClientToken]"),$&&await ie($,B,ue,te),ne}}function W(B){if(!(0,n.isBrowser)())return null;const $=(0,n.getLocalStorage)("miso:client-token");if($)return(0,i.extractClientTokenInfo)($);const Y=B?.clientToken;return Y?(0,i.extractClientTokenInfo)(Y):null}})(fc)),fc}var Po={},tC;function jO(){if(tC)return Po;tC=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.createMisoConfigWithRefresh=f,Po.initializeBrowserServices=p,Po.warnIfClientSecretInBrowser=E,Po.createDefaultConfig=P;const t=uT(),s=dT(),n=Jg(),i=ly(),a=Zg(),l=E1(),o=nd(),u=Gg(),c=Dn(),h=Wt();function f(_,C){if(_.misoConfig)return{..._.misoConfig,onClientTokenRefresh:_.misoConfig.onClientTokenRefresh||((0,c.isBrowser)()&&!_.misoConfig.clientSecret?async()=>{const R=await C();if(!R)throw new Error("Failed to get client token");const x=(0,c.getLocalStorage)("miso:client-token-expires-at"),w=x?parseInt(x,10):Date.now()+36e5,v=Math.floor((w-Date.now())/1e3);return{token:R,expiresIn:v>0?v:3600}}:void 0)}}function p(_,C){if(!_||!C)return{permissionService:null,roleService:null};const R=new a.InternalHttpClient(C),x=new u.RedisService(C.redis),w=new o.LoggerService(R,x),v=new i.HttpClient(C,w);w.setHttpClient(v);const k=new l.ApiClient(v);w.setApiClient(k);const O=new n.CacheService(void 0),j=new t.BrowserPermissionService(v,k,O),D=new s.BrowserRoleService(v,k,O);return{permissionService:j,roleService:D}}function E(_){(0,c.isBrowser)()&&_.misoConfig?.clientSecret&&(0,h.writeWarn)("âš ï¸ SECURITY WARNING: clientSecret detected in browser environment. Client secrets should NEVER be exposed in client-side code. Use the client token pattern instead (clientToken + onClientTokenRefresh). See documentation for browser-safe configuration.")}function P(_){return{tokenKeys:["token","accessToken","authToken"],loginUrl:"/login",timeout:3e4,cache:{enabled:!0,defaultTTL:300,maxSize:100},retry:{enabled:!0,maxRetries:3,baseDelay:1e3,maxDelay:1e4},audit:{enabled:!0,level:"standard",batchSize:10,maxResponseSize:1e4,maxMaskingSize:5e4,skipEndpoints:[]},..._}}return Po}var ei={},rC;function LO(){if(rC)return ei;rC=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.getPermissions=t,ei.hasPermission=s,ei.hasAnyPermission=n,ei.hasAllPermissions=i,ei.refreshPermissions=a,ei.clearPermissionsCache=l;async function t(o,u,c,h){if(!u||!o)return[];const f=h||c();return f?o.getPermissions(f):[]}async function s(o,u,c,h,f){if(!u||!o)return!1;const p=f||c();return p?o.hasPermission(p,h):!1}async function n(o,u,c,h,f){if(!u||!o)return!1;const p=f||c();return p?o.hasAnyPermission(p,h):!1}async function i(o,u,c,h,f){if(!u||!o)return!1;const p=f||c();return p?o.hasAllPermissions(p,h):!1}async function a(o,u,c,h){if(!u||!o)return[];const f=h||c();return f?o.refreshPermissions(f):[]}async function l(o,u,c,h){if(!u||!o)return;const f=h||c();if(f)return o.clearPermissionsCache(f)}return ei}var ti={},nC;function DO(){if(nC)return ti;nC=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.getRoles=t,ti.hasRole=s,ti.hasAnyRole=n,ti.hasAllRoles=i,ti.refreshRoles=a,ti.clearRolesCache=l;async function t(o,u,c,h){if(!u||!o)return[];const f=h||c();return f?o.getRoles(f):[]}async function s(o,u,c,h,f){if(!u||!o)return!1;const p=f||c();return p?o.hasRole(p,h):!1}async function n(o,u,c,h,f){if(!u||!o)return!1;const p=f||c();return p?o.hasAnyRole(p,h):!1}async function i(o,u,c,h,f){if(!u||!o)return!1;const p=f||c();return p?o.hasAllRoles(p,h):!1}async function a(o,u,c,h){if(!u||!o)return[];const f=h||c();return f?o.refreshRoles(f):[]}async function l(o,u,c,h){if(!u||!o)return;const f=h||c();if(f)return o.clearRolesCache(f)}return ti}var sC;function ST(){if(sC)return On;sC=1;var t=On&&On.__createBinding||(Object.create?(function(x,w,v,k){k===void 0&&(k=v);var O=Object.getOwnPropertyDescriptor(w,v);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(x,k,O)}):(function(x,w,v,k){k===void 0&&(k=v),x[k]=w[v]})),s=On&&On.__setModuleDefault||(Object.create?(function(x,w){Object.defineProperty(x,"default",{enumerable:!0,value:w})}):function(x,w){x.default=w}),n=On&&On.__importStar||(function(){var x=function(w){return x=Object.getOwnPropertyNames||function(v){var k=[];for(var O in v)Object.prototype.hasOwnProperty.call(v,O)&&(k[k.length]=O);return k},x(w)};return function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var k=x(w),O=0;O<k.length;O++)k[O]!=="default"&&t(v,w,k[O]);return s(v,w),v}})();Object.defineProperty(On,"__esModule",{value:!0}),On.DataClient=void 0,On.dataClient=R;const i=bT(),a=La(),l=Dn(),o=gT(),u=vT(),c=wT(),h=ET(),f=jO(),p=Wt(),E=n(LO()),P=n(DO());class _{constructor(w){this.misoClient=null,this.cache=new Map,this.pendingRequests=new Map,this.failedRequests=new Map,this.interceptors={},this.metrics={totalRequests:0,totalFailures:0,responseTimes:[],cacheHits:0,cacheMisses:0},this.permissionService=null,this.roleService=null,this.config=(0,f.createDefaultConfig)(w),(0,f.warnIfClientSecretInBrowser)(this.config);const v=(0,f.createMisoConfigWithRefresh)(this.config,()=>this.getEnvironmentToken());v&&(this.misoClient=new i.MisoClient(v)),this.config.misoConfig?.sensitiveFieldsConfig&&a.DataMasker.setConfigPath(this.config.misoConfig.sensitiveFieldsConfig);const k=(0,f.initializeBrowserServices)(this.misoClient,v);this.permissionService=k.permissionService,this.roleService=k.roleService,(0,l.isBrowser)()&&this.handleOAuthCallback()}getToken(){return(0,c.getToken)(this.config.tokenKeys)}hasClientToken(){return(0,c.hasClientToken)(this.misoClient,this.config.misoConfig)}hasAnyToken(){return(0,c.hasAnyToken)(this.config.tokenKeys,this.misoClient,this.config.misoConfig)}async getClientToken(){return(0,c.getClientToken)(this.config.misoConfig,this.config.baseUrl,()=>this.getEnvironmentToken())}getControllerUrl(){return(0,c.getControllerUrl)(this.config.misoConfig)}isAuthenticated(){return this.getToken()!==null}handleOAuthCallback(){return(0,c.handleOAuthCallback)(this.config)}async redirectToLogin(w){return(0,h.redirectToLogin)(this.config,()=>this.getClientToken(),w)}async logout(w){return(0,c.logout)(this.config,()=>this.getToken(),()=>this.getClientToken(),()=>this.clearCache(),w,this.misoClient)}setInterceptors(w){this.interceptors={...this.interceptors,...w}}setAuditConfig(w){this.config.audit={...this.config.audit,...w}}setLogLevel(w){if(this.misoClient&&this.config.misoConfig){this.config.misoConfig.logLevel=w;try{const v=this.misoClient.config;v&&(v.logLevel=w)}catch{}}}clearCache(){this.cache.clear()}getMetrics(){const w=(this.metrics.responseTimes||[]).sort((k,O)=>k-O),v=w.length;return{totalRequests:this.metrics.totalRequests,totalFailures:this.metrics.totalFailures,averageResponseTime:v>0?w.reduce((k,O)=>k+O,0)/v:0,responseTimeDistribution:{min:v>0?w[0]:0,max:v>0?w[v-1]:0,p50:v>0?w[Math.floor(v*.5)]:0,p95:v>0?w[Math.floor(v*.95)]:0,p99:v>0?w[Math.floor(v*.99)]:0},errorRate:this.metrics.totalRequests>0?this.metrics.totalFailures/this.metrics.totalRequests:0,cacheHitRate:this.metrics.cacheHits+this.metrics.cacheMisses>0?this.metrics.cacheHits/(this.metrics.cacheHits+this.metrics.cacheMisses):0}}checkCircuitBreaker(w){const v=this.failedRequests.get(w);if(!v)return;const k=Date.now()-v.timestamp,O=v.count||1;if(k<(O===1?5e3:O===2?15e3:3e4))throw v.error;this.failedRequests.delete(w)}recordFailure(w,v){const k=this.failedRequests.get(w),O=k?(k.count||1)+1:1;this.failedRequests.set(w,{timestamp:Date.now(),error:v,count:O});const j=setTimeout(()=>this.failedRequests.delete(w),3e4);typeof j.unref=="function"&&j.unref()}executeRequest(w){return(0,u.executeHttpRequest)({...w,config:this.config,cache:this.cache,misoClient:this.misoClient,hasAnyToken:()=>this.hasAnyToken(),getToken:()=>this.getToken(),handleAuthError:()=>this.handleAuthError(),refreshUserToken:()=>this.refreshUserToken(),interceptors:this.interceptors,metrics:this.metrics})}getCachedResponse(w,v){return w?(0,o.getCachedEntry)(this.cache,v,this.metrics):null}getPendingGetRequest(w,v){if(!w)return null;const k=this.pendingRequests.get(v);return k||null}createRequestPromise(w,v,k){const O=w?(async()=>{try{return await this.executeRequest(k)}finally{this.pendingRequests.delete(v)}})():this.executeRequest(k);return w&&this.pendingRequests.set(v,O),O}async resolveRequestPromise(w,v){try{const k=await w;return this.failedRequests.delete(v),k}catch(k){throw this.recordFailure(v,k),k}}async request(w,v,k){const O=Date.now(),j=`${this.config.baseUrl}${v}`,D=(0,o.getCacheKeyForRequest)(v,{...k,method:w.toUpperCase()}),I=w.toUpperCase()==="GET",H=(0,o.isCacheEnabled)(w,this.config.cache,k);this.checkCircuitBreaker(D);const G=this.getCachedResponse(H,D);if(G!==null)return G;const ie=this.getPendingGetRequest(I,D);if(ie)return ie;const he={method:w,fullUrl:j,endpoint:v,cacheKey:D,cacheEnabled:H,startTime:O,options:k},X=this.createRequestPromise(I,D,he);return this.resolveRequestPromise(X,D)}async refreshUserToken(){if(!this.config.onTokenRefresh)return null;try{const w=await this.config.onTokenRefresh();if((0,l.isBrowser)()&&w.token){const{setLocalStorage:v}=await Promise.resolve().then(()=>n(Dn()));for(const k of this.config.tokenKeys||["token","accessToken","authToken"])v(k,w.token)}return w}catch(w){return(0,p.writeErr)(`Token refresh failed: ${String(w)}`),null}}handleAuthError(){(0,l.isBrowser)()&&this.redirectToLogin().catch(w=>(0,p.writeErr)(`Failed to redirect to login: ${String(w)}`))}async applyRequestInterceptor(w,v){return this.interceptors.onRequest?await this.interceptors.onRequest(w,v):v}async get(w,v){const k=await this.applyRequestInterceptor(w,{...v,method:"GET"});return this.request("GET",w,k)}async post(w,v,k){const O=await this.applyRequestInterceptor(w,{...k,method:"POST",body:v?JSON.stringify(v):void 0,headers:{"Content-Type":"application/json",...k?.headers}});return this.request("POST",w,O)}async put(w,v,k){const O=await this.applyRequestInterceptor(w,{...k,method:"PUT",body:v?JSON.stringify(v):void 0,headers:{"Content-Type":"application/json",...k?.headers}});return this.request("PUT",w,O)}async patch(w,v,k){const O=await this.applyRequestInterceptor(w,{...k,method:"PATCH",body:v?JSON.stringify(v):void 0,headers:{"Content-Type":"application/json",...k?.headers}});return this.request("PATCH",w,O)}async delete(w,v){const k=await this.applyRequestInterceptor(w,{...v,method:"DELETE"});return this.request("DELETE",w,k)}async getPermissions(w){return E.getPermissions(this.permissionService,this.misoClient,()=>this.getToken(),w)}async hasPermission(w,v){return E.hasPermission(this.permissionService,this.misoClient,()=>this.getToken(),w,v)}async hasAnyPermission(w,v){return E.hasAnyPermission(this.permissionService,this.misoClient,()=>this.getToken(),w,v)}async hasAllPermissions(w,v){return E.hasAllPermissions(this.permissionService,this.misoClient,()=>this.getToken(),w,v)}async refreshPermissions(w){return E.refreshPermissions(this.permissionService,this.misoClient,()=>this.getToken(),w)}async clearPermissionsCache(w){return E.clearPermissionsCache(this.permissionService,this.misoClient,()=>this.getToken(),w)}async getRoles(w){return P.getRoles(this.roleService,this.misoClient,()=>this.getToken(),w)}async hasRole(w,v){return P.hasRole(this.roleService,this.misoClient,()=>this.getToken(),w,v)}async hasAnyRole(w,v){return P.hasAnyRole(this.roleService,this.misoClient,()=>this.getToken(),w,v)}async hasAllRoles(w,v){return P.hasAllRoles(this.roleService,this.misoClient,()=>this.getToken(),w,v)}async refreshRoles(w){return P.refreshRoles(this.roleService,this.misoClient,()=>this.getToken(),w)}async clearRolesCache(w){return P.clearRolesCache(this.roleService,this.misoClient,()=>this.getToken(),w)}async validateToken(w){if(!this.misoClient)return!1;const v=w||this.getToken();return v?this.misoClient.validateToken(v):!1}async getUser(w){if(!this.misoClient)return null;const v=w||this.getToken();return v?this.misoClient.getUser(v):null}async getUserInfo(w){if(!this.misoClient)return null;const v=w||this.getToken();return v?this.misoClient.getUserInfo(v):null}async isAuthenticatedAsync(w){return this.validateToken(w)}async getEnvironmentToken(){return(0,c.getEnvironmentToken)(this.config,this.misoClient)}getClientTokenInfo(){return(0,c.getClientTokenInfo)(this.config.misoConfig)}}On.DataClient=_;let C=null;function R(x){if(!C&&x&&(C=new _(x)),!C)throw new Error("DataClient not initialized. Call dataClient(config) first.");return C}return On}var hc={},pc={},iC;function UO(){if(iC)return pc;iC=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.hasConfig=a,pc.createClientTokenEndpoint=_;const t=Ty(),s=bc(),n=Cy(),i=Hd();function a(C){return C.config!==void 0}function l(C){const R=C.match(/status:\s*(\d+)/i)||C.match(/status code\s+(\d+)/i)||C.match(/status\s+(\d+)/i);return R?parseInt(R[1],10):void 0}function o(C){return C.response?{status:C.response.status,isNetworkError:!1}:C.request&&!C.response?{status:void 0,isNetworkError:!0}:{status:void 0,isNetworkError:!1}}function u(C){const R=C instanceof Error?C.message:"Unknown error",x=l(R),w=!1;let v=C;for(let k=0;k<5&&v;k++){if(v&&typeof v=="object"&&"isAxiosError"in v&&v.isAxiosError){const O=o(v);if(O.status!==void 0||O.isNetworkError)return{status:O.status,isNetworkError:O.isNetworkError}}v=v&&typeof v=="object"&&"cause"in v?v.cause:null}return{status:x,isNetworkError:w}}function c(C,R){const x=R||/ECONNREFUSED|ENOTFOUND|ETIMEDOUT|connect|Network Error|network error|getaddrinfo/i.test(C),w=C.includes("Request timeout: Failed to get environment token")||/timeout/i.test(C);return{isNetwork:x,isTimeout:w}}async function h(C,R){const x=new Promise((w,v)=>{setTimeout(()=>v(new Error("Request timeout: Failed to get environment token within 5 seconds")),5e3)});return Promise.race([(0,t.getEnvironmentToken)(R,C),x])}function f(C,R,x,w){const v=C instanceof Error?C.message:"Unknown error";if(v.includes("Origin validation failed")){(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(v,403,R));return}const{status:k,isNetworkError:O}=u(C);if(k){const I=k===401?"Failed to get environment token: Invalid client credentials or application not found":k===403?"Failed to get environment token: Access denied":v;(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(I,k,R));return}const{isNetwork:j,isTimeout:D}=c(v,O);if(j||D){const I=w.getConfig();let H;try{H=(0,s.resolveControllerUrl)(I)}catch{H=I.controllerPrivateUrl||I.controllerUrl||"NOT CONFIGURED"}const G=j?`Controller is unreachable. URL: ${H}.`:`Controller request timed out. URL: ${H}.`;(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(`Failed to get environment token: ${G}`,504,R));return}(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(v,500,R))}function p(C,R,x){const w=R.getConfig(),v=w.controllerPublicUrl||w.controllerUrl;return v?{baseUrl:`${C.protocol}://${C.get("host")||"localhost"}`,controllerUrl:v,controllerPublicUrl:w.controllerPublicUrl,clientId:w.clientId,clientTokenUri:x}:null}function E(C,R,x){const w=C.message;if(w.includes("Origin validation failed")){(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(w,403,R));return}if(/timeout/i.test(w)){(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)("Failed to get environment token: Request timed out",504,R));return}(0,i.sendErrorResponse)(x,(0,i.createErrorResponse)(w,500,R))}async function P(C,R,x,w){const v=()=>R.headersSent||R.writableEnded;if(!x.isInitialized()){v()||(0,i.sendErrorResponse)(R,(0,i.createErrorResponse)("MisoClient is not initialized",503,C));return}let k;try{k=await h(C,x)}catch(j){v()||f(j,C,R,x);return}if(!k){v()||(0,i.sendErrorResponse)(R,(0,i.createErrorResponse)("Request timeout: Failed to get environment token",504,C));return}const O={token:k,expiresIn:w.expiresIn};if(w.includeConfig){const j=p(C,x,w.clientTokenUri);if(!j){v()||(0,i.sendErrorResponse)(R,(0,i.createErrorResponse)("Controller URL not configured",500,C));return}O.config=j}v()||R.json(O)}function _(C,R){const x={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...R};return(0,n.asyncHandler)(async(w,v)=>{try{await P(w,v,C,x)}catch(k){!v.headersSent&&!v.writableEnded&&E(k instanceof Error?k:new Error(String(k)),w,v)}},"createClientTokenEndpoint")}return pc}var oC;function $O(){if(oC)return hc;oC=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.getCachedDataClientConfig=a,hc.autoInitializeDataClient=x;const t=ST(),s=Dn(),n=UO();function i(){if(!(0,s.isBrowser)())return null;try{const w=(0,s.getLocalStorage)("miso:dataclient-config");if(!w)return null;const v=JSON.parse(w);return v.expiresAt&&v.expiresAt<Date.now()?((0,s.removeLocalStorage)("miso:dataclient-config"),null):v}catch{return(0,s.removeLocalStorage)("miso:dataclient-config"),null}}function a(){return i()?.config||null}function l(w,v){if((0,s.isBrowser)())try{const k={config:w,expiresAt:Date.now()+v*1e3};(0,s.setLocalStorage)("miso:dataclient-config",JSON.stringify(k))}catch{}}function o(w,v){return/^https?:\/\//i.test(v)?v:`${w}${v}`}function u(w){const v=new AbortController,k=setTimeout(()=>v.abort(),w);return typeof k.unref=="function"&&k.unref(),{controller:v,timeoutId:k}}function c(w,v,k){const O=w instanceof Error?w.message:String(w);return(w instanceof Error?w.name:"Unknown")==="AbortError"||O.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${k}ms. Please check if the server is running and accessible at ${v}`):O.includes("ERR_EMPTY_RESPONSE")||O.includes("empty response")?new Error(`Connection error: The server closed the connection without sending a response. Please check if the server is running and accessible at ${v}`):O.includes("Failed to fetch")||O.includes("network")?new Error(`Network error: Cannot connect to ${v}. Please check your network connection and ensure the server is running.`):new Error(`Failed to fetch config: ${O}`)}async function h(w,v,k,O){const{controller:j,timeoutId:D}=u(k);try{const I=await fetch(w,{method:v,headers:O,credentials:"include",signal:j.signal});return clearTimeout(D),I}catch(I){throw clearTimeout(D),c(I,w,k)}}async function f(w,v){const k=await h(w,"POST",v,{"Content-Type":"application/json"});return k.status!==405?k:h(w,"GET",v)}function p(w){if(typeof w=="string")return w;if(w&&typeof w=="object"){const v=w;if(typeof v.suggestion=="string")return v.suggestion;if(typeof v.controllerUrl=="string")return`Controller URL: ${v.controllerUrl}`}}async function E(w){const v=await w.json().catch(()=>null);if(!v)return{message:`Failed to fetch config: ${w.status} ${w.statusText}`};const k=(typeof v.message=="string"?v.message:null)||(typeof v.error=="string"?v.error:null)||`Failed to fetch config: ${w.status} ${w.statusText}`,O=v.details?p(v.details):void 0;return{message:k,details:O}}async function P(w){let v=`Failed to fetch config: ${w.status} ${w.statusText}`,k;try{if(w.headers.get("content-type")?.includes("application/json")){const j=await E(w);v=j.message,k=j.details}else{const j=await w.text().catch(()=>"Unable to read error response");j&&j!=="Unable to read error response"&&(v=`${v}. ${j}`)}}catch{const O=await w.text().catch(()=>"");O&&(v=`${v}. ${O}`)}return k?`${v}. ${k}`:v}async function _(w,v){const k=o(w,v),O=3e4;try{const j=await f(k,O);if(!j.ok)throw new Error(await P(j));const D=await j.json();if(!(0,n.hasConfig)(D))throw new Error("Invalid response format: config not found in response. Make sure your server endpoint uses createClientTokenEndpoint() helper.");return D.config}catch(j){throw j instanceof Error?j:new Error(`Network error: ${String(j)}`)}}function C(w){const v=w.baseUrl||((0,s.isBrowser)()?globalThis.window.location.origin:"");if(!v)throw new Error("Unable to detect baseUrl. Please provide baseUrl option.");return v}function R(w){return{baseUrl:w.baseUrl,misoConfig:{clientId:w.clientId,controllerUrl:w.controllerUrl,controllerPublicUrl:w.controllerPublicUrl,clientTokenUri:w.clientTokenUri}}}async function x(w){if(!(0,s.isBrowser)())throw new Error("autoInitializeDataClient() is only available in browser environment");const v={clientTokenUri:w?.clientTokenUri||"/api/v1/auth/client-token",cacheConfig:w?.cacheConfig??!0,baseUrl:w?.baseUrl,onError:w?.onError};try{const k=C(v);let O=v.cacheConfig?i()?.config??null:null;return O||(O=await _(k,v.clientTokenUri),v.cacheConfig&&l(O,1800)),new t.DataClient(R(O))}catch(k){const O=k instanceof Error?k:new Error(String(k));throw v.onError?.(O),O}}return hc}var aC;function MO(){return aC||(aC=1,(function(t){var s=To&&To.__createBinding||(Object.create?(function(V,M,W,B){B===void 0&&(B=W);var $=Object.getOwnPropertyDescriptor(M,W);(!$||("get"in $?!M.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return M[W]}}),Object.defineProperty(V,B,$)}):(function(V,M,W,B){B===void 0&&(B=W),V[B]=M[W]})),n=To&&To.__exportStar||function(V,M){for(var W in V)W!=="default"&&!Object.prototype.hasOwnProperty.call(M,W)&&s(M,V,W)};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenValidationService=t.getCachedDataClientConfig=t.autoInitializeDataClient=t.dataClient=t.DataClient=t.loggerContextMiddleware=t.hasConfig=t.createClientTokenEndpoint=t.sendErrorResponse=t.getErrorTitle=t.getErrorTypeUri=t.handleRouteError=t.setErrorLogger=t.createErrorResponse=t.createSuccessResponse=t.AppError=t.ValidationHelper=t.asyncHandlerNamed=t.asyncHandler=t.injectResponseHelpers=t.ResponseHelper=t.APPLICATION_STATUS_VALUES=t.EncryptionError=t.EncryptionService=t.handleApiError=t.transformError=t.ApiErrorException=t.MisoClientError=t.extractRequestContext=t.extractLoggingContext=t.validateUrl=t.isBrowser=t.resolveKeycloakUrl=t.resolveControllerUrl=t.extractClientTokenInfo=t.getEnvironmentToken=t.validateOrigin=t.loadConfig=t.LoggerContextStorage=t.getLogger=t.HttpClient=t.CacheService=t.RedisService=t.LoggerService=t.BrowserRoleService=t.BrowserPermissionService=t.PermissionService=t.RoleService=t.AuthService=t.detectAuthMethodFromHeaders=void 0,n(Yg(),t),n(lT(),t),n(cT(),t);var i=Qg();Object.defineProperty(t,"detectAuthMethodFromHeaders",{enumerable:!0,get:function(){return i.detectAuthMethodFromHeaders}});var a=JC();Object.defineProperty(t,"AuthService",{enumerable:!0,get:function(){return a.AuthService}});var l=QC();Object.defineProperty(t,"RoleService",{enumerable:!0,get:function(){return l.RoleService}});var o=ZC();Object.defineProperty(t,"PermissionService",{enumerable:!0,get:function(){return o.PermissionService}});var u=uT();Object.defineProperty(t,"BrowserPermissionService",{enumerable:!0,get:function(){return u.BrowserPermissionService}});var c=dT();Object.defineProperty(t,"BrowserRoleService",{enumerable:!0,get:function(){return c.BrowserRoleService}});var h=nd();Object.defineProperty(t,"LoggerService",{enumerable:!0,get:function(){return h.LoggerService}});var f=Gg();Object.defineProperty(t,"RedisService",{enumerable:!0,get:function(){return f.RedisService}});var p=Jg();Object.defineProperty(t,"CacheService",{enumerable:!0,get:function(){return p.CacheService}});var E=ly();Object.defineProperty(t,"HttpClient",{enumerable:!0,get:function(){return E.HttpClient}});var P=w1();Object.defineProperty(t,"getLogger",{enumerable:!0,get:function(){return P.getLogger}});var _=nd();Object.defineProperty(t,"LoggerContextStorage",{enumerable:!0,get:function(){return _.LoggerContextStorage}});var C=pO();Object.defineProperty(t,"loadConfig",{enumerable:!0,get:function(){return C.loadConfig}});var R=uy();Object.defineProperty(t,"validateOrigin",{enumerable:!0,get:function(){return R.validateOrigin}});var x=mO();Object.defineProperty(t,"getEnvironmentToken",{enumerable:!0,get:function(){return x.getEnvironmentToken}});var w=fT();Object.defineProperty(t,"extractClientTokenInfo",{enumerable:!0,get:function(){return w.extractClientTokenInfo}});var v=kc();Object.defineProperty(t,"resolveControllerUrl",{enumerable:!0,get:function(){return v.resolveControllerUrl}}),Object.defineProperty(t,"resolveKeycloakUrl",{enumerable:!0,get:function(){return v.resolveKeycloakUrl}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return v.isBrowser}}),Object.defineProperty(t,"validateUrl",{enumerable:!0,get:function(){return v.validateUrl}});var k=gO();Object.defineProperty(t,"extractLoggingContext",{enumerable:!0,get:function(){return k.extractLoggingContext}});var O=yO();Object.defineProperty(t,"extractRequestContext",{enumerable:!0,get:function(){return O.extractRequestContext}}),n(vO(),t),n(wO(),t),n(bO(),t),n(xO(),t);var j=ja();Object.defineProperty(t,"MisoClientError",{enumerable:!0,get:function(){return j.MisoClientError}}),Object.defineProperty(t,"ApiErrorException",{enumerable:!0,get:function(){return j.ApiErrorException}}),Object.defineProperty(t,"transformError",{enumerable:!0,get:function(){return j.transformError}}),Object.defineProperty(t,"handleApiError",{enumerable:!0,get:function(){return j.handleApiError}});var D=aT();Object.defineProperty(t,"EncryptionService",{enumerable:!0,get:function(){return D.EncryptionService}});var I=CO();Object.defineProperty(t,"EncryptionError",{enumerable:!0,get:function(){return I.EncryptionError}});var H=TO();Object.defineProperty(t,"APPLICATION_STATUS_VALUES",{enumerable:!0,get:function(){return H.APPLICATION_STATUS_VALUES}});var G=PO();Object.defineProperty(t,"ResponseHelper",{enumerable:!0,get:function(){return G.ResponseHelper}}),Object.defineProperty(t,"injectResponseHelpers",{enumerable:!0,get:function(){return G.injectResponseHelpers}}),Object.defineProperty(t,"asyncHandler",{enumerable:!0,get:function(){return G.asyncHandler}}),Object.defineProperty(t,"asyncHandlerNamed",{enumerable:!0,get:function(){return G.asyncHandlerNamed}}),Object.defineProperty(t,"ValidationHelper",{enumerable:!0,get:function(){return G.ValidationHelper}}),Object.defineProperty(t,"AppError",{enumerable:!0,get:function(){return G.AppError}}),Object.defineProperty(t,"createSuccessResponse",{enumerable:!0,get:function(){return G.createSuccessResponse}}),Object.defineProperty(t,"createErrorResponse",{enumerable:!0,get:function(){return G.createErrorResponse}}),Object.defineProperty(t,"setErrorLogger",{enumerable:!0,get:function(){return G.setErrorLogger}}),Object.defineProperty(t,"handleRouteError",{enumerable:!0,get:function(){return G.handleRouteError}}),Object.defineProperty(t,"getErrorTypeUri",{enumerable:!0,get:function(){return G.getErrorTypeUri}}),Object.defineProperty(t,"getErrorTitle",{enumerable:!0,get:function(){return G.getErrorTitle}}),Object.defineProperty(t,"sendErrorResponse",{enumerable:!0,get:function(){return G.sendErrorResponse}}),Object.defineProperty(t,"createClientTokenEndpoint",{enumerable:!0,get:function(){return G.createClientTokenEndpoint}}),Object.defineProperty(t,"hasConfig",{enumerable:!0,get:function(){return G.hasConfig}}),Object.defineProperty(t,"loggerContextMiddleware",{enumerable:!0,get:function(){return G.loggerContextMiddleware}});var ie=ST();Object.defineProperty(t,"DataClient",{enumerable:!0,get:function(){return ie.DataClient}}),Object.defineProperty(t,"dataClient",{enumerable:!0,get:function(){return ie.dataClient}});var he=$O();Object.defineProperty(t,"autoInitializeDataClient",{enumerable:!0,get:function(){return he.autoInitializeDataClient}}),Object.defineProperty(t,"getCachedDataClientConfig",{enumerable:!0,get:function(){return he.getCachedDataClientConfig}});var X=oT();Object.defineProperty(t,"TokenValidationService",{enumerable:!0,get:function(){return X.TokenValidationService}})})(To)),To}var lC;function bT(){return lC||(lC=1,(function(t){var s=go&&go.__createBinding||(Object.create?(function(a,l,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(l,o);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(a,u,c)}):(function(a,l,o,u){u===void 0&&(u=o),a[u]=l[o]})),n=go&&go.__exportStar||function(a,l){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(l,o)&&s(l,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.MisoClient=void 0;var i=hO();Object.defineProperty(t,"MisoClient",{enumerable:!0,get:function(){return i.MisoClient}}),n(MO(),t)})(go)),go}var xT=bT();const CT=ee.createContext(void 0);function qO({children:t,initOptions:s}){const[n,i]=ee.useState(null),[a,l]=ee.useState(!0),[o,u]=ee.useState(null),[c,h]=ee.useState(0),f=3,p=2e3,E=async(R=0)=>{l(!0),u(null);try{const x=await xT.autoInitializeDataClient({clientTokenUri:s?.clientTokenUri,baseUrl:s?.baseUrl,cacheConfig:s?.cacheConfig??!0,onError:w=>{u(w)}});i(x),h(0)}catch(x){const w=x instanceof Error?x:new Error(String(x));if(R<f){const v=R+1;h(v);const k=p*Math.pow(2,R);return await new Promise(O=>setTimeout(O,k)),E(v)}u(w),i(null)}finally{l(!1)}},P=async()=>{h(0),await E(0)},_=R=>{i(R),u(null),l(!1),h(0)};ee.useEffect(()=>{E()},[]);const C=ee.useMemo(()=>({dataClient:n,isLoading:a,error:o,retryCount:c,reinitialize:P,setManualClient:_}),[n,a,o,c]);return g.jsx(CT.Provider,{value:C,children:t})}function $a(){const t=ee.useContext(CT);if(t===void 0)throw new Error("useDataClient must be used within DataClientProvider");return t}function cC(t){if(!t)return null;const s=t.message||String(t);try{const n=t;if(n.response?.data){const i=n.response.data;if(typeof i=="object"&&i!==null){const a=i,l=a.title&&typeof a.title=="string"?a.title:"Error",o=a.detail&&typeof a.detail=="string"?a.detail:l;if(a.title||a.detail)return{title:l,detail:o}}}}catch{}try{const n=s.indexOf("{");if(n!==-1){let i=0,a=-1;for(let l=n;l<s.length;l++)if(s[l]==="{"&&i++,s[l]==="}"&&(i--,i===0)){a=l;break}if(a!==-1){const l=s.substring(n,a+1),o=JSON.parse(l);if(o.title||o.detail){const u=o.title&&typeof o.title=="string"?o.title:"Error",c=o.detail&&typeof o.detail=="string"?o.detail:u;return{title:u,detail:c}}if(o.message&&typeof o.message=="string")return{title:"Error",detail:o.message};if(o.error&&typeof o.error=="string")return{title:"Error",detail:o.error}}}}catch{}return s.includes("ERR_EMPTY_RESPONSE")||s.includes("empty response")||s.includes("Connection error")?{title:"Connection Error",detail:"The server closed the connection without sending a response. Please check if the server is running and accessible."}:s.includes("timeout")||s.includes("Timeout")||s.includes("did not respond within")?{title:"Timeout Error",detail:"Request timed out. Please check your network connection and ensure the server is running."}:s.includes("Network")||s.includes("Failed to fetch")||s.includes("network")?{title:"Network Error",detail:"Unable to connect to server. Please check if the server is running and accessible."}:s.includes("CORS")||s.includes("cross-origin")||s.includes("CORS policy")?{title:"CORS Error",detail:"Cross-origin request blocked. Please check CORS configuration on the server."}:s.includes("ECONNREFUSED")||s.includes("connection refused")?{title:"Connection Error",detail:"Connection refused. Please check if the server is running and accessible."}:s.includes("ENOTFOUND")||s.includes("getaddrinfo")?{title:"Connection Error",detail:"Unable to resolve server address. Please check the server URL configuration."}:null}function Lt(t){return t instanceof Error?t.message:typeof t=="string"?t:"Unknown error occurred"}function dg(t){const s=t;return s?.status||s?.response?.status||null}function uC(){const{dataClient:t,error:s,isLoading:n,reinitialize:i}=$a(),[a,l]=ee.useState(!1),[o,u]=ee.useState(null),c=()=>{const O=xT.getCachedDataClientConfig();return O?{baseUrl:O.baseUrl||"",controllerUrl:O.controllerUrl||"",clientId:O.clientId||"",clientTokenUri:O.clientTokenUri}:null};ee.useEffect(()=>{if(t){const O=c();u(O||{baseUrl:typeof window<"u"?window.location.origin:"http://localhost:3183",controllerUrl:"",clientId:""})}else u(null)},[t]);const h=async()=>{l(!0);try{await i();const O=c();O&&u(O),Ee.success("DataClient initialized successfully",{description:"Configuration fetched from server endpoint"})}catch(O){const j=O instanceof Error?O:new Error(Lt(O)),D=cC(j),I=D?.title||"Failed to initialize DataClient",H=D?.detail||j.message||"Unknown error occurred";Ee.error(I,{description:H,duration:5e3})}finally{l(!1)}},f=!!t,p=o?.baseUrl||(typeof window<"u"?window.location.origin:""),E=o?.controllerUrl||"Not set",P=o?.clientId||"Not set",_=s?cC(s):null,C=_?.title||(s?"Error":null),R=_?.detail||(s?s.message:null),x=_!==null,w=!n&&!a,v=w&&s&&C&&R,k=w&&f&&!s;return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Configuration"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Initialize and configure the Data Client connection"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-4xl space-y-6",children:[v&&g.jsx(Re,{className:"border-red-200 bg-red-50",children:g.jsx(ke,{className:"pt-6",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(bR,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-red-900 mb-1",children:C}),g.jsx("p",{className:`text-sm text-red-700 ${x?"":"font-mono break-all"}`,children:R})]})]})})}),k&&g.jsx(Re,{className:"border-green-200 bg-green-50",children:g.jsx(ke,{className:"pt-6",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(vC,{className:"w-6 h-6 text-green-600"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-green-900",children:"DataClient Initialized"}),g.jsx("p",{className:"text-sm text-green-700",children:"Ready to make API requests"})]})]})})}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:g.jsx(WR,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{children:[g.jsx(Ie,{children:"Zero-Config Setup"}),g.jsx(Ve,{children:"Automatically fetch configuration from server (Recommended)"})]})]})}),g.jsx(ke,{children:g.jsx(tt,{onClick:h,disabled:n||a,className:"w-full",size:"lg",children:a?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Initializing..."]}):g.jsxs(g.Fragment,{children:["Auto-Initialize DataClient",g.jsx(vR,{className:"w-4 h-4 ml-2"})]})})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:g.jsx(EC,{className:"w-5 h-5 text-muted-foreground"})}),g.jsxs("div",{children:[g.jsx(Ie,{children:"Configuration Settings"}),g.jsx(Ve,{children:"Configure settings via environment variables"})]})]})}),g.jsx(ke,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-sm text-muted-foreground",children:["You can change configuration settings by editing the ",g.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file in the root directory:"]}),g.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-xs space-y-1",children:[g.jsx("div",{className:"text-muted-foreground",children:"# Application port (default: 3083)"}),g.jsx("div",{className:"text-muted-foreground",children:"PORT=3183"}),g.jsx("div",{className:"text-muted-foreground",children:"# MISO Application Client Credentials (per application)"}),g.jsx("div",{children:"MISO_CLIENTID=miso-controller-dev-miso-test"}),g.jsx("div",{children:"MISO_CLIENTSECRET=your-secret-here"}),g.jsx("div",{className:"text-muted-foreground",children:"# MISO Controller URL"}),g.jsx("div",{children:"MISO_CONTROLLER_URL=http://localhost:3000"})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["After modifying the ",g.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file, restart the server for changes to take effect."]})]})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Connection Information"}),g.jsx(Ve,{children:"Current configuration settings"})]}),g.jsx(ke,{children:g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Status"}),g.jsx("span",{className:f?"text-green-600 font-medium":"text-muted-foreground",children:f?"Connected":"Not Initialized"})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Base URL"}),g.jsx("span",{className:"font-mono text-xs",children:p})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Controller URL"}),g.jsx("span",{className:"font-mono text-xs",children:E})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[g.jsx("span",{className:"text-muted-foreground",children:"Client ID"}),g.jsx("span",{className:"font-mono text-xs",children:P})]}),o?.clientTokenUri&&g.jsxs("div",{className:"flex justify-between py-2",children:[g.jsx("span",{className:"text-muted-foreground",children:"Client Token URI"}),g.jsx("span",{className:"font-mono text-xs",children:o.clientTokenUri})]})]})})]})]})})]})}function si(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return s?.(a)}}function _y(t,s=[]){let n=[];function i(l,o){const u=ee.createContext(o),c=n.length;n=[...n,o];const h=p=>{const{scope:E,children:P,..._}=p,C=E?.[t]?.[c]||u,R=ee.useMemo(()=>_,Object.values(_));return g.jsx(C.Provider,{value:R,children:P})};h.displayName=l+"Provider";function f(p,E){const P=E?.[t]?.[c]||u,_=ee.useContext(P);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[h,f]}const a=()=>{const l=n.map(o=>ee.createContext(o));return function(u){const c=u?.[t]||l;return ee.useMemo(()=>({[`__scope${t}`]:{...u,[t]:c}}),[u,c])}};return a.scopeName=t,[i,FO(a,...s)]}function FO(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const o=i.reduce((u,{useScope:c,scopeName:h})=>{const p=c(l)[`__scope${h}`];return{...u,...p}},{});return ee.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return n.scopeName=s.scopeName,n}function Rg(t){const s=HO(t),n=ee.forwardRef((i,a)=>{const{children:l,...o}=i,u=ee.Children.toArray(l),c=u.find(zO);if(c){const h=c.props.children,f=u.map(p=>p===c?ee.Children.count(h)>1?ee.Children.only(null):ee.isValidElement(h)?h.props.children:null:p);return g.jsx(s,{...o,ref:a,children:ee.isValidElement(h)?ee.cloneElement(h,void 0,f):null})}return g.jsx(s,{...o,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}function HO(t){const s=ee.forwardRef((n,i)=>{const{children:a,...l}=n;if(ee.isValidElement(a)){const o=KO(a),u=WO(l,a.props);return a.type!==ee.Fragment&&(u.ref=i?Ng(i,o):o),ee.cloneElement(a,u)}return ee.Children.count(a)>1?ee.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var BO=Symbol("radix.slottable");function zO(t){return ee.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BO}function WO(t,s){const n={...s};for(const i in s){const a=t[i],l=s[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...u)=>{const c=l(...u);return a(...u),c}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function KO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function VO(t){const s=t+"CollectionProvider",[n,i]=_y(s),[a,l]=n(s,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:R,children:x}=C,w=ee.useRef(null),v=ee.useRef(new Map).current;return g.jsx(a,{scope:R,itemMap:v,collectionRef:w,children:x})};o.displayName=s;const u=t+"CollectionSlot",c=Rg(u),h=ee.forwardRef((C,R)=>{const{scope:x,children:w}=C,v=l(u,x),k=Zu(R,v.collectionRef);return g.jsx(c,{ref:k,children:w})});h.displayName=u;const f=t+"CollectionItemSlot",p="data-radix-collection-item",E=Rg(f),P=ee.forwardRef((C,R)=>{const{scope:x,children:w,...v}=C,k=ee.useRef(null),O=Zu(R,k),j=l(f,x);return ee.useEffect(()=>(j.itemMap.set(k,{ref:k,...v}),()=>void j.itemMap.delete(k))),g.jsx(E,{[p]:"",ref:O,children:w})});P.displayName=f;function _(C){const R=l(t+"CollectionConsumer",C);return ee.useCallback(()=>{const w=R.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(R.itemMap.values()).sort((j,D)=>v.indexOf(j.ref.current)-v.indexOf(D.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:h,ItemSlot:P},_,i]}var fd=globalThis?.document?ee.useLayoutEffect:()=>{},GO=Pg[" useId ".trim().toString()]||(()=>{}),JO=0;function TT(t){const[s,n]=ee.useState(GO());return fd(()=>{n(i=>i??String(JO++))},[t]),t||(s?`radix-${s}`:"")}var XO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ma=XO.reduce((t,s)=>{const n=Rg(`Primitive.${s}`),i=ee.forwardRef((a,l)=>{const{asChild:o,...u}=a,c=o?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...u,ref:l})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{});function YO(t){const s=ee.useRef(t);return ee.useEffect(()=>{s.current=t}),ee.useMemo(()=>(...n)=>s.current?.(...n),[])}var QO=Pg[" useInsertionEffect ".trim().toString()]||fd;function _T({prop:t,defaultProp:s,onChange:n=()=>{},caller:i}){const[a,l,o]=ZO({defaultProp:s,onChange:n}),u=t!==void 0,c=u?t:a;{const f=ee.useRef(t!==void 0);ee.useEffect(()=>{const p=f.current;p!==u&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=u},[u,i])}const h=ee.useCallback(f=>{if(u){const p=ej(f)?f(t):f;p!==t&&o.current?.(p)}else l(f)},[u,t,l,o]);return[c,h]}function ZO({defaultProp:t,onChange:s}){const[n,i]=ee.useState(t),a=ee.useRef(n),l=ee.useRef(s);return QO(()=>{l.current=s},[s]),ee.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,i,l]}function ej(t){return typeof t=="function"}var tj=ee.createContext(void 0);function RT(t){const s=ee.useContext(tj);return t||s||"ltr"}var fg="rovingFocusGroup.onEntryFocus",rj={bubbles:!1,cancelable:!0},Lc="RovingFocusGroup",[kg,kT,nj]=VO(Lc),[sj,AT]=_y(Lc,[nj]),[ij,oj]=sj(Lc),IT=ee.forwardRef((t,s)=>g.jsx(kg.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(kg.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(aj,{...t,ref:s})})}));IT.displayName=Lc;var aj=ee.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:a=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=t,E=ee.useRef(null),P=Zu(s,E),_=RT(l),[C,R]=_T({prop:o,defaultProp:u??null,onChange:c,caller:Lc}),[x,w]=ee.useState(!1),v=YO(h),k=kT(n),O=ee.useRef(!1),[j,D]=ee.useState(0);return ee.useEffect(()=>{const I=E.current;if(I)return I.addEventListener(fg,v),()=>I.removeEventListener(fg,v)},[v]),g.jsx(ij,{scope:n,orientation:i,dir:_,loop:a,currentTabStopId:C,onItemFocus:ee.useCallback(I=>R(I),[R]),onItemShiftTab:ee.useCallback(()=>w(!0),[]),onFocusableItemAdd:ee.useCallback(()=>D(I=>I+1),[]),onFocusableItemRemove:ee.useCallback(()=>D(I=>I-1),[]),children:g.jsx(Ma.div,{tabIndex:x||j===0?-1:0,"data-orientation":i,...p,ref:P,style:{outline:"none",...t.style},onMouseDown:si(t.onMouseDown,()=>{O.current=!0}),onFocus:si(t.onFocus,I=>{const H=!O.current;if(I.target===I.currentTarget&&H&&!x){const G=new CustomEvent(fg,rj);if(I.currentTarget.dispatchEvent(G),!G.defaultPrevented){const ie=k().filter(W=>W.focusable),he=ie.find(W=>W.active),X=ie.find(W=>W.id===C),M=[he,X,...ie].filter(Boolean).map(W=>W.ref.current);OT(M,f)}}O.current=!1}),onBlur:si(t.onBlur,()=>w(!1))})})}),PT="RovingFocusGroupItem",NT=ee.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:a=!1,tabStopId:l,children:o,...u}=t,c=TT(),h=l||c,f=oj(PT,n),p=f.currentTabStopId===h,E=kT(n),{onFocusableItemAdd:P,onFocusableItemRemove:_,currentTabStopId:C}=f;return ee.useEffect(()=>{if(i)return P(),()=>_()},[i,P,_]),g.jsx(kg.ItemSlot,{scope:n,id:h,focusable:i,active:a,children:g.jsx(Ma.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...u,ref:s,onMouseDown:si(t.onMouseDown,R=>{i?f.onItemFocus(h):R.preventDefault()}),onFocus:si(t.onFocus,()=>f.onItemFocus(h)),onKeyDown:si(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){f.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const x=uj(R,f.orientation,f.dir);if(x!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let v=E().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const k=v.indexOf(R.currentTarget);v=f.loop?dj(v,k+1):v.slice(k+1)}setTimeout(()=>OT(v))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:C!=null}):o})})});NT.displayName=PT;var lj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cj(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uj(t,s,n){const i=cj(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return lj[i]}function OT(t,s=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:s}),document.activeElement!==n))return}function dj(t,s){return t.map((n,i)=>t[(s+i)%t.length])}var fj=IT,hj=NT;function pj(t,s){return ee.useReducer((n,i)=>s[n][i]??n,t)}var jT=t=>{const{present:s,children:n}=t,i=mj(s),a=typeof n=="function"?n({present:i.isPresent}):ee.Children.only(n),l=Zu(i.ref,gj(a));return typeof n=="function"||i.isPresent?ee.cloneElement(a,{ref:l}):null};jT.displayName="Presence";function mj(t){const[s,n]=ee.useState(),i=ee.useRef(null),a=ee.useRef(t),l=ee.useRef("none"),o=t?"mounted":"unmounted",[u,c]=pj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ee.useEffect(()=>{const h=Ju(i.current);l.current=u==="mounted"?h:"none"},[u]),fd(()=>{const h=i.current,f=a.current;if(f!==t){const E=l.current,P=Ju(h);t?c("MOUNT"):P==="none"||h?.display==="none"?c("UNMOUNT"):c(f&&E!==P?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),fd(()=>{if(s){let h;const f=s.ownerDocument.defaultView??window,p=P=>{const C=Ju(i.current).includes(CSS.escape(P.animationName));if(P.target===s&&C&&(c("ANIMATION_END"),!a.current)){const R=s.style.animationFillMode;s.style.animationFillMode="forwards",h=f.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=R)})}},E=P=>{P.target===s&&(l.current=Ju(i.current))};return s.addEventListener("animationstart",E),s.addEventListener("animationcancel",p),s.addEventListener("animationend",p),()=>{f.clearTimeout(h),s.removeEventListener("animationstart",E),s.removeEventListener("animationcancel",p),s.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:ee.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function Ju(t){return t?.animationName||"none"}function gj(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bd="Tabs",[yj]=_y(Bd,[AT]),LT=AT(),[vj,Ry]=yj(Bd),DT=ee.forwardRef((t,s)=>{const{__scopeTabs:n,value:i,onValueChange:a,defaultValue:l,orientation:o="horizontal",dir:u,activationMode:c="automatic",...h}=t,f=RT(u),[p,E]=_T({prop:i,onChange:a,defaultProp:l??"",caller:Bd});return g.jsx(vj,{scope:n,baseId:TT(),value:p,onValueChange:E,orientation:o,dir:f,activationMode:c,children:g.jsx(Ma.div,{dir:f,"data-orientation":o,...h,ref:s})})});DT.displayName=Bd;var UT="TabsList",$T=ee.forwardRef((t,s)=>{const{__scopeTabs:n,loop:i=!0,...a}=t,l=Ry(UT,n),o=LT(n);return g.jsx(fj,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:i,children:g.jsx(Ma.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:s})})});$T.displayName=UT;var MT="TabsTrigger",qT=ee.forwardRef((t,s)=>{const{__scopeTabs:n,value:i,disabled:a=!1,...l}=t,o=Ry(MT,n),u=LT(n),c=BT(o.baseId,i),h=zT(o.baseId,i),f=i===o.value;return g.jsx(hj,{asChild:!0,...u,focusable:!a,active:f,children:g.jsx(Ma.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...l,ref:s,onMouseDown:si(t.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(i):p.preventDefault()}),onKeyDown:si(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(i)}),onFocus:si(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!a&&p&&o.onValueChange(i)})})})});qT.displayName=MT;var FT="TabsContent",HT=ee.forwardRef((t,s)=>{const{__scopeTabs:n,value:i,forceMount:a,children:l,...o}=t,u=Ry(FT,n),c=BT(u.baseId,i),h=zT(u.baseId,i),f=i===u.value,p=ee.useRef(f);return ee.useEffect(()=>{const E=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(E)},[]),g.jsx(jT,{present:a||f,children:({present:E})=>g.jsx(Ma.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!E,id:h,tabIndex:0,...o,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:E&&l})})});HT.displayName=FT;function BT(t,s){return`${t}-trigger-${s}`}function zT(t,s){return`${t}-content-${s}`}var Ej=DT,wj=$T,Sj=qT,bj=HT;function zd({className:t,...s}){return g.jsx(Ej,{"data-slot":"tabs",className:Un("flex flex-col gap-2",t),...s})}function Wd({className:t,...s}){return g.jsx(wj,{"data-slot":"tabs-list",className:Un("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...s})}function Lr({className:t,...s}){return g.jsx(Sj,{"data-slot":"tabs-trigger",className:Un("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Dr({className:t,...s}){return g.jsx(bj,{"data-slot":"tabs-content",className:Un("flex-1 outline-none",t),...s})}function xj(t,s){const[n,i]=ee.useState(!1),[a,l]=ee.useState(null),o=async(D,I,H)=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{let G;switch(D){case"GET":G=await t.get(I,{cache:{enabled:!1}});break;case"POST":G=await t.post(I,H);break;case"PUT":G=await t.put(I,H);break;case"PATCH":G=await t.patch(I,H);break;case"DELETE":G=await t.delete(I);break;default:throw new Error(`Unsupported method: ${D}`)}l({method:D,endpoint:I,status:200,timestamp:new Date().toISOString(),data:G}),Ee.success(`${D} ${I} successful`)}catch(G){const ie=Lt(G),he=dg(G)||"ERROR";l({method:D,endpoint:I,error:ie,status:he,timestamp:new Date().toISOString()}),Ee.error("Request failed",{description:ie})}finally{i(!1)}};return{loading:n,result:a,isDisabled:n||s||!t,httpMethods:{testGet:()=>{o("GET","/api/users")},testGetById:()=>{o("GET","/api/users/1")},testPost:()=>{o("POST","/api/users",{name:"New User",email:"newuser@example.com"})},testPut:()=>{o("PUT","/api/users/1",{name:"John Doe Updated",email:"john.updated@example.com"})},testPatch:()=>{o("PATCH","/api/users/1",{email:"john.patched@example.com"})},testDelete:()=>{o("DELETE","/api/users/1")}},auth:{testIsAuthenticated:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=t.isAuthenticated();l({authenticated:D,timestamp:new Date().toISOString()}),Ee.success(D?"User is authenticated":"User is not authenticated")}catch(D){const I=Lt(D);Ee.error("Failed to check authentication",{description:I})}finally{i(!1)}},testGetToken:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=await t.getEnvironmentToken();l({token:D||"No token available",timestamp:new Date().toISOString()}),Ee.success("Token retrieved successfully")}catch(D){const I=Lt(D);Ee.error("Failed to get token",{description:I})}finally{i(!1)}},testGetClientTokenInfo:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=t.getClientTokenInfo();l({tokenInfo:D||"No token info available",timestamp:new Date().toISOString()}),Ee.success("Token info retrieved successfully")}catch(D){const I=Lt(D);Ee.error("Failed to get token info",{description:I})}finally{i(!1)}},testGetUser:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=await t.getUser();if(!D){Ee.error("No user info available. Please login first."),l({error:"No user info available. User may not be authenticated. Please login first.",timestamp:new Date().toISOString()});return}l({userInfo:D,timestamp:new Date().toISOString()}),Ee.success("User info retrieved successfully")}catch(D){const I=Lt(D),H=dg(D);H===401?Ee.error("Authentication failed",{description:"Token is invalid or expired. Please login again."}):Ee.error("Failed to get user info",{description:I}),l({error:I,status:H,timestamp:new Date().toISOString()})}finally{i(!1)}},testLogout:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{await t.logout(),l({message:"User logged out successfully",timestamp:new Date().toISOString()}),Ee.success("Logged out successfully")}catch(D){const I=Lt(D);Ee.error("Logout failed",{description:I})}finally{i(!1)}},testRedirectToLogin:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{l({message:"Redirecting to login... (Page will redirect to miso-controller login endpoint)",timestamp:new Date().toISOString()}),await t.redirectToLogin()}catch(D){const I=Lt(D);l({error:I,timestamp:new Date().toISOString()}),Ee.error("Redirect to login failed",{description:I}),i(!1)}}},errors:{testNetworkError:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{await t.get("/api/invalid-endpoint-that-does-not-exist-12345",{cache:{enabled:!1}})}catch(D){const I=Lt(D);l({error:I,type:"NETWORK_ERROR",message:I,timestamp:new Date().toISOString()}),Ee.error("Network error occurred",{description:I})}finally{i(!1)}},testTimeout:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{await t.get("/api/slow-endpoint",{cache:{enabled:!1},timeout:100})}catch(D){const I=Lt(D);l({error:I,type:"TIMEOUT_ERROR",message:I,timestamp:new Date().toISOString()}),Ee.error("Request timeout occurred",{description:I})}finally{i(!1)}},testApiError:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{await t.post("/api/users",{invalid:"data"})}catch(D){const I=Lt(D),H=dg(D);l({error:I,status:H||400,details:D.response?.data||I,timestamp:new Date().toISOString()}),Ee.error("API error occurred",{description:I})}finally{i(!1)}}}}}function Cj({isDisabled:t,httpMethods:s}){return g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"GET Requests"}),g.jsx(Ve,{children:"Retrieve data from the server"})]}),g.jsxs(ke,{className:"space-y-2",children:[g.jsx(tt,{onClick:s.testGet,disabled:t,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users"}),g.jsx(tt,{onClick:s.testGetById,disabled:t,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users/:id"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"POST Requests"}),g.jsx(Ve,{children:"Create new resources"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testPost,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700",children:"POST /api/users"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"PUT Requests"}),g.jsx(Ve,{children:"Update existing resources"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testPut,disabled:t,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PUT /api/users/:id"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"PATCH Requests"}),g.jsx(Ve,{children:"Partially update resources"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testPatch,disabled:t,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PATCH /api/users/:id"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"DELETE Requests"}),g.jsx(Ve,{children:"Remove resources"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testDelete,disabled:t,variant:"destructive",className:"w-full",children:"DELETE /api/users/:id"})})]})]})}function Tj({isDisabled:t,auth:s}){return g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check Authentication"}),g.jsx(Ve,{children:"Verify user authentication status"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testIsAuthenticated,disabled:t,className:"w-full",children:"isAuthenticated()"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Get Token"}),g.jsx(Ve,{children:"Retrieve environment token"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testGetToken,disabled:t,className:"w-full",children:"getEnvironmentToken()"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Get Token Info"}),g.jsx(Ve,{children:"Get client token information"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testGetClientTokenInfo,disabled:t,className:"w-full",children:"getClientTokenInfo()"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Get User"}),g.jsx(Ve,{children:"Get current user information"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testGetUser,disabled:t,className:"w-full !bg-purple-600 hover:!bg-purple-700 !text-white",children:"getUser()"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Logout"}),g.jsx(Ve,{children:"End user session"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testLogout,disabled:t,variant:"destructive",className:"w-full",children:"logout()"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Redirect to Login"}),g.jsx(Ve,{children:"Redirect to miso-controller login page"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testRedirectToLogin,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700",children:"redirectToLogin()"})})]})]})}function _j({isDisabled:t,errors:s}){return g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Network Error"}),g.jsx(Ve,{children:"Simulate connection failure"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testNetworkError,disabled:t,variant:"destructive",className:"w-full",children:"Test Network Error"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Timeout Error"}),g.jsx(Ve,{children:"Simulate request timeout"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testTimeout,disabled:t,variant:"destructive",className:"w-full",children:"Test Timeout"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"API Error (400)"}),g.jsx(Ve,{children:"Simulate validation error"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:s.testApiError,disabled:t,variant:"destructive",className:"w-full",children:"Test API Error"})})]})]})}function Rj(){const{dataClient:t,isLoading:s}=$a(),{result:n,isDisabled:i,httpMethods:a,auth:l,errors:o}=xj(t,s);return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"API Testing"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Test HTTP methods, authentication, and error handling"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl",children:[g.jsxs(zd,{defaultValue:"http",className:"space-y-6",children:[g.jsxs(Wd,{children:[g.jsx(Lr,{value:"http",children:"HTTP Methods"}),g.jsx(Lr,{value:"auth",children:"Authentication"}),g.jsx(Lr,{value:"errors",children:"Error Handling"})]}),g.jsx(Dr,{value:"http",className:"space-y-6",children:g.jsx(Cj,{isDisabled:i,httpMethods:a})}),g.jsx(Dr,{value:"auth",className:"space-y-6",children:g.jsx(Tj,{isDisabled:i,auth:l})}),g.jsx(Dr,{value:"errors",className:"space-y-6",children:g.jsx(_j,{isDisabled:i,errors:o})})]}),n&&g.jsxs(Re,{className:"mt-6",children:[g.jsx(Ae,{children:g.jsx(Ie,{className:"text-lg",children:"Response"})}),g.jsx(ke,{children:g.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(n,null,2)})})]})]})})]})}function No({className:t,type:s,...n}){return g.jsx("input",{type:s,"data-slot":"input",className:Un("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var kj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Aj=kj.reduce((t,s)=>{const n=SC(`Primitive.${s}`),i=ee.forwardRef((a,l)=>{const{asChild:o,...u}=a,c=o?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...u,ref:l})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),Ij="Label",WT=ee.forwardRef((t,s)=>g.jsx(Aj.label,{...t,ref:s,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WT.displayName=Ij;var Pj=WT;function ri({className:t,...s}){return g.jsx(Pj,{"data-slot":"label",className:Un("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function Nj(){const{dataClient:t,isLoading:s}=$a(),[n,i]=ee.useState(!1),[a,l]=ee.useState(null),[o,u]=ee.useState("60000"),c=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const _=Date.now(),C=await t.get("/api/users",{cache:{enabled:!0,ttl:parseInt(o,10)}}),R=Date.now()-_;l({data:C,cached:R<100,cacheKey:"GET:/api/users",ttl:o+"ms",duration:R+"ms",timestamp:new Date().toISOString()}),Ee.success("Data retrieved",{description:R<100?"Response served from cache":"Fetched from server"})}catch(_){const C=_ instanceof Error?_.message:"Unknown error";Ee.error("Request failed",{description:C})}finally{i(!1)}},h=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const _=Date.now(),C=await t.get("/api/users",{cache:{enabled:!1}}),R=Date.now()-_;l({data:C,cached:!1,duration:R+"ms",timestamp:new Date().toISOString()}),Ee.success("Fresh data retrieved",{description:"Cache bypassed, fetched from server"})}catch(_){const C=_ instanceof Error?_.message:"Unknown error";Ee.error("Request failed",{description:C})}finally{i(!1)}},f=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{t.clearCache();const _=t.getMetrics();l({message:"Cache cleared successfully",cacheHitRate:_.cacheHitRate,timestamp:new Date().toISOString()}),Ee.success("Cache cleared",{description:"All cache entries removed"})}catch(_){const C=_ instanceof Error?_.message:"Unknown error";Ee.error("Failed to clear cache",{description:C})}finally{i(!1)}},p=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{t.setInterceptors({onRequest:async(C,R)=>({...R,headers:{...R.headers,"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}})});const _={url:"/api/users",method:"GET"};await t.get("/api/users",{cache:{enabled:!1}}),l({interceptor:"request",originalRequest:_,modifiedRequest:{..._,headers:{"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}},timestamp:new Date().toISOString()}),Ee.success("Request interceptor applied")}catch(_){const C=_ instanceof Error?_.message:"Unknown error";Ee.error("Interceptor test failed",{description:C})}finally{i(!1)}},E=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{Ee.info("Attempting request with retries...");const _=Date.now();await t.get("/api/users",{cache:{enabled:!1}});const C=Date.now()-_;l({message:"Request succeeded",duration:C+"ms",retries:"Automatic retries handled by DataClient",timestamp:new Date().toISOString()}),Ee.success("Request completed")}catch(_){const C=_ instanceof Error?_.message:"Unknown error";l({error:C,retries:"Retry logic attempted",timestamp:new Date().toISOString()}),Ee.error("Request failed after retries",{description:C})}finally{i(!1)}},P=n||s||!t;return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Caching & Storage"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Test caching mechanisms, interceptors, and retry logic"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:g.jsx(pg,{className:"w-5 h-5 text-green-600"})}),g.jsxs("div",{children:[g.jsx(Ie,{className:"text-lg",children:"Cache Enabled"}),g.jsx(Ve,{children:"Retrieve data with caching"})]})]})}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"cacheTTL",children:"Cache TTL (milliseconds)"}),g.jsx(No,{id:"cacheTTL",type:"number",value:o,onChange:_=>u(_.target.value),placeholder:"60000"})]}),g.jsxs(tt,{onClick:c,disabled:P,className:"w-full bg-green-600 hover:bg-green-700",children:[g.jsx(pg,{className:"w-4 h-4 mr-2"}),"GET with Cache"]})]})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:g.jsx(Qu,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{children:[g.jsx(Ie,{className:"text-lg",children:"Cache Bypassed"}),g.jsx(Ve,{children:"Fetch fresh data from server"})]})]})}),g.jsx(ke,{children:g.jsxs(tt,{onClick:h,disabled:P,className:"w-full bg-blue-600 hover:bg-blue-700",children:[g.jsx(Qu,{className:"w-4 h-4 mr-2"}),"GET without Cache"]})})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Cache Management"}),g.jsx(Ve,{children:"Clear cache entries"})]}),g.jsx(ke,{className:"space-y-4",children:g.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.jsxs(tt,{onClick:f,disabled:P,variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[g.jsx(gg,{className:"w-4 h-4 mr-2"}),"Clear All Cache"]})})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Request Interceptors"}),g.jsx(Ve,{children:"Modify requests before sending"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:p,disabled:P,className:"w-full",children:"Test Request Interceptor"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Retry Logic"}),g.jsx(Ve,{children:"Automatic retry on failures"})]}),g.jsx(ke,{children:g.jsx(tt,{onClick:E,disabled:P,className:"w-full",children:"Test Retry Mechanism"})})]})]}),a&&g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{className:"text-lg",children:"Response"})}),g.jsx(ke,{children:g.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(a,null,2)})})]})]})})]})}function Oj(){const{dataClient:t,isLoading:s}=$a(),[n,i]=ee.useState(!1),[a,l]=ee.useState(null),[o,u]=ee.useState([]),c=()=>{if(t)try{const R=t.getMetrics();l({totalRequests:R.totalRequests,successfulRequests:R.totalRequests-R.totalFailures,failedRequests:R.totalFailures,cacheHits:Math.round(R.cacheHitRate*R.totalRequests*.3),cacheMisses:Math.round(R.totalRequests*.7),averageResponseTime:Math.round(R.averageResponseTime),cacheHitRate:R.cacheHitRate,errorRate:R.errorRate})}catch(R){console.error("Failed to load metrics:",R)}};ee.useEffect(()=>{t&&c()},[t]);const h=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{c(),Ee.success("Metrics retrieved successfully")}catch(R){const x=R instanceof Error?R.message:"Unknown error";Ee.error("Failed to get metrics",{description:x})}finally{i(!1)}},f=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{Ee.info("Making multiple requests...");const R=Date.now(),x=[t.get("/api/users",{cache:{enabled:!1}}).catch(()=>null),t.get("/api/products",{cache:{enabled:!1}}).catch(()=>null),t.get("/api/orders",{cache:{enabled:!1}}).catch(()=>null)];await Promise.all(x);const w=Date.now()-R,v=[{endpoint:"/api/users",status:200,duration:`${Math.round(w/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/products",status:200,duration:`${Math.round(w/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/orders",status:200,duration:`${Math.round(w/3)}ms`,timestamp:new Date().toISOString()}];u(k=>[...v,...k]),c(),Ee.success("All requests completed",{description:`Total duration: ${w}ms`})}catch(R){const x=R instanceof Error?R.message:"Unknown error";Ee.error("Some requests failed",{description:x})}finally{i(!1)}},p=async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const R=Date.now();await t.put("/api/users/1",{name:"Updated User",email:"updated@example.com"}).catch(()=>null);const x=Date.now()-R,w={id:"audit-"+Date.now(),action:"USER_UPDATE",timestamp:new Date().toISOString(),endpoint:"/api/users/1",method:"PUT",status:200,duration:`${x}ms`};u(v=>[w,...v]),c(),Ee.success("Audit log created")}catch(R){const x=R instanceof Error?R.message:"Unknown error";Ee.error("Audit logging test failed",{description:x})}finally{i(!1)}},E=()=>{u([]),Ee.success("Audit logs cleared")},P=a&&a.totalRequests>0?(a.successfulRequests/a.totalRequests*100).toFixed(1):"0",_=a&&a.cacheHitRate!==void 0?(a.cacheHitRate*100).toFixed(1):a&&a.cacheHits+a.cacheMisses>0?(a.cacheHits/(a.cacheHits+a.cacheMisses)*100).toFixed(1):"0",C=n||s||!t;return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Monitoring & Logs"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"View performance metrics, audit logs, and system health"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsx("div",{className:"max-w-6xl",children:g.jsxs(zd,{defaultValue:"metrics",className:"space-y-6",children:[g.jsxs(Wd,{children:[g.jsx(Lr,{value:"metrics",children:"Metrics"}),g.jsx(Lr,{value:"audit",children:"Audit Logs"})]}),g.jsxs(Dr,{value:"metrics",className:"space-y-6",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(tt,{onClick:h,disabled:C,className:"bg-blue-600 hover:bg-blue-700",children:[g.jsx(gR,{className:"w-4 h-4 mr-2"}),"Refresh Metrics"]}),g.jsxs(tt,{onClick:f,disabled:C,className:"bg-green-600 hover:bg-green-700",children:[g.jsx(JE,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),a&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[g.jsx(Re,{children:g.jsxs(ke,{className:"pt-6",children:[g.jsx("div",{className:"text-2xl font-semibold",children:a.totalRequests}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Total Requests"})]})}),g.jsx(Re,{children:g.jsxs(ke,{className:"pt-6",children:[g.jsxs("div",{className:"text-2xl font-semibold text-green-600",children:[P,"%"]}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Success Rate"})]})}),g.jsx(Re,{children:g.jsxs(ke,{className:"pt-6",children:[g.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[_,"%"]}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})}),g.jsx(Re,{children:g.jsxs(ke,{className:"pt-6",children:[g.jsxs("div",{className:"text-2xl font-semibold",children:[a.averageResponseTime,"ms"]}),g.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Avg Response Time"})]})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Request Status"}),g.jsx(Ve,{children:"Breakdown by success/failure"})]}),g.jsx(ke,{children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Successful"}),g.jsx("span",{className:"text-sm font-medium text-green-600",children:a.successfulRequests})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),g.jsx("span",{className:"text-sm font-medium text-red-600",children:a.failedRequests})]}),g.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[g.jsx("span",{className:"text-sm font-medium",children:"Total"}),g.jsx("span",{className:"text-sm font-medium",children:a.totalRequests})]})]})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Cache Performance"}),g.jsx(Ve,{children:"Cache hits vs misses"})]}),g.jsx(ke,{children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Hits"}),g.jsx("span",{className:"text-sm font-medium text-green-600",children:a.cacheHits})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Misses"}),g.jsx("span",{className:"text-sm font-medium text-orange-600",children:a.cacheMisses})]}),g.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[g.jsx("span",{className:"text-sm font-medium",children:"Hit Rate"}),g.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[_,"%"]})]})]})})]})]}),a&&g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Metrics Details"}),g.jsx(Ve,{children:"Detailed performance metrics"})]}),g.jsx(ke,{children:g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Total Requests"}),g.jsx("span",{className:"font-medium",children:a.totalRequests})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Successful"}),g.jsx("span",{className:"font-medium text-green-600",children:a.successfulRequests})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Failed"}),g.jsx("span",{className:"font-medium text-red-600",children:a.failedRequests})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),g.jsxs("span",{className:"font-medium",children:[(a.errorRate*100).toFixed(1),"%"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Average Response Time"}),g.jsxs("span",{className:"font-medium",children:[a.averageResponseTime,"ms"]})]})]})})]})]})]}),g.jsxs(Dr,{value:"audit",className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(tt,{onClick:p,disabled:C,children:[g.jsx(EC,{className:"w-4 h-4 mr-2"}),"Create Audit Log"]}),g.jsxs(tt,{onClick:f,disabled:C,className:"bg-green-600 hover:bg-green-700",children:[g.jsx(JE,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),o.length>0&&g.jsx(tt,{onClick:E,variant:"outline",size:"sm",children:"Clear Logs"})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Audit Log Entries"}),g.jsx(Ve,{children:"Recent activity and requests"})]}),g.jsx(ke,{children:o.length===0?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No audit logs yet. Make some requests to see logs here."}):g.jsx("div",{className:"space-y-2",children:o.map((R,x)=>g.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("span",{className:"font-mono text-xs",children:R.endpoint}),g.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(R.timestamp).toLocaleTimeString()})]}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[g.jsxs("span",{children:["Method: ",g.jsx("span",{className:"font-medium",children:R.method||"GET"})]}),g.jsxs("span",{children:["Status: ",g.jsx("span",{className:`font-medium ${R.status===200?"text-green-600":"text-red-600"}`,children:R.status})]}),g.jsxs("span",{children:["Duration: ",g.jsx("span",{className:"font-medium",children:R.duration})]})]})]},x))})})]})]})]})})})]})}function jj(t){return!t||t.trim().length===0?{valid:!1,error:"Role name cannot be empty"}:t.length>100?{valid:!1,error:"Role name must be 100 characters or less"}:/^[a-zA-Z0-9_-]+$/.test(t.trim())?{valid:!0}:{valid:!1,error:"Role name can only contain letters, numbers, underscores, and hyphens"}}function KT(t){return!t||t.trim().length===0?{valid:!1,error:"Permission name cannot be empty"}:t.length>100?{valid:!1,error:"Permission name must be 100 characters or less"}:/^[a-zA-Z0-9_.-]+$/.test(t.trim())?{valid:!0}:{valid:!1,error:"Permission name can only contain letters, numbers, underscores, dots, and hyphens"}}function dC(t){if(!t||t.trim().length===0)return{valid:!1,error:"Permissions cannot be empty"};const s=t.split(",").map(n=>n.trim()).filter(Boolean);if(s.length===0)return{valid:!1,error:"At least one permission must be provided"};for(const n of s){const i=KT(n);if(!i.valid)return{valid:!1,error:`Invalid permission: ${n}. ${i.error}`}}return{valid:!0}}function Lj(t,s){const[n,i]=ee.useState(!1),[a,l]=ee.useState(null),[o,u]=ee.useState([]),[c,h]=ee.useState([]);return{loading:n,result:a,roles:o,permissions:c,isDisabled:n||s||!t,testGetRoles:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=await t.getRoles();u(D),l({roles:D,count:D.length,timestamp:new Date().toISOString()}),Ee.success(`Retrieved ${D.length} roles`)}catch(D){const I=Lt(D);Ee.error("Failed to get roles",{description:I}),u([])}finally{i(!1)}},testGetPermissions:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=await t.getPermissions();h(D),l({permissions:D,count:D.length,timestamp:new Date().toISOString()}),Ee.success(`Retrieved ${D.length} permissions`)}catch(D){const I=Lt(D);Ee.error("Failed to get permissions",{description:I}),h([])}finally{i(!1)}},testHasRole:async D=>{if(!t){Ee.error("DataClient not initialized");return}const I=jj(D);if(!I.valid){Ee.error(I.error||"Invalid role name");return}i(!0);try{const H=await t.hasRole(D);l({role:D,hasRole:H,timestamp:new Date().toISOString()}),Ee.success(H?`User has role: ${D}`:`User does not have role: ${D}`)}catch(H){const G=Lt(H);Ee.error("Failed to check role",{description:G})}finally{i(!1)}},testHasPermission:async D=>{if(!t){Ee.error("DataClient not initialized");return}const I=KT(D);if(!I.valid){Ee.error(I.error||"Invalid permission name");return}i(!0);try{const H=await t.hasPermission(D);l({permission:D,hasPermission:H,timestamp:new Date().toISOString()}),Ee.success(H?`User has permission: ${D}`:`User does not have permission: ${D}`)}catch(H){const G=Lt(H);Ee.error("Failed to check permission",{description:G})}finally{i(!1)}},testHasAnyRole:async D=>{if(!t){Ee.error("DataClient not initialized");return}if(!D){Ee.error("Please enter roles to check (comma-separated)");return}i(!0);try{const I=D.split(",").map(G=>G.trim()).filter(Boolean),H=await t.hasAnyRole(I);l({roles:I,hasAnyRole:H,timestamp:new Date().toISOString()}),Ee.success(H?"User has at least one of the roles":"User does not have any of the roles")}catch(I){const H=Lt(I);Ee.error("Failed to check roles",{description:H})}finally{i(!1)}},testHasAllRoles:async D=>{if(!t){Ee.error("DataClient not initialized");return}if(!D){Ee.error("Please enter roles to check (comma-separated)");return}i(!0);try{const I=D.split(",").map(G=>G.trim()).filter(Boolean),H=await t.hasAllRoles(I);l({roles:I,hasAllRoles:H,timestamp:new Date().toISOString()}),Ee.success(H?"User has all of the roles":"User does not have all of the roles")}catch(I){const H=Lt(I);Ee.error("Failed to check roles",{description:H})}finally{i(!1)}},testHasAnyPermission:async D=>{if(!t){Ee.error("DataClient not initialized");return}const I=dC(D);if(!I.valid){Ee.error(I.error||"Invalid permissions");return}i(!0);try{const H=D.split(",").map(ie=>ie.trim()).filter(Boolean),G=await t.hasAnyPermission(H);l({permissions:H,hasAnyPermission:G,timestamp:new Date().toISOString()}),Ee.success(G?"User has at least one of the permissions":"User does not have any of the permissions")}catch(H){const G=Lt(H);Ee.error("Failed to check permissions",{description:G})}finally{i(!1)}},testHasAllPermissions:async D=>{if(!t){Ee.error("DataClient not initialized");return}const I=dC(D);if(!I.valid){Ee.error(I.error||"Invalid permissions");return}i(!0);try{const H=D.split(",").map(ie=>ie.trim()).filter(Boolean),G=await t.hasAllPermissions(H);l({permissions:H,hasAllPermissions:G,timestamp:new Date().toISOString()}),Ee.success(G?"User has all of the permissions":"User does not have all of the permissions")}catch(H){const G=Lt(H);Ee.error("Failed to check permissions",{description:G})}finally{i(!1)}},testRefreshRoles:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=await t.refreshRoles();u(D),l({message:"Roles cache refreshed",roles:D,timestamp:new Date().toISOString()}),Ee.success("Roles cache refreshed")}catch(D){const I=Lt(D);Ee.error("Failed to refresh roles",{description:I})}finally{i(!1)}},testRefreshPermissions:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{const D=await t.refreshPermissions();h(D),l({message:"Permissions cache refreshed",permissions:D,timestamp:new Date().toISOString()}),Ee.success("Permissions cache refreshed")}catch(D){const I=Lt(D);Ee.error("Failed to refresh permissions",{description:I})}finally{i(!1)}},testClearRolesCache:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{await t.clearRolesCache(),l({message:"Roles cache cleared",timestamp:new Date().toISOString()}),Ee.success("Roles cache cleared")}catch(D){const I=Lt(D);Ee.error("Failed to clear roles cache",{description:I})}finally{i(!1)}},testClearPermissionsCache:async()=>{if(!t){Ee.error("DataClient not initialized");return}i(!0);try{await t.clearPermissionsCache(),l({message:"Permissions cache cleared",timestamp:new Date().toISOString()}),Ee.success("Permissions cache cleared")}catch(D){const I=Lt(D);Ee.error("Failed to clear permissions cache",{description:I})}finally{i(!1)}}}}function Dj(){const{dataClient:t,isLoading:s}=$a(),{result:n,roles:i,permissions:a,isDisabled:l,testGetRoles:o,testGetPermissions:u,testHasRole:c,testHasPermission:h,testHasAnyRole:f,testHasAllRoles:p,testHasAnyPermission:E,testHasAllPermissions:P,testRefreshRoles:_,testRefreshPermissions:C,testClearRolesCache:R,testClearPermissionsCache:x}=Lj(t,s),[w,v]=ee.useState(""),[k,O]=ee.useState(""),[j,D]=ee.useState(""),[I,H]=ee.useState("");return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Authorization"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Test roles and permissions using DataClient methods"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl",children:[g.jsxs(zd,{defaultValue:"roles",className:"space-y-6",children:[g.jsxs(Wd,{children:[g.jsx(Lr,{value:"roles",children:"Roles"}),g.jsx(Lr,{value:"permissions",children:"Permissions"})]}),g.jsx(Dr,{value:"roles",className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Get Roles"}),g.jsx(Ve,{children:"Retrieve user roles (auto-retrieves token from localStorage)"})]}),g.jsxs(ke,{children:[g.jsxs(tt,{onClick:o,disabled:l,className:"w-full",children:[g.jsx(mg,{className:"w-4 h-4 mr-2"}),"getRoles()"]}),i.length>0&&g.jsx("div",{className:"mt-4",children:g.jsxs(ri,{children:["Current Roles: ",i.length]})})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check Role"}),g.jsx(Ve,{children:"Check if user has a specific role"})]}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"roleToCheck",children:"Role Name"}),g.jsx(No,{id:"roleToCheck",value:w,onChange:G=>v(G.target.value),placeholder:"admin"})]}),g.jsx(tt,{onClick:()=>c(w),disabled:l,className:"w-full",children:"hasRole()"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check Any Role"}),g.jsx(Ve,{children:"Check if user has any of the specified roles"})]}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"rolesToCheck",children:"Roles (comma-separated)"}),g.jsx(No,{id:"rolesToCheck",value:j,onChange:G=>D(G.target.value),placeholder:"admin, user"})]}),g.jsx(tt,{onClick:()=>f(j),disabled:l,className:"w-full",children:"hasAnyRole()"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check All Roles"}),g.jsx(Ve,{children:"Check if user has all of the specified roles"})]}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"rolesToCheckAll",children:"Roles (comma-separated)"}),g.jsx(No,{id:"rolesToCheckAll",value:j,onChange:G=>D(G.target.value),placeholder:"admin, user"})]}),g.jsx(tt,{onClick:()=>p(j),disabled:l,className:"w-full",children:"hasAllRoles()"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Refresh Roles"}),g.jsx(Ve,{children:"Force refresh roles (bypass cache)"})]}),g.jsx(ke,{children:g.jsxs(tt,{onClick:_,disabled:l,className:"w-full",children:[g.jsx(Qu,{className:"w-4 h-4 mr-2"}),"refreshRoles()"]})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Clear Roles Cache"}),g.jsx(Ve,{children:"Clear cached roles"})]}),g.jsx(ke,{children:g.jsxs(tt,{onClick:R,disabled:l,variant:"outline",className:"w-full",children:[g.jsx(gg,{className:"w-4 h-4 mr-2"}),"clearRolesCache()"]})})]})]})}),g.jsx(Dr,{value:"permissions",className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Get Permissions"}),g.jsx(Ve,{children:"Retrieve user permissions (auto-retrieves token from localStorage)"})]}),g.jsxs(ke,{children:[g.jsxs(tt,{onClick:u,disabled:l,className:"w-full",children:[g.jsx(mg,{className:"w-4 h-4 mr-2"}),"getPermissions()"]}),a.length>0&&g.jsx("div",{className:"mt-4",children:g.jsxs(ri,{children:["Current Permissions: ",a.length]})})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check Permission"}),g.jsx(Ve,{children:"Check if user has a specific permission"})]}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"permissionToCheck",children:"Permission Name"}),g.jsx(No,{id:"permissionToCheck",value:k,onChange:G=>O(G.target.value),placeholder:"users:read"})]}),g.jsx(tt,{onClick:()=>h(k),disabled:l,className:"w-full",children:"hasPermission()"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check Any Permission"}),g.jsx(Ve,{children:"Check if user has any of the specified permissions"})]}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"permissionsToCheck",children:"Permissions (comma-separated)"}),g.jsx(No,{id:"permissionsToCheck",value:I,onChange:G=>H(G.target.value),placeholder:"users:read, users:write"})]}),g.jsx(tt,{onClick:()=>E(I),disabled:l,className:"w-full",children:"hasAnyPermission()"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Check All Permissions"}),g.jsx(Ve,{children:"Check if user has all of the specified permissions"})]}),g.jsxs(ke,{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ri,{htmlFor:"permissionsToCheckAll",children:"Permissions (comma-separated)"}),g.jsx(No,{id:"permissionsToCheckAll",value:I,onChange:G=>H(G.target.value),placeholder:"users:read, users:write"})]}),g.jsx(tt,{onClick:()=>P(I),disabled:l,className:"w-full",children:"hasAllPermissions()"})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Refresh Permissions"}),g.jsx(Ve,{children:"Force refresh permissions (bypass cache)"})]}),g.jsx(ke,{children:g.jsxs(tt,{onClick:C,disabled:l,className:"w-full",children:[g.jsx(Qu,{className:"w-4 h-4 mr-2"}),"refreshPermissions()"]})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{className:"text-lg",children:"Clear Permissions Cache"}),g.jsx(Ve,{children:"Clear cached permissions"})]}),g.jsx(ke,{children:g.jsxs(tt,{onClick:x,disabled:l,variant:"outline",className:"w-full",children:[g.jsx(gg,{className:"w-4 h-4 mr-2"}),"clearPermissionsCache()"]})})]})]})})]}),n&&g.jsxs(Re,{className:"mt-6",children:[g.jsx(Ae,{children:g.jsx(Ie,{className:"text-lg",children:"Response"})}),g.jsx(ke,{children:g.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(n,null,2)})})]})]})})]})}const Ze={gettingStarted:{serverSetup:`import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// Initialize MisoClient with environment variables
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN, not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// Your API routes
app.get('/api/users', async (req, res) => {
  // Your business logic here
  res.json({ users: [] });
});

app.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
});`,environmentVariables:`# Server-side environment variables (.env)
# Required for MisoClient initialization

# MISO Controller Configuration
MISO_CLIENTID=ctrl-dev-my-app
MISO_CLIENTSECRET=your-client-secret-here
MISO_CONTROLLER_URL=https://controller.aifabrix.ai

# Optional: Redis for caching (recommended for production)
REDIS_HOST=localhost
REDIS_PORT=6379

# Optional: Logging level
MISO_LOG_LEVEL=info`,clientSetup:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// Zero-config initialization
// Automatically fetches config from server's /api/v1/auth/client-token endpoint
const dataClient = await autoInitializeDataClient();

// Now you can use DataClient
const users = await dataClient.get('/api/users');
console.log('Users:', users);`,completeExample:`// ============================================
// SERVER-SIDE (Express.js)
// ============================================

import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// 1. Initialize MisoClient
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// 2. Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN (client token), not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// 3. Your API routes
// Option A: Public routes (no authentication)
app.get('/api/public', async (req, res) => {
  res.json({ message: 'Public endpoint' });
});

// Option B: Protected routes (validate user token)
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Token is valid, proceed with business logic
  res.json({ users: [{ id: 1, name: 'John' }] });
});

app.listen(3000);

// ============================================
// CLIENT-SIDE (Browser/React)
// ============================================

import { autoInitializeDataClient } from '@aifabrix/miso-client';

// 1. Initialize DataClient (zero-config)
// Automatically calls POST /api/v1/auth/client-token
// Receives: environment token (client token) + DataClient config
const dataClient = await autoInitializeDataClient();

// 2. Use DataClient
// Environment token is automatically sent in x-client-token header
// This authenticates the CLIENT APPLICATION, not the user
const users = await dataClient.get('/api/users');
console.log('Users:', users);

// 3. For user-authenticated requests:
// User must login first (via MISO Controller)
// User token is stored in localStorage by DataClient
// DataClient automatically includes user token in Authorization header`,howItWorks:`// HOW IT WORKS:
//
// 1. SERVER SETUP:
//    - Server has MISO_CLIENTID and MISO_CLIENTSECRET (never exposed to browser)
//    - Server creates /api/v1/auth/client-token endpoint
//    - This endpoint fetches ENVIRONMENT TOKEN (client token) from MISO Controller
//    - Returns environment token + DataClient configuration to browser
//    - Validates request origin (CORS) before returning token
//
// 2. CLIENT SETUP:
//    - Browser calls autoInitializeDataClient()
//    - DataClient calls POST /api/v1/auth/client-token
//    - Receives environment token (client token) + configuration
//    - Stores environment token in localStorage (with expiration)
//    - Initializes DataClient with received config
//
// 3. REQUEST FLOW:
//    - Client makes request: dataClient.get('/api/users')
//    - DataClient automatically adds x-client-token header (environment token)
//    - Environment token authenticates the CLIENT APPLICATION
//    - For user authentication, validate user token (Bearer token) in your routes
//
// TOKEN TYPES:
// - ENVIRONMENT TOKEN (client token): Authenticates the client application
//   - Sent in x-client-token header
//   - Used to authenticate with MISO Controller
//   - Short-lived (default: 30 minutes)
//   - Automatically refreshed when expired
//
// - USER TOKEN: Authenticates the user
//   - Sent in Authorization: Bearer <token> header
//   - Obtained via login flow
//   - Validated in your API routes using misoClient.auth.validateToken()
//
// SECURITY:
// - Client secret NEVER exposed to browser
// - Environment token is short-lived (default: 30 minutes)
// - Token automatically refreshed when expired
// - Origin validation prevents token theft
// - Your API routes should validate USER tokens, not client tokens`,validateUserTokens:`// ============================================
// VALIDATING USER TOKENS IN API ROUTES
// ============================================

import express from 'express';
import { MisoClient, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Option 1: Manual validation in each route
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Get user info if needed
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  
  // Token is valid, proceed with business logic
  res.json({ users: [], currentUser: userInfo });
});

// Option 2: Create middleware for reusable validation
function requireAuth(misoClient: MisoClient) {
  return async (req: express.Request, res: express.Response, next: express.NextFunction) => {
    const userToken = misoClient.getToken(req);
    
    if (!userToken) {
      return res.status(401).json({ error: 'Unauthorized - no token' });
    }
    
    const isValid = await misoClient.auth.validateToken(userToken);
    if (!isValid) {
      return res.status(401).json({ error: 'Unauthorized - invalid token' });
    }
    
    // Attach token to request for use in route handlers
    (req as any).userToken = userToken;
    next();
  };
}

// Use middleware
app.get('/api/protected', requireAuth(misoClient), async (req, res) => {
  const userToken = (req as any).userToken;
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  res.json({ message: 'Protected route', user: userInfo });
});

// IMPORTANT NOTES:
// - Environment token (x-client-token) is for client app authentication
// - User token (Authorization: Bearer) is for user authentication
// - Your routes should validate USER tokens, not environment tokens
// - Environment token is handled automatically by DataClient`},initialization:{zeroConfig:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// One line - automatically fetches config and initializes DataClient
const dataClient = await autoInitializeDataClient();

// Use DataClient
const users = await dataClient.get('/api/users');`,manual:`import { DataClient } from '@aifabrix/miso-client';

// Manual configuration (browser-safe, no clientSecret)
const dataClient = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    // Use server-provided token pattern
    clientTokenUri: '/api/v1/auth/client-token',
  },
});`,reactContext:`import { DataClientProvider, useDataClient } from './contexts/DataClientContext';

// Wrap your app with DataClientProvider
function App() {
  return (
    <DataClientProvider>
      <YourComponents />
    </DataClientProvider>
  );
}

// Use DataClient in components
function MyComponent() {
  const { dataClient, isLoading, error } = useDataClient();
  
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!dataClient) return <div>Not initialized</div>;
  
  // Use dataClient...
}`},httpMethods:{get:`// GET request with cache
const users = await dataClient.get('/api/users');

// GET request without cache
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});

// GET request with custom options
const user = await dataClient.get('/api/users/1', {
  headers: { 'X-Custom-Header': 'value' },
  timeout: 5000,
});`,post:`// POST request
const newUser = await dataClient.post('/api/users', {
  name: 'John Doe',
  email: 'john@example.com',
});

// POST with error handling
try {
  const result = await dataClient.post('/api/users', userData);
  console.log('User created:', result);
} catch (error) {
  console.error('Failed to create user:', error.message);
}`,put:`// PUT request (full update)
const updatedUser = await dataClient.put('/api/users/1', {
  name: 'John Doe Updated',
  email: 'john.updated@example.com',
});`,patch:`// PATCH request (partial update)
const patchedUser = await dataClient.patch('/api/users/1', {
  email: 'john.newemail@example.com',
});`,delete:`// DELETE request
await dataClient.delete('/api/users/1');

// DELETE with error handling
try {
  await dataClient.delete('/api/users/1');
  console.log('User deleted');
} catch (error) {
  console.error('Failed to delete user:', error.message);
}`},authentication:{isAuthenticated:`// Check if user is authenticated
const isAuth = dataClient.isAuthenticated();
if (isAuth) {
  console.log('User is authenticated');
} else {
  console.log('User is not authenticated');
}`,getToken:`// Get environment token
const token = await dataClient.getEnvironmentToken();
if (token) {
  console.log('Token:', token);
} else {
  console.log('No token available');
}`,getTokenInfo:`// Get client token information
const tokenInfo = dataClient.getClientTokenInfo();
if (tokenInfo) {
  console.log('Token expires at:', tokenInfo.expiresAt);
  console.log('Token issued at:', tokenInfo.issuedAt);
}`,logout:`// Logout user
try {
  await dataClient.logout();
  console.log('User logged out');
} catch (error) {
  console.error('Logout failed:', error.message);
}`,redirectToLogin:`// Redirect to login
try {
  await dataClient.redirectToLogin();
} catch (error) {
  console.error('Redirect failed:', error.message);
}`,handleOAuthCallback:`// OAuth callback handling (automatically called on initialization)
// Token is extracted from URL hash fragment (#token=...) and stored securely
// Hash fragment is immediately removed from URL (< 100ms) for security

// Auto-called on DataClient initialization
const dataClient = new DataClient(config);
// Token is automatically extracted if present in URL hash

// Or manually call if needed
const token = dataClient.handleOAuthCallback();
if (token) {
  console.log('Token extracted and stored');
}

// OAuth Flow:
// 1. User calls redirectToLogin() â†’ redirects to controller login page
// 2. Controller handles OAuth flow with Keycloak
// 3. Controller redirects back: https://myapp.com/dashboard#token=eyJhbGc...
// 4. handleOAuthCallback() extracts token from hash fragment
// 5. Token is validated and stored in localStorage
// 6. Hash fragment is immediately removed from URL (< 100ms)
// 7. User sees clean URL: https://myapp.com/dashboard`,tokenRefresh:`// Token refresh callback (automatic refresh on 401 errors)
// Configure onTokenRefresh callback to handle token renewal securely
const dataClientWithRefresh = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    clientTokenUri: '/api/v1/auth/client-token',
  },
  onTokenRefresh: async () => {
    // Call your backend endpoint that handles refresh token securely
    // Backend should use httpOnly cookies or session storage for refresh token
    const response = await fetch('/api/refresh-token', {
      method: 'POST',
      credentials: 'include', // Include cookies for auth
      headers: {
        'Content-Type': 'application/json',
      },
    });
    
    if (!response.ok) {
      throw new Error('Token refresh failed');
    }
    
    const data = await response.json();
    // Return new access token and expiration time
    return {
      token: data.token, // New access token
      expiresIn: data.expiresIn, // Expiration in seconds
    };
  },
});

// How it works:
// - Automatically called when a request receives 401 Unauthorized
// - Refreshes token using your secure backend endpoint
// - Retries the original request with new token
// - Prevents infinite retry loops with tokenRefreshAttempted flag
// - Refresh tokens are NEVER stored in browser localStorage (security requirement)`},caching:{enabled:`// Cache-enabled GET request
const users = await dataClient.get('/api/users', {
  cache: { enabled: true, ttl: 60000 }, // Cache for 60 seconds
});`,disabled:`// Cache-bypassed GET request
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});`,clearCache:`// Clear all cache
dataClient.clearCache();
console.log('Cache cleared');`},interceptors:{request:`// Set request interceptor
dataClient.setInterceptors({
  onRequest: async (url, options) => {
    // Modify request before sending
    return {
      ...options,
      headers: {
        ...options.headers,
        'X-Custom-Header': 'value',
      },
    };
  },
});`,response:`// Set response interceptor
dataClient.setInterceptors({
  onResponse: async (response) => {
    // Modify response before returning
    console.log('Response received:', response);
    return response;
  },
});`,error:`// Set error interceptor
dataClient.setInterceptors({
  onError: async (error) => {
    // Handle errors
    console.error('Request error:', error);
    throw error; // Re-throw to maintain error flow
  },
});`},roles:{getRoles:`// Get user roles (auto-retrieves token from localStorage)
const roles = await dataClient.getRoles();
console.log('User roles:', roles);`,hasRole:`// Check specific role
const isAdmin = await dataClient.hasRole('admin');
if (isAdmin) {
  console.log('User is admin');
}`,hasAnyRole:`// Check if user has any of the roles
const hasAccess = await dataClient.hasAnyRole(['admin', 'moderator']);
if (hasAccess) {
  console.log('User has access');
}`,hasAllRoles:`// Check if user has all of the roles
const isSuperAdmin = await dataClient.hasAllRoles(['admin', 'super']);
if (isSuperAdmin) {
  console.log('User is super admin');
}`,refreshRoles:`// Force refresh roles (bypass cache)
const refreshedRoles = await dataClient.refreshRoles();
console.log('Refreshed roles:', refreshedRoles);`,clearRolesCache:`// Clear cached roles
await dataClient.clearRolesCache();
console.log('Roles cache cleared');`},permissions:{getPermissions:`// Get user permissions (auto-retrieves token from localStorage)
const permissions = await dataClient.getPermissions();
console.log('User permissions:', permissions);`,hasPermission:`// Check specific permission
const canRead = await dataClient.hasPermission('users:read');
if (canRead) {
  console.log('User can read users');
}`,hasAnyPermission:`// Check if user has any of the permissions
const canAccess = await dataClient.hasAnyPermission(['users:read', 'users:write']);
if (canAccess) {
  console.log('User has access');
}`,hasAllPermissions:`// Check if user has all of the permissions
const canManage = await dataClient.hasAllPermissions(['users:read', 'users:write', 'users:delete']);
if (canManage) {
  console.log('User can manage users');
}`,refreshPermissions:`// Force refresh permissions (bypass cache)
const refreshedPermissions = await dataClient.refreshPermissions();
console.log('Refreshed permissions:', refreshedPermissions);`,clearPermissionsCache:`// Clear cached permissions
await dataClient.clearPermissionsCache();
console.log('Permissions cache cleared');`},errorHandling:{tryCatch:`// Basic error handling
try {
  const users = await dataClient.get('/api/users');
  console.log('Users:', users);
} catch (error) {
  console.error('Request failed:', error.message);
  // Display user-friendly error message
}`,networkError:`// Handle network errors
try {
  const users = await dataClient.get('/api/users');
} catch (error) {
  if (error.message.includes('Network')) {
    console.error('Network error - check your connection');
  } else {
    console.error('Request failed:', error.message);
  }
}`,apiError:`// Handle API errors
try {
  const result = await dataClient.post('/api/users', userData);
} catch (error: any) {
  if (error.status === 400) {
    console.error('Validation error:', error.response?.data);
  } else if (error.status === 401) {
    console.error('Unauthorized - please login');
  } else if (error.status === 403) {
    console.error('Forbidden - insufficient permissions');
  } else {
    console.error('Request failed:', error.message);
  }
}`},metrics:{getMetrics:`// Get request metrics
const metrics = dataClient.getMetrics();
console.log('Total requests:', metrics.totalRequests);
console.log('Failed requests:', metrics.totalFailures);
console.log('Average response time:', metrics.averageResponseTime);
console.log('Cache hit rate:', metrics.cacheHitRate);`}};function Uj(){const[t,s]=ee.useState(null),n=async(a,l)=>{try{await navigator.clipboard.writeText(a),s(l),Ee.success("Code copied to clipboard"),setTimeout(()=>s(null),2e3)}catch{Ee.error("Failed to copy code")}},i=({code:a,id:l})=>g.jsx("div",{className:"group",children:g.jsxs("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto relative",children:[g.jsx("code",{children:a}),g.jsx(tt,{size:"sm",variant:"ghost",style:{position:"absolute",top:"0.5rem",right:"0.5rem"},className:"z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-background/80 backdrop-blur-sm",onClick:()=>n(a,l),children:t===l?g.jsx(vC,{className:"w-4 h-4 text-green-600"}):g.jsx(RR,{className:"w-4 h-4"})})]})});return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"border-b border-border bg-white",children:g.jsxs("div",{className:"px-8 py-6",children:[g.jsx("h1",{className:"text-2xl",children:"Code Examples"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Copyable code examples for using DataClient"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-8",children:g.jsxs("div",{className:"max-w-6xl",children:[g.jsxs(zd,{defaultValue:"gettingStarted",className:"space-y-6",children:[g.jsxs(Wd,{className:"grid w-full grid-cols-8",children:[g.jsx(Lr,{value:"gettingStarted",children:"Getting Started"}),g.jsx(Lr,{value:"initialization",children:"Init"}),g.jsx(Lr,{value:"http",children:"HTTP"}),g.jsx(Lr,{value:"auth",children:"Auth"}),g.jsx(Lr,{value:"caching",children:"Cache"}),g.jsx(Lr,{value:"interceptors",children:"Interceptors"}),g.jsx(Lr,{value:"roles",children:"Roles"}),g.jsx(Lr,{value:"permissions",children:"Permissions"})]}),g.jsxs(Dr,{value:"gettingStarted",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Server Setup"}),g.jsx(Ve,{children:"Set up Express.js server with client token endpoint"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.gettingStarted.serverSetup,id:"getting-started-server"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Environment Variables"}),g.jsx(Ve,{children:"Configure server-side environment variables"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.gettingStarted.environmentVariables,id:"getting-started-env"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Client Setup"}),g.jsx(Ve,{children:"Initialize DataClient in your browser application"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.gettingStarted.clientSetup,id:"getting-started-client"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Complete Example"}),g.jsx(Ve,{children:"Full server and client integration example"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.gettingStarted.completeExample,id:"getting-started-complete"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"How It Works"}),g.jsx(Ve,{children:"Understanding the authentication flow and security model"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.gettingStarted.howItWorks,id:"getting-started-how-it-works"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Validating User Tokens in Routes"}),g.jsx(Ve,{children:"How to protect your API routes with user token validation"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.gettingStarted.validateUserTokens,id:"getting-started-validate-tokens"})})]})]}),g.jsxs(Dr,{value:"initialization",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Zero-Config Initialization"}),g.jsx(Ve,{children:"Automatically fetch configuration from server"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.initialization.zeroConfig,id:"init-zero"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Manual Initialization"}),g.jsx(Ve,{children:"Configure DataClient with custom settings"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.initialization.manual,id:"init-manual"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"React Context Setup"}),g.jsx(Ve,{children:"Use DataClient with React Context"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.initialization.reactContext,id:"init-context"})})]})]}),g.jsxs(Dr,{value:"http",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"GET Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.httpMethods.get,id:"http-get"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"POST Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.httpMethods.post,id:"http-post"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"PUT Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.httpMethods.put,id:"http-put"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"PATCH Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.httpMethods.patch,id:"http-patch"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"DELETE Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.httpMethods.delete,id:"http-delete"})})]})]}),g.jsxs(Dr,{value:"auth",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check Authentication"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.isAuthenticated,id:"auth-check"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Get Token"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.getToken,id:"auth-token"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Get Token Info"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.getTokenInfo,id:"auth-token-info"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Logout"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.logout,id:"auth-logout"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Redirect to Login"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.redirectToLogin,id:"auth-redirect"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"OAuth Callback Handling"}),g.jsx(Ve,{children:"Automatically extract and store tokens from OAuth redirect (hash fragment)"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.handleOAuthCallback,id:"auth-oauth-callback"})})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Token Refresh Callback"}),g.jsx(Ve,{children:"Configure automatic token refresh on 401 errors using secure backend endpoint"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.authentication.tokenRefresh,id:"auth-token-refresh"})})]})]}),g.jsxs(Dr,{value:"caching",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Cache-Enabled Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.caching.enabled,id:"cache-enabled"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Cache-Bypassed Requests"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.caching.disabled,id:"cache-disabled"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Clear Cache"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.caching.clearCache,id:"cache-clear"})})]})]}),g.jsxs(Dr,{value:"interceptors",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Request Interceptor"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.interceptors.request,id:"interceptor-request"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Response Interceptor"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.interceptors.response,id:"interceptor-response"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Error Interceptor"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.interceptors.error,id:"interceptor-error"})})]})]}),g.jsxs(Dr,{value:"roles",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Get Roles"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.roles.getRoles,id:"roles-get"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check Role"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.roles.hasRole,id:"roles-has"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check Any Role"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.roles.hasAnyRole,id:"roles-any"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check All Roles"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.roles.hasAllRoles,id:"roles-all"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Refresh Roles"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.roles.refreshRoles,id:"roles-refresh"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Clear Roles Cache"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.roles.clearRolesCache,id:"roles-clear"})})]})]}),g.jsxs(Dr,{value:"permissions",className:"space-y-6",children:[g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Get Permissions"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.permissions.getPermissions,id:"perms-get"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check Permission"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.permissions.hasPermission,id:"perms-has"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check Any Permission"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.permissions.hasAnyPermission,id:"perms-any"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Check All Permissions"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.permissions.hasAllPermissions,id:"perms-all"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Refresh Permissions"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.permissions.refreshPermissions,id:"perms-refresh"})})]}),g.jsxs(Re,{children:[g.jsx(Ae,{children:g.jsx(Ie,{children:"Clear Permissions Cache"})}),g.jsx(ke,{children:g.jsx(i,{code:Ze.permissions.clearPermissionsCache,id:"perms-clear"})})]})]})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Error Handling"}),g.jsx(Ve,{children:"Patterns for handling errors"})]}),g.jsxs(ke,{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Basic Try-Catch"}),g.jsx(i,{code:Ze.errorHandling.tryCatch,id:"error-basic"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Network Errors"}),g.jsx(i,{code:Ze.errorHandling.networkError,id:"error-network"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"API Errors"}),g.jsx(i,{code:Ze.errorHandling.apiError,id:"error-api"})]})]})]}),g.jsxs(Re,{children:[g.jsxs(Ae,{children:[g.jsx(Ie,{children:"Metrics"}),g.jsx(Ve,{children:"Get request metrics"})]}),g.jsx(ke,{children:g.jsx(i,{code:Ze.metrics.getMetrics,id:"metrics-get"})})]})]})]})})]})}var $j=(t,s,n,i,a,l,o,u)=>{let c=document.documentElement,h=["light","dark"];function f(P){(Array.isArray(t)?t:[t]).forEach(_=>{let C=_==="class",R=C&&l?a.map(x=>l[x]||x):a;C?(c.classList.remove(...R),c.classList.add(l&&l[P]?l[P]:P)):c.setAttribute(_,P)}),p(P)}function p(P){u&&h.includes(P)&&(c.style.colorScheme=P)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)f(i);else try{let P=localStorage.getItem(s)||n,_=o&&P==="system"?E():P;f(_)}catch{}},fC=["light","dark"],VT="(prefers-color-scheme: dark)",Mj=typeof window>"u",ky=ee.createContext(void 0),qj={setTheme:t=>{},themes:[]},Fj=()=>{var t;return(t=ee.useContext(ky))!=null?t:qj},Hj=t=>ee.useContext(ky)?ee.createElement(ee.Fragment,null,t.children):ee.createElement(zj,{...t}),Bj=["light","dark"],zj=({forcedTheme:t,disableTransitionOnChange:s=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:a="theme",themes:l=Bj,defaultTheme:o=n?"system":"light",attribute:u="data-theme",value:c,children:h,nonce:f,scriptProps:p})=>{let[E,P]=ee.useState(()=>Kj(a,o)),[_,C]=ee.useState(()=>E==="system"?hg():E),R=c?Object.values(c):l,x=ee.useCallback(O=>{let j=O;if(!j)return;O==="system"&&n&&(j=hg());let D=c?c[j]:j,I=s?Vj(f):null,H=document.documentElement,G=ie=>{ie==="class"?(H.classList.remove(...R),D&&H.classList.add(D)):ie.startsWith("data-")&&(D?H.setAttribute(ie,D):H.removeAttribute(ie))};if(Array.isArray(u)?u.forEach(G):G(u),i){let ie=fC.includes(o)?o:null,he=fC.includes(j)?j:ie;H.style.colorScheme=he}I?.()},[f]),w=ee.useCallback(O=>{let j=typeof O=="function"?O(E):O;P(j);try{localStorage.setItem(a,j)}catch{}},[E]),v=ee.useCallback(O=>{let j=hg(O);C(j),E==="system"&&n&&!t&&x("system")},[E,t]);ee.useEffect(()=>{let O=window.matchMedia(VT);return O.addListener(v),v(O),()=>O.removeListener(v)},[v]),ee.useEffect(()=>{let O=j=>{j.key===a&&(j.newValue?P(j.newValue):w(o))};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[w]),ee.useEffect(()=>{x(t??E)},[t,E]);let k=ee.useMemo(()=>({theme:E,setTheme:w,forcedTheme:t,resolvedTheme:E==="system"?_:E,themes:n?[...l,"system"]:l,systemTheme:n?_:void 0}),[E,w,t,_,n,l]);return ee.createElement(ky.Provider,{value:k},ee.createElement(Wj,{forcedTheme:t,storageKey:a,attribute:u,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:c,themes:l,nonce:f,scriptProps:p}),h)},Wj=ee.memo(({forcedTheme:t,storageKey:s,attribute:n,enableSystem:i,enableColorScheme:a,defaultTheme:l,value:o,themes:u,nonce:c,scriptProps:h})=>{let f=JSON.stringify([n,s,l,t,u,o,i,a]).slice(1,-1);return ee.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${$j.toString()})(${f})`}})}),Kj=(t,s)=>{if(Mj)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||s},Vj=t=>{let s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},hg=t=>(t||(t=window.matchMedia(VT)),t.matches?"dark":"light");const Gj=({...t})=>{const{theme:s="system"}=Fj();return g.jsx(yA,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},Xu={p18cc100:"M34.4572 24.1629C34.1171 23.2828 33.8371 22.5727 33.6171 22.0526C33.407 21.5126 33.137 21.0225 32.8169 20.5624C32.5069 20.1023 32.0868 19.7323 31.5668 19.4423C31.0567 19.1422 30.4166 18.9922 29.6465 18.9922C28.8764 18.9922 28.2463 19.1422 27.7262 19.4423C27.2161 19.7323 26.7961 20.1124 26.476 20.5824C26.166 21.0525 25.8659 21.6526 25.5759 22.3727C25.3059 23.0828 25.0658 23.6929 24.8658 24.2029L17.8648 41.9855C17.5748 42.6956 17.3747 43.2457 17.2447 43.6457C17.1247 44.0458 17.0547 44.4258 17.0547 44.8059C17.0547 45.456 17.3247 46.0361 17.8548 46.5461C18.3849 47.0562 19.005 47.3162 19.7051 47.3162C20.5252 47.3162 21.1153 47.0762 21.4753 46.6061C21.8354 46.1161 22.2754 45.1959 22.7855 43.8257L24.0957 40.3152H35.2273L36.5375 43.7557C36.7075 44.1758 36.9175 44.6759 37.1576 45.2359C37.4076 45.786 37.6376 46.1961 37.8477 46.4661C38.0577 46.7262 38.3177 46.9362 38.6278 47.0862C38.9378 47.2462 39.3079 47.3262 39.7479 47.3262C40.498 47.3262 41.1281 47.0662 41.6482 46.5461C42.1883 46.0061 42.4483 45.426 42.4483 44.7859C42.4483 44.1458 42.1683 43.1956 41.6082 41.8555L34.4572 24.1829V24.1629ZM25.5459 36.1346L29.5965 24.833L33.7271 36.1346H25.5459Z",p2888f670:"M66.9996 29.5342C65.3393 29.5342 63.9992 30.8744 63.9992 32.5346V46.8167C63.9992 51.4073 62.2089 55.728 58.9684 58.9684C55.728 62.2189 51.4074 63.9991 46.8167 63.9991H23.1833C18.5927 63.9991 14.272 62.2089 11.0316 58.9684C7.78111 55.718 6.00086 51.4073 6.00086 46.8167V23.1833C6.00086 18.5927 7.79111 14.272 11.0316 11.0316C14.272 7.79112 18.5927 6.00086 23.1833 6.00086H46.8167C48.4769 6.00086 49.8171 4.66067 49.8171 3.00043C49.8171 1.34019 48.4769 0 46.8167 0H23.1833C16.9924 0 11.1716 2.41035 6.79097 6.79097C2.41034 11.1716 0 16.9924 0 23.1833V46.8167C0 53.0076 2.41034 58.8284 6.79097 63.209C11.1716 67.5897 16.9924 70 23.1833 70H46.8167C53.0076 70 58.8384 67.5897 63.209 63.209C67.5897 58.8284 70 53.0076 70 46.8167V32.5346C70 30.8744 68.6598 29.5342 66.9996 29.5342Z",p3d0c8dc0:"M63.3766 24.1126C69.5907 24.1126 74.6282 19.0751 74.6282 12.861C74.6282 6.64689 69.5907 1.60938 63.3766 1.60938C57.1625 1.60938 52.125 6.64689 52.125 12.861C52.125 19.0751 57.1625 24.1126 63.3766 24.1126Z",p5723880:"M48.7157 26.5742C47.9656 26.5742 47.3555 26.8343 46.8854 27.3443C46.4253 27.8544 46.1953 28.6145 46.1953 29.6247V44.2167C46.1953 45.2169 46.4253 45.977 46.8854 46.5171C47.3555 47.0571 47.9656 47.3172 48.7157 47.3172C49.4658 47.3172 50.0759 47.0571 50.5659 46.5371C51.056 46.017 51.296 45.2369 51.296 44.2167V29.4746C51.296 28.5645 51.056 27.8544 50.5659 27.3443C50.0759 26.8343 49.4658 26.5742 48.7157 26.5742Z"},Jj="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2075%2070%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22clip0_5723_7999%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M75%200H0V70H75V0Z%22%20fill%3D%22var(--fill-0%2C%20black)%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function Xj(){return g.jsx("div",{className:"relative size-full","data-name":"favicon 1",children:g.jsx("div",{className:"absolute contents inset-0","data-name":"Clip path group",children:g.jsx("div",{className:"absolute inset-[0_0.5%_0_0] mask-alpha mask-intersect mask-no-clip mask-no-repeat mask-position-[0px] mask-size-[75px_70px]","data-name":"Group",style:{maskImage:`url('${Jj}')`},children:g.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 75 70",children:g.jsxs("g",{id:"Group",children:[g.jsx("path",{d:Xu.p5723880,fill:"var(--fill-0, #111827)",id:"Vector"}),g.jsx("path",{d:Xu.p18cc100,fill:"var(--fill-0, #111827)",id:"Vector_2"}),g.jsx("path",{d:Xu.p2888f670,fill:"var(--fill-0, #0062FF)",id:"Vector_3"}),g.jsx("path",{d:Xu.p3d0c8dc0,fill:"var(--fill-0, #0062FF)",id:"Vector_4"})]})})})})})}function Yj(){const[t,s]=ee.useState("configuration"),n=()=>{switch(t){case"configuration":return g.jsx(uC,{});case"api-testing":return g.jsx(Rj,{});case"caching":return g.jsx(Nj,{});case"monitoring":return g.jsx(Oj,{});case"authorization":return g.jsx(Dj,{});case"code-examples":return g.jsx(Uj,{});default:return g.jsx(uC,{})}};return g.jsxs("div",{className:"flex h-screen bg-background",children:[g.jsx(Zj,{activeSection:t,onSectionChange:s}),g.jsx("main",{className:"flex-1 overflow-auto",children:n()}),g.jsx(Gj,{position:"top-right"})]})}function Qj(){const{dataClient:t,isLoading:s}=$a(),[n,i]=ee.useState(!1),[a,l]=ee.useState(!1);ee.useEffect(()=>{if(!t)return;const c=()=>{t.handleOAuthCallback()?(i(!0),Ee.success("Authentication successful",{description:"You have been successfully authenticated",duration:3e3})):i(t.isAuthenticated())};c();const h=()=>{c()};window.addEventListener("hashchange",h);const f=()=>{setTimeout(c,100)};return window.addEventListener("focus",f),()=>{window.removeEventListener("hashchange",h),window.removeEventListener("focus",f)}},[t]);const o=async()=>{if(!t){Ee.error("DataClient not initialized",{description:"Please initialize DataClient first on the Configuration page",duration:5e3});return}l(!0);try{await t.redirectToLogin(),l(!1)}catch(c){const h=c instanceof Error?c.message:"Unknown error";Ee.error("Login failed",{description:h,duration:1e4}),l(!1)}},u=async()=>{if(!t){Ee.error("DataClient not initialized");return}l(!0);try{await t.logout(),i(!1),Ee.success("Logged out successfully")}catch(c){const h=c instanceof Error?c.message:"Unknown error";Ee.error("Logout failed",{description:h})}finally{l(!1)}};return s?g.jsx("div",{className:"p-4 border-t border-sidebar-border",children:g.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})}):g.jsxs("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[g.jsx(BR,{className:"w-3 h-3"}),g.jsx("span",{className:n?"text-green-600":"text-muted-foreground",children:n?"Authenticated":"Not authenticated"})]}),n?g.jsxs(tt,{variant:"outline",size:"sm",className:"w-full",onClick:u,disabled:a||!t,children:[g.jsx(OR,{className:"w-3 h-3 mr-2"}),a?"Logging out...":"Logout"]}):g.jsxs(tt,{variant:"default",size:"sm",className:"w-full",onClick:o,disabled:a||!t,children:[g.jsx(PR,{className:"w-3 h-3 mr-2"}),a?"Redirecting...":"Login"]})]})}function Zj({activeSection:t,onSectionChange:s}){const n=[{id:"configuration",label:"Configuration",icon:$R},{id:"api-testing",label:"API Testing",icon:LR},{id:"caching",label:"Caching & Storage",icon:pg},{id:"monitoring",label:"Monitoring & Logs",icon:wR},{id:"authorization",label:"Authorization",icon:mg},{id:"code-examples",label:"Code Examples",icon:TR}];return g.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col",children:[g.jsx("div",{className:"p-6 border-b border-sidebar-border",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10",children:g.jsx(Xj,{})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-sidebar-foreground font-medium",children:"AI Fabrix"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"MISO Data Client"})]})]})}),g.jsx("nav",{className:"flex-1 p-4",role:"navigation","aria-label":"Main navigation",children:g.jsx("ul",{className:"space-y-1",children:n.map(i=>{const a=t===i.id,l=i.icon;return g.jsx("li",{children:g.jsxs("button",{onClick:()=>s(i.id),className:`
                    w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors
                    ${a?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"}
                  `,children:[g.jsx(l,{className:"w-4 h-4"}),g.jsx("span",{children:i.label})]})},i.id)})})}),g.jsx(Qj,{}),g.jsx("div",{className:"p-4 border-t border-sidebar-border",children:g.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Version"}),g.jsx("span",{className:"font-medium",children:"1.0.0"})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Environment"}),g.jsx("span",{className:"font-medium text-green-600",children:"Development"})]})]})})]})}uR.createRoot(document.getElementById("root")).render(g.jsx(Hj,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:g.jsx(qO,{children:g.jsx(Yj,{})})}))});export default e2();
//# sourceMappingURL=index-DlUQ6nEl.js.map
