var Ax=(r,s)=>()=>(s||r((s={exports:{}}).exports,s),s.exports);var yR=Ax((tt,Fe)=>{function Nx(r,s){for(var n=0;n<s.length;n++){const i=s[n];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in r)){const a=Object.getOwnPropertyDescriptor(i,c);a&&Object.defineProperty(r,c,a.get?a:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(c){if(c.ep)return;c.ep=!0;const a=n(c);fetch(c.href,a)}})();var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function el(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")&&Object.keys(r).length===1?r.default:r}var Xd={exports:{}},ha={},Qd={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function Px(){if(Gg)return et;Gg=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),d=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function x(F,re,B){this.props=F,this.context=re,this.refs=C,this.updater=B||E}x.prototype.isReactComponent={},x.prototype.setState=function(F,re){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,re,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=x.prototype;function P(F,re,B){this.props=F,this.context=re,this.refs=C,this.updater=B||E}var N=P.prototype=new b;N.constructor=P,S(N,x.prototype),N.isPureReactComponent=!0;var j=Array.isArray,U=Object.prototype.hasOwnProperty,A={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(F,re,B){var te,fe={},Ce=null,Re=null;if(re!=null)for(te in re.ref!==void 0&&(Re=re.ref),re.key!==void 0&&(Ce=""+re.key),re)U.call(re,te)&&!I.hasOwnProperty(te)&&(fe[te]=re[te]);var _e=arguments.length-2;if(_e===1)fe.children=B;else if(1<_e){for(var We=Array(_e),at=0;at<_e;at++)We[at]=arguments[at+2];fe.children=We}if(F&&F.defaultProps)for(te in _e=F.defaultProps,_e)fe[te]===void 0&&(fe[te]=_e[te]);return{$$typeof:r,type:F,key:Ce,ref:Re,props:fe,_owner:A.current}}function $(F,re){return{$$typeof:r,type:F.type,key:re,ref:F.ref,props:F.props,_owner:F._owner}}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function se(F){var re={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(B){return re[B]})}var Q=/\/+/g;function K(F,re){return typeof F=="object"&&F!==null&&F.key!=null?se(""+F.key):re.toString(36)}function J(F,re,B,te,fe){var Ce=typeof F;(Ce==="undefined"||Ce==="boolean")&&(F=null);var Re=!1;if(F===null)Re=!0;else switch(Ce){case"string":case"number":Re=!0;break;case"object":switch(F.$$typeof){case r:case s:Re=!0}}if(Re)return Re=F,fe=fe(Re),F=te===""?"."+K(Re,0):te,j(fe)?(B="",F!=null&&(B=F.replace(Q,"$&/")+"/"),J(fe,re,B,"",function(at){return at})):fe!=null&&(Y(fe)&&(fe=$(fe,B+(!fe.key||Re&&Re.key===fe.key?"":(""+fe.key).replace(Q,"$&/")+"/")+F)),re.push(fe)),1;if(Re=0,te=te===""?".":te+":",j(F))for(var _e=0;_e<F.length;_e++){Ce=F[_e];var We=te+K(Ce,_e);Re+=J(Ce,re,B,We,fe)}else if(We=v(F),typeof We=="function")for(F=We.call(F),_e=0;!(Ce=F.next()).done;)Ce=Ce.value,We=te+K(Ce,_e++),Re+=J(Ce,re,B,We,fe);else if(Ce==="object")throw re=String(F),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Re}function W(F,re,B){if(F==null)return F;var te=[],fe=0;return J(F,te,"","",function(Ce){return re.call(B,Ce,fe++)}),te}function V(F){if(F._status===-1){var re=F._result;re=re(),re.then(function(B){(F._status===0||F._status===-1)&&(F._status=1,F._result=B)},function(B){(F._status===0||F._status===-1)&&(F._status=2,F._result=B)}),F._status===-1&&(F._status=0,F._result=re)}if(F._status===1)return F._result.default;throw F._result}var ee={current:null},q={transition:null},ue={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:q,ReactCurrentOwner:A};function ce(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:W,forEach:function(F,re,B){W(F,function(){re.apply(this,arguments)},B)},count:function(F){var re=0;return W(F,function(){re++}),re},toArray:function(F){return W(F,function(re){return re})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},et.Component=x,et.Fragment=n,et.Profiler=c,et.PureComponent=P,et.StrictMode=i,et.Suspense=p,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,et.act=ce,et.cloneElement=function(F,re,B){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=S({},F.props),fe=F.key,Ce=F.ref,Re=F._owner;if(re!=null){if(re.ref!==void 0&&(Ce=re.ref,Re=A.current),re.key!==void 0&&(fe=""+re.key),F.type&&F.type.defaultProps)var _e=F.type.defaultProps;for(We in re)U.call(re,We)&&!I.hasOwnProperty(We)&&(te[We]=re[We]===void 0&&_e!==void 0?_e[We]:re[We])}var We=arguments.length-2;if(We===1)te.children=B;else if(1<We){_e=Array(We);for(var at=0;at<We;at++)_e[at]=arguments[at+2];te.children=_e}return{$$typeof:r,type:F.type,key:fe,ref:Ce,props:te,_owner:Re}},et.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},et.createElement=R,et.createFactory=function(F){var re=R.bind(null,F);return re.type=F,re},et.createRef=function(){return{current:null}},et.forwardRef=function(F){return{$$typeof:f,render:F}},et.isValidElement=Y,et.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:V}},et.memo=function(F,re){return{$$typeof:y,type:F,compare:re===void 0?null:re}},et.startTransition=function(F){var re=q.transition;q.transition={};try{F()}finally{q.transition=re}},et.unstable_act=ce,et.useCallback=function(F,re){return ee.current.useCallback(F,re)},et.useContext=function(F){return ee.current.useContext(F)},et.useDebugValue=function(){},et.useDeferredValue=function(F){return ee.current.useDeferredValue(F)},et.useEffect=function(F,re){return ee.current.useEffect(F,re)},et.useId=function(){return ee.current.useId()},et.useImperativeHandle=function(F,re,B){return ee.current.useImperativeHandle(F,re,B)},et.useInsertionEffect=function(F,re){return ee.current.useInsertionEffect(F,re)},et.useLayoutEffect=function(F,re){return ee.current.useLayoutEffect(F,re)},et.useMemo=function(F,re){return ee.current.useMemo(F,re)},et.useReducer=function(F,re,B){return ee.current.useReducer(F,re,B)},et.useRef=function(F){return ee.current.useRef(F)},et.useState=function(F){return ee.current.useState(F)},et.useSyncExternalStore=function(F,re,B){return ee.current.useSyncExternalStore(F,re,B)},et.useTransition=function(){return ee.current.useTransition()},et.version="18.3.1",et}var Vg;function tp(){return Vg||(Vg=1,Qd.exports=Px()),Qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function Ox(){if(Jg)return ha;Jg=1;var r=tp(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(f,p,y){var g,d={},v=null,E=null;y!==void 0&&(v=""+y),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(E=p.ref);for(g in p)i.call(p,g)&&!a.hasOwnProperty(g)&&(d[g]=p[g]);if(f&&f.defaultProps)for(g in p=f.defaultProps,p)d[g]===void 0&&(d[g]=p[g]);return{$$typeof:s,type:f,key:v,ref:E,props:d,_owner:c.current}}return ha.Fragment=n,ha.jsx=l,ha.jsxs=l,ha}var Yg;function jx(){return Yg||(Yg=1,Xd.exports=Ox()),Xd.exports}var h=jx(),Xg={},Qg;function Dx(){if(Qg)return Xg;if(Qg=1,typeof process>"u"){const r={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(s){setTimeout(s,0)},cwd:function(){return"/"},exit:function(s){console.warn("process.exit called with code:",s)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=r),typeof wo<"u"&&(wo.process=r),typeof globalThis<"u"&&(globalThis.process=r)}if(typeof Buffer>"u"){class r{static from(n,i){const c=new r;return c._data=n,c._encoding=i,c}static alloc(n,i,c){const a=new r;return a._size=n,a._fill=i,a._encoding=c,a}static allocUnsafe(n){return r.alloc(n)}static isBuffer(n){return n instanceof r}toString(n){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}typeof window<"u"&&(window.Buffer=r),typeof wo<"u"&&(wo.Buffer=r),typeof globalThis<"u"&&(globalThis.Buffer=r)}return typeof wo>"u"&&(typeof window<"u"?window.global=window:typeof globalThis<"u"&&(globalThis.global=globalThis)),console.log("âœ… Node.js globals polyfill loaded"),Xg}Dx();class Vr{static from(s,n){const i=new Vr;return i._data=s,i}static alloc(s,n,i){const c=new Vr;return c._size=s,c._fill=n,c}static allocUnsafe(s){return Vr.alloc(s)}static isBuffer(s){return s instanceof Vr}_data;_encoding;_size;_fill;toString(s){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}const Lx=Vr,So={Buffer:Vr};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=So,Fe.exports.Buffer=Vr,Fe.exports.default=So,Fe.exports.buffer=So);typeof tt<"u"&&(tt.default=So,tt.buffer=So,tt.Buffer=Vr);typeof window<"u"&&(window.Buffer=Vr);typeof globalThis<"u"&&(globalThis.Buffer=Vr);typeof global<"u"&&(global.Buffer=Vr);const Mx=Object.freeze(Object.defineProperty({__proto__:null,Buffer:Lx,default:So},Symbol.toStringTag,{value:"Module"}));function rp(r,s){if(!s)return;let n=s.prototype;if(!n)try{Object.isExtensible&&Object.isExtensible(s)?(s.prototype={},n=s.prototype):n=Object.prototype}catch{n=Object.prototype}(typeof n!="object"||n===null)&&(n=Object.prototype),r.super_=s;try{r.prototype=Object.create(n,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}catch{try{if(r.prototype=Object.create(Object.prototype),r.prototype.constructor=r,n&&typeof n=="object"&&n!==Object.prototype){for(const c in n)if(n.hasOwnProperty(c))try{r.prototype[c]=n[c]}catch{}}}catch{r.prototype||(r.prototype={}),r.prototype.constructor||(r.prototype.constructor=r)}}}const ns={inherits:rp,inspect:r=>{try{return JSON.stringify(r,null,2)}catch{return String(r)}},promisify:r=>function(...s){return new Promise((n,i)=>{r(...s,(c,a)=>{c?i(c):n(a)})})}};if(typeof Fe<"u"&&typeof Fe.exports<"u"){const r={...ns,inherits:rp,default:ns,util:ns,inspect:ns.inspect,promisify:ns.promisify};Fe.exports=r}typeof tt<"u"&&(tt.default=ns,tt.util=ns,tt.inherits=rp,tt.inspect=ns.inspect,tt.promisify=ns.promisify);const Qa={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(r){setTimeout(r,0)},cwd:function(){return"/"},exit:function(r){console.warn("process.exit called with code:",r)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=Qa);typeof global<"u"&&(global.process=Qa);typeof globalThis<"u"&&(globalThis.process=Qa);typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Qa,Fe.exports.default=Qa);let np=class{_events=new Map;on(s,n){return this._events.has(s)||this._events.set(s,[]),this._events.get(s).push(n),this}once(s,n){const i=(...c)=>{this.removeListener(s,i),n(...c)};return Promise.resolve(this.on(s,i))}emit(s,...n){const i=this._events.get(s);return i&&i.length>0?(i.forEach(c=>{try{c(...n)}catch(a){console.error("EventEmitter error:",a)}}),!0):!1}removeListener(s,n){const i=this._events.get(s);if(i){const c=i.indexOf(n);c>-1&&i.splice(c,1)}return this}removeAllListeners(s){return s?this._events.delete(s):this._events.clear(),this}off(s,n){return this.removeListener(s,n)}addListener(s,n){return this.on(s,n)}};const Ja={EventEmitter:np};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Ja,Fe.exports.default=Ja,Fe.exports.EventEmitter=np,Fe.exports.events=Ja);typeof tt<"u"&&(tt.default=Ja,tt.events=Ja,tt.EventEmitter=np);var Ec={},Zd={exports:{}},Tr={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function Ux(){return Zg||(Zg=1,(function(r){function s(q,ue){var ce=q.length;q.push(ue);e:for(;0<ce;){var F=ce-1>>>1,re=q[F];if(0<c(re,ue))q[F]=ue,q[ce]=re,ce=F;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ue=q[0],ce=q.pop();if(ce!==ue){q[0]=ce;e:for(var F=0,re=q.length,B=re>>>1;F<B;){var te=2*(F+1)-1,fe=q[te],Ce=te+1,Re=q[Ce];if(0>c(fe,ce))Ce<re&&0>c(Re,fe)?(q[F]=Re,q[Ce]=ce,F=Ce):(q[F]=fe,q[te]=ce,F=te);else if(Ce<re&&0>c(Re,ce))q[F]=Re,q[Ce]=ce,F=Ce;else break e}}return ue}function c(q,ue){var ce=q.sortIndex-ue.sortIndex;return ce!==0?ce:q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();r.unstable_now=function(){return l.now()-f}}var p=[],y=[],g=1,d=null,v=3,E=!1,S=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var ue=n(y);ue!==null;){if(ue.callback===null)i(y);else if(ue.startTime<=q)i(y),ue.sortIndex=ue.expirationTime,s(p,ue);else break;ue=n(y)}}function j(q){if(C=!1,N(q),!S)if(n(p)!==null)S=!0,V(U);else{var ue=n(y);ue!==null&&ee(j,ue.startTime-q)}}function U(q,ue){S=!1,C&&(C=!1,b(R),R=-1),E=!0;var ce=v;try{for(N(ue),d=n(p);d!==null&&(!(d.expirationTime>ue)||q&&!se());){var F=d.callback;if(typeof F=="function"){d.callback=null,v=d.priorityLevel;var re=F(d.expirationTime<=ue);ue=r.unstable_now(),typeof re=="function"?d.callback=re:d===n(p)&&i(p),N(ue)}else i(p);d=n(p)}if(d!==null)var B=!0;else{var te=n(y);te!==null&&ee(j,te.startTime-ue),B=!1}return B}finally{d=null,v=ce,E=!1}}var A=!1,I=null,R=-1,$=5,Y=-1;function se(){return!(r.unstable_now()-Y<$)}function Q(){if(I!==null){var q=r.unstable_now();Y=q;var ue=!0;try{ue=I(!0,q)}finally{ue?K():(A=!1,I=null)}}else A=!1}var K;if(typeof P=="function")K=function(){P(Q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,W=J.port2;J.port1.onmessage=Q,K=function(){W.postMessage(null)}}else K=function(){x(Q,0)};function V(q){I=q,A||(A=!0,K())}function ee(q,ue){R=x(function(){q(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){S||E||(S=!0,V(U))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var ce=v;v=ue;try{return q()}finally{v=ce}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,ue){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=v;v=q;try{return ue()}finally{v=ce}},r.unstable_scheduleCallback=function(q,ue,ce){var F=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?F+ce:F):ce=F,q){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ce+re,q={id:g++,callback:ue,priorityLevel:q,startTime:ce,expirationTime:re,sortIndex:-1},ce>F?(q.sortIndex=ce,s(y,q),n(p)===null&&q===n(y)&&(C?(b(R),R=-1):C=!0,ee(j,ce-F))):(q.sortIndex=re,s(p,q),S||E||(S=!0,V(U))),q},r.unstable_shouldYield=se,r.unstable_wrapCallback=function(q){var ue=v;return function(){var ce=v;v=ue;try{return q.apply(this,arguments)}finally{v=ce}}}})(tf)),tf}var ey;function qx(){return ey||(ey=1,ef.exports=Ux()),ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function Hx(){if(ty)return Tr;ty=1;var r=tp(),s=qx();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function a(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)i.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},d={};function v(e){return p.call(d,e)?!0:p.call(g,e)?!1:y.test(e)?d[e]=!0:(g[e]=!0,!1)}function E(e,t,o,u){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,t,o,u){if(t===null||typeof t>"u"||E(e,t,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,o,u,m,w,_){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=w,this.removeEmptyString=_}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,P);x[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,P);x[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,P);x[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function N(e,t,o,u){var m=x.hasOwnProperty(t)?x[t]:null;(m!==null?m.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S(t,o,m,u)&&(o=null),u||m===null?v(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):m.mustUseProperty?e[m.propertyName]=o===null?m.type===3?!1:"":o:(t=m.attributeName,u=m.attributeNamespace,o===null?e.removeAttribute(t):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,u?e.setAttributeNS(u,t,o):e.setAttribute(t,o))))}var j=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),se=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),q=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,F;function re(e){if(F===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return`
`+F+e}var B=!1;function te(e,t){if(!e||B)return"";B=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(le){var u=le}Reflect.construct(e,[],t)}else{try{t.call()}catch(le){u=le}e.call(t.prototype)}else{try{throw Error()}catch(le){u=le}e()}}catch(le){if(le&&u&&typeof le.stack=="string"){for(var m=le.stack.split(`
`),w=u.stack.split(`
`),_=m.length-1,M=w.length-1;1<=_&&0<=M&&m[_]!==w[M];)M--;for(;1<=_&&0<=M;_--,M--)if(m[_]!==w[M]){if(_!==1||M!==1)do if(_--,M--,0>M||m[_]!==w[M]){var z=`
`+m[_].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=_&&0<=M);break}}}finally{B=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?re(e):""}function fe(e){switch(e.tag){case 5:return re(e.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case A:return"Portal";case $:return"Profiler";case R:return"StrictMode";case K:return"Suspense";case J:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case se:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function at(e){var t=We(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,w=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return m.call(this)},set:function(_){u=""+_,w.call(this,_)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $t(e){e._valueTracker||(e._valueTracker=at(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),u="";return e&&(u=We(e)?e.checked?"true":"false":e.value),e=u,e!==o?(t.setValue(e),!0):!1}function qe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function He(e,t){var o=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function xt(e,t){var o=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;o=_e(t.value!=null?t.value:o),e._wrapperState={initialChecked:u,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nt(e,t){t=t.checked,t!=null&&N(e,"checked",t,!1)}function Tt(e,t){Nt(e,t);var o=_e(t.value),u=t.type;if(o!=null)u==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ir(e,t.type,o):t.hasOwnProperty("defaultValue")&&ir(e,t.type,_e(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hs(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ir(e,t,o){(t!=="number"||qe(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Mn=Array.isArray;function vn(e,t,o,u){if(e=e.options,t){t={};for(var m=0;m<o.length;m++)t["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=t.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&u&&(e[o].defaultSelected=!0)}else{for(o=""+_e(o),t=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,u&&(e[m].defaultSelected=!0);return}t!==null||e[m].disabled||(t=e[m])}t!==null&&(t.selected=!0)}}function Dt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ur(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(n(92));if(Mn(o)){if(1<o.length)throw Error(n(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:_e(o)}}function Ii(e,t){var o=_e(t.value),u=_e(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),u!=null&&(e.defaultValue=""+u)}function Ao(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wn,Un=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,u,m){MSApp.execUnsafeLocalFunction(function(){return e(t,o,u,m)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){Xr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function Fs(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function Ai(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var u=o.indexOf("--")===0,m=Fs(o,t[o],u);o==="float"&&(o="cssFloat"),u?e.setProperty(o,m):e[o]=m}}var Ni=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qr(e,t){if(t){if(Ni[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function as(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zr=null;function or(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $s=null,en=null,tn=null;function ls(e){if(e=Qo(e)){if(typeof $s!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Dl(t),$s(e.stateNode,e.type,t))}}function Ve(e){en?tn?tn.push(e):tn=[e]:en=e}function gt(){if(en){var e=en,t=tn;if(tn=en=null,ls(e),t)for(e=0;e<t.length;e++)ls(t[e])}}function kt(e,t){return e(t)}function zt(){}var En=!1;function pt(e,t,o){if(En)return e(t,o);En=!0;try{return kt(e,t,o)}finally{En=!1,(en!==null||tn!==null)&&(zt(),gt())}}function Ct(e,t){var o=e.stateNode;if(o===null)return null;var u=Dl(o);if(u===null)return null;o=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(n(231,t,typeof o));return o}var Sn=!1;if(f)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Sn=!1}function ar(e,t,o,u,m,w,_,M,z){var le=Array.prototype.slice.call(arguments,3);try{t.apply(o,le)}catch(me){this.onError(me)}}var xn=!1,ct=null,zs=!1,No=null,bu={onError:function(e){xn=!0,ct=e}};function cl(e,t,o,u,m,w,_,M,z){xn=!1,ct=null,ar.apply(bu,arguments)}function Tu(e,t,o,u,m,w,_,M,z){if(cl.apply(this,arguments),xn){if(xn){var le=ct;xn=!1,ct=null}else throw Error(n(198));zs||(zs=!0,No=le)}}function rn(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Pi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ul(e){if(rn(e)!==e)throw Error(n(188))}function ku(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var o=e,u=t;;){var m=o.return;if(m===null)break;var w=m.alternate;if(w===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===o)return ul(m),e;if(w===u)return ul(m),t;w=w.sibling}throw Error(n(188))}if(o.return!==u.return)o=m,u=w;else{for(var _=!1,M=m.child;M;){if(M===o){_=!0,o=m,u=w;break}if(M===u){_=!0,u=m,o=w;break}M=M.sibling}if(!_){for(M=w.child;M;){if(M===o){_=!0,o=w,u=m;break}if(M===u){_=!0,u=w,o=m;break}M=M.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?e:t}function Po(e){return e=ku(e),e!==null?cs(e):null}function cs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cs(e);if(t!==null)return t;e=e.sibling}return null}var Bs=s.unstable_scheduleCallback,dl=s.unstable_cancelCallback,_u=s.unstable_shouldYield,Oo=s.unstable_requestPaint,yt=s.unstable_now,Ru=s.unstable_getCurrentPriorityLevel,us=s.unstable_ImmediatePriority,vr=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,fl=s.unstable_LowPriority,qn=s.unstable_IdlePriority,Ws=null,Hr=null;function Iu(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Ws,e,void 0,(e.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:pl,Oi=Math.log,hl=Math.LN2;function pl(e){return e>>>=0,e===0?32:31-(Oi(e)/hl|0)|0}var ji=64,Di=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Li(e,t){var o=e.pendingLanes;if(o===0)return 0;var u=0,m=e.suspendedLanes,w=e.pingedLanes,_=o&268435455;if(_!==0){var M=_&~m;M!==0?u=Ks(M):(w&=_,w!==0&&(u=Ks(w)))}else _=o&~m,_!==0?u=Ks(_):w!==0&&(u=Ks(w));if(u===0)return 0;if(t!==0&&t!==u&&(t&m)===0&&(m=u&-u,w=t&-t,m>=w||m===16&&(w&4194240)!==0))return t;if((u&4)!==0&&(u|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)o=31-Ir(t),m=1<<o,u|=e[o],t&=~m;return u}function ml(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(e,t){for(var o=e.suspendedLanes,u=e.pingedLanes,m=e.expirationTimes,w=e.pendingLanes;0<w;){var _=31-Ir(w),M=1<<_,z=m[_];z===-1?((M&o)===0||(M&u)!==0)&&(m[_]=ml(M,t)):z<=t&&(e.expiredLanes|=M),w&=~M}}function nn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jo(){var e=ji;return ji<<=1,(ji&4194240)===0&&(ji=64),e}function yl(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Gs(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ir(t),e[t]=o}function Up(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<o;){var m=31-Ir(o),w=1<<m;t[m]=0,u[m]=-1,e[m]=-1,o&=~w}}function Do(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var u=31-Ir(o),m=1<<u;m&t|e[u]&t&&(e[u]|=t),o&=~m}}var it=0;function vl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wl,Mi,Lo,Vs,El,Ui=!1,Js=[],sn=null,Cn=null,bn=null,fs=new Map,Hn=new Map,on=[],Au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sl(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function hs(e,t,o,u,m,w){return e===null||e.nativeEvent!==w?(e={blockedOn:t,domEventName:o,eventSystemFlags:u,nativeEvent:w,targetContainers:[m]},t!==null&&(t=Qo(t),t!==null&&Mi(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,m!==null&&t.indexOf(m)===-1&&t.push(m),e)}function Mo(e,t,o,u,m){switch(t){case"focusin":return sn=hs(sn,e,t,o,u,m),!0;case"dragenter":return Cn=hs(Cn,e,t,o,u,m),!0;case"mouseover":return bn=hs(bn,e,t,o,u,m),!0;case"pointerover":var w=m.pointerId;return fs.set(w,hs(fs.get(w)||null,e,t,o,u,m)),!0;case"gotpointercapture":return w=m.pointerId,Hn.set(w,hs(Hn.get(w)||null,e,t,o,u,m)),!0}return!1}function Uo(e){var t=ei(e.target);if(t!==null){var o=rn(t);if(o!==null){if(t=o.tag,t===13){if(t=Pi(o),t!==null){e.blockedOn=t,El(e.priority,function(){Lo(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=Fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);Zr=u,o.target.dispatchEvent(u),Zr=null}else return t=Qo(o),t!==null&&Mi(t),e.blockedOn=o,!1;t.shift()}return!0}function Xs(e,t,o){Ys(e)&&o.delete(t)}function xl(){Ui=!1,sn!==null&&Ys(sn)&&(sn=null),Cn!==null&&Ys(Cn)&&(Cn=null),bn!==null&&Ys(bn)&&(bn=null),fs.forEach(Xs),Hn.forEach(Xs)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,Ui||(Ui=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xl)))}function Tn(e){function t(m){return Qs(m,e)}if(0<Js.length){Qs(Js[0],e);for(var o=1;o<Js.length;o++){var u=Js[o];u.blockedOn===e&&(u.blockedOn=null)}}for(sn!==null&&Qs(sn,e),Cn!==null&&Qs(Cn,e),bn!==null&&Qs(bn,e),fs.forEach(t),Hn.forEach(t),o=0;o<on.length;o++)u=on[o],u.blockedOn===e&&(u.blockedOn=null);for(;0<on.length&&(o=on[0],o.blockedOn===null);)Uo(o),o.blockedOn===null&&on.shift()}var Jt=j.ReactCurrentBatchConfig,Fn=!0;function qi(e,t,o,u){var m=it,w=Jt.transition;Jt.transition=null;try{it=1,Ho(e,t,o,u)}finally{it=m,Jt.transition=w}}function qo(e,t,o,u){var m=it,w=Jt.transition;Jt.transition=null;try{it=4,Ho(e,t,o,u)}finally{it=m,Jt.transition=w}}function Ho(e,t,o,u){if(Fn){var m=Fo(e,t,o,u);if(m===null)Fu(e,t,u,Hi,o),Sl(e,u);else if(Mo(m,e,t,o,u))u.stopPropagation();else if(Sl(e,u),t&4&&-1<Au.indexOf(e)){for(;m!==null;){var w=Qo(m);if(w!==null&&wl(w),w=Fo(e,t,o,u),w===null&&Fu(e,t,u,Hi,o),w===m)break;m=w}m!==null&&u.stopPropagation()}else Fu(e,t,u,null,o)}}var Hi=null;function Fo(e,t,o,u){if(Hi=null,e=or(u),e=ei(e),e!==null)if(t=rn(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Pi(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function Fi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ru()){case us:return 1;case vr:return 4;case ds:case fl:return 16;case qn:return 536870912;default:return 16}default:return 16}}var kn=null,$i=null,dt=null;function T(){if(dt)return dt;var e,t=$i,o=t.length,u,m="value"in kn?kn.value:kn.textContent,w=m.length;for(e=0;e<o&&t[e]===m[e];e++);var _=o-e;for(u=1;u<=_&&t[o-u]===m[w-u];u++);return dt=m.slice(e,1<u?1-u:void 0)}function k(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function O(){return!0}function D(){return!1}function L(e){function t(o,u,m,w,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(o=e[M],this[M]=o?o(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?O:D,this.isPropagationStopped=D,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=O)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=O)},persist:function(){},isPersistent:O}),t}var Z={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X=L(Z),de=ce({},Z,{view:0,detail:0}),Ae=L(de),Se,ye,Ue,ot=ce({},de,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ue&&(Ue&&e.type==="mousemove"?(Se=e.screenX-Ue.screenX,ye=e.screenY-Ue.screenY):ye=Se=0,Ue=e),Se)},movementY:function(e){return"movementY"in e?e.movementY:ye}}),Mt=L(ot),xe=ce({},ot,{dataTransfer:0}),Ke=L(xe),Le=ce({},de,{relatedTarget:0}),vt=L(Le),wr=ce({},Z,{animationName:0,elapsedTime:0,pseudoElement:0}),Pt=L(wr),Qt=ce({},Z,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ar=L(Qt),$n=ce({},Z,{data:0}),lr=L($n),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cl[e])?!!t[e]:!1}function ps(){return bl}var Zs=ce({},de,{key:function(e){if(e.key){var t=$o[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=k(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?k(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?k(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zn=L(Zs),Tl=ce({},ot,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nr=L(Tl),kl=ce({},de,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),_n=L(kl),_l=ce({},Z,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=L(_l),Rn=ce({},ot,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=L(Rn),zo=[9,13,27,32],gs=f&&"CompositionEvent"in window,ys=null;f&&"documentMode"in document&&(ys=document.documentMode);var kS=f&&"TextEvent"in window&&!ys,qp=f&&(!gs||ys&&8<ys&&11>=ys),Hp=" ",Fp=!1;function $p(e,t){switch(e){case"keyup":return zo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bi=!1;function _S(e,t){switch(e){case"compositionend":return zp(t);case"keypress":return t.which!==32?null:(Fp=!0,Hp);case"textInput":return e=t.data,e===Hp&&Fp?null:e;default:return null}}function RS(e,t){if(Bi)return e==="compositionend"||!gs&&$p(e,t)?(e=T(),dt=$i=kn=null,Bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qp&&t.locale!=="ko"?null:t.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IS[e.type]:t==="textarea"}function Wp(e,t,o,u){Ve(u),t=Pl(t,"onChange"),0<t.length&&(o=new X("onChange","change",null,o,u),e.push({event:o,listeners:t}))}var Bo=null,Wo=null;function AS(e){cm(e,0)}function Rl(e){var t=Ji(e);if(ae(t))return e}function NS(e,t){if(e==="change")return t}var Kp=!1;if(f){var Pu;if(f){var Ou="oninput"in document;if(!Ou){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Ou=typeof Gp.oninput=="function"}Pu=Ou}else Pu=!1;Kp=Pu&&(!document.documentMode||9<document.documentMode)}function Vp(){Bo&&(Bo.detachEvent("onpropertychange",Jp),Wo=Bo=null)}function Jp(e){if(e.propertyName==="value"&&Rl(Wo)){var t=[];Wp(t,Wo,e,or(e)),pt(AS,t)}}function PS(e,t,o){e==="focusin"?(Vp(),Bo=t,Wo=o,Bo.attachEvent("onpropertychange",Jp)):e==="focusout"&&Vp()}function OS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rl(Wo)}function jS(e,t){if(e==="click")return Rl(t)}function DS(e,t){if(e==="input"||e==="change")return Rl(t)}function LS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:LS;function Ko(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),u=Object.keys(t);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!p.call(t,m)||!an(e[m],t[m]))return!1}return!0}function Yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,t){var o=Yp(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=t&&u>=t)return{node:o,offset:t-e};e=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yp(o)}}function Qp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zp(){for(var e=window,t=qe();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=qe(e.document)}return t}function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MS(e){var t=Zp(),o=e.focusedElem,u=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&Qp(o.ownerDocument.documentElement,o)){if(u!==null&&ju(o)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var m=o.textContent.length,w=Math.min(u.start,m);u=u.end===void 0?w:Math.min(u.end,m),!e.extend&&w>u&&(m=u,u=w,w=m),m=Xp(o,w);var _=Xp(o,u);m&&_&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(m.node,m.offset),e.removeAllRanges(),w>u?(e.addRange(t),e.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var US=f&&"documentMode"in document&&11>=document.documentMode,Wi=null,Du=null,Go=null,Lu=!1;function em(e,t,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lu||Wi==null||Wi!==qe(u)||(u=Wi,"selectionStart"in u&&ju(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Go&&Ko(Go,u)||(Go=u,u=Pl(Du,"onSelect"),0<u.length&&(t=new X("onSelect","select",null,t,o),e.push({event:t,listeners:u}),t.target=Wi)))}function Il(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Ki={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},Mu={},tm={};f&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Al(e){if(Mu[e])return Mu[e];if(!Ki[e])return e;var t=Ki[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in tm)return Mu[e]=t[o];return e}var rm=Al("animationend"),nm=Al("animationiteration"),sm=Al("animationstart"),im=Al("transitionend"),om=new Map,am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){om.set(e,t),a(t,[e])}for(var Uu=0;Uu<am.length;Uu++){var qu=am[Uu],qS=qu.toLowerCase(),HS=qu[0].toUpperCase()+qu.slice(1);vs(qS,"on"+HS)}vs(rm,"onAnimationEnd"),vs(nm,"onAnimationIteration"),vs(sm,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(im,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function lm(e,t,o){var u=e.type||"unknown-event";e.currentTarget=o,Tu(u,t,void 0,e),e.currentTarget=null}function cm(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],m=u.event;u=u.listeners;e:{var w=void 0;if(t)for(var _=u.length-1;0<=_;_--){var M=u[_],z=M.instance,le=M.currentTarget;if(M=M.listener,z!==w&&m.isPropagationStopped())break e;lm(m,M,le),w=z}else for(_=0;_<u.length;_++){if(M=u[_],z=M.instance,le=M.currentTarget,M=M.listener,z!==w&&m.isPropagationStopped())break e;lm(m,M,le),w=z}}}if(zs)throw e=No,zs=!1,No=null,e}function ft(e,t){var o=t[Gu];o===void 0&&(o=t[Gu]=new Set);var u=e+"__bubble";o.has(u)||(um(t,e,2,!1),o.add(u))}function Hu(e,t,o){var u=0;t&&(u|=4),um(o,e,u,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[Nl]){e[Nl]=!0,i.forEach(function(o){o!=="selectionchange"&&(FS.has(o)||Hu(o,!1,e),Hu(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Hu("selectionchange",!1,t))}}function um(e,t,o,u){switch(Fi(t)){case 1:var m=qi;break;case 4:m=qo;break;default:m=Ho}o=m.bind(null,t,o,e),m=void 0,!Sn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(m=!0),u?m!==void 0?e.addEventListener(t,o,{capture:!0,passive:m}):e.addEventListener(t,o,!0):m!==void 0?e.addEventListener(t,o,{passive:m}):e.addEventListener(t,o,!1)}function Fu(e,t,o,u,m){var w=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var M=u.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(_===4)for(_=u.return;_!==null;){var z=_.tag;if((z===3||z===4)&&(z=_.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;_=_.return}for(;M!==null;){if(_=ei(M),_===null)return;if(z=_.tag,z===5||z===6){u=w=_;continue e}M=M.parentNode}}u=u.return}pt(function(){var le=w,me=or(o),ge=[];e:{var pe=om.get(e);if(pe!==void 0){var ke=X,Pe=e;switch(e){case"keypress":if(k(o)===0)break e;case"keydown":case"keyup":ke=zn;break;case"focusin":Pe="focus",ke=vt;break;case"focusout":Pe="blur",ke=vt;break;case"beforeblur":case"afterblur":ke=vt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Ke;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=_n;break;case rm:case nm:case sm:ke=Pt;break;case im:ke=Nu;break;case"scroll":ke=Ae;break;case"wheel":ke=ms;break;case"copy":case"cut":case"paste":ke=Ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Nr}var De=(t&4)!==0,_t=!De&&e==="scroll",ne=De?pe!==null?pe+"Capture":null:pe;De=[];for(var G=le,ie;G!==null;){ie=G;var ve=ie.stateNode;if(ie.tag===5&&ve!==null&&(ie=ve,ne!==null&&(ve=Ct(G,ne),ve!=null&&De.push(Yo(G,ve,ie)))),_t)break;G=G.return}0<De.length&&(pe=new ke(pe,Pe,null,o,me),ge.push({event:pe,listeners:De}))}}if((t&7)===0){e:{if(pe=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",pe&&o!==Zr&&(Pe=o.relatedTarget||o.fromElement)&&(ei(Pe)||Pe[Bn]))break e;if((ke||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,ke?(Pe=o.relatedTarget||o.toElement,ke=le,Pe=Pe?ei(Pe):null,Pe!==null&&(_t=rn(Pe),Pe!==_t||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(ke=null,Pe=le),ke!==Pe)){if(De=Mt,ve="onMouseLeave",ne="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(De=Nr,ve="onPointerLeave",ne="onPointerEnter",G="pointer"),_t=ke==null?pe:Ji(ke),ie=Pe==null?pe:Ji(Pe),pe=new De(ve,G+"leave",ke,o,me),pe.target=_t,pe.relatedTarget=ie,ve=null,ei(me)===le&&(De=new De(ne,G+"enter",Pe,o,me),De.target=ie,De.relatedTarget=_t,ve=De),_t=ve,ke&&Pe)t:{for(De=ke,ne=Pe,G=0,ie=De;ie;ie=Gi(ie))G++;for(ie=0,ve=ne;ve;ve=Gi(ve))ie++;for(;0<G-ie;)De=Gi(De),G--;for(;0<ie-G;)ne=Gi(ne),ie--;for(;G--;){if(De===ne||ne!==null&&De===ne.alternate)break t;De=Gi(De),ne=Gi(ne)}De=null}else De=null;ke!==null&&dm(ge,pe,ke,De,!1),Pe!==null&&_t!==null&&dm(ge,_t,Pe,De,!0)}}e:{if(pe=le?Ji(le):window,ke=pe.nodeName&&pe.nodeName.toLowerCase(),ke==="select"||ke==="input"&&pe.type==="file")var Me=NS;else if(Bp(pe))if(Kp)Me=DS;else{Me=OS;var $e=PS}else(ke=pe.nodeName)&&ke.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Me=jS);if(Me&&(Me=Me(e,le))){Wp(ge,Me,o,me);break e}$e&&$e(e,pe,le),e==="focusout"&&($e=pe._wrapperState)&&$e.controlled&&pe.type==="number"&&ir(pe,"number",pe.value)}switch($e=le?Ji(le):window,e){case"focusin":(Bp($e)||$e.contentEditable==="true")&&(Wi=$e,Du=le,Go=null);break;case"focusout":Go=Du=Wi=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,em(ge,o,me);break;case"selectionchange":if(US)break;case"keydown":case"keyup":em(ge,o,me)}var ze;if(gs)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Bi?$p(e,o)&&(Je="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Je="onCompositionStart");Je&&(qp&&o.locale!=="ko"&&(Bi||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Bi&&(ze=T()):(kn=me,$i="value"in kn?kn.value:kn.textContent,Bi=!0)),$e=Pl(le,Je),0<$e.length&&(Je=new lr(Je,e,null,o,me),ge.push({event:Je,listeners:$e}),ze?Je.data=ze:(ze=zp(o),ze!==null&&(Je.data=ze)))),(ze=kS?_S(e,o):RS(e,o))&&(le=Pl(le,"onBeforeInput"),0<le.length&&(me=new lr("onBeforeInput","beforeinput",null,o,me),ge.push({event:me,listeners:le}),me.data=ze))}cm(ge,t)})}function Yo(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Pl(e,t){for(var o=t+"Capture",u=[];e!==null;){var m=e,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Ct(e,o),w!=null&&u.unshift(Yo(e,w,m)),w=Ct(e,t),w!=null&&u.push(Yo(e,w,m))),e=e.return}return u}function Gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dm(e,t,o,u,m){for(var w=t._reactName,_=[];o!==null&&o!==u;){var M=o,z=M.alternate,le=M.stateNode;if(z!==null&&z===u)break;M.tag===5&&le!==null&&(M=le,m?(z=Ct(o,w),z!=null&&_.unshift(Yo(o,z,M))):m||(z=Ct(o,w),z!=null&&_.push(Yo(o,z,M)))),o=o.return}_.length!==0&&e.push({event:t,listeners:_})}var $S=/\r\n?/g,zS=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace($S,`
`).replace(zS,"")}function Ol(e,t,o){if(t=fm(t),fm(e)!==t&&o)throw Error(n(425))}function jl(){}var $u=null,zu=null;function Bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(e){return hm.resolve(null).then(e).catch(KS)}:Wu;function KS(e){setTimeout(function(){throw e})}function Ku(e,t){var o=t,u=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){e.removeChild(m),Tn(t);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);Tn(t)}function ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),In="__reactFiber$"+Vi,Xo="__reactProps$"+Vi,Bn="__reactContainer$"+Vi,Gu="__reactEvents$"+Vi,GS="__reactListeners$"+Vi,VS="__reactHandles$"+Vi;function ei(e){var t=e[In];if(t)return t;for(var o=e.parentNode;o;){if(t=o[Bn]||o[In]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=pm(e);e!==null;){if(o=e[In])return o;e=pm(e)}return t}e=o,o=e.parentNode}return null}function Qo(e){return e=e[In]||e[Bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Dl(e){return e[Xo]||null}var Vu=[],Yi=-1;function Es(e){return{current:e}}function ht(e){0>Yi||(e.current=Vu[Yi],Vu[Yi]=null,Yi--)}function ut(e,t){Yi++,Vu[Yi]=e.current,e.current=t}var Ss={},Zt=Es(Ss),Er=Es(!1),ti=Ss;function Xi(e,t){var o=e.type.contextTypes;if(!o)return Ss;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in o)m[w]=t[w];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=m),m}function Sr(e){return e=e.childContextTypes,e!=null}function Ll(){ht(Er),ht(Zt)}function mm(e,t,o){if(Zt.current!==Ss)throw Error(n(168));ut(Zt,t),ut(Er,o)}function gm(e,t,o){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var m in u)if(!(m in t))throw Error(n(108,Re(e)||"Unknown",m));return ce({},o,u)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,ti=Zt.current,ut(Zt,e),ut(Er,Er.current),!0}function ym(e,t,o){var u=e.stateNode;if(!u)throw Error(n(169));o?(e=gm(e,t,ti),u.__reactInternalMemoizedMergedChildContext=e,ht(Er),ht(Zt),ut(Zt,e)):ht(Er),ut(Er,o)}var Wn=null,Ul=!1,Ju=!1;function vm(e){Wn===null?Wn=[e]:Wn.push(e)}function JS(e){Ul=!0,vm(e)}function xs(){if(!Ju&&Wn!==null){Ju=!0;var e=0,t=it;try{var o=Wn;for(it=1;e<o.length;e++){var u=o[e];do u=u(!0);while(u!==null)}Wn=null,Ul=!1}catch(m){throw Wn!==null&&(Wn=Wn.slice(e+1)),Bs(us,xs),m}finally{it=t,Ju=!1}}return null}var Qi=[],Zi=0,ql=null,Hl=0,Fr=[],$r=0,ri=null,Kn=1,Gn="";function ni(e,t){Qi[Zi++]=Hl,Qi[Zi++]=ql,ql=e,Hl=t}function wm(e,t,o){Fr[$r++]=Kn,Fr[$r++]=Gn,Fr[$r++]=ri,ri=e;var u=Kn;e=Gn;var m=32-Ir(u)-1;u&=~(1<<m),o+=1;var w=32-Ir(t)+m;if(30<w){var _=m-m%5;w=(u&(1<<_)-1).toString(32),u>>=_,m-=_,Kn=1<<32-Ir(t)+m|o<<m|u,Gn=w+e}else Kn=1<<w|o<<m|u,Gn=e}function Yu(e){e.return!==null&&(ni(e,1),wm(e,1,0))}function Xu(e){for(;e===ql;)ql=Qi[--Zi],Qi[Zi]=null,Hl=Qi[--Zi],Qi[Zi]=null;for(;e===ri;)ri=Fr[--$r],Fr[$r]=null,Gn=Fr[--$r],Fr[$r]=null,Kn=Fr[--$r],Fr[$r]=null}var Pr=null,Or=null,mt=!1,ln=null;function Em(e,t){var o=Kr(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function Sm(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,Or=ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,Or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=ri!==null?{id:Kn,overflow:Gn}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=Kr(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,Pr=e,Or=null,!0):!1;default:return!1}}function Qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zu(e){if(mt){var t=Or;if(t){var o=t;if(!Sm(e,t)){if(Qu(e))throw Error(n(418));t=ws(o.nextSibling);var u=Pr;t&&Sm(e,t)?Em(u,o):(e.flags=e.flags&-4097|2,mt=!1,Pr=e)}}else{if(Qu(e))throw Error(n(418));e.flags=e.flags&-4097|2,mt=!1,Pr=e}}}function xm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function Fl(e){if(e!==Pr)return!1;if(!mt)return xm(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bu(e.type,e.memoizedProps)),t&&(t=Or)){if(Qu(e))throw Cm(),Error(n(418));for(;t;)Em(e,t),t=ws(t.nextSibling)}if(xm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Or=ws(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Or=null}}else Or=Pr?ws(e.stateNode.nextSibling):null;return!0}function Cm(){for(var e=Or;e;)e=ws(e.nextSibling)}function eo(){Or=Pr=null,mt=!1}function ed(e){ln===null?ln=[e]:ln.push(e)}var YS=j.ReactCurrentBatchConfig;function Zo(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,e));var m=u,w=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===w?t.ref:(t=function(_){var M=m.refs;_===null?delete M[w]:M[w]=_},t._stringRef=w,t)}if(typeof e!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,e))}return e}function $l(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bm(e){var t=e._init;return t(e._payload)}function Tm(e){function t(ne,G){if(e){var ie=ne.deletions;ie===null?(ne.deletions=[G],ne.flags|=16):ie.push(G)}}function o(ne,G){if(!e)return null;for(;G!==null;)t(ne,G),G=G.sibling;return null}function u(ne,G){for(ne=new Map;G!==null;)G.key!==null?ne.set(G.key,G):ne.set(G.index,G),G=G.sibling;return ne}function m(ne,G){return ne=As(ne,G),ne.index=0,ne.sibling=null,ne}function w(ne,G,ie){return ne.index=ie,e?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<G?(ne.flags|=2,G):ie):(ne.flags|=2,G)):(ne.flags|=1048576,G)}function _(ne){return e&&ne.alternate===null&&(ne.flags|=2),ne}function M(ne,G,ie,ve){return G===null||G.tag!==6?(G=Wd(ie,ne.mode,ve),G.return=ne,G):(G=m(G,ie),G.return=ne,G)}function z(ne,G,ie,ve){var Me=ie.type;return Me===I?me(ne,G,ie.props.children,ve,ie.key):G!==null&&(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===V&&bm(Me)===G.type)?(ve=m(G,ie.props),ve.ref=Zo(ne,G,ie),ve.return=ne,ve):(ve=fc(ie.type,ie.key,ie.props,null,ne.mode,ve),ve.ref=Zo(ne,G,ie),ve.return=ne,ve)}function le(ne,G,ie,ve){return G===null||G.tag!==4||G.stateNode.containerInfo!==ie.containerInfo||G.stateNode.implementation!==ie.implementation?(G=Kd(ie,ne.mode,ve),G.return=ne,G):(G=m(G,ie.children||[]),G.return=ne,G)}function me(ne,G,ie,ve,Me){return G===null||G.tag!==7?(G=di(ie,ne.mode,ve,Me),G.return=ne,G):(G=m(G,ie),G.return=ne,G)}function ge(ne,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Wd(""+G,ne.mode,ie),G.return=ne,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case U:return ie=fc(G.type,G.key,G.props,null,ne.mode,ie),ie.ref=Zo(ne,null,G),ie.return=ne,ie;case A:return G=Kd(G,ne.mode,ie),G.return=ne,G;case V:var ve=G._init;return ge(ne,ve(G._payload),ie)}if(Mn(G)||ue(G))return G=di(G,ne.mode,ie,null),G.return=ne,G;$l(ne,G)}return null}function pe(ne,G,ie,ve){var Me=G!==null?G.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Me!==null?null:M(ne,G,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return ie.key===Me?z(ne,G,ie,ve):null;case A:return ie.key===Me?le(ne,G,ie,ve):null;case V:return Me=ie._init,pe(ne,G,Me(ie._payload),ve)}if(Mn(ie)||ue(ie))return Me!==null?null:me(ne,G,ie,ve,null);$l(ne,ie)}return null}function ke(ne,G,ie,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ne=ne.get(ie)||null,M(G,ne,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case U:return ne=ne.get(ve.key===null?ie:ve.key)||null,z(G,ne,ve,Me);case A:return ne=ne.get(ve.key===null?ie:ve.key)||null,le(G,ne,ve,Me);case V:var $e=ve._init;return ke(ne,G,ie,$e(ve._payload),Me)}if(Mn(ve)||ue(ve))return ne=ne.get(ie)||null,me(G,ne,ve,Me,null);$l(G,ve)}return null}function Pe(ne,G,ie,ve){for(var Me=null,$e=null,ze=G,Je=G=0,Kt=null;ze!==null&&Je<ie.length;Je++){ze.index>Je?(Kt=ze,ze=null):Kt=ze.sibling;var nt=pe(ne,ze,ie[Je],ve);if(nt===null){ze===null&&(ze=Kt);break}e&&ze&&nt.alternate===null&&t(ne,ze),G=w(nt,G,Je),$e===null?Me=nt:$e.sibling=nt,$e=nt,ze=Kt}if(Je===ie.length)return o(ne,ze),mt&&ni(ne,Je),Me;if(ze===null){for(;Je<ie.length;Je++)ze=ge(ne,ie[Je],ve),ze!==null&&(G=w(ze,G,Je),$e===null?Me=ze:$e.sibling=ze,$e=ze);return mt&&ni(ne,Je),Me}for(ze=u(ne,ze);Je<ie.length;Je++)Kt=ke(ze,ne,Je,ie[Je],ve),Kt!==null&&(e&&Kt.alternate!==null&&ze.delete(Kt.key===null?Je:Kt.key),G=w(Kt,G,Je),$e===null?Me=Kt:$e.sibling=Kt,$e=Kt);return e&&ze.forEach(function(Ns){return t(ne,Ns)}),mt&&ni(ne,Je),Me}function De(ne,G,ie,ve){var Me=ue(ie);if(typeof Me!="function")throw Error(n(150));if(ie=Me.call(ie),ie==null)throw Error(n(151));for(var $e=Me=null,ze=G,Je=G=0,Kt=null,nt=ie.next();ze!==null&&!nt.done;Je++,nt=ie.next()){ze.index>Je?(Kt=ze,ze=null):Kt=ze.sibling;var Ns=pe(ne,ze,nt.value,ve);if(Ns===null){ze===null&&(ze=Kt);break}e&&ze&&Ns.alternate===null&&t(ne,ze),G=w(Ns,G,Je),$e===null?Me=Ns:$e.sibling=Ns,$e=Ns,ze=Kt}if(nt.done)return o(ne,ze),mt&&ni(ne,Je),Me;if(ze===null){for(;!nt.done;Je++,nt=ie.next())nt=ge(ne,nt.value,ve),nt!==null&&(G=w(nt,G,Je),$e===null?Me=nt:$e.sibling=nt,$e=nt);return mt&&ni(ne,Je),Me}for(ze=u(ne,ze);!nt.done;Je++,nt=ie.next())nt=ke(ze,ne,Je,nt.value,ve),nt!==null&&(e&&nt.alternate!==null&&ze.delete(nt.key===null?Je:nt.key),G=w(nt,G,Je),$e===null?Me=nt:$e.sibling=nt,$e=nt);return e&&ze.forEach(function(Ix){return t(ne,Ix)}),mt&&ni(ne,Je),Me}function _t(ne,G,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===I&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:e:{for(var Me=ie.key,$e=G;$e!==null;){if($e.key===Me){if(Me=ie.type,Me===I){if($e.tag===7){o(ne,$e.sibling),G=m($e,ie.props.children),G.return=ne,ne=G;break e}}else if($e.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===V&&bm(Me)===$e.type){o(ne,$e.sibling),G=m($e,ie.props),G.ref=Zo(ne,$e,ie),G.return=ne,ne=G;break e}o(ne,$e);break}else t(ne,$e);$e=$e.sibling}ie.type===I?(G=di(ie.props.children,ne.mode,ve,ie.key),G.return=ne,ne=G):(ve=fc(ie.type,ie.key,ie.props,null,ne.mode,ve),ve.ref=Zo(ne,G,ie),ve.return=ne,ne=ve)}return _(ne);case A:e:{for($e=ie.key;G!==null;){if(G.key===$e)if(G.tag===4&&G.stateNode.containerInfo===ie.containerInfo&&G.stateNode.implementation===ie.implementation){o(ne,G.sibling),G=m(G,ie.children||[]),G.return=ne,ne=G;break e}else{o(ne,G);break}else t(ne,G);G=G.sibling}G=Kd(ie,ne.mode,ve),G.return=ne,ne=G}return _(ne);case V:return $e=ie._init,_t(ne,G,$e(ie._payload),ve)}if(Mn(ie))return Pe(ne,G,ie,ve);if(ue(ie))return De(ne,G,ie,ve);$l(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,G!==null&&G.tag===6?(o(ne,G.sibling),G=m(G,ie),G.return=ne,ne=G):(o(ne,G),G=Wd(ie,ne.mode,ve),G.return=ne,ne=G),_(ne)):o(ne,G)}return _t}var to=Tm(!0),km=Tm(!1),zl=Es(null),Bl=null,ro=null,td=null;function rd(){td=ro=Bl=null}function nd(e){var t=zl.current;ht(zl),e._currentValue=t}function sd(e,t,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===o)break;e=e.return}}function no(e,t){Bl=e,td=ro=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(xr=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(td!==e)if(e={context:e,memoizedValue:t,next:null},ro===null){if(Bl===null)throw Error(n(308));ro=e,Bl.dependencies={lanes:0,firstContext:e}}else ro=ro.next=e;return t}var si=null;function id(e){si===null?si=[e]:si.push(e)}function _m(e,t,o,u){var m=t.interleaved;return m===null?(o.next=o,id(t)):(o.next=m.next,m.next=o),t.interleaved=o,Vn(e,u)}function Vn(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Cs=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var m=u.pending;return m===null?t.next=t:(t.next=m.next,m.next=t),u.pending=t,Vn(e,o)}return m=u.interleaved,m===null?(t.next=t,id(u)):(t.next=m.next,m.next=t),u.interleaved=t,Vn(e,o)}function Wl(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,o|=u,t.lanes=o,Do(e,o)}}function Im(e,t){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,w=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};w===null?m=w=_:w=w.next=_,o=o.next}while(o!==null);w===null?m=w=t:w=w.next=t}else m=w=t;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:u.shared,effects:u.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function Kl(e,t,o,u){var m=e.updateQueue;Cs=!1;var w=m.firstBaseUpdate,_=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var z=M,le=z.next;z.next=null,_===null?w=le:_.next=le,_=z;var me=e.alternate;me!==null&&(me=me.updateQueue,M=me.lastBaseUpdate,M!==_&&(M===null?me.firstBaseUpdate=le:M.next=le,me.lastBaseUpdate=z))}if(w!==null){var ge=m.baseState;_=0,me=le=z=null,M=w;do{var pe=M.lane,ke=M.eventTime;if((u&pe)===pe){me!==null&&(me=me.next={eventTime:ke,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Pe=e,De=M;switch(pe=t,ke=o,De.tag){case 1:if(Pe=De.payload,typeof Pe=="function"){ge=Pe.call(ke,ge,pe);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=De.payload,pe=typeof Pe=="function"?Pe.call(ke,ge,pe):Pe,pe==null)break e;ge=ce({},ge,pe);break e;case 2:Cs=!0}}M.callback!==null&&M.lane!==0&&(e.flags|=64,pe=m.effects,pe===null?m.effects=[M]:pe.push(M))}else ke={eventTime:ke,lane:pe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},me===null?(le=me=ke,z=ge):me=me.next=ke,_|=pe;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;pe=M,M=pe.next,pe.next=null,m.lastBaseUpdate=pe,m.shared.pending=null}}while(!0);if(me===null&&(z=ge),m.baseState=z,m.firstBaseUpdate=le,m.lastBaseUpdate=me,t=m.shared.interleaved,t!==null){m=t;do _|=m.lane,m=m.next;while(m!==t)}else w===null&&(m.shared.lanes=0);ai|=_,e.lanes=_,e.memoizedState=ge}}function Am(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],m=u.callback;if(m!==null){if(u.callback=null,u=o,typeof m!="function")throw Error(n(191,m));m.call(u)}}}var ea={},An=Es(ea),ta=Es(ea),ra=Es(ea);function ii(e){if(e===ea)throw Error(n(174));return e}function ad(e,t){switch(ut(ra,t),ut(ta,e),ut(An,ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ge(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ge(t,e)}ht(An),ut(An,t)}function so(){ht(An),ht(ta),ht(ra)}function Nm(e){ii(ra.current);var t=ii(An.current),o=Ge(t,e.type);t!==o&&(ut(ta,e),ut(An,o))}function ld(e){ta.current===e&&(ht(An),ht(ta))}var wt=Es(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cd=[];function ud(){for(var e=0;e<cd.length;e++)cd[e]._workInProgressVersionPrimary=null;cd.length=0}var Vl=j.ReactCurrentDispatcher,dd=j.ReactCurrentBatchConfig,oi=0,Et=null,Ut=null,Bt=null,Jl=!1,na=!1,sa=0,XS=0;function er(){throw Error(n(321))}function fd(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!an(e[o],t[o]))return!1;return!0}function hd(e,t,o,u,m,w){if(oi=w,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?tx:rx,e=o(u,m),na){w=0;do{if(na=!1,sa=0,25<=w)throw Error(n(301));w+=1,Bt=Ut=null,t.updateQueue=null,Vl.current=nx,e=o(u,m)}while(na)}if(Vl.current=Ql,t=Ut!==null&&Ut.next!==null,oi=0,Bt=Ut=Et=null,Jl=!1,t)throw Error(n(300));return e}function pd(){var e=sa!==0;return sa=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Et.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Br(){if(Ut===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=Bt===null?Et.memoizedState:Bt.next;if(t!==null)Bt=t,Ut=e;else{if(e===null)throw Error(n(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Bt===null?Et.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function ia(e,t){return typeof t=="function"?t(e):t}function md(e){var t=Br(),o=t.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=e;var u=Ut,m=u.baseQueue,w=o.pending;if(w!==null){if(m!==null){var _=m.next;m.next=w.next,w.next=_}u.baseQueue=m=w,o.pending=null}if(m!==null){w=m.next,u=u.baseState;var M=_=null,z=null,le=w;do{var me=le.lane;if((oi&me)===me)z!==null&&(z=z.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),u=le.hasEagerState?le.eagerState:e(u,le.action);else{var ge={lane:me,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};z===null?(M=z=ge,_=u):z=z.next=ge,Et.lanes|=me,ai|=me}le=le.next}while(le!==null&&le!==w);z===null?_=u:z.next=M,an(u,t.memoizedState)||(xr=!0),t.memoizedState=u,t.baseState=_,t.baseQueue=z,o.lastRenderedState=u}if(e=o.interleaved,e!==null){m=e;do w=m.lane,Et.lanes|=w,ai|=w,m=m.next;while(m!==e)}else m===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function gd(e){var t=Br(),o=t.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=e;var u=o.dispatch,m=o.pending,w=t.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do w=e(w,_.action),_=_.next;while(_!==m);an(w,t.memoizedState)||(xr=!0),t.memoizedState=w,t.baseQueue===null&&(t.baseState=w),o.lastRenderedState=w}return[w,u]}function Pm(){}function Om(e,t){var o=Et,u=Br(),m=t(),w=!an(u.memoizedState,m);if(w&&(u.memoizedState=m,xr=!0),u=u.queue,yd(Lm.bind(null,o,u,e),[e]),u.getSnapshot!==t||w||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,oa(9,Dm.bind(null,o,u,m,t),void 0,null),Wt===null)throw Error(n(349));(oi&30)!==0||jm(o,t,m)}return m}function jm(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function Dm(e,t,o,u){t.value=o,t.getSnapshot=u,Mm(t)&&Um(e)}function Lm(e,t,o){return o(function(){Mm(t)&&Um(e)})}function Mm(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!an(e,o)}catch{return!0}}function Um(e){var t=Vn(e,1);t!==null&&fn(t,e,1,-1)}function qm(e){var t=Nn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ex.bind(null,Et,e),[t.memoizedState,e]}function oa(e,t,o,u){return e={tag:e,create:t,destroy:o,deps:u,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,t.lastEffect=e)),e}function Hm(){return Br().memoizedState}function Yl(e,t,o,u){var m=Nn();Et.flags|=e,m.memoizedState=oa(1|t,o,void 0,u===void 0?null:u)}function Xl(e,t,o,u){var m=Br();u=u===void 0?null:u;var w=void 0;if(Ut!==null){var _=Ut.memoizedState;if(w=_.destroy,u!==null&&fd(u,_.deps)){m.memoizedState=oa(t,o,w,u);return}}Et.flags|=e,m.memoizedState=oa(1|t,o,w,u)}function Fm(e,t){return Yl(8390656,8,e,t)}function yd(e,t){return Xl(2048,8,e,t)}function $m(e,t){return Xl(4,2,e,t)}function zm(e,t){return Xl(4,4,e,t)}function Bm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wm(e,t,o){return o=o!=null?o.concat([e]):null,Xl(4,4,Bm.bind(null,t,e),o)}function vd(){}function Km(e,t){var o=Br();t=t===void 0?null:t;var u=o.memoizedState;return u!==null&&t!==null&&fd(t,u[1])?u[0]:(o.memoizedState=[e,t],e)}function Gm(e,t){var o=Br();t=t===void 0?null:t;var u=o.memoizedState;return u!==null&&t!==null&&fd(t,u[1])?u[0]:(e=e(),o.memoizedState=[e,t],e)}function Vm(e,t,o){return(oi&21)===0?(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=o):(an(o,t)||(o=jo(),Et.lanes|=o,ai|=o,e.baseState=!0),t)}function QS(e,t){var o=it;it=o!==0&&4>o?o:4,e(!0);var u=dd.transition;dd.transition={};try{e(!1),t()}finally{it=o,dd.transition=u}}function Jm(){return Br().memoizedState}function ZS(e,t,o){var u=Rs(e);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Ym(e))Xm(t,o);else if(o=_m(e,t,o,u),o!==null){var m=ur();fn(o,e,u,m),Qm(o,t,u)}}function ex(e,t,o){var u=Rs(e),m={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ym(e))Xm(t,m);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=t.lastRenderedReducer,w!==null))try{var _=t.lastRenderedState,M=w(_,o);if(m.hasEagerState=!0,m.eagerState=M,an(M,_)){var z=t.interleaved;z===null?(m.next=m,id(t)):(m.next=z.next,z.next=m),t.interleaved=m;return}}catch{}finally{}o=_m(e,t,m,u),o!==null&&(m=ur(),fn(o,e,u,m),Qm(o,t,u))}}function Ym(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function Xm(e,t){na=Jl=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Qm(e,t,o){if((o&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,o|=u,t.lanes=o,Do(e,o)}}var Ql={readContext:zr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},tx={readContext:zr,useCallback:function(e,t){return Nn().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:Fm,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,Yl(4194308,4,Bm.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yl(4,2,e,t)},useMemo:function(e,t){var o=Nn();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var u=Nn();return t=o!==void 0?o(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=ZS.bind(null,Et,e),[u.memoizedState,e]},useRef:function(e){var t=Nn();return e={current:e},t.memoizedState=e},useState:qm,useDebugValue:vd,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=qm(!1),t=e[0];return e=QS.bind(null,e[1]),Nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var u=Et,m=Nn();if(mt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=t(),Wt===null)throw Error(n(349));(oi&30)!==0||jm(u,t,o)}m.memoizedState=o;var w={value:o,getSnapshot:t};return m.queue=w,Fm(Lm.bind(null,u,w,e),[e]),u.flags|=2048,oa(9,Dm.bind(null,u,w,o,t),void 0,null),o},useId:function(){var e=Nn(),t=Wt.identifierPrefix;if(mt){var o=Gn,u=Kn;o=(u&~(1<<32-Ir(u)-1)).toString(32)+o,t=":"+t+"R"+o,o=sa++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=XS++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rx={readContext:zr,useCallback:Km,useContext:zr,useEffect:yd,useImperativeHandle:Wm,useInsertionEffect:$m,useLayoutEffect:zm,useMemo:Gm,useReducer:md,useRef:Hm,useState:function(){return md(ia)},useDebugValue:vd,useDeferredValue:function(e){var t=Br();return Vm(t,Ut.memoizedState,e)},useTransition:function(){var e=md(ia)[0],t=Br().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Om,useId:Jm,unstable_isNewReconciler:!1},nx={readContext:zr,useCallback:Km,useContext:zr,useEffect:yd,useImperativeHandle:Wm,useInsertionEffect:$m,useLayoutEffect:zm,useMemo:Gm,useReducer:gd,useRef:Hm,useState:function(){return gd(ia)},useDebugValue:vd,useDeferredValue:function(e){var t=Br();return Ut===null?t.memoizedState=e:Vm(t,Ut.memoizedState,e)},useTransition:function(){var e=gd(ia)[0],t=Br().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Om,useId:Jm,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function wd(e,t,o,u){t=e.memoizedState,o=o(u,t),o=o==null?t:ce({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Zl={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var u=ur(),m=Rs(e),w=Jn(u,m);w.payload=t,o!=null&&(w.callback=o),t=bs(e,w,m),t!==null&&(fn(t,e,m,u),Wl(t,e,m))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var u=ur(),m=Rs(e),w=Jn(u,m);w.tag=1,w.payload=t,o!=null&&(w.callback=o),t=bs(e,w,m),t!==null&&(fn(t,e,m,u),Wl(t,e,m))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=ur(),u=Rs(e),m=Jn(o,u);m.tag=2,t!=null&&(m.callback=t),t=bs(e,m,u),t!==null&&(fn(t,e,u,o),Wl(t,e,u))}};function Zm(e,t,o,u,m,w,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,w,_):t.prototype&&t.prototype.isPureReactComponent?!Ko(o,u)||!Ko(m,w):!0}function eg(e,t,o){var u=!1,m=Ss,w=t.contextType;return typeof w=="object"&&w!==null?w=zr(w):(m=Sr(t)?ti:Zt.current,u=t.contextTypes,w=(u=u!=null)?Xi(e,m):Ss),t=new t(o,w),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zl,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=w),t}function tg(e,t,o,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,u),t.state!==e&&Zl.enqueueReplaceState(t,t.state,null)}function Ed(e,t,o,u){var m=e.stateNode;m.props=o,m.state=e.memoizedState,m.refs={},od(e);var w=t.contextType;typeof w=="object"&&w!==null?m.context=zr(w):(w=Sr(t)?ti:Zt.current,m.context=Xi(e,w)),m.state=e.memoizedState,w=t.getDerivedStateFromProps,typeof w=="function"&&(wd(e,t,w,o),m.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(t=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),t!==m.state&&Zl.enqueueReplaceState(m,m.state,null),Kl(e,o,m,u),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function io(e,t){try{var o="",u=t;do o+=fe(u),u=u.return;while(u);var m=o}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:e,source:t,stack:m,digest:null}}function Sd(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function xd(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var sx=typeof WeakMap=="function"?WeakMap:Map;function rg(e,t,o){o=Jn(-1,o),o.tag=3,o.payload={element:null};var u=t.value;return o.callback=function(){oc||(oc=!0,Md=u),xd(e,t)},o}function ng(e,t,o){o=Jn(-1,o),o.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var m=t.value;o.payload=function(){return u(m)},o.callback=function(){xd(e,t)}}var w=e.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(o.callback=function(){xd(e,t),typeof u!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var _=t.stack;this.componentDidCatch(t.value,{componentStack:_!==null?_:""})}),o}function sg(e,t,o){var u=e.pingCache;if(u===null){u=e.pingCache=new sx;var m=new Set;u.set(t,m)}else m=u.get(t),m===void 0&&(m=new Set,u.set(t,m));m.has(o)||(m.add(o),e=vx.bind(null,e,t,o),t.then(e,e))}function ig(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function og(e,t,o,u,m){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=Jn(-1,1),t.tag=2,bs(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var ix=j.ReactCurrentOwner,xr=!1;function cr(e,t,o,u){t.child=e===null?km(t,null,o,u):to(t,e.child,o,u)}function ag(e,t,o,u,m){o=o.render;var w=t.ref;return no(t,m),u=hd(e,t,o,u,w,m),o=pd(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~m,Yn(e,t,m)):(mt&&o&&Yu(t),t.flags|=1,cr(e,t,u,m),t.child)}function lg(e,t,o,u,m){if(e===null){var w=o.type;return typeof w=="function"&&!Bd(w)&&w.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=w,cg(e,t,w,u,m)):(e=fc(o.type,null,u,t,t.mode,m),e.ref=t.ref,e.return=t,t.child=e)}if(w=e.child,(e.lanes&m)===0){var _=w.memoizedProps;if(o=o.compare,o=o!==null?o:Ko,o(_,u)&&e.ref===t.ref)return Yn(e,t,m)}return t.flags|=1,e=As(w,u),e.ref=t.ref,e.return=t,t.child=e}function cg(e,t,o,u,m){if(e!==null){var w=e.memoizedProps;if(Ko(w,u)&&e.ref===t.ref)if(xr=!1,t.pendingProps=u=w,(e.lanes&m)!==0)(e.flags&131072)!==0&&(xr=!0);else return t.lanes=e.lanes,Yn(e,t,m)}return Cd(e,t,o,u,m)}function ug(e,t,o){var u=t.pendingProps,m=u.children,w=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(ao,jr),jr|=o;else{if((o&1073741824)===0)return e=w!==null?w.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(ao,jr),jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=w!==null?w.baseLanes:o,ut(ao,jr),jr|=u}else w!==null?(u=w.baseLanes|o,t.memoizedState=null):u=o,ut(ao,jr),jr|=u;return cr(e,t,m,o),t.child}function dg(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function Cd(e,t,o,u,m){var w=Sr(o)?ti:Zt.current;return w=Xi(t,w),no(t,m),o=hd(e,t,o,u,w,m),u=pd(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~m,Yn(e,t,m)):(mt&&u&&Yu(t),t.flags|=1,cr(e,t,o,m),t.child)}function fg(e,t,o,u,m){if(Sr(o)){var w=!0;Ml(t)}else w=!1;if(no(t,m),t.stateNode===null)tc(e,t),eg(t,o,u),Ed(t,o,u,m),u=!0;else if(e===null){var _=t.stateNode,M=t.memoizedProps;_.props=M;var z=_.context,le=o.contextType;typeof le=="object"&&le!==null?le=zr(le):(le=Sr(o)?ti:Zt.current,le=Xi(t,le));var me=o.getDerivedStateFromProps,ge=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function";ge||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==u||z!==le)&&tg(t,_,u,le),Cs=!1;var pe=t.memoizedState;_.state=pe,Kl(t,u,_,m),z=t.memoizedState,M!==u||pe!==z||Er.current||Cs?(typeof me=="function"&&(wd(t,o,me,u),z=t.memoizedState),(M=Cs||Zm(t,o,M,u,pe,z,le))?(ge||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=z),_.props=u,_.state=z,_.context=le,u=M):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{_=t.stateNode,Rm(e,t),M=t.memoizedProps,le=t.type===t.elementType?M:cn(t.type,M),_.props=le,ge=t.pendingProps,pe=_.context,z=o.contextType,typeof z=="object"&&z!==null?z=zr(z):(z=Sr(o)?ti:Zt.current,z=Xi(t,z));var ke=o.getDerivedStateFromProps;(me=typeof ke=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==ge||pe!==z)&&tg(t,_,u,z),Cs=!1,pe=t.memoizedState,_.state=pe,Kl(t,u,_,m);var Pe=t.memoizedState;M!==ge||pe!==Pe||Er.current||Cs?(typeof ke=="function"&&(wd(t,o,ke,u),Pe=t.memoizedState),(le=Cs||Zm(t,o,le,u,pe,Pe,z)||!1)?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Pe,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Pe,z)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||M===e.memoizedProps&&pe===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&pe===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=Pe),_.props=u,_.state=Pe,_.context=z,u=le):(typeof _.componentDidUpdate!="function"||M===e.memoizedProps&&pe===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&pe===e.memoizedState||(t.flags|=1024),u=!1)}return bd(e,t,o,u,w,m)}function bd(e,t,o,u,m,w){dg(e,t);var _=(t.flags&128)!==0;if(!u&&!_)return m&&ym(t,o,!1),Yn(e,t,w);u=t.stateNode,ix.current=t;var M=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&_?(t.child=to(t,e.child,null,w),t.child=to(t,null,M,w)):cr(e,t,M,w),t.memoizedState=u.state,m&&ym(t,o,!0),t.child}function hg(e){var t=e.stateNode;t.pendingContext?mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mm(e,t.context,!1),ad(e,t.containerInfo)}function pg(e,t,o,u,m){return eo(),ed(m),t.flags|=256,cr(e,t,o,u),t.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function kd(e){return{baseLanes:e,cachePool:null,transitions:null}}function mg(e,t,o){var u=t.pendingProps,m=wt.current,w=!1,_=(t.flags&128)!==0,M;if((M=_)||(M=e!==null&&e.memoizedState===null?!1:(m&2)!==0),M?(w=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),ut(wt,m&1),e===null)return Zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(_=u.children,e=u.fallback,w?(u=t.mode,w=t.child,_={mode:"hidden",children:_},(u&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=_):w=hc(_,u,0,null),e=di(e,u,o,null),w.return=t,e.return=t,w.sibling=e,t.child=w,t.child.memoizedState=kd(o),t.memoizedState=Td,e):_d(t,_));if(m=e.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return ox(e,t,_,u,M,m,o);if(w){w=u.fallback,_=t.mode,m=e.child,M=m.sibling;var z={mode:"hidden",children:u.children};return(_&1)===0&&t.child!==m?(u=t.child,u.childLanes=0,u.pendingProps=z,t.deletions=null):(u=As(m,z),u.subtreeFlags=m.subtreeFlags&14680064),M!==null?w=As(M,w):(w=di(w,_,o,null),w.flags|=2),w.return=t,u.return=t,u.sibling=w,t.child=u,u=w,w=t.child,_=e.child.memoizedState,_=_===null?kd(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},w.memoizedState=_,w.childLanes=e.childLanes&~o,t.memoizedState=Td,u}return w=e.child,e=w.sibling,u=As(w,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=o),u.return=t,u.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=u,t.memoizedState=null,u}function _d(e,t){return t=hc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ec(e,t,o,u){return u!==null&&ed(u),to(t,e.child,null,o),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ox(e,t,o,u,m,w,_){if(o)return t.flags&256?(t.flags&=-257,u=Sd(Error(n(422))),ec(e,t,_,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(w=u.fallback,m=t.mode,u=hc({mode:"visible",children:u.children},m,0,null),w=di(w,m,_,null),w.flags|=2,u.return=t,w.return=t,u.sibling=w,t.child=u,(t.mode&1)!==0&&to(t,e.child,null,_),t.child.memoizedState=kd(_),t.memoizedState=Td,w);if((t.mode&1)===0)return ec(e,t,_,null);if(m.data==="$!"){if(u=m.nextSibling&&m.nextSibling.dataset,u)var M=u.dgst;return u=M,w=Error(n(419)),u=Sd(w,u,void 0),ec(e,t,_,u)}if(M=(_&e.childLanes)!==0,xr||M){if(u=Wt,u!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(u.suspendedLanes|_))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,Vn(e,m),fn(u,e,m,-1))}return zd(),u=Sd(Error(n(421))),ec(e,t,_,u)}return m.data==="$?"?(t.flags|=128,t.child=e.child,t=wx.bind(null,e),m._reactRetry=t,null):(e=w.treeContext,Or=ws(m.nextSibling),Pr=t,mt=!0,ln=null,e!==null&&(Fr[$r++]=Kn,Fr[$r++]=Gn,Fr[$r++]=ri,Kn=e.id,Gn=e.overflow,ri=t),t=_d(t,u.children),t.flags|=4096,t)}function gg(e,t,o){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),sd(e.return,t,o)}function Rd(e,t,o,u,m){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m)}function yg(e,t,o){var u=t.pendingProps,m=u.revealOrder,w=u.tail;if(cr(e,t,u.children,o),u=wt.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,o,t);else if(e.tag===19)gg(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(ut(wt,u),(t.mode&1)===0)t.memoizedState=null;else switch(m){case"forwards":for(o=t.child,m=null;o!==null;)e=o.alternate,e!==null&&Gl(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=t.child,t.child=null):(m=o.sibling,o.sibling=null),Rd(t,!1,m,o,w);break;case"backwards":for(o=null,m=t.child,t.child=null;m!==null;){if(e=m.alternate,e!==null&&Gl(e)===null){t.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Rd(t,!0,o,null,w);break;case"together":Rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tc(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,(o&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,o=As(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=As(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function ax(e,t,o){switch(t.tag){case 3:hg(t),eo();break;case 5:Nm(t);break;case 1:Sr(t.type)&&Ml(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,m=t.memoizedProps.value;ut(zl,u._currentValue),u._currentValue=m;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(ut(wt,wt.current&1),t.flags|=128,null):(o&t.child.childLanes)!==0?mg(e,t,o):(ut(wt,wt.current&1),e=Yn(e,t,o),e!==null?e.sibling:null);ut(wt,wt.current&1);break;case 19:if(u=(o&t.childLanes)!==0,(e.flags&128)!==0){if(u)return yg(e,t,o);t.flags|=128}if(m=t.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(wt,wt.current),u)break;return null;case 22:case 23:return t.lanes=0,ug(e,t,o)}return Yn(e,t,o)}var vg,Id,wg,Eg;vg=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Id=function(){},wg=function(e,t,o,u){var m=e.memoizedProps;if(m!==u){e=t.stateNode,ii(An.current);var w=null;switch(o){case"input":m=He(e,m),u=He(e,u),w=[];break;case"select":m=ce({},m,{value:void 0}),u=ce({},u,{value:void 0}),w=[];break;case"textarea":m=Dt(e,m),u=Dt(e,u),w=[];break;default:typeof m.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=jl)}Qr(o,u);var _;o=null;for(le in m)if(!u.hasOwnProperty(le)&&m.hasOwnProperty(le)&&m[le]!=null)if(le==="style"){var M=m[le];for(_ in M)M.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(c.hasOwnProperty(le)?w||(w=[]):(w=w||[]).push(le,null));for(le in u){var z=u[le];if(M=m?.[le],u.hasOwnProperty(le)&&z!==M&&(z!=null||M!=null))if(le==="style")if(M){for(_ in M)!M.hasOwnProperty(_)||z&&z.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in z)z.hasOwnProperty(_)&&M[_]!==z[_]&&(o||(o={}),o[_]=z[_])}else o||(w||(w=[]),w.push(le,o)),o=z;else le==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,M=M?M.__html:void 0,z!=null&&M!==z&&(w=w||[]).push(le,z)):le==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(le,""+z):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(c.hasOwnProperty(le)?(z!=null&&le==="onScroll"&&ft("scroll",e),w||M===z||(w=[])):(w=w||[]).push(le,z))}o&&(w=w||[]).push("style",o);var le=w;(t.updateQueue=le)&&(t.flags|=4)}},Eg=function(e,t,o,u){o!==u&&(t.flags|=4)};function aa(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(t)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&14680064,u|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=u,e.childLanes=o,t}function lx(e,t,o){var u=t.pendingProps;switch(Xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Sr(t.type)&&Ll(),tr(t),null;case 3:return u=t.stateNode,so(),ht(Er),ht(Zt),ud(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ln!==null&&(Hd(ln),ln=null))),Id(e,t),tr(t),null;case 5:ld(t);var m=ii(ra.current);if(o=t.type,e!==null&&t.stateNode!=null)wg(e,t,o,u,m),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(n(166));return tr(t),null}if(e=ii(An.current),Fl(t)){u=t.stateNode,o=t.type;var w=t.memoizedProps;switch(u[In]=t,u[Xo]=w,e=(t.mode&1)!==0,o){case"dialog":ft("cancel",u),ft("close",u);break;case"iframe":case"object":case"embed":ft("load",u);break;case"video":case"audio":for(m=0;m<Vo.length;m++)ft(Vo[m],u);break;case"source":ft("error",u);break;case"img":case"image":case"link":ft("error",u),ft("load",u);break;case"details":ft("toggle",u);break;case"input":xt(u,w),ft("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!w.multiple},ft("invalid",u);break;case"textarea":Ur(u,w),ft("invalid",u)}Qr(o,w),m=null;for(var _ in w)if(w.hasOwnProperty(_)){var M=w[_];_==="children"?typeof M=="string"?u.textContent!==M&&(w.suppressHydrationWarning!==!0&&Ol(u.textContent,M,e),m=["children",M]):typeof M=="number"&&u.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&Ol(u.textContent,M,e),m=["children",""+M]):c.hasOwnProperty(_)&&M!=null&&_==="onScroll"&&ft("scroll",u)}switch(o){case"input":$t(u),Hs(u,w,!0);break;case"textarea":$t(u),Ao(u);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(u.onclick=jl)}u=m,t.updateQueue=u,u!==null&&(t.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oe(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=_.createElement(o,{is:u.is}):(e=_.createElement(o),o==="select"&&(_=e,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):e=_.createElementNS(e,o),e[In]=t,e[Xo]=u,vg(e,t,!1,!1),t.stateNode=e;e:{switch(_=as(o,u),o){case"dialog":ft("cancel",e),ft("close",e),m=u;break;case"iframe":case"object":case"embed":ft("load",e),m=u;break;case"video":case"audio":for(m=0;m<Vo.length;m++)ft(Vo[m],e);m=u;break;case"source":ft("error",e),m=u;break;case"img":case"image":case"link":ft("error",e),ft("load",e),m=u;break;case"details":ft("toggle",e),m=u;break;case"input":xt(e,u),m=He(e,u),ft("invalid",e);break;case"option":m=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},m=ce({},u,{value:void 0}),ft("invalid",e);break;case"textarea":Ur(e,u),m=Dt(e,u),ft("invalid",e);break;default:m=u}Qr(o,m),M=m;for(w in M)if(M.hasOwnProperty(w)){var z=M[w];w==="style"?Ai(e,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Un(e,z)):w==="children"?typeof z=="string"?(o!=="textarea"||z!=="")&&yr(e,z):typeof z=="number"&&yr(e,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(c.hasOwnProperty(w)?z!=null&&w==="onScroll"&&ft("scroll",e):z!=null&&N(e,w,z,_))}switch(o){case"input":$t(e),Hs(e,u,!1);break;case"textarea":$t(e),Ao(e);break;case"option":u.value!=null&&e.setAttribute("value",""+_e(u.value));break;case"select":e.multiple=!!u.multiple,w=u.value,w!=null?vn(e,!!u.multiple,w,!1):u.defaultValue!=null&&vn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=jl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)Eg(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(n(166));if(o=ii(ra.current),ii(An.current),Fl(t)){if(u=t.stateNode,o=t.memoizedProps,u[In]=t,(w=u.nodeValue!==o)&&(e=Pr,e!==null))switch(e.tag){case 3:Ol(u.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(u.nodeValue,o,(e.mode&1)!==0)}w&&(t.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[In]=t,t.stateNode=u}return tr(t),null;case 13:if(ht(wt),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Or!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Cm(),eo(),t.flags|=98560,w=!1;else if(w=Fl(t),u!==null&&u.dehydrated!==null){if(e===null){if(!w)throw Error(n(318));if(w=t.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[In]=t}else eo(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tr(t),w=!1}else ln!==null&&(Hd(ln),ln=null),w=!0;if(!w)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=o,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(wt.current&1)!==0?qt===0&&(qt=3):zd())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return so(),Id(e,t),e===null&&Jo(t.stateNode.containerInfo),tr(t),null;case 10:return nd(t.type._context),tr(t),null;case 17:return Sr(t.type)&&Ll(),tr(t),null;case 19:if(ht(wt),w=t.memoizedState,w===null)return tr(t),null;if(u=(t.flags&128)!==0,_=w.rendering,_===null)if(u)aa(w,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(_=Gl(e),_!==null){for(t.flags|=128,aa(w,!1),u=_.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=o,o=t.child;o!==null;)w=o,e=u,w.flags&=14680066,_=w.alternate,_===null?(w.childLanes=0,w.lanes=e,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=_.childLanes,w.lanes=_.lanes,w.child=_.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=_.memoizedProps,w.memoizedState=_.memoizedState,w.updateQueue=_.updateQueue,w.type=_.type,e=_.dependencies,w.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return ut(wt,wt.current&1|2),t.child}e=e.sibling}w.tail!==null&&yt()>lo&&(t.flags|=128,u=!0,aa(w,!1),t.lanes=4194304)}else{if(!u)if(e=Gl(_),e!==null){if(t.flags|=128,u=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),aa(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!mt)return tr(t),null}else 2*yt()-w.renderingStartTime>lo&&o!==1073741824&&(t.flags|=128,u=!0,aa(w,!1),t.lanes=4194304);w.isBackwards?(_.sibling=t.child,t.child=_):(o=w.last,o!==null?o.sibling=_:t.child=_,w.last=_)}return w.tail!==null?(t=w.tail,w.rendering=t,w.tail=t.sibling,w.renderingStartTime=yt(),t.sibling=null,o=wt.current,ut(wt,u?o&1|2:o&1),t):(tr(t),null);case 22:case 23:return $d(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(jr&1073741824)!==0&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function cx(e,t){switch(Xu(t),t.tag){case 1:return Sr(t.type)&&Ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return so(),ht(Er),ht(Zt),ud(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ld(t),null;case 13:if(ht(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ht(wt),null;case 4:return so(),null;case 10:return nd(t.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var rc=!1,rr=!1,ux=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function oo(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){bt(e,t,u)}else o.current=null}function Ad(e,t,o){try{o()}catch(u){bt(e,t,u)}}var Sg=!1;function dx(e,t){if($u=Fn,e=Zp(),ju(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,w=u.focusNode;u=u.focusOffset;try{o.nodeType,w.nodeType}catch{o=null;break e}var _=0,M=-1,z=-1,le=0,me=0,ge=e,pe=null;t:for(;;){for(var ke;ge!==o||m!==0&&ge.nodeType!==3||(M=_+m),ge!==w||u!==0&&ge.nodeType!==3||(z=_+u),ge.nodeType===3&&(_+=ge.nodeValue.length),(ke=ge.firstChild)!==null;)pe=ge,ge=ke;for(;;){if(ge===e)break t;if(pe===o&&++le===m&&(M=_),pe===w&&++me===u&&(z=_),(ke=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=ke}o=M===-1||z===-1?null:{start:M,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(zu={focusedElem:e,selectionRange:o},Fn=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var Pe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var De=Pe.memoizedProps,_t=Pe.memoizedState,ne=t.stateNode,G=ne.getSnapshotBeforeUpdate(t.elementType===t.type?De:cn(t.type,De),_t);ne.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ie=t.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){bt(t,t.return,ve)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return Pe=Sg,Sg=!1,Pe}function la(e,t,o){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&e)===e){var w=m.destroy;m.destroy=void 0,w!==void 0&&Ad(t,o,w)}m=m.next}while(m!==u)}}function nc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var u=o.create;o.destroy=u()}o=o.next}while(o!==t)}}function Nd(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function xg(e){var t=e.alternate;t!==null&&(e.alternate=null,xg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[Xo],delete t[Gu],delete t[GS],delete t[VS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cg(e){return e.tag===5||e.tag===3||e.tag===4}function bg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pd(e,t,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=jl));else if(u!==4&&(e=e.child,e!==null))for(Pd(e,t,o),e=e.sibling;e!==null;)Pd(e,t,o),e=e.sibling}function Od(e,t,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Od(e,t,o),e=e.sibling;e!==null;)Od(e,t,o),e=e.sibling}var Yt=null,un=!1;function Ts(e,t,o){for(o=o.child;o!==null;)Tg(e,t,o),o=o.sibling}function Tg(e,t,o){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Ws,o)}catch{}switch(o.tag){case 5:rr||oo(o,t);case 6:var u=Yt,m=un;Yt=null,Ts(e,t,o),Yt=u,un=m,Yt!==null&&(un?(e=Yt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Yt.removeChild(o.stateNode));break;case 18:Yt!==null&&(un?(e=Yt,o=o.stateNode,e.nodeType===8?Ku(e.parentNode,o):e.nodeType===1&&Ku(e,o),Tn(e)):Ku(Yt,o.stateNode));break;case 4:u=Yt,m=un,Yt=o.stateNode.containerInfo,un=!0,Ts(e,t,o),Yt=u,un=m;break;case 0:case 11:case 14:case 15:if(!rr&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){m=u=u.next;do{var w=m,_=w.destroy;w=w.tag,_!==void 0&&((w&2)!==0||(w&4)!==0)&&Ad(o,t,_),m=m.next}while(m!==u)}Ts(e,t,o);break;case 1:if(!rr&&(oo(o,t),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(M){bt(o,t,M)}Ts(e,t,o);break;case 21:Ts(e,t,o);break;case 22:o.mode&1?(rr=(u=rr)||o.memoizedState!==null,Ts(e,t,o),rr=u):Ts(e,t,o);break;default:Ts(e,t,o)}}function kg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new ux),t.forEach(function(u){var m=Ex.bind(null,e,u);o.has(u)||(o.add(u),u.then(m,m))})}}function dn(e,t){var o=t.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];try{var w=e,_=t,M=_;e:for(;M!==null;){switch(M.tag){case 5:Yt=M.stateNode,un=!1;break e;case 3:Yt=M.stateNode.containerInfo,un=!0;break e;case 4:Yt=M.stateNode.containerInfo,un=!0;break e}M=M.return}if(Yt===null)throw Error(n(160));Tg(w,_,m),Yt=null,un=!1;var z=m.alternate;z!==null&&(z.return=null),m.return=null}catch(le){bt(m,t,le)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_g(t,e),t=t.sibling}function _g(e,t){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Pn(e),u&4){try{la(3,e,e.return),nc(3,e)}catch(De){bt(e,e.return,De)}try{la(5,e,e.return)}catch(De){bt(e,e.return,De)}}break;case 1:dn(t,e),Pn(e),u&512&&o!==null&&oo(o,o.return);break;case 5:if(dn(t,e),Pn(e),u&512&&o!==null&&oo(o,o.return),e.flags&32){var m=e.stateNode;try{yr(m,"")}catch(De){bt(e,e.return,De)}}if(u&4&&(m=e.stateNode,m!=null)){var w=e.memoizedProps,_=o!==null?o.memoizedProps:w,M=e.type,z=e.updateQueue;if(e.updateQueue=null,z!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&Nt(m,w),as(M,_);var le=as(M,w);for(_=0;_<z.length;_+=2){var me=z[_],ge=z[_+1];me==="style"?Ai(m,ge):me==="dangerouslySetInnerHTML"?Un(m,ge):me==="children"?yr(m,ge):N(m,me,ge,le)}switch(M){case"input":Tt(m,w);break;case"textarea":Ii(m,w);break;case"select":var pe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var ke=w.value;ke!=null?vn(m,!!w.multiple,ke,!1):pe!==!!w.multiple&&(w.defaultValue!=null?vn(m,!!w.multiple,w.defaultValue,!0):vn(m,!!w.multiple,w.multiple?[]:"",!1))}m[Xo]=w}catch(De){bt(e,e.return,De)}}break;case 6:if(dn(t,e),Pn(e),u&4){if(e.stateNode===null)throw Error(n(162));m=e.stateNode,w=e.memoizedProps;try{m.nodeValue=w}catch(De){bt(e,e.return,De)}}break;case 3:if(dn(t,e),Pn(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(t.containerInfo)}catch(De){bt(e,e.return,De)}break;case 4:dn(t,e),Pn(e);break;case 13:dn(t,e),Pn(e),m=e.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(Ld=yt())),u&4&&kg(e);break;case 22:if(me=o!==null&&o.memoizedState!==null,e.mode&1?(rr=(le=rr)||me,dn(t,e),rr=le):dn(t,e),Pn(e),u&8192){if(le=e.memoizedState!==null,(e.stateNode.isHidden=le)&&!me&&(e.mode&1)!==0)for(Ie=e,me=e.child;me!==null;){for(ge=Ie=me;Ie!==null;){switch(pe=Ie,ke=pe.child,pe.tag){case 0:case 11:case 14:case 15:la(4,pe,pe.return);break;case 1:oo(pe,pe.return);var Pe=pe.stateNode;if(typeof Pe.componentWillUnmount=="function"){u=pe,o=pe.return;try{t=u,Pe.props=t.memoizedProps,Pe.state=t.memoizedState,Pe.componentWillUnmount()}catch(De){bt(u,o,De)}}break;case 5:oo(pe,pe.return);break;case 22:if(pe.memoizedState!==null){Ag(ge);continue}}ke!==null?(ke.return=pe,Ie=ke):Ag(ge)}me=me.sibling}e:for(me=null,ge=e;;){if(ge.tag===5){if(me===null){me=ge;try{m=ge.stateNode,le?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=ge.stateNode,z=ge.memoizedProps.style,_=z!=null&&z.hasOwnProperty("display")?z.display:null,M.style.display=Fs("display",_))}catch(De){bt(e,e.return,De)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=le?"":ge.memoizedProps}catch(De){bt(e,e.return,De)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===e)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===e)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===e)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:dn(t,e),Pn(e),u&4&&kg(e);break;case 21:break;default:dn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(Cg(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var m=u.stateNode;u.flags&32&&(yr(m,""),u.flags&=-33);var w=bg(e);Od(e,w,m);break;case 3:case 4:var _=u.stateNode.containerInfo,M=bg(e);Pd(e,M,_);break;default:throw Error(n(161))}}catch(z){bt(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fx(e,t,o){Ie=e,Rg(e)}function Rg(e,t,o){for(var u=(e.mode&1)!==0;Ie!==null;){var m=Ie,w=m.child;if(m.tag===22&&u){var _=m.memoizedState!==null||rc;if(!_){var M=m.alternate,z=M!==null&&M.memoizedState!==null||rr;M=rc;var le=rr;if(rc=_,(rr=z)&&!le)for(Ie=m;Ie!==null;)_=Ie,z=_.child,_.tag===22&&_.memoizedState!==null?Ng(m):z!==null?(z.return=_,Ie=z):Ng(m);for(;w!==null;)Ie=w,Rg(w),w=w.sibling;Ie=m,rc=M,rr=le}Ig(e)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,Ie=w):Ig(e)}}function Ig(e){for(;Ie!==null;){var t=Ie;if((t.flags&8772)!==0){var o=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rr||nc(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!rr)if(o===null)u.componentDidMount();else{var m=t.elementType===t.type?o.memoizedProps:cn(t.type,o.memoizedProps);u.componentDidUpdate(m,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var w=t.updateQueue;w!==null&&Am(t,w,u);break;case 3:var _=t.updateQueue;if(_!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}Am(t,_,o)}break;case 5:var M=t.stateNode;if(o===null&&t.flags&4){o=M;var z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&o.focus();break;case"img":z.src&&(o.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var le=t.alternate;if(le!==null){var me=le.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&Tn(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rr||t.flags&512&&Nd(t)}catch(pe){bt(t,t.return,pe)}}if(t===e){Ie=null;break}if(o=t.sibling,o!==null){o.return=t.return,Ie=o;break}Ie=t.return}}function Ag(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ie=o;break}Ie=t.return}}function Ng(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{nc(4,t)}catch(z){bt(t,o,z)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var m=t.return;try{u.componentDidMount()}catch(z){bt(t,m,z)}}var w=t.return;try{Nd(t)}catch(z){bt(t,w,z)}break;case 5:var _=t.return;try{Nd(t)}catch(z){bt(t,_,z)}}}catch(z){bt(t,t.return,z)}if(t===e){Ie=null;break}var M=t.sibling;if(M!==null){M.return=t.return,Ie=M;break}Ie=t.return}}var hx=Math.ceil,sc=j.ReactCurrentDispatcher,jd=j.ReactCurrentOwner,Wr=j.ReactCurrentBatchConfig,rt=0,Wt=null,Ot=null,Xt=0,jr=0,ao=Es(0),qt=0,ca=null,ai=0,ic=0,Dd=0,ua=null,Cr=null,Ld=0,lo=1/0,Xn=null,oc=!1,Md=null,ks=null,ac=!1,_s=null,lc=0,da=0,Ud=null,cc=-1,uc=0;function ur(){return(rt&6)!==0?yt():cc!==-1?cc:cc=yt()}function Rs(e){return(e.mode&1)===0?1:(rt&2)!==0&&Xt!==0?Xt&-Xt:YS.transition!==null?(uc===0&&(uc=jo()),uc):(e=it,e!==0||(e=window.event,e=e===void 0?16:Fi(e.type)),e)}function fn(e,t,o,u){if(50<da)throw da=0,Ud=null,Error(n(185));Gs(e,o,u),((rt&2)===0||e!==Wt)&&(e===Wt&&((rt&2)===0&&(ic|=o),qt===4&&Is(e,Xt)),br(e,u),o===1&&rt===0&&(t.mode&1)===0&&(lo=yt()+500,Ul&&xs()))}function br(e,t){var o=e.callbackNode;gl(e,t);var u=Li(e,e===Wt?Xt:0);if(u===0)o!==null&&dl(o),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(o!=null&&dl(o),t===1)e.tag===0?JS(Og.bind(null,e)):vm(Og.bind(null,e)),WS(function(){(rt&6)===0&&xs()}),o=null;else{switch(vl(u)){case 1:o=us;break;case 4:o=vr;break;case 16:o=ds;break;case 536870912:o=qn;break;default:o=ds}o=Fg(o,Pg.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function Pg(e,t){if(cc=-1,uc=0,(rt&6)!==0)throw Error(n(327));var o=e.callbackNode;if(co()&&e.callbackNode!==o)return null;var u=Li(e,e===Wt?Xt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=dc(e,u);else{t=u;var m=rt;rt|=2;var w=Dg();(Wt!==e||Xt!==t)&&(Xn=null,lo=yt()+500,ci(e,t));do try{gx();break}catch(M){jg(e,M)}while(!0);rd(),sc.current=w,rt=m,Ot!==null?t=0:(Wt=null,Xt=0,t=qt)}if(t!==0){if(t===2&&(m=nn(e),m!==0&&(u=m,t=qd(e,m))),t===1)throw o=ca,ci(e,0),Is(e,u),br(e,yt()),o;if(t===6)Is(e,u);else{if(m=e.current.alternate,(u&30)===0&&!px(m)&&(t=dc(e,u),t===2&&(w=nn(e),w!==0&&(u=w,t=qd(e,w))),t===1))throw o=ca,ci(e,0),Is(e,u),br(e,yt()),o;switch(e.finishedWork=m,e.finishedLanes=u,t){case 0:case 1:throw Error(n(345));case 2:ui(e,Cr,Xn);break;case 3:if(Is(e,u),(u&130023424)===u&&(t=Ld+500-yt(),10<t)){if(Li(e,0)!==0)break;if(m=e.suspendedLanes,(m&u)!==u){ur(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Wu(ui.bind(null,e,Cr,Xn),t);break}ui(e,Cr,Xn);break;case 4:if(Is(e,u),(u&4194240)===u)break;for(t=e.eventTimes,m=-1;0<u;){var _=31-Ir(u);w=1<<_,_=t[_],_>m&&(m=_),u&=~w}if(u=m,u=yt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*hx(u/1960))-u,10<u){e.timeoutHandle=Wu(ui.bind(null,e,Cr,Xn),u);break}ui(e,Cr,Xn);break;case 5:ui(e,Cr,Xn);break;default:throw Error(n(329))}}}return br(e,yt()),e.callbackNode===o?Pg.bind(null,e):null}function qd(e,t){var o=ua;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=dc(e,t),e!==2&&(t=Cr,Cr=o,t!==null&&Hd(t)),e}function Hd(e){Cr===null?Cr=e:Cr.push.apply(Cr,e)}function px(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var m=o[u],w=m.getSnapshot;m=m.value;try{if(!an(w(),m))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Is(e,t){for(t&=~Dd,t&=~ic,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-Ir(t),u=1<<o;e[o]=-1,t&=~u}}function Og(e){if((rt&6)!==0)throw Error(n(327));co();var t=Li(e,0);if((t&1)===0)return br(e,yt()),null;var o=dc(e,t);if(e.tag!==0&&o===2){var u=nn(e);u!==0&&(t=u,o=qd(e,u))}if(o===1)throw o=ca,ci(e,0),Is(e,t),br(e,yt()),o;if(o===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ui(e,Cr,Xn),br(e,yt()),null}function Fd(e,t){var o=rt;rt|=1;try{return e(t)}finally{rt=o,rt===0&&(lo=yt()+500,Ul&&xs())}}function li(e){_s!==null&&_s.tag===0&&(rt&6)===0&&co();var t=rt;rt|=1;var o=Wr.transition,u=it;try{if(Wr.transition=null,it=1,e)return e()}finally{it=u,Wr.transition=o,rt=t,(rt&6)===0&&xs()}}function $d(){jr=ao.current,ht(ao)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,BS(o)),Ot!==null)for(o=Ot.return;o!==null;){var u=o;switch(Xu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ll();break;case 3:so(),ht(Er),ht(Zt),ud();break;case 5:ld(u);break;case 4:so();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:nd(u.type._context);break;case 22:case 23:$d()}o=o.return}if(Wt=e,Ot=e=As(e.current,null),Xt=jr=t,qt=0,ca=null,Dd=ic=ai=0,Cr=ua=null,si!==null){for(t=0;t<si.length;t++)if(o=si[t],u=o.interleaved,u!==null){o.interleaved=null;var m=u.next,w=o.pending;if(w!==null){var _=w.next;w.next=m,u.next=_}o.pending=u}si=null}return e}function jg(e,t){do{var o=Ot;try{if(rd(),Vl.current=Ql,Jl){for(var u=Et.memoizedState;u!==null;){var m=u.queue;m!==null&&(m.pending=null),u=u.next}Jl=!1}if(oi=0,Bt=Ut=Et=null,na=!1,sa=0,jd.current=null,o===null||o.return===null){qt=1,ca=t,Ot=null;break}e:{var w=e,_=o.return,M=o,z=t;if(t=Xt,M.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=z,me=M,ge=me.tag;if((me.mode&1)===0&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var ke=ig(_);if(ke!==null){ke.flags&=-257,og(ke,_,M,w,t),ke.mode&1&&sg(w,le,t),t=ke,z=le;var Pe=t.updateQueue;if(Pe===null){var De=new Set;De.add(z),t.updateQueue=De}else Pe.add(z);break e}else{if((t&1)===0){sg(w,le,t),zd();break e}z=Error(n(426))}}else if(mt&&M.mode&1){var _t=ig(_);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),og(_t,_,M,w,t),ed(io(z,M));break e}}w=z=io(z,M),qt!==4&&(qt=2),ua===null?ua=[w]:ua.push(w),w=_;do{switch(w.tag){case 3:w.flags|=65536,t&=-t,w.lanes|=t;var ne=rg(w,z,t);Im(w,ne);break e;case 1:M=z;var G=w.type,ie=w.stateNode;if((w.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(ks===null||!ks.has(ie)))){w.flags|=65536,t&=-t,w.lanes|=t;var ve=ng(w,M,t);Im(w,ve);break e}}w=w.return}while(w!==null)}Mg(o)}catch(Me){t=Me,Ot===o&&o!==null&&(Ot=o=o.return);continue}break}while(!0)}function Dg(){var e=sc.current;return sc.current=Ql,e===null?Ql:e}function zd(){(qt===0||qt===3||qt===2)&&(qt=4),Wt===null||(ai&268435455)===0&&(ic&268435455)===0||Is(Wt,Xt)}function dc(e,t){var o=rt;rt|=2;var u=Dg();(Wt!==e||Xt!==t)&&(Xn=null,ci(e,t));do try{mx();break}catch(m){jg(e,m)}while(!0);if(rd(),rt=o,sc.current=u,Ot!==null)throw Error(n(261));return Wt=null,Xt=0,qt}function mx(){for(;Ot!==null;)Lg(Ot)}function gx(){for(;Ot!==null&&!_u();)Lg(Ot)}function Lg(e){var t=Hg(e.alternate,e,jr);e.memoizedProps=e.pendingProps,t===null?Mg(e):Ot=t,jd.current=null}function Mg(e){var t=e;do{var o=t.alternate;if(e=t.return,(t.flags&32768)===0){if(o=lx(o,t,jr),o!==null){Ot=o;return}}else{if(o=cx(o,t),o!==null){o.flags&=32767,Ot=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Ot=null;return}}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);qt===0&&(qt=5)}function ui(e,t,o){var u=it,m=Wr.transition;try{Wr.transition=null,it=1,yx(e,t,o,u)}finally{Wr.transition=m,it=u}return null}function yx(e,t,o,u){do co();while(_s!==null);if((rt&6)!==0)throw Error(n(327));o=e.finishedWork;var m=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var w=o.lanes|o.childLanes;if(Up(e,w),e===Wt&&(Ot=Wt=null,Xt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ac||(ac=!0,Fg(ds,function(){return co(),null})),w=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||w){w=Wr.transition,Wr.transition=null;var _=it;it=1;var M=rt;rt|=4,jd.current=null,dx(e,o),_g(o,e),MS(zu),Fn=!!$u,zu=$u=null,e.current=o,fx(o),Oo(),rt=M,it=_,Wr.transition=w}else e.current=o;if(ac&&(ac=!1,_s=e,lc=m),w=e.pendingLanes,w===0&&(ks=null),Iu(o.stateNode),br(e,yt()),t!==null)for(u=e.onRecoverableError,o=0;o<t.length;o++)m=t[o],u(m.value,{componentStack:m.stack,digest:m.digest});if(oc)throw oc=!1,e=Md,Md=null,e;return(lc&1)!==0&&e.tag!==0&&co(),w=e.pendingLanes,(w&1)!==0?e===Ud?da++:(da=0,Ud=e):da=0,xs(),null}function co(){if(_s!==null){var e=vl(lc),t=Wr.transition,o=it;try{if(Wr.transition=null,it=16>e?16:e,_s===null)var u=!1;else{if(e=_s,_s=null,lc=0,(rt&6)!==0)throw Error(n(331));var m=rt;for(rt|=4,Ie=e.current;Ie!==null;){var w=Ie,_=w.child;if((Ie.flags&16)!==0){var M=w.deletions;if(M!==null){for(var z=0;z<M.length;z++){var le=M[z];for(Ie=le;Ie!==null;){var me=Ie;switch(me.tag){case 0:case 11:case 15:la(8,me,w)}var ge=me.child;if(ge!==null)ge.return=me,Ie=ge;else for(;Ie!==null;){me=Ie;var pe=me.sibling,ke=me.return;if(xg(me),me===le){Ie=null;break}if(pe!==null){pe.return=ke,Ie=pe;break}Ie=ke}}}var Pe=w.alternate;if(Pe!==null){var De=Pe.child;if(De!==null){Pe.child=null;do{var _t=De.sibling;De.sibling=null,De=_t}while(De!==null)}}Ie=w}}if((w.subtreeFlags&2064)!==0&&_!==null)_.return=w,Ie=_;else e:for(;Ie!==null;){if(w=Ie,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:la(9,w,w.return)}var ne=w.sibling;if(ne!==null){ne.return=w.return,Ie=ne;break e}Ie=w.return}}var G=e.current;for(Ie=G;Ie!==null;){_=Ie;var ie=_.child;if((_.subtreeFlags&2064)!==0&&ie!==null)ie.return=_,Ie=ie;else e:for(_=G;Ie!==null;){if(M=Ie,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:nc(9,M)}}catch(Me){bt(M,M.return,Me)}if(M===_){Ie=null;break e}var ve=M.sibling;if(ve!==null){ve.return=M.return,Ie=ve;break e}Ie=M.return}}if(rt=m,xs(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Ws,e)}catch{}u=!0}return u}finally{it=o,Wr.transition=t}}return!1}function Ug(e,t,o){t=io(o,t),t=rg(e,t,1),e=bs(e,t,1),t=ur(),e!==null&&(Gs(e,1,t),br(e,t))}function bt(e,t,o){if(e.tag===3)Ug(e,e,o);else for(;t!==null;){if(t.tag===3){Ug(t,e,o);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ks===null||!ks.has(u))){e=io(o,e),e=ng(t,e,1),t=bs(t,e,1),e=ur(),t!==null&&(Gs(t,1,e),br(t,e));break}}t=t.return}}function vx(e,t,o){var u=e.pingCache;u!==null&&u.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&o,Wt===e&&(Xt&o)===o&&(qt===4||qt===3&&(Xt&130023424)===Xt&&500>yt()-Ld?ci(e,0):Dd|=o),br(e,t)}function qg(e,t){t===0&&((e.mode&1)===0?t=1:(t=Di,Di<<=1,(Di&130023424)===0&&(Di=4194304)));var o=ur();e=Vn(e,t),e!==null&&(Gs(e,t,o),br(e,o))}function wx(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),qg(e,o)}function Ex(e,t){var o=0;switch(e.tag){case 13:var u=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(t),qg(e,o)}var Hg;Hg=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)xr=!0;else{if((e.lanes&o)===0&&(t.flags&128)===0)return xr=!1,ax(e,t,o);xr=(e.flags&131072)!==0}else xr=!1,mt&&(t.flags&1048576)!==0&&wm(t,Hl,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;tc(e,t),e=t.pendingProps;var m=Xi(t,Zt.current);no(t,o),m=hd(null,t,u,e,m,o);var w=pd();return t.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(u)?(w=!0,Ml(t)):w=!1,t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,od(t),m.updater=Zl,t.stateNode=m,m._reactInternals=t,Ed(t,u,e,o),t=bd(null,t,u,!0,w,o)):(t.tag=0,mt&&w&&Yu(t),cr(null,t,m,o),t=t.child),t;case 16:u=t.elementType;e:{switch(tc(e,t),e=t.pendingProps,m=u._init,u=m(u._payload),t.type=u,m=t.tag=xx(u),e=cn(u,e),m){case 0:t=Cd(null,t,u,e,o);break e;case 1:t=fg(null,t,u,e,o);break e;case 11:t=ag(null,t,u,e,o);break e;case 14:t=lg(null,t,u,cn(u.type,e),o);break e}throw Error(n(306,u,""))}return t;case 0:return u=t.type,m=t.pendingProps,m=t.elementType===u?m:cn(u,m),Cd(e,t,u,m,o);case 1:return u=t.type,m=t.pendingProps,m=t.elementType===u?m:cn(u,m),fg(e,t,u,m,o);case 3:e:{if(hg(t),e===null)throw Error(n(387));u=t.pendingProps,w=t.memoizedState,m=w.element,Rm(e,t),Kl(t,u,null,o);var _=t.memoizedState;if(u=_.element,w.isDehydrated)if(w={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},t.updateQueue.baseState=w,t.memoizedState=w,t.flags&256){m=io(Error(n(423)),t),t=pg(e,t,u,o,m);break e}else if(u!==m){m=io(Error(n(424)),t),t=pg(e,t,u,o,m);break e}else for(Or=ws(t.stateNode.containerInfo.firstChild),Pr=t,mt=!0,ln=null,o=km(t,null,u,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(eo(),u===m){t=Yn(e,t,o);break e}cr(e,t,u,o)}t=t.child}return t;case 5:return Nm(t),e===null&&Zu(t),u=t.type,m=t.pendingProps,w=e!==null?e.memoizedProps:null,_=m.children,Bu(u,m)?_=null:w!==null&&Bu(u,w)&&(t.flags|=32),dg(e,t),cr(e,t,_,o),t.child;case 6:return e===null&&Zu(t),null;case 13:return mg(e,t,o);case 4:return ad(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=to(t,null,u,o):cr(e,t,u,o),t.child;case 11:return u=t.type,m=t.pendingProps,m=t.elementType===u?m:cn(u,m),ag(e,t,u,m,o);case 7:return cr(e,t,t.pendingProps,o),t.child;case 8:return cr(e,t,t.pendingProps.children,o),t.child;case 12:return cr(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(u=t.type._context,m=t.pendingProps,w=t.memoizedProps,_=m.value,ut(zl,u._currentValue),u._currentValue=_,w!==null)if(an(w.value,_)){if(w.children===m.children&&!Er.current){t=Yn(e,t,o);break e}}else for(w=t.child,w!==null&&(w.return=t);w!==null;){var M=w.dependencies;if(M!==null){_=w.child;for(var z=M.firstContext;z!==null;){if(z.context===u){if(w.tag===1){z=Jn(-1,o&-o),z.tag=2;var le=w.updateQueue;if(le!==null){le=le.shared;var me=le.pending;me===null?z.next=z:(z.next=me.next,me.next=z),le.pending=z}}w.lanes|=o,z=w.alternate,z!==null&&(z.lanes|=o),sd(w.return,o,t),M.lanes|=o;break}z=z.next}}else if(w.tag===10)_=w.type===t.type?null:w.child;else if(w.tag===18){if(_=w.return,_===null)throw Error(n(341));_.lanes|=o,M=_.alternate,M!==null&&(M.lanes|=o),sd(_,o,t),_=w.sibling}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===t){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}cr(e,t,m.children,o),t=t.child}return t;case 9:return m=t.type,u=t.pendingProps.children,no(t,o),m=zr(m),u=u(m),t.flags|=1,cr(e,t,u,o),t.child;case 14:return u=t.type,m=cn(u,t.pendingProps),m=cn(u.type,m),lg(e,t,u,m,o);case 15:return cg(e,t,t.type,t.pendingProps,o);case 17:return u=t.type,m=t.pendingProps,m=t.elementType===u?m:cn(u,m),tc(e,t),t.tag=1,Sr(u)?(e=!0,Ml(t)):e=!1,no(t,o),eg(t,u,m),Ed(t,u,m,o),bd(null,t,u,!0,e,o);case 19:return yg(e,t,o);case 22:return ug(e,t,o)}throw Error(n(156,t.tag))};function Fg(e,t){return Bs(e,t)}function Sx(e,t,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(e,t,o,u){return new Sx(e,t,o,u)}function Bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xx(e){if(typeof e=="function")return Bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Q)return 11;if(e===W)return 14}return 2}function As(e,t){var o=e.alternate;return o===null?(o=Kr(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function fc(e,t,o,u,m,w){var _=2;if(u=e,typeof e=="function")Bd(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case I:return di(o.children,m,w,t);case R:_=8,m|=8;break;case $:return e=Kr(12,o,t,m|2),e.elementType=$,e.lanes=w,e;case K:return e=Kr(13,o,t,m),e.elementType=K,e.lanes=w,e;case J:return e=Kr(19,o,t,m),e.elementType=J,e.lanes=w,e;case ee:return hc(o,m,w,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:_=10;break e;case se:_=9;break e;case Q:_=11;break e;case W:_=14;break e;case V:_=16,u=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Kr(_,o,t,m),t.elementType=e,t.type=u,t.lanes=w,t}function di(e,t,o,u){return e=Kr(7,e,u,t),e.lanes=o,e}function hc(e,t,o,u){return e=Kr(22,e,u,t),e.elementType=ee,e.lanes=o,e.stateNode={isHidden:!1},e}function Wd(e,t,o){return e=Kr(6,e,null,t),e.lanes=o,e}function Kd(e,t,o){return t=Kr(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cx(e,t,o,u,m){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=u,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Gd(e,t,o,u,m,w,_,M,z){return e=new Cx(e,t,o,M,z),t===1?(t=1,w===!0&&(t|=8)):t=0,w=Kr(3,null,null,t),e.current=w,w.stateNode=e,w.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(w),e}function bx(e,t,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:u==null?null:""+u,children:e,containerInfo:t,implementation:o}}function $g(e){if(!e)return Ss;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var o=e.type;if(Sr(o))return gm(e,o,t)}return t}function zg(e,t,o,u,m,w,_,M,z){return e=Gd(o,u,!0,e,m,w,_,M,z),e.context=$g(null),o=e.current,u=ur(),m=Rs(o),w=Jn(u,m),w.callback=t??null,bs(o,w,m),e.current.lanes=m,Gs(e,m,u),br(e,u),e}function pc(e,t,o,u){var m=t.current,w=ur(),_=Rs(m);return o=$g(o),t.context===null?t.context=o:t.pendingContext=o,t=Jn(w,_),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=bs(m,t,_),e!==null&&(fn(e,m,_,w),Wl(e,m,_)),_}function mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Vd(e,t){Bg(e,t),(e=e.alternate)&&Bg(e,t)}function Tx(){return null}var Wg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jd(e){this._internalRoot=e}gc.prototype.render=Jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));pc(e,t,null,null)},gc.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){pc(null,e,null,null)}),t[Bn]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vs();e={blockedOn:null,target:e,priority:t};for(var o=0;o<on.length&&t!==0&&t<on[o].priority;o++);on.splice(o,0,e),o===0&&Uo(e)}};function Yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kg(){}function kx(e,t,o,u,m){if(m){if(typeof u=="function"){var w=u;u=function(){var le=mc(_);w.call(le)}}var _=zg(t,u,e,0,null,!1,!1,"",Kg);return e._reactRootContainer=_,e[Bn]=_.current,Jo(e.nodeType===8?e.parentNode:e),li(),_}for(;m=e.lastChild;)e.removeChild(m);if(typeof u=="function"){var M=u;u=function(){var le=mc(z);M.call(le)}}var z=Gd(e,0,!1,null,null,!1,!1,"",Kg);return e._reactRootContainer=z,e[Bn]=z.current,Jo(e.nodeType===8?e.parentNode:e),li(function(){pc(t,z,o,u)}),z}function vc(e,t,o,u,m){var w=o._reactRootContainer;if(w){var _=w;if(typeof m=="function"){var M=m;m=function(){var z=mc(_);M.call(z)}}pc(t,_,e,m)}else _=kx(o,t,e,m,u);return mc(_)}wl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=Ks(t.pendingLanes);o!==0&&(Do(t,o|1),br(t,yt()),(rt&6)===0&&(lo=yt()+500,xs()))}break;case 13:li(function(){var u=Vn(e,1);if(u!==null){var m=ur();fn(u,e,1,m)}}),Vd(e,1)}},Mi=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var o=ur();fn(t,e,134217728,o)}Vd(e,134217728)}},Lo=function(e){if(e.tag===13){var t=Rs(e),o=Vn(e,t);if(o!==null){var u=ur();fn(o,e,t,u)}Vd(e,t)}},Vs=function(){return it},El=function(e,t){var o=it;try{return it=e,t()}finally{it=o}},$s=function(e,t,o){switch(t){case"input":if(Tt(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var u=o[t];if(u!==e&&u.form===e.form){var m=Dl(u);if(!m)throw Error(n(90));ae(u),Tt(u,m)}}}break;case"textarea":Ii(e,o);break;case"select":t=o.value,t!=null&&vn(e,!!o.multiple,t,!1)}},kt=Fd,zt=li;var _x={usingClientEntryPoint:!1,Events:[Qo,Ji,Dl,Ve,gt,Fd]},fa={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Po(e),e===null?null:e.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||Tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Ws=wc.inject(Rx),Hr=wc}catch{}}return Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x,Tr.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(t))throw Error(n(200));return bx(e,t,null,o)},Tr.createRoot=function(e,t){if(!Yd(e))throw Error(n(299));var o=!1,u="",m=Wg;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Gd(e,1,!1,null,null,o,!1,u,m),e[Bn]=t.current,Jo(e.nodeType===8?e.parentNode:e),new Jd(t)},Tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Po(t),e=e===null?null:e.stateNode,e},Tr.flushSync=function(e){return li(e)},Tr.hydrate=function(e,t,o){if(!yc(t))throw Error(n(200));return vc(null,e,t,!0,o)},Tr.hydrateRoot=function(e,t,o){if(!Yd(e))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,m=!1,w="",_=Wg;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(w=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),t=zg(t,null,e,1,o??null,m,!1,w,_),e[Bn]=t.current,Jo(e),u)for(e=0;e<u.length;e++)o=u[e],m=o._getVersion,m=m(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,m]:t.mutableSourceEagerHydrationData.push(o,m);return new gc(t)},Tr.render=function(e,t,o){if(!yc(t))throw Error(n(200));return vc(null,e,t,!1,o)},Tr.unmountComponentAtNode=function(e){if(!yc(e))throw Error(n(40));return e._reactRootContainer?(li(function(){vc(null,null,e,!1,function(){e._reactRootContainer=null,e[Bn]=null})}),!0):!1},Tr.unstable_batchedUpdates=Fd,Tr.unstable_renderSubtreeIntoContainer=function(e,t,o,u){if(!yc(o))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return vc(e,t,o,!1,u)},Tr.version="18.3.1-next-f1338f8080-20240426",Tr}var ry;function v0(){if(ry)return Zd.exports;ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Zd.exports=Hx(),Zd.exports}var ny;function Fx(){if(ny)return Ec;ny=1;var r=v0();return Ec.createRoot=r.createRoot,Ec.hydrateRoot=r.hydrateRoot,Ec}var $x=Fx(),H=tp();const sp=Nx({__proto__:null,default:H},[H]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,i)=>i?i.toUpperCase():n.toLowerCase()),sy=r=>{const s=Bx(r);return s.charAt(0).toUpperCase()+s.slice(1)},w0=(...r)=>r.filter((s,n,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=H.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:a,iconNode:l,...f},p)=>H.createElement("svg",{ref:p,...Wx,width:s,height:s,stroke:r,strokeWidth:i?Number(n)*24/Number(s):n,className:w0("lucide",c),...f},[...l.map(([y,g])=>H.createElement(y,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(r,s)=>{const n=H.forwardRef(({className:i,...c},a)=>H.createElement(Kx,{ref:a,iconNode:s,className:w0(`lucide-${zx(sy(r))}`,`lucide-${r}`,i),...c}));return n.displayName=sy(r),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vx=Ft("activity",Gx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yx=Ft("arrow-right",Jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Qx=Ft("chart-no-axes-column-increasing",Xx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eC=Ft("circle-alert",Zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E0=Ft("circle-check",tC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],nC=Ft("code",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],iC=Ft("copy",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Dh=Ft("database",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],S0=Ft("file-text",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],cC=Ft("log-in",lC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dC=Ft("log-out",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],hC=Ft("radio",fC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mc=Ft("refresh-cw",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gC=Ft("settings",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lh=Ft("shield",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mh=Ft("trash-2",vC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],iy=Ft("trending-up",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],SC=Ft("user",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CC=Ft("zap",xC);function oy(r,s){if(typeof r=="function")return r(s);r!=null&&(r.current=s)}function ip(...r){return s=>{let n=!1;const i=r.map(c=>{const a=oy(c,s);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let c=0;c<i.length;c++){const a=i[c];typeof a=="function"?a():oy(r[c],null)}}}}function Uc(...r){return H.useCallback(ip(...r),r)}var bC=Symbol.for("react.lazy"),qc=sp[" use ".trim().toString()];function TC(r){return typeof r=="object"&&r!==null&&"then"in r}function x0(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===bC&&"_payload"in r&&TC(r._payload)}function C0(r){const s=_C(r),n=H.forwardRef((i,c)=>{let{children:a,...l}=i;x0(a)&&typeof qc=="function"&&(a=qc(a._payload));const f=H.Children.toArray(a),p=f.find(IC);if(p){const y=p.props.children,g=f.map(d=>d===p?H.Children.count(y)>1?H.Children.only(null):H.isValidElement(y)?y.props.children:null:d);return h.jsx(s,{...l,ref:c,children:H.isValidElement(y)?H.cloneElement(y,void 0,g):null})}return h.jsx(s,{...l,ref:c,children:a})});return n.displayName=`${r}.Slot`,n}var kC=C0("Slot");function _C(r){const s=H.forwardRef((n,i)=>{let{children:c,...a}=n;if(x0(c)&&typeof qc=="function"&&(c=qc(c._payload)),H.isValidElement(c)){const l=NC(c),f=AC(a,c.props);return c.type!==H.Fragment&&(f.ref=i?ip(i,l):l),H.cloneElement(c,f)}return H.Children.count(c)>1?H.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var RC=Symbol("radix.slottable");function IC(r){return H.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===RC}function AC(r,s){const n={...s};for(const i in s){const c=r[i],a=s[i];/^on[A-Z]/.test(i)?c&&a?n[i]=(...f)=>{const p=a(...f);return c(...f),p}:c&&(n[i]=c):i==="style"?n[i]={...c,...a}:i==="className"&&(n[i]=[c,a].filter(Boolean).join(" "))}return{...r,...n}}function NC(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function b0(r){var s,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var c=r.length;for(s=0;s<c;s++)r[s]&&(n=b0(r[s]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function T0(){for(var r,s,n=0,i="",c=arguments.length;n<c;n++)(r=arguments[n])&&(s=b0(r))&&(i&&(i+=" "),i+=s);return i}const ay=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,ly=T0,PC=(r,s)=>n=>{var i;if(s?.variants==null)return ly(r,n?.class,n?.className);const{variants:c,defaultVariants:a}=s,l=Object.keys(c).map(y=>{const g=n?.[y],d=a?.[y];if(g===null)return null;const v=ay(g)||ay(d);return c[y][v]}),f=n&&Object.entries(n).reduce((y,g)=>{let[d,v]=g;return v===void 0||(y[d]=v),y},{}),p=s==null||(i=s.compoundVariants)===null||i===void 0?void 0:i.reduce((y,g)=>{let{class:d,className:v,...E}=g;return Object.entries(E).every(S=>{let[C,x]=S;return Array.isArray(x)?x.includes({...a,...f}[C]):{...a,...f}[C]===x})?[...y,d,v]:y},[]);return ly(r,l,p,n?.class,n?.className)},OC=(r,s)=>{const n=new Array(r.length+s.length);for(let i=0;i<r.length;i++)n[i]=r[i];for(let i=0;i<s.length;i++)n[r.length+i]=s[i];return n},jC=(r,s)=>({classGroupId:r,validator:s}),k0=(r=new Map,s=null,n)=>({nextPart:r,validators:s,classGroupId:n}),Hc="-",cy=[],DC="arbitrary..",LC=r=>{const s=UC(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return MC(l);const f=l.split(Hc),p=f[0]===""&&f.length>1?1:0;return _0(f,p,s)},getConflictingClassGroupIds:(l,f)=>{if(f){const p=i[l],y=n[l];return p?y?OC(y,p):p:y||cy}return n[l]||cy}}},_0=(r,s,n)=>{if(r.length-s===0)return n.classGroupId;const c=r[s],a=n.nextPart.get(c);if(a){const y=_0(r,s+1,a);if(y)return y}const l=n.validators;if(l===null)return;const f=s===0?r.join(Hc):r.slice(s).join(Hc),p=l.length;for(let y=0;y<p;y++){const g=l[y];if(g.validator(f))return g.classGroupId}},MC=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=r.slice(1,-1),n=s.indexOf(":"),i=s.slice(0,n);return i?DC+i:void 0})(),UC=r=>{const{theme:s,classGroups:n}=r;return qC(n,s)},qC=(r,s)=>{const n=k0();for(const i in r){const c=r[i];op(c,n,i,s)}return n},op=(r,s,n,i)=>{const c=r.length;for(let a=0;a<c;a++){const l=r[a];HC(l,s,n,i)}},HC=(r,s,n,i)=>{if(typeof r=="string"){FC(r,s,n);return}if(typeof r=="function"){$C(r,s,n,i);return}zC(r,s,n,i)},FC=(r,s,n)=>{const i=r===""?s:R0(s,r);i.classGroupId=n},$C=(r,s,n,i)=>{if(BC(r)){op(r(i),s,n,i);return}s.validators===null&&(s.validators=[]),s.validators.push(jC(n,r))},zC=(r,s,n,i)=>{const c=Object.entries(r),a=c.length;for(let l=0;l<a;l++){const[f,p]=c[l];op(p,R0(s,f),n,i)}},R0=(r,s)=>{let n=r;const i=s.split(Hc),c=i.length;for(let a=0;a<c;a++){const l=i[a];let f=n.nextPart.get(l);f||(f=k0(),n.nextPart.set(l,f)),n=f}return n},BC=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,WC=r=>{if(r<1)return{get:()=>{},set:()=>{}};let s=0,n=Object.create(null),i=Object.create(null);const c=(a,l)=>{n[a]=l,s++,s>r&&(s=0,i=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=i[a])!==void 0)return c(a,l),l},set(a,l){a in n?n[a]=l:c(a,l)}}},Uh="!",uy=":",KC=[],dy=(r,s,n,i,c)=>({modifiers:r,hasImportantModifier:s,baseClassName:n,maybePostfixModifierPosition:i,isExternal:c}),GC=r=>{const{prefix:s,experimentalParseClassName:n}=r;let i=c=>{const a=[];let l=0,f=0,p=0,y;const g=c.length;for(let C=0;C<g;C++){const x=c[C];if(l===0&&f===0){if(x===uy){a.push(c.slice(p,C)),p=C+1;continue}if(x==="/"){y=C;continue}}x==="["?l++:x==="]"?l--:x==="("?f++:x===")"&&f--}const d=a.length===0?c:c.slice(p);let v=d,E=!1;d.endsWith(Uh)?(v=d.slice(0,-1),E=!0):d.startsWith(Uh)&&(v=d.slice(1),E=!0);const S=y&&y>p?y-p:void 0;return dy(a,E,v,S)};if(s){const c=s+uy,a=i;i=l=>l.startsWith(c)?a(l.slice(c.length)):dy(KC,!1,l,void 0,!0)}if(n){const c=i;i=a=>n({className:a,parseClassName:c})}return i},VC=r=>{const s=new Map;return r.orderSensitiveModifiers.forEach((n,i)=>{s.set(n,1e6+i)}),n=>{const i=[];let c=[];for(let a=0;a<n.length;a++){const l=n[a],f=l[0]==="[",p=s.has(l);f||p?(c.length>0&&(c.sort(),i.push(...c),c=[]),i.push(l)):c.push(l)}return c.length>0&&(c.sort(),i.push(...c)),i}},JC=r=>({cache:WC(r.cacheSize),parseClassName:GC(r),sortModifiers:VC(r),...LC(r)}),YC=/\s+/,XC=(r,s)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:c,sortModifiers:a}=s,l=[],f=r.trim().split(YC);let p="";for(let y=f.length-1;y>=0;y-=1){const g=f[y],{isExternal:d,modifiers:v,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:C}=n(g);if(d){p=g+(p.length>0?" "+p:p);continue}let x=!!C,b=i(x?S.substring(0,C):S);if(!b){if(!x){p=g+(p.length>0?" "+p:p);continue}if(b=i(S),!b){p=g+(p.length>0?" "+p:p);continue}x=!1}const P=v.length===0?"":v.length===1?v[0]:a(v).join(":"),N=E?P+Uh:P,j=N+b;if(l.indexOf(j)>-1)continue;l.push(j);const U=c(b,x);for(let A=0;A<U.length;++A){const I=U[A];l.push(N+I)}p=g+(p.length>0?" "+p:p)}return p},QC=(...r)=>{let s=0,n,i,c="";for(;s<r.length;)(n=r[s++])&&(i=I0(n))&&(c&&(c+=" "),c+=i);return c},I0=r=>{if(typeof r=="string")return r;let s,n="";for(let i=0;i<r.length;i++)r[i]&&(s=I0(r[i]))&&(n&&(n+=" "),n+=s);return n},ZC=(r,...s)=>{let n,i,c,a;const l=p=>{const y=s.reduce((g,d)=>d(g),r());return n=JC(y),i=n.cache.get,c=n.cache.set,a=f,f(p)},f=p=>{const y=i(p);if(y)return y;const g=XC(p,n);return c(p,g),g};return a=l,(...p)=>a(QC(...p))},eb=[],Ht=r=>{const s=n=>n[r]||eb;return s.isThemeGetter=!0,s},A0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tb=/^\d+\/\d+$/,rb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ib=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ob=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=r=>tb.test(r),Ze=r=>!!r&&!Number.isNaN(Number(r)),Ps=r=>!!r&&Number.isInteger(Number(r)),rf=r=>r.endsWith("%")&&Ze(r.slice(0,-1)),Qn=r=>rb.test(r),ab=()=>!0,lb=r=>nb.test(r)&&!sb.test(r),P0=()=>!1,cb=r=>ib.test(r),ub=r=>ob.test(r),db=r=>!Oe(r)&&!je(r),fb=r=>Co(r,D0,P0),Oe=r=>A0.test(r),fi=r=>Co(r,L0,lb),nf=r=>Co(r,yb,Ze),fy=r=>Co(r,O0,P0),hb=r=>Co(r,j0,ub),Sc=r=>Co(r,M0,cb),je=r=>N0.test(r),pa=r=>bo(r,L0),pb=r=>bo(r,vb),hy=r=>bo(r,O0),mb=r=>bo(r,D0),gb=r=>bo(r,j0),xc=r=>bo(r,M0,!0),Co=(r,s,n)=>{const i=A0.exec(r);return i?i[1]?s(i[1]):n(i[2]):!1},bo=(r,s,n=!1)=>{const i=N0.exec(r);return i?i[1]?s(i[1]):n:!1},O0=r=>r==="position"||r==="percentage",j0=r=>r==="image"||r==="url",D0=r=>r==="length"||r==="size"||r==="bg-size",L0=r=>r==="length",yb=r=>r==="number",vb=r=>r==="family-name",M0=r=>r==="shadow",wb=()=>{const r=Ht("color"),s=Ht("font"),n=Ht("text"),i=Ht("font-weight"),c=Ht("tracking"),a=Ht("leading"),l=Ht("breakpoint"),f=Ht("container"),p=Ht("spacing"),y=Ht("radius"),g=Ht("shadow"),d=Ht("inset-shadow"),v=Ht("text-shadow"),E=Ht("drop-shadow"),S=Ht("blur"),C=Ht("perspective"),x=Ht("aspect"),b=Ht("ease"),P=Ht("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...j(),je,Oe],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],R=()=>[je,Oe,p],$=()=>[uo,"full","auto",...R()],Y=()=>[Ps,"none","subgrid",je,Oe],se=()=>["auto",{span:["full",Ps,je,Oe]},Ps,je,Oe],Q=()=>[Ps,"auto",je,Oe],K=()=>["auto","min","max","fr",je,Oe],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...R()],ee=()=>[uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],q=()=>[r,je,Oe],ue=()=>[...j(),hy,fy,{position:[je,Oe]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",mb,fb,{size:[je,Oe]}],re=()=>[rf,pa,fi],B=()=>["","none","full",y,je,Oe],te=()=>["",Ze,pa,fi],fe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Re=()=>[Ze,rf,hy,fy],_e=()=>["","none",S,je,Oe],We=()=>["none",Ze,je,Oe],at=()=>["none",Ze,je,Oe],$t=()=>[Ze,je,Oe],ae=()=>[uo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qn],breakpoint:[Qn],color:[ab],container:[Qn],"drop-shadow":[Qn],ease:["in","out","in-out"],font:[db],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qn],shadow:[Qn],spacing:["px",Ze],text:[Qn],"text-shadow":[Qn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uo,Oe,je,x]}],container:["container"],columns:[{columns:[Ze,Oe,je,f]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Ps,"auto",je,Oe]}],basis:[{basis:[uo,"full","auto",f,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,uo,"auto","initial","none",Oe]}],grow:[{grow:["",Ze,je,Oe]}],shrink:[{shrink:["",Ze,je,Oe]}],order:[{order:[Ps,"first","last","none",je,Oe]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,pa,fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,je,nf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rf,Oe]}],"font-family":[{font:[pb,Oe,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,je,Oe]}],"line-clamp":[{"line-clamp":[Ze,"none",je,nf]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",je,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",je,fi]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Ze,"auto",je,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ps,je,Oe],radial:["",je,Oe],conic:[Ps,je,Oe]},gb,hb]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,je,Oe]}],"outline-w":[{outline:["",Ze,pa,fi]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",g,xc,Sc]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",d,xc,Sc]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Ze,fi]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",v,xc,Sc]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Ze,je,Oe]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Re()}],"mask-image-linear-to-pos":[{"mask-linear-to":Re()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":Re()}],"mask-image-t-to-pos":[{"mask-t-to":Re()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":Re()}],"mask-image-r-to-pos":[{"mask-r-to":Re()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":Re()}],"mask-image-b-to-pos":[{"mask-b-to":Re()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":Re()}],"mask-image-l-to-pos":[{"mask-l-to":Re()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":Re()}],"mask-image-x-to-pos":[{"mask-x-to":Re()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":Re()}],"mask-image-y-to-pos":[{"mask-y-to":Re()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[je,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Re()}],"mask-image-radial-to-pos":[{"mask-radial-to":Re()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Re()}],"mask-image-conic-to-pos":[{"mask-conic-to":Re()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Oe]}],filter:[{filter:["","none",je,Oe]}],blur:[{blur:_e()}],brightness:[{brightness:[Ze,je,Oe]}],contrast:[{contrast:[Ze,je,Oe]}],"drop-shadow":[{"drop-shadow":["","none",E,xc,Sc]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Ze,je,Oe]}],"hue-rotate":[{"hue-rotate":[Ze,je,Oe]}],invert:[{invert:["",Ze,je,Oe]}],saturate:[{saturate:[Ze,je,Oe]}],sepia:[{sepia:["",Ze,je,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Oe]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,je,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,je,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,je,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,je,Oe]}],"backdrop-invert":[{"backdrop-invert":["",Ze,je,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,je,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,je,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,je,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",je,Oe]}],ease:[{ease:["linear","initial",b,je,Oe]}],delay:[{delay:[Ze,je,Oe]}],animate:[{animate:["none",P,je,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,je,Oe]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:at()}],"scale-x":[{"scale-x":at()}],"scale-y":[{"scale-y":at()}],"scale-z":[{"scale-z":at()}],"scale-3d":["scale-3d"],skew:[{skew:$t()}],"skew-x":[{"skew-x":$t()}],"skew-y":[{"skew-y":$t()}],transform:[{transform:[je,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Oe]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Ze,pa,fi,nf]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Eb=ZC(wb);function Yr(...r){return Eb(T0(r))}const Sb=PC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Xe=H.forwardRef(({className:r,variant:s,size:n,asChild:i=!1,...c},a)=>{const l=i?kC:"button";return h.jsx(l,{"data-slot":"button",className:Yr(Sb({variant:s,size:n,className:r})),ref:a,...c})});Xe.displayName="Button";function we({className:r,...s}){return h.jsx("div",{"data-slot":"card",className:Yr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...s})}function be({className:r,...s}){return h.jsx("div",{"data-slot":"card-header",className:Yr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function Te({className:r,...s}){return h.jsx("h4",{"data-slot":"card-title",className:Yr("leading-none",r),...s})}function Be({className:r,...s}){return h.jsx("p",{"data-slot":"card-description",className:Yr("text-muted-foreground",r),...s})}function Ee({className:r,...s}){return h.jsx("div",{"data-slot":"card-content",className:Yr("px-6 [&:last-child]:pb-6",r),...s})}var xb=v0();function Cb(r){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}const bb=r=>{switch(r){case"success":return _b;case"info":return Ib;case"warning":return Rb;case"error":return Ab;default:return null}},Tb=Array(12).fill(0),kb=({visible:r,className:s})=>H.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":r},H.createElement("div",{className:"sonner-spinner"},Tb.map((n,i)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),_b=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Rb=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ib=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ab=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Nb=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Pb=()=>{const[r,s]=H.useState(document.hidden);return H.useEffect(()=>{const n=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),r};let qh=1;class Ob{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const n=this.subscribers.indexOf(s);this.subscribers.splice(n,1)}),this.publish=s=>{this.subscribers.forEach(n=>n(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var n;const{message:i,...c}=s,a=typeof s?.id=="number"||((n=s.id)==null?void 0:n.length)>0?s.id:qh++,l=this.toasts.find(p=>p.id===a),f=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...s,id:a,title:i}),{...p,...s,id:a,dismissible:f,title:i}):p):this.addToast({title:i,...c,dismissible:f,id:a}),a},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:s,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),s),this.message=(s,n)=>this.create({...n,message:s}),this.error=(s,n)=>this.create({...n,message:s,type:"error"}),this.success=(s,n)=>this.create({...n,type:"success",message:s}),this.info=(s,n)=>this.create({...n,type:"info",message:s}),this.warning=(s,n)=>this.create({...n,type:"warning",message:s}),this.loading=(s,n)=>this.create({...n,type:"loading",message:s}),this.promise=(s,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:s,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const c=Promise.resolve(s instanceof Function?s():s);let a=i!==void 0,l;const f=c.then(async y=>{if(l=["resolve",y],H.isValidElement(y))a=!1,this.create({id:i,type:"default",message:y});else if(Db(y)&&!y.ok){a=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${y.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${y.status}`):n.description,S=typeof d=="object"&&!H.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:v,...S})}else if(y instanceof Error){a=!1;const d=typeof n.error=="function"?await n.error(y):n.error,v=typeof n.description=="function"?await n.description(y):n.description,S=typeof d=="object"&&!H.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:v,...S})}else if(n.success!==void 0){a=!1;const d=typeof n.success=="function"?await n.success(y):n.success,v=typeof n.description=="function"?await n.description(y):n.description,S=typeof d=="object"&&!H.isValidElement(d)?d:{message:d};this.create({id:i,type:"success",description:v,...S})}}).catch(async y=>{if(l=["reject",y],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(y):n.error,d=typeof n.description=="function"?await n.description(y):n.description,E=typeof g=="object"&&!H.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:d,...E})}}).finally(()=>{a&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((y,g)=>f.then(()=>l[0]==="reject"?g(l[1]):y(l[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:p}:Object.assign(i,{unwrap:p})},this.custom=(s,n)=>{const i=n?.id||qh++;return this.create({jsx:s(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const _r=new Ob,jb=(r,s)=>{const n=s?.id||qh++;return _r.addToast({title:r,...s,id:n}),n},Db=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Lb=jb,Mb=()=>_r.toasts,Ub=()=>_r.getActiveToasts(),he=Object.assign(Lb,{success:_r.success,info:_r.info,warning:_r.warning,error:_r.error,custom:_r.custom,message:_r.message,promise:_r.promise,dismiss:_r.dismiss,loading:_r.loading},{getHistory:Mb,getToasts:Ub});Cb("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cc(r){return r.label!==void 0}const qb=3,Hb="24px",Fb="16px",py=4e3,$b=356,zb=14,Bb=45,Wb=200;function On(...r){return r.filter(Boolean).join(" ")}function Kb(r){const[s,n]=r.split("-"),i=[];return s&&i.push(s),n&&i.push(n),i}const Gb=r=>{var s,n,i,c,a,l,f,p,y;const{invert:g,toast:d,unstyled:v,interacting:E,setHeights:S,visibleToasts:C,heights:x,index:b,toasts:P,expanded:N,removeToast:j,defaultRichColors:U,closeButton:A,style:I,cancelButtonStyle:R,actionButtonStyle:$,className:Y="",descriptionClassName:se="",duration:Q,position:K,gap:J,expandByDefault:W,classNames:V,icons:ee,closeButtonAriaLabel:q="Close toast"}=r,[ue,ce]=H.useState(null),[F,re]=H.useState(null),[B,te]=H.useState(!1),[fe,Ce]=H.useState(!1),[Re,_e]=H.useState(!1),[We,at]=H.useState(!1),[$t,ae]=H.useState(!1),[qe,He]=H.useState(0),[xt,Nt]=H.useState(0),Tt=H.useRef(d.duration||Q||py),Hs=H.useRef(null),ir=H.useRef(null),Mn=b===0,vn=b+1<=C,Dt=d.type,Ur=d.dismissible!==!1,Ii=d.className||"",Ao=d.descriptionClassName||"",oe=H.useMemo(()=>x.findIndex(Ve=>Ve.toastId===d.id)||0,[x,d.id]),Ge=H.useMemo(()=>{var Ve;return(Ve=d.closeButton)!=null?Ve:A},[d.closeButton,A]),wn=H.useMemo(()=>d.duration||Q||py,[d.duration,Q]),Un=H.useRef(0),yr=H.useRef(0),qr=H.useRef(0),Xr=H.useRef(null),[Fs,Ai]=K.split("-"),Ni=H.useMemo(()=>x.reduce((Ve,gt,kt)=>kt>=oe?Ve:Ve+gt.height,0),[x,oe]),Qr=Pb(),as=d.invert||g,Zr=Dt==="loading";yr.current=H.useMemo(()=>oe*J+Ni,[oe,Ni]),H.useEffect(()=>{Tt.current=wn},[wn]),H.useEffect(()=>{te(!0)},[]),H.useEffect(()=>{const Ve=ir.current;if(Ve){const gt=Ve.getBoundingClientRect().height;return Nt(gt),S(kt=>[{toastId:d.id,height:gt,position:d.position},...kt]),()=>S(kt=>kt.filter(zt=>zt.toastId!==d.id))}},[S,d.id]),H.useLayoutEffect(()=>{if(!B)return;const Ve=ir.current,gt=Ve.style.height;Ve.style.height="auto";const kt=Ve.getBoundingClientRect().height;Ve.style.height=gt,Nt(kt),S(zt=>zt.find(pt=>pt.toastId===d.id)?zt.map(pt=>pt.toastId===d.id?{...pt,height:kt}:pt):[{toastId:d.id,height:kt,position:d.position},...zt])},[B,d.title,d.description,S,d.id,d.jsx,d.action,d.cancel]);const or=H.useCallback(()=>{Ce(!0),He(yr.current),S(Ve=>Ve.filter(gt=>gt.toastId!==d.id)),setTimeout(()=>{j(d)},Wb)},[d,j,S,yr]);H.useEffect(()=>{if(d.promise&&Dt==="loading"||d.duration===1/0||d.type==="loading")return;let Ve;return N||E||Qr?(()=>{if(qr.current<Un.current){const zt=new Date().getTime()-Un.current;Tt.current=Tt.current-zt}qr.current=new Date().getTime()})():(()=>{Tt.current!==1/0&&(Un.current=new Date().getTime(),Ve=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),or()},Tt.current))})(),()=>clearTimeout(Ve)},[N,E,d,Dt,Qr,or]),H.useEffect(()=>{d.delete&&(or(),d.onDismiss==null||d.onDismiss.call(d,d))},[or,d.delete]);function $s(){var Ve;if(ee?.loading){var gt;return H.createElement("div",{className:On(V?.loader,d==null||(gt=d.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":Dt==="loading"},ee.loading)}return H.createElement(kb,{className:On(V?.loader,d==null||(Ve=d.classNames)==null?void 0:Ve.loader),visible:Dt==="loading"})}const en=d.icon||ee?.[Dt]||bb(Dt);var tn,ls;return H.createElement("li",{tabIndex:0,ref:ir,className:On(Y,Ii,V?.toast,d==null||(s=d.classNames)==null?void 0:s.toast,V?.default,V?.[Dt],d==null||(n=d.classNames)==null?void 0:n[Dt]),"data-sonner-toast":"","data-rich-colors":(tn=d.richColors)!=null?tn:U,"data-styled":!(d.jsx||d.unstyled||v),"data-mounted":B,"data-promise":!!d.promise,"data-swiped":$t,"data-removed":fe,"data-visible":vn,"data-y-position":Fs,"data-x-position":Ai,"data-index":b,"data-front":Mn,"data-swiping":Re,"data-dismissible":Ur,"data-type":Dt,"data-invert":as,"data-swipe-out":We,"data-swipe-direction":F,"data-expanded":!!(N||W&&B),"data-testid":d.testId,style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${fe?qe:yr.current}px`,"--initial-height":W?"auto":`${xt}px`,...I,...d.style},onDragEnd:()=>{_e(!1),ce(null),Xr.current=null},onPointerDown:Ve=>{Ve.button!==2&&(Zr||!Ur||(Hs.current=new Date,He(yr.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(_e(!0),Xr.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,gt,kt;if(We||!Ur)return;Xr.current=null;const zt=Number(((Ve=ir.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((gt=ir.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((kt=Hs.current)==null?void 0:kt.getTime()),Ct=ue==="x"?zt:En,Sn=Math.abs(Ct)/pt;if(Math.abs(Ct)>=Bb||Sn>.11){He(yr.current),d.onDismiss==null||d.onDismiss.call(d,d),re(ue==="x"?zt>0?"right":"left":En>0?"down":"up"),or(),at(!0);return}else{var Lt,ar;(Lt=ir.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(ar=ir.current)==null||ar.style.setProperty("--swipe-amount-y","0px")}ae(!1),_e(!1),ce(null)},onPointerMove:Ve=>{var gt,kt,zt;if(!Xr.current||!Ur||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const pt=Ve.clientY-Xr.current.y,Ct=Ve.clientX-Xr.current.x;var Sn;const Lt=(Sn=r.swipeDirections)!=null?Sn:Kb(K);!ue&&(Math.abs(Ct)>1||Math.abs(pt)>1)&&ce(Math.abs(Ct)>Math.abs(pt)?"x":"y");let ar={x:0,y:0};const xn=ct=>1/(1.5+Math.abs(ct)/20);if(ue==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&pt<0||Lt.includes("bottom")&&pt>0)ar.y=pt;else{const ct=pt*xn(pt);ar.y=Math.abs(ct)<Math.abs(pt)?ct:pt}}else if(ue==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&Ct<0||Lt.includes("right")&&Ct>0)ar.x=Ct;else{const ct=Ct*xn(Ct);ar.x=Math.abs(ct)<Math.abs(Ct)?ct:Ct}(Math.abs(ar.x)>0||Math.abs(ar.y)>0)&&ae(!0),(kt=ir.current)==null||kt.style.setProperty("--swipe-amount-x",`${ar.x}px`),(zt=ir.current)==null||zt.style.setProperty("--swipe-amount-y",`${ar.y}px`)}},Ge&&!d.jsx&&Dt!=="loading"?H.createElement("button",{"aria-label":q,"data-disabled":Zr,"data-close-button":!0,onClick:Zr||!Ur?()=>{}:()=>{or(),d.onDismiss==null||d.onDismiss.call(d,d)},className:On(V?.closeButton,d==null||(i=d.classNames)==null?void 0:i.closeButton)},(ls=ee?.close)!=null?ls:Nb):null,(Dt||d.icon||d.promise)&&d.icon!==null&&(ee?.[Dt]!==null||d.icon)?H.createElement("div",{"data-icon":"",className:On(V?.icon,d==null||(c=d.classNames)==null?void 0:c.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||$s():null,d.type!=="loading"?en:null):null,H.createElement("div",{"data-content":"",className:On(V?.content,d==null||(a=d.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:On(V?.title,d==null||(l=d.classNames)==null?void 0:l.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?H.createElement("div",{"data-description":"",className:On(se,Ao,V?.description,d==null||(f=d.classNames)==null?void 0:f.description)},typeof d.description=="function"?d.description():d.description):null),H.isValidElement(d.cancel)?d.cancel:d.cancel&&Cc(d.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||R,onClick:Ve=>{Cc(d.cancel)&&Ur&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Ve),or())},className:On(V?.cancelButton,d==null||(p=d.classNames)==null?void 0:p.cancelButton)},d.cancel.label):null,H.isValidElement(d.action)?d.action:d.action&&Cc(d.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||$,onClick:Ve=>{Cc(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Ve),!Ve.defaultPrevented&&or())},className:On(V?.actionButton,d==null||(y=d.classNames)==null?void 0:y.actionButton)},d.action.label):null)};function my(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function Vb(r,s){const n={};return[r,s].forEach((i,c)=>{const a=c===1,l=a?"--mobile-offset":"--offset",f=a?Fb:Hb;function p(y){["top","right","bottom","left"].forEach(g=>{n[`${l}-${g}`]=typeof y=="number"?`${y}px`:y})}typeof i=="number"||typeof i=="string"?p(i):typeof i=="object"?["top","right","bottom","left"].forEach(y=>{i[y]===void 0?n[`${l}-${y}`]=f:n[`${l}-${y}`]=typeof i[y]=="number"?`${i[y]}px`:i[y]}):p(f)}),n}const Jb=H.forwardRef(function(s,n){const{id:i,invert:c,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:f,closeButton:p,className:y,offset:g,mobileOffset:d,theme:v="light",richColors:E,duration:S,style:C,visibleToasts:x=qb,toastOptions:b,dir:P=my(),gap:N=zb,icons:j,containerAriaLabel:U="Notifications"}=s,[A,I]=H.useState([]),R=H.useMemo(()=>i?A.filter(B=>B.toasterId===i):A.filter(B=>!B.toasterId),[A,i]),$=H.useMemo(()=>Array.from(new Set([a].concat(R.filter(B=>B.position).map(B=>B.position)))),[R,a]),[Y,se]=H.useState([]),[Q,K]=H.useState(!1),[J,W]=H.useState(!1),[V,ee]=H.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=H.useRef(null),ue=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ce=H.useRef(null),F=H.useRef(!1),re=H.useCallback(B=>{I(te=>{var fe;return(fe=te.find(Ce=>Ce.id===B.id))!=null&&fe.delete||_r.dismiss(B.id),te.filter(({id:Ce})=>Ce!==B.id)})},[]);return H.useEffect(()=>_r.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{I(te=>te.map(fe=>fe.id===B.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{xb.flushSync(()=>{I(te=>{const fe=te.findIndex(Ce=>Ce.id===B.id);return fe!==-1?[...te.slice(0,fe),{...te[fe],...B},...te.slice(fe+1)]:[B,...te]})})})}),[A]),H.useEffect(()=>{if(v!=="system"){ee(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:te})=>{ee(te?"dark":"light")})}catch{B.addListener(({matches:fe})=>{try{ee(fe?"dark":"light")}catch(Ce){console.error(Ce)}})}},[v]),H.useEffect(()=>{A.length<=1&&K(!1)},[A]),H.useEffect(()=>{const B=te=>{var fe;if(l.every(_e=>te[_e]||te.code===_e)){var Re;K(!0),(Re=q.current)==null||Re.focus()}te.code==="Escape"&&(document.activeElement===q.current||(fe=q.current)!=null&&fe.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[l]),H.useEffect(()=>{if(q.current)return()=>{ce.current&&(ce.current.focus({preventScroll:!0}),ce.current=null,F.current=!1)}},[q.current]),H.createElement("section",{ref:n,"aria-label":`${U} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((B,te)=>{var fe;const[Ce,Re]=B.split("-");return R.length?H.createElement("ol",{key:B,dir:P==="auto"?my():P,tabIndex:-1,ref:q,className:y,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":Ce,"data-x-position":Re,style:{"--front-toast-height":`${((fe=Y[0])==null?void 0:fe.height)||0}px`,"--width":`${$b}px`,"--gap":`${N}px`,...C,...Vb(g,d)},onBlur:_e=>{F.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(F.current=!1,ce.current&&(ce.current.focus({preventScroll:!0}),ce.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||F.current||(F.current=!0,ce.current=_e.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{J||K(!1)},onDragEnd:()=>K(!1),onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},R.filter(_e=>!_e.position&&te===0||_e.position===B).map((_e,We)=>{var at,$t;return H.createElement(Gb,{key:_e.id,icons:j,index:We,toast:_e,defaultRichColors:E,duration:(at=b?.duration)!=null?at:S,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:c,visibleToasts:x,closeButton:($t=b?.closeButton)!=null?$t:p,interacting:J,position:B,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:re,toasts:R.filter(ae=>ae.position==_e.position),heights:Y.filter(ae=>ae.position==_e.position),setHeights:se,expandByDefault:f,gap:N,expanded:Q,swipeDirections:s.swipeDirections})})):null}))});var hi={},Dr={};const Fc={createHash:()=>({update:()=>({digest:()=>""})}),randomBytes:()=>({toString:()=>""})};typeof Fe<"u"&&Fe.exports&&(Fe.exports=Fc,Fe.exports.default=Fc);const Yb=Object.freeze(Object.defineProperty({__proto__:null,crypto:Fc,default:Fc},Symbol.toStringTag,{value:"Module"})),tl=el(Yb);var Zn={},gy;function rl(){if(gy)return Zn;gy=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.ApiErrorException=Zn.MisoClientError=void 0,Zn.transformError=s,Zn.handleApiError=i;class r extends Error{constructor(a,l,f,p){let y=a;l&&(l.title?y=l.title:l.errors&&l.errors.length>0&&(y=l.errors[0])),super(y),this.name="MisoClientError",this.errorResponse=l,this.errorBody=f,this.statusCode=p??l?.statusCode,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}Zn.MisoClientError=r;function s(c){if(c&&typeof c=="object"&&"response"in c){const a=c;if(a.response?.data){const l=a.response.data;if(typeof l=="object"&&l!==null&&"error"in l){const p=l.error,y=p.statusCode??a.response.status??500;return{errors:p.errors??["Unknown error"],type:p.type??"about:blank",title:p.title??a.message??"Unknown error",statusCode:y,instance:p.instance??a.config?.url,correlationId:p.correlationId}}if(typeof l=="object"&&l!==null){const f=l,p=typeof f.statusCode=="number"?f.statusCode:typeof a.response?.status=="number"?a.response.status:500;return{errors:Array.isArray(f.errors)?f.errors:["Unknown error"],type:f.type??"about:blank",title:f.title??a.message??"Unknown error",statusCode:p,instance:f.instance??a.config?.url,correlationId:f.correlationId}}}return{errors:[a.message??"Network error"],type:"about:blank",title:"Network error",statusCode:a.response?.status??0}}return c instanceof Error?{errors:[c.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class n extends Error{constructor(a){super(a.title||"API Error"),this.name="ApiErrorException",this.statusCode=a.statusCode,this.correlationId=a.correlationId,this.type=a.type,this.instance=a.instance,this.errors=a.errors,Error.captureStackTrace&&Error.captureStackTrace(this,n)}}Zn.ApiErrorException=n;function i(c){const a=s(c);throw new n(a)}return Zn}var fo={},yy;function To(){if(yy)return fo;yy=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.isBrowser=r,fo.validateUrl=s,fo.resolveControllerUrl=n;function r(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function s(i){try{const c=new URL(i);return c.protocol==="http:"||c.protocol==="https:"}catch{return!1}}function n(i){const c=r();let a;if(c?a=i.controllerPublicUrl:a=i.controllerPrivateUrl,a||(a=i.controllerUrl),!a)throw new Error(`No controller URL configured. Please provide ${c?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!s(a))throw new Error(`Invalid controller URL format: "${a}". URL must be a valid HTTP or HTTPS URL.`);return a.includes("localhost")&&(a=a.replace(/localhost/g,"127.0.0.1")),a}return fo}var es={},bc={exports:{}};const $c=el(Mx);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var vy;function nl(){return vy||(vy=1,(function(r,s){var n=$c,i=n.Buffer;function c(l,f){for(var p in l)f[p]=l[p]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(c(n,s),s.Buffer=a);function a(l,f,p){return i(l,f,p)}a.prototype=Object.create(i.prototype),c(i,a),a.from=function(l,f,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,f,p)},a.alloc=function(l,f,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var y=i(l);return f!==void 0?typeof p=="string"?y.fill(f,p):y.fill(f):y.fill(0),y},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(bc,bc.exports)),bc.exports}class Us{static from(s){return new Us}constructor(){}pipe(){return{}}on(){return this}once(){return Promise.resolve({})}read(){return null}push(){return!0}destroy(){}emit(){return!1}removeListener(){return this}removeAllListeners(){return this}}class Zc{write(){return!0}end(){return this}on(){return this}once(){return Promise.resolve({})}destroy(){}}class eu extends Us{_transform(){}}class ap extends Us{write(){return!0}end(){return this}}class lp extends eu{}const Ti={Readable:Us,Writable:Zc,Transform:eu,Duplex:ap,PassThrough:lp};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=Ti,Fe.exports.default=Ti,Fe.exports.stream=Ti,Fe.exports.Readable=Us,Fe.exports.Writable=Zc,Fe.exports.Transform=eu,Fe.exports.Duplex=ap,Fe.exports.PassThrough=lp);typeof tt<"u"&&(tt.default=Ti,tt.stream=Ti,tt.Readable=Us,tt.Writable=Zc,tt.Transform=eu,tt.Duplex=ap,tt.PassThrough=lp);const cp=Object.freeze(Object.defineProperty({__proto__:null,Readable:Us,Writable:Zc,default:Ti,stream:Ti},Symbol.toStringTag,{value:"Module"}));function tu(r,s){if(!s)return;let n=s.prototype;if(!n)try{Object.isExtensible&&Object.isExtensible(s)?(s.prototype={},n=s.prototype):n=Object.prototype}catch{n=Object.prototype}(typeof n!="object"||n===null)&&(n=Object.prototype),r.super_=s;try{r.prototype=Object.create(n,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}catch{try{if(r.prototype=Object.create(Object.prototype),r.prototype.constructor=r,n&&typeof n=="object"&&n!==Object.prototype){for(const c in n)if(n.hasOwnProperty(c))try{r.prototype[c]=n[c]}catch{}}}catch{r.prototype||(r.prototype={}),r.prototype.constructor||(r.prototype.constructor=r)}}}function ru(r){try{return JSON.stringify(r,null,2)}catch{return String(r)}}function nu(r){return function(...s){return new Promise((n,i)=>{r(...s,(c,a)=>{c?i(c):n(a)})})}}function su(r,s){let n=!1;return function(...i){return n||(console.warn("DeprecationWarning:",s),n=!0),r.apply(this,i)}}const ki={inherits:tu,inspect:ru,promisify:nu,deprecate:su};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=ki,Fe.exports.default=ki,Fe.exports.util=ki,Fe.exports.inherits=tu,Fe.exports.inspect=ru,Fe.exports.promisify=nu,Fe.exports.deprecate=su);typeof tt<"u"&&(tt.default=ki,tt.util=ki,tt.inherits=tu,tt.inspect=ru,tt.promisify=nu,tt.deprecate=su);const iu=Object.freeze(Object.defineProperty({__proto__:null,default:ki,deprecate:su,inherits:tu,inspect:ru,promisify:nu,util:ki},Symbol.toStringTag,{value:"Module"}));var sf,wy;function U0(){if(wy)return sf;wy=1;var r=nl().Buffer,s=cp,n=iu;function i(c){if(this.buffer=null,this.writable=!0,this.readable=!0,!c)return this.buffer=r.alloc(0),this;if(typeof c.pipe=="function")return this.buffer=r.alloc(0),c.pipe(this),this;if(c.length||typeof c=="object")return this.buffer=c,this.writable=!1,process.nextTick(function(){this.emit("end",c),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof c+")")}return n.inherits(i,s),i.prototype.write=function(a){this.buffer=r.concat([this.buffer,r.from(a)]),this.emit("data",a)},i.prototype.end=function(a){a&&this.write(a),this.emit("end",a),this.emit("close"),this.writable=!1,this.readable=!1},sf=i,sf}var of,Ey;function Xb(){if(Ey)return of;Ey=1;function r(i){var c=(i/8|0)+(i%8===0?0:1);return c}var s={ES256:r(256),ES384:r(384),ES512:r(521)};function n(i){var c=s[i];if(c)return c;throw new Error('Unknown algorithm "'+i+'"')}return of=n,of}var af,Sy;function Qb(){if(Sy)return af;Sy=1;var r=nl().Buffer,s=Xb(),n=128,i=0,c=32,a=16,l=2,f=a|c|i<<6,p=l|i<<6;function y(S){return S.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(S){if(r.isBuffer(S))return S;if(typeof S=="string")return r.from(S,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function d(S,C){S=g(S);var x=s(C),b=x+1,P=S.length,N=0;if(S[N++]!==f)throw new Error('Could not find expected "seq"');var j=S[N++];if(j===(n|1)&&(j=S[N++]),P-N<j)throw new Error('"seq" specified length of "'+j+'", only "'+(P-N)+'" remaining');if(S[N++]!==p)throw new Error('Could not find expected "int" for "r"');var U=S[N++];if(P-N-2<U)throw new Error('"r" specified length of "'+U+'", only "'+(P-N-2)+'" available');if(b<U)throw new Error('"r" specified length of "'+U+'", max of "'+b+'" is acceptable');var A=N;if(N+=U,S[N++]!==p)throw new Error('Could not find expected "int" for "s"');var I=S[N++];if(P-N!==I)throw new Error('"s" specified length of "'+I+'", expected "'+(P-N)+'"');if(b<I)throw new Error('"s" specified length of "'+I+'", max of "'+b+'" is acceptable');var R=N;if(N+=I,N!==P)throw new Error('Expected to consume entire buffer, but "'+(P-N)+'" bytes remain');var $=x-U,Y=x-I,se=r.allocUnsafe($+U+Y+I);for(N=0;N<$;++N)se[N]=0;S.copy(se,N,A+Math.max(-$,0),A+U),N=x;for(var Q=N;N<Q+Y;++N)se[N]=0;return S.copy(se,N,R+Math.max(-Y,0),R+I),se=se.toString("base64"),se=y(se),se}function v(S,C,x){for(var b=0;C+b<x&&S[C+b]===0;)++b;var P=S[C+b]>=n;return P&&--b,b}function E(S,C){S=g(S);var x=s(C),b=S.length;if(b!==x*2)throw new TypeError('"'+C+'" signatures must be "'+x*2+'" bytes, saw "'+b+'"');var P=v(S,0,x),N=v(S,x,S.length),j=x-P,U=x-N,A=2+j+1+1+U,I=A<n,R=r.allocUnsafe((I?2:3)+A),$=0;return R[$++]=f,I?R[$++]=A:(R[$++]=n|1,R[$++]=A&255),R[$++]=p,R[$++]=j,P<0?(R[$++]=0,$+=S.copy(R,$,0,x)):$+=S.copy(R,$,P,x),R[$++]=p,R[$++]=U,N<0?(R[$++]=0,S.copy(R,$,x)):S.copy(R,$,x+N),R}return af={derToJose:d,joseToDer:E},af}var lf,xy;function Zb(){if(xy)return lf;xy=1;var r=$c.Buffer,s=$c.SlowBuffer;lf=n;function n(a,l){if(!r.isBuffer(a)||!r.isBuffer(l)||a.length!==l.length)return!1;for(var f=0,p=0;p<a.length;p++)f|=a[p]^l[p];return f===0}n.install=function(){r.prototype.equal=s.prototype.equal=function(l){return n(this,l)}};var i=r.prototype.equal,c=s.prototype.equal;return n.restore=function(){r.prototype.equal=i,s.prototype.equal=c},lf}var cf,Cy;function q0(){if(Cy)return cf;Cy=1;var r=nl().Buffer,s=tl,n=Qb(),i=iu,c=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,a="secret must be a string or buffer",l="key must be a string or a buffer",f="key must be a string, a buffer or an object",p=typeof s.createPublicKey=="function";p&&(l+=" or a KeyObject",a+="or a KeyObject");function y(K){if(!r.isBuffer(K)&&typeof K!="string"&&(!p||typeof K!="object"||typeof K.type!="string"||typeof K.asymmetricKeyType!="string"||typeof K.export!="function"))throw S(l)}function g(K){if(!r.isBuffer(K)&&typeof K!="string"&&typeof K!="object")throw S(f)}function d(K){if(!r.isBuffer(K)){if(typeof K=="string")return K;if(!p||typeof K!="object"||K.type!=="secret"||typeof K.export!="function")throw S(a)}}function v(K){return K.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function E(K){K=K.toString();var J=4-K.length%4;if(J!==4)for(var W=0;W<J;++W)K+="=";return K.replace(/\-/g,"+").replace(/_/g,"/")}function S(K){var J=[].slice.call(arguments,1),W=i.format.bind(i,K).apply(null,J);return new TypeError(W)}function C(K){return r.isBuffer(K)||typeof K=="string"}function x(K){return C(K)||(K=JSON.stringify(K)),K}function b(K){return function(W,V){d(V),W=x(W);var ee=s.createHmac("sha"+K,V),q=(ee.update(W),ee.digest("base64"));return v(q)}}var P,N="timingSafeEqual"in s?function(J,W){return J.byteLength!==W.byteLength?!1:s.timingSafeEqual(J,W)}:function(J,W){return P||(P=Zb()),P(J,W)};function j(K){return function(W,V,ee){var q=b(K)(W,ee);return N(r.from(V),r.from(q))}}function U(K){return function(W,V){g(V),W=x(W);var ee=s.createSign("RSA-SHA"+K),q=(ee.update(W),ee.sign(V,"base64"));return v(q)}}function A(K){return function(W,V,ee){y(ee),W=x(W),V=E(V);var q=s.createVerify("RSA-SHA"+K);return q.update(W),q.verify(ee,V,"base64")}}function I(K){return function(W,V){g(V),W=x(W);var ee=s.createSign("RSA-SHA"+K),q=(ee.update(W),ee.sign({key:V,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return v(q)}}function R(K){return function(W,V,ee){y(ee),W=x(W),V=E(V);var q=s.createVerify("RSA-SHA"+K);return q.update(W),q.verify({key:ee,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},V,"base64")}}function $(K){var J=U(K);return function(){var V=J.apply(null,arguments);return V=n.derToJose(V,"ES"+K),V}}function Y(K){var J=A(K);return function(V,ee,q){ee=n.joseToDer(ee,"ES"+K).toString("base64");var ue=J(V,ee,q);return ue}}function se(){return function(){return""}}function Q(){return function(J,W){return W===""}}return cf=function(J){var W={hs:b,rs:U,ps:I,es:$,none:se},V={hs:j,rs:A,ps:R,es:Y,none:Q},ee=J.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!ee)throw S(c,J);var q=(ee[1]||ee[3]).toLowerCase(),ue=ee[2];return{sign:W[q](ue),verify:V[q](ue)}},cf}var uf,by;function H0(){if(by)return uf;by=1;var r=$c.Buffer;return uf=function(n){return typeof n=="string"?n:typeof n=="number"||r.isBuffer(n)?n.toString():JSON.stringify(n)},uf}var df,Ty;function eT(){if(Ty)return df;Ty=1;var r=nl().Buffer,s=U0(),n=q0(),i=cp,c=H0(),a=iu;function l(g,d){return r.from(g,d).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(g,d,v){v=v||"utf8";var E=l(c(g),"binary"),S=l(c(d),v);return a.format("%s.%s",E,S)}function p(g){var d=g.header,v=g.payload,E=g.secret||g.privateKey,S=g.encoding,C=n(d.alg),x=f(d,v,S),b=C.sign(x,E);return a.format("%s.%s",x,b)}function y(g){var d=g.secret;if(d=d??g.privateKey,d=d??g.key,/^hs/i.test(g.header.alg)===!0&&d==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var v=new s(d);this.readable=!0,this.header=g.header,this.encoding=g.encoding,this.secret=this.privateKey=this.key=v,this.payload=new s(g.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return a.inherits(y,i),y.prototype.sign=function(){try{var d=p({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",d),this.emit("data",d),this.emit("end"),this.readable=!1,d}catch(v){this.readable=!1,this.emit("error",v),this.emit("close")}},y.sign=p,df=y,df}var ff,ky;function tT(){if(ky)return ff;ky=1;var r=nl().Buffer,s=U0(),n=q0(),i=cp,c=H0(),a=iu,l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function f(b){return Object.prototype.toString.call(b)==="[object Object]"}function p(b){if(f(b))return b;try{return JSON.parse(b)}catch{return}}function y(b){var P=b.split(".",1)[0];return p(r.from(P,"base64").toString("binary"))}function g(b){return b.split(".",2).join(".")}function d(b){return b.split(".")[2]}function v(b,P){P=P||"utf8";var N=b.split(".")[1];return r.from(N,"base64").toString(P)}function E(b){return l.test(b)&&!!y(b)}function S(b,P,N){if(!P){var j=new Error("Missing algorithm parameter for jws.verify");throw j.code="MISSING_ALGORITHM",j}b=c(b);var U=d(b),A=g(b),I=n(P);return I.verify(A,U,N)}function C(b,P){if(P=P||{},b=c(b),!E(b))return null;var N=y(b);if(!N)return null;var j=v(b);return(N.typ==="JWT"||P.json)&&(j=JSON.parse(j,P.encoding)),{header:N,payload:j,signature:d(b)}}function x(b){b=b||{};var P=b.secret;if(P=P??b.publicKey,P=P??b.key,/^hs/i.test(b.algorithm)===!0&&P==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var N=new s(P);this.readable=!0,this.algorithm=b.algorithm,this.encoding=b.encoding,this.secret=this.publicKey=this.key=N,this.signature=new s(b.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return a.inherits(x,i),x.prototype.verify=function(){try{var P=S(this.signature.buffer,this.algorithm,this.key.buffer),N=C(this.signature.buffer,this.encoding);return this.emit("done",P,N),this.emit("data",P),this.emit("end"),this.readable=!1,P}catch(j){this.readable=!1,this.emit("error",j),this.emit("close")}},x.decode=C,x.isValid=E,x.verify=S,ff=x,ff}var _y;function up(){if(_y)return es;_y=1;var r=eT(),s=tT(),n=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return es.ALGORITHMS=n,es.sign=r.sign,es.verify=s.verify,es.decode=s.decode,es.isValid=s.isValid,es.createSign=function(c){return new r(c)},es.createVerify=function(c){return new s(c)},es}var hf,Ry;function F0(){if(Ry)return hf;Ry=1;var r=up();return hf=function(s,n){n=n||{};var i=r.decode(s,n);if(!i)return null;var c=i.payload;if(typeof c=="string")try{var a=JSON.parse(c);a!==null&&typeof a=="object"&&(c=a)}catch{}return n.complete===!0?{header:i.header,payload:c,signature:i.signature}:c},hf}var pf,Iy;function ou(){if(Iy)return pf;Iy=1;var r=function(s,n){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,n&&(this.inner=n)};return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,pf=r,pf}var mf,Ay;function $0(){if(Ay)return mf;Ay=1;var r=ou(),s=function(n,i){r.call(this,n),this.name="NotBeforeError",this.date=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,mf=s,mf}var gf,Ny;function z0(){if(Ny)return gf;Ny=1;var r=ou(),s=function(n,i){r.call(this,n),this.name="TokenExpiredError",this.expiredAt=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,gf=s,gf}var yf,Py;function rT(){if(Py)return yf;Py=1;var r=1e3,s=r*60,n=s*60,i=n*24,c=i*7,a=i*365.25;yf=function(g,d){d=d||{};var v=typeof g;if(v==="string"&&g.length>0)return l(g);if(v==="number"&&isFinite(g))return d.long?p(g):f(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function l(g){if(g=String(g),!(g.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(d){var v=parseFloat(d[1]),E=(d[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return v*a;case"weeks":case"week":case"w":return v*c;case"days":case"day":case"d":return v*i;case"hours":case"hour":case"hrs":case"hr":case"h":return v*n;case"minutes":case"minute":case"mins":case"min":case"m":return v*s;case"seconds":case"second":case"secs":case"sec":case"s":return v*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function f(g){var d=Math.abs(g);return d>=i?Math.round(g/i)+"d":d>=n?Math.round(g/n)+"h":d>=s?Math.round(g/s)+"m":d>=r?Math.round(g/r)+"s":g+"ms"}function p(g){var d=Math.abs(g);return d>=i?y(g,d,i,"day"):d>=n?y(g,d,n,"hour"):d>=s?y(g,d,s,"minute"):d>=r?y(g,d,r,"second"):g+" ms"}function y(g,d,v,E){var S=d>=v*1.5;return Math.round(g/v)+" "+E+(S?"s":"")}return yf}var vf,Oy;function B0(){if(Oy)return vf;Oy=1;var r=rT();return vf=function(s,n){var i=n||Math.floor(Date.now()/1e3);if(typeof s=="string"){var c=r(s);return typeof c>"u"?void 0:Math.floor(i+c/1e3)}else return typeof s=="number"?i+s:void 0},vf}var Tc={exports:{}},wf,jy;function au(){if(jy)return wf;jy=1;const r="2.0.0",s=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,c=s-6;return wf={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:c,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},wf}var Ef,Dy;function lu(){if(Dy)return Ef;Dy=1;var r={};return Ef=typeof process=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Ef}var Ly;function sl(){return Ly||(Ly=1,(function(r,s){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:c}=au(),a=lu();s=r.exports={};const l=s.re=[],f=s.safeRe=[],p=s.src=[],y=s.safeSrc=[],g=s.t={};let d=0;const v="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",c],[v,i]],S=x=>{for(const[b,P]of E)x=x.split(`${b}*`).join(`${b}{0,${P}}`).split(`${b}+`).join(`${b}{1,${P}}`);return x},C=(x,b,P)=>{const N=S(b),j=d++;a(x,j,b),g[x]=j,p[j]=b,y[j]=N,l[j]=new RegExp(b,P?"g":void 0),f[j]=new RegExp(N,P?"g":void 0)};C("NUMERICIDENTIFIER","0|[1-9]\\d*"),C("NUMERICIDENTIFIERLOOSE","\\d+"),C("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),C("MAINVERSION",`(${p[g.NUMERICIDENTIFIER]})\\.(${p[g.NUMERICIDENTIFIER]})\\.(${p[g.NUMERICIDENTIFIER]})`),C("MAINVERSIONLOOSE",`(${p[g.NUMERICIDENTIFIERLOOSE]})\\.(${p[g.NUMERICIDENTIFIERLOOSE]})\\.(${p[g.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASEIDENTIFIER",`(?:${p[g.NONNUMERICIDENTIFIER]}|${p[g.NUMERICIDENTIFIER]})`),C("PRERELEASEIDENTIFIERLOOSE",`(?:${p[g.NONNUMERICIDENTIFIER]}|${p[g.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASE",`(?:-(${p[g.PRERELEASEIDENTIFIER]}(?:\\.${p[g.PRERELEASEIDENTIFIER]})*))`),C("PRERELEASELOOSE",`(?:-?(${p[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[g.PRERELEASEIDENTIFIERLOOSE]})*))`),C("BUILDIDENTIFIER",`${v}+`),C("BUILD",`(?:\\+(${p[g.BUILDIDENTIFIER]}(?:\\.${p[g.BUILDIDENTIFIER]})*))`),C("FULLPLAIN",`v?${p[g.MAINVERSION]}${p[g.PRERELEASE]}?${p[g.BUILD]}?`),C("FULL",`^${p[g.FULLPLAIN]}$`),C("LOOSEPLAIN",`[v=\\s]*${p[g.MAINVERSIONLOOSE]}${p[g.PRERELEASELOOSE]}?${p[g.BUILD]}?`),C("LOOSE",`^${p[g.LOOSEPLAIN]}$`),C("GTLT","((?:<|>)?=?)"),C("XRANGEIDENTIFIERLOOSE",`${p[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),C("XRANGEIDENTIFIER",`${p[g.NUMERICIDENTIFIER]}|x|X|\\*`),C("XRANGEPLAIN",`[v=\\s]*(${p[g.XRANGEIDENTIFIER]})(?:\\.(${p[g.XRANGEIDENTIFIER]})(?:\\.(${p[g.XRANGEIDENTIFIER]})(?:${p[g.PRERELEASE]})?${p[g.BUILD]}?)?)?`),C("XRANGEPLAINLOOSE",`[v=\\s]*(${p[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[g.XRANGEIDENTIFIERLOOSE]})(?:${p[g.PRERELEASELOOSE]})?${p[g.BUILD]}?)?)?`),C("XRANGE",`^${p[g.GTLT]}\\s*${p[g.XRANGEPLAIN]}$`),C("XRANGELOOSE",`^${p[g.GTLT]}\\s*${p[g.XRANGEPLAINLOOSE]}$`),C("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),C("COERCE",`${p[g.COERCEPLAIN]}(?:$|[^\\d])`),C("COERCEFULL",p[g.COERCEPLAIN]+`(?:${p[g.PRERELEASE]})?(?:${p[g.BUILD]})?(?:$|[^\\d])`),C("COERCERTL",p[g.COERCE],!0),C("COERCERTLFULL",p[g.COERCEFULL],!0),C("LONETILDE","(?:~>?)"),C("TILDETRIM",`(\\s*)${p[g.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",C("TILDE",`^${p[g.LONETILDE]}${p[g.XRANGEPLAIN]}$`),C("TILDELOOSE",`^${p[g.LONETILDE]}${p[g.XRANGEPLAINLOOSE]}$`),C("LONECARET","(?:\\^)"),C("CARETTRIM",`(\\s*)${p[g.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",C("CARET",`^${p[g.LONECARET]}${p[g.XRANGEPLAIN]}$`),C("CARETLOOSE",`^${p[g.LONECARET]}${p[g.XRANGEPLAINLOOSE]}$`),C("COMPARATORLOOSE",`^${p[g.GTLT]}\\s*(${p[g.LOOSEPLAIN]})$|^$`),C("COMPARATOR",`^${p[g.GTLT]}\\s*(${p[g.FULLPLAIN]})$|^$`),C("COMPARATORTRIM",`(\\s*)${p[g.GTLT]}\\s*(${p[g.LOOSEPLAIN]}|${p[g.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",C("HYPHENRANGE",`^\\s*(${p[g.XRANGEPLAIN]})\\s+-\\s+(${p[g.XRANGEPLAIN]})\\s*$`),C("HYPHENRANGELOOSE",`^\\s*(${p[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[g.XRANGEPLAINLOOSE]})\\s*$`),C("STAR","(<|>)?=?\\s*\\*"),C("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),C("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Tc,Tc.exports)),Tc.exports}var Sf,My;function dp(){if(My)return Sf;My=1;const r=Object.freeze({loose:!0}),s=Object.freeze({});return Sf=i=>i?typeof i!="object"?r:i:s,Sf}var xf,Uy;function W0(){if(Uy)return xf;Uy=1;const r=/^[0-9]+$/,s=(i,c)=>{if(typeof i=="number"&&typeof c=="number")return i===c?0:i<c?-1:1;const a=r.test(i),l=r.test(c);return a&&l&&(i=+i,c=+c),i===c?0:a&&!l?-1:l&&!a?1:i<c?-1:1};return xf={compareIdentifiers:s,rcompareIdentifiers:(i,c)=>s(c,i)},xf}var Cf,qy;function gr(){if(qy)return Cf;qy=1;const r=lu(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:n}=au(),{safeRe:i,t:c}=sl(),a=dp(),{compareIdentifiers:l}=W0();class f{constructor(y,g){if(g=a(g),y instanceof f){if(y.loose===!!g.loose&&y.includePrerelease===!!g.includePrerelease)return y;y=y.version}else if(typeof y!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof y}".`);if(y.length>s)throw new TypeError(`version is longer than ${s} characters`);r("SemVer",y,g),this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease;const d=y.trim().match(g.loose?i[c.LOOSE]:i[c.FULL]);if(!d)throw new TypeError(`Invalid Version: ${y}`);if(this.raw=y,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(v=>{if(/^[0-9]+$/.test(v)){const E=+v;if(E>=0&&E<n)return E}return v}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(y){if(r("SemVer.compare",this.version,this.options,y),!(y instanceof f)){if(typeof y=="string"&&y===this.version)return 0;y=new f(y,this.options)}return y.version===this.version?0:this.compareMain(y)||this.comparePre(y)}compareMain(y){return y instanceof f||(y=new f(y,this.options)),this.major<y.major?-1:this.major>y.major?1:this.minor<y.minor?-1:this.minor>y.minor?1:this.patch<y.patch?-1:this.patch>y.patch?1:0}comparePre(y){if(y instanceof f||(y=new f(y,this.options)),this.prerelease.length&&!y.prerelease.length)return-1;if(!this.prerelease.length&&y.prerelease.length)return 1;if(!this.prerelease.length&&!y.prerelease.length)return 0;let g=0;do{const d=this.prerelease[g],v=y.prerelease[g];if(r("prerelease compare",g,d,v),d===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(d===void 0)return-1;if(d===v)continue;return l(d,v)}while(++g)}compareBuild(y){y instanceof f||(y=new f(y,this.options));let g=0;do{const d=this.build[g],v=y.build[g];if(r("build compare",g,d,v),d===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(d===void 0)return-1;if(d===v)continue;return l(d,v)}while(++g)}inc(y,g,d){if(y.startsWith("pre")){if(!g&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(g){const v=`-${g}`.match(this.options.loose?i[c.PRERELEASELOOSE]:i[c.PRERELEASE]);if(!v||v[1]!==g)throw new Error(`invalid identifier: ${g}`)}}switch(y){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",g,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",g,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",g,d),this.inc("pre",g,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",g,d),this.inc("pre",g,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const v=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[v];else{let E=this.prerelease.length;for(;--E>=0;)typeof this.prerelease[E]=="number"&&(this.prerelease[E]++,E=-2);if(E===-1){if(g===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(v)}}if(g){let E=[g,v];d===!1&&(E=[g]),l(this.prerelease[0],g)===0?isNaN(this.prerelease[1])&&(this.prerelease=E):this.prerelease=E}break}default:throw new Error(`invalid increment argument: ${y}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Cf=f,Cf}var bf,Hy;function ko(){if(Hy)return bf;Hy=1;const r=gr();return bf=(n,i,c=!1)=>{if(n instanceof r)return n;try{return new r(n,i)}catch(a){if(!c)return null;throw a}},bf}var Tf,Fy;function nT(){if(Fy)return Tf;Fy=1;const r=ko();return Tf=(n,i)=>{const c=r(n,i);return c?c.version:null},Tf}var kf,$y;function sT(){if($y)return kf;$y=1;const r=ko();return kf=(n,i)=>{const c=r(n.trim().replace(/^[=v]+/,""),i);return c?c.version:null},kf}var _f,zy;function iT(){if(zy)return _f;zy=1;const r=gr();return _f=(n,i,c,a,l)=>{typeof c=="string"&&(l=a,a=c,c=void 0);try{return new r(n instanceof r?n.version:n,c).inc(i,a,l).version}catch{return null}},_f}var Rf,By;function oT(){if(By)return Rf;By=1;const r=ko();return Rf=(n,i)=>{const c=r(n,null,!0),a=r(i,null,!0),l=c.compare(a);if(l===0)return null;const f=l>0,p=f?c:a,y=f?a:c,g=!!p.prerelease.length;if(!!y.prerelease.length&&!g){if(!y.patch&&!y.minor)return"major";if(y.compareMain(p)===0)return y.minor&&!y.patch?"minor":"patch"}const v=g?"pre":"";return c.major!==a.major?v+"major":c.minor!==a.minor?v+"minor":c.patch!==a.patch?v+"patch":"prerelease"},Rf}var If,Wy;function aT(){if(Wy)return If;Wy=1;const r=gr();return If=(n,i)=>new r(n,i).major,If}var Af,Ky;function lT(){if(Ky)return Af;Ky=1;const r=gr();return Af=(n,i)=>new r(n,i).minor,Af}var Nf,Gy;function cT(){if(Gy)return Nf;Gy=1;const r=gr();return Nf=(n,i)=>new r(n,i).patch,Nf}var Pf,Vy;function uT(){if(Vy)return Pf;Vy=1;const r=ko();return Pf=(n,i)=>{const c=r(n,i);return c&&c.prerelease.length?c.prerelease:null},Pf}var Of,Jy;function gn(){if(Jy)return Of;Jy=1;const r=gr();return Of=(n,i,c)=>new r(n,c).compare(new r(i,c)),Of}var jf,Yy;function dT(){if(Yy)return jf;Yy=1;const r=gn();return jf=(n,i,c)=>r(i,n,c),jf}var Df,Xy;function fT(){if(Xy)return Df;Xy=1;const r=gn();return Df=(n,i)=>r(n,i,!0),Df}var Lf,Qy;function fp(){if(Qy)return Lf;Qy=1;const r=gr();return Lf=(n,i,c)=>{const a=new r(n,c),l=new r(i,c);return a.compare(l)||a.compareBuild(l)},Lf}var Mf,Zy;function hT(){if(Zy)return Mf;Zy=1;const r=fp();return Mf=(n,i)=>n.sort((c,a)=>r(c,a,i)),Mf}var Uf,ev;function pT(){if(ev)return Uf;ev=1;const r=fp();return Uf=(n,i)=>n.sort((c,a)=>r(a,c,i)),Uf}var qf,tv;function cu(){if(tv)return qf;tv=1;const r=gn();return qf=(n,i,c)=>r(n,i,c)>0,qf}var Hf,rv;function hp(){if(rv)return Hf;rv=1;const r=gn();return Hf=(n,i,c)=>r(n,i,c)<0,Hf}var Ff,nv;function K0(){if(nv)return Ff;nv=1;const r=gn();return Ff=(n,i,c)=>r(n,i,c)===0,Ff}var $f,sv;function G0(){if(sv)return $f;sv=1;const r=gn();return $f=(n,i,c)=>r(n,i,c)!==0,$f}var zf,iv;function pp(){if(iv)return zf;iv=1;const r=gn();return zf=(n,i,c)=>r(n,i,c)>=0,zf}var Bf,ov;function mp(){if(ov)return Bf;ov=1;const r=gn();return Bf=(n,i,c)=>r(n,i,c)<=0,Bf}var Wf,av;function V0(){if(av)return Wf;av=1;const r=K0(),s=G0(),n=cu(),i=pp(),c=hp(),a=mp();return Wf=(f,p,y,g)=>{switch(p){case"===":return typeof f=="object"&&(f=f.version),typeof y=="object"&&(y=y.version),f===y;case"!==":return typeof f=="object"&&(f=f.version),typeof y=="object"&&(y=y.version),f!==y;case"":case"=":case"==":return r(f,y,g);case"!=":return s(f,y,g);case">":return n(f,y,g);case">=":return i(f,y,g);case"<":return c(f,y,g);case"<=":return a(f,y,g);default:throw new TypeError(`Invalid operator: ${p}`)}},Wf}var Kf,lv;function mT(){if(lv)return Kf;lv=1;const r=gr(),s=ko(),{safeRe:n,t:i}=sl();return Kf=(a,l)=>{if(a instanceof r)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;l=l||{};let f=null;if(!l.rtl)f=a.match(l.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);else{const E=l.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let S;for(;(S=E.exec(a))&&(!f||f.index+f[0].length!==a.length);)(!f||S.index+S[0].length!==f.index+f[0].length)&&(f=S),E.lastIndex=S.index+S[1].length+S[2].length;E.lastIndex=-1}if(f===null)return null;const p=f[2],y=f[3]||"0",g=f[4]||"0",d=l.includePrerelease&&f[5]?`-${f[5]}`:"",v=l.includePrerelease&&f[6]?`+${f[6]}`:"";return s(`${p}.${y}.${g}${d}${v}`,l)},Kf}var Gf,cv;function gT(){if(cv)return Gf;cv=1;class r{constructor(){this.max=1e3,this.map=new Map}get(n){const i=this.map.get(n);if(i!==void 0)return this.map.delete(n),this.map.set(n,i),i}delete(n){return this.map.delete(n)}set(n,i){if(!this.delete(n)&&i!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(n,i)}return this}}return Gf=r,Gf}var Vf,uv;function yn(){if(uv)return Vf;uv=1;const r=/\s+/g;class s{constructor(W,V){if(V=c(V),W instanceof s)return W.loose===!!V.loose&&W.includePrerelease===!!V.includePrerelease?W:new s(W.raw,V);if(W instanceof a)return this.raw=W.value,this.set=[[W]],this.formatted=void 0,this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=W.trim().replace(r," "),this.set=this.raw.split("||").map(ee=>this.parseRange(ee.trim())).filter(ee=>ee.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const ee=this.set[0];if(this.set=this.set.filter(q=>!C(q[0])),this.set.length===0)this.set=[ee];else if(this.set.length>1){for(const q of this.set)if(q.length===1&&x(q[0])){this.set=[q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let W=0;W<this.set.length;W++){W>0&&(this.formatted+="||");const V=this.set[W];for(let ee=0;ee<V.length;ee++)ee>0&&(this.formatted+=" "),this.formatted+=V[ee].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(W){const ee=((this.options.includePrerelease&&E)|(this.options.loose&&S))+":"+W,q=i.get(ee);if(q)return q;const ue=this.options.loose,ce=ue?p[y.HYPHENRANGELOOSE]:p[y.HYPHENRANGE];W=W.replace(ce,Q(this.options.includePrerelease)),l("hyphen replace",W),W=W.replace(p[y.COMPARATORTRIM],g),l("comparator trim",W),W=W.replace(p[y.TILDETRIM],d),l("tilde trim",W),W=W.replace(p[y.CARETTRIM],v),l("caret trim",W);let F=W.split(" ").map(fe=>P(fe,this.options)).join(" ").split(/\s+/).map(fe=>se(fe,this.options));ue&&(F=F.filter(fe=>(l("loose invalid filter",fe,this.options),!!fe.match(p[y.COMPARATORLOOSE])))),l("range list",F);const re=new Map,B=F.map(fe=>new a(fe,this.options));for(const fe of B){if(C(fe))return[fe];re.set(fe.value,fe)}re.size>1&&re.has("")&&re.delete("");const te=[...re.values()];return i.set(ee,te),te}intersects(W,V){if(!(W instanceof s))throw new TypeError("a Range is required");return this.set.some(ee=>b(ee,V)&&W.set.some(q=>b(q,V)&&ee.every(ue=>q.every(ce=>ue.intersects(ce,V)))))}test(W){if(!W)return!1;if(typeof W=="string")try{W=new f(W,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(K(this.set[V],W,this.options))return!0;return!1}}Vf=s;const n=gT(),i=new n,c=dp(),a=uu(),l=lu(),f=gr(),{safeRe:p,t:y,comparatorTrimReplace:g,tildeTrimReplace:d,caretTrimReplace:v}=sl(),{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:S}=au(),C=J=>J.value==="<0.0.0-0",x=J=>J.value==="",b=(J,W)=>{let V=!0;const ee=J.slice();let q=ee.pop();for(;V&&ee.length;)V=ee.every(ue=>q.intersects(ue,W)),q=ee.pop();return V},P=(J,W)=>(J=J.replace(p[y.BUILD],""),l("comp",J,W),J=A(J,W),l("caret",J),J=j(J,W),l("tildes",J),J=R(J,W),l("xrange",J),J=Y(J,W),l("stars",J),J),N=J=>!J||J.toLowerCase()==="x"||J==="*",j=(J,W)=>J.trim().split(/\s+/).map(V=>U(V,W)).join(" "),U=(J,W)=>{const V=W.loose?p[y.TILDELOOSE]:p[y.TILDE];return J.replace(V,(ee,q,ue,ce,F)=>{l("tilde",J,ee,q,ue,ce,F);let re;return N(q)?re="":N(ue)?re=`>=${q}.0.0 <${+q+1}.0.0-0`:N(ce)?re=`>=${q}.${ue}.0 <${q}.${+ue+1}.0-0`:F?(l("replaceTilde pr",F),re=`>=${q}.${ue}.${ce}-${F} <${q}.${+ue+1}.0-0`):re=`>=${q}.${ue}.${ce} <${q}.${+ue+1}.0-0`,l("tilde return",re),re})},A=(J,W)=>J.trim().split(/\s+/).map(V=>I(V,W)).join(" "),I=(J,W)=>{l("caret",J,W);const V=W.loose?p[y.CARETLOOSE]:p[y.CARET],ee=W.includePrerelease?"-0":"";return J.replace(V,(q,ue,ce,F,re)=>{l("caret",J,q,ue,ce,F,re);let B;return N(ue)?B="":N(ce)?B=`>=${ue}.0.0${ee} <${+ue+1}.0.0-0`:N(F)?ue==="0"?B=`>=${ue}.${ce}.0${ee} <${ue}.${+ce+1}.0-0`:B=`>=${ue}.${ce}.0${ee} <${+ue+1}.0.0-0`:re?(l("replaceCaret pr",re),ue==="0"?ce==="0"?B=`>=${ue}.${ce}.${F}-${re} <${ue}.${ce}.${+F+1}-0`:B=`>=${ue}.${ce}.${F}-${re} <${ue}.${+ce+1}.0-0`:B=`>=${ue}.${ce}.${F}-${re} <${+ue+1}.0.0-0`):(l("no pr"),ue==="0"?ce==="0"?B=`>=${ue}.${ce}.${F}${ee} <${ue}.${ce}.${+F+1}-0`:B=`>=${ue}.${ce}.${F}${ee} <${ue}.${+ce+1}.0-0`:B=`>=${ue}.${ce}.${F} <${+ue+1}.0.0-0`),l("caret return",B),B})},R=(J,W)=>(l("replaceXRanges",J,W),J.split(/\s+/).map(V=>$(V,W)).join(" ")),$=(J,W)=>{J=J.trim();const V=W.loose?p[y.XRANGELOOSE]:p[y.XRANGE];return J.replace(V,(ee,q,ue,ce,F,re)=>{l("xRange",J,ee,q,ue,ce,F,re);const B=N(ue),te=B||N(ce),fe=te||N(F),Ce=fe;return q==="="&&Ce&&(q=""),re=W.includePrerelease?"-0":"",B?q===">"||q==="<"?ee="<0.0.0-0":ee="*":q&&Ce?(te&&(ce=0),F=0,q===">"?(q=">=",te?(ue=+ue+1,ce=0,F=0):(ce=+ce+1,F=0)):q==="<="&&(q="<",te?ue=+ue+1:ce=+ce+1),q==="<"&&(re="-0"),ee=`${q+ue}.${ce}.${F}${re}`):te?ee=`>=${ue}.0.0${re} <${+ue+1}.0.0-0`:fe&&(ee=`>=${ue}.${ce}.0${re} <${ue}.${+ce+1}.0-0`),l("xRange return",ee),ee})},Y=(J,W)=>(l("replaceStars",J,W),J.trim().replace(p[y.STAR],"")),se=(J,W)=>(l("replaceGTE0",J,W),J.trim().replace(p[W.includePrerelease?y.GTE0PRE:y.GTE0],"")),Q=J=>(W,V,ee,q,ue,ce,F,re,B,te,fe,Ce)=>(N(ee)?V="":N(q)?V=`>=${ee}.0.0${J?"-0":""}`:N(ue)?V=`>=${ee}.${q}.0${J?"-0":""}`:ce?V=`>=${V}`:V=`>=${V}${J?"-0":""}`,N(B)?re="":N(te)?re=`<${+B+1}.0.0-0`:N(fe)?re=`<${B}.${+te+1}.0-0`:Ce?re=`<=${B}.${te}.${fe}-${Ce}`:J?re=`<${B}.${te}.${+fe+1}-0`:re=`<=${re}`,`${V} ${re}`.trim()),K=(J,W,V)=>{for(let ee=0;ee<J.length;ee++)if(!J[ee].test(W))return!1;if(W.prerelease.length&&!V.includePrerelease){for(let ee=0;ee<J.length;ee++)if(l(J[ee].semver),J[ee].semver!==a.ANY&&J[ee].semver.prerelease.length>0){const q=J[ee].semver;if(q.major===W.major&&q.minor===W.minor&&q.patch===W.patch)return!0}return!1}return!0};return Vf}var Jf,dv;function uu(){if(dv)return Jf;dv=1;const r=Symbol("SemVer ANY");class s{static get ANY(){return r}constructor(g,d){if(d=n(d),g instanceof s){if(g.loose===!!d.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),l("comparator",g,d),this.options=d,this.loose=!!d.loose,this.parse(g),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(g){const d=this.options.loose?i[c.COMPARATORLOOSE]:i[c.COMPARATOR],v=g.match(d);if(!v)throw new TypeError(`Invalid comparator: ${g}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new f(v[2],this.options.loose):this.semver=r}toString(){return this.value}test(g){if(l("Comparator.test",g,this.options.loose),this.semver===r||g===r)return!0;if(typeof g=="string")try{g=new f(g,this.options)}catch{return!1}return a(g,this.operator,this.semver,this.options)}intersects(g,d){if(!(g instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new p(g.value,d).test(this.value):g.operator===""?g.value===""?!0:new p(this.value,d).test(g.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||a(this.semver,"<",g.semver,d)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||a(this.semver,">",g.semver,d)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}Jf=s;const n=dp(),{safeRe:i,t:c}=sl(),a=V0(),l=lu(),f=gr(),p=yn();return Jf}var Yf,fv;function du(){if(fv)return Yf;fv=1;const r=yn();return Yf=(n,i,c)=>{try{i=new r(i,c)}catch{return!1}return i.test(n)},Yf}var Xf,hv;function yT(){if(hv)return Xf;hv=1;const r=yn();return Xf=(n,i)=>new r(n,i).set.map(c=>c.map(a=>a.value).join(" ").trim().split(" ")),Xf}var Qf,pv;function vT(){if(pv)return Qf;pv=1;const r=gr(),s=yn();return Qf=(i,c,a)=>{let l=null,f=null,p=null;try{p=new s(c,a)}catch{return null}return i.forEach(y=>{p.test(y)&&(!l||f.compare(y)===-1)&&(l=y,f=new r(l,a))}),l},Qf}var Zf,mv;function wT(){if(mv)return Zf;mv=1;const r=gr(),s=yn();return Zf=(i,c,a)=>{let l=null,f=null,p=null;try{p=new s(c,a)}catch{return null}return i.forEach(y=>{p.test(y)&&(!l||f.compare(y)===1)&&(l=y,f=new r(l,a))}),l},Zf}var eh,gv;function ET(){if(gv)return eh;gv=1;const r=gr(),s=yn(),n=cu();return eh=(c,a)=>{c=new s(c,a);let l=new r("0.0.0");if(c.test(l)||(l=new r("0.0.0-0"),c.test(l)))return l;l=null;for(let f=0;f<c.set.length;++f){const p=c.set[f];let y=null;p.forEach(g=>{const d=new r(g.semver.version);switch(g.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!y||n(d,y))&&(y=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${g.operator}`)}}),y&&(!l||n(l,y))&&(l=y)}return l&&c.test(l)?l:null},eh}var th,yv;function ST(){if(yv)return th;yv=1;const r=yn();return th=(n,i)=>{try{return new r(n,i).range||"*"}catch{return null}},th}var rh,vv;function gp(){if(vv)return rh;vv=1;const r=gr(),s=uu(),{ANY:n}=s,i=yn(),c=du(),a=cu(),l=hp(),f=mp(),p=pp();return rh=(g,d,v,E)=>{g=new r(g,E),d=new i(d,E);let S,C,x,b,P;switch(v){case">":S=a,C=f,x=l,b=">",P=">=";break;case"<":S=l,C=p,x=a,b="<",P="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(g,d,E))return!1;for(let N=0;N<d.set.length;++N){const j=d.set[N];let U=null,A=null;if(j.forEach(I=>{I.semver===n&&(I=new s(">=0.0.0")),U=U||I,A=A||I,S(I.semver,U.semver,E)?U=I:x(I.semver,A.semver,E)&&(A=I)}),U.operator===b||U.operator===P||(!A.operator||A.operator===b)&&C(g,A.semver))return!1;if(A.operator===P&&x(g,A.semver))return!1}return!0},rh}var nh,wv;function xT(){if(wv)return nh;wv=1;const r=gp();return nh=(n,i,c)=>r(n,i,">",c),nh}var sh,Ev;function CT(){if(Ev)return sh;Ev=1;const r=gp();return sh=(n,i,c)=>r(n,i,"<",c),sh}var ih,Sv;function bT(){if(Sv)return ih;Sv=1;const r=yn();return ih=(n,i,c)=>(n=new r(n,c),i=new r(i,c),n.intersects(i,c)),ih}var oh,xv;function TT(){if(xv)return oh;xv=1;const r=du(),s=gn();return oh=(n,i,c)=>{const a=[];let l=null,f=null;const p=n.sort((v,E)=>s(v,E,c));for(const v of p)r(v,i,c)?(f=v,l||(l=v)):(f&&a.push([l,f]),f=null,l=null);l&&a.push([l,null]);const y=[];for(const[v,E]of a)v===E?y.push(v):!E&&v===p[0]?y.push("*"):E?v===p[0]?y.push(`<=${E}`):y.push(`${v} - ${E}`):y.push(`>=${v}`);const g=y.join(" || "),d=typeof i.raw=="string"?i.raw:String(i);return g.length<d.length?g:i},oh}var ah,Cv;function kT(){if(Cv)return ah;Cv=1;const r=yn(),s=uu(),{ANY:n}=s,i=du(),c=gn(),a=(d,v,E={})=>{if(d===v)return!0;d=new r(d,E),v=new r(v,E);let S=!1;e:for(const C of d.set){for(const x of v.set){const b=p(C,x,E);if(S=S||b!==null,b)continue e}if(S)return!1}return!0},l=[new s(">=0.0.0-0")],f=[new s(">=0.0.0")],p=(d,v,E)=>{if(d===v)return!0;if(d.length===1&&d[0].semver===n){if(v.length===1&&v[0].semver===n)return!0;E.includePrerelease?d=l:d=f}if(v.length===1&&v[0].semver===n){if(E.includePrerelease)return!0;v=f}const S=new Set;let C,x;for(const R of d)R.operator===">"||R.operator===">="?C=y(C,R,E):R.operator==="<"||R.operator==="<="?x=g(x,R,E):S.add(R.semver);if(S.size>1)return null;let b;if(C&&x){if(b=c(C.semver,x.semver,E),b>0)return null;if(b===0&&(C.operator!==">="||x.operator!=="<="))return null}for(const R of S){if(C&&!i(R,String(C),E)||x&&!i(R,String(x),E))return null;for(const $ of v)if(!i(R,String($),E))return!1;return!0}let P,N,j,U,A=x&&!E.includePrerelease&&x.semver.prerelease.length?x.semver:!1,I=C&&!E.includePrerelease&&C.semver.prerelease.length?C.semver:!1;A&&A.prerelease.length===1&&x.operator==="<"&&A.prerelease[0]===0&&(A=!1);for(const R of v){if(U=U||R.operator===">"||R.operator===">=",j=j||R.operator==="<"||R.operator==="<=",C){if(I&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===I.major&&R.semver.minor===I.minor&&R.semver.patch===I.patch&&(I=!1),R.operator===">"||R.operator===">="){if(P=y(C,R,E),P===R&&P!==C)return!1}else if(C.operator===">="&&!i(C.semver,String(R),E))return!1}if(x){if(A&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===A.major&&R.semver.minor===A.minor&&R.semver.patch===A.patch&&(A=!1),R.operator==="<"||R.operator==="<="){if(N=g(x,R,E),N===R&&N!==x)return!1}else if(x.operator==="<="&&!i(x.semver,String(R),E))return!1}if(!R.operator&&(x||C)&&b!==0)return!1}return!(C&&j&&!x&&b!==0||x&&U&&!C&&b!==0||I||A)},y=(d,v,E)=>{if(!d)return v;const S=c(d.semver,v.semver,E);return S>0?d:S<0||v.operator===">"&&d.operator===">="?v:d},g=(d,v,E)=>{if(!d)return v;const S=c(d.semver,v.semver,E);return S<0?d:S>0||v.operator==="<"&&d.operator==="<="?v:d};return ah=a,ah}var lh,bv;function yp(){if(bv)return lh;bv=1;const r=sl(),s=au(),n=gr(),i=W0(),c=ko(),a=nT(),l=sT(),f=iT(),p=oT(),y=aT(),g=lT(),d=cT(),v=uT(),E=gn(),S=dT(),C=fT(),x=fp(),b=hT(),P=pT(),N=cu(),j=hp(),U=K0(),A=G0(),I=pp(),R=mp(),$=V0(),Y=mT(),se=uu(),Q=yn(),K=du(),J=yT(),W=vT(),V=wT(),ee=ET(),q=ST(),ue=gp(),ce=xT(),F=CT(),re=bT(),B=TT(),te=kT();return lh={parse:c,valid:a,clean:l,inc:f,diff:p,major:y,minor:g,patch:d,prerelease:v,compare:E,rcompare:S,compareLoose:C,compareBuild:x,sort:b,rsort:P,gt:N,lt:j,eq:U,neq:A,gte:I,lte:R,cmp:$,coerce:Y,Comparator:se,Range:Q,satisfies:K,toComparators:J,maxSatisfying:W,minSatisfying:V,minVersion:ee,validRange:q,outside:ue,gtr:ce,ltr:F,intersects:re,simplifyRange:B,subset:te,SemVer:n,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},lh}var ch,Tv;function _T(){return Tv||(Tv=1,ch=yp().satisfies(process.version,">=15.7.0")),ch}var uh,kv;function RT(){return kv||(kv=1,uh=yp().satisfies(process.version,">=16.9.0")),uh}var dh,_v;function J0(){if(_v)return dh;_v=1;const r=_T(),s=RT(),n={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},i={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return dh=function(c,a){if(!c||!a)return;const l=a.asymmetricKeyType;if(!l)return;const f=n[l];if(!f)throw new Error(`Unknown key type "${l}".`);if(!f.includes(c))throw new Error(`"alg" parameter for "${l}" key type must be one of: ${f.join(", ")}.`);if(r)switch(l){case"ec":const p=a.asymmetricKeyDetails.namedCurve,y=i[c];if(p!==y)throw new Error(`"alg" parameter "${c}" requires curve "${y}".`);break;case"rsa-pss":if(s){const g=parseInt(c.slice(-3),10),{hashAlgorithm:d,mgf1HashAlgorithm:v,saltLength:E}=a.asymmetricKeyDetails;if(d!==`sha${g}`||v!==d)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${c}.`);if(E!==void 0&&E>g>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${c}.`)}break}},dh}var fh,Rv;function Y0(){if(Rv)return fh;Rv=1;var r=yp();return fh=r.satisfies(process.version,"^6.12.0 || >=8.0.0"),fh}var hh,Iv;function IT(){if(Iv)return hh;Iv=1;const r=ou(),s=$0(),n=z0(),i=F0(),c=B0(),a=J0(),l=Y0(),f=up(),{KeyObject:p,createSecretKey:y,createPublicKey:g}=tl,d=["RS256","RS384","RS512"],v=["ES256","ES384","ES512"],E=["RS256","RS384","RS512"],S=["HS256","HS384","HS512"];return l&&(d.splice(d.length,0,"PS256","PS384","PS512"),E.splice(E.length,0,"PS256","PS384","PS512")),hh=function(C,x,b,P){typeof b=="function"&&!P&&(P=b,b={}),b||(b={}),b=Object.assign({},b);let N;if(P?N=P:N=function($,Y){if($)throw $;return Y},b.clockTimestamp&&typeof b.clockTimestamp!="number")return N(new r("clockTimestamp must be a number"));if(b.nonce!==void 0&&(typeof b.nonce!="string"||b.nonce.trim()===""))return N(new r("nonce must be a non-empty string"));if(b.allowInvalidAsymmetricKeyTypes!==void 0&&typeof b.allowInvalidAsymmetricKeyTypes!="boolean")return N(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));const j=b.clockTimestamp||Math.floor(Date.now()/1e3);if(!C)return N(new r("jwt must be provided"));if(typeof C!="string")return N(new r("jwt must be a string"));const U=C.split(".");if(U.length!==3)return N(new r("jwt malformed"));let A;try{A=i(C,{complete:!0})}catch($){return N($)}if(!A)return N(new r("invalid token"));const I=A.header;let R;if(typeof x=="function"){if(!P)return N(new r("verify must be called asynchronous if secret or public key is provided as a callback"));R=x}else R=function($,Y){return Y(null,x)};return R(I,function($,Y){if($)return N(new r("error in secret or public key callback: "+$.message));const se=U[2].trim()!=="";if(!se&&Y)return N(new r("jwt signature is required"));if(se&&!Y)return N(new r("secret or public key must be provided"));if(!se&&!b.algorithms)return N(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(Y!=null&&!(Y instanceof p))try{Y=g(Y)}catch{try{Y=y(typeof Y=="string"?Buffer.from(Y):Y)}catch{return N(new r("secretOrPublicKey is not valid key material"))}}if(b.algorithms||(Y.type==="secret"?b.algorithms=S:["rsa","rsa-pss"].includes(Y.asymmetricKeyType)?b.algorithms=E:Y.asymmetricKeyType==="ec"?b.algorithms=v:b.algorithms=d),b.algorithms.indexOf(A.header.alg)===-1)return N(new r("invalid algorithm"));if(I.alg.startsWith("HS")&&Y.type!=="secret")return N(new r(`secretOrPublicKey must be a symmetric key when using ${I.alg}`));if(/^(?:RS|PS|ES)/.test(I.alg)&&Y.type!=="public")return N(new r(`secretOrPublicKey must be an asymmetric key when using ${I.alg}`));if(!b.allowInvalidAsymmetricKeyTypes)try{a(I.alg,Y)}catch(J){return N(J)}let Q;try{Q=f.verify(C,A.header.alg,Y)}catch(J){return N(J)}if(!Q)return N(new r("invalid signature"));const K=A.payload;if(typeof K.nbf<"u"&&!b.ignoreNotBefore){if(typeof K.nbf!="number")return N(new r("invalid nbf value"));if(K.nbf>j+(b.clockTolerance||0))return N(new s("jwt not active",new Date(K.nbf*1e3)))}if(typeof K.exp<"u"&&!b.ignoreExpiration){if(typeof K.exp!="number")return N(new r("invalid exp value"));if(j>=K.exp+(b.clockTolerance||0))return N(new n("jwt expired",new Date(K.exp*1e3)))}if(b.audience){const J=Array.isArray(b.audience)?b.audience:[b.audience];if(!(Array.isArray(K.aud)?K.aud:[K.aud]).some(function(ee){return J.some(function(q){return q instanceof RegExp?q.test(ee):q===ee})}))return N(new r("jwt audience invalid. expected: "+J.join(" or ")))}if(b.issuer&&(typeof b.issuer=="string"&&K.iss!==b.issuer||Array.isArray(b.issuer)&&b.issuer.indexOf(K.iss)===-1))return N(new r("jwt issuer invalid. expected: "+b.issuer));if(b.subject&&K.sub!==b.subject)return N(new r("jwt subject invalid. expected: "+b.subject));if(b.jwtid&&K.jti!==b.jwtid)return N(new r("jwt jwtid invalid. expected: "+b.jwtid));if(b.nonce&&K.nonce!==b.nonce)return N(new r("jwt nonce invalid. expected: "+b.nonce));if(b.maxAge){if(typeof K.iat!="number")return N(new r("iat required when maxAge is specified"));const J=c(b.maxAge,K.iat);if(typeof J>"u")return N(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(j>=J+(b.clockTolerance||0))return N(new n("maxAge exceeded",new Date(J*1e3)))}if(b.complete===!0){const J=A.signature;return N(null,{header:I,payload:K,signature:J})}return N(null,K)})},hh}var ph,Av;function AT(){if(Av)return ph;Av=1;var r=1/0,s=9007199254740991,n=17976931348623157e292,i=NaN,c="[object Arguments]",a="[object Function]",l="[object GeneratorFunction]",f="[object String]",p="[object Symbol]",y=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,E=/^(?:0|[1-9]\d*)$/,S=parseInt;function C(ae,qe){for(var He=-1,xt=ae?ae.length:0,Nt=Array(xt);++He<xt;)Nt[He]=qe(ae[He],He,ae);return Nt}function x(ae,qe,He,xt){for(var Nt=ae.length,Tt=He+-1;++Tt<Nt;)if(qe(ae[Tt],Tt,ae))return Tt;return-1}function b(ae,qe,He){if(qe!==qe)return x(ae,P,He);for(var xt=He-1,Nt=ae.length;++xt<Nt;)if(ae[xt]===qe)return xt;return-1}function P(ae){return ae!==ae}function N(ae,qe){for(var He=-1,xt=Array(ae);++He<ae;)xt[He]=qe(He);return xt}function j(ae,qe){return C(qe,function(He){return ae[He]})}function U(ae,qe){return function(He){return ae(qe(He))}}var A=Object.prototype,I=A.hasOwnProperty,R=A.toString,$=A.propertyIsEnumerable,Y=U(Object.keys,Object),se=Math.max;function Q(ae,qe){var He=q(ae)||ee(ae)?N(ae.length,String):[],xt=He.length,Nt=!!xt;for(var Tt in ae)I.call(ae,Tt)&&!(Nt&&(Tt=="length"||J(Tt,xt)))&&He.push(Tt);return He}function K(ae){if(!W(ae))return Y(ae);var qe=[];for(var He in Object(ae))I.call(ae,He)&&He!="constructor"&&qe.push(He);return qe}function J(ae,qe){return qe=qe??s,!!qe&&(typeof ae=="number"||E.test(ae))&&ae>-1&&ae%1==0&&ae<qe}function W(ae){var qe=ae&&ae.constructor,He=typeof qe=="function"&&qe.prototype||A;return ae===He}function V(ae,qe,He,xt){ae=ue(ae)?ae:$t(ae),He=He&&!xt?_e(He):0;var Nt=ae.length;return He<0&&(He=se(Nt+He,0)),fe(ae)?He<=Nt&&ae.indexOf(qe,He)>-1:!!Nt&&b(ae,qe,He)>-1}function ee(ae){return ce(ae)&&I.call(ae,"callee")&&(!$.call(ae,"callee")||R.call(ae)==c)}var q=Array.isArray;function ue(ae){return ae!=null&&re(ae.length)&&!F(ae)}function ce(ae){return te(ae)&&ue(ae)}function F(ae){var qe=B(ae)?R.call(ae):"";return qe==a||qe==l}function re(ae){return typeof ae=="number"&&ae>-1&&ae%1==0&&ae<=s}function B(ae){var qe=typeof ae;return!!ae&&(qe=="object"||qe=="function")}function te(ae){return!!ae&&typeof ae=="object"}function fe(ae){return typeof ae=="string"||!q(ae)&&te(ae)&&R.call(ae)==f}function Ce(ae){return typeof ae=="symbol"||te(ae)&&R.call(ae)==p}function Re(ae){if(!ae)return ae===0?ae:0;if(ae=We(ae),ae===r||ae===-r){var qe=ae<0?-1:1;return qe*n}return ae===ae?ae:0}function _e(ae){var qe=Re(ae),He=qe%1;return qe===qe?He?qe-He:qe:0}function We(ae){if(typeof ae=="number")return ae;if(Ce(ae))return i;if(B(ae)){var qe=typeof ae.valueOf=="function"?ae.valueOf():ae;ae=B(qe)?qe+"":qe}if(typeof ae!="string")return ae===0?ae:+ae;ae=ae.replace(y,"");var He=d.test(ae);return He||v.test(ae)?S(ae.slice(2),He?2:8):g.test(ae)?i:+ae}function at(ae){return ue(ae)?Q(ae):K(ae)}function $t(ae){return ae?j(ae,at(ae)):[]}return ph=V,ph}var mh,Nv;function NT(){if(Nv)return mh;Nv=1;var r="[object Boolean]",s=Object.prototype,n=s.toString;function i(a){return a===!0||a===!1||c(a)&&n.call(a)==r}function c(a){return!!a&&typeof a=="object"}return mh=i,mh}var gh,Pv;function PT(){if(Pv)return gh;Pv=1;var r=1/0,s=17976931348623157e292,n=NaN,i="[object Symbol]",c=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,y=Object.prototype,g=y.toString;function d(P){return typeof P=="number"&&P==x(P)}function v(P){var N=typeof P;return!!P&&(N=="object"||N=="function")}function E(P){return!!P&&typeof P=="object"}function S(P){return typeof P=="symbol"||E(P)&&g.call(P)==i}function C(P){if(!P)return P===0?P:0;if(P=b(P),P===r||P===-r){var N=P<0?-1:1;return N*s}return P===P?P:0}function x(P){var N=C(P),j=N%1;return N===N?j?N-j:N:0}function b(P){if(typeof P=="number")return P;if(S(P))return n;if(v(P)){var N=typeof P.valueOf=="function"?P.valueOf():P;P=v(N)?N+"":N}if(typeof P!="string")return P===0?P:+P;P=P.replace(c,"");var j=l.test(P);return j||f.test(P)?p(P.slice(2),j?2:8):a.test(P)?n:+P}return gh=d,gh}var yh,Ov;function OT(){if(Ov)return yh;Ov=1;var r="[object Number]",s=Object.prototype,n=s.toString;function i(a){return!!a&&typeof a=="object"}function c(a){return typeof a=="number"||i(a)&&n.call(a)==r}return yh=c,yh}var vh,jv;function jT(){if(jv)return vh;jv=1;var r="[object Object]";function s(v){var E=!1;if(v!=null&&typeof v.toString!="function")try{E=!!(v+"")}catch{}return E}function n(v,E){return function(S){return v(E(S))}}var i=Function.prototype,c=Object.prototype,a=i.toString,l=c.hasOwnProperty,f=a.call(Object),p=c.toString,y=n(Object.getPrototypeOf,Object);function g(v){return!!v&&typeof v=="object"}function d(v){if(!g(v)||p.call(v)!=r||s(v))return!1;var E=y(v);if(E===null)return!0;var S=l.call(E,"constructor")&&E.constructor;return typeof S=="function"&&S instanceof S&&a.call(S)==f}return vh=d,vh}var wh,Dv;function DT(){if(Dv)return wh;Dv=1;var r="[object String]",s=Object.prototype,n=s.toString,i=Array.isArray;function c(l){return!!l&&typeof l=="object"}function a(l){return typeof l=="string"||!i(l)&&c(l)&&n.call(l)==r}return wh=a,wh}var Eh,Lv;function LT(){if(Lv)return Eh;Lv=1;var r="Expected a function",s=1/0,n=17976931348623157e292,i=NaN,c="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt,g=Object.prototype,d=g.toString;function v(j,U){var A;if(typeof U!="function")throw new TypeError(r);return j=P(j),function(){return--j>0&&(A=U.apply(this,arguments)),j<=1&&(U=void 0),A}}function E(j){return v(2,j)}function S(j){var U=typeof j;return!!j&&(U=="object"||U=="function")}function C(j){return!!j&&typeof j=="object"}function x(j){return typeof j=="symbol"||C(j)&&d.call(j)==c}function b(j){if(!j)return j===0?j:0;if(j=N(j),j===s||j===-s){var U=j<0?-1:1;return U*n}return j===j?j:0}function P(j){var U=b(j),A=U%1;return U===U?A?U-A:U:0}function N(j){if(typeof j=="number")return j;if(x(j))return i;if(S(j)){var U=typeof j.valueOf=="function"?j.valueOf():j;j=S(U)?U+"":U}if(typeof j!="string")return j===0?j:+j;j=j.replace(a,"");var A=f.test(j);return A||p.test(j)?y(j.slice(2),A?2:8):l.test(j)?i:+j}return Eh=E,Eh}var Sh,Mv;function MT(){if(Mv)return Sh;Mv=1;const r=B0(),s=Y0(),n=J0(),i=up(),c=AT(),a=NT(),l=PT(),f=OT(),p=jT(),y=DT(),g=LT(),{KeyObject:d,createSecretKey:v,createPrivateKey:E}=tl,S=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&S.splice(3,0,"PS256","PS384","PS512");const C={expiresIn:{isValid:function(A){return l(A)||y(A)&&A},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(A){return l(A)||y(A)&&A},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(A){return y(A)||Array.isArray(A)},message:'"audience" must be a string or array'},algorithm:{isValid:c.bind(null,S),message:'"algorithm" must be a valid string enum value'},header:{isValid:p,message:'"header" must be an object'},encoding:{isValid:y,message:'"encoding" must be a string'},issuer:{isValid:y,message:'"issuer" must be a string'},subject:{isValid:y,message:'"subject" must be a string'},jwtid:{isValid:y,message:'"jwtid" must be a string'},noTimestamp:{isValid:a,message:'"noTimestamp" must be a boolean'},keyid:{isValid:y,message:'"keyid" must be a string'},mutatePayload:{isValid:a,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:a,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:a,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},x={iat:{isValid:f,message:'"iat" should be a number of seconds'},exp:{isValid:f,message:'"exp" should be a number of seconds'},nbf:{isValid:f,message:'"nbf" should be a number of seconds'}};function b(A,I,R,$){if(!p(R))throw new Error('Expected "'+$+'" to be a plain object.');Object.keys(R).forEach(function(Y){const se=A[Y];if(!se){if(!I)throw new Error('"'+Y+'" is not allowed in "'+$+'"');return}if(!se.isValid(R[Y]))throw new Error(se.message)})}function P(A){return b(C,!1,A,"options")}function N(A){return b(x,!0,A,"payload")}const j={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},U=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return Sh=function(A,I,R,$){typeof R=="function"?($=R,R={}):R=R||{};const Y=typeof A=="object"&&!Buffer.isBuffer(A),se=Object.assign({alg:R.algorithm||"HS256",typ:Y?"JWT":void 0,kid:R.keyid},R.header);function Q(W){if($)return $(W);throw W}if(!I&&R.algorithm!=="none")return Q(new Error("secretOrPrivateKey must have a value"));if(I!=null&&!(I instanceof d))try{I=E(I)}catch{try{I=v(typeof I=="string"?Buffer.from(I):I)}catch{return Q(new Error("secretOrPrivateKey is not valid key material"))}}if(se.alg.startsWith("HS")&&I.type!=="secret")return Q(new Error(`secretOrPrivateKey must be a symmetric key when using ${se.alg}`));if(/^(?:RS|PS|ES)/.test(se.alg)){if(I.type!=="private")return Q(new Error(`secretOrPrivateKey must be an asymmetric key when using ${se.alg}`));if(!R.allowInsecureKeySizes&&!se.alg.startsWith("ES")&&I.asymmetricKeyDetails!==void 0&&I.asymmetricKeyDetails.modulusLength<2048)return Q(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`))}if(typeof A>"u")return Q(new Error("payload is required"));if(Y){try{N(A)}catch(W){return Q(W)}R.mutatePayload||(A=Object.assign({},A))}else{const W=U.filter(function(V){return typeof R[V]<"u"});if(W.length>0)return Q(new Error("invalid "+W.join(",")+" option for "+typeof A+" payload"))}if(typeof A.exp<"u"&&typeof R.expiresIn<"u")return Q(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof A.nbf<"u"&&typeof R.notBefore<"u")return Q(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{P(R)}catch(W){return Q(W)}if(!R.allowInvalidAsymmetricKeyTypes)try{n(se.alg,I)}catch(W){return Q(W)}const K=A.iat||Math.floor(Date.now()/1e3);if(R.noTimestamp?delete A.iat:Y&&(A.iat=K),typeof R.notBefore<"u"){try{A.nbf=r(R.notBefore,K)}catch(W){return Q(W)}if(typeof A.nbf>"u")return Q(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof R.expiresIn<"u"&&typeof A=="object"){try{A.exp=r(R.expiresIn,K)}catch(W){return Q(W)}if(typeof A.exp>"u")return Q(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(j).forEach(function(W){const V=j[W];if(typeof R[W]<"u"){if(typeof A[V]<"u")return Q(new Error('Bad "options.'+W+'" option. The payload already has an "'+V+'" property.'));A[V]=R[W]}});const J=R.encoding||"utf8";if(typeof $=="function")$=$&&g($),i.createSign({header:se,privateKey:I,payload:A,encoding:J}).once("error",$).once("done",function(W){if(!R.allowInsecureKeySizes&&/^(?:RS|PS)/.test(se.alg)&&W.length<256)return $(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`));$(null,W)});else{let W=i.sign({header:se,payload:A,secret:I,encoding:J});if(!R.allowInsecureKeySizes&&/^(?:RS|PS)/.test(se.alg)&&W.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`);return W}},Sh}var xh,Uv;function os(){return Uv||(Uv=1,xh={decode:F0(),verify:IT(),sign:MT(),JsonWebTokenError:ou(),NotBeforeError:$0(),TokenExpiredError:z0()}),xh}/*! Axios v1.13.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Ch,qv;function X0(){if(qv)return Ch;qv=1;function r(T,k){return function(){return T.apply(k,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:i,toStringTag:c}=Symbol,a=(T=>k=>{const O=s.call(k);return T[O]||(T[O]=O.slice(8,-1).toLowerCase())})(Object.create(null)),l=T=>(T=T.toLowerCase(),k=>a(k)===T),f=T=>k=>typeof k===T,{isArray:p}=Array,y=f("undefined");function g(T){return T!==null&&!y(T)&&T.constructor!==null&&!y(T.constructor)&&S(T.constructor.isBuffer)&&T.constructor.isBuffer(T)}const d=l("ArrayBuffer");function v(T){let k;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?k=ArrayBuffer.isView(T):k=T&&T.buffer&&d(T.buffer),k}const E=f("string"),S=f("function"),C=f("number"),x=T=>T!==null&&typeof T=="object",b=T=>T===!0||T===!1,P=T=>{if(a(T)!=="object")return!1;const k=n(T);return(k===null||k===Object.prototype||Object.getPrototypeOf(k)===null)&&!(c in T)&&!(i in T)},N=T=>{if(!x(T)||g(T))return!1;try{return Object.keys(T).length===0&&Object.getPrototypeOf(T)===Object.prototype}catch{return!1}},j=l("Date"),U=l("File"),A=l("Blob"),I=l("FileList"),R=T=>x(T)&&S(T.pipe),$=T=>{let k;return T&&(typeof FormData=="function"&&T instanceof FormData||S(T.append)&&((k=a(T))==="formdata"||k==="object"&&S(T.toString)&&T.toString()==="[object FormData]"))},Y=l("URLSearchParams"),[se,Q,K,J]=["ReadableStream","Request","Response","Headers"].map(l),W=T=>T.trim?T.trim():T.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function V(T,k,{allOwnKeys:O=!1}={}){if(T===null||typeof T>"u")return;let D,L;if(typeof T!="object"&&(T=[T]),p(T))for(D=0,L=T.length;D<L;D++)k.call(null,T[D],D,T);else{if(g(T))return;const Z=O?Object.getOwnPropertyNames(T):Object.keys(T),X=Z.length;let de;for(D=0;D<X;D++)de=Z[D],k.call(null,T[de],de,T)}}function ee(T,k){if(g(T))return null;k=k.toLowerCase();const O=Object.keys(T);let D=O.length,L;for(;D-- >0;)if(L=O[D],k===L.toLowerCase())return L;return null}const q=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:wo,ue=T=>!y(T)&&T!==q;function ce(){const{caseless:T,skipUndefined:k}=ue(this)&&this||{},O={},D=(L,Z)=>{const X=T&&ee(O,Z)||Z;P(O[X])&&P(L)?O[X]=ce(O[X],L):P(L)?O[X]=ce({},L):p(L)?O[X]=L.slice():(!k||!y(L))&&(O[X]=L)};for(let L=0,Z=arguments.length;L<Z;L++)arguments[L]&&V(arguments[L],D);return O}const F=(T,k,O,{allOwnKeys:D}={})=>(V(k,(L,Z)=>{O&&S(L)?T[Z]=r(L,O):T[Z]=L},{allOwnKeys:D}),T),re=T=>(T.charCodeAt(0)===65279&&(T=T.slice(1)),T),B=(T,k,O,D)=>{T.prototype=Object.create(k.prototype,D),T.prototype.constructor=T,Object.defineProperty(T,"super",{value:k.prototype}),O&&Object.assign(T.prototype,O)},te=(T,k,O,D)=>{let L,Z,X;const de={};if(k=k||{},T==null)return k;do{for(L=Object.getOwnPropertyNames(T),Z=L.length;Z-- >0;)X=L[Z],(!D||D(X,T,k))&&!de[X]&&(k[X]=T[X],de[X]=!0);T=O!==!1&&n(T)}while(T&&(!O||O(T,k))&&T!==Object.prototype);return k},fe=(T,k,O)=>{T=String(T),(O===void 0||O>T.length)&&(O=T.length),O-=k.length;const D=T.indexOf(k,O);return D!==-1&&D===O},Ce=T=>{if(!T)return null;if(p(T))return T;let k=T.length;if(!C(k))return null;const O=new Array(k);for(;k-- >0;)O[k]=T[k];return O},Re=(T=>k=>T&&k instanceof T)(typeof Uint8Array<"u"&&n(Uint8Array)),_e=(T,k)=>{const D=(T&&T[i]).call(T);let L;for(;(L=D.next())&&!L.done;){const Z=L.value;k.call(T,Z[0],Z[1])}},We=(T,k)=>{let O;const D=[];for(;(O=T.exec(k))!==null;)D.push(O);return D},at=l("HTMLFormElement"),$t=T=>T.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(O,D,L){return D.toUpperCase()+L}),ae=(({hasOwnProperty:T})=>(k,O)=>T.call(k,O))(Object.prototype),qe=l("RegExp"),He=(T,k)=>{const O=Object.getOwnPropertyDescriptors(T),D={};V(O,(L,Z)=>{let X;(X=k(L,Z,T))!==!1&&(D[Z]=X||L)}),Object.defineProperties(T,D)},xt=T=>{He(T,(k,O)=>{if(S(T)&&["arguments","caller","callee"].indexOf(O)!==-1)return!1;const D=T[O];if(S(D)){if(k.enumerable=!1,"writable"in k){k.writable=!1;return}k.set||(k.set=()=>{throw Error("Can not rewrite read-only method '"+O+"'")})}})},Nt=(T,k)=>{const O={},D=L=>{L.forEach(Z=>{O[Z]=!0})};return p(T)?D(T):D(String(T).split(k)),O},Tt=()=>{},Hs=(T,k)=>T!=null&&Number.isFinite(T=+T)?T:k;function ir(T){return!!(T&&S(T.append)&&T[c]==="FormData"&&T[i])}const Mn=T=>{const k=new Array(10),O=(D,L)=>{if(x(D)){if(k.indexOf(D)>=0)return;if(g(D))return D;if(!("toJSON"in D)){k[L]=D;const Z=p(D)?[]:{};return V(D,(X,de)=>{const Ae=O(X,L+1);!y(Ae)&&(Z[de]=Ae)}),k[L]=void 0,Z}}return D};return O(T,0)},vn=l("AsyncFunction"),Dt=T=>T&&(x(T)||S(T))&&S(T.then)&&S(T.catch),Ur=((T,k)=>T?setImmediate:k?((O,D)=>(q.addEventListener("message",({source:L,data:Z})=>{L===q&&Z===O&&D.length&&D.shift()()},!1),L=>{D.push(L),q.postMessage(O,"*")}))(`axios@${Math.random()}`,[]):O=>setTimeout(O))(typeof setImmediate=="function",S(q.postMessage)),Ii=typeof queueMicrotask<"u"?queueMicrotask.bind(q):typeof process<"u"&&process.nextTick||Ur;var oe={isArray:p,isArrayBuffer:d,isBuffer:g,isFormData:$,isArrayBufferView:v,isString:E,isNumber:C,isBoolean:b,isObject:x,isPlainObject:P,isEmptyObject:N,isReadableStream:se,isRequest:Q,isResponse:K,isHeaders:J,isUndefined:y,isDate:j,isFile:U,isBlob:A,isRegExp:qe,isFunction:S,isStream:R,isURLSearchParams:Y,isTypedArray:Re,isFileList:I,forEach:V,merge:ce,extend:F,trim:W,stripBOM:re,inherits:B,toFlatObject:te,kindOf:a,kindOfTest:l,endsWith:fe,toArray:Ce,forEachEntry:_e,matchAll:We,isHTMLForm:at,hasOwnProperty:ae,hasOwnProp:ae,reduceDescriptors:He,freezeMethods:xt,toObjectSet:Nt,toCamelCase:$t,noop:Tt,toFiniteNumber:Hs,findKey:ee,global:q,isContextDefined:ue,isSpecCompliantForm:ir,toJSONObject:Mn,isAsyncFn:vn,isThenable:Dt,setImmediate:Ur,asap:Ii,isIterable:T=>T!=null&&S(T[i])};function Ge(T,k,O,D,L){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=T,this.name="AxiosError",k&&(this.code=k),O&&(this.config=O),D&&(this.request=D),L&&(this.response=L,this.status=L.status?L.status:null)}oe.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const wn=Ge.prototype,Un={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(T=>{Un[T]={value:T}}),Object.defineProperties(Ge,Un),Object.defineProperty(wn,"isAxiosError",{value:!0}),Ge.from=(T,k,O,D,L,Z)=>{const X=Object.create(wn);oe.toFlatObject(T,X,function(ye){return ye!==Error.prototype},Se=>Se!=="isAxiosError");const de=T&&T.message?T.message:"Error",Ae=k==null&&T?T.code:k;return Ge.call(X,de,Ae,O,D,L),T&&X.cause==null&&Object.defineProperty(X,"cause",{value:T,configurable:!0}),X.name=T&&T.name||"Error",Z&&Object.assign(X,Z),X};var yr=null;function qr(T){return oe.isPlainObject(T)||oe.isArray(T)}function Xr(T){return oe.endsWith(T,"[]")?T.slice(0,-2):T}function Fs(T,k,O){return T?T.concat(k).map(function(L,Z){return L=Xr(L),!O&&Z?"["+L+"]":L}).join(O?".":""):k}function Ai(T){return oe.isArray(T)&&!T.some(qr)}const Ni=oe.toFlatObject(oe,{},null,function(k){return/^is[A-Z]/.test(k)});function Qr(T,k,O){if(!oe.isObject(T))throw new TypeError("target must be an object");k=k||new FormData,O=oe.toFlatObject(O,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ke,Le){return!oe.isUndefined(Le[Ke])});const D=O.metaTokens,L=O.visitor||ye,Z=O.dots,X=O.indexes,Ae=(O.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(k);if(!oe.isFunction(L))throw new TypeError("visitor must be a function");function Se(xe){if(xe===null)return"";if(oe.isDate(xe))return xe.toISOString();if(oe.isBoolean(xe))return xe.toString();if(!Ae&&oe.isBlob(xe))throw new Ge("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(xe)||oe.isTypedArray(xe)?Ae&&typeof Blob=="function"?new Blob([xe]):Buffer.from(xe):xe}function ye(xe,Ke,Le){let vt=xe;if(xe&&!Le&&typeof xe=="object"){if(oe.endsWith(Ke,"{}"))Ke=D?Ke:Ke.slice(0,-2),xe=JSON.stringify(xe);else if(oe.isArray(xe)&&Ai(xe)||(oe.isFileList(xe)||oe.endsWith(Ke,"[]"))&&(vt=oe.toArray(xe)))return Ke=Xr(Ke),vt.forEach(function(Pt,Qt){!(oe.isUndefined(Pt)||Pt===null)&&k.append(X===!0?Fs([Ke],Qt,Z):X===null?Ke:Ke+"[]",Se(Pt))}),!1}return qr(xe)?!0:(k.append(Fs(Le,Ke,Z),Se(xe)),!1)}const Ue=[],ot=Object.assign(Ni,{defaultVisitor:ye,convertValue:Se,isVisitable:qr});function Mt(xe,Ke){if(!oe.isUndefined(xe)){if(Ue.indexOf(xe)!==-1)throw Error("Circular reference detected in "+Ke.join("."));Ue.push(xe),oe.forEach(xe,function(vt,wr){(!(oe.isUndefined(vt)||vt===null)&&L.call(k,vt,oe.isString(wr)?wr.trim():wr,Ke,ot))===!0&&Mt(vt,Ke?Ke.concat(wr):[wr])}),Ue.pop()}}if(!oe.isObject(T))throw new TypeError("data must be an object");return Mt(T),k}function as(T){const k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(T).replace(/[!'()~]|%20|%00/g,function(D){return k[D]})}function Zr(T,k){this._pairs=[],T&&Qr(T,this,k)}const or=Zr.prototype;or.append=function(k,O){this._pairs.push([k,O])},or.toString=function(k){const O=k?function(D){return k.call(this,D,as)}:as;return this._pairs.map(function(L){return O(L[0])+"="+O(L[1])},"").join("&")};function $s(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function en(T,k,O){if(!k)return T;const D=O&&O.encode||$s;oe.isFunction(O)&&(O={serialize:O});const L=O&&O.serialize;let Z;if(L?Z=L(k,O):Z=oe.isURLSearchParams(k)?k.toString():new Zr(k,O).toString(D),Z){const X=T.indexOf("#");X!==-1&&(T=T.slice(0,X)),T+=(T.indexOf("?")===-1?"?":"&")+Z}return T}class tn{constructor(){this.handlers=[]}use(k,O,D){return this.handlers.push({fulfilled:k,rejected:O,synchronous:D?D.synchronous:!1,runWhen:D?D.runWhen:null}),this.handlers.length-1}eject(k){this.handlers[k]&&(this.handlers[k]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(k){oe.forEach(this.handlers,function(D){D!==null&&k(D)})}}var ls=tn,Ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gt=typeof URLSearchParams<"u"?URLSearchParams:Zr,kt=typeof FormData<"u"?FormData:null,zt=typeof Blob<"u"?Blob:null,En={isBrowser:!0,classes:{URLSearchParams:gt,FormData:kt,Blob:zt},protocols:["http","https","file","blob","url","data"]};const pt=typeof window<"u"&&typeof document<"u",Ct=typeof navigator=="object"&&navigator||void 0,Sn=pt&&(!Ct||["ReactNative","NativeScript","NS"].indexOf(Ct.product)<0),Lt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ar=pt&&window.location.href||"http://localhost";var xn=Object.freeze({__proto__:null,hasBrowserEnv:pt,hasStandardBrowserWebWorkerEnv:Lt,hasStandardBrowserEnv:Sn,navigator:Ct,origin:ar}),ct={...xn,...En};function zs(T,k){return Qr(T,new ct.classes.URLSearchParams,{visitor:function(O,D,L,Z){return ct.isNode&&oe.isBuffer(O)?(this.append(D,O.toString("base64")),!1):Z.defaultVisitor.apply(this,arguments)},...k})}function No(T){return oe.matchAll(/\w+|\[(\w*)]/g,T).map(k=>k[0]==="[]"?"":k[1]||k[0])}function bu(T){const k={},O=Object.keys(T);let D;const L=O.length;let Z;for(D=0;D<L;D++)Z=O[D],k[Z]=T[Z];return k}function cl(T){function k(O,D,L,Z){let X=O[Z++];if(X==="__proto__")return!0;const de=Number.isFinite(+X),Ae=Z>=O.length;return X=!X&&oe.isArray(L)?L.length:X,Ae?(oe.hasOwnProp(L,X)?L[X]=[L[X],D]:L[X]=D,!de):((!L[X]||!oe.isObject(L[X]))&&(L[X]=[]),k(O,D,L[X],Z)&&oe.isArray(L[X])&&(L[X]=bu(L[X])),!de)}if(oe.isFormData(T)&&oe.isFunction(T.entries)){const O={};return oe.forEachEntry(T,(D,L)=>{k(No(D),L,O,0)}),O}return null}function Tu(T,k,O){if(oe.isString(T))try{return(k||JSON.parse)(T),oe.trim(T)}catch(D){if(D.name!=="SyntaxError")throw D}return(O||JSON.stringify)(T)}const rn={transitional:Ve,adapter:["xhr","http","fetch"],transformRequest:[function(k,O){const D=O.getContentType()||"",L=D.indexOf("application/json")>-1,Z=oe.isObject(k);if(Z&&oe.isHTMLForm(k)&&(k=new FormData(k)),oe.isFormData(k))return L?JSON.stringify(cl(k)):k;if(oe.isArrayBuffer(k)||oe.isBuffer(k)||oe.isStream(k)||oe.isFile(k)||oe.isBlob(k)||oe.isReadableStream(k))return k;if(oe.isArrayBufferView(k))return k.buffer;if(oe.isURLSearchParams(k))return O.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let de;if(Z){if(D.indexOf("application/x-www-form-urlencoded")>-1)return zs(k,this.formSerializer).toString();if((de=oe.isFileList(k))||D.indexOf("multipart/form-data")>-1){const Ae=this.env&&this.env.FormData;return Qr(de?{"files[]":k}:k,Ae&&new Ae,this.formSerializer)}}return Z||L?(O.setContentType("application/json",!1),Tu(k)):k}],transformResponse:[function(k){const O=this.transitional||rn.transitional,D=O&&O.forcedJSONParsing,L=this.responseType==="json";if(oe.isResponse(k)||oe.isReadableStream(k))return k;if(k&&oe.isString(k)&&(D&&!this.responseType||L)){const X=!(O&&O.silentJSONParsing)&&L;try{return JSON.parse(k,this.parseReviver)}catch(de){if(X)throw de.name==="SyntaxError"?Ge.from(de,Ge.ERR_BAD_RESPONSE,this,null,this.response):de}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],T=>{rn.headers[T]={}});var Pi=rn;const ul=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ku=T=>{const k={};let O,D,L;return T&&T.split(`
`).forEach(function(X){L=X.indexOf(":"),O=X.substring(0,L).trim().toLowerCase(),D=X.substring(L+1).trim(),!(!O||k[O]&&ul[O])&&(O==="set-cookie"?k[O]?k[O].push(D):k[O]=[D]:k[O]=k[O]?k[O]+", "+D:D)}),k};const Po=Symbol("internals");function cs(T){return T&&String(T).trim().toLowerCase()}function Bs(T){return T===!1||T==null?T:oe.isArray(T)?T.map(Bs):String(T)}function dl(T){const k=Object.create(null),O=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let D;for(;D=O.exec(T);)k[D[1]]=D[2];return k}const _u=T=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(T.trim());function Oo(T,k,O,D,L){if(oe.isFunction(D))return D.call(this,k,O);if(L&&(k=O),!!oe.isString(k)){if(oe.isString(D))return k.indexOf(D)!==-1;if(oe.isRegExp(D))return D.test(k)}}function yt(T){return T.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(k,O,D)=>O.toUpperCase()+D)}function Ru(T,k){const O=oe.toCamelCase(" "+k);["get","set","has"].forEach(D=>{Object.defineProperty(T,D+O,{value:function(L,Z,X){return this[D].call(this,k,L,Z,X)},configurable:!0})})}class us{constructor(k){k&&this.set(k)}set(k,O,D){const L=this;function Z(de,Ae,Se){const ye=cs(Ae);if(!ye)throw new Error("header name must be a non-empty string");const Ue=oe.findKey(L,ye);(!Ue||L[Ue]===void 0||Se===!0||Se===void 0&&L[Ue]!==!1)&&(L[Ue||Ae]=Bs(de))}const X=(de,Ae)=>oe.forEach(de,(Se,ye)=>Z(Se,ye,Ae));if(oe.isPlainObject(k)||k instanceof this.constructor)X(k,O);else if(oe.isString(k)&&(k=k.trim())&&!_u(k))X(ku(k),O);else if(oe.isObject(k)&&oe.isIterable(k)){let de={},Ae,Se;for(const ye of k){if(!oe.isArray(ye))throw TypeError("Object iterator must return a key-value pair");de[Se=ye[0]]=(Ae=de[Se])?oe.isArray(Ae)?[...Ae,ye[1]]:[Ae,ye[1]]:ye[1]}X(de,O)}else k!=null&&Z(O,k,D);return this}get(k,O){if(k=cs(k),k){const D=oe.findKey(this,k);if(D){const L=this[D];if(!O)return L;if(O===!0)return dl(L);if(oe.isFunction(O))return O.call(this,L,D);if(oe.isRegExp(O))return O.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(k,O){if(k=cs(k),k){const D=oe.findKey(this,k);return!!(D&&this[D]!==void 0&&(!O||Oo(this,this[D],D,O)))}return!1}delete(k,O){const D=this;let L=!1;function Z(X){if(X=cs(X),X){const de=oe.findKey(D,X);de&&(!O||Oo(D,D[de],de,O))&&(delete D[de],L=!0)}}return oe.isArray(k)?k.forEach(Z):Z(k),L}clear(k){const O=Object.keys(this);let D=O.length,L=!1;for(;D--;){const Z=O[D];(!k||Oo(this,this[Z],Z,k,!0))&&(delete this[Z],L=!0)}return L}normalize(k){const O=this,D={};return oe.forEach(this,(L,Z)=>{const X=oe.findKey(D,Z);if(X){O[X]=Bs(L),delete O[Z];return}const de=k?yt(Z):String(Z).trim();de!==Z&&delete O[Z],O[de]=Bs(L),D[de]=!0}),this}concat(...k){return this.constructor.concat(this,...k)}toJSON(k){const O=Object.create(null);return oe.forEach(this,(D,L)=>{D!=null&&D!==!1&&(O[L]=k&&oe.isArray(D)?D.join(", "):D)}),O}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([k,O])=>k+": "+O).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(k){return k instanceof this?k:new this(k)}static concat(k,...O){const D=new this(k);return O.forEach(L=>D.set(L)),D}static accessor(k){const D=(this[Po]=this[Po]={accessors:{}}).accessors,L=this.prototype;function Z(X){const de=cs(X);D[de]||(Ru(L,X),D[de]=!0)}return oe.isArray(k)?k.forEach(Z):Z(k),this}}us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oe.reduceDescriptors(us.prototype,({value:T},k)=>{let O=k[0].toUpperCase()+k.slice(1);return{get:()=>T,set(D){this[O]=D}}}),oe.freezeMethods(us);var vr=us;function ds(T,k){const O=this||Pi,D=k||O,L=vr.from(D.headers);let Z=D.data;return oe.forEach(T,function(de){Z=de.call(O,Z,L.normalize(),k?k.status:void 0)}),L.normalize(),Z}function fl(T){return!!(T&&T.__CANCEL__)}function qn(T,k,O){Ge.call(this,T??"canceled",Ge.ERR_CANCELED,k,O),this.name="CanceledError"}oe.inherits(qn,Ge,{__CANCEL__:!0});function Ws(T,k,O){const D=O.config.validateStatus;!O.status||!D||D(O.status)?T(O):k(new Ge("Request failed with status code "+O.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(O.status/100)-4],O.config,O.request,O))}function Hr(T){const k=/^([-+\w]{1,25})(:?\/\/|:)/.exec(T);return k&&k[1]||""}function Iu(T,k){T=T||10;const O=new Array(T),D=new Array(T);let L=0,Z=0,X;return k=k!==void 0?k:1e3,function(Ae){const Se=Date.now(),ye=D[Z];X||(X=Se),O[L]=Ae,D[L]=Se;let Ue=Z,ot=0;for(;Ue!==L;)ot+=O[Ue++],Ue=Ue%T;if(L=(L+1)%T,L===Z&&(Z=(Z+1)%T),Se-X<k)return;const Mt=ye&&Se-ye;return Mt?Math.round(ot*1e3/Mt):void 0}}function Ir(T,k){let O=0,D=1e3/k,L,Z;const X=(Se,ye=Date.now())=>{O=ye,L=null,Z&&(clearTimeout(Z),Z=null),T(...Se)};return[(...Se)=>{const ye=Date.now(),Ue=ye-O;Ue>=D?X(Se,ye):(L=Se,Z||(Z=setTimeout(()=>{Z=null,X(L)},D-Ue)))},()=>L&&X(L)]}const Oi=(T,k,O=3)=>{let D=0;const L=Iu(50,250);return Ir(Z=>{const X=Z.loaded,de=Z.lengthComputable?Z.total:void 0,Ae=X-D,Se=L(Ae),ye=X<=de;D=X;const Ue={loaded:X,total:de,progress:de?X/de:void 0,bytes:Ae,rate:Se||void 0,estimated:Se&&de&&ye?(de-X)/Se:void 0,event:Z,lengthComputable:de!=null,[k?"download":"upload"]:!0};T(Ue)},O)},hl=(T,k)=>{const O=T!=null;return[D=>k[0]({lengthComputable:O,total:T,loaded:D}),k[1]]},pl=T=>(...k)=>oe.asap(()=>T(...k));var ji=ct.hasStandardBrowserEnv?((T,k)=>O=>(O=new URL(O,ct.origin),T.protocol===O.protocol&&T.host===O.host&&(k||T.port===O.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,Di=ct.hasStandardBrowserEnv?{write(T,k,O,D,L,Z,X){if(typeof document>"u")return;const de=[`${T}=${encodeURIComponent(k)}`];oe.isNumber(O)&&de.push(`expires=${new Date(O).toUTCString()}`),oe.isString(D)&&de.push(`path=${D}`),oe.isString(L)&&de.push(`domain=${L}`),Z===!0&&de.push("secure"),oe.isString(X)&&de.push(`SameSite=${X}`),document.cookie=de.join("; ")},read(T){if(typeof document>"u")return null;const k=document.cookie.match(new RegExp("(?:^|; )"+T+"=([^;]*)"));return k?decodeURIComponent(k[1]):null},remove(T){this.write(T,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ks(T){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(T)}function Li(T,k){return k?T.replace(/\/?\/$/,"")+"/"+k.replace(/^\/+/,""):T}function ml(T,k,O){let D=!Ks(k);return T&&(D||O==!1)?Li(T,k):k}const gl=T=>T instanceof vr?{...T}:T;function nn(T,k){k=k||{};const O={};function D(Se,ye,Ue,ot){return oe.isPlainObject(Se)&&oe.isPlainObject(ye)?oe.merge.call({caseless:ot},Se,ye):oe.isPlainObject(ye)?oe.merge({},ye):oe.isArray(ye)?ye.slice():ye}function L(Se,ye,Ue,ot){if(oe.isUndefined(ye)){if(!oe.isUndefined(Se))return D(void 0,Se,Ue,ot)}else return D(Se,ye,Ue,ot)}function Z(Se,ye){if(!oe.isUndefined(ye))return D(void 0,ye)}function X(Se,ye){if(oe.isUndefined(ye)){if(!oe.isUndefined(Se))return D(void 0,Se)}else return D(void 0,ye)}function de(Se,ye,Ue){if(Ue in k)return D(Se,ye);if(Ue in T)return D(void 0,Se)}const Ae={url:Z,method:Z,data:Z,baseURL:X,transformRequest:X,transformResponse:X,paramsSerializer:X,timeout:X,timeoutMessage:X,withCredentials:X,withXSRFToken:X,adapter:X,responseType:X,xsrfCookieName:X,xsrfHeaderName:X,onUploadProgress:X,onDownloadProgress:X,decompress:X,maxContentLength:X,maxBodyLength:X,beforeRedirect:X,transport:X,httpAgent:X,httpsAgent:X,cancelToken:X,socketPath:X,responseEncoding:X,validateStatus:de,headers:(Se,ye,Ue)=>L(gl(Se),gl(ye),Ue,!0)};return oe.forEach(Object.keys({...T,...k}),function(ye){const Ue=Ae[ye]||L,ot=Ue(T[ye],k[ye],ye);oe.isUndefined(ot)&&Ue!==de||(O[ye]=ot)}),O}var jo=T=>{const k=nn({},T);let{data:O,withXSRFToken:D,xsrfHeaderName:L,xsrfCookieName:Z,headers:X,auth:de}=k;if(k.headers=X=vr.from(X),k.url=en(ml(k.baseURL,k.url,k.allowAbsoluteUrls),T.params,T.paramsSerializer),de&&X.set("Authorization","Basic "+btoa((de.username||"")+":"+(de.password?unescape(encodeURIComponent(de.password)):""))),oe.isFormData(O)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)X.setContentType(void 0);else if(oe.isFunction(O.getHeaders)){const Ae=O.getHeaders(),Se=["content-type","content-length"];Object.entries(Ae).forEach(([ye,Ue])=>{Se.includes(ye.toLowerCase())&&X.set(ye,Ue)})}}if(ct.hasStandardBrowserEnv&&(D&&oe.isFunction(D)&&(D=D(k)),D||D!==!1&&ji(k.url))){const Ae=L&&Z&&Di.read(Z);Ae&&X.set(L,Ae)}return k},Gs=typeof XMLHttpRequest<"u"&&function(T){return new Promise(function(O,D){const L=jo(T);let Z=L.data;const X=vr.from(L.headers).normalize();let{responseType:de,onUploadProgress:Ae,onDownloadProgress:Se}=L,ye,Ue,ot,Mt,xe;function Ke(){Mt&&Mt(),xe&&xe(),L.cancelToken&&L.cancelToken.unsubscribe(ye),L.signal&&L.signal.removeEventListener("abort",ye)}let Le=new XMLHttpRequest;Le.open(L.method.toUpperCase(),L.url,!0),Le.timeout=L.timeout;function vt(){if(!Le)return;const Pt=vr.from("getAllResponseHeaders"in Le&&Le.getAllResponseHeaders()),Ar={data:!de||de==="text"||de==="json"?Le.responseText:Le.response,status:Le.status,statusText:Le.statusText,headers:Pt,config:T,request:Le};Ws(function(lr){O(lr),Ke()},function(lr){D(lr),Ke()},Ar),Le=null}"onloadend"in Le?Le.onloadend=vt:Le.onreadystatechange=function(){!Le||Le.readyState!==4||Le.status===0&&!(Le.responseURL&&Le.responseURL.indexOf("file:")===0)||setTimeout(vt)},Le.onabort=function(){Le&&(D(new Ge("Request aborted",Ge.ECONNABORTED,T,Le)),Le=null)},Le.onerror=function(Qt){const Ar=Qt&&Qt.message?Qt.message:"Network Error",$n=new Ge(Ar,Ge.ERR_NETWORK,T,Le);$n.event=Qt||null,D($n),Le=null},Le.ontimeout=function(){let Qt=L.timeout?"timeout of "+L.timeout+"ms exceeded":"timeout exceeded";const Ar=L.transitional||Ve;L.timeoutErrorMessage&&(Qt=L.timeoutErrorMessage),D(new Ge(Qt,Ar.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,T,Le)),Le=null},Z===void 0&&X.setContentType(null),"setRequestHeader"in Le&&oe.forEach(X.toJSON(),function(Qt,Ar){Le.setRequestHeader(Ar,Qt)}),oe.isUndefined(L.withCredentials)||(Le.withCredentials=!!L.withCredentials),de&&de!=="json"&&(Le.responseType=L.responseType),Se&&([ot,xe]=Oi(Se,!0),Le.addEventListener("progress",ot)),Ae&&Le.upload&&([Ue,Mt]=Oi(Ae),Le.upload.addEventListener("progress",Ue),Le.upload.addEventListener("loadend",Mt)),(L.cancelToken||L.signal)&&(ye=Pt=>{Le&&(D(!Pt||Pt.type?new qn(null,T,Le):Pt),Le.abort(),Le=null)},L.cancelToken&&L.cancelToken.subscribe(ye),L.signal&&(L.signal.aborted?ye():L.signal.addEventListener("abort",ye)));const wr=Hr(L.url);if(wr&&ct.protocols.indexOf(wr)===-1){D(new Ge("Unsupported protocol "+wr+":",Ge.ERR_BAD_REQUEST,T));return}Le.send(Z||null)})},Do=(T,k)=>{const{length:O}=T=T?T.filter(Boolean):[];if(k||O){let D=new AbortController,L;const Z=function(Se){if(!L){L=!0,de();const ye=Se instanceof Error?Se:this.reason;D.abort(ye instanceof Ge?ye:new qn(ye instanceof Error?ye.message:ye))}};let X=k&&setTimeout(()=>{X=null,Z(new Ge(`timeout ${k} of ms exceeded`,Ge.ETIMEDOUT))},k);const de=()=>{T&&(X&&clearTimeout(X),X=null,T.forEach(Se=>{Se.unsubscribe?Se.unsubscribe(Z):Se.removeEventListener("abort",Z)}),T=null)};T.forEach(Se=>Se.addEventListener("abort",Z));const{signal:Ae}=D;return Ae.unsubscribe=()=>oe.asap(de),Ae}};const it=function*(T,k){let O=T.byteLength;if(O<k){yield T;return}let D=0,L;for(;D<O;)L=D+k,yield T.slice(D,L),D=L},vl=async function*(T,k){for await(const O of wl(T))yield*it(O,k)},wl=async function*(T){if(T[Symbol.asyncIterator]){yield*T;return}const k=T.getReader();try{for(;;){const{done:O,value:D}=await k.read();if(O)break;yield D}}finally{await k.cancel()}},Mi=(T,k,O,D)=>{const L=vl(T,k);let Z=0,X,de=Ae=>{X||(X=!0,D&&D(Ae))};return new ReadableStream({async pull(Ae){try{const{done:Se,value:ye}=await L.next();if(Se){de(),Ae.close();return}let Ue=ye.byteLength;if(O){let ot=Z+=Ue;O(ot)}Ae.enqueue(new Uint8Array(ye))}catch(Se){throw de(Se),Se}},cancel(Ae){return de(Ae),L.return()}},{highWaterMark:2})},Lo=64*1024,{isFunction:Vs}=oe,El=(({Request:T,Response:k})=>({Request:T,Response:k}))(oe.global),{ReadableStream:Ui,TextEncoder:Js}=oe.global,sn=(T,...k)=>{try{return!!T(...k)}catch{return!1}},Cn=T=>{T=oe.merge.call({skipUndefined:!0},El,T);const{fetch:k,Request:O,Response:D}=T,L=k?Vs(k):typeof fetch=="function",Z=Vs(O),X=Vs(D);if(!L)return!1;const de=L&&Vs(Ui),Ae=L&&(typeof Js=="function"?(xe=>Ke=>xe.encode(Ke))(new Js):async xe=>new Uint8Array(await new O(xe).arrayBuffer())),Se=Z&&de&&sn(()=>{let xe=!1;const Ke=new O(ct.origin,{body:new Ui,method:"POST",get duplex(){return xe=!0,"half"}}).headers.has("Content-Type");return xe&&!Ke}),ye=X&&de&&sn(()=>oe.isReadableStream(new D("").body)),Ue={stream:ye&&(xe=>xe.body)};L&&["text","arrayBuffer","blob","formData","stream"].forEach(xe=>{!Ue[xe]&&(Ue[xe]=(Ke,Le)=>{let vt=Ke&&Ke[xe];if(vt)return vt.call(Ke);throw new Ge(`Response type '${xe}' is not supported`,Ge.ERR_NOT_SUPPORT,Le)})});const ot=async xe=>{if(xe==null)return 0;if(oe.isBlob(xe))return xe.size;if(oe.isSpecCompliantForm(xe))return(await new O(ct.origin,{method:"POST",body:xe}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(xe)||oe.isArrayBuffer(xe))return xe.byteLength;if(oe.isURLSearchParams(xe)&&(xe=xe+""),oe.isString(xe))return(await Ae(xe)).byteLength},Mt=async(xe,Ke)=>{const Le=oe.toFiniteNumber(xe.getContentLength());return Le??ot(Ke)};return async xe=>{let{url:Ke,method:Le,data:vt,signal:wr,cancelToken:Pt,timeout:Qt,onDownloadProgress:Ar,onUploadProgress:$n,responseType:lr,headers:$o,withCredentials:zi="same-origin",fetchOptions:Cl}=jo(xe),bl=k||fetch;lr=lr?(lr+"").toLowerCase():"text";let ps=Do([wr,Pt&&Pt.toAbortSignal()],Qt),Zs=null;const zn=ps&&ps.unsubscribe&&(()=>{ps.unsubscribe()});let Tl;try{if($n&&Se&&Le!=="get"&&Le!=="head"&&(Tl=await Mt($o,vt))!==0){let Rn=new O(Ke,{method:"POST",body:vt,duplex:"half"}),ms;if(oe.isFormData(vt)&&(ms=Rn.headers.get("content-type"))&&$o.setContentType(ms),Rn.body){const[zo,gs]=hl(Tl,Oi(pl($n)));vt=Mi(Rn.body,Lo,zo,gs)}}oe.isString(zi)||(zi=zi?"include":"omit");const Nr=Z&&"credentials"in O.prototype,kl={...Cl,signal:ps,method:Le.toUpperCase(),headers:$o.normalize().toJSON(),body:vt,duplex:"half",credentials:Nr?zi:void 0};Zs=Z&&new O(Ke,kl);let _n=await(Z?bl(Zs,Cl):bl(Ke,kl));const _l=ye&&(lr==="stream"||lr==="response");if(ye&&(Ar||_l&&zn)){const Rn={};["status","statusText","headers"].forEach(ys=>{Rn[ys]=_n[ys]});const ms=oe.toFiniteNumber(_n.headers.get("content-length")),[zo,gs]=Ar&&hl(ms,Oi(pl(Ar),!0))||[];_n=new D(Mi(_n.body,Lo,zo,()=>{gs&&gs(),zn&&zn()}),Rn)}lr=lr||"text";let Nu=await Ue[oe.findKey(Ue,lr)||"text"](_n,xe);return!_l&&zn&&zn(),await new Promise((Rn,ms)=>{Ws(Rn,ms,{data:Nu,headers:vr.from(_n.headers),status:_n.status,statusText:_n.statusText,config:xe,request:Zs})})}catch(Nr){throw zn&&zn(),Nr&&Nr.name==="TypeError"&&/Load failed|fetch/i.test(Nr.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,xe,Zs),{cause:Nr.cause||Nr}):Ge.from(Nr,Nr&&Nr.code,xe,Zs)}}},bn=new Map,fs=T=>{let k=T&&T.env||{};const{fetch:O,Request:D,Response:L}=k,Z=[D,L,O];let X=Z.length,de=X,Ae,Se,ye=bn;for(;de--;)Ae=Z[de],Se=ye.get(Ae),Se===void 0&&ye.set(Ae,Se=de?new Map:Cn(k)),ye=Se;return Se};fs();const Hn={http:yr,xhr:Gs,fetch:{get:fs}};oe.forEach(Hn,(T,k)=>{if(T){try{Object.defineProperty(T,"name",{value:k})}catch{}Object.defineProperty(T,"adapterName",{value:k})}});const on=T=>`- ${T}`,Au=T=>oe.isFunction(T)||T===null||T===!1;function Sl(T,k){T=oe.isArray(T)?T:[T];const{length:O}=T;let D,L;const Z={};for(let X=0;X<O;X++){D=T[X];let de;if(L=D,!Au(D)&&(L=Hn[(de=String(D)).toLowerCase()],L===void 0))throw new Ge(`Unknown adapter '${de}'`);if(L&&(oe.isFunction(L)||(L=L.get(k))))break;Z[de||"#"+X]=L}if(!L){const X=Object.entries(Z).map(([Ae,Se])=>`adapter ${Ae} `+(Se===!1?"is not supported by the environment":"is not available in the build"));let de=O?X.length>1?`since :
`+X.map(on).join(`
`):" "+on(X[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+de,"ERR_NOT_SUPPORT")}return L}var hs={getAdapter:Sl,adapters:Hn};function Mo(T){if(T.cancelToken&&T.cancelToken.throwIfRequested(),T.signal&&T.signal.aborted)throw new qn(null,T)}function Uo(T){return Mo(T),T.headers=vr.from(T.headers),T.data=ds.call(T,T.transformRequest),["post","put","patch"].indexOf(T.method)!==-1&&T.headers.setContentType("application/x-www-form-urlencoded",!1),hs.getAdapter(T.adapter||Pi.adapter,T)(T).then(function(D){return Mo(T),D.data=ds.call(T,T.transformResponse,D),D.headers=vr.from(D.headers),D},function(D){return fl(D)||(Mo(T),D&&D.response&&(D.response.data=ds.call(T,T.transformResponse,D.response),D.response.headers=vr.from(D.response.headers))),Promise.reject(D)})}const Ys="1.13.2",Xs={};["object","boolean","number","function","string","symbol"].forEach((T,k)=>{Xs[T]=function(D){return typeof D===T||"a"+(k<1?"n ":" ")+T}});const xl={};Xs.transitional=function(k,O,D){function L(Z,X){return"[Axios v"+Ys+"] Transitional option '"+Z+"'"+X+(D?". "+D:"")}return(Z,X,de)=>{if(k===!1)throw new Ge(L(X," has been removed"+(O?" in "+O:"")),Ge.ERR_DEPRECATED);return O&&!xl[X]&&(xl[X]=!0,console.warn(L(X," has been deprecated since v"+O+" and will be removed in the near future"))),k?k(Z,X,de):!0}},Xs.spelling=function(k){return(O,D)=>(console.warn(`${D} is likely a misspelling of ${k}`),!0)};function Qs(T,k,O){if(typeof T!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const D=Object.keys(T);let L=D.length;for(;L-- >0;){const Z=D[L],X=k[Z];if(X){const de=T[Z],Ae=de===void 0||X(de,Z,T);if(Ae!==!0)throw new Ge("option "+Z+" must be "+Ae,Ge.ERR_BAD_OPTION_VALUE);continue}if(O!==!0)throw new Ge("Unknown option "+Z,Ge.ERR_BAD_OPTION)}}var Tn={assertOptions:Qs,validators:Xs};const Jt=Tn.validators;class Fn{constructor(k){this.defaults=k||{},this.interceptors={request:new ls,response:new ls}}async request(k,O){try{return await this._request(k,O)}catch(D){if(D instanceof Error){let L={};Error.captureStackTrace?Error.captureStackTrace(L):L=new Error;const Z=L.stack?L.stack.replace(/^.+\n/,""):"";try{D.stack?Z&&!String(D.stack).endsWith(Z.replace(/^.+\n.+\n/,""))&&(D.stack+=`
`+Z):D.stack=Z}catch{}}throw D}}_request(k,O){typeof k=="string"?(O=O||{},O.url=k):O=k||{},O=nn(this.defaults,O);const{transitional:D,paramsSerializer:L,headers:Z}=O;D!==void 0&&Tn.assertOptions(D,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),L!=null&&(oe.isFunction(L)?O.paramsSerializer={serialize:L}:Tn.assertOptions(L,{encode:Jt.function,serialize:Jt.function},!0)),O.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?O.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:O.allowAbsoluteUrls=!0),Tn.assertOptions(O,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),O.method=(O.method||this.defaults.method||"get").toLowerCase();let X=Z&&oe.merge(Z.common,Z[O.method]);Z&&oe.forEach(["delete","get","head","post","put","patch","common"],xe=>{delete Z[xe]}),O.headers=vr.concat(X,Z);const de=[];let Ae=!0;this.interceptors.request.forEach(function(Ke){typeof Ke.runWhen=="function"&&Ke.runWhen(O)===!1||(Ae=Ae&&Ke.synchronous,de.unshift(Ke.fulfilled,Ke.rejected))});const Se=[];this.interceptors.response.forEach(function(Ke){Se.push(Ke.fulfilled,Ke.rejected)});let ye,Ue=0,ot;if(!Ae){const xe=[Uo.bind(this),void 0];for(xe.unshift(...de),xe.push(...Se),ot=xe.length,ye=Promise.resolve(O);Ue<ot;)ye=ye.then(xe[Ue++],xe[Ue++]);return ye}ot=de.length;let Mt=O;for(;Ue<ot;){const xe=de[Ue++],Ke=de[Ue++];try{Mt=xe(Mt)}catch(Le){Ke.call(this,Le);break}}try{ye=Uo.call(this,Mt)}catch(xe){return Promise.reject(xe)}for(Ue=0,ot=Se.length;Ue<ot;)ye=ye.then(Se[Ue++],Se[Ue++]);return ye}getUri(k){k=nn(this.defaults,k);const O=ml(k.baseURL,k.url,k.allowAbsoluteUrls);return en(O,k.params,k.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(k){Fn.prototype[k]=function(O,D){return this.request(nn(D||{},{method:k,url:O,data:(D||{}).data}))}}),oe.forEach(["post","put","patch"],function(k){function O(D){return function(Z,X,de){return this.request(nn(de||{},{method:k,headers:D?{"Content-Type":"multipart/form-data"}:{},url:Z,data:X}))}}Fn.prototype[k]=O(),Fn.prototype[k+"Form"]=O(!0)});var qi=Fn;class qo{constructor(k){if(typeof k!="function")throw new TypeError("executor must be a function.");let O;this.promise=new Promise(function(Z){O=Z});const D=this;this.promise.then(L=>{if(!D._listeners)return;let Z=D._listeners.length;for(;Z-- >0;)D._listeners[Z](L);D._listeners=null}),this.promise.then=L=>{let Z;const X=new Promise(de=>{D.subscribe(de),Z=de}).then(L);return X.cancel=function(){D.unsubscribe(Z)},X},k(function(Z,X,de){D.reason||(D.reason=new qn(Z,X,de),O(D.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(k){if(this.reason){k(this.reason);return}this._listeners?this._listeners.push(k):this._listeners=[k]}unsubscribe(k){if(!this._listeners)return;const O=this._listeners.indexOf(k);O!==-1&&this._listeners.splice(O,1)}toAbortSignal(){const k=new AbortController,O=D=>{k.abort(D)};return this.subscribe(O),k.signal.unsubscribe=()=>this.unsubscribe(O),k.signal}static source(){let k;return{token:new qo(function(L){k=L}),cancel:k}}}var Ho=qo;function Hi(T){return function(O){return T.apply(null,O)}}function Fo(T){return oe.isObject(T)&&T.isAxiosError===!0}const Fi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fi).forEach(([T,k])=>{Fi[k]=T});var kn=Fi;function $i(T){const k=new qi(T),O=r(qi.prototype.request,k);return oe.extend(O,qi.prototype,k,{allOwnKeys:!0}),oe.extend(O,k,null,{allOwnKeys:!0}),O.create=function(L){return $i(nn(T,L))},O}const dt=$i(Pi);return dt.Axios=qi,dt.CanceledError=qn,dt.CancelToken=Ho,dt.isCancel=fl,dt.VERSION=Ys,dt.toFormData=Qr,dt.AxiosError=Ge,dt.Cancel=dt.CanceledError,dt.all=function(k){return Promise.all(k)},dt.spread=Hi,dt.isAxiosError=Fo,dt.mergeConfig=nn,dt.AxiosHeaders=vr,dt.formToJSON=T=>cl(oe.isHTMLForm(T)?new FormData(T):T),dt.getAdapter=hs.getAdapter,dt.HttpStatusCode=kn,dt.default=dt,Ch=dt,Ch}const UT={},qT=Object.freeze(Object.defineProperty({__proto__:null,default:UT},Symbol.toStringTag,{value:"Module"})),Hv=el(qT);var Fv;function $v(){if(Fv)return Dr;Fv=1;var r=Dr&&Dr.__createBinding||(Object.create?(function(y,g,d,v){v===void 0&&(v=d);var E=Object.getOwnPropertyDescriptor(g,d);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[d]}}),Object.defineProperty(y,v,E)}):(function(y,g,d,v){v===void 0&&(v=d),y[v]=g[d]})),s=Dr&&Dr.__setModuleDefault||(Object.create?(function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}):function(y,g){y.default=g}),n=Dr&&Dr.__importStar||(function(){var y=function(g){return y=Object.getOwnPropertyNames||function(d){var v=[];for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&(v[v.length]=E);return v},y(g)};return function(g){if(g&&g.__esModule)return g;var d={};if(g!=null)for(var v=y(g),E=0;E<v.length;E++)v[E]!=="default"&&r(d,g,v[E]);return s(d,g),d}})(),i=Dr&&Dr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.AuthService=void 0;const c=i(tl),a=rl(),l=To(),f=i(os());class p{constructor(g,d,v){this.config=g.config,this.cache=v,this.httpClient=g,this.apiClient=d,this.tokenValidationTTL=this.config.cache?.tokenValidationTTL||900,this.minValidationTTL=this.config.cache?.minValidationTTL||60}isApiKeyToken(g){return this.config.apiKey!==void 0&&g===this.config.apiKey}extractUserIdFromToken(g){try{const d=f.default.decode(g);return d?d.sub||d.userId||d.user_id||d.id:null}catch{return null}}getTokenCacheKey(g){return`token_validation:${c.default.createHash("sha256").update(g).digest("hex")}`}getCacheTtlFromToken(g){try{const v=f.default.decode(g);if(!v||typeof v.exp!="number")return this.tokenValidationTTL;const E=Math.floor(Date.now()/1e3),S=v.exp-E-30;return Math.max(this.minValidationTTL,Math.min(S,this.tokenValidationTTL))}catch{return this.tokenValidationTTL}}generateCorrelationId(){const g=Date.now(),d=Math.random().toString(36).substring(2,8);return`${this.config.clientId.substring(0,10)}-${g}-${d}`}async getEnvironmentToken(){const g=this.generateCorrelationId(),d=this.config.clientId;try{const v=(await Promise.resolve().then(()=>n(X0()))).default,E=(0,l.resolveControllerUrl)(this.config),S=this.config.clientTokenUri||"/api/v1/auth/token",C=`${E}${S}`,x=4e3,b=new AbortController,P=setTimeout(()=>{b.abort()},x),N=await Promise.resolve().then(()=>n(Hv)),j=await Promise.resolve().then(()=>n(Hv)),U=E.startsWith("https://"),A=U?new j.Agent({family:4,timeout:x}):new N.Agent({family:4,timeout:x}),I=v.create({baseURL:E,timeout:x,signal:b.signal,httpAgent:U?void 0:A,httpsAgent:U?A:void 0,headers:{"Content-Type":"application/json","x-client-id":this.config.clientId,"x-client-secret":this.config.clientSecret}});console.log(`[getEnvironmentToken] Calling controller: ${C} [correlationId: ${g}, clientId: ${d}]`);const R=I.post(S),$=new Promise((V,ee)=>{setTimeout(()=>{ee(new Error(`Request timeout after ${x}ms`))},x)});let Y;try{Y=await Promise.race([R,$]),clearTimeout(P),console.log(`[getEnvironmentToken] Successfully received response from controller [correlationId: ${g}]`)}catch(V){throw clearTimeout(P),console.error(`[getEnvironmentToken] Request failed: ${V instanceof Error?V.message:String(V)} [correlationId: ${g}]`),V}const se=Y.data;let Q;se?.data&&typeof se.data=="object"&&se.data!==null&&"data"in se.data&&typeof se.data.data=="object"&&se.data.data!==null&&"token"in se.data.data?Q=se.data.data.token:se?.data&&typeof se.data=="object"&&se.data!==null&&"token"in se.data?Q=se.data.token:se?.token&&typeof se.token=="string"&&(Q=se.token);const K=se?.success===!0||se?.data&&typeof se.data=="object"&&se.data!==null&&"success"in se.data&&se.data.success===!0;if(Y.status>=200&&Y.status<300&&(K||Q!==void 0)&&Q)return console.log(`[getEnvironmentToken] Successfully received token from controller [correlationId: ${g}]`),Q;const W=JSON.stringify({status:Y.status,statusText:Y.statusText,data:Y.data,headers:Y.headers});throw new Error(`Failed to get environment token: Invalid response format. Expected token in response. Full response: ${W} [correlationId: ${g}, clientId: ${d}]`)}catch(v){if(v&&typeof v=="object"&&"name"in v&&v.name==="AbortError"||v&&typeof v=="object"&&"code"in v&&v.code==="ECONNABORTED"||v instanceof Error&&(v.message.includes("aborted")||v.message.includes("timeout"))){const C=(0,l.resolveControllerUrl)(this.config),x=this.config.clientTokenUri||"/api/v1/auth/token";throw console.error(`[getEnvironmentToken] Request aborted/timeout: ${C}${x} [correlationId: ${g}, clientId: ${d}]`,v instanceof Error?v.message:String(v)),new Error(`Failed to get environment token: Request timeout or aborted. Controller: ${C}${x} [correlationId: ${g}, clientId: ${d}]`)}if(v&&typeof v=="object"&&"isAxiosError"in v&&v.isAxiosError){const C=v,x=[];if(C.response)x.push(`status: ${C.response.status}`),x.push(`statusText: ${C.response.statusText}`),x.push(`data: ${JSON.stringify(C.response.data)}`),C.response.headers&&x.push(`headers: ${JSON.stringify(C.response.headers)}`);else if(C.request){const P=(0,l.resolveControllerUrl)(this.config),N=this.config.clientTokenUri||"/api/v1/auth/token";console.error(`[getEnvironmentToken] Controller unreachable or timeout: ${P}${N} [correlationId: ${g}, clientId: ${d}]`,C.message),x.push("request: [Request object - not serializable]"),x.push(`message: ${C.message}`),x.push(`controllerUrl: ${P}`)}else x.push(`message: ${C.message}`);const b=new Error(`Failed to get environment token: ${C.message}. Full response: {${x.join(", ")}} [correlationId: ${g}, clientId: ${d}]`);throw b.cause=C,b}const S=v instanceof Error?v.message:"Unknown error";throw new Error(`Failed to get environment token: ${S} [correlationId: ${g}, clientId: ${d}]`)}}async login(g){const d=this.generateCorrelationId(),v=this.config.clientId;try{const E={redirect:g.redirect};g.state&&(E.state=g.state);const S=this.config.authStrategy,C=await this.apiClient.auth.login({redirect:g.redirect,state:g.state},S);return{success:C.success,data:{loginUrl:C.data.loginUrl,state:C.data.state||""},timestamp:C.timestamp}}catch(E){if(E instanceof a.MisoClientError){const C={statusCode:E.statusCode,message:E.message,errorResponse:E.errorResponse,errorBody:E.errorBody};throw new Error(`Login failed: ${E.message}. Full response: ${JSON.stringify(C)} [correlationId: ${d}, clientId: ${v}]`)}if(E&&typeof E=="object"&&"isAxiosError"in E&&E.isAxiosError){const C=E,x=[];throw C.response?(x.push(`status: ${C.response.status}`),x.push(`statusText: ${C.response.statusText}`),x.push(`data: ${JSON.stringify(C.response.data)}`),C.response.headers&&x.push(`headers: ${JSON.stringify(C.response.headers)}`)):C.request?(x.push("request: [Request object - not serializable]"),x.push(`message: ${C.message}`)):x.push(`message: ${C.message}`),new Error(`Login failed: ${C.message}. Full response: {${x.join(", ")}} [correlationId: ${d}, clientId: ${v}]`)}const S=E instanceof Error?E.message:"Unknown error";throw new Error(`Login failed: ${S} [correlationId: ${d}, clientId: ${v}]`)}}async validateToken(g,d){if(this.isApiKeyToken(g))return!0;try{const v=this.getTokenCacheKey(g),E=await this.cache.get(v);if(E)return E.authenticated;const S=d||this.config.authStrategy,C=S?{...S,bearerToken:g}:{methods:["bearer"],bearerToken:g},b=(await this.apiClient.auth.validateToken({token:g},C)).data?.authenticated||!1,P=this.getCacheTtlFromToken(g);return await this.cache.set(v,{authenticated:b,timestamp:Date.now()},P),b}catch{return!1}}async getUser(g,d){if(this.isApiKeyToken(g))return null;try{const v=d||this.config.authStrategy,E=v?{...v,bearerToken:g}:{methods:["bearer"],bearerToken:g},S=await this.apiClient.auth.validateToken({token:g},E);return S.data?.authenticated&&S.data.user?{id:S.data.user.id,username:S.data.user.username,email:S.data.user.email}:null}catch{return null}}async getUserInfo(g,d){if(this.isApiKeyToken(g))return null;try{const v=d||this.config.authStrategy,E=v?{...v,bearerToken:g}:{methods:["bearer"],bearerToken:g},S=await this.apiClient.auth.getUser(E);return S.data?.authenticated&&S.data.user?{id:S.data.user.id,username:S.data.user.username,email:S.data.user.email}:null}catch{return null}}clearTokenCache(g){try{const d=this.getTokenCacheKey(g);this.cache.delete(d)}catch(d){console.warn("Failed to clear token cache:",d)}}async logout(g){const d=this.generateCorrelationId(),v=this.config.clientId;try{const E=await this.apiClient.auth.logoutWithToken(g.token);return this.clearTokenCache(g.token),E}catch(E){if(E instanceof a.MisoClientError){if(E.statusCode===400){const x={statusCode:E.statusCode,message:E.message,errorResponse:E.errorResponse,errorBody:E.errorBody};return console.warn(`Logout: No active session or invalid request (400). Response: ${JSON.stringify(x)} [correlationId: ${d}, clientId: ${v}]`),this.clearTokenCache(g.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}}const C={statusCode:E.statusCode,message:E.message,errorResponse:E.errorResponse,errorBody:E.errorBody};throw new Error(`Logout failed: ${E.message}. Full response: ${JSON.stringify(C)} [correlationId: ${d}, clientId: ${v}]`)}if(E&&typeof E=="object"&&"isAxiosError"in E&&E.isAxiosError){const C=E;if(C.response?.status===400){const b=C.response.data?JSON.stringify(C.response.data):"No response data";return console.warn(`Logout: No active session or invalid request (400). Response: ${b} [correlationId: ${d}, clientId: ${v}]`),this.clearTokenCache(g.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}}const x=[];throw C.response?(x.push(`status: ${C.response.status}`),x.push(`statusText: ${C.response.statusText}`),x.push(`data: ${JSON.stringify(C.response.data)}`),C.response.headers&&x.push(`headers: ${JSON.stringify(C.response.headers)}`)):C.request?(x.push("request: [Request object - not serializable]"),x.push(`message: ${C.message}`)):x.push(`message: ${C.message}`),new Error(`Logout failed: ${C.message}. Full response: {${x.join(", ")}} [correlationId: ${d}, clientId: ${v}]`)}const S=E instanceof Error?E.message:"Unknown error";throw new Error(`Logout failed: ${S} [correlationId: ${d}, clientId: ${v}]`)}}async refreshToken(g,d){const v=this.generateCorrelationId(),E=this.config.clientId;try{const S=d||this.config.authStrategy,C=await this.apiClient.auth.refreshToken({refreshToken:g},S);return C.data?{success:C.success,accessToken:C.data.accessToken,refreshToken:C.data.refreshToken||g,expiresIn:C.data.expiresIn,expiresAt:C.timestamp,timestamp:C.timestamp}:null}catch(S){if(S instanceof a.MisoClientError){const x={statusCode:S.statusCode,message:S.message,errorResponse:S.errorResponse,errorBody:S.errorBody};return console.error(`Refresh token failed: ${S.message}. Full response: ${JSON.stringify(x)} [correlationId: ${v}, clientId: ${E}]`),null}if(S&&typeof S=="object"&&"isAxiosError"in S&&S.isAxiosError){const x=S,b=[];return x.response?(b.push(`status: ${x.response.status}`),b.push(`statusText: ${x.response.statusText}`),b.push(`data: ${JSON.stringify(x.response.data)}`),x.response.headers&&b.push(`headers: ${JSON.stringify(x.response.headers)}`)):x.request?(b.push("request: [Request object - not serializable]"),b.push(`message: ${x.message}`)):b.push(`message: ${x.message}`),console.error(`Refresh token failed: ${x.message}. Full response: {${b.join(", ")}} [correlationId: ${v}, clientId: ${E}]`),null}const C=S instanceof Error?S.message:"Unknown error";return console.error(`Refresh token failed: ${C} [correlationId: ${v}, clientId: ${E}]`),null}}async isAuthenticated(g,d){return this.validateToken(g,d)}}return Dr.AuthService=p,Dr}var pi={},ho={},dr={},zv;function mn(){if(zv)return dr;zv=1;var r=dr&&dr.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(dr,"__esModule",{value:!0}),dr.isBrowser=n,dr.getLocalStorage=i,dr.setLocalStorage=c,dr.removeLocalStorage=a,dr.extractUserIdFromToken=l,dr.generateCacheKey=f,dr.truncatePayload=p,dr.calculateSize=y,dr.isRetryableError=g,dr.calculateBackoffDelay=d;const s=r(os());function n(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function i(v){if(!n())return null;try{return globalThis.localStorage.getItem(v)}catch{return null}}function c(v,E){if(n())try{globalThis.localStorage.setItem(v,E)}catch{}}function a(v){if(n())try{globalThis.localStorage.removeItem(v)}catch{}}function l(v){try{const E=s.default.decode(v);return E?E.sub||E.userId||E.user_id||E.id:null}catch{return null}}function f(v,E){const S=E?.method||"GET",C=E?.body?JSON.stringify(E.body):"";return`data-client:${S}:${v}:${C}`}function p(v,E){const S=JSON.stringify(v);return S.length<=E?{data:v,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:S.length},truncated:!0}}function y(v){try{return JSON.stringify(v).length}catch{return 0}}function g(v,E){return!v||v>=500||v===408||v===429?!0:(v===401||v===403||v>=400&&v<500,!1)}function d(v,E,S){return Math.min(E*Math.pow(2,v),S)+Math.random()*1e3}return dr}var Bv;function Ri(){if(Bv)return ho;Bv=1;var r=ho&&ho.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ho,"__esModule",{value:!0}),ho.extractClientTokenInfo=c;const s=r(os()),n=mn();function i(a){if((0,n.isBrowser)())try{const l=a.split(".");if(l.length!==3)return null;let f=l[1];for(;f.length%4;)f+="=";return f=f.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(atob(f))}catch(l){return console.warn("[decodeJWT] Browser decode failed:",l),null}else try{return s.default.decode(a)}catch(l){return console.warn("[decodeJWT] Node.js decode failed:",l),null}}function c(a){try{const l=i(a);if(!l||typeof l!="object")return console.warn("[extractClientTokenInfo] Failed to decode client token: Invalid token format"),{};const f={};return l.application&&typeof l.application=="string"?f.application=l.application:l.app&&typeof l.app=="string"&&(f.application=l.app),l.environment&&typeof l.environment=="string"?f.environment=l.environment:l.env&&typeof l.env=="string"?f.environment=l.env:l.environmentKey&&typeof l.environmentKey=="string"&&(f.environment=l.environmentKey),l.applicationId&&typeof l.applicationId=="string"?f.applicationId=l.applicationId:l.app_id&&typeof l.app_id=="string"&&(f.applicationId=l.app_id),l.clientId&&typeof l.clientId=="string"?f.clientId=l.clientId:l.client_id&&typeof l.client_id=="string"&&(f.clientId=l.client_id),Object.keys(f).length===0?(console.log("[extractClientTokenInfo] No standard fields found in token payload"),console.log("[extractClientTokenInfo] Available fields:",Object.keys(l)),console.log("[extractClientTokenInfo] Full payload:",JSON.stringify(l,null,2)),l.iss&&console.log("[extractClientTokenInfo] Token issuer (iss):",l.iss),l.sub&&console.log("[extractClientTokenInfo] Token subject (sub):",l.sub),l.aud&&console.log("[extractClientTokenInfo] Token audience (aud):",l.aud)):(console.log("[extractClientTokenInfo] Successfully extracted token info:",f),f.environment||(console.log("[extractClientTokenInfo] Environment not found. Available payload fields:",Object.keys(l)),console.log("[extractClientTokenInfo] Full payload:",JSON.stringify(l,null,2)))),f}catch(l){return console.warn("[extractClientTokenInfo] Failed to decode client token:",l),l instanceof Error&&console.warn("[extractClientTokenInfo] Error details:",l.message,l.stack),{}}}return ho}var Wv;function Kv(){if(Wv)return pi;Wv=1;var r=pi&&pi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(pi,"__esModule",{value:!0}),pi.RoleService=void 0;const s=r(os()),n=Ri();class i{constructor(a,l,f){this.config=a.config,this.cache=f,this.httpClient=a,this.apiClient=l,this.roleTTL=this.config.cache?.roleTTL||900}extractUserIdFromToken(a){try{const l=s.default.decode(a);return l?l.sub||l.userId||l.user_id||l.id:null}catch{return null}}getEnvironmentFromClientToken(){try{if(this.config.clientToken){const l=(0,n.extractClientTokenInfo)(this.config.clientToken);if(l.environment)return l.environment}const a=this.httpClient.internalClient;if(a){const l=a.clientToken;if(l&&typeof l=="string")return(0,n.extractClientTokenInfo)(l).environment||null}return null}catch(a){return console.warn("Failed to extract environment from client token:",a),null}}async getRoles(a,l){try{let f=this.extractUserIdFromToken(a);const p=f?`roles:${f}`:null;if(p){const x=await this.cache.get(p);if(x)return x.roles||[]}if(!f){const x=l||this.config.authStrategy,b=x?{...x,bearerToken:a}:{methods:["bearer"],bearerToken:a};if(f=(await this.apiClient.auth.validateToken({token:a},b)).data?.user?.id||null,!f)return[]}const y=l||this.config.authStrategy,g=y?{...y,bearerToken:a}:{methods:["bearer"],bearerToken:a},d=this.getEnvironmentFromClientToken(),v=d?{environment:d}:void 0,S=(await this.apiClient.roles.getRoles(v,g)).data?.roles||[],C=`roles:${f}`;return await this.cache.set(C,{roles:S,timestamp:Date.now()},this.roleTTL),S}catch(f){return console.error("Failed to get roles:",f),[]}}async hasRole(a,l,f){return(await this.getRoles(a,f)).includes(l)}async hasAnyRole(a,l,f){const p=await this.getRoles(a,f);return l.some(y=>p.includes(y))}async hasAllRoles(a,l,f){const p=await this.getRoles(a,f);return l.every(y=>p.includes(y))}async refreshRoles(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return[];const d=`roles:${y.data.user.id}`,v=this.getEnvironmentFromClientToken(),E=v?{environment:v}:void 0,C=(await this.apiClient.roles.refreshRoles(E,p)).data?.roles||[];return await this.cache.set(d,{roles:C,timestamp:Date.now()},this.roleTTL),C}catch(f){return console.error("Failed to refresh roles:",f),[]}}}return pi.RoleService=i,pi}var mi={},Gv;function Vv(){if(Gv)return mi;Gv=1;var r=mi&&mi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(mi,"__esModule",{value:!0}),mi.PermissionService=void 0;const s=r(os()),n=Ri();class i{constructor(a,l,f){this.config=a.config,this.cache=f,this.httpClient=a,this.apiClient=l,this.permissionTTL=this.config.cache?.permissionTTL||900}extractUserIdFromToken(a){try{const l=s.default.decode(a);return l?l.sub||l.userId||l.user_id||l.id:null}catch{return null}}getEnvironmentFromClientToken(){try{if(this.config.clientToken){const l=(0,n.extractClientTokenInfo)(this.config.clientToken);if(l.environment)return l.environment}const a=this.httpClient.internalClient;if(a){const l=a.clientToken;if(l&&typeof l=="string")return(0,n.extractClientTokenInfo)(l).environment||null}return null}catch(a){return console.warn("Failed to extract environment from client token:",a),null}}async getPermissions(a,l){try{let f=this.extractUserIdFromToken(a);const p=f?`permissions:${f}`:null;if(p){const x=await this.cache.get(p);if(x)return x.permissions||[]}if(!f){const x=l||this.config.authStrategy,b=x?{...x,bearerToken:a}:{methods:["bearer"],bearerToken:a};if(f=(await this.apiClient.auth.validateToken({token:a},b)).data?.user?.id||null,!f)return[]}const y=l||this.config.authStrategy,g=y?{...y,bearerToken:a}:{methods:["bearer"],bearerToken:a},d=this.getEnvironmentFromClientToken(),v=d?{environment:d}:void 0,S=(await this.apiClient.permissions.getPermissions(v,g)).data?.permissions||[],C=`permissions:${f}`;return await this.cache.set(C,{permissions:S,timestamp:Date.now()},this.permissionTTL),S}catch(f){return console.error("Failed to get permissions:",f),[]}}async hasPermission(a,l,f){return(await this.getPermissions(a,f)).includes(l)}async hasAnyPermission(a,l,f){const p=await this.getPermissions(a,f);return l.some(y=>p.includes(y))}async hasAllPermissions(a,l,f){const p=await this.getPermissions(a,f);return l.every(y=>p.includes(y))}async refreshPermissions(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return[];const d=`permissions:${y.data.user.id}`,v=this.getEnvironmentFromClientToken(),E=v?{environment:v}:void 0,C=(await this.apiClient.permissions.refreshPermissions(E,p)).data?.permissions||[];return await this.cache.set(d,{permissions:C,timestamp:Date.now()},this.permissionTTL),C}catch(f){return console.error("Failed to refresh permissions:",f),[]}}async clearPermissionsCache(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return;const d=`permissions:${y.data.user.id}`;await this.cache.delete(d)}catch(f){console.error("Failed to clear permissions cache:",f)}}}return mi.PermissionService=i,mi}var bh={},ma={};class fu{constructor(){this._events=new Map}on(s,n){return this._events.has(s)||this._events.set(s,[]),this._events.get(s).push(n),this}once(s,n){const i=(...c)=>{this.removeListener(s,i),n(...c)};return this.on(s,i),this}emit(s,...n){const i=this._events.get(s);return i&&i.length>0?(i.forEach(c=>{try{c(...n)}catch(a){console.error("EventEmitter error:",a)}}),!0):!1}removeListener(s,n){const i=this._events.get(s);if(i){const c=i.indexOf(n);c>-1&&i.splice(c,1)}return this}removeAllListeners(s){return s?this._events.delete(s):this._events.clear(),this}off(s,n){return this.removeListener(s,n)}addListener(s,n){return this.on(s,n)}}const _i={EventEmitter:fu};typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=_i,Fe.exports.default=_i,Fe.exports.EventEmitter=fu,Fe.exports.events=_i);typeof tt<"u"&&(tt.default=_i,tt.events=_i,tt.EventEmitter=fu);const HT=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:fu,default:_i,events:_i},Symbol.toStringTag,{value:"Module"}));var ga={},kr={};const Jv={},FT=Object.freeze(Object.defineProperty({__proto__:null,default:Jv,fs:Jv},Symbol.toStringTag,{value:"Module"})),$T=el(FT),Yv={join:(...r)=>r.join("/"),resolve:(...r)=>r.join("/"),dirname:()=>"",basename:()=>"",extname:()=>""},zT=Object.freeze(Object.defineProperty({__proto__:null,default:Yv,path:Yv},Symbol.toStringTag,{value:"Module"})),BT=el(zT),WT="1.0.0",KT="ISO 27001 compliant sensitive fields configuration for data masking",GT={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},VT=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],JT={version:WT,description:KT,categories:GT,fieldPatterns:VT};var Xv;function YT(){if(Xv)return kr;Xv=1;var r={},s=kr&&kr.__createBinding||(Object.create?(function(E,S,C,x){x===void 0&&(x=C);var b=Object.getOwnPropertyDescriptor(S,C);(!b||("get"in b?!S.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(E,x,b)}):(function(E,S,C,x){x===void 0&&(x=C),E[x]=S[C]})),n=kr&&kr.__setModuleDefault||(Object.create?(function(E,S){Object.defineProperty(E,"default",{enumerable:!0,value:S})}):function(E,S){E.default=S}),i=kr&&kr.__importStar||(function(){var E=function(S){return E=Object.getOwnPropertyNames||function(C){var x=[];for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&(x[x.length]=b);return x},E(S)};return function(S){if(S&&S.__esModule)return S;var C={};if(S!=null)for(var x=E(S),b=0;b<x.length;b++)x[b]!=="default"&&s(C,S,x[b]);return n(C,S),C}})(),c=kr&&kr.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(kr,"__esModule",{value:!0}),kr.loadSensitiveFieldsConfig=g,kr.getFieldPatterns=d,kr.getSensitiveFieldsArray=v;const a=i($T),l=i(BT),f=c(JT);function p(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function y(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function g(E){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return p();try{if(E||r.MISO_SENSITIVE_FIELDS_CONFIG){let S;if(E)S=l.isAbsolute(E)?E:l.resolve(process.cwd(),E);else{const N=r.MISO_SENSITIVE_FIELDS_CONFIG;S=l.isAbsolute(N)?N:l.resolve(process.cwd(),N)}if(!a.existsSync(S))return p();const C=a.readFileSync(S,"utf8"),x=JSON.parse(C),b=new Set;return Object.values(x.categories).forEach(N=>{N.forEach(j=>b.add(j.toLowerCase()))}),p().forEach(N=>b.add(N)),b}try{const S=f.default,C=new Set;return Object.values(S.categories).forEach(b=>{b.forEach(P=>C.add(P.toLowerCase()))}),p().forEach(b=>C.add(b)),C}catch{const S=l.join(__dirname,"sensitive-fields.config.json");if(a.existsSync(S)){const C=a.readFileSync(S,"utf8"),x=JSON.parse(C),b=new Set;return Object.values(x.categories).forEach(N=>{N.forEach(j=>b.add(j.toLowerCase()))}),p().forEach(N=>b.add(N)),b}}return p()}catch{return p()}}function d(E){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return y();try{if(E||r.MISO_SENSITIVE_FIELDS_CONFIG){let S;if(E)S=l.isAbsolute(E)?E:l.resolve(process.cwd(),E);else{const b=r.MISO_SENSITIVE_FIELDS_CONFIG;S=l.isAbsolute(b)?b:l.resolve(process.cwd(),b)}if(!a.existsSync(S))return y();const C=a.readFileSync(S,"utf8");return JSON.parse(C).fieldPatterns||y()}try{return f.default.fieldPatterns||y()}catch{const S=l.join(__dirname,"sensitive-fields.config.json");if(a.existsSync(S)){const C=a.readFileSync(S,"utf8");return JSON.parse(C).fieldPatterns||y()}}return y()}catch{return y()}}function v(E){const S=g(E);return Array.from(S)}return kr}var Qv;function qs(){if(Qv)return ga;Qv=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.DataMasker=void 0;const r=YT();class s{static initializeSensitiveFields(i){return this.configPath!==i&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=i),this.cachedFields?this.cachedFields:(this.cachedFields=(0,r.loadSensitiveFieldsConfig)(i),this.cachedFieldPatterns=(0,r.getFieldPatterns)(i),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,r.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(i){this.configPath=i,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(i){const c=this.getSensitiveFields(),a=this.getFieldPatterns(),l=i.toLowerCase().replace(/[_-]/g,"");if(c.has(l))return!0;for(const f of a)if(l.includes(f.toLowerCase()))return!0;return!1}static maskSensitiveData(i){if(i==null||typeof i!="object")return i;if(Array.isArray(i))return i.map(a=>this.maskSensitiveData(a));const c={};for(const[a,l]of Object.entries(i))this.isSensitiveField(a)?c[a]=this.MASKED_VALUE:typeof l=="object"&&l!==null?c[a]=this.maskSensitiveData(l):c[a]=l;return c}static maskValue(i,c=0,a=0){if(!i||i.length<=c+a)return this.MASKED_VALUE;const l=i.substring(0,c),f=i.substring(i.length-a),p="*".repeat(Math.min(8,i.length-c-a));return`${l}${p}${f}`}static containsSensitiveData(i){if(i==null||typeof i!="object")return!1;if(Array.isArray(i))return i.some(c=>this.containsSensitiveData(c));for(const[c,a]of Object.entries(i))if(this.isSensitiveField(c)||typeof a=="object"&&a!==null&&this.containsSensitiveData(a))return!0;return!1}}return ga.DataMasker=s,s.MASKED_VALUE="***MASKED***",s.cachedFields=null,s.cachedFieldPatterns=null,s.configPath=void 0,ga}var ya={},Zv;function XT(){if(Zv)return ya;Zv=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.AuditLogQueue=void 0;class r{constructor(n,i,c,a){this.queue=[],this.flushTimer=null,this.isFlushing=!1,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.httpClient=n,this.redis=i,this.config=c,this.eventEmitter=a;const l=c.audit||{};this.batchSize=l.batchSize??10,this.batchInterval=l.batchInterval??100,typeof process<"u"&&(process.on("SIGINT",()=>this.flush(!0)),process.on("SIGTERM",()=>this.flush(!0)),process.on("beforeExit",()=>this.flush(!0)))}setApiClient(n){this.apiClient=n}async add(n){if(this.queue.push({entry:n,timestamp:Date.now()}),this.queue.length>=this.batchSize){await this.flush(!1);return}!this.flushTimer&&this.queue.length>0&&(this.flushTimer=setTimeout(()=>{this.flush(!1).catch(()=>{})},this.batchInterval))}async flush(n=!1){if(!this.isFlushing&&(this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue.length!==0)){this.isFlushing=!0;try{const i=this.queue.splice(0);if(i.length===0){this.isFlushing=!1;return}const c=i.map(l=>l.entry);if(this.config.emitEvents&&this.eventEmitter){this.eventEmitter.emit("log:batch",c),this.isFlushing=!1;return}if(this.redis.isConnected()){const l=`audit-logs:${this.config.clientId}`;if(await this.redis.rpush(l,JSON.stringify(c))){this.isFlushing=!1;return}}const a=Date.now();if(this.httpLoggingDisabledUntil&&a<this.httpLoggingDisabledUntil)return;try{this.apiClient?await this.apiClient.logs.createBatchLogs({logs:c.map(l=>({...l,environment:void 0,application:void 0}))}):await this.httpClient.request("POST","/api/v1/logs/batch",{logs:c.map(l=>({...l,environment:void 0,application:void 0}))}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch{this.httpLoggingFailures++,this.httpLoggingFailures>=r.MAX_FAILURES&&(this.httpLoggingDisabledUntil=a+r.DISABLE_DURATION_MS,this.httpLoggingFailures=0)}}catch{}finally{this.isFlushing=!1}}}getQueueSize(){return this.queue.length}clear(){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue=[]}}return ya.AuditLogQueue=r,r.MAX_FAILURES=3,r.DISABLE_DURATION_MS=6e4,ya}var va={},po={},ew;function hu(){if(ew)return po;ew=1;var r=po&&po.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(po,"__esModule",{value:!0}),po.extractRequestContext=i;const s=r(os());function n(c){const l=(c.headers||{}).authorization;if(!l?.startsWith("Bearer "))return{};try{const f=l.substring(7),p=s.default.decode(f);return p?{userId:p.sub||p.userId||p.user_id||p.id,sessionId:p.sessionId||p.sid}:{}}catch{return{}}}function i(c){const a=c.headers||{},l=c.ip||a["x-forwarded-for"]?.split(",")[0]?.trim()||c.socket?.remoteAddress,f=a["x-correlation-id"]||a["x-request-id"]||a["request-id"],{userId:p,sessionId:y}=n(c);return{ipAddress:l,method:c.method,path:c.originalUrl||c.path,userAgent:a["user-agent"],correlationId:f,referer:a.referer,userId:p,sessionId:y,requestId:a["x-request-id"],requestSize:a["content-length"]?parseInt(a["content-length"],10):void 0}}return po}var tw;function Q0(){if(tw)return va;tw=1,Object.defineProperty(va,"__esModule",{value:!0}),va.LoggerChain=void 0;const r=hu();class s{constructor(i,c={},a={}){this.logger=i,this.context=c,this.options=a}addContext(i,c){return this.context[i]=c,this}addUser(i){return this.options.userId=i,this}addApplication(i){return this.options.applicationId=i,this}addCorrelation(i){return this.options.correlationId=i,this}withToken(i){return this.options.token=i,this}withoutMasking(){return this.options.maskSensitiveData=!1,this}withIndexedContext(i){return this.options.sourceKey=i.sourceKey,this.options.sourceDisplayName=i.sourceDisplayName,this.options.externalSystemKey=i.externalSystemKey,this.options.externalSystemDisplayName=i.externalSystemDisplayName,this.options.recordKey=i.recordKey,this.options.recordDisplayName=i.recordDisplayName,this}withCredentialContext(i,c){return this.options.credentialId=i,this.options.credentialType=c,this}withRequestMetrics(i,c,a){return this.options.requestSize=i,this.options.responseSize=c,this.options.durationMs=a,this}withRequest(i){const c=(0,r.extractRequestContext)(i);return c.userId&&(this.options.userId=c.userId),c.sessionId&&(this.options.sessionId=c.sessionId),c.correlationId&&(this.options.correlationId=c.correlationId),c.requestId&&(this.options.requestId=c.requestId),c.ipAddress&&(this.options.ipAddress=c.ipAddress),c.userAgent&&(this.options.userAgent=c.userAgent),c.method&&(this.context.method=c.method),c.path&&(this.context.path=c.path),c.referer&&(this.context.referer=c.referer),c.requestSize!==void 0&&(this.context.requestSize=c.requestSize),this}async error(i,c){await this.logger.error(i,this.context,c,this.options)}async info(i){await this.logger.info(i,this.context,this.options)}async audit(i,c){await this.logger.audit(i,c,this.context,this.options)}}return va.LoggerChain=s,va}var jn={},rw;function QT(){if(rw)return jn;rw=1;var r={},s=jn&&jn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(jn,"__esModule",{value:!0}),jn.extractJwtContext=a,jn.extractEnvironmentMetadata=l,jn.getLogWithRequest=f,jn.getWithContext=p,jn.getWithToken=y;const n=s(os()),i=qs(),c=hu();function a(g){if(!g)return{};try{const d=n.default.decode(g);return d?{userId:d.sub||d.userId||d.user_id,applicationId:d.applicationId||d.app_id,sessionId:d.sessionId||d.sid,roles:d.roles||d.realm_access?.roles||[],permissions:d.permissions||d.scope?.split(" ")||[]}:{}}catch{return{}}}function l(){const g={};if(typeof globalThis<"u"&&"window"in globalThis){const d=globalThis,v=d.window?.navigator,E=d.window?.location;g.userAgent=v?.userAgent,g.hostname=E?.hostname}return typeof process<"u"&&r&&(g.hostname=r.HOSTNAME||"unknown"),g}function f(g,d,v="info",E,S,C,x){const b=(0,c.extractRequestContext)(g),P=a(g.headers.authorization?.replace("Bearer ","")),N=l(),j=b.correlationId||C(),U=x&&E?i.DataMasker.maskSensitiveData(E):E;return{timestamp:new Date().toISOString(),level:v,environment:"unknown",application:S.clientId,applicationId:P.applicationId||"",message:d,context:U,correlationId:j,userId:b.userId||P.userId,sessionId:b.sessionId||P.sessionId,requestId:b.requestId,ipAddress:b.ipAddress||N.ipAddress,userAgent:b.userAgent||N.userAgent,...N}}function p(g,d,v="info",E,S,C){const x=l(),b=S(),P=C?i.DataMasker.maskSensitiveData(g):g;return{timestamp:new Date().toISOString(),level:v,environment:"unknown",application:E.clientId,applicationId:"",message:d,context:P,correlationId:b,...x}}function y(g,d,v="info",E,S,C,x){const b=a(g),P=l(),N=C(),j=x&&E?i.DataMasker.maskSensitiveData(E):E;return{timestamp:new Date().toISOString(),level:v,environment:"unknown",application:S.clientId,applicationId:b.applicationId||"",message:d,context:j,correlationId:N,userId:b.userId,sessionId:b.sessionId,...P}}return jn}var nw;function ZT(){if(nw)return ma;nw=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.LoggerService=void 0;const r=HT,s=qs(),n=XT(),i=Q0(),c=QT();class a extends r.EventEmitter{constructor(f,p){super(),this.maskSensitiveData=!0,this.correlationCounter=0,this.auditLogQueue=null,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.config=f.config,this.redis=p,this.httpClient=f;const y=this.config.audit||{};(y.batchSize!==void 0||y.batchInterval!==void 0)&&(this.auditLogQueue=new n.AuditLogQueue(f,p,this.config,this))}setApiClient(f){this.apiClient=f,this.auditLogQueue&&this.auditLogQueue.setApiClient(f)}setMasking(f){this.maskSensitiveData=f}generateCorrelationId(){this.correlationCounter=(this.correlationCounter+1)%1e4;const f=Date.now(),p=Math.random().toString(36).substring(2,8);return`${this.config.clientId.substring(0,10)}-${f}-${this.correlationCounter}-${p}`}async error(f,p,y,g){await this.log("error",f,p,y,g)}async audit(f,p,y,g){const d={action:f,resource:p,...y};await this.log("audit",`Audit: ${f} on ${p}`,d,void 0,g)}async info(f,p,y){await this.log("info",f,p,void 0,y)}async debug(f,p,y){this.config.logLevel==="debug"&&await this.log("debug",f,p,void 0,y)}async log(f,p,y,g,d){const v=d?.token?(0,c.extractJwtContext)(d.token):{},E=(0,c.extractEnvironmentMetadata)(),S=d?.correlationId||this.generateCorrelationId(),x=d?.maskSensitiveData!==!1&&this.maskSensitiveData&&y?s.DataMasker.maskSensitiveData(y):y,b={timestamp:new Date().toISOString(),level:f,environment:"unknown",application:this.config.clientId,applicationId:d?.applicationId||"",message:p,context:x,stackTrace:g,correlationId:S,userId:d?.userId||v.userId,sessionId:d?.sessionId||v.sessionId,requestId:d?.requestId,ipAddress:d?.ipAddress||E.ipAddress,userAgent:d?.userAgent||E.userAgent,...E,sourceKey:d?.sourceKey,sourceDisplayName:d?.sourceDisplayName,externalSystemKey:d?.externalSystemKey,externalSystemDisplayName:d?.externalSystemDisplayName,recordKey:d?.recordKey,recordDisplayName:d?.recordDisplayName,credentialId:d?.credentialId,credentialType:d?.credentialType,requestSize:d?.requestSize,responseSize:d?.responseSize,durationMs:d?.durationMs,errorCategory:d?.errorCategory,httpStatusCategory:d?.httpStatusCategory};if(this.config.emitEvents){this.emit("log",b);return}if(f==="audit"&&this.auditLogQueue){await this.auditLogQueue.add(b);return}if(this.redis.isConnected()){const N=`logs:${this.config.clientId}`;if(await this.redis.rpush(N,JSON.stringify(b)))return}const P=Date.now();if(!(this.httpLoggingDisabledUntil&&P<this.httpLoggingDisabledUntil))try{if(this.apiClient){const N=f==="audit"?"audit":f==="error"?"error":"general",j=f==="audit"?"info":f==="error"?"error":f==="info"?"info":"debug",U={...b.context,userId:b.userId,sessionId:b.sessionId,requestId:b.requestId,ipAddress:b.ipAddress,userAgent:b.userAgent,hostname:b.hostname,applicationId:b.applicationId,sourceKey:b.sourceKey,sourceDisplayName:b.sourceDisplayName,externalSystemKey:b.externalSystemKey,externalSystemDisplayName:b.externalSystemDisplayName,recordKey:b.recordKey,recordDisplayName:b.recordDisplayName,credentialId:b.credentialId,credentialType:b.credentialType,requestSize:b.requestSize,responseSize:b.responseSize,durationMs:b.durationMs,errorCategory:b.errorCategory,httpStatusCategory:b.httpStatusCategory};if(Object.keys(U).forEach(A=>{U[A]===void 0&&delete U[A]}),b.stackTrace&&(U.stackTrace=b.stackTrace),f==="audit"){const A=U.action,I=U.resource,R=U.entityType,$=U.entityId,Y=U.oldValues,se=U.newValues;delete U.action,delete U.resource,delete U.entityType,delete U.entityId,delete U.oldValues,delete U.newValues;const Q=R||(I&&I.startsWith("/api/")?"API Endpoint":"HTTP Request"),K=$||I||"unknown",J=A||"unknown";await this.apiClient.logs.createLog({type:N,data:{level:j,message:b.message,context:U,correlationId:b.correlationId,entityType:Q,entityId:K,action:J,oldValues:Y,newValues:se}})}else await this.apiClient.logs.createLog({type:N,data:{level:j,message:b.message,context:U,correlationId:b.correlationId}})}else await this.httpClient.request("POST","/api/v1/logs",{...b,environment:void 0,application:void 0});this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch(N){N instanceof Error&&(N.message.includes("401")||N.message.includes("Unauthorized")||N.statusCode===401)||(this.httpLoggingFailures++,this.httpLoggingFailures>=a.MAX_FAILURES&&(this.httpLoggingDisabledUntil=P+a.DISABLE_DURATION_MS,this.httpLoggingFailures=0))}}withContext(f){return new i.LoggerChain(this,f)}withToken(f){return new i.LoggerChain(this,{},{token:f})}withoutMasking(){return new i.LoggerChain(this,{},{maskSensitiveData:!1})}getLogWithRequest(f,p,y="info",g){return(0,c.getLogWithRequest)(f,p,y,g,this.config,()=>this.generateCorrelationId(),this.maskSensitiveData)}getWithContext(f,p,y="info"){return(0,c.getWithContext)(f,p,y,this.config,()=>this.generateCorrelationId(),this.maskSensitiveData)}getWithToken(f,p,y="info",g){return(0,c.getWithToken)(f,p,y,g,this.config,()=>this.generateCorrelationId(),this.maskSensitiveData)}getForRequest(f,p,y="info",g){return this.getLogWithRequest(f,p,y,g)}forRequest(f){return new i.LoggerChain(this,{},{}).withRequest(f)}}return ma.LoggerService=a,a.MAX_FAILURES=3,a.DISABLE_DURATION_MS=6e4,ma}var sw;function Hh(){return sw||(sw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.LoggerChain=r.LoggerService=void 0;var s=ZT();Object.defineProperty(r,"LoggerService",{enumerable:!0,get:function(){return s.LoggerService}});var n=Q0();Object.defineProperty(r,"LoggerChain",{enumerable:!0,get:function(){return n.LoggerChain}})})(bh)),bh}var gi={};class vp{constructor(s){this.options=s||{},this.connected=!1}async connect(){return console.warn("[Redis Stub] Redis.connect() called in browser - Redis is server-side only"),this.connected=!0,Promise.resolve()}async disconnect(){return this.connected=!1,Promise.resolve()}async get(s){return null}async set(s,n){return"OK"}async del(s){return 0}async rpush(s,n){return 0}async lpop(s){return null}async exists(s){return 0}async expire(s,n){return 0}async keys(s){return[]}isConnected(){return!1}on(){return this}off(){return this}once(){return Promise.resolve({})}emit(){return!1}}const zc=vp;typeof Fe<"u"&&typeof Fe.exports<"u"&&(Fe.exports=zc,Fe.exports.default=zc,Fe.exports.Redis=vp);const e1=Object.freeze(Object.defineProperty({__proto__:null,Redis:zc,RedisStub:vp,default:zc},Symbol.toStringTag,{value:"Module"}));var iw;function Fh(){if(iw)return gi;iw=1;var r=gi&&gi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gi,"__esModule",{value:!0}),gi.RedisService=void 0;const s=r(e1);class n{constructor(c){this.connected=!1,this.config=c}async connect(){if(this.config)try{this.redis=new s.default({host:this.config.host,port:this.config.port,password:this.config.password,db:this.config.db||0,keyPrefix:this.config.keyPrefix||"miso:",maxRetriesPerRequest:3,lazyConnect:!0,enableReadyCheck:!1,disableClientInfo:!0}),await this.redis.connect(),this.connected=!0}catch(c){throw console.error("Failed to connect to Redis:",c),this.connected=!1,c}}async disconnect(){this.redis&&(await this.redis.disconnect(),this.connected=!1)}async get(c){if(!this.redis||!this.connected)return null;try{return await this.redis.get(c)}catch(a){return console.error("Redis get error:",a),null}}async set(c,a,l){if(!this.redis||!this.connected)return!1;try{return await this.redis.setex(c,l,a),!0}catch(f){return console.error("Redis set error:",f),!1}}async delete(c){if(!this.redis||!this.connected)return!1;try{return await this.redis.del(c),!0}catch(a){return console.error("Redis delete error:",a),!1}}async rpush(c,a){if(!this.redis||!this.connected)return!1;try{return await this.redis.rpush(c,a),!0}catch(l){return console.error("Redis rpush error:",l),!1}}isConnected(){return this.connected}}return gi.RedisService=n,gi}var wa={},ow;function $h(){if(ow)return wa;ow=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.CacheService=void 0;class r{constructor(n){this.memoryCache=new Map,this.redis=n,this.cleanupInterval=setInterval(()=>{this.cleanupExpired()},300*1e3),this.cleanupInterval&&typeof this.cleanupInterval.unref=="function"&&this.cleanupInterval.unref()}cleanupExpired(){const n=Date.now(),i=[];for(const[c,a]of this.memoryCache.entries())a.expiresAt<n&&i.push(c);for(const c of i)this.memoryCache.delete(c)}async get(n){try{if(this.redis&&this.redis.isConnected()){const c=await this.redis.get(n);if(c)try{const a=JSON.parse(c);return this.setInMemory(n,a,300),a}catch(a){return console.warn(`Failed to parse cached data for key ${n}:`,a),await this.delete(n),null}}const i=this.memoryCache.get(n);return i?i.expiresAt<Date.now()?(this.memoryCache.delete(n),null):i.value:null}catch{const c=this.memoryCache.get(n);return c&&c.expiresAt>=Date.now()?c.value:null}}async set(n,i,c){try{const a=JSON.stringify(i);let l=!0;return this.redis&&this.redis.isConnected()&&(l=await this.redis.set(n,a,c)),this.setInMemory(n,i,c),l}catch(a){try{return this.setInMemory(n,i,c),!1}catch{return console.error(`Failed to cache value for key ${n}:`,a),!1}}}setInMemory(n,i,c){const a=Date.now()+c*1e3;this.memoryCache.set(n,{value:i,expiresAt:a})}async delete(n){let i=!1;this.redis&&this.redis.isConnected()&&(i=await this.redis.delete(n));const c=this.memoryCache.delete(n);return i||c}async clear(){this.memoryCache.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=void 0),this.memoryCache.clear()}}return wa.CacheService=r,wa}var Ea={},hn={},kc={},aw;function wp(){if(aw)return kc;aw=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.isErrorResponse=r;function r(s){if(!s||typeof s!="object")return!1;const n=s;return!(!Array.isArray(n.errors)||!n.errors.every(i=>typeof i=="string")||typeof n.type!="string"||typeof n.title!="string"||typeof n.statusCode!="number"||n.instance!==void 0&&typeof n.instance!="string")}return kc}var Sa={},lw;function Z0(){if(lw)return Sa;lw=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.AuthStrategyHandler=void 0;class r{static buildAuthHeaders(n,i,c,a){const l={};for(const f of n.methods)switch(f){case"bearer":if(n.bearerToken)return l.Authorization=`Bearer ${n.bearerToken}`,l;break;case"client-token":if(i)return l["x-client-token"]=i,l;break;case"client-credentials":if(c&&a)return l["x-client-id"]=c,l["x-client-secret"]=a,l;break;case"api-key":if(n.apiKey)return l.Authorization=`Bearer ${n.apiKey}`,l;break}return l}static shouldTryMethod(n,i){if(!i.methods.includes(n))return!1;switch(n){case"bearer":return!!i.bearerToken;case"client-token":return!0;case"client-credentials":return!0;case"api-key":return!!i.apiKey;default:return!1}}static getDefaultStrategy(n){return{methods:["bearer","client-token"],bearerToken:n}}static mergeStrategy(n,i){return n?{methods:n.methods.length>0?n.methods:i.methods,bearerToken:n.bearerToken||i.bearerToken,apiKey:n.apiKey||i.apiKey}:i}}return Sa.AuthStrategyHandler=r,Sa}var Th={},cw;function t1(){return cw||(cw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateErrorResponse=void 0,r.validateSuccessResponse=s,r.validatePaginatedResponse=n,r.getResponseType=c;function s(a){if(!a||typeof a!="object")return!1;const l=a;return!(typeof l.success!="boolean"||typeof l.timestamp!="string"||l.message!==void 0&&typeof l.message!="string")}function n(a){if(!a||typeof a!="object")return!1;const l=a;if(!Array.isArray(l.data)||!l.meta||typeof l.meta!="object")return!1;const f=l.meta;if(typeof f.totalItems!="number"||typeof f.currentPage!="number"||typeof f.pageSize!="number"||typeof f.type!="string")return!1;if(l.links!==void 0){if(typeof l.links!="object"||l.links===null)return!1;const p=l.links;if(p.first!==void 0&&typeof p.first!="string"||p.prev!==void 0&&typeof p.prev!="string"||p.next!==void 0&&typeof p.next!="string"||p.last!==void 0&&typeof p.last!="string")return!1}return!0}var i=wp();Object.defineProperty(r,"validateErrorResponse",{enumerable:!0,get:function(){return i.isErrorResponse}});function c(a){return s(a)?"success":n(a)?"paginated":"unknown"}})(Th)),Th}var uw;function Ep(){if(uw)return hn;uw=1;var r=hn&&hn.__createBinding||(Object.create?(function(g,d,v,E){E===void 0&&(E=v);var S=Object.getOwnPropertyDescriptor(d,v);(!S||("get"in S?!d.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(g,E,S)}):(function(g,d,v,E){E===void 0&&(E=v),g[E]=d[v]})),s=hn&&hn.__setModuleDefault||(Object.create?(function(g,d){Object.defineProperty(g,"default",{enumerable:!0,value:d})}):function(g,d){g.default=d}),n=hn&&hn.__importStar||(function(){var g=function(d){return g=Object.getOwnPropertyNames||function(v){var E=[];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(E[E.length]=S);return E},g(d)};return function(d){if(d&&d.__esModule)return d;var v={};if(d!=null)for(var E=g(d),S=0;S<E.length;S++)E[S]!=="default"&&r(v,d,E[S]);return s(v,d),v}})();Object.defineProperty(hn,"__esModule",{value:!0}),hn.InternalHttpClient=void 0;const i=n(X0()),c=wp(),a=rl(),l=Z0(),f=To(),p=t1();class y{constructor(d){this.clientToken=null,this.tokenExpiresAt=null,this.tokenRefreshPromise=null,this.config=d,d.clientToken&&(this.clientToken=d.clientToken,d.clientTokenExpiresAt&&(this.tokenExpiresAt=typeof d.clientTokenExpiresAt=="string"?new Date(d.clientTokenExpiresAt):d.clientTokenExpiresAt)),this.axios=i.default.create({baseURL:(0,f.resolveControllerUrl)(d),timeout:3e4,headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use(async v=>{if(v.headers=v.headers||{},!v.headers["x-client-token"]&&!v.headers["x-client-id"]){const E=await this.getClientToken();E?v.headers["x-client-token"]=E:console.warn("Client token is not available. Ensure clientSecret or onClientTokenRefresh is configured.")}return v},v=>Promise.reject(v)),this.axios.interceptors.response.use(v=>v,v=>(v.response?.status===401&&(v.message="Authentication failed - token may be invalid",this.clientToken=null,this.tokenExpiresAt=null),Promise.reject(v)))}async getClientToken(){const d=new Date;if(this.clientToken&&this.tokenExpiresAt&&this.tokenExpiresAt>new Date(d.getTime()+6e4))return this.clientToken;if(this.tokenRefreshPromise)return this.tokenRefreshPromise;if(this.config.onClientTokenRefresh){this.tokenRefreshPromise=this.refreshClientTokenFromCallback();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}if(this.config.clientSecret){this.tokenRefreshPromise=this.fetchClientToken();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}return null}async refreshClientTokenFromCallback(){if(!this.config.onClientTokenRefresh)throw new Error("Client token expired and no refresh callback provided");try{const d=await this.config.onClientTokenRefresh();if(this.clientToken=d.token,d.expiresIn){const v=d.expiresIn-30;this.tokenExpiresAt=new Date(Date.now()+v*1e3)}return this.clientToken}catch(d){throw this.clientToken=null,this.tokenExpiresAt=null,d}}generateCorrelationId(){const d=Date.now(),v=Math.random().toString(36).substring(2,8);return`${this.config.clientId.substring(0,10)}-${d}-${v}`}async fetchClientToken(){if(!this.config.clientSecret)throw new Error("Cannot fetch client token: clientSecret is required but not provided");const d=this.generateCorrelationId(),v=this.config.clientId;try{const S=await i.default.create({baseURL:(0,f.resolveControllerUrl)(this.config),timeout:3e4,headers:{"Content-Type":"application/json","x-client-id":this.config.clientId,"x-client-secret":this.config.clientSecret}}).post("/api/v1/auth/token"),C=S.data.data?.token||S.data.token,x=S.data.data?.expiresIn||S.data.expiresIn;if(S.data.success&&C){if(this.clientToken=C,x){const P=x-30;this.tokenExpiresAt=new Date(Date.now()+P*1e3)}return this.clientToken}const b=JSON.stringify({status:S.status,statusText:S.statusText,data:S.data,headers:S.headers});throw new Error(`Failed to get client token: Invalid response format. Expected {success: true, token: string}. Full response: ${b} [correlationId: ${d}, clientId: ${v}]`)}catch(E){if(this.isAxiosError(E)){const C=[];throw E.response?(C.push(`status: ${E.response.status}`),C.push(`statusText: ${E.response.statusText}`),C.push(`data: ${JSON.stringify(E.response.data)}`),E.response.headers&&C.push(`headers: ${JSON.stringify(E.response.headers)}`)):E.request?(C.push(`request: ${JSON.stringify(E.request)}`),C.push(`message: ${E.message}`)):C.push(`message: ${E.message}`),new Error(`Failed to get client token: ${E.message}. Full response: {${C.join(", ")}} [correlationId: ${d}, clientId: ${v}]`)}const S=E instanceof Error?E.message:"Unknown error";throw new Error(`Failed to get client token: ${S} [correlationId: ${d}, clientId: ${v}]`)}}isAxiosError(d){return d instanceof i.AxiosError?!0:typeof d=="object"&&d!==null&&"isAxiosError"in d?d.isAxiosError===!0:!1}validateResponse(d,v){if(this.config.validateResponses===!1||(v.includes("/api/v1/auth/validate")||v.includes("/api/auth/validate"))&&d&&typeof d=="object"&&"data"in d)return!0;const E=(0,p.getResponseType)(d);if(E==="unknown")return console.warn(`Response validation failed for ${v}: Response structure doesn't match expected format.`,"Expected: success response ({success, data?, message?, timestamp}) or paginated response ({data[], meta, links?}).","Actual:",d),!1;if(E==="success"){if(!(0,p.validateSuccessResponse)(d))return console.warn(`Response validation failed for ${v}: Success response structure invalid.`,"Expected: {success: boolean, data?: T, message?: string, timestamp: string}.","Actual:",d),!1}else if(E==="paginated"&&!(0,p.validatePaginatedResponse)(d))return console.warn(`Response validation failed for ${v}: Paginated response structure invalid.`,"Expected: {data: T[], meta: {totalItems, currentPage, pageSize, type}, links?}.","Actual:",d),!1;return!0}parseErrorResponse(d,v){try{if(!d.response?.data)return null;const E=d.response.data;if(typeof E=="object"&&E!==null&&(0,c.isErrorResponse)(E))return{errors:E.errors,type:E.type,title:E.title,statusCode:E.statusCode,instance:E.instance||v};if(typeof E=="string")try{const S=JSON.parse(E);if((0,c.isErrorResponse)(S))return{errors:S.errors,type:S.type,title:S.title,statusCode:S.statusCode,instance:S.instance||v}}catch{return null}return null}catch{return null}}createMisoClientError(d,v){const E=d.response?.status,S=this.parseErrorResponse(d,v);let C;d.response?.data&&typeof d.response.data=="object"&&(C=d.response.data);let x=d.message||"Request failed";return d.response&&(x=d.response.statusText||`Request failed with status code ${E}`),new a.MisoClientError(x,S||void 0,C,E)}getAxiosInstance(){return this.axios}async get(d,v){try{const E=await this.axios.get(d,v),S=E.config?.url||d;return this.validateResponse(E.data,S),E.data}catch(E){if(this.isAxiosError(E)){const S=E.config?.url||d;throw this.createMisoClientError(E,S)}throw E}}async post(d,v,E){try{const S=await this.axios.post(d,v,E),C=S.config?.url||d;return this.validateResponse(S.data,C),S.data}catch(S){if(this.isAxiosError(S)){const C=S.config?.url||d;throw this.createMisoClientError(S,C)}throw S}}async put(d,v,E){try{const S=await this.axios.put(d,v,E),C=S.config?.url||d;return this.validateResponse(S.data,C),S.data}catch(S){if(this.isAxiosError(S)){const C=S.config?.url||d;throw this.createMisoClientError(S,C)}throw S}}async delete(d,v){try{const E=await this.axios.delete(d,v),S=E.config?.url||d;return this.validateResponse(E.data,S),E.data}catch(E){if(this.isAxiosError(E)){const S=E.config?.url||d;throw this.createMisoClientError(E,S)}throw E}}async request(d,v,E,S){switch(d){case"GET":return this.get(v,S);case"POST":return this.post(v,E,S);case"PUT":return this.put(v,E,S);case"DELETE":return this.delete(v,S);default:throw new Error(`Unsupported HTTP method: ${d}`)}}async authenticatedRequest(d,v,E,S,C,x){let b;if(x){const P=await this.getClientToken(),N=l.AuthStrategyHandler.buildAuthHeaders(x,P,this.config.clientId,this.config.clientSecret);b={...C,headers:{...C?.headers,...N}}}else b={...C,headers:{...C?.headers,Authorization:`Bearer ${E}`}};switch(d){case"GET":return this.get(v,b);case"POST":return this.post(v,S,b);case"PUT":return this.put(v,S,b);case"DELETE":return this.delete(v,b);default:throw new Error(`Unsupported HTTP method: ${d}`)}}async requestWithAuthStrategy(d,v,E,S,C){const x=await this.getClientToken(),b=l.AuthStrategyHandler.buildAuthHeaders(E,x,this.config.clientId,this.config.clientSecret),P={...C,headers:{...C?.headers,...b}};switch(d){case"GET":return this.get(v,P);case"POST":return this.post(v,S,P);case"PUT":return this.put(v,S,P);case"DELETE":return this.delete(v,P);default:throw new Error(`Unsupported HTTP method: ${d}`)}}}return hn.InternalHttpClient=y,hn}var yi={},dw;function r1(){if(dw)return yi;dw=1;var r=yi&&yi.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(yi,"__esModule",{value:!0}),yi.extractRequestMetadata=i,yi.extractUserIdFromToken=f;const s=r(os()),n=To();function i(p,y,g){const d=p?.config||y?.config;if(!d)return null;const v=d.metadata;if(!v)return null;const E=c(v,d,g),S=a(d,y),C=l(p,y);return{...E,...S,...C}}function c(p,y,g){const d=Date.now()-p.startTime,v=p.method||"UNKNOWN",E=p.url||"",S=p.baseURL||(0,n.resolveControllerUrl)(g),C=`${S}${E}`,x=y.headers?.authorization,b=f(x);return{config:y,metadata:p,duration:d,method:v,url:E,fullUrl:C,baseURL:S,statusCode:0,authHeader:x,userId:b}}function a(p,y){return{requestHeaders:p.headers||{},requestBody:p.data||y?.config?.data}}function l(p,y){return{statusCode:p?.status||y?.response?.status||0,responseBody:p?.data||y?.response?.data,responseHeaders:p?.headers||y?.response?.headers||{}}}function f(p){if(!p||!p.startsWith("Bearer "))return null;const y=p.substring(7);try{const g=s.default.decode(y);return g?g.sub||g.userId||g.user_id||g.id:null}catch{return null}}return yi}var xa={},Dn={},fw;function n1(){if(fw)return Dn;fw=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.estimateObjectSize=s,Dn.truncateResponseBody=n,Dn.analyzeRequestSizes=i,Dn.truncateBodies=c,Dn.applyMaskingStrategy=a,Dn.applyStandardMasking=l,Dn.applyDetailedMasking=f;const r=qs();function s(d){if(d==null)return 0;if(typeof d=="string")return d.length;if(typeof d!="object")return 10;if(Array.isArray(d)){const S=d.length;if(S===0)return 10;const C=Math.min(3,S);let x=0;for(let P=0;P<C;P++)x+=s(d[P]);const b=C>0?x/C:100;return S*b}const v=Object.entries(d);let E=0;for(const[S,C]of v)E+=S.length+s(C);return E}function n(d,v=1e4){if(d==null)return{data:d,truncated:!1};if(typeof d=="string")return d.length<=v?{data:d,truncated:!1}:{data:d.substring(0,v)+"...",truncated:!0};const E=s(d);return E<=v?{data:d,truncated:!1}:{data:{_message:"Response body too large, truncated for performance",_estimatedSize:E},truncated:!0}}function i(d,v,E){const S=d?s(d):0,C=v?s(v):0,x=S<1024&&C<1024,b=S>E||C>E;return{isSmallRequest:x,isLargeRequest:b}}function c(d,v,E){const{data:S,truncated:C}=n(v,E),{data:x,truncated:b}=d&&s(d)>E?n(d,E):{data:d,truncated:!1};return{requestBody:x,responseBody:S,requestTruncated:b,responseTruncated:C}}async function a(d,v,E,S){const C=i(d.requestBody,d.responseBody,S),x=c(d.requestBody,d.responseBody,E);return v==="standard"?l(d.requestHeaders,d.responseHeaders,x.requestBody,x.responseBody,C.isSmallRequest,C.isLargeRequest,x.requestTruncated,x.responseTruncated):f(d.requestHeaders,d.responseHeaders,x.requestBody,x.responseBody,C.isSmallRequest,C.isLargeRequest,x.requestTruncated,x.responseTruncated)}function l(d,v,E,S,C,x,b,P){const N=r.DataMasker.maskSensitiveData(d),j=r.DataMasker.maskSensitiveData(v);let U,A;return C||!x?(U=r.DataMasker.maskSensitiveData(E),A=r.DataMasker.maskSensitiveData(S)):(U={_message:"Request body too large, masking skipped"},A={_message:"Response body too large, masking skipped"}),{headers:N,requestBody:U,responseBody:A,responseHeaders:j,requestTruncated:b,responseTruncated:P}}async function f(d,v,E,S,C,x,b,P){return x?p(d,v,b,P):C?y(d,v,E,S,b,P):g(d,v,E,S,b,P)}function p(d,v,E,S){return{headers:d,requestBody:{_message:"Request body too large, masking skipped"},responseBody:{_message:"Response body too large, masking skipped"},responseHeaders:v,requestTruncated:E,responseTruncated:S}}function y(d,v,E,S,C,x){return{headers:r.DataMasker.maskSensitiveData(d),requestBody:r.DataMasker.maskSensitiveData(E),responseBody:r.DataMasker.maskSensitiveData(S),responseHeaders:r.DataMasker.maskSensitiveData(v),requestTruncated:C,responseTruncated:x}}async function g(d,v,E,S,C,x){const[b,P,N,j]=await Promise.all([Promise.resolve(r.DataMasker.maskSensitiveData(d)),Promise.resolve(r.DataMasker.maskSensitiveData(E)),Promise.resolve(r.DataMasker.maskSensitiveData(S)),Promise.resolve(r.DataMasker.maskSensitiveData(v))]);return{headers:b,requestBody:P,responseBody:N,responseHeaders:j,requestTruncated:C,responseTruncated:x}}return Dn}var hw;function s1(){if(hw)return xa;hw=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.logHttpRequestAudit=s,xa.calculateRequestSizes=c;const r=n1();async function s(y,g,d,v){try{if(!y)return;const E=d.audit||{},S=E.level||"detailed";if(S==="minimal"){await n(y,g,v);return}await i(y,S,E,g,d,v)}catch{}}async function n(y,g,d){await d.audit(`http.request.${y.method}`,y.url,{method:y.method,url:y.fullUrl,statusCode:y.statusCode,duration:y.duration,userId:y.userId||void 0,error:g?.message||void 0},{token:y.userId?void 0:y.authHeader?.replace("Bearer ","")})}async function i(y,g,d,v,E,S){const C=await(0,r.applyMaskingStrategy)({requestHeaders:y.requestHeaders,requestBody:y.requestBody,responseBody:y.responseBody,responseHeaders:y.responseHeaders},g,d.maxResponseSize??1e4,d.maxMaskingSize??5e4),x=g==="detailed"||g==="full"?c(y.requestBody,y.responseBody):{requestSize:void 0,responseSize:void 0},b=a({method:y.method,fullUrl:y.fullUrl,duration:y.duration,statusCode:y.statusCode,userId:y.userId},x,C,g,v);if(await S.audit(`http.request.${y.method}`,y.url,b,{token:y.userId?void 0:y.authHeader?.replace("Bearer ","")}),E.logLevel==="debug")try{await l(y,C,x,v,S)}catch{}}function c(y,g){let d,v;if(y){const E=JSON.stringify(y),S=Buffer.byteLength(E);d=S<=2?void 0:S}if(g){const E=JSON.stringify(g),S=Buffer.byteLength(E);v=S<=2?void 0:S}return{requestSize:d,responseSize:v}}function a(y,g,d,v,E){const S={method:y.method,url:y.fullUrl,statusCode:y.statusCode,duration:y.duration,userId:y.userId||void 0,error:E?.message||void 0};return(v==="detailed"||v==="full")&&(S.requestSize=g.requestSize!==void 0&&g.requestSize>0?g.requestSize:void 0,S.responseSize=g.responseSize!==void 0&&g.responseSize>0?g.responseSize:void 0,d.requestTruncated&&(S.requestTruncated=!0),d.responseTruncated&&(S.responseTruncated=!0)),S}async function l(y,g,d,v,E){const S=f(g.responseBody),C=p(y,g,d,S,v);await E.debug(`HTTP ${y.method} ${y.url}`,C,{token:y.userId?void 0:y.authHeader?.replace("Bearer ","")})}function f(y){if(!y||typeof y!="object")return y;const g=JSON.stringify(y);if(g.length<=1e3)return y;try{return JSON.parse(g.substring(0,1e3)+"...")}catch{return{_message:"Response body truncated"}}}function p(y,g,d,v,E){return{method:y.method,url:y.fullUrl,baseURL:y.baseURL,statusCode:y.statusCode,duration:y.duration,userId:y.userId||void 0,timeout:y.config.timeout||3e4,requestHeaders:g.headers,responseHeaders:g.responseHeaders,requestBody:g.requestBody,responseBody:v,requestSize:d.requestSize!==void 0&&d.requestSize>0?d.requestSize:void 0,responseSize:d.responseSize!==void 0&&d.responseSize>0?d.responseSize:void 0,error:E?.message||void 0}}return xa}var pw;function zh(){if(pw)return Ea;pw=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.HttpClient=void 0;const r=Ep(),s=qs(),n=r1(),i=s1();class c{constructor(l,f){this.config=l,this.logger=f,this.internalClient=new r.InternalHttpClient(l),l.sensitiveFieldsConfig&&s.DataMasker.setConfigPath(l.sensitiveFieldsConfig),this.setupAuditLogging()}setupAuditLogging(){const l=this.internalClient.getAxiosInstance();l.interceptors.request.use(async f=>(this.shouldAuditRequest(f.url||"")&&(f.metadata={startTime:Date.now(),method:f.method?.toUpperCase(),url:f.url,baseURL:f.baseURL}),f),f=>Promise.reject(f)),l.interceptors.response.use(f=>(setTimeout(()=>{this.logHttpRequestAudit(f,null).catch(()=>{})},0),f),f=>(setTimeout(()=>{this.logHttpRequestAudit(f.response,f).catch(()=>{})},0),Promise.reject(f)))}shouldAuditRequest(l){if(this.config.audit?.enabled===!1)return!1;if(this.config.audit?.skipEndpoints){for(const f of this.config.audit.skipEndpoints)if(l&&l.includes(f))return!1}return!(l&&l.includes("/api/v1/logs")||l&&l.includes("/api/v1/auth/token"))}async logHttpRequestAudit(l,f){try{const p=(0,n.extractRequestMetadata)(l,f,this.config);await(0,i.logHttpRequestAudit)(p,f,this.config,this.logger)}catch{}}async get(l,f){return this.internalClient.get(l,f)}async post(l,f,p){return this.internalClient.post(l,f,p)}async put(l,f,p){return this.internalClient.put(l,f,p)}async delete(l,f){return this.internalClient.delete(l,f)}async request(l,f,p,y){return this.internalClient.request(l,f,p,y)}async authenticatedRequest(l,f,p,y,g,d){return this.internalClient.authenticatedRequest(l,f,p,y,g,d)}async requestWithAuthStrategy(l,f,p,y,g){return this.internalClient.requestWithAuthStrategy(l,f,p,y,g)}async validateTokenRequest(l,f){return this.authenticatedRequest("POST","/api/v1/auth/validate",l,{token:l},void 0,f)}async getWithFilters(l,f,p){const y=f.toQueryString(),g=y?`${l}?${y}`:l;return this.internalClient.get(g,p)}async getPaginated(l,f,p){const y=new URLSearchParams;y.append("page",f.page.toString()),y.append("page_size",f.pageSize.toString());const g=`${l}?${y.toString()}`;return this.internalClient.get(g,p)}}return Ea.HttpClient=c,Ea}var Ca={},ba={},Ta={},_c={},mw;function Lr(){if(mw)return _c;mw=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.logErrorWithContext=r;function r(s,n="[MisoClient]"){const i=s.correlationId||"no-correlation-id",c=[];c.push(`${s.errorName}: ${s.message}`),s.statusCode!==void 0&&c.push(`Status: ${s.statusCode}`),s.endpoint&&s.method?c.push(`Endpoint: ${s.method} ${s.endpoint}`):s.endpoint?c.push(`Endpoint: ${s.endpoint}`):s.method&&c.push(`Method: ${s.method}`);const a=c.join(" | ");console.error(`${n} [${i}] ${a}`),s.responseBody&&console.error(`${n} [${i}] Response Body:`,JSON.stringify(s.responseBody,null,2)),s.stackTrace&&console.error(`${n} [${i}] Stack Trace:`,s.stackTrace),s.originalError&&console.error(`${n} [${i}] Original Error:`,s.originalError)}return _c}var Rc={},pn={},gw;function eE(){if(gw)return pn;gw=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.AuthenticationError=pn.TimeoutError=pn.NetworkError=pn.ApiError=void 0;class r extends Error{constructor(a,l,f,p){super(a),this.name="ApiError",this.statusCode=l,this.response=f,this.originalError=p,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}pn.ApiError=r;class s extends r{constructor(a,l){super(a,0,void 0,l),this.name="NetworkError"}}pn.NetworkError=s;class n extends r{constructor(a,l){super(a,408),this.name="TimeoutError"}}pn.TimeoutError=n;class i extends r{constructor(a,l){super(a,401,l),this.name="AuthenticationError"}}return pn.AuthenticationError=i,pn}var yw;function Mr(){if(yw)return Rc;yw=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.extractErrorInfo=n;const r=rl(),s=eE();function n(i,c){const a={errorType:"Unknown",errorName:"Error",message:"Unknown error",endpoint:c?.endpoint,method:c?.method,correlationId:c?.correlationId};if(i instanceof r.MisoClientError)a.errorType="MisoClientError",a.errorName=i.name,a.message=i.message,a.statusCode=i.statusCode,a.stackTrace=i.stack,i.errorResponse&&"correlationId"in i.errorResponse&&(a.correlationId=a.correlationId||i.errorResponse.correlationId),i.errorResponse?a.responseBody={errors:i.errorResponse.errors,type:i.errorResponse.type,title:i.errorResponse.title,statusCode:i.errorResponse.statusCode,instance:i.errorResponse.instance,correlationId:i.errorResponse.correlationId}:i.errorBody&&(a.responseBody=i.errorBody);else if(i instanceof s.ApiError){if(a.errorType=i.name,a.errorName=i.name,a.message=i.message,a.statusCode=i.statusCode,a.stackTrace=i.stack,a.originalError=i.originalError,i.response)try{a.responseBody={status:i.statusCode,message:i.message}}catch{}}else i instanceof s.AuthenticationError?(a.errorType="AuthenticationError",a.errorName=i.name,a.message=i.message,a.statusCode=401,a.stackTrace=i.stack):i instanceof s.NetworkError?(a.errorType="NetworkError",a.errorName=i.name,a.message=i.message,a.statusCode=0,a.stackTrace=i.stack):i instanceof s.TimeoutError?(a.errorType="TimeoutError",a.errorName=i.name,a.message=i.message,a.statusCode=408,a.stackTrace=i.stack):i instanceof Error?(a.errorType="Error",a.errorName=i.name,a.message=i.message,a.stackTrace=i.stack):(a.errorType="Unknown",a.errorName="UnknownError",a.message=typeof i=="string"?i:i&&typeof i=="object"&&"message"in i?String(i.message):"Unknown error occurred");return a}return Rc}var vw;function i1(){if(vw)return Ta;vw=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.AuthLoginApi=void 0;const r=Lr(),s=Mr();class n{constructor(c){this.httpClient=c}async login(c,a){try{return a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGIN_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGIN_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,s.extractErrorInfo)(l,{endpoint:n.LOGIN_ENDPOINT,method:"GET"});throw(0,r.logErrorWithContext)(f,"[AuthLoginApi]"),l}}async initiateDeviceCode(c,a){try{return a?await this.httpClient.requestWithAuthStrategy("POST",n.LOGIN_ENDPOINT,a,c):await this.httpClient.request("POST",n.LOGIN_ENDPOINT,c)}catch(l){const f=(0,s.extractErrorInfo)(l,{endpoint:n.LOGIN_ENDPOINT,method:"POST"});throw(0,r.logErrorWithContext)(f,"[AuthLoginApi]"),l}}async pollDeviceCodeToken(c){try{return await this.httpClient.request("POST",n.DEVICE_CODE_TOKEN_ENDPOINT,c)}catch(a){const l=(0,s.extractErrorInfo)(a,{endpoint:n.DEVICE_CODE_TOKEN_ENDPOINT,method:"POST"});throw(0,r.logErrorWithContext)(l,"[AuthLoginApi]"),a}}async refreshDeviceCodeToken(c){try{return await this.httpClient.request("POST",n.DEVICE_CODE_REFRESH_ENDPOINT,c)}catch(a){const l=(0,s.extractErrorInfo)(a,{endpoint:n.DEVICE_CODE_REFRESH_ENDPOINT,method:"POST"});throw(0,r.logErrorWithContext)(l,"[AuthLoginApi]"),a}}async getLoginDiagnostics(c){try{const a=c?{environment:c}:void 0;return await this.httpClient.request("GET",n.LOGIN_DIAGNOSTICS_ENDPOINT,void 0,{params:a})}catch(a){const l=(0,s.extractErrorInfo)(a,{endpoint:n.LOGIN_DIAGNOSTICS_ENDPOINT,method:"GET"});throw(0,r.logErrorWithContext)(l,"[AuthLoginApi]"),a}}}return Ta.AuthLoginApi=n,n.LOGIN_ENDPOINT="/api/v1/auth/login",n.DEVICE_CODE_TOKEN_ENDPOINT="/api/v1/auth/login/device/token",n.DEVICE_CODE_REFRESH_ENDPOINT="/api/v1/auth/login/device/refresh",n.LOGIN_DIAGNOSTICS_ENDPOINT="/api/v1/auth/login/diagnostics",Ta}var ka={},ww;function o1(){if(ww)return ka;ww=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.AuthTokenApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async getClientToken(c){try{return c?await this.httpClient.requestWithAuthStrategy("POST",n.CLIENT_TOKEN_ENDPOINT,c):await this.httpClient.request("POST",n.CLIENT_TOKEN_ENDPOINT)}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.CLIENT_TOKEN_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(l,"[AuthTokenApi]"),a}}async generateClientToken(c){try{return c?await this.httpClient.requestWithAuthStrategy("POST",n.CLIENT_TOKEN_LEGACY_ENDPOINT,c):await this.httpClient.request("POST",n.CLIENT_TOKEN_LEGACY_ENDPOINT)}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.CLIENT_TOKEN_LEGACY_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(l,"[AuthTokenApi]"),a}}async validateToken(c,a){try{return await this.httpClient.authenticatedRequest("POST",n.VALIDATE_ENDPOINT,c.token,c,void 0,a)}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.VALIDATE_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(f,"[AuthTokenApi]"),l}}async refreshToken(c,a){try{return a?await this.httpClient.requestWithAuthStrategy("POST",n.REFRESH_ENDPOINT,a,c):await this.httpClient.request("POST",n.REFRESH_ENDPOINT,c)}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.REFRESH_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(f,"[AuthTokenApi]"),l}}}return ka.AuthTokenApi=n,n.CLIENT_TOKEN_ENDPOINT="/api/v1/auth/client-token",n.CLIENT_TOKEN_LEGACY_ENDPOINT="/api/v1/auth/token",n.VALIDATE_ENDPOINT="/api/v1/auth/validate",n.REFRESH_ENDPOINT="/api/v1/auth/refresh",ka}var _a={},Ew;function a1(){if(Ew)return _a;Ew=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.AuthUserApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async getUser(c){try{if(c?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.USER_ENDPOINT,c.bearerToken,void 0,void 0,c);if(c)return await this.httpClient.requestWithAuthStrategy("GET",n.USER_ENDPOINT,c);throw new Error("getUser requires authentication - provide authStrategy with bearerToken")}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.USER_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(l,"[AuthUserApi]"),a}}async logout(){try{return await this.httpClient.request("POST",n.LOGOUT_ENDPOINT)}catch(c){const a=(0,r.extractErrorInfo)(c,{endpoint:n.LOGOUT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(a,"[AuthUserApi]"),c}}async logoutWithToken(c){try{return await this.httpClient.request("POST",n.LOGOUT_ENDPOINT,{token:c})}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.LOGOUT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(l,"[AuthUserApi]"),a}}async handleCallback(c,a){try{return a?await this.httpClient.requestWithAuthStrategy("GET",n.CALLBACK_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.CALLBACK_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.CALLBACK_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[AuthUserApi]"),l}}}return _a.AuthUserApi=n,n.USER_ENDPOINT="/api/v1/auth/user",n.LOGOUT_ENDPOINT="/api/v1/auth/logout",n.CALLBACK_ENDPOINT="/api/v1/auth/callback",_a}var Ra={},Sw;function l1(){if(Sw)return Ra;Sw=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.AuthCacheApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async getCacheStats(c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.CACHE_STATS_ENDPOINT,c.bearerToken,void 0,void 0,c):c?await this.httpClient.requestWithAuthStrategy("GET",n.CACHE_STATS_ENDPOINT,c):await this.httpClient.request("GET",n.CACHE_STATS_ENDPOINT)}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.CACHE_STATS_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(l,"[AuthCacheApi]"),a}}async getCachePerformance(c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.CACHE_PERFORMANCE_ENDPOINT,c.bearerToken,void 0,void 0,c):c?await this.httpClient.requestWithAuthStrategy("GET",n.CACHE_PERFORMANCE_ENDPOINT,c):await this.httpClient.request("GET",n.CACHE_PERFORMANCE_ENDPOINT)}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.CACHE_PERFORMANCE_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(l,"[AuthCacheApi]"),a}}async getCacheEfficiency(c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.CACHE_EFFICIENCY_ENDPOINT,c.bearerToken,void 0,void 0,c):c?await this.httpClient.requestWithAuthStrategy("GET",n.CACHE_EFFICIENCY_ENDPOINT,c):await this.httpClient.request("GET",n.CACHE_EFFICIENCY_ENDPOINT)}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.CACHE_EFFICIENCY_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(l,"[AuthCacheApi]"),a}}async clearCache(c){try{return c?.bearerToken?await this.httpClient.authenticatedRequest("POST",n.CACHE_CLEAR_ENDPOINT,c.bearerToken,void 0,void 0,c):c?await this.httpClient.requestWithAuthStrategy("POST",n.CACHE_CLEAR_ENDPOINT,c):await this.httpClient.request("POST",n.CACHE_CLEAR_ENDPOINT)}catch(a){const l=(0,r.extractErrorInfo)(a,{endpoint:n.CACHE_CLEAR_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(l,"[AuthCacheApi]"),a}}async invalidateCache(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("POST",n.CACHE_INVALIDATE_ENDPOINT,a.bearerToken,c,void 0,a):a?await this.httpClient.requestWithAuthStrategy("POST",n.CACHE_INVALIDATE_ENDPOINT,a,c):await this.httpClient.request("POST",n.CACHE_INVALIDATE_ENDPOINT,c)}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.CACHE_INVALIDATE_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(f,"[AuthCacheApi]"),l}}}return Ra.AuthCacheApi=n,n.CACHE_STATS_ENDPOINT="/api/v1/auth/cache/stats",n.CACHE_PERFORMANCE_ENDPOINT="/api/v1/auth/cache/performance",n.CACHE_EFFICIENCY_ENDPOINT="/api/v1/auth/cache/efficiency",n.CACHE_CLEAR_ENDPOINT="/api/v1/auth/cache/clear",n.CACHE_INVALIDATE_ENDPOINT="/api/v1/auth/cache/invalidate",Ra}var xw;function c1(){if(xw)return ba;xw=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.AuthApi=void 0;const r=i1(),s=o1(),n=a1(),i=l1();class c{constructor(l){this.httpClient=l,this.loginApi=new r.AuthLoginApi(l),this.tokenApi=new s.AuthTokenApi(l),this.userApi=new n.AuthUserApi(l),this.cacheApi=new i.AuthCacheApi(l)}async login(l,f){return this.loginApi.login(l,f)}async initiateDeviceCode(l,f){return this.loginApi.initiateDeviceCode(l,f)}async pollDeviceCodeToken(l){return this.loginApi.pollDeviceCodeToken(l)}async refreshDeviceCodeToken(l){return this.loginApi.refreshDeviceCodeToken(l)}async getLoginDiagnostics(l){return this.loginApi.getLoginDiagnostics(l)}async getClientToken(l){return this.tokenApi.getClientToken(l)}async generateClientToken(l){return this.tokenApi.generateClientToken(l)}async validateToken(l,f){return this.tokenApi.validateToken(l,f)}async refreshToken(l,f){return this.tokenApi.refreshToken(l,f)}async getUser(l){return this.userApi.getUser(l)}async logout(){return this.userApi.logout()}async logoutWithToken(l){return this.userApi.logoutWithToken(l)}async handleCallback(l,f){return this.userApi.handleCallback(l,f)}async getCacheStats(l){return this.cacheApi.getCacheStats(l)}async getCachePerformance(l){return this.cacheApi.getCachePerformance(l)}async getCacheEfficiency(l){return this.cacheApi.getCacheEfficiency(l)}async clearCache(l){return this.cacheApi.clearCache(l)}async invalidateCache(l,f){return this.cacheApi.invalidateCache(l,f)}}return ba.AuthApi=c,ba}var Ia={},Cw;function u1(){if(Cw)return Ia;Cw=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.RolesApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async getRoles(c,a){try{if(a?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.ROLES_ENDPOINT,a.bearerToken,void 0,{params:c},a);if(a)return await this.httpClient.requestWithAuthStrategy("GET",n.ROLES_ENDPOINT,a,void 0,{params:c});throw new Error("getRoles requires authentication - provide authStrategy with bearerToken")}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.ROLES_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[RolesApi]"),l}}async refreshRoles(c,a){try{if(a?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.ROLES_REFRESH_ENDPOINT,a.bearerToken,void 0,{params:c},a);if(a)return await this.httpClient.requestWithAuthStrategy("GET",n.ROLES_REFRESH_ENDPOINT,a,void 0,{params:c});throw new Error("refreshRoles requires authentication - provide authStrategy with bearerToken")}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.ROLES_REFRESH_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[RolesApi]"),l}}}return Ia.RolesApi=n,n.ROLES_ENDPOINT="/api/v1/auth/roles",n.ROLES_REFRESH_ENDPOINT="/api/v1/auth/roles/refresh",Ia}var Aa={},bw;function d1(){if(bw)return Aa;bw=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.PermissionsApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async getPermissions(c,a){try{if(a?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.PERMISSIONS_ENDPOINT,a.bearerToken,void 0,{params:c},a);if(a)return await this.httpClient.requestWithAuthStrategy("GET",n.PERMISSIONS_ENDPOINT,a,void 0,{params:c});throw new Error("getPermissions requires authentication - provide authStrategy with bearerToken")}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.PERMISSIONS_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[PermissionsApi]"),l}}async refreshPermissions(c,a){try{if(a?.bearerToken)return await this.httpClient.authenticatedRequest("GET",n.PERMISSIONS_REFRESH_ENDPOINT,a.bearerToken,void 0,{params:c},a);if(a)return await this.httpClient.requestWithAuthStrategy("GET",n.PERMISSIONS_REFRESH_ENDPOINT,a,void 0,{params:c});throw new Error("refreshPermissions requires authentication - provide authStrategy with bearerToken")}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.PERMISSIONS_REFRESH_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[PermissionsApi]"),l}}}return Aa.PermissionsApi=n,n.PERMISSIONS_ENDPOINT="/api/v1/auth/permissions",n.PERMISSIONS_REFRESH_ENDPOINT="/api/v1/auth/permissions/refresh",Aa}var Na={},Pa={},Tw;function f1(){if(Tw)return Pa;Tw=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.LogsCreateApi=void 0;const r=Mr(),s=Lr(),n=rl();class i{constructor(a){this.httpClient=a}async createLog(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("POST",i.LOGS_ENDPOINT,l.bearerToken,a,void 0,l):l?await this.httpClient.requestWithAuthStrategy("POST",i.LOGS_ENDPOINT,l,a):await this.httpClient.request("POST",i.LOGS_ENDPOINT,a)}catch(f){if(!(f instanceof n.MisoClientError&&f.statusCode===401)){const y=(0,r.extractErrorInfo)(f,{endpoint:i.LOGS_ENDPOINT,method:"POST"});(0,s.logErrorWithContext)(y,"[LogsCreateApi]")}throw f}}async createBatchLogs(a,l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("POST",i.LOGS_BATCH_ENDPOINT,l.bearerToken,a,void 0,l):l?await this.httpClient.requestWithAuthStrategy("POST",i.LOGS_BATCH_ENDPOINT,l,a):await this.httpClient.request("POST",i.LOGS_BATCH_ENDPOINT,a)}catch(f){if(!(f instanceof n.MisoClientError&&f.statusCode===401)){const y=(0,r.extractErrorInfo)(f,{endpoint:i.LOGS_BATCH_ENDPOINT,method:"POST"});(0,s.logErrorWithContext)(y,"[LogsCreateApi]")}throw f}}}return Pa.LogsCreateApi=i,i.LOGS_ENDPOINT="/api/v1/logs",i.LOGS_BATCH_ENDPOINT="/api/v1/logs/batch",Pa}var Oa={},kw;function h1(){if(kw)return Oa;kw=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.LogsListApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async listGeneralLogs(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_GENERAL_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_GENERAL_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_GENERAL_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsListApi]"),l}}async getGeneralLog(c,a,l){try{const f=`${n.LOGS_GENERAL_ENDPOINT}/${c}`,p=a?{environment:a}:void 0;return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",f,l.bearerToken,void 0,{params:p},l):l?await this.httpClient.requestWithAuthStrategy("GET",f,l,void 0,{params:p}):await this.httpClient.request("GET",f,void 0,{params:p})}catch(f){const p=(0,r.extractErrorInfo)(f,{endpoint:n.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(p,"[LogsListApi]"),f}}async listAuditLogs(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_AUDIT_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_AUDIT_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_AUDIT_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:n.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsListApi]"),l}}async getAuditLog(c,a,l){try{const f=`${n.LOGS_AUDIT_ENDPOINT}/${c}`,p=a?{environment:a}:void 0;return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",f,l.bearerToken,void 0,{params:p},l):l?await this.httpClient.requestWithAuthStrategy("GET",f,l,void 0,{params:p}):await this.httpClient.request("GET",f,void 0,{params:p})}catch(f){const p=(0,r.extractErrorInfo)(f,{endpoint:n.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(p,"[LogsListApi]"),f}}async listJobLogs(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_JOBS_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_JOBS_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_JOBS_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsListApi]"),l}}async getJobLog(c,a){try{const l=`${n.LOGS_JOBS_ENDPOINT}/${c}`;return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",l,a.bearerToken,void 0,void 0,a):a?await this.httpClient.requestWithAuthStrategy("GET",l,a):await this.httpClient.request("GET",l)}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsListApi]"),l}}}return Oa.LogsListApi=n,n.LOGS_GENERAL_ENDPOINT="/api/v1/logs/general",n.LOGS_AUDIT_ENDPOINT="/api/v1/logs/audit",n.LOGS_JOBS_ENDPOINT="/api/v1/logs/jobs",Oa}var ja={},_w;function p1(){if(_w)return ja;_w=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.LogsStatsApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async getLogStatsSummary(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_SUMMARY_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_SUMMARY_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_STATS_SUMMARY_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsStatsApi]"),l}}async getErrorStats(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_ERRORS_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_ERRORS_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_STATS_ERRORS_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsStatsApi]"),l}}async getUserActivityStats(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_USERS_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_USERS_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_STATS_USERS_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsStatsApi]"),l}}async getApplicationStats(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_STATS_APPLICATIONS_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_STATS_APPLICATIONS_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_STATS_APPLICATIONS_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsStatsApi]"),l}}}return ja.LogsStatsApi=n,n.LOGS_STATS_SUMMARY_ENDPOINT="/api/v1/logs/stats/summary",n.LOGS_STATS_ERRORS_ENDPOINT="/api/v1/logs/stats/errors",n.LOGS_STATS_USERS_ENDPOINT="/api/v1/logs/stats/users",n.LOGS_STATS_APPLICATIONS_ENDPOINT="/api/v1/logs/stats/applications",ja}var Da={},Rw;function m1(){if(Rw)return Da;Rw=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.LogsExportApi=void 0;const r=Mr(),s=Lr();class n{constructor(c){this.httpClient=c}async exportLogs(c,a){try{return a?.bearerToken?await this.httpClient.authenticatedRequest("GET",n.LOGS_EXPORT_ENDPOINT,a.bearerToken,void 0,{params:c},a):a?await this.httpClient.requestWithAuthStrategy("GET",n.LOGS_EXPORT_ENDPOINT,a,void 0,{params:c}):await this.httpClient.request("GET",n.LOGS_EXPORT_ENDPOINT,void 0,{params:c})}catch(l){const f=(0,r.extractErrorInfo)(l,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsExportApi]"),l}}}return Da.LogsExportApi=n,n.LOGS_EXPORT_ENDPOINT="/api/v1/logs/export",Da}var Iw;function g1(){if(Iw)return Na;Iw=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.LogsApi=void 0;const r=f1(),s=h1(),n=p1(),i=m1();class c{constructor(l){this.httpClient=l,this.create=new r.LogsCreateApi(l),this.list=new s.LogsListApi(l),this.stats=new n.LogsStatsApi(l),this.export=new i.LogsExportApi(l)}async createLog(l,f){return this.create.createLog(l,f)}async createBatchLogs(l,f){return this.create.createBatchLogs(l,f)}async listGeneralLogs(l,f){return this.list.listGeneralLogs(l,f)}async getGeneralLog(l,f,p){return this.list.getGeneralLog(l,f,p)}async listAuditLogs(l,f){return this.list.listAuditLogs(l,f)}async getAuditLog(l,f,p){return this.list.getAuditLog(l,f,p)}async listJobLogs(l,f){return this.list.listJobLogs(l,f)}async getJobLog(l,f){return this.list.getJobLog(l,f)}async getLogStatsSummary(l,f){return this.stats.getLogStatsSummary(l,f)}async getErrorStats(l,f){return this.stats.getErrorStats(l,f)}async getUserActivityStats(l,f){return this.stats.getUserActivityStats(l,f)}async getApplicationStats(l,f){return this.stats.getApplicationStats(l,f)}async exportLogs(l,f){return this.export.exportLogs(l,f)}}return Na.LogsApi=c,Na}var Aw;function tE(){if(Aw)return Ca;Aw=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.ApiClient=void 0;const r=c1(),s=u1(),n=d1(),i=g1();class c{constructor(l){this.auth=new r.AuthApi(l),this.roles=new s.RolesApi(l),this.permissions=new n.PermissionsApi(l),this.logs=new i.LogsApi(l)}}return Ca.ApiClient=c,Ca}var Ic={},Nw;function Bc(){if(Nw)return Ic;Nw=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.validateOrigin=n;function r(i){return i.trim().toLowerCase().replace(/\/$/,"")}function s(i,c){const a=r(i),l=r(c);if(a===l)return!0;if(c.includes(":*"))try{const f=new URL(a),p=new URL(l.replace(":*",""));if(f.protocol===p.protocol&&f.hostname===p.hostname)return!0}catch{}return!1}function n(i,c){if(!c||c.length===0)return{valid:!0};let a=Array.isArray(i.headers.origin)?i.headers.origin[0]:i.headers.origin;if(!a||typeof a!="string"){const f=Array.isArray(i.headers.referer)?i.headers.referer[0]:i.headers.referer;if(f&&typeof f=="string")try{const p=new URL(f);a=`${p.protocol}//${p.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const l=a;for(const f of c)if(s(l,f))return{valid:!0};return{valid:!1,error:`Origin '${l}' is not allowed`}}return Ic}var La={};const Qe=crypto,Rr=r=>r instanceof CryptoKey,rE=async(r,s)=>{const n=`SHA-${r.slice(-3)}`;return new Uint8Array(await Qe.subtle.digest(n,s))},It=new TextEncoder,Jr=new TextDecoder,Wc=2**32;function Ln(...r){const s=r.reduce((c,{length:a})=>c+a,0),n=new Uint8Array(s);let i=0;for(const c of r)n.set(c,i),i+=c.length;return n}function y1(r,s){return Ln(It.encode(r),new Uint8Array([0]),s)}function Bh(r,s,n){if(s<0||s>=Wc)throw new RangeError(`value must be >= 0 and <= ${Wc-1}. Received ${s}`);r.set([s>>>24,s>>>16,s>>>8,s&255],n)}function nE(r){const s=Math.floor(r/Wc),n=r%Wc,i=new Uint8Array(8);return Bh(i,s,0),Bh(i,n,4),i}function Sp(r){const s=new Uint8Array(4);return Bh(s,r),s}function kh(r){return Ln(Sp(r.length),r)}async function v1(r,s,n){const i=Math.ceil((s>>3)/32),c=new Uint8Array(i*32);for(let a=0;a<i;a++){const l=new Uint8Array(4+r.length+n.length);l.set(Sp(a+1)),l.set(r,4),l.set(n,4+r.length),c.set(await rE("sha256",l),a*32)}return c.slice(0,s>>3)}const xp=r=>{let s=r;typeof s=="string"&&(s=It.encode(s));const n=32768,i=[];for(let c=0;c<s.length;c+=n)i.push(String.fromCharCode.apply(null,s.subarray(c,c+n)));return btoa(i.join(""))},jt=r=>xp(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),sE=r=>{const s=atob(r),n=new Uint8Array(s.length);for(let i=0;i<s.length;i++)n[i]=s.charCodeAt(i);return n},Rt=r=>{let s=r;s instanceof Uint8Array&&(s=Jr.decode(s)),s=s.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return sE(s)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Vt extends Error{constructor(s,n){super(s,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}Vt.code="ERR_JOSE_GENERIC";class fr extends Vt{constructor(s,n,i="unspecified",c="unspecified"){super(s,{cause:{claim:i,reason:c,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=i,this.reason=c,this.payload=n}}fr.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class Kc extends Vt{constructor(s,n,i="unspecified",c="unspecified"){super(s,{cause:{claim:i,reason:c,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=i,this.reason=c,this.payload=n}}Kc.code="ERR_JWT_EXPIRED";class Za extends Vt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Za.code="ERR_JOSE_ALG_NOT_ALLOWED";class st extends Vt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}st.code="ERR_JOSE_NOT_SUPPORTED";class xo extends Vt{constructor(s="decryption operation failed",n){super(s,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}xo.code="ERR_JWE_DECRYPTION_FAILED";class Ne extends Vt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}Ne.code="ERR_JWE_INVALID";class lt extends Vt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}lt.code="ERR_JWS_INVALID";class mr extends Vt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}mr.code="ERR_JWT_INVALID";class Cp extends Vt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}Cp.code="ERR_JWK_INVALID";class pu extends Vt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}pu.code="ERR_JWKS_INVALID";class mu extends Vt{constructor(s="no applicable key found in the JSON Web Key Set",n){super(s,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}mu.code="ERR_JWKS_NO_MATCHING_KEY";class bp extends Vt{constructor(s="multiple matching keys found in the JSON Web Key Set",n){super(s,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}bp.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class Tp extends Vt{constructor(s="request timed out",n){super(s,n),this.code="ERR_JWKS_TIMEOUT"}}Tp.code="ERR_JWKS_TIMEOUT";class gu extends Vt{constructor(s="signature verification failed",n){super(s,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}gu.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const w1=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:Za,JOSEError:Vt,JOSENotSupported:st,JWEDecryptionFailed:xo,JWEInvalid:Ne,JWKInvalid:Cp,JWKSInvalid:pu,JWKSMultipleMatchingKeys:bp,JWKSNoMatchingKey:mu,JWKSTimeout:Tp,JWSInvalid:lt,JWSSignatureVerificationFailed:gu,JWTClaimValidationFailed:fr,JWTExpired:Kc,JWTInvalid:mr},Symbol.toStringTag,{value:"Module"})),yu=Qe.getRandomValues.bind(Qe);function iE(r){switch(r){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new st(`Unsupported JWE Algorithm: ${r}`)}}const E1=r=>yu(new Uint8Array(iE(r)>>3)),oE=(r,s)=>{if(s.length<<3!==iE(r))throw new Ne("Invalid Initialization Vector length")},Gc=(r,s)=>{const n=r.byteLength<<3;if(n!==s)throw new Ne(`Invalid Content Encryption Key length. Expected ${s} bits, got ${n} bits`)},S1=(r,s)=>{if(!(r instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(s instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(r.length!==s.length)throw new TypeError("Input buffers must have the same length");const n=r.length;let i=0,c=-1;for(;++c<n;)i|=r[c]^s[c];return i===0};function Gt(r,s="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${s} must be ${r}`)}function ss(r,s){return r.name===s}function Lc(r){return parseInt(r.name.slice(4),10)}function x1(r){switch(r){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function aE(r,s){if(s.length&&!s.some(n=>r.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(s.length>2){const i=s.pop();n+=`one of ${s.join(", ")}, or ${i}.`}else s.length===2?n+=`one of ${s[0]} or ${s[1]}.`:n+=`${s[0]}.`;throw new TypeError(n)}}function C1(r,s,...n){switch(s){case"HS256":case"HS384":case"HS512":{if(!ss(r.algorithm,"HMAC"))throw Gt("HMAC");const i=parseInt(s.slice(2),10);if(Lc(r.algorithm.hash)!==i)throw Gt(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ss(r.algorithm,"RSASSA-PKCS1-v1_5"))throw Gt("RSASSA-PKCS1-v1_5");const i=parseInt(s.slice(2),10);if(Lc(r.algorithm.hash)!==i)throw Gt(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ss(r.algorithm,"RSA-PSS"))throw Gt("RSA-PSS");const i=parseInt(s.slice(2),10);if(Lc(r.algorithm.hash)!==i)throw Gt(`SHA-${i}`,"algorithm.hash");break}case"EdDSA":{if(r.algorithm.name!=="Ed25519"&&r.algorithm.name!=="Ed448")throw Gt("Ed25519 or Ed448");break}case"Ed25519":{if(!ss(r.algorithm,"Ed25519"))throw Gt("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!ss(r.algorithm,"ECDSA"))throw Gt("ECDSA");const i=x1(s);if(r.algorithm.namedCurve!==i)throw Gt(i,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}aE(r,n)}function Ms(r,s,...n){switch(s){case"A128GCM":case"A192GCM":case"A256GCM":{if(!ss(r.algorithm,"AES-GCM"))throw Gt("AES-GCM");const i=parseInt(s.slice(1,4),10);if(r.algorithm.length!==i)throw Gt(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!ss(r.algorithm,"AES-KW"))throw Gt("AES-KW");const i=parseInt(s.slice(1,4),10);if(r.algorithm.length!==i)throw Gt(i,"algorithm.length");break}case"ECDH":{switch(r.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw Gt("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ss(r.algorithm,"PBKDF2"))throw Gt("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!ss(r.algorithm,"RSA-OAEP"))throw Gt("RSA-OAEP");const i=parseInt(s.slice(9),10)||1;if(Lc(r.algorithm.hash)!==i)throw Gt(`SHA-${i}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}aE(r,n)}function lE(r,s,...n){if(n=n.filter(Boolean),n.length>2){const i=n.pop();r+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?r+=`one of type ${n[0]} or ${n[1]}.`:r+=`of type ${n[0]}.`;return s==null?r+=` Received ${s}`:typeof s=="function"&&s.name?r+=` Received function ${s.name}`:typeof s=="object"&&s!=null&&s.constructor?.name&&(r+=` Received an instance of ${s.constructor.name}`),r}const nr=(r,...s)=>lE("Key must be ",r,...s);function cE(r,s,...n){return lE(`Key for the ${r} algorithm must be `,s,...n)}const uE=r=>Rr(r)?!0:r?.[Symbol.toStringTag]==="KeyObject",sr=["CryptoKey"];async function b1(r,s,n,i,c,a){if(!(s instanceof Uint8Array))throw new TypeError(nr(s,"Uint8Array"));const l=parseInt(r.slice(1,4),10),f=await Qe.subtle.importKey("raw",s.subarray(l>>3),"AES-CBC",!1,["decrypt"]),p=await Qe.subtle.importKey("raw",s.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),y=Ln(a,i,n,nE(a.length<<3)),g=new Uint8Array((await Qe.subtle.sign("HMAC",p,y)).slice(0,l>>3));let d;try{d=S1(c,g)}catch{}if(!d)throw new xo;let v;try{v=new Uint8Array(await Qe.subtle.decrypt({iv:i,name:"AES-CBC"},f,n))}catch{}if(!v)throw new xo;return v}async function T1(r,s,n,i,c,a){let l;s instanceof Uint8Array?l=await Qe.subtle.importKey("raw",s,"AES-GCM",!1,["decrypt"]):(Ms(s,r,"decrypt"),l=s);try{return new Uint8Array(await Qe.subtle.decrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},l,Ln(n,c)))}catch{throw new xo}}const dE=async(r,s,n,i,c,a)=>{if(!Rr(s)&&!(s instanceof Uint8Array))throw new TypeError(nr(s,...sr,"Uint8Array"));if(!i)throw new Ne("JWE Initialization Vector missing");if(!c)throw new Ne("JWE Authentication Tag missing");switch(oE(r,i),r){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s instanceof Uint8Array&&Gc(s,parseInt(r.slice(-3),10)),b1(r,s,n,i,c,a);case"A128GCM":case"A192GCM":case"A256GCM":return s instanceof Uint8Array&&Gc(s,parseInt(r.slice(1,4),10)),T1(r,s,n,i,c,a);default:throw new st("Unsupported JWE Content Encryption Algorithm")}},il=(...r)=>{const s=r.filter(Boolean);if(s.length===0||s.length===1)return!0;let n;for(const i of s){const c=Object.keys(i);if(!n||n.size===0){n=new Set(c);continue}for(const a of c){if(n.has(a))return!1;n.add(a)}}return!0};function k1(r){return typeof r=="object"&&r!==null}function At(r){if(!k1(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}const vu=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function fE(r,s){if(r.algorithm.length!==parseInt(s.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${s}`)}function hE(r,s,n){if(Rr(r))return Ms(r,s,n),r;if(r instanceof Uint8Array)return Qe.subtle.importKey("raw",r,"AES-KW",!0,[n]);throw new TypeError(nr(r,...sr,"Uint8Array"))}const Wh=async(r,s,n)=>{const i=await hE(s,r,"wrapKey");fE(i,r);const c=await Qe.subtle.importKey("raw",n,...vu);return new Uint8Array(await Qe.subtle.wrapKey("raw",c,i,"AES-KW"))},Kh=async(r,s,n)=>{const i=await hE(s,r,"unwrapKey");fE(i,r);const c=await Qe.subtle.unwrapKey("raw",n,i,"AES-KW",...vu);return new Uint8Array(await Qe.subtle.exportKey("raw",c))};async function pE(r,s,n,i,c=new Uint8Array(0),a=new Uint8Array(0)){if(!Rr(r))throw new TypeError(nr(r,...sr));if(Ms(r,"ECDH"),!Rr(s))throw new TypeError(nr(s,...sr));Ms(s,"ECDH","deriveBits");const l=Ln(kh(It.encode(n)),kh(c),kh(a),Sp(i));let f;r.algorithm.name==="X25519"?f=256:r.algorithm.name==="X448"?f=448:f=Math.ceil(parseInt(r.algorithm.namedCurve.substr(-3),10)/8)<<3;const p=new Uint8Array(await Qe.subtle.deriveBits({name:r.algorithm.name,public:r},s,f));return v1(p,i,l)}async function _1(r){if(!Rr(r))throw new TypeError(nr(r,...sr));return Qe.subtle.generateKey(r.algorithm,!0,["deriveBits"])}function mE(r){if(!Rr(r))throw new TypeError(nr(r,...sr));return["P-256","P-384","P-521"].includes(r.algorithm.namedCurve)||r.algorithm.name==="X25519"||r.algorithm.name==="X448"}function R1(r){if(!(r instanceof Uint8Array)||r.length<8)throw new Ne("PBES2 Salt Input must be 8 or more octets")}function I1(r,s){if(r instanceof Uint8Array)return Qe.subtle.importKey("raw",r,"PBKDF2",!1,["deriveBits"]);if(Rr(r))return Ms(r,s,"deriveBits","deriveKey"),r;throw new TypeError(nr(r,...sr,"Uint8Array"))}async function gE(r,s,n,i){R1(r);const c=y1(s,r),a=parseInt(s.slice(13,16),10),l={hash:`SHA-${s.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:c},f={length:a,name:"AES-KW"},p=await I1(i,s);if(p.usages.includes("deriveBits"))return new Uint8Array(await Qe.subtle.deriveBits(l,p,a));if(p.usages.includes("deriveKey"))return Qe.subtle.deriveKey(l,p,f,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const A1=async(r,s,n,i=2048,c=yu(new Uint8Array(16)))=>{const a=await gE(c,r,i,s);return{encryptedKey:await Wh(r.slice(-6),a,n),p2c:i,p2s:jt(c)}},N1=async(r,s,n,i,c)=>{const a=await gE(c,r,i,s);return Kh(r.slice(-6),a,n)};function Vc(r){switch(r){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new st(`alg ${r} is not supported either by JOSE or your javascript runtime`)}}const wu=(r,s)=>{if(r.startsWith("RS")||r.startsWith("PS")){const{modulusLength:n}=s.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${r} requires key modulusLength to be 2048 bits or larger`)}},P1=async(r,s,n)=>{if(!Rr(s))throw new TypeError(nr(s,...sr));if(Ms(s,r,"encrypt","wrapKey"),wu(r,s),s.usages.includes("encrypt"))return new Uint8Array(await Qe.subtle.encrypt(Vc(r),s,n));if(s.usages.includes("wrapKey")){const i=await Qe.subtle.importKey("raw",n,...vu);return new Uint8Array(await Qe.subtle.wrapKey("raw",i,s,Vc(r)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},O1=async(r,s,n)=>{if(!Rr(s))throw new TypeError(nr(s,...sr));if(Ms(s,r,"decrypt","unwrapKey"),wu(r,s),s.usages.includes("decrypt"))return new Uint8Array(await Qe.subtle.decrypt(Vc(r),s,n));if(s.usages.includes("unwrapKey")){const i=await Qe.subtle.unwrapKey("raw",n,s,Vc(r),...vu);return new Uint8Array(await Qe.subtle.exportKey("raw",i))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function _o(r){return At(r)&&typeof r.kty=="string"}function j1(r){return r.kty!=="oct"&&typeof r.d=="string"}function D1(r){return r.kty!=="oct"&&typeof r.d>"u"}function L1(r){return _o(r)&&r.kty==="oct"&&typeof r.k=="string"}function M1(r){let s,n;switch(r.kty){case"RSA":{switch(r.alg){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${r.alg.slice(-3)}`},n=r.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.alg.slice(-3)}`},n=r.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(r.alg.slice(-3),10)||1}`},n=r.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new st('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(r.alg){case"ES256":s={name:"ECDSA",namedCurve:"P-256"},n=r.d?["sign"]:["verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},n=r.d?["sign"]:["verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},n=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:"ECDH",namedCurve:r.crv},n=r.d?["deriveBits"]:[];break;default:throw new st('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(r.alg){case"Ed25519":s={name:"Ed25519"},n=r.d?["sign"]:["verify"];break;case"EdDSA":s={name:r.crv},n=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:r.crv},n=r.d?["deriveBits"]:[];break;default:throw new st('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new st('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:s,keyUsages:n}}const yE=async r=>{if(!r.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:s,keyUsages:n}=M1(r),i=[s,r.ext??!1,r.key_ops??n],c={...r};return delete c.alg,delete c.use,Qe.subtle.importKey("jwk",c,...i)},vE=r=>Rt(r);let mo,go;const wE=r=>r?.[Symbol.toStringTag]==="KeyObject",Jc=async(r,s,n,i,c=!1)=>{let a=r.get(s);if(a?.[i])return a[i];const l=await yE({...n,alg:i});return c&&Object.freeze(s),a?a[i]=l:r.set(s,{[i]:l}),l},U1=(r,s)=>{if(wE(r)){let n=r.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?vE(n.k):(go||(go=new WeakMap),Jc(go,r,n,s))}return _o(r)?r.k?Rt(r.k):(go||(go=new WeakMap),Jc(go,r,r,s,!0)):r},q1=(r,s)=>{if(wE(r)){let n=r.export({format:"jwk"});return n.k?vE(n.k):(mo||(mo=new WeakMap),Jc(mo,r,n,s))}return _o(r)?r.k?Rt(r.k):(mo||(mo=new WeakMap),Jc(mo,r,r,s,!0)):r},Yc={normalizePublicKey:U1,normalizePrivateKey:q1};function kp(r){switch(r){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new st(`Unsupported JWE Algorithm: ${r}`)}}const bi=r=>yu(new Uint8Array(kp(r)>>3)),EE=(r,s)=>{const n=(r.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${s}-----
${n}
-----END ${s}-----`},SE=async(r,s,n)=>{if(!Rr(n))throw new TypeError(nr(n,...sr));if(!n.extractable)throw new TypeError("CryptoKey is not extractable");if(n.type!==r)throw new TypeError(`key is not a ${r} key`);return EE(xp(new Uint8Array(await Qe.subtle.exportKey(s,n))),`${r.toUpperCase()} KEY`)},H1=r=>SE("public","spki",r),F1=r=>SE("private","pkcs8",r),Ds=(r,s,n=0)=>{n===0&&(s.unshift(s.length),s.unshift(6));const i=r.indexOf(s[0],n);if(i===-1)return!1;const c=r.subarray(i,i+s.length);return c.length!==s.length?!1:c.every((a,l)=>a===s[l])||Ds(r,s,i+1)},Pw=r=>{switch(!0){case Ds(r,[42,134,72,206,61,3,1,7]):return"P-256";case Ds(r,[43,129,4,0,34]):return"P-384";case Ds(r,[43,129,4,0,35]):return"P-521";case Ds(r,[43,101,110]):return"X25519";case Ds(r,[43,101,111]):return"X448";case Ds(r,[43,101,112]):return"Ed25519";case Ds(r,[43,101,113]):return"Ed448";default:throw new st("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},xE=async(r,s,n,i,c)=>{let a,l;const f=new Uint8Array(atob(n.replace(r,"")).split("").map(y=>y.charCodeAt(0))),p=s==="spki";switch(i){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},l=p?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},l=p?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},l=p?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":a={name:"ECDSA",namedCurve:"P-256"},l=p?["verify"]:["sign"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},l=p?["verify"]:["sign"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},l=p?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const y=Pw(f);a=y.startsWith("P-")?{name:"ECDH",namedCurve:y}:{name:y},l=p?[]:["deriveBits"];break}case"Ed25519":a={name:"Ed25519"},l=p?["verify"]:["sign"];break;case"EdDSA":a={name:Pw(f)},l=p?["verify"]:["sign"];break;default:throw new st('Invalid or unsupported "alg" (Algorithm) value')}return Qe.subtle.importKey(s,f,a,c?.extractable??!1,l)},$1=(r,s,n)=>xE(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",r,s,n),CE=(r,s,n)=>xE(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",r,s,n);function Ow(r){const s=[];let n=0;for(;n<r.length;){const i=bE(r.subarray(n));s.push(i),n+=i.byteLength}return s}function bE(r){let s=0,n=r[0]&31;if(s++,n===31){for(n=0;r[s]>=128;)n=n*128+r[s]-128,s++;n=n*128+r[s]-128,s++}let i=0;if(r[s]<128)i=r[s],s++;else if(i===128){for(i=0;r[s+i]!==0||r[s+i+1]!==0;){if(i>r.byteLength)throw new TypeError("invalid indefinite form length");i++}const a=s+i+2;return{byteLength:a,contents:r.subarray(s,s+i),raw:r.subarray(0,a)}}else{const a=r[s]&127;s++,i=0;for(let l=0;l<a;l++)i=i*256+r[s],s++}const c=s+i;return{byteLength:c,contents:r.subarray(s,c),raw:r.subarray(0,c)}}function z1(r){const s=Ow(Ow(bE(r).contents)[0].contents);return xp(s[s[0].raw[0]===160?6:5].raw)}function B1(r){const s=r.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),n=sE(s);return EE(z1(n),"PUBLIC KEY")}const W1=(r,s,n)=>{let i;try{i=B1(r)}catch(c){throw new TypeError("Failed to parse the X.509 certificate",{cause:c})}return CE(i,s,n)};async function K1(r,s,n){if(typeof r!="string"||r.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return CE(r,s,n)}async function G1(r,s,n){if(typeof r!="string"||r.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return W1(r,s,n)}async function V1(r,s,n){if(typeof r!="string"||r.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return $1(r,s,n)}async function ol(r,s){if(!At(r))throw new TypeError("JWK must be an object");switch(s||(s=r.alg),r.kty){case"oct":if(typeof r.k!="string"||!r.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Rt(r.k);case"RSA":if("oth"in r&&r.oth!==void 0)throw new st('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return yE({...r,alg:s});default:throw new st('Unsupported "kty" (Key Type) Parameter value')}}const Eo=r=>r?.[Symbol.toStringTag],Gh=(r,s,n)=>{if(s.use!==void 0&&s.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(s.key_ops!==void 0&&s.key_ops.includes?.(n)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(s.alg!==void 0&&s.alg!==r)throw new TypeError(`Invalid key for this operation, when present its alg must be ${r}`);return!0},J1=(r,s,n,i)=>{if(!(s instanceof Uint8Array)){if(i&&_o(s)){if(L1(s)&&Gh(r,s,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!uE(s))throw new TypeError(cE(r,s,...sr,"Uint8Array",i?"JSON Web Key":null));if(s.type!=="secret")throw new TypeError(`${Eo(s)} instances for symmetric algorithms must be of type "secret"`)}},Y1=(r,s,n,i)=>{if(i&&_o(s))switch(n){case"sign":if(j1(s)&&Gh(r,s,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(D1(s)&&Gh(r,s,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!uE(s))throw new TypeError(cE(r,s,...sr,i?"JSON Web Key":null));if(s.type==="secret")throw new TypeError(`${Eo(s)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&s.type==="public")throw new TypeError(`${Eo(s)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&s.type==="public")throw new TypeError(`${Eo(s)} instances for asymmetric algorithm decryption must be of type "private"`);if(s.algorithm&&n==="verify"&&s.type==="private")throw new TypeError(`${Eo(s)} instances for asymmetric algorithm verifying must be of type "public"`);if(s.algorithm&&n==="encrypt"&&s.type==="private")throw new TypeError(`${Eo(s)} instances for asymmetric algorithm encryption must be of type "public"`)};function TE(r,s,n,i){s.startsWith("HS")||s==="dir"||s.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(s)?J1(s,n,i,r):Y1(s,n,i,r)}const kE=TE.bind(void 0,!1),Vh=TE.bind(void 0,!0);async function X1(r,s,n,i,c){if(!(n instanceof Uint8Array))throw new TypeError(nr(n,"Uint8Array"));const a=parseInt(r.slice(1,4),10),l=await Qe.subtle.importKey("raw",n.subarray(a>>3),"AES-CBC",!1,["encrypt"]),f=await Qe.subtle.importKey("raw",n.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),p=new Uint8Array(await Qe.subtle.encrypt({iv:i,name:"AES-CBC"},l,s)),y=Ln(c,i,p,nE(c.length<<3)),g=new Uint8Array((await Qe.subtle.sign("HMAC",f,y)).slice(0,a>>3));return{ciphertext:p,tag:g,iv:i}}async function Q1(r,s,n,i,c){let a;n instanceof Uint8Array?a=await Qe.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(Ms(n,r,"encrypt"),a=n);const l=new Uint8Array(await Qe.subtle.encrypt({additionalData:c,iv:i,name:"AES-GCM",tagLength:128},a,s)),f=l.slice(-16);return{ciphertext:l.slice(0,-16),tag:f,iv:i}}const _E=async(r,s,n,i,c)=>{if(!Rr(n)&&!(n instanceof Uint8Array))throw new TypeError(nr(n,...sr,"Uint8Array"));switch(i?oE(r,i):i=E1(r),r){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&Gc(n,parseInt(r.slice(-3),10)),X1(r,s,n,i,c);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&Gc(n,parseInt(r.slice(1,4),10)),Q1(r,s,n,i,c);default:throw new st("Unsupported JWE Content Encryption Algorithm")}};async function Z1(r,s,n,i){const c=r.slice(0,7),a=await _E(c,n,s,i,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:jt(a.iv),tag:jt(a.tag)}}async function ek(r,s,n,i,c){const a=r.slice(0,7);return dE(a,s,n,i,c,new Uint8Array(0))}async function tk(r,s,n,i,c){switch(kE(r,s,"decrypt"),s=await Yc.normalizePrivateKey?.(s,r)||s,r){case"dir":{if(n!==void 0)throw new Ne("Encountered unexpected JWE Encrypted Key");return s}case"ECDH-ES":if(n!==void 0)throw new Ne("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!At(i.epk))throw new Ne('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!mE(s))throw new st("ECDH with the provided key is not allowed or not supported by your javascript runtime");const a=await ol(i.epk,r);let l,f;if(i.apu!==void 0){if(typeof i.apu!="string")throw new Ne('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{l=Rt(i.apu)}catch{throw new Ne("Failed to base64url decode the apu")}}if(i.apv!==void 0){if(typeof i.apv!="string")throw new Ne('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=Rt(i.apv)}catch{throw new Ne("Failed to base64url decode the apv")}}const p=await pE(a,s,r==="ECDH-ES"?i.enc:r,r==="ECDH-ES"?kp(i.enc):parseInt(r.slice(-5,-2),10),l,f);if(r==="ECDH-ES")return p;if(n===void 0)throw new Ne("JWE Encrypted Key missing");return Kh(r.slice(-6),p,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(n===void 0)throw new Ne("JWE Encrypted Key missing");return O1(r,s,n)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(n===void 0)throw new Ne("JWE Encrypted Key missing");if(typeof i.p2c!="number")throw new Ne('JOSE Header "p2c" (PBES2 Count) missing or invalid');const a=c?.maxPBES2Count||1e4;if(i.p2c>a)throw new Ne('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof i.p2s!="string")throw new Ne('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let l;try{l=Rt(i.p2s)}catch{throw new Ne("Failed to base64url decode the p2s")}return N1(r,s,n,i.p2c,l)}case"A128KW":case"A192KW":case"A256KW":{if(n===void 0)throw new Ne("JWE Encrypted Key missing");return Kh(r,s,n)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(n===void 0)throw new Ne("JWE Encrypted Key missing");if(typeof i.iv!="string")throw new Ne('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof i.tag!="string")throw new Ne('JOSE Header "tag" (Authentication Tag) missing or invalid');let a;try{a=Rt(i.iv)}catch{throw new Ne("Failed to base64url decode the iv")}let l;try{l=Rt(i.tag)}catch{throw new Ne("Failed to base64url decode the tag")}return ek(r,s,n,a,l)}default:throw new st('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function al(r,s,n,i,c){if(c.crit!==void 0&&i?.crit===void 0)throw new r('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(l=>typeof l!="string"||l.length===0))throw new r('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...s.entries()]):a=s;for(const l of i.crit){if(!a.has(l))throw new st(`Extension Header Parameter "${l}" is not recognized`);if(c[l]===void 0)throw new r(`Extension Header Parameter "${l}" is missing`);if(a.get(l)&&i[l]===void 0)throw new r(`Extension Header Parameter "${l}" MUST be integrity protected`)}return new Set(i.crit)}const Jh=(r,s)=>{if(s!==void 0&&(!Array.isArray(s)||s.some(n=>typeof n!="string")))throw new TypeError(`"${r}" option must be an array of strings`);if(s)return new Set(s)};async function _p(r,s,n){if(!At(r))throw new Ne("Flattened JWE must be an object");if(r.protected===void 0&&r.header===void 0&&r.unprotected===void 0)throw new Ne("JOSE Header missing");if(r.iv!==void 0&&typeof r.iv!="string")throw new Ne("JWE Initialization Vector incorrect type");if(typeof r.ciphertext!="string")throw new Ne("JWE Ciphertext missing or incorrect type");if(r.tag!==void 0&&typeof r.tag!="string")throw new Ne("JWE Authentication Tag incorrect type");if(r.protected!==void 0&&typeof r.protected!="string")throw new Ne("JWE Protected Header incorrect type");if(r.encrypted_key!==void 0&&typeof r.encrypted_key!="string")throw new Ne("JWE Encrypted Key incorrect type");if(r.aad!==void 0&&typeof r.aad!="string")throw new Ne("JWE AAD incorrect type");if(r.header!==void 0&&!At(r.header))throw new Ne("JWE Shared Unprotected Header incorrect type");if(r.unprotected!==void 0&&!At(r.unprotected))throw new Ne("JWE Per-Recipient Unprotected Header incorrect type");let i;if(r.protected)try{const N=Rt(r.protected);i=JSON.parse(Jr.decode(N))}catch{throw new Ne("JWE Protected Header is invalid")}if(!il(i,r.header,r.unprotected))throw new Ne("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const c={...i,...r.header,...r.unprotected};if(al(Ne,new Map,n?.crit,i,c),c.zip!==void 0)throw new st('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:a,enc:l}=c;if(typeof a!="string"||!a)throw new Ne("missing JWE Algorithm (alg) in JWE Header");if(typeof l!="string"||!l)throw new Ne("missing JWE Encryption Algorithm (enc) in JWE Header");const f=n&&Jh("keyManagementAlgorithms",n.keyManagementAlgorithms),p=n&&Jh("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(f&&!f.has(a)||!f&&a.startsWith("PBES2"))throw new Za('"alg" (Algorithm) Header Parameter value not allowed');if(p&&!p.has(l))throw new Za('"enc" (Encryption Algorithm) Header Parameter value not allowed');let y;if(r.encrypted_key!==void 0)try{y=Rt(r.encrypted_key)}catch{throw new Ne("Failed to base64url decode the encrypted_key")}let g=!1;typeof s=="function"&&(s=await s(i,r),g=!0);let d;try{d=await tk(a,s,y,c,n)}catch(N){if(N instanceof TypeError||N instanceof Ne||N instanceof st)throw N;d=bi(l)}let v,E;if(r.iv!==void 0)try{v=Rt(r.iv)}catch{throw new Ne("Failed to base64url decode the iv")}if(r.tag!==void 0)try{E=Rt(r.tag)}catch{throw new Ne("Failed to base64url decode the tag")}const S=It.encode(r.protected??"");let C;r.aad!==void 0?C=Ln(S,It.encode("."),It.encode(r.aad)):C=S;let x;try{x=Rt(r.ciphertext)}catch{throw new Ne("Failed to base64url decode the ciphertext")}const P={plaintext:await dE(l,d,x,v,E,C)};if(r.protected!==void 0&&(P.protectedHeader=i),r.aad!==void 0)try{P.additionalAuthenticatedData=Rt(r.aad)}catch{throw new Ne("Failed to base64url decode the aad")}return r.unprotected!==void 0&&(P.sharedUnprotectedHeader=r.unprotected),r.header!==void 0&&(P.unprotectedHeader=r.header),g?{...P,key:s}:P}async function RE(r,s,n){if(r instanceof Uint8Array&&(r=Jr.decode(r)),typeof r!="string")throw new Ne("Compact JWE must be a string or Uint8Array");const{0:i,1:c,2:a,3:l,4:f,length:p}=r.split(".");if(p!==5)throw new Ne("Invalid Compact JWE");const y=await _p({ciphertext:l,iv:a||void 0,protected:i,tag:f||void 0,encrypted_key:c||void 0},s,n),g={plaintext:y.plaintext,protectedHeader:y.protectedHeader};return typeof s=="function"?{...g,key:y.key}:g}async function rk(r,s,n){if(!At(r))throw new Ne("General JWE must be an object");if(!Array.isArray(r.recipients)||!r.recipients.every(At))throw new Ne("JWE Recipients missing or incorrect type");if(!r.recipients.length)throw new Ne("JWE Recipients has no members");for(const i of r.recipients)try{return await _p({aad:r.aad,ciphertext:r.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:r.iv,protected:r.protected,tag:r.tag,unprotected:r.unprotected},s,n)}catch{}throw new xo}const IE=Symbol(),nk=async r=>{if(r instanceof Uint8Array)return{kty:"oct",k:jt(r)};if(!Rr(r))throw new TypeError(nr(r,...sr,"Uint8Array"));if(!r.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:s,key_ops:n,alg:i,use:c,...a}=await Qe.subtle.exportKey("jwk",r);return a};async function sk(r){return H1(r)}async function ik(r){return F1(r)}async function AE(r){return nk(r)}async function NE(r,s,n,i,c={}){let a,l,f;switch(kE(r,n,"encrypt"),n=await Yc.normalizePublicKey?.(n,r)||n,r){case"dir":{f=n;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!mE(n))throw new st("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:p,apv:y}=c;let{epk:g}=c;g||(g=(await _1(n)).privateKey);const{x:d,y:v,crv:E,kty:S}=await AE(g),C=await pE(n,g,r==="ECDH-ES"?s:r,r==="ECDH-ES"?kp(s):parseInt(r.slice(-5,-2),10),p,y);if(l={epk:{x:d,crv:E,kty:S}},S==="EC"&&(l.epk.y=v),p&&(l.apu=jt(p)),y&&(l.apv=jt(y)),r==="ECDH-ES"){f=C;break}f=i||bi(s);const x=r.slice(-6);a=await Wh(x,C,f);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{f=i||bi(s),a=await P1(r,n,f);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{f=i||bi(s);const{p2c:p,p2s:y}=c;({encryptedKey:a,...l}=await A1(r,n,f,p,y));break}case"A128KW":case"A192KW":case"A256KW":{f=i||bi(s),a=await Wh(r,n,f);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{f=i||bi(s);const{iv:p}=c;({encryptedKey:a,...l}=await Z1(r,n,f,p));break}default:throw new st('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:f,encryptedKey:a,parameters:l}}class Xc{constructor(s){if(!(s instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=s}setKeyManagementParameters(s){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=s,this}setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setSharedUnprotectedHeader(s){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=s,this}setUnprotectedHeader(s){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=s,this}setAdditionalAuthenticatedData(s){return this._aad=s,this}setContentEncryptionKey(s){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=s,this}setInitializationVector(s){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=s,this}async encrypt(s,n){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new Ne("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!il(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new Ne("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(al(Ne,new Map,n?.crit,this._protectedHeader,i),i.zip!==void 0)throw new st('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:c,enc:a}=i;if(typeof c!="string"||!c)throw new Ne('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof a!="string"||!a)throw new Ne('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let l;if(this._cek&&(c==="dir"||c==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);let f;{let C;({cek:f,encryptedKey:l,parameters:C}=await NE(c,a,s,this._cek,this._keyManagementParameters)),C&&(n&&IE in n?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...C}:this.setUnprotectedHeader(C):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...C}:this.setProtectedHeader(C))}let p,y,g;this._protectedHeader?y=It.encode(jt(JSON.stringify(this._protectedHeader))):y=It.encode(""),this._aad?(g=jt(this._aad),p=Ln(y,It.encode("."),It.encode(g))):p=y;const{ciphertext:d,tag:v,iv:E}=await _E(a,this._plaintext,f,this._iv,p),S={ciphertext:jt(d)};return E&&(S.iv=jt(E)),v&&(S.tag=jt(v)),l&&(S.encrypted_key=jt(l)),g&&(S.aad=g),this._protectedHeader&&(S.protected=Jr.decode(y)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}}class ok{constructor(s,n,i){this.parent=s,this.key=n,this.options=i}setUnprotectedHeader(s){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=s,this}addRecipient(...s){return this.parent.addRecipient(...s)}encrypt(...s){return this.parent.encrypt(...s)}done(){return this.parent}}class ak{constructor(s){this._recipients=[],this._plaintext=s}addRecipient(s,n){const i=new ok(this,s,{crit:n?.crit});return this._recipients.push(i),i}setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setSharedUnprotectedHeader(s){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=s,this}setAdditionalAuthenticatedData(s){return this._aad=s,this}async encrypt(){if(!this._recipients.length)throw new Ne("at least one recipient must be added");if(this._recipients.length===1){const[c]=this._recipients,a=await new Xc(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).encrypt(c.key,{...c.options}),l={ciphertext:a.ciphertext,iv:a.iv,recipients:[{}],tag:a.tag};return a.aad&&(l.aad=a.aad),a.protected&&(l.protected=a.protected),a.unprotected&&(l.unprotected=a.unprotected),a.encrypted_key&&(l.recipients[0].encrypted_key=a.encrypted_key),a.header&&(l.recipients[0].header=a.header),l}let s;for(let c=0;c<this._recipients.length;c++){const a=this._recipients[c];if(!il(this._protectedHeader,this._unprotectedHeader,a.unprotectedHeader))throw new Ne("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const l={...this._protectedHeader,...this._unprotectedHeader,...a.unprotectedHeader},{alg:f}=l;if(typeof f!="string"||!f)throw new Ne('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(f==="dir"||f==="ECDH-ES")throw new Ne('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof l.enc!="string"||!l.enc)throw new Ne('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!s)s=l.enc;else if(s!==l.enc)throw new Ne('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(al(Ne,new Map,a.options.crit,this._protectedHeader,l),l.zip!==void 0)throw new st('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const n=bi(s),i={ciphertext:"",iv:"",recipients:[],tag:""};for(let c=0;c<this._recipients.length;c++){const a=this._recipients[c],l={};i.recipients.push(l);const p={...this._protectedHeader,...this._unprotectedHeader,...a.unprotectedHeader}.alg.startsWith("PBES2")?2048+c:void 0;if(c===0){const d=await new Xc(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(n).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(a.unprotectedHeader).setKeyManagementParameters({p2c:p}).encrypt(a.key,{...a.options,[IE]:!0});i.ciphertext=d.ciphertext,i.iv=d.iv,i.tag=d.tag,d.aad&&(i.aad=d.aad),d.protected&&(i.protected=d.protected),d.unprotected&&(i.unprotected=d.unprotected),l.encrypted_key=d.encrypted_key,d.header&&(l.header=d.header);continue}const{encryptedKey:y,parameters:g}=await NE(a.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,s,a.key,n,{p2c:p});l.encrypted_key=jt(y),(a.unprotectedHeader||g)&&(l.header={...a.unprotectedHeader,...g})}return i}}function PE(r,s){const n=`SHA-${r.slice(-3)}`;switch(r){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:r.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:s.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:s.name};default:throw new st(`alg ${r} is not supported either by JOSE or your javascript runtime`)}}async function OE(r,s,n){if(n==="sign"&&(s=await Yc.normalizePrivateKey(s,r)),n==="verify"&&(s=await Yc.normalizePublicKey(s,r)),Rr(s))return C1(s,r,n),s;if(s instanceof Uint8Array){if(!r.startsWith("HS"))throw new TypeError(nr(s,...sr));return Qe.subtle.importKey("raw",s,{hash:`SHA-${r.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(nr(s,...sr,"Uint8Array","JSON Web Key"))}const lk=async(r,s,n,i)=>{const c=await OE(r,s,"verify");wu(r,c);const a=PE(r,c.algorithm);try{return await Qe.subtle.verify(a,c,n,i)}catch{return!1}};async function Rp(r,s,n){if(!At(r))throw new lt("Flattened JWS must be an object");if(r.protected===void 0&&r.header===void 0)throw new lt('Flattened JWS must have either of the "protected" or "header" members');if(r.protected!==void 0&&typeof r.protected!="string")throw new lt("JWS Protected Header incorrect type");if(r.payload===void 0)throw new lt("JWS Payload missing");if(typeof r.signature!="string")throw new lt("JWS Signature missing or incorrect type");if(r.header!==void 0&&!At(r.header))throw new lt("JWS Unprotected Header incorrect type");let i={};if(r.protected)try{const C=Rt(r.protected);i=JSON.parse(Jr.decode(C))}catch{throw new lt("JWS Protected Header is invalid")}if(!il(i,r.header))throw new lt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const c={...i,...r.header},a=al(lt,new Map([["b64",!0]]),n?.crit,i,c);let l=!0;if(a.has("b64")&&(l=i.b64,typeof l!="boolean"))throw new lt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:f}=c;if(typeof f!="string"||!f)throw new lt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const p=n&&Jh("algorithms",n.algorithms);if(p&&!p.has(f))throw new Za('"alg" (Algorithm) Header Parameter value not allowed');if(l){if(typeof r.payload!="string")throw new lt("JWS Payload must be a string")}else if(typeof r.payload!="string"&&!(r.payload instanceof Uint8Array))throw new lt("JWS Payload must be a string or an Uint8Array instance");let y=!1;typeof s=="function"?(s=await s(i,r),y=!0,Vh(f,s,"verify"),_o(s)&&(s=await ol(s,f))):Vh(f,s,"verify");const g=Ln(It.encode(r.protected??""),It.encode("."),typeof r.payload=="string"?It.encode(r.payload):r.payload);let d;try{d=Rt(r.signature)}catch{throw new lt("Failed to base64url decode the signature")}if(!await lk(f,s,d,g))throw new gu;let E;if(l)try{E=Rt(r.payload)}catch{throw new lt("Failed to base64url decode the payload")}else typeof r.payload=="string"?E=It.encode(r.payload):E=r.payload;const S={payload:E};return r.protected!==void 0&&(S.protectedHeader=i),r.header!==void 0&&(S.unprotectedHeader=r.header),y?{...S,key:s}:S}async function jE(r,s,n){if(r instanceof Uint8Array&&(r=Jr.decode(r)),typeof r!="string")throw new lt("Compact JWS must be a string or Uint8Array");const{0:i,1:c,2:a,length:l}=r.split(".");if(l!==3)throw new lt("Invalid Compact JWS");const f=await Rp({payload:c,protected:i,signature:a},s,n),p={payload:f.payload,protectedHeader:f.protectedHeader};return typeof s=="function"?{...p,key:f.key}:p}async function ck(r,s,n){if(!At(r))throw new lt("General JWS must be an object");if(!Array.isArray(r.signatures)||!r.signatures.every(At))throw new lt("JWS Signatures missing or incorrect type");for(const i of r.signatures)try{return await Rp({header:i.header,payload:r.payload,protected:i.protected,signature:i.signature},s,n)}catch{}throw new gu}const Ls=r=>Math.floor(r.getTime()/1e3),DE=60,LE=DE*60,Ip=LE*24,uk=Ip*7,dk=Ip*365.25,fk=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Ya=r=>{const s=fk.exec(r);if(!s||s[4]&&s[1])throw new TypeError("Invalid time period format");const n=parseFloat(s[2]),i=s[3].toLowerCase();let c;switch(i){case"sec":case"secs":case"second":case"seconds":case"s":c=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":c=Math.round(n*DE);break;case"hour":case"hours":case"hr":case"hrs":case"h":c=Math.round(n*LE);break;case"day":case"days":case"d":c=Math.round(n*Ip);break;case"week":case"weeks":case"w":c=Math.round(n*uk);break;default:c=Math.round(n*dk);break}return s[1]==="-"||s[4]==="ago"?-c:c},jw=r=>r.toLowerCase().replace(/^application\//,""),hk=(r,s)=>typeof r=="string"?s.includes(r):Array.isArray(r)?s.some(Set.prototype.has.bind(new Set(r))):!1,Ap=(r,s,n={})=>{let i;try{i=JSON.parse(Jr.decode(s))}catch{}if(!At(i))throw new mr("JWT Claims Set must be a top-level JSON object");const{typ:c}=n;if(c&&(typeof r.typ!="string"||jw(r.typ)!==jw(c)))throw new fr('unexpected "typ" JWT header value',i,"typ","check_failed");const{requiredClaims:a=[],issuer:l,subject:f,audience:p,maxTokenAge:y}=n,g=[...a];y!==void 0&&g.push("iat"),p!==void 0&&g.push("aud"),f!==void 0&&g.push("sub"),l!==void 0&&g.push("iss");for(const S of new Set(g.reverse()))if(!(S in i))throw new fr(`missing required "${S}" claim`,i,S,"missing");if(l&&!(Array.isArray(l)?l:[l]).includes(i.iss))throw new fr('unexpected "iss" claim value',i,"iss","check_failed");if(f&&i.sub!==f)throw new fr('unexpected "sub" claim value',i,"sub","check_failed");if(p&&!hk(i.aud,typeof p=="string"?[p]:p))throw new fr('unexpected "aud" claim value',i,"aud","check_failed");let d;switch(typeof n.clockTolerance){case"string":d=Ya(n.clockTolerance);break;case"number":d=n.clockTolerance;break;case"undefined":d=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:v}=n,E=Ls(v||new Date);if((i.iat!==void 0||y)&&typeof i.iat!="number")throw new fr('"iat" claim must be a number',i,"iat","invalid");if(i.nbf!==void 0){if(typeof i.nbf!="number")throw new fr('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>E+d)throw new fr('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(i.exp!==void 0){if(typeof i.exp!="number")throw new fr('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=E-d)throw new Kc('"exp" claim timestamp check failed',i,"exp","check_failed")}if(y){const S=E-i.iat,C=typeof y=="number"?y:Ya(y);if(S-d>C)throw new Kc('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(S<0-d)throw new fr('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i};async function pk(r,s,n){const i=await jE(r,s,n);if(i.protectedHeader.crit?.includes("b64")&&i.protectedHeader.b64===!1)throw new mr("JWTs MUST NOT use unencoded payload");const a={payload:Ap(i.protectedHeader,i.payload,n),protectedHeader:i.protectedHeader};return typeof s=="function"?{...a,key:i.key}:a}async function mk(r,s,n){const i=await RE(r,s,n),c=Ap(i.protectedHeader,i.plaintext,n),{protectedHeader:a}=i;if(a.iss!==void 0&&a.iss!==c.iss)throw new fr('replicated "iss" claim header parameter mismatch',c,"iss","mismatch");if(a.sub!==void 0&&a.sub!==c.sub)throw new fr('replicated "sub" claim header parameter mismatch',c,"sub","mismatch");if(a.aud!==void 0&&JSON.stringify(a.aud)!==JSON.stringify(c.aud))throw new fr('replicated "aud" claim header parameter mismatch',c,"aud","mismatch");const l={payload:c,protectedHeader:a};return typeof s=="function"?{...l,key:i.key}:l}class ME{constructor(s){this._flattened=new Xc(s)}setContentEncryptionKey(s){return this._flattened.setContentEncryptionKey(s),this}setInitializationVector(s){return this._flattened.setInitializationVector(s),this}setProtectedHeader(s){return this._flattened.setProtectedHeader(s),this}setKeyManagementParameters(s){return this._flattened.setKeyManagementParameters(s),this}async encrypt(s,n){const i=await this._flattened.encrypt(s,n);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}const gk=async(r,s,n)=>{const i=await OE(r,s,"sign");wu(r,i);const c=await Qe.subtle.sign(PE(r,i.algorithm),i,n);return new Uint8Array(c)};class Np{constructor(s){if(!(s instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=s}setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setUnprotectedHeader(s){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=s,this}async sign(s,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new lt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!il(this._protectedHeader,this._unprotectedHeader))throw new lt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader},c=al(lt,new Map([["b64",!0]]),n?.crit,this._protectedHeader,i);let a=!0;if(c.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new lt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:l}=i;if(typeof l!="string"||!l)throw new lt('JWS "alg" (Algorithm) Header Parameter missing or invalid');Vh(l,s,"sign");let f=this._payload;a&&(f=It.encode(jt(f)));let p;this._protectedHeader?p=It.encode(jt(JSON.stringify(this._protectedHeader))):p=It.encode("");const y=Ln(p,It.encode("."),f),g=await gk(l,s,y),d={signature:jt(g),payload:""};return a&&(d.payload=Jr.decode(f)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=Jr.decode(p)),d}}class UE{constructor(s){this._flattened=new Np(s)}setProtectedHeader(s){return this._flattened.setProtectedHeader(s),this}async sign(s,n){const i=await this._flattened.sign(s,n);if(i.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}class yk{constructor(s,n,i){this.parent=s,this.key=n,this.options=i}setProtectedHeader(s){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=s,this}setUnprotectedHeader(s){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=s,this}addSignature(...s){return this.parent.addSignature(...s)}sign(...s){return this.parent.sign(...s)}done(){return this.parent}}class vk{constructor(s){this._signatures=[],this._payload=s}addSignature(s,n){const i=new yk(this,s,n);return this._signatures.push(i),i}async sign(){if(!this._signatures.length)throw new lt("at least one signature must be added");const s={signatures:[],payload:""};for(let n=0;n<this._signatures.length;n++){const i=this._signatures[n],c=new Np(this._payload);c.setProtectedHeader(i.protectedHeader),c.setUnprotectedHeader(i.unprotectedHeader);const{payload:a,...l}=await c.sign(i.key,i.options);if(n===0)s.payload=a;else if(s.payload!==a)throw new lt("inconsistent use of JWS Unencoded Payload (RFC7797)");s.signatures.push(l)}return s}}function vi(r,s){if(!Number.isFinite(s))throw new TypeError(`Invalid ${r} input`);return s}class Pp{constructor(s={}){if(!At(s))throw new TypeError("JWT Claims Set MUST be an object");this._payload=s}setIssuer(s){return this._payload={...this._payload,iss:s},this}setSubject(s){return this._payload={...this._payload,sub:s},this}setAudience(s){return this._payload={...this._payload,aud:s},this}setJti(s){return this._payload={...this._payload,jti:s},this}setNotBefore(s){return typeof s=="number"?this._payload={...this._payload,nbf:vi("setNotBefore",s)}:s instanceof Date?this._payload={...this._payload,nbf:vi("setNotBefore",Ls(s))}:this._payload={...this._payload,nbf:Ls(new Date)+Ya(s)},this}setExpirationTime(s){return typeof s=="number"?this._payload={...this._payload,exp:vi("setExpirationTime",s)}:s instanceof Date?this._payload={...this._payload,exp:vi("setExpirationTime",Ls(s))}:this._payload={...this._payload,exp:Ls(new Date)+Ya(s)},this}setIssuedAt(s){return typeof s>"u"?this._payload={...this._payload,iat:Ls(new Date)}:s instanceof Date?this._payload={...this._payload,iat:vi("setIssuedAt",Ls(s))}:typeof s=="string"?this._payload={...this._payload,iat:vi("setIssuedAt",Ls(new Date)+Ya(s))}:this._payload={...this._payload,iat:vi("setIssuedAt",s)},this}}class wk extends Pp{setProtectedHeader(s){return this._protectedHeader=s,this}async sign(s,n){const i=new UE(It.encode(JSON.stringify(this._payload)));if(i.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new mr("JWTs MUST NOT use unencoded payload");return i.sign(s,n)}}class Ek extends Pp{setProtectedHeader(s){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=s,this}setKeyManagementParameters(s){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=s,this}setContentEncryptionKey(s){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=s,this}setInitializationVector(s){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=s,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(s,n){const i=new ME(It.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),i.setProtectedHeader(this._protectedHeader),this._iv&&i.setInitializationVector(this._iv),this._cek&&i.setContentEncryptionKey(this._cek),this._keyManagementParameters&&i.setKeyManagementParameters(this._keyManagementParameters),i.encrypt(s,n)}}const Os=(r,s)=>{if(typeof r!="string"||!r)throw new Cp(`${s} missing or invalid`)};async function qE(r,s){if(!At(r))throw new TypeError("JWK must be an object");if(s??(s="sha256"),s!=="sha256"&&s!=="sha384"&&s!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let n;switch(r.kty){case"EC":Os(r.crv,'"crv" (Curve) Parameter'),Os(r.x,'"x" (X Coordinate) Parameter'),Os(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":Os(r.crv,'"crv" (Subtype of Key Pair) Parameter'),Os(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":Os(r.e,'"e" (Exponent) Parameter'),Os(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":Os(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new st('"kty" (Key Type) Parameter missing or unsupported')}const i=It.encode(JSON.stringify(n));return jt(await rE(s,i))}async function Sk(r,s){s??(s="sha256");const n=await qE(r,s);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${s.slice(-3)}:${n}`}async function xk(r,s){const n={...r,...s?.header};if(!At(n.jwk))throw new lt('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await ol({...n.jwk,ext:!0},n.alg);if(i instanceof Uint8Array||i.type!=="public")throw new lt('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}function Ck(r){switch(typeof r=="string"&&r.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new st('Unsupported "alg" value for a JSON Web Key Set')}}function bk(r){return r&&typeof r=="object"&&Array.isArray(r.keys)&&r.keys.every(Tk)}function Tk(r){return At(r)}function HE(r){return typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r))}class kk{constructor(s){if(this._cached=new WeakMap,!bk(s))throw new pu("JSON Web Key Set malformed");this._jwks=HE(s)}async getKey(s,n){const{alg:i,kid:c}={...s,...n?.header},a=Ck(i),l=this._jwks.keys.filter(y=>{let g=a===y.kty;if(g&&typeof c=="string"&&(g=c===y.kid),g&&typeof y.alg=="string"&&(g=i===y.alg),g&&typeof y.use=="string"&&(g=y.use==="sig"),g&&Array.isArray(y.key_ops)&&(g=y.key_ops.includes("verify")),g)switch(i){case"ES256":g=y.crv==="P-256";break;case"ES256K":g=y.crv==="secp256k1";break;case"ES384":g=y.crv==="P-384";break;case"ES512":g=y.crv==="P-521";break;case"Ed25519":g=y.crv==="Ed25519";break;case"EdDSA":g=y.crv==="Ed25519"||y.crv==="Ed448";break}return g}),{0:f,length:p}=l;if(p===0)throw new mu;if(p!==1){const y=new bp,{_cached:g}=this;throw y[Symbol.asyncIterator]=async function*(){for(const d of l)try{yield await Dw(g,d,i)}catch{}},y}return Dw(this._cached,f,i)}}async function Dw(r,s,n){const i=r.get(s)||r.set(s,{}).get(s);if(i[n]===void 0){const c=await ol({...s,ext:!0},n);if(c instanceof Uint8Array||c.type!=="public")throw new pu("JSON Web Key Set members must be public keys");i[n]=c}return i[n]}function Yh(r){const s=new kk(r),n=async(i,c)=>s.getKey(i,c);return Object.defineProperties(n,{jwks:{value:()=>HE(s._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const _k=async(r,s,n)=>{let i,c,a=!1;typeof AbortController=="function"&&(i=new AbortController,c=setTimeout(()=>{a=!0,i.abort()},s));const l=await fetch(r.href,{signal:i?i.signal:void 0,redirect:"manual",headers:n.headers}).catch(f=>{throw a?new Tp:f});if(c!==void 0&&clearTimeout(c),l.status!==200)throw new Vt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await l.json()}catch{throw new Vt("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function Rk(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let Xh;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(Xh="jose/v5.10.0");const Xa=Symbol();function Ik(r,s){return!(typeof r!="object"||r===null||!("uat"in r)||typeof r.uat!="number"||Date.now()-r.uat>=s||!("jwks"in r)||!At(r.jwks)||!Array.isArray(r.jwks.keys)||!Array.prototype.every.call(r.jwks.keys,At))}class Ak{constructor(s,n){if(!(s instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(s.href),this._options={agent:n?.agent,headers:n?.headers},this._timeoutDuration=typeof n?.timeoutDuration=="number"?n?.timeoutDuration:5e3,this._cooldownDuration=typeof n?.cooldownDuration=="number"?n?.cooldownDuration:3e4,this._cacheMaxAge=typeof n?.cacheMaxAge=="number"?n?.cacheMaxAge:6e5,n?.[Xa]!==void 0&&(this._cache=n?.[Xa],Ik(n?.[Xa],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Yh(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(s,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(s,n)}catch(i){if(i instanceof mu&&this.coolingDown()===!1)return await this.reload(),this._local(s,n);throw i}}async reload(){this._pendingFetch&&Rk()&&(this._pendingFetch=void 0);const s=new Headers(this._options.headers);Xh&&!s.has("User-Agent")&&(s.set("User-Agent",Xh),this._options.headers=Object.fromEntries(s.entries())),this._pendingFetch||(this._pendingFetch=_k(this._url,this._timeoutDuration,this._options).then(n=>{this._local=Yh(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function Nk(r,s){const n=new Ak(r,s),i=async(c,a)=>n.getKey(c,a);return Object.defineProperties(i,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>n._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}const Pk=Xa;class Ok extends Pp{encode(){const s=jt(JSON.stringify({alg:"none"})),n=jt(JSON.stringify(this._payload));return`${s}.${n}.`}static decode(s,n){if(typeof s!="string")throw new mr("Unsecured JWT must be a string");const{0:i,1:c,2:a,length:l}=s.split(".");if(l!==3||a!=="")throw new mr("Invalid Unsecured JWT");let f;try{if(f=JSON.parse(Jr.decode(Rt(i))),f.alg!=="none")throw new Error}catch{throw new mr("Invalid Unsecured JWT")}return{payload:Ap(f,Rt(c),n),header:f}}}const jk=jt,Op=Rt,Dk=Object.freeze(Object.defineProperty({__proto__:null,decode:Op,encode:jk},Symbol.toStringTag,{value:"Module"}));function Lk(r){let s;if(typeof r=="string"){const n=r.split(".");(n.length===3||n.length===5)&&([s]=n)}else if(typeof r=="object"&&r)if("protected"in r)s=r.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof s!="string"||!s)throw new Error;const n=JSON.parse(Jr.decode(Op(s)));if(!At(n))throw new Error;return n}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function Mk(r){if(typeof r!="string")throw new mr("JWTs must use Compact JWS serialization, JWT must be a string");const{1:s,length:n}=r.split(".");if(n===5)throw new mr("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new mr("Invalid JWT");if(!s)throw new mr("JWTs must contain a payload");let i;try{i=Op(s)}catch{throw new mr("Failed to base64url decode the payload")}let c;try{c=JSON.parse(Jr.decode(i))}catch{throw new mr("Failed to parse the decoded payload as JSON")}if(!At(c))throw new mr("Invalid JWT Claims Set");return c}async function Uk(r,s){let n,i,c;switch(r){case"HS256":case"HS384":case"HS512":n=parseInt(r.slice(-3),10),i={name:"HMAC",hash:`SHA-${n}`,length:n},c=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(r.slice(-3),10),yu(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":n=parseInt(r.slice(1,4),10),i={name:"AES-KW",length:n},c=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(r.slice(1,4),10),i={name:"AES-GCM",length:n},c=["encrypt","decrypt"];break;default:throw new st('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Qe.subtle.generateKey(i,s?.extractable??!1,c)}function _h(r){const s=r?.modulusLength??2048;if(typeof s!="number"||s<2048)throw new st("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return s}async function qk(r,s){let n,i;switch(r){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:_h(s)},i=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:_h(s)},i=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:_h(s)},i=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},i=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},i=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},i=["sign","verify"];break;case"Ed25519":n={name:"Ed25519"},i=["sign","verify"];break;case"EdDSA":{i=["sign","verify"];const c=s?.crv??"Ed25519";switch(c){case"Ed25519":case"Ed448":n={name:c};break;default:throw new st("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{i=["deriveKey","deriveBits"];const c=s?.crv??"P-256";switch(c){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:c};break}case"X25519":case"X448":n={name:c};break;default:throw new st("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new st('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Qe.subtle.generateKey(n,s?.extractable??!1,i)}async function Hk(r,s){return qk(r,s)}async function Fk(r,s){return Uk(r,s)}const $k="WebCryptoAPI",zk=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:ME,CompactSign:UE,EmbeddedJWK:xk,EncryptJWT:Ek,FlattenedEncrypt:Xc,FlattenedSign:Np,GeneralEncrypt:ak,GeneralSign:vk,SignJWT:wk,UnsecuredJWT:Ok,base64url:Dk,calculateJwkThumbprint:qE,calculateJwkThumbprintUri:Sk,compactDecrypt:RE,compactVerify:jE,createLocalJWKSet:Yh,createRemoteJWKSet:Nk,cryptoRuntime:$k,decodeJwt:Mk,decodeProtectedHeader:Lk,errors:w1,experimental_jwksCache:Pk,exportJWK:AE,exportPKCS8:ik,exportSPKI:sk,flattenedDecrypt:_p,flattenedVerify:Rp,generalDecrypt:rk,generalVerify:ck,generateKeyPair:Hk,generateSecret:Fk,importJWK:ol,importPKCS8:V1,importSPKI:K1,importX509:G1,jwksCache:Xa,jwtDecrypt:mk,jwtVerify:pk},Symbol.toStringTag,{value:"Module"}));var Lw;function Mw(){if(Lw)return La;Lw=1,Object.defineProperty(La,"__esModule",{value:!0}),La.TokenValidationService=void 0;const r=zk;class s{constructor(i){this.jwksCache=new Map,this.JWKS_CACHE_TTL_MS=3600*1e3,this.resultCache=new Map,this.RESULT_CACHE_TTL_MS=60*1e3,this.keycloakConfig=i}setKeycloakConfig(i){this.keycloakConfig=i}async validateTokenLocal(i,c){try{if(!c?.skipResultCache){const l=this.getCachedResult(i);if(l)return{...l,cached:!0}}const a=await this.performValidation(i,c);return!c?.skipResultCache&&this.shouldCacheResult(a)&&this.cacheResult(i,a),a}catch(a){const l=a instanceof Error?a.message:"Token validation failed";return{valid:!1,tokenType:c?.tokenType||"auto",error:l}}}clearCache(i){i?this.jwksCache.delete(i):this.jwksCache.clear()}clearResultCache(){this.resultCache.clear()}clearAllCaches(){this.jwksCache.clear(),this.resultCache.clear()}async performValidation(i,c){const l=(0,r.decodeJwt)(i).iss;return l?this.determineTokenType(l,c?.tokenType)==="keycloak"?this.validateKeycloakToken(i,c):this.validateDelegatedToken(i,l,c):{valid:!1,tokenType:"auto",error:"Token missing issuer (iss) claim"}}determineTokenType(i,c){if(c&&c!=="auto")return c;if(this.keycloakConfig){const a=`${this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;if(i===a)return"keycloak"}return"delegated"}async validateKeycloakToken(i,c){if(!this.keycloakConfig)return{valid:!1,tokenType:"keycloak",error:"Keycloak not configured"};const a=`${this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}/protocol/openid-connect/certs`,l=`${this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;try{const f=await this.getJWKS(a),p={issuer:l};this.keycloakConfig.verifyAudience&&this.keycloakConfig.clientId&&!c?.skipAudienceValidation&&(p.audience=this.keycloakConfig.clientId);const{payload:y}=await(0,r.jwtVerify)(i,f,p);return{valid:!0,tokenType:"keycloak",payload:this.mapPayload(y)}}catch(f){return{valid:!1,tokenType:"keycloak",error:f instanceof Error?f.message:"Keycloak token validation failed"}}}async validateDelegatedToken(i,c,a){let l=null;if(typeof a?.delegatedProvider=="function"?l=await a.delegatedProvider(c):a?.delegatedProvider&&(l=a.delegatedProvider),!l)return{valid:!1,tokenType:"delegated",error:`No delegated provider configured for issuer: ${c}`};try{const f=await this.getJWKS(l.jwksUri),p={issuer:l.issuer};!a?.skipAudienceValidation&&l.audience&&(p.audience=l.audience);const{payload:y}=await(0,r.jwtVerify)(i,f,p);return{valid:!0,tokenType:"delegated",providerKey:l.key,payload:this.mapPayload(y)}}catch(f){return{valid:!1,tokenType:"delegated",providerKey:l.key,error:f instanceof Error?f.message:"Delegated token validation failed"}}}mapPayload(i){return{...i,sub:i.sub,iss:i.iss,email:i.email,preferredUsername:i.preferred_username,name:i.name,realmAccess:i.realm_access,resourceAccess:i.resource_access}}async getJWKS(i){const c=this.jwksCache.get(i);if(c&&c.expiresAt>Date.now())return c.keySet;const a=(0,r.createRemoteJWKSet)(new URL(i));return this.jwksCache.set(i,{keySet:a,expiresAt:Date.now()+this.JWKS_CACHE_TTL_MS}),a}getTokenHash(i){return i.length<=32?i:`${i.slice(0,16)}...${i.slice(-16)}`}getCachedResult(i){const c=this.getTokenHash(i),a=this.resultCache.get(c);return a&&a.expiresAt>Date.now()?a.result:(a&&this.resultCache.delete(c),null)}cacheResult(i,c){const a=this.getTokenHash(i);this.resultCache.set(a,{result:c,expiresAt:Date.now()+this.RESULT_CACHE_TTL_MS})}shouldCacheResult(i){return!!(i.valid||i.error?.includes("expired")||i.error?.includes('"exp"')||i.error?.includes("signature")||i.error?.includes("invalid"))}}return La.TokenValidationService=s,La}var Rh={},Uw;function Bk(){return Uw||(Uw=1,Object.defineProperty(Rh,"__esModule",{value:!0})),Rh}var Ma={},qw;function FE(){if(qw)return Ma;qw=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.FilterBuilder=void 0;class r{constructor(){this.filters=[]}add(n,i,c){return this.filters.push({field:n,op:i,value:c}),this}addMany(n){return this.filters.push(...n),this}build(){return[...this.filters]}toQueryString(){if(this.filters.length===0)return"";const n={};this.filters.forEach(a=>{n[a.field]||(n[a.field]={}),n[a.field][a.op]=a.value===null?null:a.value});const i=JSON.stringify(n),c=new URLSearchParams;return c.append("filter",i),c.toString()}}return Ma.FilterBuilder=r,Ma}var Ih={},Hw;function Wk(){return Hw||(Hw=1,Object.defineProperty(Ih,"__esModule",{value:!0})),Ih}var Ua={},qa={},Fw;function $E(){if(Fw)return qa;Fw=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.decodeJWT=s,qa.extractUserIdFromToken=n;function r(i){let c=i.replace(/-/g,"+").replace(/_/g,"/");for(;c.length%4;)c+="=";return c}function s(i){try{const c=i.split(".");if(c.length!==3)return null;const a=c[1],l=r(a),f=atob(l);return JSON.parse(f)}catch{return null}}function n(i){try{const c=s(i);if(!c)return null;const a=c.sub||c.userId||c.user_id||c.id;return a||null}catch{return null}}return qa}var $w;function zE(){if($w)return Ua;$w=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.BrowserPermissionService=void 0;const r=$E(),s=Ri(),n=mn();class i{constructor(a,l,f){this.config=a.config,this.cache=f,this.httpClient=a,this.apiClient=l,this.permissionTTL=this.config.cache?.permissionTTL||900}extractUserIdFromToken(a){try{const l=(0,r.decodeJWT)(a);return l?l.sub||l.userId||l.user_id||l.id:null}catch{return null}}getEnvironmentFromClientToken(){if(!(0,n.isBrowser)())return null;try{const a=(0,n.getLocalStorage)("miso:client-token");return a&&(0,s.extractClientTokenInfo)(a).environment||null}catch(a){return console.warn("Failed to extract environment from client token:",a),null}}async getPermissions(a,l){try{let f=this.extractUserIdFromToken(a);const p=f?`permissions:${f}`:null;if(p){const x=await this.cache.get(p);if(x)return x.permissions||[]}if(!f){const x=l||this.config.authStrategy,b=x?{...x,bearerToken:a}:{methods:["bearer"],bearerToken:a};if(f=(await this.apiClient.auth.validateToken({token:a},b)).data?.user?.id||null,!f)return[]}const y=l||this.config.authStrategy,g=y?{...y,bearerToken:a}:{methods:["bearer"],bearerToken:a},d=this.getEnvironmentFromClientToken();d||console.warn("[BrowserPermissionService] Environment not found in client token. Permissions API requires environment parameter. This may cause a 400 Bad Request error.");const v=d?{environment:d}:void 0,S=(await this.apiClient.permissions.getPermissions(v,g)).data?.permissions||[],C=`permissions:${f}`;return await this.cache.set(C,{permissions:S,timestamp:Date.now()},this.permissionTTL),S}catch(f){return console.error("Failed to get permissions:",f),[]}}async hasPermission(a,l,f){return(await this.getPermissions(a,f)).includes(l)}async hasAnyPermission(a,l,f){const p=await this.getPermissions(a,f);return l.some(y=>p.includes(y))}async hasAllPermissions(a,l,f){const p=await this.getPermissions(a,f);return l.every(y=>p.includes(y))}async refreshPermissions(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return[];const d=`permissions:${y.data.user.id}`,v=this.getEnvironmentFromClientToken(),E=v?{environment:v}:void 0,C=(await this.apiClient.permissions.refreshPermissions(E,p)).data?.permissions||[];return await this.cache.set(d,{permissions:C,timestamp:Date.now()},this.permissionTTL),C}catch(f){return console.error("Failed to refresh permissions:",f),[]}}async clearPermissionsCache(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return;const d=`permissions:${y.data.user.id}`;await this.cache.delete(d)}catch(f){console.error("Failed to clear permissions cache:",f)}}}return Ua.BrowserPermissionService=i,Ua}var Ha={},zw;function BE(){if(zw)return Ha;zw=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.BrowserRoleService=void 0;const r=$E(),s=Ri(),n=mn();class i{constructor(a,l,f){this.config=a.config,this.cache=f,this.httpClient=a,this.apiClient=l,this.roleTTL=this.config.cache?.roleTTL||900}extractUserIdFromToken(a){try{const l=(0,r.decodeJWT)(a);return l?l.sub||l.userId||l.user_id||l.id:null}catch{return null}}getEnvironmentFromClientToken(){if(!(0,n.isBrowser)())return null;try{const a=(0,n.getLocalStorage)("miso:client-token");if(!a)return console.warn("[BrowserRoleService] No client token found in localStorage"),null;const l=(0,s.extractClientTokenInfo)(a);return l.environment||(console.warn("[BrowserRoleService] No environment in client token. Token info:",l),console.log("[BrowserRoleService] Available token info fields:",Object.keys(l))),l.environment||null}catch(a){return console.warn("Failed to extract environment from client token:",a),null}}async getRoles(a,l){try{let f=this.extractUserIdFromToken(a);const p=f?`roles:${f}`:null;if(p){const x=await this.cache.get(p);if(x)return x.roles||[]}if(!f){const x=l||this.config.authStrategy,b=x?{...x,bearerToken:a}:{methods:["bearer"],bearerToken:a};if(f=(await this.apiClient.auth.validateToken({token:a},b)).data?.user?.id||null,!f)return[]}const y=l||this.config.authStrategy,g=y?{...y,bearerToken:a}:{methods:["bearer"],bearerToken:a},d=this.getEnvironmentFromClientToken();d||console.warn("[BrowserRoleService] Environment not found in client token. Roles API requires environment parameter. This may cause a 400 Bad Request error.");const v=d?{environment:d}:void 0,S=(await this.apiClient.roles.getRoles(v,g)).data?.roles||[],C=`roles:${f}`;return await this.cache.set(C,{roles:S,timestamp:Date.now()},this.roleTTL),S}catch(f){return console.error("Failed to get roles:",f),[]}}async hasRole(a,l,f){return(await this.getRoles(a,f)).includes(l)}async hasAnyRole(a,l,f){const p=await this.getRoles(a,f);return l.some(y=>p.includes(y))}async hasAllRoles(a,l,f){const p=await this.getRoles(a,f);return l.every(y=>p.includes(y))}async refreshRoles(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return[];const d=`roles:${y.data.user.id}`,v=this.getEnvironmentFromClientToken(),E=v?{environment:v}:void 0,C=(await this.apiClient.roles.refreshRoles(E,p)).data?.roles||[];return await this.cache.set(d,{roles:C,timestamp:Date.now()},this.roleTTL),C}catch(f){return console.error("Failed to refresh roles:",f),[]}}async clearRolesCache(a,l){try{const f=l||this.config.authStrategy,p=f?{...f,bearerToken:a}:{methods:["bearer"],bearerToken:a},y=await this.apiClient.auth.validateToken({token:a},p);if(!y.data?.user?.id)return;const d=`roles:${y.data.user.id}`;await this.cache.delete(d)}catch(f){console.error("Failed to clear roles cache:",f)}}}return Ha.BrowserRoleService=i,Ha}var Ac={},Bw;function Kk(){if(Bw)return Ac;Bw=1;var r={};Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.loadConfig=s;function s(){const n={controllerUrl:r.MISO_CONTROLLER_URL||"https://controller.aifabrix.ai",clientId:r.MISO_CLIENTID||r.MISO_CLIENT_ID||"",clientSecret:r.MISO_CLIENTSECRET||r.MISO_CLIENT_SECRET||"",logLevel:r.MISO_LOG_LEVEL||"debug"};if(r.MISO_WEB_SERVER_URL&&(n.controllerPublicUrl=r.MISO_WEB_SERVER_URL),r.MISO_CONTROLLER_URL&&(n.controllerPrivateUrl=r.MISO_CONTROLLER_URL,n.controllerUrl=r.MISO_CONTROLLER_URL),!n.clientId)throw new Error("MISO_CLIENTID environment variable is required");if(!n.clientSecret)throw new Error("MISO_CLIENTSECRET environment variable is required");const i=r.REDIS_HOST;if(i){const c={host:i,port:parseInt(r.REDIS_PORT||"6379"),password:r.REDIS_PASSWORD};r.REDIS_DB&&(c.db=parseInt(r.REDIS_DB)),r.REDIS_KEY_PREFIX&&(c.keyPrefix=r.REDIS_KEY_PREFIX),n.redis=c}if(r.ENCRYPTION_KEY&&(n.encryptionKey=r.ENCRYPTION_KEY),r.API_KEY&&(n.apiKey=r.API_KEY),r.MISO_SENSITIVE_FIELDS_CONFIG&&(n.sensitiveFieldsConfig=r.MISO_SENSITIVE_FIELDS_CONFIG),r.MISO_EMIT_EVENTS&&(n.emitEvents=r.MISO_EMIT_EVENTS.toLowerCase()==="true"),r.MISO_AUTH_STRATEGY){const a={methods:r.MISO_AUTH_STRATEGY.split(",").map(l=>l.trim()).filter(l=>["bearer","client-token","client-credentials","api-key"].includes(l))};r.MISO_BEARER_TOKEN&&(a.bearerToken=r.MISO_BEARER_TOKEN),(r.MISO_API_KEY||r.API_KEY)&&(a.apiKey=r.MISO_API_KEY||r.API_KEY),a.methods.length>0&&(n.authStrategy=a)}if(r.MISO_CLIENT_TOKEN_URI&&(n.clientTokenUri=r.MISO_CLIENT_TOKEN_URI),r.MISO_ALLOWED_ORIGINS){const c=r.MISO_ALLOWED_ORIGINS.split(",").map(a=>a.trim()).filter(a=>a.length>0);c.length>0&&(n.allowedOrigins=c)}return r.MISO_VALIDATE_RESPONSES!==void 0?n.validateResponses=r.MISO_VALIDATE_RESPONSES.toLowerCase()==="true":n.validateResponses=!1,n}return Ac}var Nc={},Ww;function jp(){if(Ww)return Nc;Ww=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.getEnvironmentToken=i;const r=Bc(),s=qs(),n=To();async function i(c,a){const l=c.getConfig(),f=l.allowedOrigins,p=(0,r.validateOrigin)(a,f);if(!p.valid){const y=`Origin validation failed: ${p.error}`,g=a.headers.origin||a.headers.referer||"unknown";throw await c.log.forRequest(a).addContext("origin",g).addContext("allowedOrigins",f||[]).addContext("reason","origin_validation_failed").error(y),await c.log.forRequest(a).addContext("reason","origin_validation_failed").addContext("origin",g).addContext("allowedOrigins",f||[]).audit("client.token.request.rejected","environment-token"),new Error(y)}try{(0,n.resolveControllerUrl)(l);const y=await c.getEnvironmentToken(),g=s.DataMasker.maskSensitiveData({clientId:l.clientId}),d=l.clientSecret?s.DataMasker.maskSensitiveData({clientSecret:l.clientSecret}):{clientSecret:void 0};return await c.log.forRequest(a).addContext("clientId",g.clientId).addContext("clientSecret",d.clientSecret).addContext("origin",a.headers.origin||a.headers.referer||"unknown").audit("client.token.request.success","environment-token"),y}catch(y){const g=y instanceof Error?y.message:"Unknown error",d=s.DataMasker.maskSensitiveData({clientId:l.clientId});throw await c.log.forRequest(a).addContext("clientId",d.clientId).addContext("origin",a.headers.origin||a.headers.referer||"unknown").addContext("reason","token_fetch_failed").error(`Failed to get environment token: ${g}`,y instanceof Error?y.stack:void 0),await c.log.forRequest(a).addContext("reason","token_fetch_failed").addContext("error",g).addContext("clientId",d.clientId).addContext("origin",a.headers.origin||a.headers.referer||"unknown").audit("client.token.request.failed","environment-token"),y}}return Nc}var Pc={},Kw;function Gk(){if(Kw)return Pc;Kw=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.extractLoggingContext=r;function r(s){const n={};return s.source&&(n.sourceKey=s.source.key,s.source.displayName!==void 0&&(n.sourceDisplayName=s.source.displayName),s.source.externalSystem&&(n.externalSystemKey=s.source.externalSystem.key,s.source.externalSystem.displayName!==void 0&&(n.externalSystemDisplayName=s.source.externalSystem.displayName))),s.externalSystem&&(n.externalSystemKey=s.externalSystem.key,s.externalSystem.displayName!==void 0&&(n.externalSystemDisplayName=s.externalSystem.displayName)),s.record&&(n.recordKey=s.record.key,s.record.displayName!==void 0&&(n.recordDisplayName=s.record.displayName)),n}return Pc}var wi={},Gw;function WE(){if(Gw)return wi;Gw=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.parsePaginationParams=r,wi.createMetaObject=s,wi.applyPaginationToArray=n,wi.createPaginatedListResponse=i;function r(c){const a=parseInt(String(c.page??"1"),10),l=parseInt(String(c.page_size??"20"),10);return{currentPage:a,pageSize:l}}function s(c,a,l,f){return{totalItems:c,currentPage:a,pageSize:l,type:f}}function n(c,a,l){const f=(a-1)*l;return c.slice(f,f+l)}function i(c,a,l,f,p){return{meta:s(a,l,f,p),data:c}}return wi}var Ah={},Vw;function Vk(){return Vw||(Vw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FilterBuilder=void 0,r.parseFilterParams=a,r.buildQueryString=l,r.applyFilters=f,r.validateJsonFilter=p,r.filterQueryToJson=y,r.jsonToFilterQuery=g;const s=FE();Object.defineProperty(r,"FilterBuilder",{enumerable:!0,get:function(){return s.FilterBuilder}});function n(d){return{equals:"eq",notEquals:"neq",">":"gt","<":"lt",">=":"gte","<=":"lte",equal:"eq",notEqual:"neq",greaterThan:"gt",lessThan:"lt",greaterThanOrEqual:"gte",lessThanOrEqual:"lte"}[d.toLowerCase()]||d}function i(d,v){if((d==="in"||d==="nin")&&!Array.isArray(v))throw new Error(`Operator '${d}' requires array value, got ${typeof v}. Example: {"field": {"${d}": ["value1", "value2"]}}`);if((d==="isNull"||d==="isNotNull")&&v!==null)throw new Error(`Operator '${d}' requires null value, got ${typeof v}. Example: {"field": {"${d}": null}}`)}function c(d){const v=[];for(const[E,S]of Object.entries(d)){if(!E||typeof E!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof E}`);if(typeof S!="object"||S===null||Array.isArray(S))throw new Error(`Field '${E}' must have operator dictionary, got ${typeof S}. Expected format: {"${E}": {"op": value}}`);const C=S;for(const[x,b]of Object.entries(C)){const P=n(x);i(P,b);let N;P==="isNull"||P==="isNotNull"?N=null:(Array.isArray(b),N=b),v.push({field:E,op:P,value:N})}}return v}function a(d){const v=d.filter;if(!v)return[];try{let E;if(typeof v=="object"&&!Array.isArray(v)&&v!==null)E=v;else if(typeof v=="string")try{const S=decodeURIComponent(v);E=JSON.parse(S)}catch{E=JSON.parse(v)}else if(Array.isArray(v)){const S=[];for(const C of v)if(typeof C=="string")try{const x=decodeURIComponent(C),b=JSON.parse(x);S.push(...c(b))}catch{const x=JSON.parse(C);S.push(...c(x))}else typeof C=="object"&&C!==null&&S.push(...c(C));return S}else throw new Error(`Invalid filter format. Expected object or string, got ${typeof v}. Example: {"status": {"eq": "active"}}`);if(typeof E!="object"||E===null||Array.isArray(E))throw new Error(`Invalid filter format. Expected JSON object format: {"field": {"op": value}}. Got: ${typeof E}`);return c(E)}catch(E){throw E instanceof Error?new Error(`Invalid filter format. Expected JSON format: {"field": {"op": value}}. ${E.message}`):new Error(`Invalid filter format. Expected JSON format: {"field": {"op": value}}. Got: ${typeof v}`)}}function l(d){const v=new URLSearchParams;if(d.filters&&d.filters.length>0){const E={};for(const C of d.filters)E[C.field]||(E[C.field]={}),E[C.field][C.op]=C.value===null?null:C.value;const S=JSON.stringify(E);v.append("filter",S)}return d.sort?.forEach(E=>v.append("sort",E)),d.page&&v.append("page",d.page.toString()),d.pageSize&&v.append("page_size",d.pageSize.toString()),d.fields&&d.fields.length>0&&v.append("fields",d.fields.join(",")),v.toString()}function f(d,v){return d.filter(E=>v.every(S=>{const C=E[S.field],x=S.value;if(S.op==="isNull")return C==null;if(S.op==="isNotNull")return C!=null;if(Array.isArray(x))return S.op==="in"?x.includes(C):!x.includes(C);switch(S.op){case"eq":return C===x;case"neq":return C!==x;case"gt":return C>x;case"lt":return C<x;case"gte":return C>=x;case"lte":return C<=x;case"contains":return String(C).includes(String(x));case"like":return new RegExp(String(x),"i").test(String(C));default:return!0}}))}function p(d){if(typeof d!="object"||d===null||Array.isArray(d))throw new Error(`Invalid filter format. Expected object, got ${typeof d}. Example: {"field": {"op": value}}`);const v=d;for(const[E,S]of Object.entries(v)){if(!E||typeof E!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof E}`);if(typeof S!="object"||S===null||Array.isArray(S))throw new Error(`Field '${E}' must have operator dictionary, got ${typeof S}. Expected format: {"${E}": {"op": value}}`);const C=S;for(const[x,b]of Object.entries(C)){const P=n(x);i(P,b)}}}function y(d){const v={};if(d.filters)for(const E of d.filters)v[E.field]||(v[E.field]={}),v[E.field][E.op]=E.value;return v}function g(d){return{filters:c(d)}}})(Ah)),Ah}var yo={},Jw;function Jk(){if(Jw)return yo;Jw=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.parseSortParams=r,yo.buildSortString=s,yo.applySorting=n;function r(i){const c=i.sort;return(Array.isArray(c)?c:c?[c]:[]).map(l=>{const f=String(l).trim();if(!f||f==="-"||f===":")return null;if(f.includes(":")){const[p,y]=f.split(":"),g=p.trim();return g?{field:g,order:y?.trim().toLowerCase()==="desc"?"desc":"asc"}:null}if(f.startsWith("-")){const p=f.substring(1).trim();return p?{field:p,order:"desc"}:null}return{field:f,order:"asc"}}).filter(l=>l!==null)}function s(i){return i.map(c=>c.order==="desc"?`-${c.field}`:c.field)}function n(i,c){return!c||c.length===0?i:[...i].sort((a,l)=>{for(const f of c){const p=a[f.field],y=l[f.field];if(p==null)return 1;if(y==null)return-1;if(p<y)return f.order==="asc"?-1:1;if(p>y)return f.order==="asc"?1:-1}return 0})}return yo}var Nh={},Fa={},ts={},Yw;function Eu(){if(Yw)return ts;Yw=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.createErrorResponse=ts.createSuccessResponse=ts.AppError=void 0;class r extends Error{constructor(c,a=500,l=!0,f,p,y,g){super(c),this.statusCode=a,this.isOperational=l,this.validationErrors=f||[],this.errorType=p,this.instance=y,this.correlationId=g,Error.captureStackTrace(this,this.constructor)}toErrorResponse(c){const a={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"},l={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"},f=this.errorType||a[this.statusCode]||"/Errors/InternalServerError",p=l[this.statusCode]||"Internal Server Error";return{type:f,title:p,status:this.statusCode,detail:this.message,instance:this.instance||c,correlationId:this.correlationId,errors:this.validationErrors&&this.validationErrors.length>0?this.validationErrors:void 0}}}ts.AppError=r;const s=(i,c,a)=>{const l={success:!0,data:i,timestamp:new Date().toISOString()};return c&&(l.message=c),a&&(l.correlationId=a),l};ts.createSuccessResponse=s;const n=(i,c)=>{const a={success:!1,error:i,timestamp:new Date().toISOString()};return c&&(a.correlationId=c),a};return ts.createErrorResponse=n,ts}var Xw;function KE(){if(Xw)return Fa;Xw=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.ResponseHelper=void 0;const r=WE(),s=Eu();class n{static success(c,a,l,f=200){const p={success:!0,data:a,timestamp:new Date().toISOString()};return l&&(p.message=l),c.status(f).json(p)}static created(c,a,l="Resource created"){return n.success(c,a,l,201)}static paginated(c,a,l){const f=(0,r.createPaginatedListResponse)(a,l.totalItems,l.currentPage,l.pageSize,l.type);return c.status(200).json(f)}static noContent(c){return c.status(204).send()}static accepted(c,a,l="Request accepted"){return n.success(c,a,l,202)}static error(c,a=400,l=!0,f,p){throw new s.AppError(c,a,l,f,p)}}return Fa.ResponseHelper=n,Fa}var Oc={},Qw;function Yk(){if(Qw)return Oc;Qw=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.injectResponseHelpers=s;const r=KE();function s(n,i,c){i.success=(a,l)=>r.ResponseHelper.success(i,a,l),i.created=(a,l)=>r.ResponseHelper.created(i,a,l),i.paginated=(a,l)=>r.ResponseHelper.paginated(i,a,l),i.noContent=()=>r.ResponseHelper.noContent(i),i.accepted=(a,l)=>r.ResponseHelper.accepted(i,a,l),c()}return Oc}var $a={},za={},Ei={},Zw;function GE(){if(Zw)return Ei;Zw=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.getErrorTypeUri=s,Ei.getErrorTitle=n,Ei.createErrorResponse=i,Ei.sendErrorResponse=c;const r={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"};function s(a){return r[a]||"/Errors/InternalServerError"}function n(a){return{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"}[a]||"Internal Server Error"}function i(a,l,f,p,y){let g;a instanceof Error?g=a.message:typeof a=="string"?g=a:a==null?g="An error occurred":g=String(a)||"An error occurred";const d=p||f?.correlationId||f?.headers["x-correlation-id"],v={type:s(l),title:n(l),status:l,detail:g,instance:f?.originalUrl};return d&&(v.correlationId=d),y&&y.length>0&&(v.errors=y),v}function c(a,l){a.setHeader("Content-Type","application/problem+json"),a.status(l.status).json(l)}return Ei}var e0;function VE(){if(e0)return za;e0=1,Object.defineProperty(za,"__esModule",{value:!0}),za.setErrorLogger=l,za.handleRouteError=d;const r=Eu(),s=GE(),n=Mr(),i=Lr(),c=hu();let a=null;function l(v){a=v}function f(v){if(v instanceof r.AppError)return v.statusCode;if(v&&typeof v=="object"&&"code"in v){const S=v.code;if(S==="P2002")return 409;if(S==="P2025")return 404;if(S==="P2003")return 400}const E=v instanceof Error?v.message:String(v||"Unknown error");return E.toLowerCase().includes("not found")?404:E.toLowerCase().includes("already exists")||E.toLowerCase().includes("duplicate")?409:E.toLowerCase().includes("validation")||E.toLowerCase().includes("invalid")?400:E.toLowerCase().includes("unauthorized")||E.toLowerCase().includes("authentication")?401:E.toLowerCase().includes("forbidden")||E.toLowerCase().includes("permission")?403:500}function p(v){return v instanceof Error?v.message:typeof v=="string"?v:"An unexpected error occurred"}function y(){const v=Date.now(),E=Math.random().toString(36).substring(2,8);return`express-${v}-${E}`}function g(v,E,S,C){let x;return v instanceof r.AppError&&v.validationErrors&&(x=v.validationErrors),(0,s.createErrorResponse)(v,E,S,C,x)}async function d(v,E,S,C){const x=(0,c.extractRequestContext)(E),b=E.correlationId||x.correlationId||y(),P=f(v),N=p(v),j=(0,n.extractErrorInfo)(v,{endpoint:E.originalUrl||E.path,method:E.method,correlationId:b}),U=C||"unknown operation",A=`${U} failed: ${N}`;if((0,i.logErrorWithContext)(j,"[Express]"),a)try{await a.logError(A,{req:E,correlationId:j.correlationId||b,operation:U,statusCode:j.statusCode||P,url:E.originalUrl,method:E.method,errorMessage:j.message,errorName:j.errorName,errorType:j.errorType,stack:j.stackTrace})}catch(R){const $=R instanceof Error?R:new Error(String(R));process.stderr.write(`[ERROR] Failed to log error: ${$.message}
`),process.stderr.write(`[ERROR] Original error: ${N}
`)}else process.stderr.write(`[ERROR] ${A}
`),v instanceof Error&&v.stack&&process.stderr.write(`[ERROR] Stack: ${v.stack}
`);const I=g(v,P,E,b);v instanceof r.AppError&&v.correlationId&&(I.correlationId=v.correlationId),(0,s.sendErrorResponse)(S,I)}return za}var t0;function Xk(){if(t0)return $a;t0=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.asyncHandler=s,$a.asyncHandlerNamed=n;const r=VE();function s(i,c){return async(a,l,f)=>{try{await i(a,l,f)}catch(p){const y=c||`${a.method} ${a.route?.path||a.path}`;await(0,r.handleRouteError)(p,a,l,y)}}}function n(i,c){return s(c,i)}return $a}var Ba={},r0;function Qk(){if(r0)return Ba;r0=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.ValidationHelper=void 0;const r=Eu();class s{static async findOrFail(i,c,a){const l=await i();if(!l)throw new r.AppError(`${c} not found${a?`: ${a}`:""}`,404,!0,void 0,"/Errors/NotFound");return l}static async ensureNotExists(i,c,a){if(await i())throw new r.AppError(`${c} already exists${a?`: ${a}`:""}`,409,!0,void 0,"/Errors/Conflict")}static ensureOwnershipOrAdmin(i,c,a="No permission to access this resource"){const l=i.userId===c,f=i.userRoles?.includes("admin")||i.userRoles?.includes("superuser");if(!l&&!f)throw new r.AppError(a,403,!0,void 0,"/Errors/Forbidden")}static async validateAll(i){await Promise.all(i.map(c=>c()))}static validateRequiredFields(i,c,a){const l=c.filter(f=>i[f]===void 0||i[f]===null||i[f]==="");if(l.length>0)throw new r.AppError(`Missing required fields for ${a}: ${l.join(", ")}`,400,!0,void 0,"/Errors/BadRequest")}static ensureAuthenticated(i){if(!i.userId)throw new r.AppError("Authentication required",401,!0,void 0,"/Errors/Unauthorized")}static validateStringLength(i,c,a,l){if(a!==void 0&&i.length<a)throw new r.AppError(`${c} must be at least ${a} characters`,400,!0,void 0,"/Errors/BadRequest");if(l!==void 0&&i.length>l)throw new r.AppError(`${c} must not exceed ${l} characters`,400,!0,void 0,"/Errors/BadRequest")}}return Ba.ValidationHelper=s,Ba}var Si={},n0;function Zk(){if(n0)return Si;n0=1;var r={},s=Si&&Si.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Si,"__esModule",{value:!0}),Si.EncryptionUtil=void 0;const n=s(tl);class i{static initialize(){if(this.initialized)return;const a=r.ENCRYPTION_KEY;if(!a)throw new Error("ENCRYPTION_KEY environment variable not configured");if(a.length!==64)throw new Error("ENCRYPTION_KEY must be 64 hex characters (32 bytes)");try{this.key=Buffer.from(a,"hex")}catch{throw new Error("ENCRYPTION_KEY must be valid hex string")}this.initialized=!0}static encrypt(a){if(!this.initialized)throw new Error("EncryptionUtil not initialized. Call initialize() first.");if(!a)throw new Error("Cannot encrypt empty text");const l=n.default.randomBytes(16),f=n.default.createCipheriv(this.algorithm,this.key,l);let p=f.update(a,"utf8","hex");p+=f.final("hex");const y=f.getAuthTag();return`${l.toString("hex")}:${y.toString("hex")}:${p}`}static decrypt(a){if(!this.initialized)throw new Error("EncryptionUtil not initialized. Call initialize() first.");if(!a)throw new Error("Cannot decrypt empty text");try{const l=a.split(":");if(l.length!==3)throw new Error("Invalid encrypted text format");const f=Buffer.from(l[0]||"","hex"),p=Buffer.from(l[1]||"","hex"),y=l[2]||"",g=n.default.createDecipheriv(this.algorithm,this.key,f);g.setAuthTag(p);let d=g.update(y,"hex","utf8");return d+=g.final("utf8"),d}catch(l){throw new Error(`Decryption failed: ${l instanceof Error?l.message:"Unknown error"}`)}}static generateKey(){return n.default.randomBytes(32).toString("hex")}}return Si.EncryptionUtil=i,i.algorithm="aes-256-gcm",i.initialized=!1,Si}var Wa={},s0;function JE(){if(s0)return Wa;s0=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.hasConfig=n,Wa.createClientTokenEndpoint=i;const r=jp(),s=To();function n(c){return c.config!==void 0}function i(c,a){const l={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...a};return async(f,p)=>{const y=()=>p.headersSent||p.writableEnded;try{if(!c.isInitialized()){y()||p.status(503).json({error:"Service Unavailable",message:"MisoClient is not initialized"});return}const g=5e3,d=(0,r.getEnvironmentToken)(c,f),v=new Promise((C,x)=>{setTimeout(()=>{x(new Error("Request timeout: Failed to get environment token within 5 seconds"))},g)});let E;try{E=await Promise.race([d,v])}catch(C){if(y())return;const x=C instanceof Error?C.message:"Unknown error";if(x.includes("Origin validation failed")){p.status(403).json({error:"Forbidden",message:x});return}const b=x.includes("Request timeout: Failed to get environment token within 5 seconds"),P=x.match(/status:\s*(\d+)/i)||x.match(/status code\s+(\d+)/i)||x.match(/status\s+(\d+)/i),N=P?parseInt(P[1],10):void 0,j=N!==void 0;let U=N,A,I=!1,R=C;for(let Q=0;Q<5&&R;Q++){if(R&&typeof R=="object"&&"isAxiosError"in R&&R.isAxiosError){const K=R;if(K.response){U=K.response.status,A=K.response.statusText;break}if(K.request&&!K.response){I=!0;break}}if(R&&typeof R=="object"&&"cause"in R)R=R.cause;else break}const $=U||N;if(j&&$){if($===401){p.status(401).json({error:"Unauthorized",message:"Failed to get environment token: Invalid client credentials or application not found"});return}if($===403){p.status(403).json({error:"Forbidden",message:"Failed to get environment token: Access denied"});return}p.status($).json({error:A||"Error",message:x});return}const Y=I||x.includes("ECONNREFUSED")||x.includes("ENOTFOUND")||x.includes("ETIMEDOUT")||x.includes("connect")||x.includes("Network Error")||x.includes("network error")||x.includes("getaddrinfo ENOTFOUND")||x.includes("getaddrinfo EAI_AGAIN"),se=b||x.includes("timeout")||x.includes("Timeout");if(Y||se){const Q=c.getConfig();let K;try{K=(0,s.resolveControllerUrl)(Q)}catch{K=Q.controllerPrivateUrl||Q.controllerUrl||"NOT CONFIGURED"}p.status(504).json({error:"Gateway Timeout",message:Y?"Failed to get environment token: Controller is unreachable":"Failed to get environment token: Controller request timed out",details:{controllerUrl:K||"NOT CONFIGURED",timeout:"4 seconds",suggestion:K&&K!=="NOT CONFIGURED"?`Controller at ${K} is not responding. Please check if the controller is running and accessible.`:"Controller URL is not configured. Please set MISO_CONTROLLER_URL environment variable."}});return}p.status(500).json({error:"Internal Server Error",message:x});return}const S={token:E,expiresIn:l.expiresIn};if(l.includeConfig){const C=c.getConfig(),x=`${f.protocol}://${f.get("host")||"localhost"}`,b=C.controllerPublicUrl||C.controllerUrl;if(!b){y()||p.status(500).json({error:"Internal Server Error",message:"Controller URL not configured"});return}S.config={baseUrl:x,controllerUrl:b,controllerPublicUrl:C.controllerPublicUrl,clientId:C.clientId,clientTokenUri:l.clientTokenUri}}y()||p.json(S)}catch(g){if(y())return;const d=g instanceof Error?g.message:"Unknown error";if(d.includes("Origin validation failed")){p.status(403).json({error:"Forbidden",message:d});return}if(d.includes("timeout")||d.includes("Timeout")){p.status(504).json({error:"Gateway Timeout",message:"Failed to get environment token: Request timed out"});return}p.status(500).json({error:"Internal Server Error",message:d})}}}return Wa}var i0;function e_(){return i0||(i0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasConfig=r.createClientTokenEndpoint=r.extractClientTokenInfo=r.getEnvironmentToken=r.validateOrigin=r.EncryptionUtil=r.sendErrorResponse=r.getErrorTitle=r.getErrorTypeUri=r.handleRouteError=r.setErrorLogger=r.createErrorResponse=r.createSuccessResponse=r.AppError=r.ValidationHelper=r.asyncHandlerNamed=r.asyncHandler=r.injectResponseHelpers=r.ResponseHelper=void 0;var s=KE();Object.defineProperty(r,"ResponseHelper",{enumerable:!0,get:function(){return s.ResponseHelper}});var n=Yk();Object.defineProperty(r,"injectResponseHelpers",{enumerable:!0,get:function(){return n.injectResponseHelpers}});var i=Xk();Object.defineProperty(r,"asyncHandler",{enumerable:!0,get:function(){return i.asyncHandler}}),Object.defineProperty(r,"asyncHandlerNamed",{enumerable:!0,get:function(){return i.asyncHandlerNamed}});var c=Qk();Object.defineProperty(r,"ValidationHelper",{enumerable:!0,get:function(){return c.ValidationHelper}});var a=Eu();Object.defineProperty(r,"AppError",{enumerable:!0,get:function(){return a.AppError}}),Object.defineProperty(r,"createSuccessResponse",{enumerable:!0,get:function(){return a.createSuccessResponse}}),Object.defineProperty(r,"createErrorResponse",{enumerable:!0,get:function(){return a.createErrorResponse}});var l=VE();Object.defineProperty(r,"setErrorLogger",{enumerable:!0,get:function(){return l.setErrorLogger}}),Object.defineProperty(r,"handleRouteError",{enumerable:!0,get:function(){return l.handleRouteError}});var f=GE();Object.defineProperty(r,"getErrorTypeUri",{enumerable:!0,get:function(){return f.getErrorTypeUri}}),Object.defineProperty(r,"getErrorTitle",{enumerable:!0,get:function(){return f.getErrorTitle}}),Object.defineProperty(r,"sendErrorResponse",{enumerable:!0,get:function(){return f.sendErrorResponse}});var p=Zk();Object.defineProperty(r,"EncryptionUtil",{enumerable:!0,get:function(){return p.EncryptionUtil}});var y=Bc();Object.defineProperty(r,"validateOrigin",{enumerable:!0,get:function(){return y.validateOrigin}});var g=jp();Object.defineProperty(r,"getEnvironmentToken",{enumerable:!0,get:function(){return g.getEnvironmentToken}});var d=Ri();Object.defineProperty(r,"extractClientTokenInfo",{enumerable:!0,get:function(){return d.extractClientTokenInfo}});var v=JE();Object.defineProperty(r,"createClientTokenEndpoint",{enumerable:!0,get:function(){return v.createClientTokenEndpoint}}),Object.defineProperty(r,"hasConfig",{enumerable:!0,get:function(){return v.hasConfig}})})(Nh)),Nh}var Gr={},xi={},o0;function YE(){if(o0)return xi;o0=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.getCachedEntry=s,xi.setCacheEntry=n,xi.isCacheEnabled=i,xi.getCacheKeyForRequest=c;const r=mn();function s(a,l,f){const p=a.get(l);return p&&p.expiresAt>Date.now()?(f.cacheHits++,p.data):(f.cacheMisses++,null)}function n(a,l,f,p,y){if(a.set(l,{data:f,expiresAt:Date.now()+p*1e3,key:l}),a.size>y){const g=a.keys().next().value;g&&a.delete(g)}}function i(a,l,f){const p=a.toUpperCase()==="GET";return l?.enabled!==!1&&p&&f?.cache?.enabled!==!1}function c(a,l){return l?.cache?.key||(0,r.generateCacheKey)(a,l)}return xi}var js={},Ka={},a0;function XE(){if(a0)return Ka;a0=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.shouldSkipAudit=n,Ka.logDataClientAudit=i;const r=qs(),s=mn();function n(c,a){return a?.enabled?(a.skipEndpoints||[]).some(f=>c.includes(f)):!0}async function i(c,a,l,f,p,y,g,d,v,E,S,C,x,b,P){if(!(n(a,y)||!p)&&g())try{const N=d(),j=N?(0,s.extractUserIdFromToken)(N):void 0,U=y?.level||"standard",A={method:c,url:a,statusCode:l,duration:f};if(j&&(A.userId=j),U==="minimal"){await p.log.audit(`http.request.${c.toLowerCase()}`,a,A,{token:N||void 0});return}const I=y?.maxResponseSize||1e4,R=y?.maxMaskingSize||5e4;let $;if(b!==void 0){const K=(0,s.truncatePayload)(b,R);K.truncated?$=K.data:$=r.DataMasker.maskSensitiveData(K.data)}let Y;if(P!==void 0){const K=(0,s.truncatePayload)(P,I);K.truncated?Y=K.data:Y=r.DataMasker.maskSensitiveData(K.data)}const se=C?r.DataMasker.maskSensitiveData(C):void 0,Q=x?r.DataMasker.maskSensitiveData(x):void 0;if(se&&(A.requestHeaders=se),Q&&(A.responseHeaders=Q),$!==void 0&&(A.requestBody=$),Y!==void 0&&(A.responseBody=Y),(U==="detailed"||U==="full")&&(v!==void 0&&(A.requestSize=v),E!==void 0&&(A.responseSize=E)),S){const K=r.DataMasker.maskSensitiveData({message:S.message,name:S.name,stack:S.stack});A.error=K}await p.log.audit(`http.request.${c.toLowerCase()}`,a,A,{token:N||void 0})}catch(N){const j=N,U=j.statusCode||j.response?.status,A=j.message||String(N),I=j.code,R=I==="ECONNREFUSED"||I==="ENOTFOUND"||A.includes("ERR_CONNECTION_REFUSED")||A.includes("Failed to fetch")||A.includes("NetworkError")||A.includes("network error");if(U===401||R)return;console.warn("Failed to log audit event:",N)}}return Ka}var l0;function t_(){if(l0)return js;l0=1,Object.defineProperty(js,"__esModule",{value:!0}),js.extractHeaders=l,js.parseResponse=f,js.mergeSignals=p,js.makeFetchRequest=y,js.executeHttpRequest=C;const r=eE(),s=mn(),n=YE(),i=XE(),c=Mr(),a=Lr();function l(x){if(!x)return;if(x instanceof Headers){const P={};return x.forEach((N,j)=>{P[j]=N}),P}if(Array.isArray(x)){const P={};return x.forEach(([N,j])=>{P[N]=String(j)}),P}const b={};return Object.entries(x).forEach(([P,N])=>{b[P]=Array.isArray(N)?N.join(", "):String(N)}),b}async function f(x){const b=x.headers.get("content-type")||"";return b.includes("application/json")?await x.json():b.includes("text/")?await x.text():await x.blob()}function p(x,b){const P=new AbortController,N=()=>{P.abort(),x.removeEventListener("abort",N),b.removeEventListener("abort",N)};return x.aborted||b.aborted?(P.abort(),P.signal):(x.addEventListener("abort",N),b.addEventListener("abort",N),P.signal)}async function y(x,b,P,N,j){const U=new Headers(P.defaultHeaders);if(j?.headers&&(j.headers instanceof Headers?j.headers.forEach((V,ee)=>U.set(ee,V)):Object.entries(j.headers).forEach(([V,ee])=>{U.set(V,String(ee))})),!j?.skipAuth){const V=N();V&&U.set("Authorization",`Bearer ${V}`)}const A=j?.timeout||P.timeout||3e4,I=new AbortController,R=setTimeout(()=>I.abort(),A),$=j?.signal?p(I.signal,j.signal):I.signal,{cache:Y,skipAuth:se,retries:Q,skipAudit:K,timeout:J,...W}=j||{};try{const V=await fetch(b,{method:x,headers:U,body:W.body,signal:$,...W});return clearTimeout(R),V}catch(V){throw clearTimeout(R),V instanceof Error&&V.name==="AbortError"?new r.TimeoutError(`Request timeout after ${A}ms`,A):new r.NetworkError(`Network error: ${V instanceof Error?V.message:"Unknown error"}`,V instanceof Error?V:void 0)}}async function g(x,b,P,N,j,U,A,I,R,$,Y,se,Q,K,J){const W=Date.now()-j;if(K.totalRequests++,K.responseTimes.push(W),R&&x.ok){const V=J?.cache?.ttl||U.cache?.defaultTTL||300;(0,n.setCacheEntry)(A,I,b,V,U.cache?.maxSize||100)}if(Q.onResponse)return await Q.onResponse(x,b);if(!J?.skipAudit){const V=J?.body?(0,s.calculateSize)(J.body):void 0,ee=(0,s.calculateSize)(b);await(0,i.logDataClientAudit)(P,N,x.status,W,$,U.audit,Y,se,V,ee,void 0,l(J?.headers),l(x.headers),J?.body,b)}if(!x.ok)throw new r.ApiError(`Request failed with status ${x.status}`,x.status,x);return b}function d(x){if(x?.log&&typeof x.log.generateCorrelationId=="function")return x.log.generateCorrelationId();const b=Date.now(),P=Math.random().toString(36).substring(2,8);return`${b}-${P}`}async function v(x,b,P,N,j,U,A,I,R,$,Y,se,Q){const K=Date.now()-N;se.totalFailures++;const J=(0,c.extractErrorInfo)(x,{endpoint:P,method:b,correlationId:d(I)});if((0,a.logErrorWithContext)(J,"[DataClient]"),!Q?.skipAudit&&I?.log){const W=j||U?j&&j>=500?"server-error":j&&j>=400?"client-error":"success":"unknown";await(0,i.logDataClientAudit)(b,P,j||U||401,K,I,A.audit,R,$,Q?.body?(0,s.calculateSize)(Q.body):void 0,void 0,x,l(Q?.headers),void 0,Q?.body,void 0);try{await I.log.error(`Request failed: ${J.message}`,{errorType:J.errorType,errorName:J.errorName,statusCode:J.statusCode,endpoint:J.endpoint,method:J.method,responseBody:J.responseBody},J.stackTrace,{errorCategory:J.errorType.toLowerCase().replace("error",""),httpStatusCategory:W,correlationId:J.correlationId})}catch{}}throw x}function E(x,b,P,N,j,U,A,I,R,$,Y,se){$(),Y.totalFailures++;const Q=(0,c.extractErrorInfo)(x,{endpoint:N,method:P,correlationId:d(A)});if((0,a.logErrorWithContext)(Q,"[DataClient] [AUTH]"),!se?.skipAudit){const K=Date.now()-j;(0,i.logDataClientAudit)(P,N,b,K,A,U.audit,I,R,se?.body?(0,s.calculateSize)(se.body):void 0,void 0,x,l(se?.headers),void 0,se?.body,void 0).catch(()=>{}),A?.log&&A.log.error(`Authentication error: ${Q.message}`,{authFlow:"token_validation_failed",errorType:Q.errorType,errorName:Q.errorName,statusCode:Q.statusCode,endpoint:Q.endpoint,method:Q.method,responseBody:Q.responseBody},Q.stackTrace,{errorCategory:"authentication",httpStatusCategory:"client-error",correlationId:Q.correlationId}).catch(()=>{})}}async function S(x,b,P){const N=(0,s.calculateBackoffDelay)(x,b,P);await new Promise(j=>setTimeout(j,N))}async function C(x,b,P,N,j,U,A,I,R,$,Y,se,Q,K,J,W){const V=W?.retries!==void 0?W.retries:N.retry?.maxRetries||3,ee=N.retry?.enabled!==!1,q=N.retry?.baseDelay||1e3,ue=N.retry?.maxDelay||1e4;let ce=!1,F=!1;async function re(B){if(ce)throw new r.AuthenticationError("Authentication error detected - should not retry");let te,fe;try{if(fe=await y(x,b,N,Y,W),te=fe.status,te===401||te===403){if(te===401&&N.onTokenRefresh&&Q&&B===0&&!F){F=!0;try{const _e=await Q();if(_e&&_e.token)return await new Promise(We=>setTimeout(We,10)),re(B+1)}catch(_e){console.warn("Token refresh failed, redirecting to login:",_e)}}ce=!0;const Re=te===401?new r.AuthenticationError("Authentication required",fe):new r.ApiError("Forbidden",403,fe);throw E(Re,te,x,P,I,N,R,$,Y,se,J,W),Re}const Ce=await f(fe);return await g(fe,Ce,x,P,I,N,j,U,A,R,$,Y,K,J,W)}catch(Ce){if(Ce instanceof r.AuthenticationError||te===401||te===403)throw ce=!0,Ce;const Re=Ce;if(Re.name==="AuthenticationError"||Re.statusCode===401||Re.statusCode===403)throw ce=!0,Ce;const _e=Re.response?.status,We=Ce instanceof r.AuthenticationError?401:Re.statusCode??_e??te??void 0,at=We&&We>=500&&We<600;if(!(ee&&!at&&B<(at?0:V)&&(0,s.isRetryableError)(We,Ce))){if(Ce instanceof r.AuthenticationError||Ce.name==="AuthenticationError"||We===401||We===403||te===401||te===403)throw ce=!0,Ce;J.totalFailures++,await v(Ce,x,P,I,We,te,N,R,$,Y,K,J,W)}if(ce)throw ce=!0,Ce;return await S(B,q,ue),re(B+1)}}try{return await re(0)}catch(B){const te=B instanceof r.AuthenticationError||B.name==="AuthenticationError"||B.statusCode===401||B.statusCode===403;throw J.totalFailures++,K.onError&&!te?await K.onError(B):B}}return js}var Ga={},vo={},c0;function Qh(){if(c0)return vo;c0=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.getValidatedRedirectUrl=i,vo.redirectToLogin=c,vo.logout=a;const r=QE(),s=mn();function n(l){if(!l||typeof l!="string"||l.trim()==="")return null;const f=l.trim(),p=["javascript:","data:","vbscript:","file:","about:"],y=f.toLowerCase();for(const v of p)if(y.startsWith(v))return null;let g;try{if(f.startsWith("/")||!f.includes("://")){const v=globalThis.window.location.origin;g=new URL(f,v)}else g=new URL(f)}catch{return null}return g.protocol!=="http:"&&g.protocol!=="https:"?null:g.href}function i(l,f){const p=n(l);if(p)return p;if(f){const y=n(f);if(y)return y}return null}async function c(l,f,p){if(!(0,s.isBrowser)())return;const y=globalThis.window.location.href,g=p||y,d=(0,r.getControllerUrl)(l.misoConfig);if(!d){const C=new Error("Controller URL is not configured. Please configure controllerUrl or controllerPublicUrl in your DataClient configuration.");throw C.details={hasMisoConfig:!!l.misoConfig,controllerUrl:l.misoConfig?.controllerUrl,controllerPublicUrl:l.misoConfig?.controllerPublicUrl,controllerPrivateUrl:l.misoConfig?.controllerPrivateUrl},C}const v=await f();let E=l.loginUrl||"/login";E.startsWith("/api/")&&(console.warn(`âš ï¸ Warning: loginUrl is set to an API endpoint (${E}). redirectToLogin() should redirect to a login PAGE (e.g., '/login'), not an API endpoint. Using default '/login' instead.`),E="/login");let S;/^https?:\/\//i.test(E)?S=new URL(E):S=new URL(E,d),S.searchParams.set("redirect",g),v&&S.searchParams.set("x-client-token",v),globalThis.window.location.href=S.toString()}async function a(l,f,p,y,g,d){if(!(0,s.isBrowser)())return;const v=f(),E=await p();(l.tokenKeys||["token","accessToken","authToken"]).forEach(j=>{try{const U=globalThis.localStorage;U&&U.removeItem(j)}catch{}}),y();const C=(0,r.getControllerUrl)(l.misoConfig);if(!C){const j=g||l.logoutUrl||l.loginUrl||"/login",U=globalThis.window.location.origin,A=/^https?:\/\//i.test(j)?j:`${U}${j.startsWith("/")?j:`/${j}`}`,I=i(A);I&&(globalThis.window.location.href=I);return}const x=l.logoutUrl||l.loginUrl||"/logout";let b;/^https?:\/\//i.test(x)?b=new URL(x):b=new URL(x,C);const P=g||l.logoutUrl||l.loginUrl||"/login";let N;/^https?:\/\//i.test(P)?N=P:N=`${globalThis.window.location.origin}${P.startsWith("/")?P:`/${P}`}`,b.searchParams.set("redirect",N),E&&b.searchParams.set("x-client-token",E),v&&b.searchParams.set("token",v),globalThis.window.location.href=b.toString()}return vo}var u0;function QE(){return u0||(u0=1,(function(r){var s=Ga&&Ga.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(r,"__esModule",{value:!0}),r.logout=r.redirectToLogin=void 0,r.getToken=p,r.handleOAuthCallback=d,r.hasClientToken=v,r.hasAnyToken=E,r.getClientToken=S,r.getControllerUrl=C,r.getEnvironmentToken=P,r.getClientTokenInfo=N;const n=mn(),i=Ri(),c=s(os()),a=XE(),l=Mr(),f=Lr();function p(j){if(!(0,n.isBrowser)())return null;const U=j||["token","accessToken","authToken"];for(const A of U){const I=(0,n.getLocalStorage)(A);if(I)return I}return null}function y(){try{const j=globalThis;if(!j.window){console.warn("[handleOAuthCallback] window not available for hash cleanup");return}const U=j.window.location.pathname+j.window.location.search;j.window.history.replaceState(null,"",U)}catch(j){console.warn("[handleOAuthCallback] Failed to clean up hash:",j)}}function g(j){if(!j||typeof j!="string")return!1;const U=j.trim();return!(U.length===0||U.length<5)}function d(j){if(!(0,n.isBrowser)())return null;const U=globalThis;if(!U.window||!U.window.location)return null;const A=U.window.location.hash;if(!A||A.length<=1)return null;const I=A.substring(1);let R;try{R=new URLSearchParams(I)}catch(se){return console.warn("[handleOAuthCallback] Failed to parse hash:",se),null}const $=R.get("token")||R.get("access_token")||R.get("accessToken");if(!$)return null;if(!g($)){const se=$?$.length:0;return console.error("[handleOAuthCallback] Invalid token format - token rejected",{tokenLength:se,isEmpty:!$||$.trim().length===0,tooShort:se>0&&se<5,expectedFormat:"Non-empty string with at least 5 characters"}),y(),null}j.misoConfig?.logLevel;{const se=U.window.location.protocol==="https:",Q=U.window.location.hostname||"",K=Q==="localhost"||Q==="127.0.0.1"||Q==="[::1]"||Q.startsWith("192.168.")||Q.startsWith("10.")||Q.startsWith("172.16.")||Q.startsWith("172.17.")||Q.startsWith("172.18.")||Q.startsWith("172.19.")||Q.startsWith("172.20.")||Q.startsWith("172.21.")||Q.startsWith("172.22.")||Q.startsWith("172.23.")||Q.startsWith("172.24.")||Q.startsWith("172.25.")||Q.startsWith("172.26.")||Q.startsWith("172.27.")||Q.startsWith("172.28.")||Q.startsWith("172.29.")||Q.startsWith("172.30.")||Q.startsWith("172.31.");if(!se&&!K)return console.error("[handleOAuthCallback] SECURITY WARNING: Token received over HTTP in production"),y(),null}y();const Y=j.tokenKeys||["token","accessToken","authToken"];try{return Y.forEach(se=>{try{(0,n.setLocalStorage)(se,$)}catch(Q){console.warn(`[handleOAuthCallback] Failed to store token in key ${se}:`,Q)}}),j.misoConfig?.logLevel==="debug"&&console.log("[handleOAuthCallback] OAuth token extracted and stored securely",{tokenLength:$.length,tokenKeys:Y,storedInKeys:Y.length}),$}catch(se){const Q=se instanceof Error?se:new Error(String(se)),J=globalThis.window?.location?.pathname||"/",W=(0,l.extractErrorInfo)(Q,{endpoint:J,method:"GET"});return(0,f.logErrorWithContext)(W,"[DataClient] [AUTH] [OAuthCallback]"),console.error("[handleOAuthCallback] Failed to store token:",se),null}}function v(j,U){if(!(0,n.isBrowser)())return!!(j&&U?.clientSecret);if((0,n.getLocalStorage)("miso:client-token")){const I=(0,n.getLocalStorage)("miso:client-token-expires-at");if(I&&parseInt(I,10)>Date.now())return!0}return!!(U?.clientToken||U?.onClientTokenRefresh||U?.clientSecret)}function E(j,U,A){return p(j)!==null||v(U||null,A)}async function S(j,U,A){if(!(0,n.isBrowser)())return null;const I=j?.logLevel==="debug",R=(0,n.getLocalStorage)("miso:client-token"),$=(0,n.getLocalStorage)("miso:client-token-expires-at");if(I&&console.log("[getClientToken] Checking localStorage:",{hasToken:!!R,hasExpiresAt:!!$,expiresAt:$,currentTime:Date.now()}),R)if($){const Y=parseInt($,10),se=Date.now(),Q=Y-se,K=Math.floor(Q/1e3);if(I&&console.log("[getClientToken] Token expiration check:",{expiresAt:Y,expiresAtISO:new Date(Y).toISOString(),now:se,nowISO:new Date(se).toISOString(),timeUntilExpiry:Q,timeUntilExpirySeconds:K,isValid:Y>se,expired:Y<=se,isNaN:isNaN(Y)}),isNaN(Y))return console.warn("[getClientToken] Invalid expiration timestamp format, assuming token is valid"),R;if(Y>se)return I&&console.log("[getClientToken] Returning valid cached token (checked expiration)"),R;console.warn("[getClientToken] Cached token expired, removing from cache"),(0,n.removeLocalStorage)("miso:client-token"),(0,n.removeLocalStorage)("miso:client-token-expires-at")}else try{const Y=c.default.decode(R);if(Y&&Y.exp){const se=Date.now(),Q=Y.exp*1e3,K=Q-se;if(I&&console.log("[getClientToken] Token expiration from JWT:",{jwtExpiresAt:Q,jwtExpiresAtISO:new Date(Q).toISOString(),now:se,nowISO:new Date(se).toISOString(),jwtTimeUntilExpiry:K,jwtTimeUntilExpirySeconds:Math.floor(K/1e3),jwtIsValid:Q>se}),Q>se)return I&&console.log("[getClientToken] Returning valid cached token (checked JWT expiration)"),R;console.warn("[getClientToken] Token expired (from JWT), removing from cache"),(0,n.removeLocalStorage)("miso:client-token"),(0,n.removeLocalStorage)("miso:client-token-expires-at")}else return I&&console.log("[getClientToken] No expiration info available, assuming token is valid"),R}catch(Y){return console.warn("[getClientToken] Failed to decode token, assuming valid:",Y),R}return j?.clientToken?(I&&console.log("[getClientToken] Returning token from config"),j.clientToken):(console.warn("[getClientToken] No token available, returning null"),null)}function C(j){return j?(0,n.isBrowser)()?j.controllerPublicUrl||j.controllerUrl||null:j.controllerPrivateUrl||j.controllerUrl||null:null}var x=Qh();Object.defineProperty(r,"redirectToLogin",{enumerable:!0,get:function(){return x.redirectToLogin}});var b=Qh();Object.defineProperty(r,"logout",{enumerable:!0,get:function(){return b.logout}});async function P(j,U){if(!(0,n.isBrowser)())throw new Error("getEnvironmentToken() is only available in browser environment");const A="miso:client-token",I="miso:client-token-expires-at",R=(0,n.getLocalStorage)(A),$=(0,n.getLocalStorage)(I);if(R&&$){const Q=parseInt($,10),K=Date.now();if(Q>K)return R;(0,n.removeLocalStorage)(A),(0,n.removeLocalStorage)(I)}const Y=j.misoConfig?.clientTokenUri||"/api/v1/auth/client-token",se=/^https?:\/\//i.test(Y)?Y:`${j.baseUrl}${Y}`;try{const Q=await fetch(se,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!Q.ok){const ee=await Q.text();throw new Error(`Failed to get environment token: ${Q.status} ${Q.statusText}. ${ee}`)}const K=await Q.json(),J=K.data?.token||K.token||K.accessToken||K.access_token;if(!J||typeof J!="string")throw new Error("Invalid response format: token not found in response");const W=K.data?.expiresIn||K.expiresIn||K.expires_in||3600,V=Date.now()+W*1e3;if((0,n.setLocalStorage)(A,J),(0,n.setLocalStorage)(I,V.toString()),U&&!(0,a.shouldSkipAudit)(Y,j.audit))try{await U.log.audit("client.token.request.success",Y,{method:"POST",url:Y,statusCode:Q.status,cached:!1},{})}catch(ee){console.warn("Failed to log audit event:",ee)}return J}catch(Q){const K=(0,l.extractErrorInfo)(Q,{endpoint:Y,method:"POST",correlationId:U?.log?.generateCorrelationId?U.log.generateCorrelationId():void 0});if((0,f.logErrorWithContext)(K,"[DataClient] [AUTH] [ClientToken]"),U&&!(0,a.shouldSkipAudit)(Y,j.audit))try{const J=Q instanceof Error?Q.message:"Unknown error";await U.log.audit("client.token.request.failed",Y,{method:"POST",url:Y,statusCode:K.statusCode||0,error:J,cached:!1,errorType:K.errorType,errorName:K.errorName,responseBody:K.responseBody},{errorCategory:"authentication",httpStatusCategory:K.statusCode&&K.statusCode>=500?"server-error":K.statusCode&&K.statusCode>=400?"client-error":"unknown",correlationId:K.correlationId})}catch(J){console.warn("Failed to log audit event:",J)}throw Q}}function N(j){if(!(0,n.isBrowser)())return null;const U=(0,n.getLocalStorage)("miso:client-token");if(U)return(0,i.extractClientTokenInfo)(U);const A=j?.clientToken;return A?(0,i.extractClientTokenInfo)(A):null}})(Ga)),Ga}var d0;function ZE(){if(d0)return Gr;d0=1;var r=Gr&&Gr.__createBinding||(Object.create?(function(U,A,I,R){R===void 0&&(R=I);var $=Object.getOwnPropertyDescriptor(A,I);(!$||("get"in $?!A.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return A[I]}}),Object.defineProperty(U,R,$)}):(function(U,A,I,R){R===void 0&&(R=I),U[R]=A[I]})),s=Gr&&Gr.__setModuleDefault||(Object.create?(function(U,A){Object.defineProperty(U,"default",{enumerable:!0,value:A})}):function(U,A){U.default=A}),n=Gr&&Gr.__importStar||(function(){var U=function(A){return U=Object.getOwnPropertyNames||function(I){var R=[];for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(R[R.length]=$);return R},U(A)};return function(A){if(A&&A.__esModule)return A;var I={};if(A!=null)for(var R=U(A),$=0;$<R.length;$++)R[$]!=="default"&&r(I,A,R[$]);return s(I,A),I}})();Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.DataClient=void 0,Gr.dataClient=j;const i=eS(),c=qs(),a=mn(),l=YE(),f=t_(),p=QE(),y=Qh(),g=zE(),d=BE(),v=$h(),E=zh(),S=Ep(),C=tE(),x=Hh(),b=Fh();class P{constructor(A){this.misoClient=null,this.cache=new Map,this.pendingRequests=new Map,this.failedRequests=new Map,this.interceptors={},this.metrics={totalRequests:0,totalFailures:0,responseTimes:[],cacheHits:0,cacheMisses:0},this.permissionService=null,this.roleService=null,this.config={tokenKeys:["token","accessToken","authToken"],loginUrl:"/login",timeout:3e4,cache:{enabled:!0,defaultTTL:300,maxSize:100},retry:{enabled:!0,maxRetries:3,baseDelay:1e3,maxDelay:1e4},audit:{enabled:!0,level:"standard",batchSize:10,maxResponseSize:1e4,maxMaskingSize:5e4,skipEndpoints:[]},...A},(0,a.isBrowser)()&&this.config.misoConfig?.clientSecret&&console.warn("âš ï¸ SECURITY WARNING: clientSecret detected in browser environment. Client secrets should NEVER be exposed in client-side code. Use the client token pattern instead (clientToken + onClientTokenRefresh). See documentation for browser-safe configuration.");let I;if(this.config.misoConfig&&(I={...this.config.misoConfig,onClientTokenRefresh:this.config.misoConfig.onClientTokenRefresh||((0,a.isBrowser)()&&!this.config.misoConfig.clientSecret?async()=>{const R=await this.getEnvironmentToken();if(!R)throw new Error("Failed to get client token");const $=(0,a.getLocalStorage)("miso:client-token-expires-at"),Y=$?parseInt($,10):Date.now()+36e5,se=Math.floor((Y-Date.now())/1e3);return{token:R,expiresIn:se>0?se:3600}}:void 0)},this.misoClient=new i.MisoClient(I)),this.config.misoConfig?.sensitiveFieldsConfig&&c.DataMasker.setConfigPath(this.config.misoConfig.sensitiveFieldsConfig),this.misoClient&&I){const R=new S.InternalHttpClient(I),$=new b.RedisService(I.redis),Y=new x.LoggerService(R,$),se=new E.HttpClient(I,Y);Y.httpClient=se;const Q=new C.ApiClient(se);Y.setApiClient(Q);const K=new v.CacheService(void 0);this.permissionService=new g.BrowserPermissionService(se,Q,K),this.roleService=new d.BrowserRoleService(se,Q,K)}(0,a.isBrowser)()&&this.handleOAuthCallback()}getToken(){return(0,p.getToken)(this.config.tokenKeys)}hasClientToken(){return(0,p.hasClientToken)(this.misoClient,this.config.misoConfig)}hasAnyToken(){return(0,p.hasAnyToken)(this.config.tokenKeys,this.misoClient,this.config.misoConfig)}async getClientToken(){return(0,p.getClientToken)(this.config.misoConfig,this.config.baseUrl,()=>this.getEnvironmentToken())}getControllerUrl(){return(0,p.getControllerUrl)(this.config.misoConfig)}isAuthenticated(){return this.getToken()!==null}handleOAuthCallback(){return(0,p.handleOAuthCallback)(this.config)}async redirectToLogin(A){return(0,y.redirectToLogin)(this.config,()=>this.getClientToken(),A)}async logout(A){return(0,p.logout)(this.config,()=>this.getToken(),()=>this.getClientToken(),()=>this.clearCache(),A,this.misoClient)}setInterceptors(A){this.interceptors={...this.interceptors,...A}}setAuditConfig(A){this.config.audit={...this.config.audit,...A}}setLogLevel(A){if(this.misoClient&&this.config.misoConfig){this.config.misoConfig.logLevel=A;try{const I=this.misoClient.config;I&&(I.logLevel=A)}catch{}}}clearCache(){this.cache.clear()}getMetrics(){const A=(this.metrics.responseTimes||[]).sort((R,$)=>R-$),I=A.length;return{totalRequests:this.metrics.totalRequests,totalFailures:this.metrics.totalFailures,averageResponseTime:I>0?A.reduce((R,$)=>R+$,0)/I:0,responseTimeDistribution:{min:I>0?A[0]:0,max:I>0?A[I-1]:0,p50:I>0?A[Math.floor(I*.5)]:0,p95:I>0?A[Math.floor(I*.95)]:0,p99:I>0?A[Math.floor(I*.99)]:0},errorRate:this.metrics.totalRequests>0?this.metrics.totalFailures/this.metrics.totalRequests:0,cacheHitRate:this.metrics.cacheHits+this.metrics.cacheMisses>0?this.metrics.cacheHits/(this.metrics.cacheHits+this.metrics.cacheMisses):0}}async request(A,I,R){const $=Date.now(),Y=`${this.config.baseUrl}${I}`,se={...R,method:A.toUpperCase()},Q=(0,l.getCacheKeyForRequest)(I,se),K=A.toUpperCase()==="GET",J=(0,l.isCacheEnabled)(A,this.config.cache,R),W=this.failedRequests.get(Q);if(W){const ee=Date.now()-W.timestamp,q=W.count||1;if(ee<(q===1?5e3:q===2?15e3:3e4))throw W.error;this.failedRequests.delete(Q)}if(J){const ee=(0,l.getCachedEntry)(this.cache,Q,this.metrics);if(ee!==null)return ee}if(K){const ee=this.pendingRequests.get(Q);if(ee)return ee}let V;K?(V=(async()=>{try{return await(0,f.executeHttpRequest)(A,Y,I,this.config,this.cache,Q,J,$,this.misoClient,()=>this.hasAnyToken(),()=>this.getToken(),()=>this.handleAuthError(),()=>this.refreshUserToken(),this.interceptors,this.metrics,R)}finally{this.pendingRequests.delete(Q)}})(),this.pendingRequests.set(Q,V)):V=(0,f.executeHttpRequest)(A,Y,I,this.config,this.cache,Q,J,$,this.misoClient,()=>this.hasAnyToken(),()=>this.getToken(),()=>this.handleAuthError(),()=>this.refreshUserToken(),this.interceptors,this.metrics,R);try{const ee=await V;return this.failedRequests.delete(Q),ee}catch(ee){const q=this.failedRequests.get(Q),ue=q?(q.count||1)+1:1;throw this.failedRequests.set(Q,{timestamp:Date.now(),error:ee,count:ue}),setTimeout(()=>{this.failedRequests.delete(Q)},3e4),ee}}async refreshUserToken(){if(!this.config.onTokenRefresh)return null;try{const A=await this.config.onTokenRefresh();if((0,a.isBrowser)()&&A.token){const{setLocalStorage:I}=await Promise.resolve().then(()=>n(mn())),R=this.config.tokenKeys||["token","accessToken","authToken"];for(const $ of R)I($,A.token)}return A}catch(A){return console.error("Token refresh failed:",A),null}}handleAuthError(){(0,a.isBrowser)()&&this.redirectToLogin().catch(A=>{console.error("Failed to redirect to login:",A)})}async applyRequestInterceptor(A,I){return this.interceptors.onRequest?await this.interceptors.onRequest(A,I):I}async get(A,I){const R=await this.applyRequestInterceptor(A,{...I,method:"GET"});return this.request("GET",A,R)}async post(A,I,R){const $=await this.applyRequestInterceptor(A,{...R,method:"POST",body:I?JSON.stringify(I):void 0,headers:{"Content-Type":"application/json",...R?.headers}});return this.request("POST",A,$)}async put(A,I,R){const $=await this.applyRequestInterceptor(A,{...R,method:"PUT",body:I?JSON.stringify(I):void 0,headers:{"Content-Type":"application/json",...R?.headers}});return this.request("PUT",A,$)}async patch(A,I,R){const $=await this.applyRequestInterceptor(A,{...R,method:"PATCH",body:I?JSON.stringify(I):void 0,headers:{"Content-Type":"application/json",...R?.headers}});return this.request("PATCH",A,$)}async delete(A,I){const R=await this.applyRequestInterceptor(A,{...I,method:"DELETE"});return this.request("DELETE",A,R)}async getPermissions(A){if(!this.misoClient||!this.permissionService)return[];const I=A||this.getToken();return I?this.permissionService.getPermissions(I):[]}async hasPermission(A,I){if(!this.misoClient||!this.permissionService)return!1;const R=I||this.getToken();return R?this.permissionService.hasPermission(R,A):!1}async hasAnyPermission(A,I){if(!this.misoClient||!this.permissionService)return!1;const R=I||this.getToken();return R?this.permissionService.hasAnyPermission(R,A):!1}async hasAllPermissions(A,I){if(!this.misoClient||!this.permissionService)return!1;const R=I||this.getToken();return R?this.permissionService.hasAllPermissions(R,A):!1}async refreshPermissions(A){if(!this.misoClient||!this.permissionService)return[];const I=A||this.getToken();return I?this.permissionService.refreshPermissions(I):[]}async clearPermissionsCache(A){if(!this.misoClient||!this.permissionService)return;const I=A||this.getToken();if(I)return this.permissionService.clearPermissionsCache(I)}async getRoles(A){if(!this.misoClient||!this.roleService)return[];const I=A||this.getToken();return I?this.roleService.getRoles(I):[]}async hasRole(A,I){if(!this.misoClient||!this.roleService)return!1;const R=I||this.getToken();return R?this.roleService.hasRole(R,A):!1}async hasAnyRole(A,I){if(!this.misoClient||!this.roleService)return!1;const R=I||this.getToken();return R?this.roleService.hasAnyRole(R,A):!1}async hasAllRoles(A,I){if(!this.misoClient||!this.roleService)return!1;const R=I||this.getToken();return R?this.roleService.hasAllRoles(R,A):!1}async refreshRoles(A){if(!this.misoClient||!this.roleService)return[];const I=A||this.getToken();return I?this.roleService.refreshRoles(I):[]}async clearRolesCache(A){if(!this.misoClient||!this.roleService)return;const I=A||this.getToken();if(I)return this.roleService.clearRolesCache(I)}async validateToken(A){if(!this.misoClient)return!1;const I=A||this.getToken();return I?this.misoClient.validateToken(I):!1}async getUser(A){if(!this.misoClient)return null;const I=A||this.getToken();return I?this.misoClient.getUser(I):null}async getUserInfo(A){if(!this.misoClient)return null;const I=A||this.getToken();return I?this.misoClient.getUserInfo(I):null}async isAuthenticatedAsync(A){return this.validateToken(A)}async getEnvironmentToken(){return(0,p.getEnvironmentToken)(this.config,this.misoClient)}getClientTokenInfo(){return(0,p.getClientTokenInfo)(this.config.misoConfig)}}Gr.DataClient=P;let N=null;function j(U){if(!N&&U&&(N=new P(U)),!N)throw new Error("DataClient not initialized. Call dataClient(config) first.");return N}return Gr}var Va={},f0;function r_(){if(f0)return Va;f0=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.getCachedDataClientConfig=c,Va.autoInitializeDataClient=f;const r=ZE(),s=mn(),n=JE();function i(){if(!(0,s.isBrowser)())return null;try{const p=(0,s.getLocalStorage)("miso:dataclient-config");if(!p)return null;const y=JSON.parse(p);return y.expiresAt&&y.expiresAt<Date.now()?((0,s.removeLocalStorage)("miso:dataclient-config"),null):y}catch{return(0,s.removeLocalStorage)("miso:dataclient-config"),null}}function c(){return i()?.config||null}function a(p,y){if((0,s.isBrowser)())try{const g={config:p,expiresAt:Date.now()+y*1e3};(0,s.setLocalStorage)("miso:dataclient-config",JSON.stringify(g))}catch{}}async function l(p,y){const g=/^https?:\/\//i.test(y)?y:`${p}${y}`,d=3e4,v=new AbortController,E=setTimeout(()=>v.abort(),d);try{let S;try{S=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",signal:v.signal})}catch(x){clearTimeout(E);const b=x instanceof Error?x.message:String(x);throw(x instanceof Error?x.name:"Unknown")==="AbortError"||b.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${d}ms. Please check if the server is running and accessible at ${g}`):b.includes("ERR_EMPTY_RESPONSE")||b.includes("empty response")?new Error(`Connection error: The server closed the connection without sending a response. Please check if the server is running and accessible at ${g}`):b.includes("Failed to fetch")||b.includes("network")?new Error(`Network error: Cannot connect to ${g}. Please check your network connection and ensure the server is running.`):new Error(`Failed to fetch config: ${b}`)}if(clearTimeout(E),S.status===405){const x=new AbortController,b=setTimeout(()=>x.abort(),d);try{S=await fetch(g,{method:"GET",credentials:"include",signal:x.signal}),clearTimeout(b)}catch(P){clearTimeout(b);const N=P instanceof Error?P.message:String(P);throw(P instanceof Error?P.name:"Unknown")==="AbortError"||N.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${d}ms. Please check if the server is running and accessible at ${g}`):new Error(`Failed to fetch config: ${N}`)}}if(!S.ok){let x=`Failed to fetch config: ${S.status} ${S.statusText}`,b;try{const N=S.headers.get("content-type");if(N&&N.includes("application/json")){const j=await S.json().catch(()=>null);if(j&&(typeof j.message=="string"?x=j.message:typeof j.error=="string"&&(x=j.error),j.details)){if(typeof j.details=="string")b=j.details;else if(typeof j.details=="object"&&j.details!==null){const U=j.details;typeof U.suggestion=="string"?b=U.suggestion:typeof U.controllerUrl=="string"&&(b=`Controller URL: ${U.controllerUrl}`)}}}else{const j=await S.text().catch(()=>"Unable to read error response");j&&j!=="Unable to read error response"&&(x=`${x}. ${j}`)}}catch{try{const j=await S.text().catch(()=>"");j&&(x=`${x}. ${j}`)}catch{}}const P=b?`${x}. ${b}`:x;throw new Error(P)}const C=await S.json();if(!(0,n.hasConfig)(C))throw new Error("Invalid response format: config not found in response. Make sure your server endpoint uses createClientTokenEndpoint() helper.");return C.config}catch(S){throw S instanceof Error?S:new Error(`Network error: ${String(S)}`)}}async function f(p){if(!(0,s.isBrowser)())throw new Error("autoInitializeDataClient() is only available in browser environment");const y={clientTokenUri:p?.clientTokenUri||"/api/v1/auth/client-token",cacheConfig:p?.cacheConfig??!0,baseUrl:p?.baseUrl,onError:p?.onError};try{const g=y.baseUrl||((0,s.isBrowser)()?globalThis.window.location.origin:"");if(!g)throw new Error("Unable to detect baseUrl. Please provide baseUrl option.");let d=null;if(y.cacheConfig){const E=i();E&&(d=E.config)}d||(d=await l(g,y.clientTokenUri),y.cacheConfig&&a(d,1800));const v={baseUrl:d.baseUrl,misoConfig:{clientId:d.clientId,controllerUrl:d.controllerUrl,controllerPublicUrl:d.controllerPublicUrl,clientTokenUri:d.clientTokenUri}};return new r.DataClient(v)}catch(g){const d=g instanceof Error?g:new Error(String(g));throw y.onError&&y.onError(d),d}}return Va}var h0;function eS(){return h0||(h0=1,(function(r){var s=hi&&hi.__createBinding||(Object.create?(function(re,B,te,fe){fe===void 0&&(fe=te);var Ce=Object.getOwnPropertyDescriptor(B,te);(!Ce||("get"in Ce?!B.__esModule:Ce.writable||Ce.configurable))&&(Ce={enumerable:!0,get:function(){return B[te]}}),Object.defineProperty(re,fe,Ce)}):(function(re,B,te,fe){fe===void 0&&(fe=te),re[fe]=B[te]})),n=hi&&hi.__exportStar||function(re,B){for(var te in re)te!=="default"&&!Object.prototype.hasOwnProperty.call(B,te)&&s(B,re,te)};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenValidationService=r.getCachedDataClientConfig=r.autoInitializeDataClient=r.dataClient=r.DataClient=r.hasConfig=r.createClientTokenEndpoint=r.EncryptionUtil=r.sendErrorResponse=r.getErrorTitle=r.getErrorTypeUri=r.handleRouteError=r.setErrorLogger=r.createErrorResponse=r.createSuccessResponse=r.AppError=r.ValidationHelper=r.asyncHandlerNamed=r.asyncHandler=r.injectResponseHelpers=r.ResponseHelper=r.handleApiError=r.transformError=r.ApiErrorException=r.MisoClientError=r.extractRequestContext=r.extractLoggingContext=r.validateUrl=r.isBrowser=r.resolveControllerUrl=r.extractClientTokenInfo=r.getEnvironmentToken=r.validateOrigin=r.loadConfig=r.HttpClient=r.CacheService=r.RedisService=r.LoggerService=r.BrowserRoleService=r.BrowserPermissionService=r.PermissionService=r.RoleService=r.AuthService=r.MisoClient=void 0;const i=$v(),c=Kv(),a=Vv(),l=Hh(),f=Fh(),p=$h(),y=zh(),g=Ep(),d=tE(),v=qs(),E=Z0(),S=Bc(),C=Mw();class x{constructor(B){this.initialized=!1,this.config=B,B.sensitiveFieldsConfig&&v.DataMasker.setConfigPath(B.sensitiveFieldsConfig);const te=new g.InternalHttpClient(B);this.redis=new f.RedisService(B.redis),this.logger=new l.LoggerService(te,this.redis),this.httpClient=new y.HttpClient(B,this.logger),this.logger.httpClient=this.httpClient,this.apiClient=new d.ApiClient(this.httpClient),this.logger.setApiClient(this.apiClient),this.cacheService=new p.CacheService(this.redis),this.auth=new i.AuthService(this.httpClient,this.apiClient,this.cacheService),this.roles=new c.RoleService(this.httpClient,this.apiClient,this.cacheService),this.permissions=new a.PermissionService(this.httpClient,this.apiClient,this.cacheService),this.tokenValidation=new C.TokenValidationService(B.keycloak)}async initialize(){if(!this.initialized)try{await this.redis.connect(),this.initialized=!0}catch{this.initialized=!0}}async disconnect(){await this.redis.disconnect(),this.initialized=!1}isInitialized(){return this.initialized}getToken(B){const te=B.headers.authorization;return te?te.startsWith("Bearer ")?te.substring(7):te:null}validateOrigin(B,te){const fe=te??this.config.allowedOrigins;return(0,S.validateOrigin)(B,fe)}async getEnvironmentToken(){return this.auth.getEnvironmentToken()}async login(B){return this.auth.login(B)}async validateToken(B,te){return this.auth.validateToken(B,te)}async getUser(B,te){return this.auth.getUser(B,te)}async getUserInfo(B,te){return this.auth.getUserInfo(B,te)}async isAuthenticated(B,te){return this.auth.isAuthenticated(B,te)}async logout(B){return this.auth.logout(B)}async refreshToken(B,te){return this.auth.refreshToken(B,te)}async validateTokenLocal(B,te){return this.tokenValidation.validateTokenLocal(B,te)}setKeycloakConfig(B){this.tokenValidation.setKeycloakConfig(B)}clearJwksCache(B){this.tokenValidation.clearCache(B)}clearValidationCache(){this.tokenValidation.clearResultCache()}clearAllTokenCaches(){this.tokenValidation.clearAllCaches()}async getRoles(B,te){return this.roles.getRoles(B,te)}async hasRole(B,te,fe){return this.roles.hasRole(B,te,fe)}async hasAnyRole(B,te,fe){return this.roles.hasAnyRole(B,te,fe)}async hasAllRoles(B,te,fe){return this.roles.hasAllRoles(B,te,fe)}async refreshRoles(B,te){return this.roles.refreshRoles(B,te)}async getPermissions(B,te){return this.permissions.getPermissions(B,te)}async hasPermission(B,te,fe){return this.permissions.hasPermission(B,te,fe)}async hasAnyPermission(B,te,fe){return this.permissions.hasAnyPermission(B,te,fe)}async hasAllPermissions(B,te,fe){return this.permissions.hasAllPermissions(B,te,fe)}async refreshPermissions(B,te){return this.permissions.refreshPermissions(B,te)}async clearPermissionsCache(B,te){return this.permissions.clearPermissionsCache(B,te)}get log(){return this.logger}get cache(){return this.cacheService}getConfig(){return{...this.config}}isRedisConnected(){return this.redis.isConnected()}async requestWithAuthStrategy(B,te,fe,Ce,Re){return this.httpClient.requestWithAuthStrategy(B,te,fe,Ce,Re)}createAuthStrategy(B,te,fe){return{methods:B,bearerToken:te,apiKey:fe}}getDefaultAuthStrategy(B){return E.AuthStrategyHandler.getDefaultStrategy(B)}}r.MisoClient=x,n(wp(),r),n(Bk(),r),n(FE(),r),n(Wk(),r);var b=$v();Object.defineProperty(r,"AuthService",{enumerable:!0,get:function(){return b.AuthService}});var P=Kv();Object.defineProperty(r,"RoleService",{enumerable:!0,get:function(){return P.RoleService}});var N=Vv();Object.defineProperty(r,"PermissionService",{enumerable:!0,get:function(){return N.PermissionService}});var j=zE();Object.defineProperty(r,"BrowserPermissionService",{enumerable:!0,get:function(){return j.BrowserPermissionService}});var U=BE();Object.defineProperty(r,"BrowserRoleService",{enumerable:!0,get:function(){return U.BrowserRoleService}});var A=Hh();Object.defineProperty(r,"LoggerService",{enumerable:!0,get:function(){return A.LoggerService}});var I=Fh();Object.defineProperty(r,"RedisService",{enumerable:!0,get:function(){return I.RedisService}});var R=$h();Object.defineProperty(r,"CacheService",{enumerable:!0,get:function(){return R.CacheService}});var $=zh();Object.defineProperty(r,"HttpClient",{enumerable:!0,get:function(){return $.HttpClient}});var Y=Kk();Object.defineProperty(r,"loadConfig",{enumerable:!0,get:function(){return Y.loadConfig}});var se=Bc();Object.defineProperty(r,"validateOrigin",{enumerable:!0,get:function(){return se.validateOrigin}});var Q=jp();Object.defineProperty(r,"getEnvironmentToken",{enumerable:!0,get:function(){return Q.getEnvironmentToken}});var K=Ri();Object.defineProperty(r,"extractClientTokenInfo",{enumerable:!0,get:function(){return K.extractClientTokenInfo}});var J=To();Object.defineProperty(r,"resolveControllerUrl",{enumerable:!0,get:function(){return J.resolveControllerUrl}}),Object.defineProperty(r,"isBrowser",{enumerable:!0,get:function(){return J.isBrowser}}),Object.defineProperty(r,"validateUrl",{enumerable:!0,get:function(){return J.validateUrl}});var W=Gk();Object.defineProperty(r,"extractLoggingContext",{enumerable:!0,get:function(){return W.extractLoggingContext}});var V=hu();Object.defineProperty(r,"extractRequestContext",{enumerable:!0,get:function(){return V.extractRequestContext}}),n(WE(),r),n(Vk(),r),n(Jk(),r);var ee=rl();Object.defineProperty(r,"MisoClientError",{enumerable:!0,get:function(){return ee.MisoClientError}}),Object.defineProperty(r,"ApiErrorException",{enumerable:!0,get:function(){return ee.ApiErrorException}}),Object.defineProperty(r,"transformError",{enumerable:!0,get:function(){return ee.transformError}}),Object.defineProperty(r,"handleApiError",{enumerable:!0,get:function(){return ee.handleApiError}});var q=e_();Object.defineProperty(r,"ResponseHelper",{enumerable:!0,get:function(){return q.ResponseHelper}}),Object.defineProperty(r,"injectResponseHelpers",{enumerable:!0,get:function(){return q.injectResponseHelpers}}),Object.defineProperty(r,"asyncHandler",{enumerable:!0,get:function(){return q.asyncHandler}}),Object.defineProperty(r,"asyncHandlerNamed",{enumerable:!0,get:function(){return q.asyncHandlerNamed}}),Object.defineProperty(r,"ValidationHelper",{enumerable:!0,get:function(){return q.ValidationHelper}}),Object.defineProperty(r,"AppError",{enumerable:!0,get:function(){return q.AppError}}),Object.defineProperty(r,"createSuccessResponse",{enumerable:!0,get:function(){return q.createSuccessResponse}}),Object.defineProperty(r,"createErrorResponse",{enumerable:!0,get:function(){return q.createErrorResponse}}),Object.defineProperty(r,"setErrorLogger",{enumerable:!0,get:function(){return q.setErrorLogger}}),Object.defineProperty(r,"handleRouteError",{enumerable:!0,get:function(){return q.handleRouteError}}),Object.defineProperty(r,"getErrorTypeUri",{enumerable:!0,get:function(){return q.getErrorTypeUri}}),Object.defineProperty(r,"getErrorTitle",{enumerable:!0,get:function(){return q.getErrorTitle}}),Object.defineProperty(r,"sendErrorResponse",{enumerable:!0,get:function(){return q.sendErrorResponse}}),Object.defineProperty(r,"EncryptionUtil",{enumerable:!0,get:function(){return q.EncryptionUtil}}),Object.defineProperty(r,"createClientTokenEndpoint",{enumerable:!0,get:function(){return q.createClientTokenEndpoint}}),Object.defineProperty(r,"hasConfig",{enumerable:!0,get:function(){return q.hasConfig}});var ue=ZE();Object.defineProperty(r,"DataClient",{enumerable:!0,get:function(){return ue.DataClient}}),Object.defineProperty(r,"dataClient",{enumerable:!0,get:function(){return ue.dataClient}});var ce=r_();Object.defineProperty(r,"autoInitializeDataClient",{enumerable:!0,get:function(){return ce.autoInitializeDataClient}}),Object.defineProperty(r,"getCachedDataClientConfig",{enumerable:!0,get:function(){return ce.getCachedDataClientConfig}});var F=Mw();Object.defineProperty(r,"TokenValidationService",{enumerable:!0,get:function(){return F.TokenValidationService}})})(hi)),hi}var tS=eS();const rS=H.createContext(void 0);function n_({children:r,initOptions:s}){const[n,i]=H.useState(null),[c,a]=H.useState(!0),[l,f]=H.useState(null),[p,y]=H.useState(0),g=3,d=2e3,v=async(x=0)=>{a(!0),f(null);try{const b=await tS.autoInitializeDataClient({clientTokenUri:s?.clientTokenUri,baseUrl:s?.baseUrl,cacheConfig:s?.cacheConfig??!0,onError:P=>{f(P)}});i(b),y(0)}catch(b){const P=b instanceof Error?b:new Error(String(b));if(x<g){const N=x+1;y(N);const j=d*Math.pow(2,x);return await new Promise(U=>setTimeout(U,j)),v(N)}f(P),i(null)}finally{a(!1)}},E=async()=>{y(0),await v(0)},S=x=>{i(x),f(null),a(!1),y(0)};H.useEffect(()=>{v()},[]);const C=H.useMemo(()=>({dataClient:n,isLoading:c,error:l,retryCount:p,reinitialize:E,setManualClient:S}),[n,c,l,p]);return h.jsx(rS.Provider,{value:C,children:r})}function Ro(){const r=H.useContext(rS);if(r===void 0)throw new Error("useDataClient must be used within DataClientProvider");return r}function p0(r){if(!r)return null;const s=r.message||String(r);try{const n=r;if(n.response?.data){const i=n.response.data;if(typeof i=="object"&&i!==null){const c=i,a=c.title&&typeof c.title=="string"?c.title:"Error",l=c.detail&&typeof c.detail=="string"?c.detail:a;if(c.title||c.detail)return{title:a,detail:l}}}}catch{}try{const n=s.indexOf("{");if(n!==-1){let i=0,c=-1;for(let a=n;a<s.length;a++)if(s[a]==="{"&&i++,s[a]==="}"&&(i--,i===0)){c=a;break}if(c!==-1){const a=s.substring(n,c+1),l=JSON.parse(a);if(l.title||l.detail){const f=l.title&&typeof l.title=="string"?l.title:"Error",p=l.detail&&typeof l.detail=="string"?l.detail:f;return{title:f,detail:p}}if(l.message&&typeof l.message=="string")return{title:"Error",detail:l.message};if(l.error&&typeof l.error=="string")return{title:"Error",detail:l.error}}}}catch{}return s.includes("ERR_EMPTY_RESPONSE")||s.includes("empty response")||s.includes("Connection error")?{title:"Connection Error",detail:"The server closed the connection without sending a response. Please check if the server is running and accessible."}:s.includes("timeout")||s.includes("Timeout")||s.includes("did not respond within")?{title:"Timeout Error",detail:"Request timed out. Please check your network connection and ensure the server is running."}:s.includes("Network")||s.includes("Failed to fetch")||s.includes("network")?{title:"Network Error",detail:"Unable to connect to server. Please check if the server is running and accessible."}:s.includes("CORS")||s.includes("cross-origin")||s.includes("CORS policy")?{title:"CORS Error",detail:"Cross-origin request blocked. Please check CORS configuration on the server."}:s.includes("ECONNREFUSED")||s.includes("connection refused")?{title:"Connection Error",detail:"Connection refused. Please check if the server is running and accessible."}:s.includes("ENOTFOUND")||s.includes("getaddrinfo")?{title:"Connection Error",detail:"Unable to resolve server address. Please check the server URL configuration."}:null}function St(r){return r instanceof Error?r.message:typeof r=="string"?r:"Unknown error occurred"}function Ph(r){const s=r;return s?.status||s?.response?.status||null}function m0(){const{dataClient:r,error:s,isLoading:n,reinitialize:i}=Ro(),[c,a]=H.useState(!1),[l,f]=H.useState(null),p=()=>{const U=tS.getCachedDataClientConfig();return U?{baseUrl:U.baseUrl||"",controllerUrl:U.controllerUrl||"",clientId:U.clientId||"",clientTokenUri:U.clientTokenUri}:null};H.useEffect(()=>{if(r){const U=p();f(U||{baseUrl:typeof window<"u"?window.location.origin:"http://localhost:3183",controllerUrl:"",clientId:""})}else f(null)},[r]);const y=async()=>{a(!0);try{await i();const U=p();U&&f(U),he.success("DataClient initialized successfully",{description:"Configuration fetched from server endpoint"})}catch(U){const A=U instanceof Error?U:new Error(St(U)),I=p0(A),R=I?.title||"Failed to initialize DataClient",$=I?.detail||A.message||"Unknown error occurred";he.error(R,{description:$,duration:5e3})}finally{a(!1)}},g=!!r,d=l?.baseUrl||(typeof window<"u"?window.location.origin:""),v=l?.controllerUrl||"Not set",E=l?.clientId||"Not set",S=s?p0(s):null,C=S?.title||(s?"Error":null),x=S?.detail||(s?s.message:null),b=S!==null,P=!n&&!c,N=P&&s&&C&&x,j=P&&g&&!s;return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b border-border bg-white",children:h.jsxs("div",{className:"px-8 py-6",children:[h.jsx("h1",{className:"text-2xl",children:"Configuration"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Initialize and configure the Data Client connection"})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-8",children:h.jsxs("div",{className:"max-w-4xl space-y-6",children:[N&&h.jsx(we,{className:"border-red-200 bg-red-50",children:h.jsx(Ee,{className:"pt-6",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(eC,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-red-900 mb-1",children:C}),h.jsx("p",{className:`text-sm text-red-700 ${b?"":"font-mono break-all"}`,children:x})]})]})})}),j&&h.jsx(we,{className:"border-green-200 bg-green-50",children:h.jsx(Ee,{className:"pt-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(E0,{className:"w-6 h-6 text-green-600"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-green-900",children:"DataClient Initialized"}),h.jsx("p",{className:"text-sm text-green-700",children:"Ready to make API requests"})]})]})})}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:h.jsx(CC,{className:"w-5 h-5 text-blue-600"})}),h.jsxs("div",{children:[h.jsx(Te,{children:"Zero-Config Setup"}),h.jsx(Be,{children:"Automatically fetch configuration from server (Recommended)"})]})]})}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:y,disabled:n||c,className:"w-full",size:"lg",children:c?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Initializing..."]}):h.jsxs(h.Fragment,{children:["Auto-Initialize DataClient",h.jsx(Yx,{className:"w-4 h-4 ml-2"})]})})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:h.jsx(S0,{className:"w-5 h-5 text-muted-foreground"})}),h.jsxs("div",{children:[h.jsx(Te,{children:"Configuration Settings"}),h.jsx(Be,{children:"Configure settings via environment variables"})]})]})}),h.jsx(Ee,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:["You can change configuration settings by editing the ",h.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file in the root directory:"]}),h.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-xs space-y-1",children:[h.jsx("div",{className:"text-muted-foreground",children:"# Application port (default: 3083)"}),h.jsx("div",{className:"text-muted-foreground",children:"PORT=3183"}),h.jsx("div",{className:"text-muted-foreground",children:"# MISO Application Client Credentials (per application)"}),h.jsx("div",{children:"MISO_CLIENTID=miso-controller-dev-miso-test"}),h.jsx("div",{children:"MISO_CLIENTSECRET=your-secret-here"}),h.jsx("div",{className:"text-muted-foreground",children:"# MISO Controller URL"}),h.jsx("div",{children:"MISO_CONTROLLER_URL=http://localhost:3000"})]}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["After modifying the ",h.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file, restart the server for changes to take effect."]})]})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Connection Information"}),h.jsx(Be,{children:"Current configuration settings"})]}),h.jsx(Ee,{children:h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[h.jsx("span",{className:"text-muted-foreground",children:"Status"}),h.jsx("span",{className:g?"text-green-600 font-medium":"text-muted-foreground",children:g?"Connected":"Not Initialized"})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[h.jsx("span",{className:"text-muted-foreground",children:"Base URL"}),h.jsx("span",{className:"font-mono text-xs",children:d})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[h.jsx("span",{className:"text-muted-foreground",children:"Controller URL"}),h.jsx("span",{className:"font-mono text-xs",children:v})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[h.jsx("span",{className:"text-muted-foreground",children:"Client ID"}),h.jsx("span",{className:"font-mono text-xs",children:E})]}),l?.clientTokenUri&&h.jsxs("div",{className:"flex justify-between py-2",children:[h.jsx("span",{className:"text-muted-foreground",children:"Client Token URI"}),h.jsx("span",{className:"font-mono text-xs",children:l.clientTokenUri})]})]})})]})]})})]})}function is(r,s,{checkForDefaultPrevented:n=!0}={}){return function(c){if(r?.(c),n===!1||!c.defaultPrevented)return s?.(c)}}function Dp(r,s=[]){let n=[];function i(a,l){const f=H.createContext(l),p=n.length;n=[...n,l];const y=d=>{const{scope:v,children:E,...S}=d,C=v?.[r]?.[p]||f,x=H.useMemo(()=>S,Object.values(S));return h.jsx(C.Provider,{value:x,children:E})};y.displayName=a+"Provider";function g(d,v){const E=v?.[r]?.[p]||f,S=H.useContext(E);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[y,g]}const c=()=>{const a=n.map(l=>H.createContext(l));return function(f){const p=f?.[r]||a;return H.useMemo(()=>({[`__scope${r}`]:{...f,[r]:p}}),[f,p])}};return c.scopeName=r,[i,s_(c,...s)]}function s_(...r){const s=r[0];if(r.length===1)return s;const n=()=>{const i=r.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(a){const l=i.reduce((f,{useScope:p,scopeName:y})=>{const d=p(a)[`__scope${y}`];return{...f,...d}},{});return H.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return n.scopeName=s.scopeName,n}function Zh(r){const s=i_(r),n=H.forwardRef((i,c)=>{const{children:a,...l}=i,f=H.Children.toArray(a),p=f.find(a_);if(p){const y=p.props.children,g=f.map(d=>d===p?H.Children.count(y)>1?H.Children.only(null):H.isValidElement(y)?y.props.children:null:d);return h.jsx(s,{...l,ref:c,children:H.isValidElement(y)?H.cloneElement(y,void 0,g):null})}return h.jsx(s,{...l,ref:c,children:a})});return n.displayName=`${r}.Slot`,n}function i_(r){const s=H.forwardRef((n,i)=>{const{children:c,...a}=n;if(H.isValidElement(c)){const l=c_(c),f=l_(a,c.props);return c.type!==H.Fragment&&(f.ref=i?ip(i,l):l),H.cloneElement(c,f)}return H.Children.count(c)>1?H.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var o_=Symbol("radix.slottable");function a_(r){return H.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===o_}function l_(r,s){const n={...s};for(const i in s){const c=r[i],a=s[i];/^on[A-Z]/.test(i)?c&&a?n[i]=(...f)=>{const p=a(...f);return c(...f),p}:c&&(n[i]=c):i==="style"?n[i]={...c,...a}:i==="className"&&(n[i]=[c,a].filter(Boolean).join(" "))}return{...r,...n}}function c_(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function u_(r){const s=r+"CollectionProvider",[n,i]=Dp(s),[c,a]=n(s,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:x,children:b}=C,P=H.useRef(null),N=H.useRef(new Map).current;return h.jsx(c,{scope:x,itemMap:N,collectionRef:P,children:b})};l.displayName=s;const f=r+"CollectionSlot",p=Zh(f),y=H.forwardRef((C,x)=>{const{scope:b,children:P}=C,N=a(f,b),j=Uc(x,N.collectionRef);return h.jsx(p,{ref:j,children:P})});y.displayName=f;const g=r+"CollectionItemSlot",d="data-radix-collection-item",v=Zh(g),E=H.forwardRef((C,x)=>{const{scope:b,children:P,...N}=C,j=H.useRef(null),U=Uc(x,j),A=a(g,b);return H.useEffect(()=>(A.itemMap.set(j,{ref:j,...N}),()=>void A.itemMap.delete(j))),h.jsx(v,{[d]:"",ref:U,children:P})});E.displayName=g;function S(C){const x=a(r+"CollectionConsumer",C);return H.useCallback(()=>{const P=x.collectionRef.current;if(!P)return[];const N=Array.from(P.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((A,I)=>N.indexOf(A.ref.current)-N.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:y,ItemSlot:E},S,i]}var Qc=globalThis?.document?H.useLayoutEffect:()=>{},d_=sp[" useId ".trim().toString()]||(()=>{}),f_=0;function nS(r){const[s,n]=H.useState(d_());return Qc(()=>{n(i=>i??String(f_++))},[r]),r||(s?`radix-${s}`:"")}var h_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Io=h_.reduce((r,s)=>{const n=Zh(`Primitive.${s}`),i=H.forwardRef((c,a)=>{const{asChild:l,...f}=c,p=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(p,{...f,ref:a})});return i.displayName=`Primitive.${s}`,{...r,[s]:i}},{});function p_(r){const s=H.useRef(r);return H.useEffect(()=>{s.current=r}),H.useMemo(()=>(...n)=>s.current?.(...n),[])}var m_=sp[" useInsertionEffect ".trim().toString()]||Qc;function sS({prop:r,defaultProp:s,onChange:n=()=>{},caller:i}){const[c,a,l]=g_({defaultProp:s,onChange:n}),f=r!==void 0,p=f?r:c;{const g=H.useRef(r!==void 0);H.useEffect(()=>{const d=g.current;d!==f&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,i])}const y=H.useCallback(g=>{if(f){const d=y_(g)?g(r):g;d!==r&&l.current?.(d)}else a(g)},[f,r,a,l]);return[p,y]}function g_({defaultProp:r,onChange:s}){const[n,i]=H.useState(r),c=H.useRef(n),a=H.useRef(s);return m_(()=>{a.current=s},[s]),H.useEffect(()=>{c.current!==n&&(a.current?.(n),c.current=n)},[n,c]),[n,i,a]}function y_(r){return typeof r=="function"}var v_=H.createContext(void 0);function iS(r){const s=H.useContext(v_);return r||s||"ltr"}var Oh="rovingFocusGroup.onEntryFocus",w_={bubbles:!1,cancelable:!0},ll="RovingFocusGroup",[ep,oS,E_]=u_(ll),[S_,aS]=Dp(ll,[E_]),[x_,C_]=S_(ll),lS=H.forwardRef((r,s)=>h.jsx(ep.Provider,{scope:r.__scopeRovingFocusGroup,children:h.jsx(ep.Slot,{scope:r.__scopeRovingFocusGroup,children:h.jsx(b_,{...r,ref:s})})}));lS.displayName=ll;var b_=H.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:c=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:y,preventScrollOnEntryFocus:g=!1,...d}=r,v=H.useRef(null),E=Uc(s,v),S=iS(a),[C,x]=sS({prop:l,defaultProp:f??null,onChange:p,caller:ll}),[b,P]=H.useState(!1),N=p_(y),j=oS(n),U=H.useRef(!1),[A,I]=H.useState(0);return H.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(Oh,N),()=>R.removeEventListener(Oh,N)},[N]),h.jsx(x_,{scope:n,orientation:i,dir:S,loop:c,currentTabStopId:C,onItemFocus:H.useCallback(R=>x(R),[x]),onItemShiftTab:H.useCallback(()=>P(!0),[]),onFocusableItemAdd:H.useCallback(()=>I(R=>R+1),[]),onFocusableItemRemove:H.useCallback(()=>I(R=>R-1),[]),children:h.jsx(Io.div,{tabIndex:b||A===0?-1:0,"data-orientation":i,...d,ref:E,style:{outline:"none",...r.style},onMouseDown:is(r.onMouseDown,()=>{U.current=!0}),onFocus:is(r.onFocus,R=>{const $=!U.current;if(R.target===R.currentTarget&&$&&!b){const Y=new CustomEvent(Oh,w_);if(R.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const se=j().filter(V=>V.focusable),Q=se.find(V=>V.active),K=se.find(V=>V.id===C),W=[Q,K,...se].filter(Boolean).map(V=>V.ref.current);dS(W,g)}}U.current=!1}),onBlur:is(r.onBlur,()=>P(!1))})})}),cS="RovingFocusGroupItem",uS=H.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:c=!1,tabStopId:a,children:l,...f}=r,p=nS(),y=a||p,g=C_(cS,n),d=g.currentTabStopId===y,v=oS(n),{onFocusableItemAdd:E,onFocusableItemRemove:S,currentTabStopId:C}=g;return H.useEffect(()=>{if(i)return E(),()=>S()},[i,E,S]),h.jsx(ep.ItemSlot,{scope:n,id:y,focusable:i,active:c,children:h.jsx(Io.span,{tabIndex:d?0:-1,"data-orientation":g.orientation,...f,ref:s,onMouseDown:is(r.onMouseDown,x=>{i?g.onItemFocus(y):x.preventDefault()}),onFocus:is(r.onFocus,()=>g.onItemFocus(y)),onKeyDown:is(r.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){g.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=__(x,g.orientation,g.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=v().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const j=N.indexOf(x.currentTarget);N=g.loop?R_(N,j+1):N.slice(j+1)}setTimeout(()=>dS(N))}}),children:typeof l=="function"?l({isCurrentTabStop:d,hasTabStop:C!=null}):l})})});uS.displayName=cS;var T_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k_(r,s){return s!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function __(r,s,n){const i=k_(r.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return T_[i]}function dS(r,s=!1){const n=document.activeElement;for(const i of r)if(i===n||(i.focus({preventScroll:s}),document.activeElement!==n))return}function R_(r,s){return r.map((n,i)=>r[(s+i)%r.length])}var I_=lS,A_=uS;function N_(r,s){return H.useReducer((n,i)=>s[n][i]??n,r)}var fS=r=>{const{present:s,children:n}=r,i=P_(s),c=typeof n=="function"?n({present:i.isPresent}):H.Children.only(n),a=Uc(i.ref,O_(c));return typeof n=="function"||i.isPresent?H.cloneElement(c,{ref:a}):null};fS.displayName="Presence";function P_(r){const[s,n]=H.useState(),i=H.useRef(null),c=H.useRef(r),a=H.useRef("none"),l=r?"mounted":"unmounted",[f,p]=N_(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect(()=>{const y=jc(i.current);a.current=f==="mounted"?y:"none"},[f]),Qc(()=>{const y=i.current,g=c.current;if(g!==r){const v=a.current,E=jc(y);r?p("MOUNT"):E==="none"||y?.display==="none"?p("UNMOUNT"):p(g&&v!==E?"ANIMATION_OUT":"UNMOUNT"),c.current=r}},[r,p]),Qc(()=>{if(s){let y;const g=s.ownerDocument.defaultView??window,d=E=>{const C=jc(i.current).includes(CSS.escape(E.animationName));if(E.target===s&&C&&(p("ANIMATION_END"),!c.current)){const x=s.style.animationFillMode;s.style.animationFillMode="forwards",y=g.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=x)})}},v=E=>{E.target===s&&(a.current=jc(i.current))};return s.addEventListener("animationstart",v),s.addEventListener("animationcancel",d),s.addEventListener("animationend",d),()=>{g.clearTimeout(y),s.removeEventListener("animationstart",v),s.removeEventListener("animationcancel",d),s.removeEventListener("animationend",d)}}else p("ANIMATION_END")},[s,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:H.useCallback(y=>{i.current=y?getComputedStyle(y):null,n(y)},[])}}function jc(r){return r?.animationName||"none"}function O_(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var Su="Tabs",[j_]=Dp(Su,[aS]),hS=aS(),[D_,Lp]=j_(Su),pS=H.forwardRef((r,s)=>{const{__scopeTabs:n,value:i,onValueChange:c,defaultValue:a,orientation:l="horizontal",dir:f,activationMode:p="automatic",...y}=r,g=iS(f),[d,v]=sS({prop:i,onChange:c,defaultProp:a??"",caller:Su});return h.jsx(D_,{scope:n,baseId:nS(),value:d,onValueChange:v,orientation:l,dir:g,activationMode:p,children:h.jsx(Io.div,{dir:g,"data-orientation":l,...y,ref:s})})});pS.displayName=Su;var mS="TabsList",gS=H.forwardRef((r,s)=>{const{__scopeTabs:n,loop:i=!0,...c}=r,a=Lp(mS,n),l=hS(n);return h.jsx(I_,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:i,children:h.jsx(Io.div,{role:"tablist","aria-orientation":a.orientation,...c,ref:s})})});gS.displayName=mS;var yS="TabsTrigger",vS=H.forwardRef((r,s)=>{const{__scopeTabs:n,value:i,disabled:c=!1,...a}=r,l=Lp(yS,n),f=hS(n),p=SS(l.baseId,i),y=xS(l.baseId,i),g=i===l.value;return h.jsx(A_,{asChild:!0,...f,focusable:!c,active:g,children:h.jsx(Io.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":y,"data-state":g?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p,...a,ref:s,onMouseDown:is(r.onMouseDown,d=>{!c&&d.button===0&&d.ctrlKey===!1?l.onValueChange(i):d.preventDefault()}),onKeyDown:is(r.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&l.onValueChange(i)}),onFocus:is(r.onFocus,()=>{const d=l.activationMode!=="manual";!g&&!c&&d&&l.onValueChange(i)})})})});vS.displayName=yS;var wS="TabsContent",ES=H.forwardRef((r,s)=>{const{__scopeTabs:n,value:i,forceMount:c,children:a,...l}=r,f=Lp(wS,n),p=SS(f.baseId,i),y=xS(f.baseId,i),g=i===f.value,d=H.useRef(g);return H.useEffect(()=>{const v=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(v)},[]),h.jsx(fS,{present:c||g,children:({present:v})=>h.jsx(Io.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!v,id:y,tabIndex:0,...l,ref:s,style:{...r.style,animationDuration:d.current?"0s":void 0},children:v&&a})})});ES.displayName=wS;function SS(r,s){return`${r}-trigger-${s}`}function xS(r,s){return`${r}-content-${s}`}var L_=pS,M_=gS,U_=vS,q_=ES;function xu({className:r,...s}){return h.jsx(L_,{"data-slot":"tabs",className:Yr("flex flex-col gap-2",r),...s})}function Cu({className:r,...s}){return h.jsx(M_,{"data-slot":"tabs-list",className:Yr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...s})}function hr({className:r,...s}){return h.jsx(U_,{"data-slot":"tabs-trigger",className:Yr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s})}function pr({className:r,...s}){return h.jsx(q_,{"data-slot":"tabs-content",className:Yr("flex-1 outline-none",r),...s})}function H_(r,s){const[n,i]=H.useState(!1),[c,a]=H.useState(null),l=async(I,R,$)=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{let Y;switch(I){case"GET":Y=await r.get(R,{cache:{enabled:!1}});break;case"POST":Y=await r.post(R,$);break;case"PUT":Y=await r.put(R,$);break;case"PATCH":Y=await r.patch(R,$);break;case"DELETE":Y=await r.delete(R);break;default:throw new Error(`Unsupported method: ${I}`)}a({method:I,endpoint:R,status:200,timestamp:new Date().toISOString(),data:Y}),he.success(`${I} ${R} successful`)}catch(Y){const se=St(Y),Q=Ph(Y)||"ERROR";a({method:I,endpoint:R,error:se,status:Q,timestamp:new Date().toISOString()}),he.error("Request failed",{description:se})}finally{i(!1)}};return{loading:n,result:c,isDisabled:n||s||!r,httpMethods:{testGet:()=>{l("GET","/api/users")},testGetById:()=>{l("GET","/api/users/1")},testPost:()=>{l("POST","/api/users",{name:"New User",email:"newuser@example.com"})},testPut:()=>{l("PUT","/api/users/1",{name:"John Doe Updated",email:"john.updated@example.com"})},testPatch:()=>{l("PATCH","/api/users/1",{email:"john.patched@example.com"})},testDelete:()=>{l("DELETE","/api/users/1")}},auth:{testIsAuthenticated:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=r.isAuthenticated();a({authenticated:I,timestamp:new Date().toISOString()}),he.success(I?"User is authenticated":"User is not authenticated")}catch(I){const R=St(I);he.error("Failed to check authentication",{description:R})}finally{i(!1)}},testGetToken:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=await r.getEnvironmentToken();a({token:I||"No token available",timestamp:new Date().toISOString()}),he.success("Token retrieved successfully")}catch(I){const R=St(I);he.error("Failed to get token",{description:R})}finally{i(!1)}},testGetClientTokenInfo:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=r.getClientTokenInfo();a({tokenInfo:I||"No token info available",timestamp:new Date().toISOString()}),he.success("Token info retrieved successfully")}catch(I){const R=St(I);he.error("Failed to get token info",{description:R})}finally{i(!1)}},testGetUser:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=await r.getUser();if(!I){he.error("No user info available. Please login first."),a({error:"No user info available. User may not be authenticated. Please login first.",timestamp:new Date().toISOString()});return}a({userInfo:I,timestamp:new Date().toISOString()}),he.success("User info retrieved successfully")}catch(I){const R=St(I),$=Ph(I);$===401?he.error("Authentication failed",{description:"Token is invalid or expired. Please login again."}):he.error("Failed to get user info",{description:R}),a({error:R,status:$,timestamp:new Date().toISOString()})}finally{i(!1)}},testLogout:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{await r.logout(),a({message:"User logged out successfully",timestamp:new Date().toISOString()}),he.success("Logged out successfully")}catch(I){const R=St(I);he.error("Logout failed",{description:R})}finally{i(!1)}},testRedirectToLogin:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{a({message:"Redirecting to login... (Page will redirect to miso-controller login endpoint)",timestamp:new Date().toISOString()}),await r.redirectToLogin()}catch(I){const R=St(I);a({error:R,timestamp:new Date().toISOString()}),he.error("Redirect to login failed",{description:R}),i(!1)}}},errors:{testNetworkError:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{await r.get("/api/invalid-endpoint-that-does-not-exist-12345",{cache:{enabled:!1}})}catch(I){const R=St(I);a({error:R,type:"NETWORK_ERROR",message:R,timestamp:new Date().toISOString()}),he.error("Network error occurred",{description:R})}finally{i(!1)}},testTimeout:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{await r.get("/api/slow-endpoint",{cache:{enabled:!1},timeout:100})}catch(I){const R=St(I);a({error:R,type:"TIMEOUT_ERROR",message:R,timestamp:new Date().toISOString()}),he.error("Request timeout occurred",{description:R})}finally{i(!1)}},testApiError:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{await r.post("/api/users",{invalid:"data"})}catch(I){const R=St(I),$=Ph(I);a({error:R,status:$||400,details:I.response?.data||R,timestamp:new Date().toISOString()}),he.error("API error occurred",{description:R})}finally{i(!1)}}}}}function F_({isDisabled:r,httpMethods:s}){return h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"GET Requests"}),h.jsx(Be,{children:"Retrieve data from the server"})]}),h.jsxs(Ee,{className:"space-y-2",children:[h.jsx(Xe,{onClick:s.testGet,disabled:r,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users"}),h.jsx(Xe,{onClick:s.testGetById,disabled:r,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users/:id"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"POST Requests"}),h.jsx(Be,{children:"Create new resources"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testPost,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700",children:"POST /api/users"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"PUT Requests"}),h.jsx(Be,{children:"Update existing resources"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testPut,disabled:r,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PUT /api/users/:id"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"PATCH Requests"}),h.jsx(Be,{children:"Partially update resources"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testPatch,disabled:r,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PATCH /api/users/:id"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"DELETE Requests"}),h.jsx(Be,{children:"Remove resources"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testDelete,disabled:r,variant:"destructive",className:"w-full",children:"DELETE /api/users/:id"})})]})]})}function $_({isDisabled:r,auth:s}){return h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check Authentication"}),h.jsx(Be,{children:"Verify user authentication status"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testIsAuthenticated,disabled:r,className:"w-full",children:"isAuthenticated()"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Get Token"}),h.jsx(Be,{children:"Retrieve environment token"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testGetToken,disabled:r,className:"w-full",children:"getEnvironmentToken()"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Get Token Info"}),h.jsx(Be,{children:"Get client token information"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testGetClientTokenInfo,disabled:r,className:"w-full",children:"getClientTokenInfo()"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Get User"}),h.jsx(Be,{children:"Get current user information"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testGetUser,disabled:r,className:"w-full !bg-purple-600 hover:!bg-purple-700 !text-white",children:"getUser()"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Logout"}),h.jsx(Be,{children:"End user session"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testLogout,disabled:r,variant:"destructive",className:"w-full",children:"logout()"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Redirect to Login"}),h.jsx(Be,{children:"Redirect to miso-controller login page"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testRedirectToLogin,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700",children:"redirectToLogin()"})})]})]})}function z_({isDisabled:r,errors:s}){return h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Network Error"}),h.jsx(Be,{children:"Simulate connection failure"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testNetworkError,disabled:r,variant:"destructive",className:"w-full",children:"Test Network Error"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Timeout Error"}),h.jsx(Be,{children:"Simulate request timeout"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testTimeout,disabled:r,variant:"destructive",className:"w-full",children:"Test Timeout"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"API Error (400)"}),h.jsx(Be,{children:"Simulate validation error"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:s.testApiError,disabled:r,variant:"destructive",className:"w-full",children:"Test API Error"})})]})]})}function B_(){const{dataClient:r,isLoading:s}=Ro(),{result:n,isDisabled:i,httpMethods:c,auth:a,errors:l}=H_(r,s);return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b border-border bg-white",children:h.jsxs("div",{className:"px-8 py-6",children:[h.jsx("h1",{className:"text-2xl",children:"API Testing"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Test HTTP methods, authentication, and error handling"})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-8",children:h.jsxs("div",{className:"max-w-6xl",children:[h.jsxs(xu,{defaultValue:"http",className:"space-y-6",children:[h.jsxs(Cu,{children:[h.jsx(hr,{value:"http",children:"HTTP Methods"}),h.jsx(hr,{value:"auth",children:"Authentication"}),h.jsx(hr,{value:"errors",children:"Error Handling"})]}),h.jsx(pr,{value:"http",className:"space-y-6",children:h.jsx(F_,{isDisabled:i,httpMethods:c})}),h.jsx(pr,{value:"auth",className:"space-y-6",children:h.jsx($_,{isDisabled:i,auth:a})}),h.jsx(pr,{value:"errors",className:"space-y-6",children:h.jsx(z_,{isDisabled:i,errors:l})})]}),n&&h.jsxs(we,{className:"mt-6",children:[h.jsx(be,{children:h.jsx(Te,{className:"text-lg",children:"Response"})}),h.jsx(Ee,{children:h.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(n,null,2)})})]})]})})]})}function Ci({className:r,type:s,...n}){return h.jsx("input",{type:s,"data-slot":"input",className:Yr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...n})}var W_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K_=W_.reduce((r,s)=>{const n=C0(`Primitive.${s}`),i=H.forwardRef((c,a)=>{const{asChild:l,...f}=c,p=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(p,{...f,ref:a})});return i.displayName=`Primitive.${s}`,{...r,[s]:i}},{}),G_="Label",CS=H.forwardRef((r,s)=>h.jsx(K_.label,{...r,ref:s,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(r.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CS.displayName=G_;var V_=CS;function rs({className:r,...s}){return h.jsx(V_,{"data-slot":"label",className:Yr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}function J_(){const{dataClient:r,isLoading:s}=Ro(),[n,i]=H.useState(!1),[c,a]=H.useState(null),[l,f]=H.useState("60000"),p=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const S=Date.now(),C=await r.get("/api/users",{cache:{enabled:!0,ttl:parseInt(l,10)}}),x=Date.now()-S;a({data:C,cached:x<100,cacheKey:"GET:/api/users",ttl:l+"ms",duration:x+"ms",timestamp:new Date().toISOString()}),he.success("Data retrieved",{description:x<100?"Response served from cache":"Fetched from server"})}catch(S){const C=S instanceof Error?S.message:"Unknown error";he.error("Request failed",{description:C})}finally{i(!1)}},y=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const S=Date.now(),C=await r.get("/api/users",{cache:{enabled:!1}}),x=Date.now()-S;a({data:C,cached:!1,duration:x+"ms",timestamp:new Date().toISOString()}),he.success("Fresh data retrieved",{description:"Cache bypassed, fetched from server"})}catch(S){const C=S instanceof Error?S.message:"Unknown error";he.error("Request failed",{description:C})}finally{i(!1)}},g=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{r.clearCache();const S=r.getMetrics();a({message:"Cache cleared successfully",cacheHitRate:S.cacheHitRate,timestamp:new Date().toISOString()}),he.success("Cache cleared",{description:"All cache entries removed"})}catch(S){const C=S instanceof Error?S.message:"Unknown error";he.error("Failed to clear cache",{description:C})}finally{i(!1)}},d=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{r.setInterceptors({onRequest:async(C,x)=>({...x,headers:{...x.headers,"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}})});const S={url:"/api/users",method:"GET"};await r.get("/api/users",{cache:{enabled:!1}}),a({interceptor:"request",originalRequest:S,modifiedRequest:{...S,headers:{"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}},timestamp:new Date().toISOString()}),he.success("Request interceptor applied")}catch(S){const C=S instanceof Error?S.message:"Unknown error";he.error("Interceptor test failed",{description:C})}finally{i(!1)}},v=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{he.info("Attempting request with retries...");const S=Date.now();await r.get("/api/users",{cache:{enabled:!1}});const C=Date.now()-S;a({message:"Request succeeded",duration:C+"ms",retries:"Automatic retries handled by DataClient",timestamp:new Date().toISOString()}),he.success("Request completed")}catch(S){const C=S instanceof Error?S.message:"Unknown error";a({error:C,retries:"Retry logic attempted",timestamp:new Date().toISOString()}),he.error("Request failed after retries",{description:C})}finally{i(!1)}},E=n||s||!r;return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b border-border bg-white",children:h.jsxs("div",{className:"px-8 py-6",children:[h.jsx("h1",{className:"text-2xl",children:"Caching & Storage"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Test caching mechanisms, interceptors, and retry logic"})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-8",children:h.jsxs("div",{className:"max-w-6xl space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:h.jsx(Dh,{className:"w-5 h-5 text-green-600"})}),h.jsxs("div",{children:[h.jsx(Te,{className:"text-lg",children:"Cache Enabled"}),h.jsx(Be,{children:"Retrieve data with caching"})]})]})}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"cacheTTL",children:"Cache TTL (milliseconds)"}),h.jsx(Ci,{id:"cacheTTL",type:"number",value:l,onChange:S=>f(S.target.value),placeholder:"60000"})]}),h.jsxs(Xe,{onClick:p,disabled:E,className:"w-full bg-green-600 hover:bg-green-700",children:[h.jsx(Dh,{className:"w-4 h-4 mr-2"}),"GET with Cache"]})]})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:h.jsx(Mc,{className:"w-5 h-5 text-blue-600"})}),h.jsxs("div",{children:[h.jsx(Te,{className:"text-lg",children:"Cache Bypassed"}),h.jsx(Be,{children:"Fetch fresh data from server"})]})]})}),h.jsx(Ee,{children:h.jsxs(Xe,{onClick:y,disabled:E,className:"w-full bg-blue-600 hover:bg-blue-700",children:[h.jsx(Mc,{className:"w-4 h-4 mr-2"}),"GET without Cache"]})})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Cache Management"}),h.jsx(Be,{children:"Clear cache entries"})]}),h.jsx(Ee,{className:"space-y-4",children:h.jsx("div",{className:"grid grid-cols-2 gap-4",children:h.jsxs(Xe,{onClick:g,disabled:E,variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[h.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Clear All Cache"]})})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Request Interceptors"}),h.jsx(Be,{children:"Modify requests before sending"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:d,disabled:E,className:"w-full",children:"Test Request Interceptor"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Retry Logic"}),h.jsx(Be,{children:"Automatic retry on failures"})]}),h.jsx(Ee,{children:h.jsx(Xe,{onClick:v,disabled:E,className:"w-full",children:"Test Retry Mechanism"})})]})]}),c&&h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{className:"text-lg",children:"Response"})}),h.jsx(Ee,{children:h.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(c,null,2)})})]})]})})]})}function Y_(){const{dataClient:r,isLoading:s}=Ro(),[n,i]=H.useState(!1),[c,a]=H.useState(null),[l,f]=H.useState([]),p=()=>{if(r)try{const x=r.getMetrics();a({totalRequests:x.totalRequests,successfulRequests:x.totalRequests-x.totalFailures,failedRequests:x.totalFailures,cacheHits:Math.round(x.cacheHitRate*x.totalRequests*.3),cacheMisses:Math.round(x.totalRequests*.7),averageResponseTime:Math.round(x.averageResponseTime),cacheHitRate:x.cacheHitRate,errorRate:x.errorRate})}catch(x){console.error("Failed to load metrics:",x)}};H.useEffect(()=>{r&&p()},[r]);const y=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{p(),he.success("Metrics retrieved successfully")}catch(x){const b=x instanceof Error?x.message:"Unknown error";he.error("Failed to get metrics",{description:b})}finally{i(!1)}},g=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{he.info("Making multiple requests...");const x=Date.now(),b=[r.get("/api/users",{cache:{enabled:!1}}).catch(()=>null),r.get("/api/products",{cache:{enabled:!1}}).catch(()=>null),r.get("/api/orders",{cache:{enabled:!1}}).catch(()=>null)];await Promise.all(b);const P=Date.now()-x,N=[{endpoint:"/api/users",status:200,duration:`${Math.round(P/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/products",status:200,duration:`${Math.round(P/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/orders",status:200,duration:`${Math.round(P/3)}ms`,timestamp:new Date().toISOString()}];f(j=>[...N,...j]),p(),he.success("All requests completed",{description:`Total duration: ${P}ms`})}catch(x){const b=x instanceof Error?x.message:"Unknown error";he.error("Some requests failed",{description:b})}finally{i(!1)}},d=async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const x=Date.now();await r.put("/api/users/1",{name:"Updated User",email:"updated@example.com"}).catch(()=>null);const b=Date.now()-x,P={id:"audit-"+Date.now(),action:"USER_UPDATE",timestamp:new Date().toISOString(),endpoint:"/api/users/1",method:"PUT",status:200,duration:`${b}ms`};f(N=>[P,...N]),p(),he.success("Audit log created")}catch(x){const b=x instanceof Error?x.message:"Unknown error";he.error("Audit logging test failed",{description:b})}finally{i(!1)}},v=()=>{f([]),he.success("Audit logs cleared")},E=c&&c.totalRequests>0?(c.successfulRequests/c.totalRequests*100).toFixed(1):"0",S=c&&c.cacheHitRate!==void 0?(c.cacheHitRate*100).toFixed(1):c&&c.cacheHits+c.cacheMisses>0?(c.cacheHits/(c.cacheHits+c.cacheMisses)*100).toFixed(1):"0",C=n||s||!r;return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b border-border bg-white",children:h.jsxs("div",{className:"px-8 py-6",children:[h.jsx("h1",{className:"text-2xl",children:"Monitoring & Logs"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"View performance metrics, audit logs, and system health"})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-8",children:h.jsx("div",{className:"max-w-6xl",children:h.jsxs(xu,{defaultValue:"metrics",className:"space-y-6",children:[h.jsxs(Cu,{children:[h.jsx(hr,{value:"metrics",children:"Metrics"}),h.jsx(hr,{value:"audit",children:"Audit Logs"})]}),h.jsxs(pr,{value:"metrics",className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Xe,{onClick:y,disabled:C,className:"bg-blue-600 hover:bg-blue-700",children:[h.jsx(Vx,{className:"w-4 h-4 mr-2"}),"Refresh Metrics"]}),h.jsxs(Xe,{onClick:g,disabled:C,className:"bg-green-600 hover:bg-green-700",children:[h.jsx(iy,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),c&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[h.jsx(we,{children:h.jsxs(Ee,{className:"pt-6",children:[h.jsx("div",{className:"text-2xl font-semibold",children:c.totalRequests}),h.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Total Requests"})]})}),h.jsx(we,{children:h.jsxs(Ee,{className:"pt-6",children:[h.jsxs("div",{className:"text-2xl font-semibold text-green-600",children:[E,"%"]}),h.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Success Rate"})]})}),h.jsx(we,{children:h.jsxs(Ee,{className:"pt-6",children:[h.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[S,"%"]}),h.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})}),h.jsx(we,{children:h.jsxs(Ee,{className:"pt-6",children:[h.jsxs("div",{className:"text-2xl font-semibold",children:[c.averageResponseTime,"ms"]}),h.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Avg Response Time"})]})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Request Status"}),h.jsx(Be,{children:"Breakdown by success/failure"})]}),h.jsx(Ee,{children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Successful"}),h.jsx("span",{className:"text-sm font-medium text-green-600",children:c.successfulRequests})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),h.jsx("span",{className:"text-sm font-medium text-red-600",children:c.failedRequests})]}),h.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[h.jsx("span",{className:"text-sm font-medium",children:"Total"}),h.jsx("span",{className:"text-sm font-medium",children:c.totalRequests})]})]})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Cache Performance"}),h.jsx(Be,{children:"Cache hits vs misses"})]}),h.jsx(Ee,{children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Hits"}),h.jsx("span",{className:"text-sm font-medium text-green-600",children:c.cacheHits})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Misses"}),h.jsx("span",{className:"text-sm font-medium text-orange-600",children:c.cacheMisses})]}),h.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[h.jsx("span",{className:"text-sm font-medium",children:"Hit Rate"}),h.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[S,"%"]})]})]})})]})]}),c&&h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Metrics Details"}),h.jsx(Be,{children:"Detailed performance metrics"})]}),h.jsx(Ee,{children:h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total Requests"}),h.jsx("span",{className:"font-medium",children:c.totalRequests})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Successful"}),h.jsx("span",{className:"font-medium text-green-600",children:c.successfulRequests})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Failed"}),h.jsx("span",{className:"font-medium text-red-600",children:c.failedRequests})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),h.jsxs("span",{className:"font-medium",children:[(c.errorRate*100).toFixed(1),"%"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Average Response Time"}),h.jsxs("span",{className:"font-medium",children:[c.averageResponseTime,"ms"]})]})]})})]})]})]}),h.jsxs(pr,{value:"audit",className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Xe,{onClick:d,disabled:C,children:[h.jsx(S0,{className:"w-4 h-4 mr-2"}),"Create Audit Log"]}),h.jsxs(Xe,{onClick:g,disabled:C,className:"bg-green-600 hover:bg-green-700",children:[h.jsx(iy,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),l.length>0&&h.jsx(Xe,{onClick:v,variant:"outline",size:"sm",children:"Clear Logs"})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Audit Log Entries"}),h.jsx(Be,{children:"Recent activity and requests"})]}),h.jsx(Ee,{children:l.length===0?h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No audit logs yet. Make some requests to see logs here."}):h.jsx("div",{className:"space-y-2",children:l.map((x,b)=>h.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:"font-mono text-xs",children:x.endpoint}),h.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleTimeString()})]}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[h.jsxs("span",{children:["Method: ",h.jsx("span",{className:"font-medium",children:x.method||"GET"})]}),h.jsxs("span",{children:["Status: ",h.jsx("span",{className:`font-medium ${x.status===200?"text-green-600":"text-red-600"}`,children:x.status})]}),h.jsxs("span",{children:["Duration: ",h.jsx("span",{className:"font-medium",children:x.duration})]})]})]},b))})})]})]})]})})})]})}function X_(r){return!r||r.trim().length===0?{valid:!1,error:"Role name cannot be empty"}:r.length>100?{valid:!1,error:"Role name must be 100 characters or less"}:/^[a-zA-Z0-9_-]+$/.test(r.trim())?{valid:!0}:{valid:!1,error:"Role name can only contain letters, numbers, underscores, and hyphens"}}function bS(r){return!r||r.trim().length===0?{valid:!1,error:"Permission name cannot be empty"}:r.length>100?{valid:!1,error:"Permission name must be 100 characters or less"}:/^[a-zA-Z0-9_.-]+$/.test(r.trim())?{valid:!0}:{valid:!1,error:"Permission name can only contain letters, numbers, underscores, dots, and hyphens"}}function g0(r){if(!r||r.trim().length===0)return{valid:!1,error:"Permissions cannot be empty"};const s=r.split(",").map(n=>n.trim()).filter(Boolean);if(s.length===0)return{valid:!1,error:"At least one permission must be provided"};for(const n of s){const i=bS(n);if(!i.valid)return{valid:!1,error:`Invalid permission: ${n}. ${i.error}`}}return{valid:!0}}function Q_(r,s){const[n,i]=H.useState(!1),[c,a]=H.useState(null),[l,f]=H.useState([]),[p,y]=H.useState([]);return{loading:n,result:c,roles:l,permissions:p,isDisabled:n||s||!r,testGetRoles:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=await r.getRoles();f(I),a({roles:I,count:I.length,timestamp:new Date().toISOString()}),he.success(`Retrieved ${I.length} roles`)}catch(I){const R=St(I);he.error("Failed to get roles",{description:R}),f([])}finally{i(!1)}},testGetPermissions:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=await r.getPermissions();y(I),a({permissions:I,count:I.length,timestamp:new Date().toISOString()}),he.success(`Retrieved ${I.length} permissions`)}catch(I){const R=St(I);he.error("Failed to get permissions",{description:R}),y([])}finally{i(!1)}},testHasRole:async I=>{if(!r){he.error("DataClient not initialized");return}const R=X_(I);if(!R.valid){he.error(R.error||"Invalid role name");return}i(!0);try{const $=await r.hasRole(I);a({role:I,hasRole:$,timestamp:new Date().toISOString()}),he.success($?`User has role: ${I}`:`User does not have role: ${I}`)}catch($){const Y=St($);he.error("Failed to check role",{description:Y})}finally{i(!1)}},testHasPermission:async I=>{if(!r){he.error("DataClient not initialized");return}const R=bS(I);if(!R.valid){he.error(R.error||"Invalid permission name");return}i(!0);try{const $=await r.hasPermission(I);a({permission:I,hasPermission:$,timestamp:new Date().toISOString()}),he.success($?`User has permission: ${I}`:`User does not have permission: ${I}`)}catch($){const Y=St($);he.error("Failed to check permission",{description:Y})}finally{i(!1)}},testHasAnyRole:async I=>{if(!r){he.error("DataClient not initialized");return}if(!I){he.error("Please enter roles to check (comma-separated)");return}i(!0);try{const R=I.split(",").map(Y=>Y.trim()).filter(Boolean),$=await r.hasAnyRole(R);a({roles:R,hasAnyRole:$,timestamp:new Date().toISOString()}),he.success($?"User has at least one of the roles":"User does not have any of the roles")}catch(R){const $=St(R);he.error("Failed to check roles",{description:$})}finally{i(!1)}},testHasAllRoles:async I=>{if(!r){he.error("DataClient not initialized");return}if(!I){he.error("Please enter roles to check (comma-separated)");return}i(!0);try{const R=I.split(",").map(Y=>Y.trim()).filter(Boolean),$=await r.hasAllRoles(R);a({roles:R,hasAllRoles:$,timestamp:new Date().toISOString()}),he.success($?"User has all of the roles":"User does not have all of the roles")}catch(R){const $=St(R);he.error("Failed to check roles",{description:$})}finally{i(!1)}},testHasAnyPermission:async I=>{if(!r){he.error("DataClient not initialized");return}const R=g0(I);if(!R.valid){he.error(R.error||"Invalid permissions");return}i(!0);try{const $=I.split(",").map(se=>se.trim()).filter(Boolean),Y=await r.hasAnyPermission($);a({permissions:$,hasAnyPermission:Y,timestamp:new Date().toISOString()}),he.success(Y?"User has at least one of the permissions":"User does not have any of the permissions")}catch($){const Y=St($);he.error("Failed to check permissions",{description:Y})}finally{i(!1)}},testHasAllPermissions:async I=>{if(!r){he.error("DataClient not initialized");return}const R=g0(I);if(!R.valid){he.error(R.error||"Invalid permissions");return}i(!0);try{const $=I.split(",").map(se=>se.trim()).filter(Boolean),Y=await r.hasAllPermissions($);a({permissions:$,hasAllPermissions:Y,timestamp:new Date().toISOString()}),he.success(Y?"User has all of the permissions":"User does not have all of the permissions")}catch($){const Y=St($);he.error("Failed to check permissions",{description:Y})}finally{i(!1)}},testRefreshRoles:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=await r.refreshRoles();f(I),a({message:"Roles cache refreshed",roles:I,timestamp:new Date().toISOString()}),he.success("Roles cache refreshed")}catch(I){const R=St(I);he.error("Failed to refresh roles",{description:R})}finally{i(!1)}},testRefreshPermissions:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{const I=await r.refreshPermissions();y(I),a({message:"Permissions cache refreshed",permissions:I,timestamp:new Date().toISOString()}),he.success("Permissions cache refreshed")}catch(I){const R=St(I);he.error("Failed to refresh permissions",{description:R})}finally{i(!1)}},testClearRolesCache:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{await r.clearRolesCache(),a({message:"Roles cache cleared",timestamp:new Date().toISOString()}),he.success("Roles cache cleared")}catch(I){const R=St(I);he.error("Failed to clear roles cache",{description:R})}finally{i(!1)}},testClearPermissionsCache:async()=>{if(!r){he.error("DataClient not initialized");return}i(!0);try{await r.clearPermissionsCache(),a({message:"Permissions cache cleared",timestamp:new Date().toISOString()}),he.success("Permissions cache cleared")}catch(I){const R=St(I);he.error("Failed to clear permissions cache",{description:R})}finally{i(!1)}}}}function Z_(){const{dataClient:r,isLoading:s}=Ro(),{result:n,roles:i,permissions:c,isDisabled:a,testGetRoles:l,testGetPermissions:f,testHasRole:p,testHasPermission:y,testHasAnyRole:g,testHasAllRoles:d,testHasAnyPermission:v,testHasAllPermissions:E,testRefreshRoles:S,testRefreshPermissions:C,testClearRolesCache:x,testClearPermissionsCache:b}=Q_(r,s),[P,N]=H.useState(""),[j,U]=H.useState(""),[A,I]=H.useState(""),[R,$]=H.useState("");return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b border-border bg-white",children:h.jsxs("div",{className:"px-8 py-6",children:[h.jsx("h1",{className:"text-2xl",children:"Authorization"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Test roles and permissions using DataClient methods"})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-8",children:h.jsxs("div",{className:"max-w-6xl",children:[h.jsxs(xu,{defaultValue:"roles",className:"space-y-6",children:[h.jsxs(Cu,{children:[h.jsx(hr,{value:"roles",children:"Roles"}),h.jsx(hr,{value:"permissions",children:"Permissions"})]}),h.jsx(pr,{value:"roles",className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Get Roles"}),h.jsx(Be,{children:"Retrieve user roles (auto-retrieves token from localStorage)"})]}),h.jsxs(Ee,{children:[h.jsxs(Xe,{onClick:l,disabled:a,className:"w-full",children:[h.jsx(Lh,{className:"w-4 h-4 mr-2"}),"getRoles()"]}),i.length>0&&h.jsx("div",{className:"mt-4",children:h.jsxs(rs,{children:["Current Roles: ",i.length]})})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check Role"}),h.jsx(Be,{children:"Check if user has a specific role"})]}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"roleToCheck",children:"Role Name"}),h.jsx(Ci,{id:"roleToCheck",value:P,onChange:Y=>N(Y.target.value),placeholder:"admin"})]}),h.jsx(Xe,{onClick:()=>p(P),disabled:a,className:"w-full",children:"hasRole()"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check Any Role"}),h.jsx(Be,{children:"Check if user has any of the specified roles"})]}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"rolesToCheck",children:"Roles (comma-separated)"}),h.jsx(Ci,{id:"rolesToCheck",value:A,onChange:Y=>I(Y.target.value),placeholder:"admin, user"})]}),h.jsx(Xe,{onClick:()=>g(A),disabled:a,className:"w-full",children:"hasAnyRole()"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check All Roles"}),h.jsx(Be,{children:"Check if user has all of the specified roles"})]}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"rolesToCheckAll",children:"Roles (comma-separated)"}),h.jsx(Ci,{id:"rolesToCheckAll",value:A,onChange:Y=>I(Y.target.value),placeholder:"admin, user"})]}),h.jsx(Xe,{onClick:()=>d(A),disabled:a,className:"w-full",children:"hasAllRoles()"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Refresh Roles"}),h.jsx(Be,{children:"Force refresh roles (bypass cache)"})]}),h.jsx(Ee,{children:h.jsxs(Xe,{onClick:S,disabled:a,className:"w-full",children:[h.jsx(Mc,{className:"w-4 h-4 mr-2"}),"refreshRoles()"]})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Clear Roles Cache"}),h.jsx(Be,{children:"Clear cached roles"})]}),h.jsx(Ee,{children:h.jsxs(Xe,{onClick:x,disabled:a,variant:"outline",className:"w-full",children:[h.jsx(Mh,{className:"w-4 h-4 mr-2"}),"clearRolesCache()"]})})]})]})}),h.jsx(pr,{value:"permissions",className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Get Permissions"}),h.jsx(Be,{children:"Retrieve user permissions (auto-retrieves token from localStorage)"})]}),h.jsxs(Ee,{children:[h.jsxs(Xe,{onClick:f,disabled:a,className:"w-full",children:[h.jsx(Lh,{className:"w-4 h-4 mr-2"}),"getPermissions()"]}),c.length>0&&h.jsx("div",{className:"mt-4",children:h.jsxs(rs,{children:["Current Permissions: ",c.length]})})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check Permission"}),h.jsx(Be,{children:"Check if user has a specific permission"})]}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"permissionToCheck",children:"Permission Name"}),h.jsx(Ci,{id:"permissionToCheck",value:j,onChange:Y=>U(Y.target.value),placeholder:"users:read"})]}),h.jsx(Xe,{onClick:()=>y(j),disabled:a,className:"w-full",children:"hasPermission()"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check Any Permission"}),h.jsx(Be,{children:"Check if user has any of the specified permissions"})]}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"permissionsToCheck",children:"Permissions (comma-separated)"}),h.jsx(Ci,{id:"permissionsToCheck",value:R,onChange:Y=>$(Y.target.value),placeholder:"users:read, users:write"})]}),h.jsx(Xe,{onClick:()=>v(R),disabled:a,className:"w-full",children:"hasAnyPermission()"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Check All Permissions"}),h.jsx(Be,{children:"Check if user has all of the specified permissions"})]}),h.jsxs(Ee,{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rs,{htmlFor:"permissionsToCheckAll",children:"Permissions (comma-separated)"}),h.jsx(Ci,{id:"permissionsToCheckAll",value:R,onChange:Y=>$(Y.target.value),placeholder:"users:read, users:write"})]}),h.jsx(Xe,{onClick:()=>E(R),disabled:a,className:"w-full",children:"hasAllPermissions()"})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Refresh Permissions"}),h.jsx(Be,{children:"Force refresh permissions (bypass cache)"})]}),h.jsx(Ee,{children:h.jsxs(Xe,{onClick:C,disabled:a,className:"w-full",children:[h.jsx(Mc,{className:"w-4 h-4 mr-2"}),"refreshPermissions()"]})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{className:"text-lg",children:"Clear Permissions Cache"}),h.jsx(Be,{children:"Clear cached permissions"})]}),h.jsx(Ee,{children:h.jsxs(Xe,{onClick:b,disabled:a,variant:"outline",className:"w-full",children:[h.jsx(Mh,{className:"w-4 h-4 mr-2"}),"clearPermissionsCache()"]})})]})]})})]}),n&&h.jsxs(we,{className:"mt-6",children:[h.jsx(be,{children:h.jsx(Te,{className:"text-lg",children:"Response"})}),h.jsx(Ee,{children:h.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(n,null,2)})})]})]})})]})}const Ye={gettingStarted:{serverSetup:`import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// Initialize MisoClient with environment variables
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN, not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// Your API routes
app.get('/api/users', async (req, res) => {
  // Your business logic here
  res.json({ users: [] });
});

app.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
});`,environmentVariables:`# Server-side environment variables (.env)
# Required for MisoClient initialization

# MISO Controller Configuration
MISO_CLIENTID=ctrl-dev-my-app
MISO_CLIENTSECRET=your-client-secret-here
MISO_CONTROLLER_URL=https://controller.aifabrix.ai

# Optional: Redis for caching (recommended for production)
REDIS_HOST=localhost
REDIS_PORT=6379

# Optional: Logging level
MISO_LOG_LEVEL=info`,clientSetup:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// Zero-config initialization
// Automatically fetches config from server's /api/v1/auth/client-token endpoint
const dataClient = await autoInitializeDataClient();

// Now you can use DataClient
const users = await dataClient.get('/api/users');
console.log('Users:', users);`,completeExample:`// ============================================
// SERVER-SIDE (Express.js)
// ============================================

import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// 1. Initialize MisoClient
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// 2. Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN (client token), not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// 3. Your API routes
// Option A: Public routes (no authentication)
app.get('/api/public', async (req, res) => {
  res.json({ message: 'Public endpoint' });
});

// Option B: Protected routes (validate user token)
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Token is valid, proceed with business logic
  res.json({ users: [{ id: 1, name: 'John' }] });
});

app.listen(3000);

// ============================================
// CLIENT-SIDE (Browser/React)
// ============================================

import { autoInitializeDataClient } from '@aifabrix/miso-client';

// 1. Initialize DataClient (zero-config)
// Automatically calls POST /api/v1/auth/client-token
// Receives: environment token (client token) + DataClient config
const dataClient = await autoInitializeDataClient();

// 2. Use DataClient
// Environment token is automatically sent in x-client-token header
// This authenticates the CLIENT APPLICATION, not the user
const users = await dataClient.get('/api/users');
console.log('Users:', users);

// 3. For user-authenticated requests:
// User must login first (via MISO Controller)
// User token is stored in localStorage by DataClient
// DataClient automatically includes user token in Authorization header`,howItWorks:`// HOW IT WORKS:
//
// 1. SERVER SETUP:
//    - Server has MISO_CLIENTID and MISO_CLIENTSECRET (never exposed to browser)
//    - Server creates /api/v1/auth/client-token endpoint
//    - This endpoint fetches ENVIRONMENT TOKEN (client token) from MISO Controller
//    - Returns environment token + DataClient configuration to browser
//    - Validates request origin (CORS) before returning token
//
// 2. CLIENT SETUP:
//    - Browser calls autoInitializeDataClient()
//    - DataClient calls POST /api/v1/auth/client-token
//    - Receives environment token (client token) + configuration
//    - Stores environment token in localStorage (with expiration)
//    - Initializes DataClient with received config
//
// 3. REQUEST FLOW:
//    - Client makes request: dataClient.get('/api/users')
//    - DataClient automatically adds x-client-token header (environment token)
//    - Environment token authenticates the CLIENT APPLICATION
//    - For user authentication, validate user token (Bearer token) in your routes
//
// TOKEN TYPES:
// - ENVIRONMENT TOKEN (client token): Authenticates the client application
//   - Sent in x-client-token header
//   - Used to authenticate with MISO Controller
//   - Short-lived (default: 30 minutes)
//   - Automatically refreshed when expired
//
// - USER TOKEN: Authenticates the user
//   - Sent in Authorization: Bearer <token> header
//   - Obtained via login flow
//   - Validated in your API routes using misoClient.auth.validateToken()
//
// SECURITY:
// - Client secret NEVER exposed to browser
// - Environment token is short-lived (default: 30 minutes)
// - Token automatically refreshed when expired
// - Origin validation prevents token theft
// - Your API routes should validate USER tokens, not client tokens`,validateUserTokens:`// ============================================
// VALIDATING USER TOKENS IN API ROUTES
// ============================================

import express from 'express';
import { MisoClient, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Option 1: Manual validation in each route
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Get user info if needed
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  
  // Token is valid, proceed with business logic
  res.json({ users: [], currentUser: userInfo });
});

// Option 2: Create middleware for reusable validation
function requireAuth(misoClient: MisoClient) {
  return async (req: express.Request, res: express.Response, next: express.NextFunction) => {
    const userToken = misoClient.getToken(req);
    
    if (!userToken) {
      return res.status(401).json({ error: 'Unauthorized - no token' });
    }
    
    const isValid = await misoClient.auth.validateToken(userToken);
    if (!isValid) {
      return res.status(401).json({ error: 'Unauthorized - invalid token' });
    }
    
    // Attach token to request for use in route handlers
    (req as any).userToken = userToken;
    next();
  };
}

// Use middleware
app.get('/api/protected', requireAuth(misoClient), async (req, res) => {
  const userToken = (req as any).userToken;
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  res.json({ message: 'Protected route', user: userInfo });
});

// IMPORTANT NOTES:
// - Environment token (x-client-token) is for client app authentication
// - User token (Authorization: Bearer) is for user authentication
// - Your routes should validate USER tokens, not environment tokens
// - Environment token is handled automatically by DataClient`},initialization:{zeroConfig:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// One line - automatically fetches config and initializes DataClient
const dataClient = await autoInitializeDataClient();

// Use DataClient
const users = await dataClient.get('/api/users');`,manual:`import { DataClient } from '@aifabrix/miso-client';

// Manual configuration (browser-safe, no clientSecret)
const dataClient = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    // Use server-provided token pattern
    clientTokenUri: '/api/v1/auth/client-token',
  },
});`,reactContext:`import { DataClientProvider, useDataClient } from './contexts/DataClientContext';

// Wrap your app with DataClientProvider
function App() {
  return (
    <DataClientProvider>
      <YourComponents />
    </DataClientProvider>
  );
}

// Use DataClient in components
function MyComponent() {
  const { dataClient, isLoading, error } = useDataClient();
  
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!dataClient) return <div>Not initialized</div>;
  
  // Use dataClient...
}`},httpMethods:{get:`// GET request with cache
const users = await dataClient.get('/api/users');

// GET request without cache
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});

// GET request with custom options
const user = await dataClient.get('/api/users/1', {
  headers: { 'X-Custom-Header': 'value' },
  timeout: 5000,
});`,post:`// POST request
const newUser = await dataClient.post('/api/users', {
  name: 'John Doe',
  email: 'john@example.com',
});

// POST with error handling
try {
  const result = await dataClient.post('/api/users', userData);
  console.log('User created:', result);
} catch (error) {
  console.error('Failed to create user:', error.message);
}`,put:`// PUT request (full update)
const updatedUser = await dataClient.put('/api/users/1', {
  name: 'John Doe Updated',
  email: 'john.updated@example.com',
});`,patch:`// PATCH request (partial update)
const patchedUser = await dataClient.patch('/api/users/1', {
  email: 'john.newemail@example.com',
});`,delete:`// DELETE request
await dataClient.delete('/api/users/1');

// DELETE with error handling
try {
  await dataClient.delete('/api/users/1');
  console.log('User deleted');
} catch (error) {
  console.error('Failed to delete user:', error.message);
}`},authentication:{isAuthenticated:`// Check if user is authenticated
const isAuth = dataClient.isAuthenticated();
if (isAuth) {
  console.log('User is authenticated');
} else {
  console.log('User is not authenticated');
}`,getToken:`// Get environment token
const token = await dataClient.getEnvironmentToken();
if (token) {
  console.log('Token:', token);
} else {
  console.log('No token available');
}`,getTokenInfo:`// Get client token information
const tokenInfo = dataClient.getClientTokenInfo();
if (tokenInfo) {
  console.log('Token expires at:', tokenInfo.expiresAt);
  console.log('Token issued at:', tokenInfo.issuedAt);
}`,logout:`// Logout user
try {
  await dataClient.logout();
  console.log('User logged out');
} catch (error) {
  console.error('Logout failed:', error.message);
}`,redirectToLogin:`// Redirect to login
try {
  await dataClient.redirectToLogin();
} catch (error) {
  console.error('Redirect failed:', error.message);
}`,handleOAuthCallback:`// OAuth callback handling (automatically called on initialization)
// Token is extracted from URL hash fragment (#token=...) and stored securely
// Hash fragment is immediately removed from URL (< 100ms) for security

// Auto-called on DataClient initialization
const dataClient = new DataClient(config);
// Token is automatically extracted if present in URL hash

// Or manually call if needed
const token = dataClient.handleOAuthCallback();
if (token) {
  console.log('Token extracted and stored');
}

// OAuth Flow:
// 1. User calls redirectToLogin() â†’ redirects to controller login page
// 2. Controller handles OAuth flow with Keycloak
// 3. Controller redirects back: https://myapp.com/dashboard#token=eyJhbGc...
// 4. handleOAuthCallback() extracts token from hash fragment
// 5. Token is validated and stored in localStorage
// 6. Hash fragment is immediately removed from URL (< 100ms)
// 7. User sees clean URL: https://myapp.com/dashboard`,tokenRefresh:`// Token refresh callback (automatic refresh on 401 errors)
// Configure onTokenRefresh callback to handle token renewal securely
const dataClientWithRefresh = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    clientTokenUri: '/api/v1/auth/client-token',
  },
  onTokenRefresh: async () => {
    // Call your backend endpoint that handles refresh token securely
    // Backend should use httpOnly cookies or session storage for refresh token
    const response = await fetch('/api/refresh-token', {
      method: 'POST',
      credentials: 'include', // Include cookies for auth
      headers: {
        'Content-Type': 'application/json',
      },
    });
    
    if (!response.ok) {
      throw new Error('Token refresh failed');
    }
    
    const data = await response.json();
    // Return new access token and expiration time
    return {
      token: data.token, // New access token
      expiresIn: data.expiresIn, // Expiration in seconds
    };
  },
});

// How it works:
// - Automatically called when a request receives 401 Unauthorized
// - Refreshes token using your secure backend endpoint
// - Retries the original request with new token
// - Prevents infinite retry loops with tokenRefreshAttempted flag
// - Refresh tokens are NEVER stored in browser localStorage (security requirement)`},caching:{enabled:`// Cache-enabled GET request
const users = await dataClient.get('/api/users', {
  cache: { enabled: true, ttl: 60000 }, // Cache for 60 seconds
});`,disabled:`// Cache-bypassed GET request
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});`,clearCache:`// Clear all cache
dataClient.clearCache();
console.log('Cache cleared');`},interceptors:{request:`// Set request interceptor
dataClient.setInterceptors({
  onRequest: async (url, options) => {
    // Modify request before sending
    return {
      ...options,
      headers: {
        ...options.headers,
        'X-Custom-Header': 'value',
      },
    };
  },
});`,response:`// Set response interceptor
dataClient.setInterceptors({
  onResponse: async (response) => {
    // Modify response before returning
    console.log('Response received:', response);
    return response;
  },
});`,error:`// Set error interceptor
dataClient.setInterceptors({
  onError: async (error) => {
    // Handle errors
    console.error('Request error:', error);
    throw error; // Re-throw to maintain error flow
  },
});`},roles:{getRoles:`// Get user roles (auto-retrieves token from localStorage)
const roles = await dataClient.getRoles();
console.log('User roles:', roles);`,hasRole:`// Check specific role
const isAdmin = await dataClient.hasRole('admin');
if (isAdmin) {
  console.log('User is admin');
}`,hasAnyRole:`// Check if user has any of the roles
const hasAccess = await dataClient.hasAnyRole(['admin', 'moderator']);
if (hasAccess) {
  console.log('User has access');
}`,hasAllRoles:`// Check if user has all of the roles
const isSuperAdmin = await dataClient.hasAllRoles(['admin', 'super']);
if (isSuperAdmin) {
  console.log('User is super admin');
}`,refreshRoles:`// Force refresh roles (bypass cache)
const refreshedRoles = await dataClient.refreshRoles();
console.log('Refreshed roles:', refreshedRoles);`,clearRolesCache:`// Clear cached roles
await dataClient.clearRolesCache();
console.log('Roles cache cleared');`},permissions:{getPermissions:`// Get user permissions (auto-retrieves token from localStorage)
const permissions = await dataClient.getPermissions();
console.log('User permissions:', permissions);`,hasPermission:`// Check specific permission
const canRead = await dataClient.hasPermission('users:read');
if (canRead) {
  console.log('User can read users');
}`,hasAnyPermission:`// Check if user has any of the permissions
const canAccess = await dataClient.hasAnyPermission(['users:read', 'users:write']);
if (canAccess) {
  console.log('User has access');
}`,hasAllPermissions:`// Check if user has all of the permissions
const canManage = await dataClient.hasAllPermissions(['users:read', 'users:write', 'users:delete']);
if (canManage) {
  console.log('User can manage users');
}`,refreshPermissions:`// Force refresh permissions (bypass cache)
const refreshedPermissions = await dataClient.refreshPermissions();
console.log('Refreshed permissions:', refreshedPermissions);`,clearPermissionsCache:`// Clear cached permissions
await dataClient.clearPermissionsCache();
console.log('Permissions cache cleared');`},errorHandling:{tryCatch:`// Basic error handling
try {
  const users = await dataClient.get('/api/users');
  console.log('Users:', users);
} catch (error) {
  console.error('Request failed:', error.message);
  // Display user-friendly error message
}`,networkError:`// Handle network errors
try {
  const users = await dataClient.get('/api/users');
} catch (error) {
  if (error.message.includes('Network')) {
    console.error('Network error - check your connection');
  } else {
    console.error('Request failed:', error.message);
  }
}`,apiError:`// Handle API errors
try {
  const result = await dataClient.post('/api/users', userData);
} catch (error: any) {
  if (error.status === 400) {
    console.error('Validation error:', error.response?.data);
  } else if (error.status === 401) {
    console.error('Unauthorized - please login');
  } else if (error.status === 403) {
    console.error('Forbidden - insufficient permissions');
  } else {
    console.error('Request failed:', error.message);
  }
}`},metrics:{getMetrics:`// Get request metrics
const metrics = dataClient.getMetrics();
console.log('Total requests:', metrics.totalRequests);
console.log('Failed requests:', metrics.totalFailures);
console.log('Average response time:', metrics.averageResponseTime);
console.log('Cache hit rate:', metrics.cacheHitRate);`}};function eR(){const[r,s]=H.useState(null),n=async(c,a)=>{try{await navigator.clipboard.writeText(c),s(a),he.success("Code copied to clipboard"),setTimeout(()=>s(null),2e3)}catch{he.error("Failed to copy code")}},i=({code:c,id:a})=>h.jsx("div",{className:"group",children:h.jsxs("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto relative",children:[h.jsx("code",{children:c}),h.jsx(Xe,{size:"sm",variant:"ghost",style:{position:"absolute",top:"0.5rem",right:"0.5rem"},className:"z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-background/80 backdrop-blur-sm",onClick:()=>n(c,a),children:r===a?h.jsx(E0,{className:"w-4 h-4 text-green-600"}):h.jsx(iC,{className:"w-4 h-4"})})]})});return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b border-border bg-white",children:h.jsxs("div",{className:"px-8 py-6",children:[h.jsx("h1",{className:"text-2xl",children:"Code Examples"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Copyable code examples for using DataClient"})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-8",children:h.jsxs("div",{className:"max-w-6xl",children:[h.jsxs(xu,{defaultValue:"gettingStarted",className:"space-y-6",children:[h.jsxs(Cu,{className:"grid w-full grid-cols-8",children:[h.jsx(hr,{value:"gettingStarted",children:"Getting Started"}),h.jsx(hr,{value:"initialization",children:"Init"}),h.jsx(hr,{value:"http",children:"HTTP"}),h.jsx(hr,{value:"auth",children:"Auth"}),h.jsx(hr,{value:"caching",children:"Cache"}),h.jsx(hr,{value:"interceptors",children:"Interceptors"}),h.jsx(hr,{value:"roles",children:"Roles"}),h.jsx(hr,{value:"permissions",children:"Permissions"})]}),h.jsxs(pr,{value:"gettingStarted",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Server Setup"}),h.jsx(Be,{children:"Set up Express.js server with client token endpoint"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.gettingStarted.serverSetup,id:"getting-started-server"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Environment Variables"}),h.jsx(Be,{children:"Configure server-side environment variables"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.gettingStarted.environmentVariables,id:"getting-started-env"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Client Setup"}),h.jsx(Be,{children:"Initialize DataClient in your browser application"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.gettingStarted.clientSetup,id:"getting-started-client"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Complete Example"}),h.jsx(Be,{children:"Full server and client integration example"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.gettingStarted.completeExample,id:"getting-started-complete"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"How It Works"}),h.jsx(Be,{children:"Understanding the authentication flow and security model"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.gettingStarted.howItWorks,id:"getting-started-how-it-works"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Validating User Tokens in Routes"}),h.jsx(Be,{children:"How to protect your API routes with user token validation"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.gettingStarted.validateUserTokens,id:"getting-started-validate-tokens"})})]})]}),h.jsxs(pr,{value:"initialization",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Zero-Config Initialization"}),h.jsx(Be,{children:"Automatically fetch configuration from server"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.initialization.zeroConfig,id:"init-zero"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Manual Initialization"}),h.jsx(Be,{children:"Configure DataClient with custom settings"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.initialization.manual,id:"init-manual"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"React Context Setup"}),h.jsx(Be,{children:"Use DataClient with React Context"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.initialization.reactContext,id:"init-context"})})]})]}),h.jsxs(pr,{value:"http",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"GET Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.httpMethods.get,id:"http-get"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"POST Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.httpMethods.post,id:"http-post"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"PUT Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.httpMethods.put,id:"http-put"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"PATCH Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.httpMethods.patch,id:"http-patch"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"DELETE Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.httpMethods.delete,id:"http-delete"})})]})]}),h.jsxs(pr,{value:"auth",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check Authentication"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.isAuthenticated,id:"auth-check"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Get Token"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.getToken,id:"auth-token"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Get Token Info"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.getTokenInfo,id:"auth-token-info"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Logout"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.logout,id:"auth-logout"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Redirect to Login"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.redirectToLogin,id:"auth-redirect"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"OAuth Callback Handling"}),h.jsx(Be,{children:"Automatically extract and store tokens from OAuth redirect (hash fragment)"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.handleOAuthCallback,id:"auth-oauth-callback"})})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Token Refresh Callback"}),h.jsx(Be,{children:"Configure automatic token refresh on 401 errors using secure backend endpoint"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.authentication.tokenRefresh,id:"auth-token-refresh"})})]})]}),h.jsxs(pr,{value:"caching",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Cache-Enabled Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.caching.enabled,id:"cache-enabled"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Cache-Bypassed Requests"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.caching.disabled,id:"cache-disabled"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Clear Cache"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.caching.clearCache,id:"cache-clear"})})]})]}),h.jsxs(pr,{value:"interceptors",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Request Interceptor"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.interceptors.request,id:"interceptor-request"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Response Interceptor"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.interceptors.response,id:"interceptor-response"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Error Interceptor"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.interceptors.error,id:"interceptor-error"})})]})]}),h.jsxs(pr,{value:"roles",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Get Roles"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.roles.getRoles,id:"roles-get"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check Role"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.roles.hasRole,id:"roles-has"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check Any Role"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.roles.hasAnyRole,id:"roles-any"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check All Roles"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.roles.hasAllRoles,id:"roles-all"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Refresh Roles"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.roles.refreshRoles,id:"roles-refresh"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Clear Roles Cache"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.roles.clearRolesCache,id:"roles-clear"})})]})]}),h.jsxs(pr,{value:"permissions",className:"space-y-6",children:[h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Get Permissions"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.permissions.getPermissions,id:"perms-get"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check Permission"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.permissions.hasPermission,id:"perms-has"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check Any Permission"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.permissions.hasAnyPermission,id:"perms-any"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Check All Permissions"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.permissions.hasAllPermissions,id:"perms-all"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Refresh Permissions"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.permissions.refreshPermissions,id:"perms-refresh"})})]}),h.jsxs(we,{children:[h.jsx(be,{children:h.jsx(Te,{children:"Clear Permissions Cache"})}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.permissions.clearPermissionsCache,id:"perms-clear"})})]})]})]}),h.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Error Handling"}),h.jsx(Be,{children:"Patterns for handling errors"})]}),h.jsxs(Ee,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Basic Try-Catch"}),h.jsx(i,{code:Ye.errorHandling.tryCatch,id:"error-basic"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Network Errors"}),h.jsx(i,{code:Ye.errorHandling.networkError,id:"error-network"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"API Errors"}),h.jsx(i,{code:Ye.errorHandling.apiError,id:"error-api"})]})]})]}),h.jsxs(we,{children:[h.jsxs(be,{children:[h.jsx(Te,{children:"Metrics"}),h.jsx(Be,{children:"Get request metrics"})]}),h.jsx(Ee,{children:h.jsx(i,{code:Ye.metrics.getMetrics,id:"metrics-get"})})]})]})]})})]})}var tR=(r,s,n,i,c,a,l,f)=>{let p=document.documentElement,y=["light","dark"];function g(E){(Array.isArray(r)?r:[r]).forEach(S=>{let C=S==="class",x=C&&a?c.map(b=>a[b]||b):c;C?(p.classList.remove(...x),p.classList.add(a&&a[E]?a[E]:E)):p.setAttribute(S,E)}),d(E)}function d(E){f&&y.includes(E)&&(p.style.colorScheme=E)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)g(i);else try{let E=localStorage.getItem(s)||n,S=l&&E==="system"?v():E;g(S)}catch{}},y0=["light","dark"],TS="(prefers-color-scheme: dark)",rR=typeof window>"u",Mp=H.createContext(void 0),nR={setTheme:r=>{},themes:[]},sR=()=>{var r;return(r=H.useContext(Mp))!=null?r:nR},iR=r=>H.useContext(Mp)?H.createElement(H.Fragment,null,r.children):H.createElement(aR,{...r}),oR=["light","dark"],aR=({forcedTheme:r,disableTransitionOnChange:s=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:c="theme",themes:a=oR,defaultTheme:l=n?"system":"light",attribute:f="data-theme",value:p,children:y,nonce:g,scriptProps:d})=>{let[v,E]=H.useState(()=>cR(c,l)),[S,C]=H.useState(()=>v==="system"?jh():v),x=p?Object.values(p):a,b=H.useCallback(U=>{let A=U;if(!A)return;U==="system"&&n&&(A=jh());let I=p?p[A]:A,R=s?uR(g):null,$=document.documentElement,Y=se=>{se==="class"?($.classList.remove(...x),I&&$.classList.add(I)):se.startsWith("data-")&&(I?$.setAttribute(se,I):$.removeAttribute(se))};if(Array.isArray(f)?f.forEach(Y):Y(f),i){let se=y0.includes(l)?l:null,Q=y0.includes(A)?A:se;$.style.colorScheme=Q}R?.()},[g]),P=H.useCallback(U=>{let A=typeof U=="function"?U(v):U;E(A);try{localStorage.setItem(c,A)}catch{}},[v]),N=H.useCallback(U=>{let A=jh(U);C(A),v==="system"&&n&&!r&&b("system")},[v,r]);H.useEffect(()=>{let U=window.matchMedia(TS);return U.addListener(N),N(U),()=>U.removeListener(N)},[N]),H.useEffect(()=>{let U=A=>{A.key===c&&(A.newValue?E(A.newValue):P(l))};return window.addEventListener("storage",U),()=>window.removeEventListener("storage",U)},[P]),H.useEffect(()=>{b(r??v)},[r,v]);let j=H.useMemo(()=>({theme:v,setTheme:P,forcedTheme:r,resolvedTheme:v==="system"?S:v,themes:n?[...a,"system"]:a,systemTheme:n?S:void 0}),[v,P,r,S,n,a]);return H.createElement(Mp.Provider,{value:j},H.createElement(lR,{forcedTheme:r,storageKey:c,attribute:f,enableSystem:n,enableColorScheme:i,defaultTheme:l,value:p,themes:a,nonce:g,scriptProps:d}),y)},lR=H.memo(({forcedTheme:r,storageKey:s,attribute:n,enableSystem:i,enableColorScheme:c,defaultTheme:a,value:l,themes:f,nonce:p,scriptProps:y})=>{let g=JSON.stringify([n,s,a,r,f,l,i,c]).slice(1,-1);return H.createElement("script",{...y,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${tR.toString()})(${g})`}})}),cR=(r,s)=>{if(rR)return;let n;try{n=localStorage.getItem(r)||void 0}catch{}return n||s},uR=r=>{let s=document.createElement("style");return r&&s.setAttribute("nonce",r),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},jh=r=>(r||(r=window.matchMedia(TS)),r.matches?"dark":"light");const dR=({...r})=>{const{theme:s="system"}=sR();return h.jsx(Jb,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})},Dc={p18cc100:"M34.4572 24.1629C34.1171 23.2828 33.8371 22.5727 33.6171 22.0526C33.407 21.5126 33.137 21.0225 32.8169 20.5624C32.5069 20.1023 32.0868 19.7323 31.5668 19.4423C31.0567 19.1422 30.4166 18.9922 29.6465 18.9922C28.8764 18.9922 28.2463 19.1422 27.7262 19.4423C27.2161 19.7323 26.7961 20.1124 26.476 20.5824C26.166 21.0525 25.8659 21.6526 25.5759 22.3727C25.3059 23.0828 25.0658 23.6929 24.8658 24.2029L17.8648 41.9855C17.5748 42.6956 17.3747 43.2457 17.2447 43.6457C17.1247 44.0458 17.0547 44.4258 17.0547 44.8059C17.0547 45.456 17.3247 46.0361 17.8548 46.5461C18.3849 47.0562 19.005 47.3162 19.7051 47.3162C20.5252 47.3162 21.1153 47.0762 21.4753 46.6061C21.8354 46.1161 22.2754 45.1959 22.7855 43.8257L24.0957 40.3152H35.2273L36.5375 43.7557C36.7075 44.1758 36.9175 44.6759 37.1576 45.2359C37.4076 45.786 37.6376 46.1961 37.8477 46.4661C38.0577 46.7262 38.3177 46.9362 38.6278 47.0862C38.9378 47.2462 39.3079 47.3262 39.7479 47.3262C40.498 47.3262 41.1281 47.0662 41.6482 46.5461C42.1883 46.0061 42.4483 45.426 42.4483 44.7859C42.4483 44.1458 42.1683 43.1956 41.6082 41.8555L34.4572 24.1829V24.1629ZM25.5459 36.1346L29.5965 24.833L33.7271 36.1346H25.5459Z",p2888f670:"M66.9996 29.5342C65.3393 29.5342 63.9992 30.8744 63.9992 32.5346V46.8167C63.9992 51.4073 62.2089 55.728 58.9684 58.9684C55.728 62.2189 51.4074 63.9991 46.8167 63.9991H23.1833C18.5927 63.9991 14.272 62.2089 11.0316 58.9684C7.78111 55.718 6.00086 51.4073 6.00086 46.8167V23.1833C6.00086 18.5927 7.79111 14.272 11.0316 11.0316C14.272 7.79112 18.5927 6.00086 23.1833 6.00086H46.8167C48.4769 6.00086 49.8171 4.66067 49.8171 3.00043C49.8171 1.34019 48.4769 0 46.8167 0H23.1833C16.9924 0 11.1716 2.41035 6.79097 6.79097C2.41034 11.1716 0 16.9924 0 23.1833V46.8167C0 53.0076 2.41034 58.8284 6.79097 63.209C11.1716 67.5897 16.9924 70 23.1833 70H46.8167C53.0076 70 58.8384 67.5897 63.209 63.209C67.5897 58.8284 70 53.0076 70 46.8167V32.5346C70 30.8744 68.6598 29.5342 66.9996 29.5342Z",p3d0c8dc0:"M63.3766 24.1126C69.5907 24.1126 74.6282 19.0751 74.6282 12.861C74.6282 6.64689 69.5907 1.60938 63.3766 1.60938C57.1625 1.60938 52.125 6.64689 52.125 12.861C52.125 19.0751 57.1625 24.1126 63.3766 24.1126Z",p5723880:"M48.7157 26.5742C47.9656 26.5742 47.3555 26.8343 46.8854 27.3443C46.4253 27.8544 46.1953 28.6145 46.1953 29.6247V44.2167C46.1953 45.2169 46.4253 45.977 46.8854 46.5171C47.3555 47.0571 47.9656 47.3172 48.7157 47.3172C49.4658 47.3172 50.0759 47.0571 50.5659 46.5371C51.056 46.017 51.296 45.2369 51.296 44.2167V29.4746C51.296 28.5645 51.056 27.8544 50.5659 27.3443C50.0759 26.8343 49.4658 26.5742 48.7157 26.5742Z"},fR="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2075%2070%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22clip0_5723_7999%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M75%200H0V70H75V0Z%22%20fill%3D%22var(--fill-0%2C%20black)%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function hR(){return h.jsx("div",{className:"relative size-full","data-name":"favicon 1",children:h.jsx("div",{className:"absolute contents inset-0","data-name":"Clip path group",children:h.jsx("div",{className:"absolute inset-[0_0.5%_0_0] mask-alpha mask-intersect mask-no-clip mask-no-repeat mask-position-[0px] mask-size-[75px_70px]","data-name":"Group",style:{maskImage:`url('${fR}')`},children:h.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 75 70",children:h.jsxs("g",{id:"Group",children:[h.jsx("path",{d:Dc.p5723880,fill:"var(--fill-0, #111827)",id:"Vector"}),h.jsx("path",{d:Dc.p18cc100,fill:"var(--fill-0, #111827)",id:"Vector_2"}),h.jsx("path",{d:Dc.p2888f670,fill:"var(--fill-0, #0062FF)",id:"Vector_3"}),h.jsx("path",{d:Dc.p3d0c8dc0,fill:"var(--fill-0, #0062FF)",id:"Vector_4"})]})})})})})}function pR(){const[r,s]=H.useState("configuration"),n=()=>{switch(r){case"configuration":return h.jsx(m0,{});case"api-testing":return h.jsx(B_,{});case"caching":return h.jsx(J_,{});case"monitoring":return h.jsx(Y_,{});case"authorization":return h.jsx(Z_,{});case"code-examples":return h.jsx(eR,{});default:return h.jsx(m0,{})}};return h.jsxs("div",{className:"flex h-screen bg-background",children:[h.jsx(gR,{activeSection:r,onSectionChange:s}),h.jsx("main",{className:"flex-1 overflow-auto",children:n()}),h.jsx(dR,{position:"top-right"})]})}function mR(){const{dataClient:r,isLoading:s}=Ro(),[n,i]=H.useState(!1),[c,a]=H.useState(!1);H.useEffect(()=>{if(!r)return;const p=()=>{r.handleOAuthCallback()?(i(!0),he.success("Authentication successful",{description:"You have been successfully authenticated",duration:3e3})):i(r.isAuthenticated())};p();const y=()=>{p()};window.addEventListener("hashchange",y);const g=()=>{setTimeout(p,100)};return window.addEventListener("focus",g),()=>{window.removeEventListener("hashchange",y),window.removeEventListener("focus",g)}},[r]);const l=async()=>{if(!r){he.error("DataClient not initialized",{description:"Please initialize DataClient first on the Configuration page",duration:5e3});return}a(!0);try{await r.redirectToLogin(),a(!1)}catch(p){const y=p instanceof Error?p.message:"Unknown error";he.error("Login failed",{description:y,duration:1e4}),a(!1)}},f=async()=>{if(!r){he.error("DataClient not initialized");return}a(!0);try{await r.logout(),i(!1),he.success("Logged out successfully")}catch(p){const y=p instanceof Error?p.message:"Unknown error";he.error("Logout failed",{description:y})}finally{a(!1)}};return s?h.jsx("div",{className:"p-4 border-t border-sidebar-border",children:h.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})}):h.jsxs("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx(SC,{className:"w-3 h-3"}),h.jsx("span",{className:n?"text-green-600":"text-muted-foreground",children:n?"Authenticated":"Not authenticated"})]}),n?h.jsxs(Xe,{variant:"outline",size:"sm",className:"w-full",onClick:f,disabled:c||!r,children:[h.jsx(dC,{className:"w-3 h-3 mr-2"}),c?"Logging out...":"Logout"]}):h.jsxs(Xe,{variant:"default",size:"sm",className:"w-full",onClick:l,disabled:c||!r,children:[h.jsx(cC,{className:"w-3 h-3 mr-2"}),c?"Redirecting...":"Login"]})]})}function gR({activeSection:r,onSectionChange:s}){const n=[{id:"configuration",label:"Configuration",icon:gC},{id:"api-testing",label:"API Testing",icon:hC},{id:"caching",label:"Caching & Storage",icon:Dh},{id:"monitoring",label:"Monitoring & Logs",icon:Qx},{id:"authorization",label:"Authorization",icon:Lh},{id:"code-examples",label:"Code Examples",icon:nC}];return h.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col",children:[h.jsx("div",{className:"p-6 border-b border-sidebar-border",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10",children:h.jsx(hR,{})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-sidebar-foreground font-medium",children:"AI Fabrix"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"MISO Data Client"})]})]})}),h.jsx("nav",{className:"flex-1 p-4",role:"navigation","aria-label":"Main navigation",children:h.jsx("ul",{className:"space-y-1",children:n.map(i=>{const c=r===i.id,a=i.icon;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>s(i.id),className:`
                    w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors
                    ${c?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"}
                  `,children:[h.jsx(a,{className:"w-4 h-4"}),h.jsx("span",{children:i.label})]})},i.id)})})}),h.jsx(mR,{}),h.jsx("div",{className:"p-4 border-t border-sidebar-border",children:h.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Version"}),h.jsx("span",{className:"font-medium",children:"1.0.0"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Environment"}),h.jsx("span",{className:"font-medium text-green-600",children:"Development"})]})]})})]})}$x.createRoot(document.getElementById("root")).render(h.jsx(iR,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:h.jsx(n_,{children:h.jsx(pR,{})})}))});export default yR();
//# sourceMappingURL=index-BXH0sPoI.js.map
