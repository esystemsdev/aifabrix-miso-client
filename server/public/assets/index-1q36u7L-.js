var mN=(r,s)=>()=>(s||r((s={exports:{}}).exports,s),s.exports);var yU=mN((ht,Be)=>{function gN(r,s){for(var a=0;a<s.length;a++){const i=s[a];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in r)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")&&Object.keys(r).length===1?r.default:r}var Bp={exports:{}},oc={};var NS;function yN(){if(NS)return oc;NS=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(i,l,u){var o=null;if(u!==void 0&&(o=""+u),l.key!==void 0&&(o=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:o,ref:l!==void 0?l:null,props:u}}return oc.Fragment=s,oc.jsx=a,oc.jsxs=a,oc}var kS;function vN(){return kS||(kS=1,Bp.exports=yN()),Bp.exports}var v=vN(),IS={},jS;function EN(){if(jS)return IS;if(jS=1,typeof process>"u"){const r={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(s){setTimeout(s,0)},cwd:function(){return"/"},exit:function(s){console.warn("process.exit called with code:",s)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=r),typeof oo<"u"&&(oo.process=r),typeof globalThis<"u"&&(globalThis.process=r)}if(typeof Buffer>"u"){class r{static from(a,i){const l=new r;return l._data=a,l._encoding=i,l}static alloc(a,i,l){const u=new r;return u._size=a,u._fill=i,u._encoding=l,u}static allocUnsafe(a){return r.alloc(a)}static isBuffer(a){return a instanceof r}toString(a){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}typeof window<"u"&&(window.Buffer=r),typeof oo<"u"&&(oo.Buffer=r),typeof globalThis<"u"&&(globalThis.Buffer=r)}return typeof oo>"u"&&(typeof window<"u"?window.global=window:typeof globalThis<"u"&&(globalThis.global=globalThis)),console.log("âœ… Node.js globals polyfill loaded"),IS}EN();class Kn{static from(s,a){const i=new Kn;return i._data=s,i}static alloc(s,a,i){const l=new Kn;return l._size=s,l._fill=a,l}static allocUnsafe(s){return Kn.alloc(s)}static isBuffer(s){return s instanceof Kn}_data;_encoding;_size;_fill;toString(s){if(this._data!==void 0){if(typeof this._data=="string")return this._data;if(this._data&&typeof this._data.toString=="function")return this._data.toString()}return""}toJSON(){return{type:"Buffer",data:[]}}length=0}const bN=Kn,ll={Buffer:Kn};typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=ll,Be.exports.Buffer=Kn,Be.exports.default=ll,Be.exports.buffer=ll);typeof ht<"u"&&(ht.default=ll,ht.buffer=ll,ht.Buffer=Kn);typeof window<"u"&&(window.Buffer=Kn);typeof globalThis<"u"&&(globalThis.Buffer=Kn);typeof global<"u"&&(global.Buffer=Kn);const SN=Object.freeze(Object.defineProperty({__proto__:null,Buffer:bN,default:ll},Symbol.toStringTag,{value:"Module"}));function oR(r,s){if(!s)return;let a=s.prototype;(!a||typeof a!="object")&&(a=Object.prototype),r.super_=s,r.prototype=Object.create(a,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}function lR(r){try{return JSON.stringify(r,null,2)}catch{return String(r)}}function cR(r){return(...s)=>new Promise((a,i)=>{r(...s,(l,u)=>{l?i(l):a(u)})})}const ou={inherits:oR,inspect:lR,promisify:cR};typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports={...ou,default:ou,util:ou});typeof ht<"u"&&(ht.default=ou,ht.util=ou,ht.inherits=oR,ht.inspect=lR,ht.promisify=cR);const fu={env:{},version:"v18.0.0",versions:{node:"18.0.0",v8:"10.0.0",uv:"1.0.0",zlib:"1.0.0",ares:"1.0.0",modules:"108",nghttp2:"1.0.0",napi:"8",llhttp:"6.0.0",openssl:"3.0.0",cldr:"41.0",icu:"71.1",tz:"2022a",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},platform:"browser",arch:"x64",pid:1,nextTick:function(r){setTimeout(r,0)},cwd:function(){return"/"},exit:function(r){console.warn("process.exit called with code:",r)},on:function(){},off:function(){},emit:function(){},browser:!0,type:"browser"};typeof window<"u"&&(window.process=fu);typeof global<"u"&&(global.process=fu);typeof globalThis<"u"&&(globalThis.process=fu);typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=fu,Be.exports.default=fu);let av=class{_events=new Map;on(s,a){return this._events.has(s)||this._events.set(s,[]),this._events.get(s).push(a),this}once(s,a){const i=(...l)=>{this.removeListener(s,i),a(...l)};return Promise.resolve(this.on(s,i))}emit(s,...a){const i=this._events.get(s);return i&&i.length>0?(i.forEach(l=>{try{l(...a)}catch(u){console.error("EventEmitter error:",u)}}),!0):!1}removeListener(s,a){const i=this._events.get(s);if(i){const l=i.indexOf(a);l>-1&&i.splice(l,1)}return this}removeAllListeners(s){return s?this._events.delete(s):this._events.clear(),this}off(s,a){return this.removeListener(s,a)}addListener(s,a){return this.on(s,a)}};const lu={EventEmitter:av};typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=lu,Be.exports.default=lu,Be.exports.EventEmitter=av,Be.exports.events=lu);typeof ht<"u"&&(ht.default=lu,ht.events=lu,ht.EventEmitter=av);var zp={exports:{}},lc={},Kp={exports:{}},Fp={};var DS;function wN(){return DS||(DS=1,(function(r){function s(M,H){var $=M.length;M.push(H);e:for(;0<$;){var Z=$-1>>>1,le=M[Z];if(0<l(le,H))M[Z]=H,M[$]=le,$=Z;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var H=M[0],$=M.pop();if($!==H){M[0]=$;e:for(var Z=0,le=M.length,V=le>>>1;Z<V;){var re=2*(Z+1)-1,ie=M[re],pe=re+1,be=M[pe];if(0>l(ie,$))pe<le&&0>l(be,ie)?(M[Z]=be,M[pe]=$,Z=pe):(M[Z]=ie,M[re]=$,Z=re);else if(pe<le&&0>l(be,$))M[Z]=be,M[pe]=$,Z=pe;else break e}}return H}function l(M,H){var $=M.sortIndex-H.sortIndex;return $!==0?$:M.id-H.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var o=Date,d=o.now();r.unstable_now=function(){return o.now()-d}}var f=[],p=[],h=1,m=null,S=3,k=!1,A=!1,x=!1,O=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(M){for(var H=a(p);H!==null;){if(H.callback===null)i(p);else if(H.startTime<=M)i(p),H.sortIndex=H.expirationTime,s(f,H);else break;H=a(p)}}function D(M){if(x=!1,_(M),!A)if(a(f)!==null)A=!0,L||(L=!0,ge());else{var H=a(p);H!==null&&q(D,H.startTime-M)}}var L=!1,U=-1,N=5,F=-1;function Y(){return O?!0:!(r.unstable_now()-F<N)}function se(){if(O=!1,L){var M=r.unstable_now();F=M;var H=!0;try{e:{A=!1,x&&(x=!1,w(U),U=-1),k=!0;var $=S;try{t:{for(_(M),m=a(f);m!==null&&!(m.expirationTime>M&&Y());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,S=m.priorityLevel;var le=Z(m.expirationTime<=M);if(M=r.unstable_now(),typeof le=="function"){m.callback=le,_(M),H=!0;break t}m===a(f)&&i(f),_(M)}else i(f);m=a(f)}if(m!==null)H=!0;else{var V=a(p);V!==null&&q(D,V.startTime-M),H=!1}}break e}finally{m=null,S=$,k=!1}H=void 0}}finally{H?ge():L=!1}}}var ge;if(typeof b=="function")ge=function(){b(se)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=se,ge=function(){J.postMessage(null)}}else ge=function(){C(se,0)};function q(M,H){U=C(function(){M(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(M){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var $=S;S=H;try{return M()}finally{S=$}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=S;S=M;try{return H()}finally{S=$}},r.unstable_scheduleCallback=function(M,H,$){var Z=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,M){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,M={id:h++,callback:H,priorityLevel:M,startTime:$,expirationTime:le,sortIndex:-1},$>Z?(M.sortIndex=$,s(p,M),a(f)===null&&M===a(p)&&(x?(w(U),U=-1):x=!0,q(D,$-Z))):(M.sortIndex=le,s(f,M),A||k||(A=!0,L||(L=!0,ge()))),M},r.unstable_shouldYield=Y,r.unstable_wrapCallback=function(M){var H=S;return function(){var $=S;S=H;try{return M.apply(this,arguments)}finally{S=$}}}})(Fp)),Fp}var LS;function TN(){return LS||(LS=1,Kp.exports=wN()),Kp.exports}var Gp={exports:{}},We={};var PS;function CN(){if(PS)return We;PS=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),S=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function C(V,re,ie){this.props=V,this.context=re,this.refs=O,this.updater=ie||A}C.prototype.isReactComponent={},C.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=C.prototype;function b(V,re,ie){this.props=V,this.context=re,this.refs=O,this.updater=ie||A}var _=b.prototype=new w;_.constructor=b,x(_,C.prototype),_.isPureReactComponent=!0;var D=Array.isArray;function L(){}var U={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function F(V,re,ie){var pe=ie.ref;return{$$typeof:r,type:V,key:re,ref:pe!==void 0?pe:null,props:ie}}function Y(V,re){return F(V.type,re,V.props)}function se(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function ge(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return re[ie]})}var X=/\/+/g;function J(V,re){return typeof V=="object"&&V!==null&&V.key!=null?ge(""+V.key):re.toString(36)}function q(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function M(V,re,ie,pe,be){var je=typeof V;(je==="undefined"||je==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(je){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case s:Le=!0;break;case h:return Le=V._init,M(Le(V._payload),re,ie,pe,be)}}if(Le)return be=be(V),Le=pe===""?"."+J(V,0):pe,D(be)?(ie="",Le!=null&&(ie=Le.replace(X,"$&/")+"/"),M(be,re,ie,"",function(Ht){return Ht})):be!=null&&(se(be)&&(be=Y(be,ie+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(X,"$&/")+"/")+Le)),re.push(be)),1;Le=0;var ze=pe===""?".":pe+":";if(D(V))for(var Ze=0;Ze<V.length;Ze++)pe=V[Ze],je=ze+J(pe,Ze),Le+=M(pe,re,ie,je,be);else if(Ze=k(V),typeof Ze=="function")for(V=Ze.call(V),Ze=0;!(pe=V.next()).done;)pe=pe.value,je=ze+J(pe,Ze++),Le+=M(pe,re,ie,je,be);else if(je==="object"){if(typeof V.then=="function")return M(q(V),re,ie,pe,be);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Le}function H(V,re,ie){if(V==null)return V;var pe=[],be=0;return M(V,pe,"","",function(je){return re.call(ie,je,be++)}),pe}function $(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var Z=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},le={map:H,forEach:function(V,re,ie){H(V,function(){re.apply(this,arguments)},ie)},count:function(V){var re=0;return H(V,function(){re++}),re},toArray:function(V){return H(V,function(re){return re})||[]},only:function(V){if(!se(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return We.Activity=m,We.Children=le,We.Component=C,We.Fragment=a,We.Profiler=l,We.PureComponent=b,We.StrictMode=i,We.Suspense=f,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,We.__COMPILER_RUNTIME={__proto__:null,c:function(V){return U.H.useMemoCache(V)}},We.cache=function(V){return function(){return V.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(V,re,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=x({},V.props),be=V.key;if(re!=null)for(je in re.key!==void 0&&(be=""+re.key),re)!N.call(re,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&re.ref===void 0||(pe[je]=re[je]);var je=arguments.length-2;if(je===1)pe.children=ie;else if(1<je){for(var Le=Array(je),ze=0;ze<je;ze++)Le[ze]=arguments[ze+2];pe.children=Le}return F(V.type,be,pe)},We.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},We.createElement=function(V,re,ie){var pe,be={},je=null;if(re!=null)for(pe in re.key!==void 0&&(je=""+re.key),re)N.call(re,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(be[pe]=re[pe]);var Le=arguments.length-2;if(Le===1)be.children=ie;else if(1<Le){for(var ze=Array(Le),Ze=0;Ze<Le;Ze++)ze[Ze]=arguments[Ze+2];be.children=ze}if(V&&V.defaultProps)for(pe in Le=V.defaultProps,Le)be[pe]===void 0&&(be[pe]=Le[pe]);return F(V,je,be)},We.createRef=function(){return{current:null}},We.forwardRef=function(V){return{$$typeof:d,render:V}},We.isValidElement=se,We.lazy=function(V){return{$$typeof:h,_payload:{_status:-1,_result:V},_init:$}},We.memo=function(V,re){return{$$typeof:p,type:V,compare:re===void 0?null:re}},We.startTransition=function(V){var re=U.T,ie={};U.T=ie;try{var pe=V(),be=U.S;be!==null&&be(ie,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(L,Z)}catch(je){Z(je)}finally{re!==null&&ie.types!==null&&(re.types=ie.types),U.T=re}},We.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},We.use=function(V){return U.H.use(V)},We.useActionState=function(V,re,ie){return U.H.useActionState(V,re,ie)},We.useCallback=function(V,re){return U.H.useCallback(V,re)},We.useContext=function(V){return U.H.useContext(V)},We.useDebugValue=function(){},We.useDeferredValue=function(V,re){return U.H.useDeferredValue(V,re)},We.useEffect=function(V,re){return U.H.useEffect(V,re)},We.useEffectEvent=function(V){return U.H.useEffectEvent(V)},We.useId=function(){return U.H.useId()},We.useImperativeHandle=function(V,re,ie){return U.H.useImperativeHandle(V,re,ie)},We.useInsertionEffect=function(V,re){return U.H.useInsertionEffect(V,re)},We.useLayoutEffect=function(V,re){return U.H.useLayoutEffect(V,re)},We.useMemo=function(V,re){return U.H.useMemo(V,re)},We.useOptimistic=function(V,re){return U.H.useOptimistic(V,re)},We.useReducer=function(V,re,ie){return U.H.useReducer(V,re,ie)},We.useRef=function(V){return U.H.useRef(V)},We.useState=function(V){return U.H.useState(V)},We.useSyncExternalStore=function(V,re,ie){return U.H.useSyncExternalStore(V,re,ie)},We.useTransition=function(){return U.H.useTransition()},We.version="19.2.4",We}var US;function ov(){return US||(US=1,Gp.exports=CN()),Gp.exports}var Vp={exports:{}},Ur={};var MS;function xN(){if(MS)return Ur;MS=1;var r=ov();function s(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)p+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(f,p,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:m==null?null:""+m,children:f,containerInfo:p,implementation:h}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ur.createPortal=function(f,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return u(f,p,null,h)},Ur.flushSync=function(f){var p=o.T,h=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=p,i.p=h,i.d.f()}},Ur.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Ur.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ur.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var h=p.as,m=d(h,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;h==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:S,fetchPriority:k}):h==="script"&&i.d.X(f,{crossOrigin:m,integrity:S,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ur.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var h=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Ur.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var h=p.as,m=d(h,p.crossOrigin);i.d.L(f,h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ur.preloadModule=function(f,p){if(typeof f=="string")if(p){var h=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Ur.requestFormReset=function(f){i.d.r(f)},Ur.unstable_batchedUpdates=function(f,p){return f(p)},Ur.useFormState=function(f,p,h){return o.H.useFormState(f,p,h)},Ur.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ur.version="19.2.4",Ur}var qS;function uR(){if(qS)return Vp.exports;qS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Vp.exports=xN(),Vp.exports}var HS;function RN(){if(HS)return lc;HS=1;var r=TN(),s=ov(),a=uR();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,c=t;;){var g=n.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){n=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===n)return f(g),e;if(y===c)return f(g),t;y=y.sibling}throw Error(i(188))}if(n.return!==c.return)n=g,c=y;else{for(var j=!1,B=g.child;B;){if(B===n){j=!0,n=g,c=y;break}if(B===c){j=!0,c=g,n=y;break}B=B.sibling}if(!j){for(B=y.child;B;){if(B===n){j=!0,n=y,c=g;break}if(B===c){j=!0,c=y,n=g;break}B=B.sibling}if(!j)throw Error(i(189))}}if(n.alternate!==c)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case C:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case b:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var q=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Z=[],le=-1;function V(e){return{current:e}}function re(e){0>le||(e.current=Z[le],Z[le]=null,le--)}function ie(e,t){le++,Z[le]=e.current,e.current=t}var pe=V(null),be=V(null),je=V(null),Le=V(null);function ze(e,t){switch(ie(je,t),ie(be,e),ie(pe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zb(t),e=eS(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(pe),ie(pe,e)}function Ze(){re(pe),re(be),re(je)}function Ht(e){e.memoizedState!==null&&ie(Le,e);var t=pe.current,n=eS(t,e.type);t!==n&&(ie(be,e),ie(pe,n))}function Wt(e){be.current===e&&(re(pe),re(be)),Le.current===e&&(re(Le),nc._currentValue=$)}var W,Re;function xe(e){if(W===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",Re=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W+e+Re}var et=!1;function ot(e,t){if(!e||et)return"";et=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(t){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var he=me}Reflect.construct(e,[],we)}else{try{we.call()}catch(me){he=me}e.call(we.prototype)}}else{try{throw Error()}catch(me){he=me}(we=e())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),j=y[0],B=y[1];if(j&&B){var te=j.split(`
`),de=B.split(`
`);for(g=c=0;c<te.length&&!te[c].includes("DetermineComponentFrameRoot");)c++;for(;g<de.length&&!de[g].includes("DetermineComponentFrameRoot");)g++;if(c===te.length||g===de.length)for(c=te.length-1,g=de.length-1;1<=c&&0<=g&&te[c]!==de[g];)g--;for(;1<=c&&0<=g;c--,g--)if(te[c]!==de[g]){if(c!==1||g!==1)do if(c--,g--,0>g||te[c]!==de[g]){var Ee=`
`+te[c].replace(" at new "," at ");return e.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",e.displayName)),Ee}while(1<=c&&0<=g);break}}}finally{et=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xe(n):""}function yt(e,t){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return e.child!==t&&t!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return xe("Activity");default:return""}}function qi(e){try{var t="",n=null;do t+=yt(e,n),n=e,e=e.return;while(e);return t}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ar=Object.prototype.hasOwnProperty,Hi=r.unstable_scheduleCallback,$i=r.unstable_cancelCallback,fr=r.unstable_shouldYield,Xr=r.unstable_requestPaint,dr=r.unstable_now,El=r.unstable_getCurrentPriorityLevel,G=r.unstable_ImmediatePriority,lt=r.unstable_UserBlockingPriority,Ie=r.unstable_NormalPriority,Bi=r.unstable_LowPriority,_r=r.unstable_IdlePriority,mi=r.log,Qr=r.unstable_setDisableYieldValue,Vn=null,hr=null;function Jt(e){if(typeof mi=="function"&&Qr(e),hr&&typeof hr.setStrictMode=="function")try{hr.setStrictMode(Vn,e)}catch{}}var Bt=Math.clz32?Math.clz32:Zr,Wn=Math.log,Jn=Math.LN2;function Zr(e){return e>>>=0,e===0?32:31-(Wn(e)/Jn|0)|0}var Nn=256,gi=262144,vn=4194304;function vr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ge(e,t,n){var c=e.pendingLanes;if(c===0)return 0;var g=0,y=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var B=c&134217727;return B!==0?(c=B&~y,c!==0?g=vr(c):(j&=B,j!==0?g=vr(j):n||(n=B&~e,n!==0&&(g=vr(n))))):(B=c&~y,B!==0?g=vr(B):j!==0?g=vr(j):n||(n=c&~e,n!==0&&(g=vr(n)))),g===0?0:t!==0&&t!==g&&(t&y)===0&&(y=g&-g,n=t&-t,y>=n||y===32&&(n&4194048)!==0)?t:g}function Rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var e=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),e}function Pr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Er(e,t,n,c,g,y){var j=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var B=e.entanglements,te=e.expirationTimes,de=e.hiddenUpdates;for(n=j&~n;0<n;){var Ee=31-Bt(n),we=1<<Ee;B[Ee]=0,te[Ee]=-1;var he=de[Ee];if(he!==null)for(de[Ee]=null,Ee=0;Ee<he.length;Ee++){var me=he[Ee];me!==null&&(me.lane&=-536870913)}n&=~we}c!==0&&Yn(e,c,0),y!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=y&~(j&~t))}function Yn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var c=31-Bt(t);e.entangledLanes|=t,e.entanglements[c]=e.entanglements[c]|1073741824|n&261930}function br(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var c=31-Bt(n),g=1<<c;g&t|e[c]&t&&(e[c]|=t),n&=~g}}function Sr(e,t){var n=t&-t;return n=(n&42)!==0?1:rt(n),(n&(e.suspendedLanes|t))!==0?0:n}function rt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ha(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:TS(e.type))}function mo(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}var en=Math.random().toString(36).slice(2),Yt="__reactFiber$"+en,Kt="__reactProps$"+en,tn="__reactContainer$"+en,pa="__reactEvents$"+en,bl="__reactListeners$"+en,ma="__reactHandles$"+en,rn="__reactResources$"+en,qr="__reactMarker$"+en;function ga(e){delete e[Yt],delete e[Kt],delete e[pa],delete e[bl],delete e[ma]}function yi(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oS(e);e!==null;){if(n=e[Yt])return n;e=oS(e)}return t}e=n,n=e.parentNode}return null}function nn(e){if(e=e[Yt]||e[tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function vi(e){var t=e[rn];return t||(t=e[rn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[qr]=!0}var Lt=new Set,Ei={};function En(e,t){bi(e,t),bi(e+"Capture",t)}function bi(e,t){for(Ei[e]=t,e=0;e<t.length;e++)Lt.add(t[e])}var bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cs={},go={};function Sl(e){return Ar.call(go,e)?!0:Ar.call(Cs,e)?!1:bn.test(e)?go[e]=!0:(Cs[e]=!0,!1)}function xs(e,t,n){if(Sl(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var c=t.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sn(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Hr(e,t,n,c){if(c===null)e.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+c)}}function wr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wl(e,t,n){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(j){n=""+j,y.call(this,j)}}),Object.defineProperty(e,t,{enumerable:c.enumerable}),{getValue:function(){return n},setValue:function(j){n=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ya(e){if(!e._valueTracker){var t=yo(e)?"checked":"value";e._valueTracker=wl(e,t,""+e[t])}}function vo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),c="";return e&&(c=yo(e)?e.checked?"true":"false":e.value),e=c,e!==n?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var va=/[\n"\\]/g;function _t(e){return e.replace(va,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ki(e,t,n,c,g,y,j,B){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),t!=null?j==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wr(t)):e.value!==""+wr(t)&&(e.value=""+wr(t)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),t!=null?Ea(e,j,wr(t)):n!=null?Ea(e,j,wr(n)):c!=null&&e.removeAttribute("value"),g==null&&y!=null&&(e.defaultChecked=!!y),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?e.name=""+wr(B):e.removeAttribute("name")}function _u(e,t,n,c,g,y,j,B){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||t!=null)){ya(e);return}n=n!=null?""+wr(n):"",t=t!=null?""+wr(t):n,B||t===e.value||(e.value=t),e.defaultValue=t}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=B?e.checked:!!c,e.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),ya(e)}function Ea(e,t,n){t==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Rs(e,t,n,c){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&c&&(e[n].defaultSelected=!0)}else{for(n=""+wr(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,c&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function Eo(e,t,n){if(t!=null&&(t=""+wr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wr(n):""}function bo(e,t,n,c){if(t==null){if(c!=null){if(n!=null)throw Error(i(92));if(q(c)){if(1<c.length)throw Error(i(93));c=c[0]}n=c}n==null&&(n=""),t=n}n=wr(t),e.defaultValue=n,c=e.textContent,c===n&&c!==""&&c!==null&&(e.value=c),ya(e)}function wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(e,t,n){var c=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?c?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":c?e.setProperty(t,n):typeof n!="number"||n===0||Tl.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _s(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var c in n)!n.hasOwnProperty(c)||t!=null&&t.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var g in t)c=t[g],t.hasOwnProperty(g)&&n[g]!==c&&As(e,g,c)}else for(var y in t)t.hasOwnProperty(y)&&As(e,y,t[y])}function Sn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return ba.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $r(){}var Sa=null;function wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kn=null,an=null;function Os(e){var t=nn(e);if(t&&(e=t.stateNode)){var n=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ki(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var c=n[t];if(c!==e&&c.form===e.form){var g=c[Kt]||null;if(!g)throw Error(i(90));Ki(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(t=0;t<n.length;t++)c=n[t],c.form===e.form&&vo(c)}break e;case"textarea":Eo(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Rs(e,!!n.multiple,t,!1)}}}var Ta=!1;function So(e,t,n){if(Ta)return e(t,n);Ta=!0;try{var c=e(t);return c}finally{if(Ta=!1,(kn!==null||an!==null)&&(ff(),kn&&(t=kn,e=an,an=kn=null,Os(t),e)))for(t=0;t<e.length;t++)Os(e[t])}}function Xn(e,t){var n=e.stateNode;if(n===null)return null;var c=n[Kt]||null;if(c===null)return null;n=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(Or)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Fi=!1}var Tr=null,Gi=null,Ns=null;function In(){if(Ns)return Ns;var e,t=Gi,n=t.length,c,g="value"in Tr?Tr.value:Tr.textContent,y=g.length;for(e=0;e<n&&t[e]===g[e];e++);var j=n-e;for(c=1;c<=j&&t[n-c]===g[y-c];c++);return Ns=g.slice(e,1<c?1-c:void 0)}function wt(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function on(){return!0}function jn(){return!1}function Ft(e){function t(n,c,g,y,j){this._reactName=n,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var B in e)e.hasOwnProperty(B)&&(n=e[B],this[B]=n?n(y):y[B]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?on:jn,this.isPropagationStopped=jn,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=Ft(Zn),Vi=m({},Zn,{view:0,detail:0}),Wi=Ft(Vi),Ca,Ji,Ve,E=m({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ye,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ve&&(Ve&&e.type==="mousemove"?(Ca=e.screenX-Ve.screenX,Ji=e.screenY-Ve.screenY):Ji=Ca=0,Ve=e),Ca)},movementY:function(e){return"movementY"in e?e.movementY:Ji}}),T=Ft(E),R=m({},E,{dataTransfer:0}),I=Ft(R),P=m({},Vi,{relatedTarget:0}),z=Ft(P),K=m({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Q=Ft(K),ve=m({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ue=Ft(ve),ae=m({},Zn,{data:0}),Te=Ft(ae),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ae(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ce[e])?!!t[e]:!1}function ye(){return Ae}var Je=m({},Vi,{key:function(e){if(e.key){var t=He[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ft[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ye,charCode:function(e){return e.type==="keypress"?wt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),It=Ft(Je),nt=m({},E,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pt=Ft(nt),Pt=m({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ye}),Nr=Ft(Pt),jt=m({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yi=Ft(jt),ei=m({},E,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ft(ei),Ra=m({},Zn,{newState:0,oldState:0}),ti=Ft(Ra),wn=[9,13,27,32],pr=Or&&"CompositionEvent"in window,ri=null;Or&&"documentMode"in document&&(ri=document.documentMode);var Et=Or&&"TextEvent"in window&&!ri,Is=Or&&(!pr||ri&&8<ri&&11>=ri),rr=" ",js=!1;function wo(e,t){switch(e){case"keyup":return wn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function Xi(e,t){switch(e){case"compositionend":return nr(t);case"keypress":return t.which!==32?null:(js=!0,rr);case"textInput":return e=t.data,e===rr&&js?null:e;default:return null}}function ni(e,t){if(ir)return e==="compositionend"||!pr&&wo(e,t)?(e=In(),Ns=Gi=Tr=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Is&&t.locale!=="ko"?null:t.data;default:return null}}var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aa[e.type]:t==="textarea"}function fE(e,t,n,c){kn?an?an.push(c):an=[c]:kn=c,t=vf(t,"onChange"),0<t.length&&(n=new ks("onChange","change",null,n,c),e.push({event:n,listeners:t}))}var xl=null,Rl=null;function B_(e){Vb(e,0)}function Ou(e){var t=zi(e);if(vo(t))return e}function dE(e,t){if(e==="change")return t}var hE=!1;if(Or){var Jd;if(Or){var Yd="oninput"in document;if(!Yd){var pE=document.createElement("div");pE.setAttribute("oninput","return;"),Yd=typeof pE.oninput=="function"}Jd=Yd}else Jd=!1;hE=Jd&&(!document.documentMode||9<document.documentMode)}function mE(){xl&&(xl.detachEvent("onpropertychange",gE),Rl=xl=null)}function gE(e){if(e.propertyName==="value"&&Ou(Rl)){var t=[];fE(t,Rl,e,wa(e)),So(B_,t)}}function z_(e,t,n){e==="focusin"?(mE(),xl=t,Rl=n,xl.attachEvent("onpropertychange",gE)):e==="focusout"&&mE()}function K_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ou(Rl)}function F_(e,t){if(e==="click")return Ou(t)}function G_(e,t){if(e==="input"||e==="change")return Ou(t)}function V_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:V_;function Al(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),c=Object.keys(t);if(n.length!==c.length)return!1;for(c=0;c<n.length;c++){var g=n[c];if(!Ar.call(t,g)||!Tn(e[g],t[g]))return!1}return!0}function yE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vE(e,t){var n=yE(e);e=0;for(var c;n;){if(n.nodeType===3){if(c=e+n.textContent.length,e<=t&&c>=t)return{node:n,offset:t-e};e=c}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yE(n)}}function EE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Si(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Si(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var W_=Or&&"documentMode"in document&&11>=document.documentMode,To=null,Qd=null,_l=null,Zd=!1;function SE(e,t,n){var c=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||To==null||To!==Si(c)||(c=To,"selectionStart"in c&&Xd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_l&&Al(_l,c)||(_l=c,c=vf(Qd,"onSelect"),0<c.length&&(t=new ks("onSelect","select",null,t,n),e.push({event:t,listeners:c}),t.target=To)))}function _a(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Co={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},eh={},wE={};Or&&(wE=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Oa(e){if(eh[e])return eh[e];if(!Co[e])return e;var t=Co[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wE)return eh[e]=t[n];return e}var TE=Oa("animationend"),CE=Oa("animationiteration"),xE=Oa("animationstart"),J_=Oa("transitionrun"),Y_=Oa("transitionstart"),X_=Oa("transitioncancel"),RE=Oa("transitionend"),AE=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function ii(e,t){AE.set(e,t),En(t,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],xo=0,rh=0;function ku(){for(var e=xo,t=rh=xo=0;t<e;){var n=Dn[t];Dn[t++]=null;var c=Dn[t];Dn[t++]=null;var g=Dn[t];Dn[t++]=null;var y=Dn[t];if(Dn[t++]=null,c!==null&&g!==null){var j=c.pending;j===null?g.next=g:(g.next=j.next,j.next=g),c.pending=g}y!==0&&_E(n,g,y)}}function Iu(e,t,n,c){Dn[xo++]=e,Dn[xo++]=t,Dn[xo++]=n,Dn[xo++]=c,rh|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function nh(e,t,n,c){return Iu(e,t,n,c),ju(e)}function Na(e,t){return Iu(e,null,null,t),ju(e)}function _E(e,t,n){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n);for(var g=!1,y=e.return;y!==null;)y.childLanes|=n,c=y.alternate,c!==null&&(c.childLanes|=n),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(g=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,g&&t!==null&&(g=31-Bt(n),e=y.hiddenUpdates,c=e[g],c===null?e[g]=[t]:c.push(t),t.lane=n|536870912),y):null}function ju(e){if(50<Yl)throw Yl=0,dp=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ro={};function Q_(e,t,n,c){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,c){return new Q_(e,t,n,c)}function ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function OE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Du(e,t,n,c,g,y){var j=0;if(c=e,typeof e=="function")ih(e)&&(j=1);else if(typeof e=="string")j=nN(e,n,pe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Cn(31,n,t,g),e.elementType=F,e.lanes=y,e;case x:return ka(n.children,g,y,t);case O:j=8,g|=24;break;case C:return e=Cn(12,n,t,g|2),e.elementType=C,e.lanes=y,e;case D:return e=Cn(13,n,t,g),e.elementType=D,e.lanes=y,e;case L:return e=Cn(19,n,t,g),e.elementType=L,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:j=10;break e;case w:j=9;break e;case _:j=11;break e;case U:j=14;break e;case N:j=16,c=null;break e}j=29,n=Error(i(130,e===null?"null":typeof e,"")),c=null}return t=Cn(j,n,t,g),t.elementType=e,t.type=c,t.lanes=y,t}function ka(e,t,n,c){return e=Cn(7,e,c,t),e.lanes=n,e}function sh(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function NE(e){var t=Cn(18,null,null,0);return t.stateNode=e,t}function ah(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var kE=new WeakMap;function Ln(e,t){if(typeof e=="object"&&e!==null){var n=kE.get(e);return n!==void 0?n:(t={value:e,source:t,stack:qi(t)},kE.set(e,t),t)}return{value:e,source:t,stack:qi(t)}}var Ao=[],_o=0,Lu=null,Ol=0,Pn=[],Un=0,Ds=null,Ci=1,xi="";function Zi(e,t){Ao[_o++]=Ol,Ao[_o++]=Lu,Lu=e,Ol=t}function IE(e,t,n){Pn[Un++]=Ci,Pn[Un++]=xi,Pn[Un++]=Ds,Ds=e;var c=Ci;e=xi;var g=32-Bt(c)-1;c&=~(1<<g),n+=1;var y=32-Bt(t)+g;if(30<y){var j=g-g%5;y=(c&(1<<j)-1).toString(32),c>>=j,g-=j,Ci=1<<32-Bt(t)+g|n<<g|c,xi=y+e}else Ci=1<<y|n<<g|c,xi=e}function oh(e){e.return!==null&&(Zi(e,1),IE(e,1,0))}function lh(e){for(;e===Lu;)Lu=Ao[--_o],Ao[_o]=null,Ol=Ao[--_o],Ao[_o]=null;for(;e===Ds;)Ds=Pn[--Un],Pn[Un]=null,xi=Pn[--Un],Pn[Un]=null,Ci=Pn[--Un],Pn[Un]=null}function jE(e,t){Pn[Un++]=Ci,Pn[Un++]=xi,Pn[Un++]=Ds,Ci=t.id,xi=t.overflow,Ds=e}var kr=null,Ut=null,dt=!1,Ls=null,Mn=!1,ch=Error(i(519));function Ps(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(Ln(t,e)),ch}function DE(e){var t=e.stateNode,n=e.type,c=e.memoizedProps;switch(t[Yt]=e,t[Kt]=c,n){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(n=0;n<Ql.length;n++)at(Ql[n],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),_u(t,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),bo(t,c.value,c.defaultValue,c.children)}n=c.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||c.suppressHydrationWarning===!0||Xb(t.textContent,n)?(c.popover!=null&&(at("beforetoggle",t),at("toggle",t)),c.onScroll!=null&&at("scroll",t),c.onScrollEnd!=null&&at("scrollend",t),c.onClick!=null&&(t.onclick=$r),t=!0):t=!1,t||Ps(e,!0)}function LE(e){for(kr=e.return;kr;)switch(kr.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:kr=kr.return}}function Oo(e){if(e!==kr)return!1;if(!dt)return LE(e),dt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ap(e.type,e.memoizedProps)),n=!n),n&&Ut&&Ps(e),LE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ut=aS(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ut=aS(e)}else t===27?(t=Ut,Ys(e.type)?(e=Ip,Ip=null,Ut=e):Ut=t):Ut=kr?Hn(e.stateNode.nextSibling):null;return!0}function Ia(){Ut=kr=null,dt=!1}function uh(){var e=Ls;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ls=null),e}function Nl(e){Ls===null?Ls=[e]:Ls.push(e)}var fh=V(null),ja=null,es=null;function Us(e,t,n){ie(fh,t._currentValue),t._currentValue=n}function ts(e){e._currentValue=fh.current,re(fh)}function dh(e,t,n){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===n)break;e=e.return}}function hh(e,t,n,c){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var y=g.dependencies;if(y!==null){var j=g.child;y=y.firstContext;e:for(;y!==null;){var B=y;y=g;for(var te=0;te<t.length;te++)if(B.context===t[te]){y.lanes|=n,B=y.alternate,B!==null&&(B.lanes|=n),dh(y.return,n,e),c||(j=null);break e}y=B.next}}else if(g.tag===18){if(j=g.return,j===null)throw Error(i(341));j.lanes|=n,y=j.alternate,y!==null&&(y.lanes|=n),dh(j,n,e),j=null}else j=g.child;if(j!==null)j.return=g;else for(j=g;j!==null;){if(j===e){j=null;break}if(g=j.sibling,g!==null){g.return=j.return,j=g;break}j=j.return}g=j}}function No(e,t,n,c){e=null;for(var g=t,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var j=g.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var B=g.type;Tn(g.pendingProps.value,j.value)||(e!==null?e.push(B):e=[B])}}else if(g===Le.current){if(j=g.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(nc):e=[nc])}g=g.return}e!==null&&hh(t,e,n,c),t.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){ja=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ir(e){return PE(ja,e)}function Uu(e,t){return ja===null&&Da(e),PE(e,t)}function PE(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},es===null){if(e===null)throw Error(i(308));es=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else es=es.next=t;return n}var Z_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,c){e.push(c)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},eO=r.unstable_scheduleCallback,tO=r.unstable_NormalPriority,sr={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new Z_,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&eO(tO,function(){e.controller.abort()})}var Il=null,mh=0,ko=0,Io=null;function rO(e,t){if(Il===null){var n=Il=[];mh=0,ko=vp(),Io={status:"pending",value:void 0,then:function(c){n.push(c)}}}return mh++,t.then(UE,UE),t}function UE(){if(--mh===0&&Il!==null){Io!==null&&(Io.status="fulfilled");var e=Il;Il=null,ko=0,Io=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function nO(e,t){var n=[],c={status:"pending",value:null,reason:null,then:function(g){n.push(g)}};return e.then(function(){c.status="fulfilled",c.value=t;for(var g=0;g<n.length;g++)(0,n[g])(t)},function(g){for(c.status="rejected",c.reason=g,g=0;g<n.length;g++)(0,n[g])(void 0)}),c}var ME=M.S;M.S=function(e,t){Sb=dr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rO(e,t),ME!==null&&ME(e,t)};var La=V(null);function gh(){var e=La.current;return e!==null?e:Dt.pooledCache}function Mu(e,t){t===null?ie(La,La.current):ie(La,t.pool)}function qE(){var e=gh();return e===null?null:{parent:sr._currentValue,pool:e}}var jo=Error(i(460)),yh=Error(i(474)),qu=Error(i(542)),Hu={then:function(){}};function HE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $E(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then($r,$r),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zE(e),e;default:if(typeof t.status=="string")t.then($r,$r);else{if(e=Dt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(c){if(t.status==="pending"){var g=t;g.status="fulfilled",g.value=c}},function(c){if(t.status==="pending"){var g=t;g.status="rejected",g.reason=c}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zE(e),e}throw Ua=t,jo}}function Pa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ua=n,jo):n}}var Ua=null;function BE(){if(Ua===null)throw Error(i(459));var e=Ua;return Ua=null,e}function zE(e){if(e===jo||e===qu)throw Error(i(483))}var Do=null,jl=0;function $u(e){var t=jl;return jl+=1,Do===null&&(Do=[]),$E(Do,e,t)}function Dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bu(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function KE(e){function t(oe,ne){if(e){var fe=oe.deletions;fe===null?(oe.deletions=[ne],oe.flags|=16):fe.push(ne)}}function n(oe,ne){if(!e)return null;for(;ne!==null;)t(oe,ne),ne=ne.sibling;return null}function c(oe){for(var ne=new Map;oe!==null;)oe.key!==null?ne.set(oe.key,oe):ne.set(oe.index,oe),oe=oe.sibling;return ne}function g(oe,ne){return oe=Qi(oe,ne),oe.index=0,oe.sibling=null,oe}function y(oe,ne,fe){return oe.index=fe,e?(fe=oe.alternate,fe!==null?(fe=fe.index,fe<ne?(oe.flags|=67108866,ne):fe):(oe.flags|=67108866,ne)):(oe.flags|=1048576,ne)}function j(oe){return e&&oe.alternate===null&&(oe.flags|=67108866),oe}function B(oe,ne,fe,Se){return ne===null||ne.tag!==6?(ne=sh(fe,oe.mode,Se),ne.return=oe,ne):(ne=g(ne,fe),ne.return=oe,ne)}function te(oe,ne,fe,Se){var $e=fe.type;return $e===x?Ee(oe,ne,fe.props.children,Se,fe.key):ne!==null&&(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===N&&Pa($e)===ne.type)?(ne=g(ne,fe.props),Dl(ne,fe),ne.return=oe,ne):(ne=Du(fe.type,fe.key,fe.props,null,oe.mode,Se),Dl(ne,fe),ne.return=oe,ne)}function de(oe,ne,fe,Se){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==fe.containerInfo||ne.stateNode.implementation!==fe.implementation?(ne=ah(fe,oe.mode,Se),ne.return=oe,ne):(ne=g(ne,fe.children||[]),ne.return=oe,ne)}function Ee(oe,ne,fe,Se,$e){return ne===null||ne.tag!==7?(ne=ka(fe,oe.mode,Se,$e),ne.return=oe,ne):(ne=g(ne,fe),ne.return=oe,ne)}function we(oe,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=sh(""+ne,oe.mode,fe),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return fe=Du(ne.type,ne.key,ne.props,null,oe.mode,fe),Dl(fe,ne),fe.return=oe,fe;case A:return ne=ah(ne,oe.mode,fe),ne.return=oe,ne;case N:return ne=Pa(ne),we(oe,ne,fe)}if(q(ne)||ge(ne))return ne=ka(ne,oe.mode,fe,null),ne.return=oe,ne;if(typeof ne.then=="function")return we(oe,$u(ne),fe);if(ne.$$typeof===b)return we(oe,Uu(oe,ne),fe);Bu(oe,ne)}return null}function he(oe,ne,fe,Se){var $e=ne!==null?ne.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return $e!==null?null:B(oe,ne,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case k:return fe.key===$e?te(oe,ne,fe,Se):null;case A:return fe.key===$e?de(oe,ne,fe,Se):null;case N:return fe=Pa(fe),he(oe,ne,fe,Se)}if(q(fe)||ge(fe))return $e!==null?null:Ee(oe,ne,fe,Se,null);if(typeof fe.then=="function")return he(oe,ne,$u(fe),Se);if(fe.$$typeof===b)return he(oe,ne,Uu(oe,fe),Se);Bu(oe,fe)}return null}function me(oe,ne,fe,Se,$e){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return oe=oe.get(fe)||null,B(ne,oe,""+Se,$e);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:return oe=oe.get(Se.key===null?fe:Se.key)||null,te(ne,oe,Se,$e);case A:return oe=oe.get(Se.key===null?fe:Se.key)||null,de(ne,oe,Se,$e);case N:return Se=Pa(Se),me(oe,ne,fe,Se,$e)}if(q(Se)||ge(Se))return oe=oe.get(fe)||null,Ee(ne,oe,Se,$e,null);if(typeof Se.then=="function")return me(oe,ne,fe,$u(Se),$e);if(Se.$$typeof===b)return me(oe,ne,fe,Uu(ne,Se),$e);Bu(ne,Se)}return null}function De(oe,ne,fe,Se){for(var $e=null,mt=null,qe=ne,tt=ne=0,ut=null;qe!==null&&tt<fe.length;tt++){qe.index>tt?(ut=qe,qe=null):ut=qe.sibling;var gt=he(oe,qe,fe[tt],Se);if(gt===null){qe===null&&(qe=ut);break}e&&qe&&gt.alternate===null&&t(oe,qe),ne=y(gt,ne,tt),mt===null?$e=gt:mt.sibling=gt,mt=gt,qe=ut}if(tt===fe.length)return n(oe,qe),dt&&Zi(oe,tt),$e;if(qe===null){for(;tt<fe.length;tt++)qe=we(oe,fe[tt],Se),qe!==null&&(ne=y(qe,ne,tt),mt===null?$e=qe:mt.sibling=qe,mt=qe);return dt&&Zi(oe,tt),$e}for(qe=c(qe);tt<fe.length;tt++)ut=me(qe,oe,tt,fe[tt],Se),ut!==null&&(e&&ut.alternate!==null&&qe.delete(ut.key===null?tt:ut.key),ne=y(ut,ne,tt),mt===null?$e=ut:mt.sibling=ut,mt=ut);return e&&qe.forEach(function(ta){return t(oe,ta)}),dt&&Zi(oe,tt),$e}function Ke(oe,ne,fe,Se){if(fe==null)throw Error(i(151));for(var $e=null,mt=null,qe=ne,tt=ne=0,ut=null,gt=fe.next();qe!==null&&!gt.done;tt++,gt=fe.next()){qe.index>tt?(ut=qe,qe=null):ut=qe.sibling;var ta=he(oe,qe,gt.value,Se);if(ta===null){qe===null&&(qe=ut);break}e&&qe&&ta.alternate===null&&t(oe,qe),ne=y(ta,ne,tt),mt===null?$e=ta:mt.sibling=ta,mt=ta,qe=ut}if(gt.done)return n(oe,qe),dt&&Zi(oe,tt),$e;if(qe===null){for(;!gt.done;tt++,gt=fe.next())gt=we(oe,gt.value,Se),gt!==null&&(ne=y(gt,ne,tt),mt===null?$e=gt:mt.sibling=gt,mt=gt);return dt&&Zi(oe,tt),$e}for(qe=c(qe);!gt.done;tt++,gt=fe.next())gt=me(qe,oe,tt,gt.value,Se),gt!==null&&(e&&gt.alternate!==null&&qe.delete(gt.key===null?tt:gt.key),ne=y(gt,ne,tt),mt===null?$e=gt:mt.sibling=gt,mt=gt);return e&&qe.forEach(function(pN){return t(oe,pN)}),dt&&Zi(oe,tt),$e}function kt(oe,ne,fe,Se){if(typeof fe=="object"&&fe!==null&&fe.type===x&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case k:e:{for(var $e=fe.key;ne!==null;){if(ne.key===$e){if($e=fe.type,$e===x){if(ne.tag===7){n(oe,ne.sibling),Se=g(ne,fe.props.children),Se.return=oe,oe=Se;break e}}else if(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===N&&Pa($e)===ne.type){n(oe,ne.sibling),Se=g(ne,fe.props),Dl(Se,fe),Se.return=oe,oe=Se;break e}n(oe,ne);break}else t(oe,ne);ne=ne.sibling}fe.type===x?(Se=ka(fe.props.children,oe.mode,Se,fe.key),Se.return=oe,oe=Se):(Se=Du(fe.type,fe.key,fe.props,null,oe.mode,Se),Dl(Se,fe),Se.return=oe,oe=Se)}return j(oe);case A:e:{for($e=fe.key;ne!==null;){if(ne.key===$e)if(ne.tag===4&&ne.stateNode.containerInfo===fe.containerInfo&&ne.stateNode.implementation===fe.implementation){n(oe,ne.sibling),Se=g(ne,fe.children||[]),Se.return=oe,oe=Se;break e}else{n(oe,ne);break}else t(oe,ne);ne=ne.sibling}Se=ah(fe,oe.mode,Se),Se.return=oe,oe=Se}return j(oe);case N:return fe=Pa(fe),kt(oe,ne,fe,Se)}if(q(fe))return De(oe,ne,fe,Se);if(ge(fe)){if($e=ge(fe),typeof $e!="function")throw Error(i(150));return fe=$e.call(fe),Ke(oe,ne,fe,Se)}if(typeof fe.then=="function")return kt(oe,ne,$u(fe),Se);if(fe.$$typeof===b)return kt(oe,ne,Uu(oe,fe),Se);Bu(oe,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ne!==null&&ne.tag===6?(n(oe,ne.sibling),Se=g(ne,fe),Se.return=oe,oe=Se):(n(oe,ne),Se=sh(fe,oe.mode,Se),Se.return=oe,oe=Se),j(oe)):n(oe,ne)}return function(oe,ne,fe,Se){try{jl=0;var $e=kt(oe,ne,fe,Se);return Do=null,$e}catch(qe){if(qe===jo||qe===qu)throw qe;var mt=Cn(29,qe,null,oe.mode);return mt.lanes=Se,mt.return=oe,mt}}}var Ma=KE(!0),FE=KE(!1),Ms=!1;function vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(bt&2)!==0){var g=c.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),c.pending=t,t=ju(e),_E(e,null,n),t}return Iu(e,c,t,n),ju(e)}function Ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var c=t.lanes;c&=e.pendingLanes,n|=c,t.lanes=n,br(e,n)}}function bh(e,t){var n=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,n===c)){var g=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var j={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?g=y=j:y=y.next=j,n=n.next}while(n!==null);y===null?g=y=t:y=y.next=t}else g=y=t;n={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sh=!1;function Pl(){if(Sh){var e=Io;if(e!==null)throw e}}function Ul(e,t,n,c){Sh=!1;var g=e.updateQueue;Ms=!1;var y=g.firstBaseUpdate,j=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var te=B,de=te.next;te.next=null,j===null?y=de:j.next=de,j=te;var Ee=e.alternate;Ee!==null&&(Ee=Ee.updateQueue,B=Ee.lastBaseUpdate,B!==j&&(B===null?Ee.firstBaseUpdate=de:B.next=de,Ee.lastBaseUpdate=te))}if(y!==null){var we=g.baseState;j=0,Ee=de=te=null,B=y;do{var he=B.lane&-536870913,me=he!==B.lane;if(me?(ct&he)===he:(c&he)===he){he!==0&&he===ko&&(Sh=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var De=e,Ke=B;he=t;var kt=n;switch(Ke.tag){case 1:if(De=Ke.payload,typeof De=="function"){we=De.call(kt,we,he);break e}we=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ke.payload,he=typeof De=="function"?De.call(kt,we,he):De,he==null)break e;we=m({},we,he);break e;case 2:Ms=!0}}he=B.callback,he!==null&&(e.flags|=64,me&&(e.flags|=8192),me=g.callbacks,me===null?g.callbacks=[he]:me.push(he))}else me={lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ee===null?(de=Ee=me,te=we):Ee=Ee.next=me,j|=he;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;me=B,B=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);Ee===null&&(te=we),g.baseState=te,g.firstBaseUpdate=de,g.lastBaseUpdate=Ee,y===null&&(g.shared.lanes=0),Fs|=j,e.lanes=j,e.memoizedState=we}}function GE(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function VE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)GE(n[e],t)}var Lo=V(null),zu=V(0);function WE(e,t){e=us,ie(zu,e),ie(Lo,t),us=e|t.baseLanes}function wh(){ie(zu,us),ie(Lo,Lo.current)}function Th(){us=zu.current,re(Lo),re(zu)}var xn=V(null),qn=null;function $s(e){var t=e.alternate;ie(Xt,Xt.current&1),ie(xn,e),qn===null&&(t===null||Lo.current!==null||t.memoizedState!==null)&&(qn=e)}function Ch(e){ie(Xt,Xt.current),ie(xn,e),qn===null&&(qn=e)}function JE(e){e.tag===22?(ie(Xt,Xt.current),ie(xn,e),qn===null&&(qn=e)):Bs()}function Bs(){ie(Xt,Xt.current),ie(xn,xn.current)}function Rn(e){re(xn),qn===e&&(qn=null),re(Xt)}var Xt=V(0);function Ku(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Np(n)||kp(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=0,Xe=null,Ot=null,ar=null,Fu=!1,Po=!1,qa=!1,Gu=0,Ml=0,Uo=null,iO=0;function Gt(){throw Error(i(321))}function xh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function Rh(e,t,n,c,g,y){return rs=y,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?I0:$h,qa=!1,y=n(c,g),qa=!1,Po&&(y=XE(t,n,c,g)),YE(e),y}function YE(e){M.H=$l;var t=Ot!==null&&Ot.next!==null;if(rs=0,ar=Ot=Xe=null,Fu=!1,Ml=0,Uo=null,t)throw Error(i(300));e===null||or||(e=e.dependencies,e!==null&&Pu(e)&&(or=!0))}function XE(e,t,n,c){Xe=e;var g=0;do{if(Po&&(Uo=null),Ml=0,Po=!1,25<=g)throw Error(i(301));if(g+=1,ar=Ot=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}M.H=j0,y=t(n,c)}while(Po);return y}function sO(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?ql(t):t,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(Xe.flags|=1024),t}function Ah(){var e=Gu!==0;return Gu=0,e}function _h(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Oh(e){if(Fu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fu=!1}rs=0,ar=Ot=Xe=null,Po=!1,Ml=Gu=0,Uo=null}function Br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Xe.memoizedState=ar=e:ar=ar.next=e,ar}function Qt(){if(Ot===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=ar===null?Xe.memoizedState:ar.next;if(t!==null)ar=t,Ot=e;else{if(e===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},ar===null?Xe.memoizedState=ar=e:ar=ar.next=e}return ar}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var t=Ml;return Ml+=1,Uo===null&&(Uo=[]),e=$E(Uo,e,t),t=Xe,(ar===null?t.memoizedState:ar.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?I0:$h),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===b)return Ir(e)}throw Error(i(438,String(e)))}function Nh(e){var t=null,n=Xe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var c=Xe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(t={data:c.data.map(function(g){return g.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Vu(),Xe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),c=0;c<e;c++)n[c]=Y;return t.index++,n}function ns(e,t){return typeof t=="function"?t(e):t}function Ju(e){var t=Qt();return kh(t,Ot,e)}function kh(e,t,n){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=n;var g=e.baseQueue,y=c.pending;if(y!==null){if(g!==null){var j=g.next;g.next=y.next,y.next=j}t.baseQueue=g=y,c.pending=null}if(y=e.baseState,g===null)e.memoizedState=y;else{t=g.next;var B=j=null,te=null,de=t,Ee=!1;do{var we=de.lane&-536870913;if(we!==de.lane?(ct&we)===we:(rs&we)===we){var he=de.revertLane;if(he===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),we===ko&&(Ee=!0);else if((rs&he)===he){de=de.next,he===ko&&(Ee=!0);continue}else we={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},te===null?(B=te=we,j=y):te=te.next=we,Xe.lanes|=he,Fs|=he;we=de.action,qa&&n(y,we),y=de.hasEagerState?de.eagerState:n(y,we)}else he={lane:we,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},te===null?(B=te=he,j=y):te=te.next=he,Xe.lanes|=we,Fs|=we;de=de.next}while(de!==null&&de!==t);if(te===null?j=y:te.next=B,!Tn(y,e.memoizedState)&&(or=!0,Ee&&(n=Io,n!==null)))throw n;e.memoizedState=y,e.baseState=j,e.baseQueue=te,c.lastRenderedState=y}return g===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Ih(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var c=n.dispatch,g=n.pending,y=t.memoizedState;if(g!==null){n.pending=null;var j=g=g.next;do y=e(y,j.action),j=j.next;while(j!==g);Tn(y,t.memoizedState)||(or=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,c]}function QE(e,t,n){var c=Xe,g=Qt(),y=dt;if(y){if(n===void 0)throw Error(i(407));n=n()}else n=t();var j=!Tn((Ot||g).memoizedState,n);if(j&&(g.memoizedState=n,or=!0),g=g.queue,Lh(t0.bind(null,c,g,e),[e]),g.getSnapshot!==t||j||ar!==null&&ar.memoizedState.tag&1){if(c.flags|=2048,Mo(9,{destroy:void 0},e0.bind(null,c,g,n,t),null),Dt===null)throw Error(i(349));y||(rs&127)!==0||ZE(c,t,n)}return n}function ZE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t=Vu(),Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function e0(e,t,n,c){t.value=n,t.getSnapshot=c,r0(t)&&n0(e)}function t0(e,t,n){return n(function(){r0(t)&&n0(e)})}function r0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function n0(e){var t=Na(e,2);t!==null&&dn(t,e,2)}function jh(e){var t=Br();if(typeof e=="function"){var n=e;if(e=n(),qa){Jt(!0);try{n()}finally{Jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},t}function i0(e,t,n,c){return e.baseState=n,kh(e,Ot,typeof c=="function"?c:ns)}function aO(e,t,n,c,g){if(Qu(e))throw Error(i(485));if(e=t.action,e!==null){var y={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){y.listeners.push(j)}};M.T!==null?n(!0):y.isTransition=!1,c(y),n=t.pending,n===null?(y.next=t.pending=y,s0(t,y)):(y.next=n.next,t.pending=n.next=y)}}function s0(e,t){var n=t.action,c=t.payload,g=e.state;if(t.isTransition){var y=M.T,j={};M.T=j;try{var B=n(g,c),te=M.S;te!==null&&te(j,B),a0(e,t,B)}catch(de){Dh(e,t,de)}finally{y!==null&&j.types!==null&&(y.types=j.types),M.T=y}}else try{y=n(g,c),a0(e,t,y)}catch(de){Dh(e,t,de)}}function a0(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(c){o0(e,t,c)},function(c){return Dh(e,t,c)}):o0(e,t,n)}function o0(e,t,n){t.status="fulfilled",t.value=n,l0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,s0(e,n)))}function Dh(e,t,n){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do t.status="rejected",t.reason=n,l0(t),t=t.next;while(t!==c)}e.action=null}function l0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function c0(e,t){return t}function u0(e,t){if(dt){var n=Dt.formState;if(n!==null){e:{var c=Xe;if(dt){if(Ut){t:{for(var g=Ut,y=Mn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Hn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ut=Hn(g.nextSibling),c=g.data==="F!";break e}}Ps(c)}c=!1}c&&(t=n[0])}}return n=Br(),n.memoizedState=n.baseState=t,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:t},n.queue=c,n=O0.bind(null,Xe,c),c.dispatch=n,c=jh(!1),y=Hh.bind(null,Xe,!1,c.queue),c=Br(),g={state:t,dispatch:null,action:e,pending:null},c.queue=g,n=aO.bind(null,Xe,g,y,n),g.dispatch=n,c.memoizedState=e,[t,n,!1]}function f0(e){var t=Qt();return d0(t,Ot,e)}function d0(e,t,n){if(t=kh(e,t,c0)[0],e=Ju(ns)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var c=ql(t)}catch(j){throw j===jo?qu:j}else c=t;t=Qt();var g=t.queue,y=g.dispatch;return n!==t.memoizedState&&(Xe.flags|=2048,Mo(9,{destroy:void 0},oO.bind(null,g,n),null)),[c,y,e]}function oO(e,t){e.action=t}function h0(e){var t=Qt(),n=Ot;if(n!==null)return d0(t,n,e);Qt(),t=t.memoizedState,n=Qt();var c=n.queue.dispatch;return n.memoizedState=e,[t,c,!1]}function Mo(e,t,n,c){return e={tag:e,create:n,deps:c,inst:t,next:null},t=Xe.updateQueue,t===null&&(t=Vu(),Xe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(c=n.next,n.next=e,e.next=c,t.lastEffect=e),e}function p0(){return Qt().memoizedState}function Yu(e,t,n,c){var g=Br();Xe.flags|=e,g.memoizedState=Mo(1|t,{destroy:void 0},n,c===void 0?null:c)}function Xu(e,t,n,c){var g=Qt();c=c===void 0?null:c;var y=g.memoizedState.inst;Ot!==null&&c!==null&&xh(c,Ot.memoizedState.deps)?g.memoizedState=Mo(t,y,n,c):(Xe.flags|=e,g.memoizedState=Mo(1|t,y,n,c))}function m0(e,t){Yu(8390656,8,e,t)}function Lh(e,t){Xu(2048,8,e,t)}function lO(e){Xe.flags|=4;var t=Xe.updateQueue;if(t===null)t=Vu(),Xe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function g0(e){var t=Qt().memoizedState;return lO({ref:t,nextImpl:e}),function(){if((bt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function y0(e,t){return Xu(4,2,e,t)}function v0(e,t){return Xu(4,4,e,t)}function E0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function b0(e,t,n){n=n!=null?n.concat([e]):null,Xu(4,4,E0.bind(null,t,e),n)}function Ph(){}function S0(e,t){var n=Qt();t=t===void 0?null:t;var c=n.memoizedState;return t!==null&&xh(t,c[1])?c[0]:(n.memoizedState=[e,t],e)}function w0(e,t){var n=Qt();t=t===void 0?null:t;var c=n.memoizedState;if(t!==null&&xh(t,c[1]))return c[0];if(c=e(),qa){Jt(!0);try{e()}finally{Jt(!1)}}return n.memoizedState=[c,t],c}function Uh(e,t,n){return n===void 0||(rs&1073741824)!==0&&(ct&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Tb(),Xe.lanes|=e,Fs|=e,n)}function T0(e,t,n,c){return Tn(n,t)?n:Lo.current!==null?(e=Uh(e,n,c),Tn(e,t)||(or=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(ct&261930)===0?(or=!0,e.memoizedState=n):(e=Tb(),Xe.lanes|=e,Fs|=e,t)}function C0(e,t,n,c,g){var y=H.p;H.p=y!==0&&8>y?y:8;var j=M.T,B={};M.T=B,Hh(e,!1,t,n);try{var te=g(),de=M.S;if(de!==null&&de(B,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=nO(te,c);Hl(e,t,Ee,On(e))}else Hl(e,t,c,On(e))}catch(we){Hl(e,t,{then:function(){},status:"rejected",reason:we},On())}finally{H.p=y,j!==null&&B.types!==null&&(j.types=B.types),M.T=j}}function cO(){}function Mh(e,t,n,c){if(e.tag!==5)throw Error(i(476));var g=x0(e).queue;C0(e,g,t,$,n===null?cO:function(){return R0(e),n(c)})}function x0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:$},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function R0(e){var t=x0(e);t.next===null&&(t=e.alternate.memoizedState),Hl(e,t.next.queue,{},On())}function qh(){return Ir(nc)}function A0(){return Qt().memoizedState}function _0(){return Qt().memoizedState}function uO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=On();e=qs(n);var c=Hs(t,e,n);c!==null&&(dn(c,t,n),Ll(c,t,n)),t={cache:ph()},e.payload=t;return}t=t.return}}function fO(e,t,n){var c=On();n={lane:c,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Qu(e)?N0(t,n):(n=nh(e,t,n,c),n!==null&&(dn(n,e,c),k0(n,t,c)))}function O0(e,t,n){var c=On();Hl(e,t,n,c)}function Hl(e,t,n,c){var g={lane:c,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))N0(t,g);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var j=t.lastRenderedState,B=y(j,n);if(g.hasEagerState=!0,g.eagerState=B,Tn(B,j))return Iu(e,t,g,0),Dt===null&&ku(),!1}catch{}if(n=nh(e,t,g,c),n!==null)return dn(n,e,c),k0(n,t,c),!0}return!1}function Hh(e,t,n,c){if(c={lane:2,revertLane:vp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(t)throw Error(i(479))}else t=nh(e,n,c,2),t!==null&&dn(t,e,2)}function Qu(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function N0(e,t){Po=Fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function k0(e,t,n){if((n&4194048)!==0){var c=t.lanes;c&=e.pendingLanes,n|=c,t.lanes=n,br(e,n)}}var $l={readContext:Ir,use:Wu,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};$l.useEffectEvent=Gt;var I0={readContext:Ir,use:Wu,useCallback:function(e,t){return Br().memoizedState=[e,t===void 0?null:t],e},useContext:Ir,useEffect:m0,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yu(4194308,4,E0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){Yu(4,2,e,t)},useMemo:function(e,t){var n=Br();t=t===void 0?null:t;var c=e();if(qa){Jt(!0);try{e()}finally{Jt(!1)}}return n.memoizedState=[c,t],c},useReducer:function(e,t,n){var c=Br();if(n!==void 0){var g=n(t);if(qa){Jt(!0);try{n(t)}finally{Jt(!1)}}}else g=t;return c.memoizedState=c.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},c.queue=e,e=e.dispatch=fO.bind(null,Xe,e),[c.memoizedState,e]},useRef:function(e){var t=Br();return e={current:e},t.memoizedState=e},useState:function(e){e=jh(e);var t=e.queue,n=O0.bind(null,Xe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ph,useDeferredValue:function(e,t){var n=Br();return Uh(n,e,t)},useTransition:function(){var e=jh(!1);return e=C0.bind(null,Xe,e.queue,!0,!1),Br().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var c=Xe,g=Br();if(dt){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Dt===null)throw Error(i(349));(ct&127)!==0||ZE(c,t,n)}g.memoizedState=n;var y={value:n,getSnapshot:t};return g.queue=y,m0(t0.bind(null,c,y,e),[e]),c.flags|=2048,Mo(9,{destroy:void 0},e0.bind(null,c,y,n,t),null),n},useId:function(){var e=Br(),t=Dt.identifierPrefix;if(dt){var n=xi,c=Ci;n=(c&~(1<<32-Bt(c)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iO++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qh,useFormState:u0,useActionState:u0,useOptimistic:function(e){var t=Br();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hh.bind(null,Xe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Nh,useCacheRefresh:function(){return Br().memoizedState=uO.bind(null,Xe)},useEffectEvent:function(e){var t=Br(),n={impl:e};return t.memoizedState=n,function(){if((bt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},$h={readContext:Ir,use:Wu,useCallback:S0,useContext:Ir,useEffect:Lh,useImperativeHandle:b0,useInsertionEffect:y0,useLayoutEffect:v0,useMemo:w0,useReducer:Ju,useRef:p0,useState:function(){return Ju(ns)},useDebugValue:Ph,useDeferredValue:function(e,t){var n=Qt();return T0(n,Ot.memoizedState,e,t)},useTransition:function(){var e=Ju(ns)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:QE,useId:A0,useHostTransitionStatus:qh,useFormState:f0,useActionState:f0,useOptimistic:function(e,t){var n=Qt();return i0(n,Ot,e,t)},useMemoCache:Nh,useCacheRefresh:_0};$h.useEffectEvent=g0;var j0={readContext:Ir,use:Wu,useCallback:S0,useContext:Ir,useEffect:Lh,useImperativeHandle:b0,useInsertionEffect:y0,useLayoutEffect:v0,useMemo:w0,useReducer:Ih,useRef:p0,useState:function(){return Ih(ns)},useDebugValue:Ph,useDeferredValue:function(e,t){var n=Qt();return Ot===null?Uh(n,e,t):T0(n,Ot.memoizedState,e,t)},useTransition:function(){var e=Ih(ns)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:QE,useId:A0,useHostTransitionStatus:qh,useFormState:h0,useActionState:h0,useOptimistic:function(e,t){var n=Qt();return Ot!==null?i0(n,Ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:_0};j0.useEffectEvent=g0;function Bh(e,t,n,c){t=e.memoizedState,n=n(c,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zh={enqueueSetState:function(e,t,n){e=e._reactInternals;var c=On(),g=qs(c);g.payload=t,n!=null&&(g.callback=n),t=Hs(e,g,c),t!==null&&(dn(t,e,c),Ll(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var c=On(),g=qs(c);g.tag=1,g.payload=t,n!=null&&(g.callback=n),t=Hs(e,g,c),t!==null&&(dn(t,e,c),Ll(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=On(),c=qs(n);c.tag=2,t!=null&&(c.callback=t),t=Hs(e,c,n),t!==null&&(dn(t,e,n),Ll(t,e,n))}};function D0(e,t,n,c,g,y,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,y,j):t.prototype&&t.prototype.isPureReactComponent?!Al(n,c)||!Al(g,y):!0}function L0(e,t,n,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,c),t.state!==e&&zh.enqueueReplaceState(t,t.state,null)}function Ha(e,t){var n=t;if("ref"in t){n={};for(var c in t)c!=="ref"&&(n[c]=t[c])}if(e=e.defaultProps){n===t&&(n=m({},n));for(var g in e)n[g]===void 0&&(n[g]=e[g])}return n}function P0(e){Nu(e)}function U0(e){console.error(e)}function M0(e){Nu(e)}function Zu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(c){setTimeout(function(){throw c})}}function q0(e,t,n){try{var c=e.onCaughtError;c(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Kh(e,t,n){return n=qs(n),n.tag=3,n.payload={element:null},n.callback=function(){Zu(e,t)},n}function H0(e){return e=qs(e),e.tag=3,e}function $0(e,t,n,c){var g=n.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;e.payload=function(){return g(y)},e.callback=function(){q0(t,n,c)}}var j=n.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){q0(t,n,c),typeof g!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})})}function dO(e,t,n,c,g){if(n.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(t=n.alternate,t!==null&&No(t,n,g,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return qn===null?df():n.alternate===null&&Vt===0&&(Vt=3),n.flags&=-257,n.flags|=65536,n.lanes=g,c===Hu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([c]):t.add(c),mp(e,c,g)),!1;case 22:return n.flags|=65536,c===Hu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([c])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([c]):n.add(c)),mp(e,c,g)),!1}throw Error(i(435,n.tag))}return mp(e,c,g),df(),!1}if(dt)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=g,c!==ch&&(e=Error(i(422),{cause:c}),Nl(Ln(e,n)))):(c!==ch&&(t=Error(i(423),{cause:c}),Nl(Ln(t,n))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,c=Ln(c,n),g=Kh(e.stateNode,c,g),bh(e,g),Vt!==4&&(Vt=2)),!1;var y=Error(i(520),{cause:c});if(y=Ln(y,n),Jl===null?Jl=[y]:Jl.push(y),Vt!==4&&(Vt=2),t===null)return!0;c=Ln(c,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=g&-g,n.lanes|=e,e=Kh(n.stateNode,c,e),bh(n,e),!1;case 1:if(t=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gs===null||!Gs.has(y))))return n.flags|=65536,g&=-g,n.lanes|=g,g=H0(g),$0(g,e,n,c),bh(n,g),!1}n=n.return}while(n!==null);return!1}var Fh=Error(i(461)),or=!1;function jr(e,t,n,c){t.child=e===null?FE(t,null,n,c):Ma(t,e.child,n,c)}function B0(e,t,n,c,g){n=n.render;var y=t.ref;if("ref"in c){var j={};for(var B in c)B!=="ref"&&(j[B]=c[B])}else j=c;return Da(t),c=Rh(e,t,n,j,y,g),B=Ah(),e!==null&&!or?(_h(e,t,g),is(e,t,g)):(dt&&B&&oh(t),t.flags|=1,jr(e,t,c,g),t.child)}function z0(e,t,n,c,g){if(e===null){var y=n.type;return typeof y=="function"&&!ih(y)&&y.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=y,K0(e,t,y,c,g)):(e=Du(n.type,null,c,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!Zh(e,g)){var j=y.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(j,c)&&e.ref===t.ref)return is(e,t,g)}return t.flags|=1,e=Qi(y,c),e.ref=t.ref,e.return=t,t.child=e}function K0(e,t,n,c,g){if(e!==null){var y=e.memoizedProps;if(Al(y,c)&&e.ref===t.ref)if(or=!1,t.pendingProps=c=y,Zh(e,g))(e.flags&131072)!==0&&(or=!0);else return t.lanes=e.lanes,is(e,t,g)}return Gh(e,t,n,c,g)}function F0(e,t,n,c){var g=c.children,y=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((t.flags&128)!==0){if(y=y!==null?y.baseLanes|n:n,e!==null){for(c=t.child=e.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~y}else c=0,t.child=null;return G0(e,t,y,n,c)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(t,y!==null?y.cachePool:null),y!==null?WE(t,y):wh(),JE(t);else return c=t.lanes=536870912,G0(e,t,y!==null?y.baseLanes|n:n,n,c)}else y!==null?(Mu(t,y.cachePool),WE(t,y),Bs(),t.memoizedState=null):(e!==null&&Mu(t,null),wh(),Bs());return jr(e,t,g,n),t.child}function Bl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function G0(e,t,n,c,g){var y=gh();return y=y===null?null:{parent:sr._currentValue,pool:y},t.memoizedState={baseLanes:n,cachePool:y},e!==null&&Mu(t,null),wh(),JE(t),e!==null&&No(e,t,c,!0),t.childLanes=g,null}function ef(e,t){return t=rf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function V0(e,t,n){return Ma(t,e.child,null,n),e=ef(t,t.pendingProps),e.flags|=2,Rn(t),t.memoizedState=null,e}function hO(e,t,n){var c=t.pendingProps,g=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(dt){if(c.mode==="hidden")return e=ef(t,c),t.lanes=536870912,Bl(null,e);if(Ch(t),(e=Ut)?(e=sS(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ci,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},n=NE(e),n.return=t,t.child=n,kr=t,Ut=null)):e=null,e===null)throw Ps(t);return t.lanes=536870912,null}return ef(t,c)}var y=e.memoizedState;if(y!==null){var j=y.dehydrated;if(Ch(t),g)if(t.flags&256)t.flags&=-257,t=V0(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(or||No(e,t,n,!1),g=(n&e.childLanes)!==0,or||g){if(c=Dt,c!==null&&(j=Sr(c,n),j!==0&&j!==y.retryLane))throw y.retryLane=j,Na(e,j),dn(c,e,j),Fh;df(),t=V0(e,t,n)}else e=y.treeContext,Ut=Hn(j.nextSibling),kr=t,dt=!0,Ls=null,Mn=!1,e!==null&&jE(t,e),t=ef(t,c),t.flags|=4096;return t}return e=Qi(e.child,{mode:c.mode,children:c.children}),e.ref=t.ref,t.child=e,e.return=t,e}function tf(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Gh(e,t,n,c,g){return Da(t),n=Rh(e,t,n,c,void 0,g),c=Ah(),e!==null&&!or?(_h(e,t,g),is(e,t,g)):(dt&&c&&oh(t),t.flags|=1,jr(e,t,n,g),t.child)}function W0(e,t,n,c,g,y){return Da(t),t.updateQueue=null,n=XE(t,c,n,g),YE(e),c=Ah(),e!==null&&!or?(_h(e,t,y),is(e,t,y)):(dt&&c&&oh(t),t.flags|=1,jr(e,t,n,y),t.child)}function J0(e,t,n,c,g){if(Da(t),t.stateNode===null){var y=Ro,j=n.contextType;typeof j=="object"&&j!==null&&(y=Ir(j)),y=new n(c,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zh,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=c,y.state=t.memoizedState,y.refs={},vh(t),j=n.contextType,y.context=typeof j=="object"&&j!==null?Ir(j):Ro,y.state=t.memoizedState,j=n.getDerivedStateFromProps,typeof j=="function"&&(Bh(t,n,j,c),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(j=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),j!==y.state&&zh.enqueueReplaceState(y,y.state,null),Ul(t,c,y,g),Pl(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),c=!0}else if(e===null){y=t.stateNode;var B=t.memoizedProps,te=Ha(n,B);y.props=te;var de=y.context,Ee=n.contextType;j=Ro,typeof Ee=="object"&&Ee!==null&&(j=Ir(Ee));var we=n.getDerivedStateFromProps;Ee=typeof we=="function"||typeof y.getSnapshotBeforeUpdate=="function",B=t.pendingProps!==B,Ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(B||de!==j)&&L0(t,y,c,j),Ms=!1;var he=t.memoizedState;y.state=he,Ul(t,c,y,g),Pl(),de=t.memoizedState,B||he!==de||Ms?(typeof we=="function"&&(Bh(t,n,we,c),de=t.memoizedState),(te=Ms||D0(t,n,te,c,he,de,j))?(Ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=de),y.props=c,y.state=de,y.context=j,c=te):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{y=t.stateNode,Eh(e,t),j=t.memoizedProps,Ee=Ha(n,j),y.props=Ee,we=t.pendingProps,he=y.context,de=n.contextType,te=Ro,typeof de=="object"&&de!==null&&(te=Ir(de)),B=n.getDerivedStateFromProps,(de=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==we||he!==te)&&L0(t,y,c,te),Ms=!1,he=t.memoizedState,y.state=he,Ul(t,c,y,g),Pl();var me=t.memoizedState;j!==we||he!==me||Ms||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof B=="function"&&(Bh(t,n,B,c),me=t.memoizedState),(Ee=Ms||D0(t,n,Ee,c,he,me,te)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(de||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,me,te),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,me,te)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=me),y.props=c,y.state=me,y.context=te,c=Ee):(typeof y.componentDidUpdate!="function"||j===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),c=!1)}return y=c,tf(e,t),c=(t.flags&128)!==0,y||c?(y=t.stateNode,n=c&&typeof n.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&c?(t.child=Ma(t,e.child,null,g),t.child=Ma(t,null,n,g)):jr(e,t,n,g),t.memoizedState=y.state,e=t.child):e=is(e,t,g),e}function Y0(e,t,n,c){return Ia(),t.flags|=256,jr(e,t,n,c),t.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(e){return{baseLanes:e,cachePool:qE()}}function Jh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=_n),e}function X0(e,t,n){var c=t.pendingProps,g=!1,y=(t.flags&128)!==0,j;if((j=y)||(j=e!==null&&e.memoizedState===null?!1:(Xt.current&2)!==0),j&&(g=!0,t.flags&=-129),j=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(g?$s(t):Bs(),(e=Ut)?(e=sS(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ci,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},n=NE(e),n.return=t,t.child=n,kr=t,Ut=null)):e=null,e===null)throw Ps(t);return kp(e)?t.lanes=32:t.lanes=536870912,null}var B=c.children;return c=c.fallback,g?(Bs(),g=t.mode,B=rf({mode:"hidden",children:B},g),c=ka(c,g,n,null),B.return=t,c.return=t,B.sibling=c,t.child=B,c=t.child,c.memoizedState=Wh(n),c.childLanes=Jh(e,j,n),t.memoizedState=Vh,Bl(null,c)):($s(t),Yh(t,B))}var te=e.memoizedState;if(te!==null&&(B=te.dehydrated,B!==null)){if(y)t.flags&256?($s(t),t.flags&=-257,t=Xh(e,t,n)):t.memoizedState!==null?(Bs(),t.child=e.child,t.flags|=128,t=null):(Bs(),B=c.fallback,g=t.mode,c=rf({mode:"visible",children:c.children},g),B=ka(B,g,n,null),B.flags|=2,c.return=t,B.return=t,c.sibling=B,t.child=c,Ma(t,e.child,null,n),c=t.child,c.memoizedState=Wh(n),c.childLanes=Jh(e,j,n),t.memoizedState=Vh,t=Bl(null,c));else if($s(t),kp(B)){if(j=B.nextSibling&&B.nextSibling.dataset,j)var de=j.dgst;j=de,c=Error(i(419)),c.stack="",c.digest=j,Nl({value:c,source:null,stack:null}),t=Xh(e,t,n)}else if(or||No(e,t,n,!1),j=(n&e.childLanes)!==0,or||j){if(j=Dt,j!==null&&(c=Sr(j,n),c!==0&&c!==te.retryLane))throw te.retryLane=c,Na(e,c),dn(j,e,c),Fh;Np(B)||df(),t=Xh(e,t,n)}else Np(B)?(t.flags|=192,t.child=e.child,t=null):(e=te.treeContext,Ut=Hn(B.nextSibling),kr=t,dt=!0,Ls=null,Mn=!1,e!==null&&jE(t,e),t=Yh(t,c.children),t.flags|=4096);return t}return g?(Bs(),B=c.fallback,g=t.mode,te=e.child,de=te.sibling,c=Qi(te,{mode:"hidden",children:c.children}),c.subtreeFlags=te.subtreeFlags&65011712,de!==null?B=Qi(de,B):(B=ka(B,g,n,null),B.flags|=2),B.return=t,c.return=t,c.sibling=B,t.child=c,Bl(null,c),c=t.child,B=e.child.memoizedState,B===null?B=Wh(n):(g=B.cachePool,g!==null?(te=sr._currentValue,g=g.parent!==te?{parent:te,pool:te}:g):g=qE(),B={baseLanes:B.baseLanes|n,cachePool:g}),c.memoizedState=B,c.childLanes=Jh(e,j,n),t.memoizedState=Vh,Bl(e.child,c)):($s(t),n=e.child,e=n.sibling,n=Qi(n,{mode:"visible",children:c.children}),n.return=t,n.sibling=null,e!==null&&(j=t.deletions,j===null?(t.deletions=[e],t.flags|=16):j.push(e)),t.child=n,t.memoizedState=null,n)}function Yh(e,t){return t=rf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rf(e,t){return e=Cn(22,e,null,t),e.lanes=0,e}function Xh(e,t,n){return Ma(t,e.child,null,n),e=Yh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q0(e,t,n){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),dh(e.return,t,n)}function Qh(e,t,n,c,g,y){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:n,tailMode:g,treeForkCount:y}:(j.isBackwards=t,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=n,j.tailMode=g,j.treeForkCount=y)}function Z0(e,t,n){var c=t.pendingProps,g=c.revealOrder,y=c.tail;c=c.children;var j=Xt.current,B=(j&2)!==0;if(B?(j=j&1|2,t.flags|=128):j&=1,ie(Xt,j),jr(e,t,c,n),c=dt?Ol:0,!B&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q0(e,n,t);else if(e.tag===19)Q0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&Ku(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),Qh(t,!1,g,n,y,c);break;case"backwards":case"unstable_legacy-backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Ku(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}Qh(t,!0,n,null,y,c);break;case"together":Qh(t,!1,null,null,void 0,c);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(No(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zh(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function pO(e,t,n){switch(t.tag){case 3:ze(t,t.stateNode.containerInfo),Us(t,sr,e.memoizedState.cache),Ia();break;case 27:case 5:Ht(t);break;case 4:ze(t,t.stateNode.containerInfo);break;case 10:Us(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ch(t),null;break;case 13:var c=t.memoizedState;if(c!==null)return c.dehydrated!==null?($s(t),t.flags|=128,null):(n&t.child.childLanes)!==0?X0(e,t,n):($s(t),e=is(e,t,n),e!==null?e.sibling:null);$s(t);break;case 19:var g=(e.flags&128)!==0;if(c=(n&t.childLanes)!==0,c||(No(e,t,n,!1),c=(n&t.childLanes)!==0),g){if(c)return Z0(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ie(Xt,Xt.current),c)break;return null;case 22:return t.lanes=0,F0(e,t,n,t.pendingProps);case 24:Us(t,sr,e.memoizedState.cache)}return is(e,t,n)}function eb(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)or=!0;else{if(!Zh(e,n)&&(t.flags&128)===0)return or=!1,pO(e,t,n);or=(e.flags&131072)!==0}else or=!1,dt&&(t.flags&1048576)!==0&&IE(t,Ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{var c=t.pendingProps;if(e=Pa(t.elementType),t.type=e,typeof e=="function")ih(e)?(c=Ha(e,c),t.tag=1,t=J0(null,t,e,c,n)):(t.tag=0,t=Gh(null,t,e,c,n));else{if(e!=null){var g=e.$$typeof;if(g===_){t.tag=11,t=B0(null,t,e,c,n);break e}else if(g===U){t.tag=14,t=z0(null,t,e,c,n);break e}}throw t=J(e)||e,Error(i(306,t,""))}}return t;case 0:return Gh(e,t,t.type,t.pendingProps,n);case 1:return c=t.type,g=Ha(c,t.pendingProps),J0(e,t,c,g,n);case 3:e:{if(ze(t,t.stateNode.containerInfo),e===null)throw Error(i(387));c=t.pendingProps;var y=t.memoizedState;g=y.element,Eh(e,t),Ul(t,c,null,n);var j=t.memoizedState;if(c=j.cache,Us(t,sr,c),c!==y.cache&&hh(t,[sr],n,!0),Pl(),c=j.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:j.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=Y0(e,t,c,n);break e}else if(c!==g){g=Ln(Error(i(424)),t),Nl(g),t=Y0(e,t,c,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ut=Hn(e.firstChild),kr=t,dt=!0,Ls=null,Mn=!0,n=FE(t,null,c,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),c===g){t=is(e,t,n);break e}jr(e,t,c,n)}t=t.child}return t;case 26:return tf(e,t),e===null?(n=fS(t.type,null,t.pendingProps,null))?t.memoizedState=n:dt||(n=t.type,e=t.pendingProps,c=Ef(je.current).createElement(n),c[Yt]=t,c[Kt]=e,Dr(c,n,e),At(c),t.stateNode=c):t.memoizedState=fS(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ht(t),e===null&&dt&&(c=t.stateNode=lS(t.type,t.pendingProps,je.current),kr=t,Mn=!0,g=Ut,Ys(t.type)?(Ip=g,Ut=Hn(c.firstChild)):Ut=g),jr(e,t,t.pendingProps.children,n),tf(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((g=c=Ut)&&(c=KO(c,t.type,t.pendingProps,Mn),c!==null?(t.stateNode=c,kr=t,Ut=Hn(c.firstChild),Mn=!1,g=!0):g=!1),g||Ps(t)),Ht(t),g=t.type,y=t.pendingProps,j=e!==null?e.memoizedProps:null,c=y.children,Ap(g,y)?c=null:j!==null&&Ap(g,j)&&(t.flags|=32),t.memoizedState!==null&&(g=Rh(e,t,sO,null,null,n),nc._currentValue=g),tf(e,t),jr(e,t,c,n),t.child;case 6:return e===null&&dt&&((e=n=Ut)&&(n=FO(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,kr=t,Ut=null,e=!0):e=!1),e||Ps(t)),null;case 13:return X0(e,t,n);case 4:return ze(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=Ma(t,null,c,n):jr(e,t,c,n),t.child;case 11:return B0(e,t,t.type,t.pendingProps,n);case 7:return jr(e,t,t.pendingProps,n),t.child;case 8:return jr(e,t,t.pendingProps.children,n),t.child;case 12:return jr(e,t,t.pendingProps.children,n),t.child;case 10:return c=t.pendingProps,Us(t,t.type,c.value),jr(e,t,c.children,n),t.child;case 9:return g=t.type._context,c=t.pendingProps.children,Da(t),g=Ir(g),c=c(g),t.flags|=1,jr(e,t,c,n),t.child;case 14:return z0(e,t,t.type,t.pendingProps,n);case 15:return K0(e,t,t.type,t.pendingProps,n);case 19:return Z0(e,t,n);case 31:return hO(e,t,n);case 22:return F0(e,t,n,t.pendingProps);case 24:return Da(t),c=Ir(sr),e===null?(g=gh(),g===null&&(g=Dt,y=ph(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=n),g=y),t.memoizedState={parent:c,cache:g},vh(t),Us(t,sr,g)):((e.lanes&n)!==0&&(Eh(e,t),Ul(t,null,null,n),Pl()),g=e.memoizedState,y=t.memoizedState,g.parent!==c?(g={parent:c,cache:c},t.memoizedState=g,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=g),Us(t,sr,c)):(c=y.cache,Us(t,sr,c),c!==g.cache&&hh(t,[sr],n,!0))),jr(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ss(e){e.flags|=4}function ep(e,t,n,c,g){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(Ab())e.flags|=8192;else throw Ua=Hu,yh}else e.flags&=-16777217}function tb(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gS(t))if(Ab())e.flags|=8192;else throw Ua=Hu,yh}function nf(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?tr():536870912,e.lanes|=t,Bo|=t)}function zl(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var c=null;n!==null;)n.alternate!==null&&(c=n),n=n.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,c=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=c,e.childLanes=n,t}function mO(e,t,n){var c=t.pendingProps;switch(lh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Mt(t),null;case 3:return n=t.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),t.memoizedState.cache!==c&&(t.flags|=2048),ts(sr),Ze(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?ss(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,uh())),Mt(t),null;case 26:var g=t.type,y=t.memoizedState;return e===null?(ss(t),y!==null?(Mt(t),tb(t,y)):(Mt(t),ep(t,g,null,c,n))):y?y!==e.memoizedState?(ss(t),Mt(t),tb(t,y)):(Mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==c&&ss(t),Mt(t),ep(t,g,e,c,n)),null;case 27:if(Wt(t),n=je.current,g=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==c&&ss(t);else{if(!c){if(t.stateNode===null)throw Error(i(166));return Mt(t),null}e=pe.current,Oo(t)?DE(t):(e=lS(g,c,n),t.stateNode=e,ss(t))}return Mt(t),null;case 5:if(Wt(t),g=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==c&&ss(t);else{if(!c){if(t.stateNode===null)throw Error(i(166));return Mt(t),null}if(y=pe.current,Oo(t))DE(t);else{var j=Ef(je.current);switch(y){case 1:y=j.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=j.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=j.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?j.createElement(g,{is:c.is}):j.createElement(g)}}y[Yt]=t,y[Kt]=c;e:for(j=t.child;j!==null;){if(j.tag===5||j.tag===6)y.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}t.stateNode=y;e:switch(Dr(y,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ss(t)}}return Mt(t),ep(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==c&&ss(t);else{if(typeof c!="string"&&t.stateNode===null)throw Error(i(166));if(e=je.current,Oo(t)){if(e=t.stateNode,n=t.memoizedProps,c=null,g=kr,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}e[Yt]=t,e=!!(e.nodeValue===n||c!==null&&c.suppressHydrationWarning===!0||Xb(e.nodeValue,n)),e||Ps(t,!0)}else e=Ef(e).createTextNode(c),e[Yt]=t,t.stateNode=e}return Mt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(c=Oo(t),n!==null){if(e===null){if(!c)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Yt]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),e=!1}else n=uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Rn(t),t):(Rn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Mt(t),null;case 13:if(c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Oo(t),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(i(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Yt]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),g=!1}else g=uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return t.flags&256?(Rn(t),t):(Rn(t),null)}return Rn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=c!==null,e=e!==null&&e.memoizedState!==null,n&&(c=t.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),nf(t,t.updateQueue),Mt(t),null);case 4:return Ze(),e===null&&wp(t.stateNode.containerInfo),Mt(t),null;case 10:return ts(t.type),Mt(t),null;case 19:if(re(Xt),c=t.memoizedState,c===null)return Mt(t),null;if(g=(t.flags&128)!==0,y=c.rendering,y===null)if(g)zl(c,!1);else{if(Vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Ku(e),y!==null){for(t.flags|=128,zl(c,!1),e=y.updateQueue,t.updateQueue=e,nf(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)OE(n,e),n=n.sibling;return ie(Xt,Xt.current&1|2),dt&&Zi(t,c.treeForkCount),t.child}e=e.sibling}c.tail!==null&&dr()>cf&&(t.flags|=128,g=!0,zl(c,!1),t.lanes=4194304)}else{if(!g)if(e=Ku(y),e!==null){if(t.flags|=128,g=!0,e=e.updateQueue,t.updateQueue=e,nf(t,e),zl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!dt)return Mt(t),null}else 2*dr()-c.renderingStartTime>cf&&n!==536870912&&(t.flags|=128,g=!0,zl(c,!1),t.lanes=4194304);c.isBackwards?(y.sibling=t.child,t.child=y):(e=c.last,e!==null?e.sibling=y:t.child=y,c.last=y)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=dr(),e.sibling=null,n=Xt.current,ie(Xt,g?n&1|2:n&1),dt&&Zi(t,c.treeForkCount),e):(Mt(t),null);case 22:case 23:return Rn(t),Th(),c=t.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(t.flags|=8192):c&&(t.flags|=8192),c?(n&536870912)!==0&&(t.flags&128)===0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),n=t.updateQueue,n!==null&&nf(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),c=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),c!==n&&(t.flags|=2048),e!==null&&re(La),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ts(sr),Mt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function gO(e,t){switch(lh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(sr),Ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wt(t),null;case 31:if(t.memoizedState!==null){if(Rn(t),t.alternate===null)throw Error(i(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(Xt),null;case 4:return Ze(),null;case 10:return ts(t.type),null;case 22:case 23:return Rn(t),Th(),e!==null&&re(La),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ts(sr),null;case 25:return null;default:return null}}function rb(e,t){switch(lh(t),t.tag){case 3:ts(sr),Ze();break;case 26:case 27:case 5:Wt(t);break;case 4:Ze();break;case 31:t.memoizedState!==null&&Rn(t);break;case 13:Rn(t);break;case 19:re(Xt);break;case 10:ts(t.type);break;case 22:case 23:Rn(t),Th(),e!==null&&re(La);break;case 24:ts(sr)}}function Kl(e,t){try{var n=t.updateQueue,c=n!==null?n.lastEffect:null;if(c!==null){var g=c.next;n=g;do{if((n.tag&e)===e){c=void 0;var y=n.create,j=n.inst;c=y(),j.destroy=c}n=n.next}while(n!==g)}}catch(B){Ct(t,t.return,B)}}function zs(e,t,n){try{var c=t.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&e)===e){var j=c.inst,B=j.destroy;if(B!==void 0){j.destroy=void 0,g=t;var te=n,de=B;try{de()}catch(Ee){Ct(g,te,Ee)}}}c=c.next}while(c!==y)}}catch(Ee){Ct(t,t.return,Ee)}}function nb(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{VE(t,n)}catch(c){Ct(e,e.return,c)}}}function ib(e,t,n){n.props=Ha(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(c){Ct(e,t,c)}}function Fl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof n=="function"?e.refCleanup=n(c):n.current=c}}catch(g){Ct(e,t,g)}}function Ri(e,t){var n=e.ref,c=e.refCleanup;if(n!==null)if(typeof c=="function")try{c()}catch(g){Ct(e,t,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(g){Ct(e,t,g)}else n.current=null}function sb(e){var t=e.type,n=e.memoizedProps,c=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&c.focus();break e;case"img":n.src?c.src=n.src:n.srcSet&&(c.srcset=n.srcSet)}}catch(g){Ct(e,e.return,g)}}function tp(e,t,n){try{var c=e.stateNode;MO(c,e.type,n,t),c[Kt]=t}catch(g){Ct(e,e.return,g)}}function ab(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function rp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ab(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function np(e,t,n){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$r));else if(c!==4&&(c===27&&Ys(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(np(e,t,n),e=e.sibling;e!==null;)np(e,t,n),e=e.sibling}function sf(e,t,n){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(c!==4&&(c===27&&Ys(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(sf(e,t,n),e=e.sibling;e!==null;)sf(e,t,n),e=e.sibling}function ob(e){var t=e.stateNode,n=e.memoizedProps;try{for(var c=e.type,g=t.attributes;g.length;)t.removeAttributeNode(g[0]);Dr(t,c,n),t[Yt]=e,t[Kt]=n}catch(y){Ct(e,e.return,y)}}var as=!1,lr=!1,ip=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function yO(e,t){if(e=e.containerInfo,xp=Rf,e=bE(e),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var c=n.getSelection&&n.getSelection();if(c&&c.rangeCount!==0){n=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var j=0,B=-1,te=-1,de=0,Ee=0,we=e,he=null;t:for(;;){for(var me;we!==n||g!==0&&we.nodeType!==3||(B=j+g),we!==y||c!==0&&we.nodeType!==3||(te=j+c),we.nodeType===3&&(j+=we.nodeValue.length),(me=we.firstChild)!==null;)he=we,we=me;for(;;){if(we===e)break t;if(he===n&&++de===g&&(B=j),he===y&&++Ee===c&&(te=j),(me=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=me}n=B===-1||te===-1?null:{start:B,end:te}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rp={focusedElem:e,selectionRange:n},Rf=!1,Cr=t;Cr!==null;)if(t=Cr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Cr=e;else for(;Cr!==null;){switch(t=Cr,y=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)g=e[n],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,n=t,g=y.memoizedProps,y=y.memoizedState,c=n.stateNode;try{var De=Ha(n.type,g);e=c.getSnapshotBeforeUpdate(De,y),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ke){Ct(n,n.return,Ke)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Op(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Op(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Cr=e;break}Cr=t.return}}function cb(e,t,n){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ls(e,n),c&4&&Kl(5,n);break;case 1:if(ls(e,n),c&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(j){Ct(n,n.return,j)}else{var g=Ha(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(g,t,e.__reactInternalSnapshotBeforeUpdate)}catch(j){Ct(n,n.return,j)}}c&64&&nb(n),c&512&&Fl(n,n.return);break;case 3:if(ls(e,n),c&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{VE(e,t)}catch(j){Ct(n,n.return,j)}}break;case 27:t===null&&c&4&&ob(n);case 26:case 5:ls(e,n),t===null&&c&4&&sb(n),c&512&&Fl(n,n.return);break;case 12:ls(e,n);break;case 31:ls(e,n),c&4&&db(e,n);break;case 13:ls(e,n),c&4&&hb(e,n),c&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=RO.bind(null,n),GO(e,n))));break;case 22:if(c=n.memoizedState!==null||as,!c){t=t!==null&&t.memoizedState!==null||lr,g=as;var y=lr;as=c,(lr=t)&&!y?cs(e,n,(n.subtreeFlags&8772)!==0):ls(e,n),as=g,lr=y}break;case 30:break;default:ls(e,n)}}function ub(e){var t=e.alternate;t!==null&&(e.alternate=null,ub(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ga(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,ln=!1;function os(e,t,n){for(n=n.child;n!==null;)fb(e,t,n),n=n.sibling}function fb(e,t,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Vn,n)}catch{}switch(n.tag){case 26:lr||Ri(n,t),os(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lr||Ri(n,t);var c=qt,g=ln;Ys(n.type)&&(qt=n.stateNode,ln=!1),os(e,t,n),ec(n.stateNode),qt=c,ln=g;break;case 5:lr||Ri(n,t);case 6:if(c=qt,g=ln,qt=null,os(e,t,n),qt=c,ln=g,qt!==null)if(ln)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(n.stateNode)}catch(y){Ct(n,t,y)}else try{qt.removeChild(n.stateNode)}catch(y){Ct(n,t,y)}break;case 18:qt!==null&&(ln?(e=qt,nS(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Yo(e)):nS(qt,n.stateNode));break;case 4:c=qt,g=ln,qt=n.stateNode.containerInfo,ln=!0,os(e,t,n),qt=c,ln=g;break;case 0:case 11:case 14:case 15:zs(2,n,t),lr||zs(4,n,t),os(e,t,n);break;case 1:lr||(Ri(n,t),c=n.stateNode,typeof c.componentWillUnmount=="function"&&ib(n,t,c)),os(e,t,n);break;case 21:os(e,t,n);break;case 22:lr=(c=lr)||n.memoizedState!==null,os(e,t,n),lr=c;break;default:os(e,t,n)}}function db(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yo(e)}catch(n){Ct(t,t.return,n)}}}function hb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yo(e)}catch(n){Ct(t,t.return,n)}}function vO(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lb),t;default:throw Error(i(435,e.tag))}}function af(e,t){var n=vO(e);t.forEach(function(c){if(!n.has(c)){n.add(c);var g=AO.bind(null,e,c);c.then(g,g)}})}function cn(e,t){var n=t.deletions;if(n!==null)for(var c=0;c<n.length;c++){var g=n[c],y=e,j=t,B=j;e:for(;B!==null;){switch(B.tag){case 27:if(Ys(B.type)){qt=B.stateNode,ln=!1;break e}break;case 5:qt=B.stateNode,ln=!1;break e;case 3:case 4:qt=B.stateNode.containerInfo,ln=!0;break e}B=B.return}if(qt===null)throw Error(i(160));fb(y,j,g),qt=null,ln=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pb(t,e),t=t.sibling}var si=null;function pb(e,t){var n=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(t,e),un(e),c&4&&(zs(3,e,e.return),Kl(3,e),zs(5,e,e.return));break;case 1:cn(t,e),un(e),c&512&&(lr||n===null||Ri(n,n.return)),c&64&&as&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?c:n.concat(c))));break;case 26:var g=si;if(cn(t,e),un(e),c&512&&(lr||n===null||Ri(n,n.return)),c&4){var y=n!==null?n.memoizedState:null;if(c=e.memoizedState,n===null)if(c===null)if(e.stateNode===null){e:{c=e.type,n=e.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[qr]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),Dr(y,c,n),y[Yt]=e,At(y),c=y;break e;case"link":var j=pS("link","href",g).get(c+(n.href||""));if(j){for(var B=0;B<j.length;B++)if(y=j[B],y.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){j.splice(B,1);break t}}y=g.createElement(c),Dr(y,c,n),g.head.appendChild(y);break;case"meta":if(j=pS("meta","content",g).get(c+(n.content||""))){for(B=0;B<j.length;B++)if(y=j[B],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){j.splice(B,1);break t}}y=g.createElement(c),Dr(y,c,n),g.head.appendChild(y);break;default:throw Error(i(468,c))}y[Yt]=e,At(y),c=y}e.stateNode=c}else mS(g,e.type,e.stateNode);else e.stateNode=hS(g,c,e.memoizedProps);else y!==c?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,c===null?mS(g,e.type,e.stateNode):hS(g,c,e.memoizedProps)):c===null&&e.stateNode!==null&&tp(e,e.memoizedProps,n.memoizedProps)}break;case 27:cn(t,e),un(e),c&512&&(lr||n===null||Ri(n,n.return)),n!==null&&c&4&&tp(e,e.memoizedProps,n.memoizedProps);break;case 5:if(cn(t,e),un(e),c&512&&(lr||n===null||Ri(n,n.return)),e.flags&32){g=e.stateNode;try{wi(g,"")}catch(De){Ct(e,e.return,De)}}c&4&&e.stateNode!=null&&(g=e.memoizedProps,tp(e,g,n!==null?n.memoizedProps:g)),c&1024&&(ip=!0);break;case 6:if(cn(t,e),un(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,n=e.stateNode;try{n.nodeValue=c}catch(De){Ct(e,e.return,De)}}break;case 3:if(wf=null,g=si,si=bf(t.containerInfo),cn(t,e),si=g,un(e),c&4&&n!==null&&n.memoizedState.isDehydrated)try{Yo(t.containerInfo)}catch(De){Ct(e,e.return,De)}ip&&(ip=!1,mb(e));break;case 4:c=si,si=bf(e.stateNode.containerInfo),cn(t,e),un(e),si=c;break;case 12:cn(t,e),un(e);break;case 31:cn(t,e),un(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,af(e,c)));break;case 13:cn(t,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lf=dr()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,af(e,c)));break;case 22:g=e.memoizedState!==null;var te=n!==null&&n.memoizedState!==null,de=as,Ee=lr;if(as=de||g,lr=Ee||te,cn(t,e),lr=Ee,as=de,un(e),c&8192)e:for(t=e.stateNode,t._visibility=g?t._visibility&-2:t._visibility|1,g&&(n===null||te||as||lr||$a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){te=n=t;try{if(y=te.stateNode,g)j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{B=te.stateNode;var we=te.memoizedProps.style,he=we!=null&&we.hasOwnProperty("display")?we.display:null;B.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(De){Ct(te,te.return,De)}}}else if(t.tag===6){if(n===null){te=t;try{te.stateNode.nodeValue=g?"":te.memoizedProps}catch(De){Ct(te,te.return,De)}}}else if(t.tag===18){if(n===null){te=t;try{var me=te.stateNode;g?iS(me,!0):iS(te.stateNode,!1)}catch(De){Ct(te,te.return,De)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}c&4&&(c=e.updateQueue,c!==null&&(n=c.retryQueue,n!==null&&(c.retryQueue=null,af(e,n))));break;case 19:cn(t,e),un(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,af(e,c)));break;case 30:break;case 21:break;default:cn(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{for(var n,c=e.return;c!==null;){if(ab(c)){n=c;break}c=c.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var g=n.stateNode,y=rp(e);sf(e,y,g);break;case 5:var j=n.stateNode;n.flags&32&&(wi(j,""),n.flags&=-33);var B=rp(e);sf(e,B,j);break;case 3:case 4:var te=n.stateNode.containerInfo,de=rp(e);np(e,de,te);break;default:throw Error(i(161))}}catch(Ee){Ct(e,e.return,Ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ls(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cb(e,t.alternate,t),t=t.sibling}function $a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),$a(t);break;case 1:Ri(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ib(t,t.return,n),$a(t);break;case 27:ec(t.stateNode);case 26:case 5:Ri(t,t.return),$a(t);break;case 22:t.memoizedState===null&&$a(t);break;case 30:$a(t);break;default:$a(t)}e=e.sibling}}function cs(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var c=t.alternate,g=e,y=t,j=y.flags;switch(y.tag){case 0:case 11:case 15:cs(g,y,n),Kl(4,y);break;case 1:if(cs(g,y,n),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(de){Ct(c,c.return,de)}if(c=y,g=c.updateQueue,g!==null){var B=c.stateNode;try{var te=g.shared.hiddenCallbacks;if(te!==null)for(g.shared.hiddenCallbacks=null,g=0;g<te.length;g++)GE(te[g],B)}catch(de){Ct(c,c.return,de)}}n&&j&64&&nb(y),Fl(y,y.return);break;case 27:ob(y);case 26:case 5:cs(g,y,n),n&&c===null&&j&4&&sb(y),Fl(y,y.return);break;case 12:cs(g,y,n);break;case 31:cs(g,y,n),n&&j&4&&db(g,y);break;case 13:cs(g,y,n),n&&j&4&&hb(g,y);break;case 22:y.memoizedState===null&&cs(g,y,n),Fl(y,y.return);break;case 30:break;default:cs(g,y,n)}t=t.sibling}}function sp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&kl(n))}function ap(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kl(e))}function ai(e,t,n,c){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gb(e,t,n,c),t=t.sibling}function gb(e,t,n,c){var g=t.flags;switch(t.tag){case 0:case 11:case 15:ai(e,t,n,c),g&2048&&Kl(9,t);break;case 1:ai(e,t,n,c);break;case 3:ai(e,t,n,c),g&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kl(e)));break;case 12:if(g&2048){ai(e,t,n,c),e=t.stateNode;try{var y=t.memoizedProps,j=y.id,B=y.onPostCommit;typeof B=="function"&&B(j,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(te){Ct(t,t.return,te)}}else ai(e,t,n,c);break;case 31:ai(e,t,n,c);break;case 13:ai(e,t,n,c);break;case 23:break;case 22:y=t.stateNode,j=t.alternate,t.memoizedState!==null?y._visibility&2?ai(e,t,n,c):Gl(e,t):y._visibility&2?ai(e,t,n,c):(y._visibility|=2,qo(e,t,n,c,(t.subtreeFlags&10256)!==0||!1)),g&2048&&sp(j,t);break;case 24:ai(e,t,n,c),g&2048&&ap(t.alternate,t);break;default:ai(e,t,n,c)}}function qo(e,t,n,c,g){for(g=g&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var y=e,j=t,B=n,te=c,de=j.flags;switch(j.tag){case 0:case 11:case 15:qo(y,j,B,te,g),Kl(8,j);break;case 23:break;case 22:var Ee=j.stateNode;j.memoizedState!==null?Ee._visibility&2?qo(y,j,B,te,g):Gl(y,j):(Ee._visibility|=2,qo(y,j,B,te,g)),g&&de&2048&&sp(j.alternate,j);break;case 24:qo(y,j,B,te,g),g&&de&2048&&ap(j.alternate,j);break;default:qo(y,j,B,te,g)}t=t.sibling}}function Gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,c=t,g=c.flags;switch(c.tag){case 22:Gl(n,c),g&2048&&sp(c.alternate,c);break;case 24:Gl(n,c),g&2048&&ap(c.alternate,c);break;default:Gl(n,c)}t=t.sibling}}var Vl=8192;function Ho(e,t,n){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)yb(e,t,n),e=e.sibling}function yb(e,t,n){switch(e.tag){case 26:Ho(e,t,n),e.flags&Vl&&e.memoizedState!==null&&iN(n,si,e.memoizedState,e.memoizedProps);break;case 5:Ho(e,t,n);break;case 3:case 4:var c=si;si=bf(e.stateNode.containerInfo),Ho(e,t,n),si=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Vl,Vl=16777216,Ho(e,t,n),Vl=c):Ho(e,t,n));break;default:Ho(e,t,n)}}function vb(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var c=t[n];Cr=c,bb(c,e)}vb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eb(e),e=e.sibling}function Eb(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&zs(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,of(e)):Wl(e);break;default:Wl(e)}}function of(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var c=t[n];Cr=c,bb(c,e)}vb(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zs(8,t,t.return),of(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,of(t));break;default:of(t)}e=e.sibling}}function bb(e,t){for(;Cr!==null;){var n=Cr;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var c=n.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kl(n.memoizedState.cache)}if(c=n.child,c!==null)c.return=n,Cr=c;else e:for(n=e;Cr!==null;){c=Cr;var g=c.sibling,y=c.return;if(ub(c),c===n){Cr=null;break e}if(g!==null){g.return=y,Cr=g;break e}Cr=y}}}var EO={getCacheForType:function(e){var t=Ir(sr),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ir(sr).controller.signal}},bO=typeof WeakMap=="function"?WeakMap:Map,bt=0,Dt=null,st=null,ct=0,Tt=0,An=null,Ks=!1,$o=!1,op=!1,us=0,Vt=0,Fs=0,Ba=0,lp=0,_n=0,Bo=0,Jl=null,fn=null,cp=!1,lf=0,Sb=0,cf=1/0,uf=null,Gs=null,mr=0,Vs=null,zo=null,fs=0,up=0,fp=null,wb=null,Yl=0,dp=null;function On(){return(bt&2)!==0&&ct!==0?ct&-ct:M.T!==null?vp():ha()}function Tb(){if(_n===0)if((ct&536870912)===0||dt){var e=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),_n=e}else _n=536870912;return e=xn.current,e!==null&&(e.flags|=32),_n}function dn(e,t,n){(e===Dt&&(Tt===2||Tt===9)||e.cancelPendingCommit!==null)&&(Ko(e,0),Ws(e,ct,_n,!1)),vt(e,n),((bt&2)===0||e!==Dt)&&(e===Dt&&((bt&2)===0&&(Ba|=n),Vt===4&&Ws(e,ct,_n,!1)),Ai(e))}function Cb(e,t,n){if((bt&6)!==0)throw Error(i(327));var c=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Rt(e,t),g=c?TO(e,t):pp(e,t,!0),y=c;do{if(g===0){$o&&!c&&Ws(e,t,0,!1);break}else{if(n=e.current.alternate,y&&!SO(n)){g=pp(e,t,!1),y=!1;continue}if(g===2){if(y=t,e.errorRecoveryDisabledLanes&y)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){t=j;e:{var B=e;g=Jl;var te=B.current.memoizedState.isDehydrated;if(te&&(Ko(B,j).flags|=256),j=pp(B,j,!1),j!==2){if(op&&!te){B.errorRecoveryDisabledLanes|=y,Ba|=y,g=4;break e}y=fn,fn=g,y!==null&&(fn===null?fn=y:fn.push.apply(fn,y))}g=j}if(y=!1,g!==2)continue}}if(g===1){Ko(e,0),Ws(e,t,0,!0);break}e:{switch(c=e,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ws(c,t,_n,!Ks);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(g=lf+300-dr(),10<g)){if(Ws(c,t,_n,!Ks),Ge(c,0,!0)!==0)break e;fs=t,c.timeoutHandle=tS(xb.bind(null,c,n,fn,uf,cp,t,_n,Ba,Bo,Ks,y,"Throttled",-0,0),g);break e}xb(c,n,fn,uf,cp,t,_n,Ba,Bo,Ks,y,null,-0,0)}}break}while(!0);Ai(e)}function xb(e,t,n,c,g,y,j,B,te,de,Ee,we,he,me){if(e.timeoutHandle=-1,we=t.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$r},yb(t,y,we);var De=(y&62914560)===y?lf-dr():(y&4194048)===y?Sb-dr():0;if(De=sN(we,De),De!==null){fs=y,e.cancelPendingCommit=De(jb.bind(null,e,t,y,n,c,g,j,B,te,Ee,we,null,he,me)),Ws(e,y,j,!de);return}}jb(e,t,y,n,c,g,j,B,te)}function SO(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var c=0;c<n.length;c++){var g=n[c],y=g.getSnapshot;g=g.value;try{if(!Tn(y(),g))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ws(e,t,n,c){t&=~lp,t&=~Ba,e.suspendedLanes|=t,e.pingedLanes&=~t,c&&(e.warmLanes|=t),c=e.expirationTimes;for(var g=t;0<g;){var y=31-Bt(g),j=1<<y;c[y]=-1,g&=~j}n!==0&&Yn(e,n,t)}function ff(){return(bt&6)===0?(Xl(0),!1):!0}function hp(){if(st!==null){if(Tt===0)var e=st.return;else e=st,es=ja=null,Oh(e),Do=null,jl=0,e=st;for(;e!==null;)rb(e.alternate,e),e=e.return;st=null}}function Ko(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,$O(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fs=0,hp(),Dt=e,st=n=Qi(e.current,null),ct=t,Tt=0,An=null,Ks=!1,$o=Rt(e,t),op=!1,Bo=_n=lp=Ba=Fs=Vt=0,fn=Jl=null,cp=!1,(t&8)!==0&&(t|=t&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=t;0<c;){var g=31-Bt(c),y=1<<g;t|=e[g],c&=~y}return us=t,ku(),n}function Rb(e,t){Xe=null,M.H=$l,t===jo||t===qu?(t=BE(),Tt=3):t===yh?(t=BE(),Tt=4):Tt=t===Fh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,An=t,st===null&&(Vt=1,Zu(e,Ln(t,e.current)))}function Ab(){var e=xn.current;return e===null?!0:(ct&4194048)===ct?qn===null:(ct&62914560)===ct||(ct&536870912)!==0?e===qn:!1}function _b(){var e=M.H;return M.H=$l,e===null?$l:e}function Ob(){var e=M.A;return M.A=EO,e}function df(){Vt=4,Ks||(ct&4194048)!==ct&&xn.current!==null||($o=!0),(Fs&134217727)===0&&(Ba&134217727)===0||Dt===null||Ws(Dt,ct,_n,!1)}function pp(e,t,n){var c=bt;bt|=2;var g=_b(),y=Ob();(Dt!==e||ct!==t)&&(uf=null,Ko(e,t)),t=!1;var j=Vt;e:do try{if(Tt!==0&&st!==null){var B=st,te=An;switch(Tt){case 8:hp(),j=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var de=Tt;if(Tt=0,An=null,Fo(e,B,te,de),n&&$o){j=0;break e}break;default:de=Tt,Tt=0,An=null,Fo(e,B,te,de)}}wO(),j=Vt;break}catch(Ee){Rb(e,Ee)}while(!0);return t&&e.shellSuspendCounter++,es=ja=null,bt=c,M.H=g,M.A=y,st===null&&(Dt=null,ct=0,ku()),j}function wO(){for(;st!==null;)Nb(st)}function TO(e,t){var n=bt;bt|=2;var c=_b(),g=Ob();Dt!==e||ct!==t?(uf=null,cf=dr()+500,Ko(e,t)):$o=Rt(e,t);e:do try{if(Tt!==0&&st!==null){t=st;var y=An;t:switch(Tt){case 1:Tt=0,An=null,Fo(e,t,y,1);break;case 2:case 9:if(HE(y)){Tt=0,An=null,kb(t);break}t=function(){Tt!==2&&Tt!==9||Dt!==e||(Tt=7),Ai(e)},y.then(t,t);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:HE(y)?(Tt=0,An=null,kb(t)):(Tt=0,An=null,Fo(e,t,y,7));break;case 5:var j=null;switch(st.tag){case 26:j=st.memoizedState;case 5:case 27:var B=st;if(j?gS(j):B.stateNode.complete){Tt=0,An=null;var te=B.sibling;if(te!==null)st=te;else{var de=B.return;de!==null?(st=de,hf(de)):st=null}break t}}Tt=0,An=null,Fo(e,t,y,5);break;case 6:Tt=0,An=null,Fo(e,t,y,6);break;case 8:hp(),Vt=6;break e;default:throw Error(i(462))}}CO();break}catch(Ee){Rb(e,Ee)}while(!0);return es=ja=null,M.H=c,M.A=g,bt=n,st!==null?0:(Dt=null,ct=0,ku(),Vt)}function CO(){for(;st!==null&&!fr();)Nb(st)}function Nb(e){var t=eb(e.alternate,e,us);e.memoizedProps=e.pendingProps,t===null?hf(e):st=t}function kb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=W0(n,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=W0(n,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:Oh(t);default:rb(n,t),t=st=OE(t,us),t=eb(n,t,us)}e.memoizedProps=e.pendingProps,t===null?hf(e):st=t}function Fo(e,t,n,c){es=ja=null,Oh(t),Do=null,jl=0;var g=t.return;try{if(dO(e,g,t,n,ct)){Vt=1,Zu(e,Ln(n,e.current)),st=null;return}}catch(y){if(g!==null)throw st=g,y;Vt=1,Zu(e,Ln(n,e.current)),st=null;return}t.flags&32768?(dt||c===1?e=!0:$o||(ct&536870912)!==0?e=!1:(Ks=e=!0,(c===2||c===9||c===3||c===6)&&(c=xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ib(t,e)):hf(t)}function hf(e){var t=e;do{if((t.flags&32768)!==0){Ib(t,Ks);return}e=t.return;var n=mO(t.alternate,t,us);if(n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);Vt===0&&(Vt=5)}function Ib(e,t){do{var n=gO(e.alternate,e);if(n!==null){n.flags&=32767,st=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=n}while(e!==null);Vt=6,st=null}function jb(e,t,n,c,g,y,j,B,te){e.cancelPendingCommit=null;do pf();while(mr!==0);if((bt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(y=t.lanes|t.childLanes,y|=rh,Er(e,n,y,j,B,te),e===Dt&&(st=Dt=null,ct=0),zo=t,Vs=e,fs=n,up=y,fp=g,wb=c,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_O(Ie,function(){return Mb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,g=H.p,H.p=2,j=bt,bt|=4;try{yO(e,t,n)}finally{bt=j,H.p=g,M.T=c}}mr=1,Db(),Lb(),Pb()}}function Db(){if(mr===1){mr=0;var e=Vs,t=zo,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var c=H.p;H.p=2;var g=bt;bt|=4;try{pb(t,e);var y=Rp,j=bE(e.containerInfo),B=y.focusedElem,te=y.selectionRange;if(j!==B&&B&&B.ownerDocument&&EE(B.ownerDocument.documentElement,B)){if(te!==null&&Xd(B)){var de=te.start,Ee=te.end;if(Ee===void 0&&(Ee=de),"selectionStart"in B)B.selectionStart=de,B.selectionEnd=Math.min(Ee,B.value.length);else{var we=B.ownerDocument||document,he=we&&we.defaultView||window;if(he.getSelection){var me=he.getSelection(),De=B.textContent.length,Ke=Math.min(te.start,De),kt=te.end===void 0?Ke:Math.min(te.end,De);!me.extend&&Ke>kt&&(j=kt,kt=Ke,Ke=j);var oe=vE(B,Ke),ne=vE(B,kt);if(oe&&ne&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==ne.node||me.focusOffset!==ne.offset)){var fe=we.createRange();fe.setStart(oe.node,oe.offset),me.removeAllRanges(),Ke>kt?(me.addRange(fe),me.extend(ne.node,ne.offset)):(fe.setEnd(ne.node,ne.offset),me.addRange(fe))}}}}for(we=[],me=B;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<we.length;B++){var Se=we[B];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Rf=!!xp,Rp=xp=null}finally{bt=g,H.p=c,M.T=n}}e.current=t,mr=2}}function Lb(){if(mr===2){mr=0;var e=Vs,t=zo,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var c=H.p;H.p=2;var g=bt;bt|=4;try{cb(e,t.alternate,t)}finally{bt=g,H.p=c,M.T=n}}mr=3}}function Pb(){if(mr===4||mr===3){mr=0,Xr();var e=Vs,t=zo,n=fs,c=wb;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mr=5:(mr=0,zo=Vs=null,Ub(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(Gs=null),Mr(n),t=t.stateNode,hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Vn,t,void 0,(t.current.flags&128)===128)}catch{}if(c!==null){t=M.T,g=H.p,H.p=2,M.T=null;try{for(var y=e.onRecoverableError,j=0;j<c.length;j++){var B=c[j];y(B.value,{componentStack:B.stack})}}finally{M.T=t,H.p=g}}(fs&3)!==0&&pf(),Ai(e),g=e.pendingLanes,(n&261930)!==0&&(g&42)!==0?e===dp?Yl++:(Yl=0,dp=e):Yl=0,Xl(0)}}function Ub(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,kl(t)))}function pf(){return Db(),Lb(),Pb(),Mb()}function Mb(){if(mr!==5)return!1;var e=Vs,t=up;up=0;var n=Mr(fs),c=M.T,g=H.p;try{H.p=32>n?32:n,M.T=null,n=fp,fp=null;var y=Vs,j=fs;if(mr=0,zo=Vs=null,fs=0,(bt&6)!==0)throw Error(i(331));var B=bt;if(bt|=4,Eb(y.current),gb(y,y.current,j,n),bt=B,Xl(0,!1),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Vn,y)}catch{}return!0}finally{H.p=g,M.T=c,Ub(e,t)}}function qb(e,t,n){t=Ln(n,t),t=Kh(e.stateNode,t,2),e=Hs(e,t,2),e!==null&&(vt(e,2),Ai(e))}function Ct(e,t,n){if(e.tag===3)qb(e,e,n);else for(;t!==null;){if(t.tag===3){qb(t,e,n);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gs===null||!Gs.has(c))){e=Ln(n,e),n=H0(2),c=Hs(t,n,2),c!==null&&($0(n,c,t,e),vt(c,2),Ai(c));break}}t=t.return}}function mp(e,t,n){var c=e.pingCache;if(c===null){c=e.pingCache=new bO;var g=new Set;c.set(t,g)}else g=c.get(t),g===void 0&&(g=new Set,c.set(t,g));g.has(n)||(op=!0,g.add(n),e=xO.bind(null,e,t,n),t.then(e,e))}function xO(e,t,n){var c=e.pingCache;c!==null&&c.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Dt===e&&(ct&n)===n&&(Vt===4||Vt===3&&(ct&62914560)===ct&&300>dr()-lf?(bt&2)===0&&Ko(e,0):lp|=n,Bo===ct&&(Bo=0)),Ai(e)}function Hb(e,t){t===0&&(t=tr()),e=Na(e,t),e!==null&&(vt(e,t),Ai(e))}function RO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hb(e,n)}function AO(e,t){var n=0;switch(e.tag){case 31:case 13:var c=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(t),Hb(e,n)}function _O(e,t){return Hi(e,t)}var mf=null,Go=null,gp=!1,gf=!1,yp=!1,Js=0;function Ai(e){e!==Go&&e.next===null&&(Go===null?mf=Go=e:Go=Go.next=e),gf=!0,gp||(gp=!0,NO())}function Xl(e,t){if(!yp&&gf){yp=!0;do for(var n=!1,c=mf;c!==null;){if(e!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var j=c.suspendedLanes,B=c.pingedLanes;y=(1<<31-Bt(42|e)+1)-1,y&=g&~(j&~B),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(n=!0,Kb(c,y))}else y=ct,y=Ge(c,c===Dt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Rt(c,y)||(n=!0,Kb(c,y));c=c.next}while(n);yp=!1}}function OO(){$b()}function $b(){gf=gp=!1;var e=0;Js!==0&&HO()&&(e=Js);for(var t=dr(),n=null,c=mf;c!==null;){var g=c.next,y=Bb(c,t);y===0?(c.next=null,n===null?mf=g:n.next=g,g===null&&(Go=n)):(n=c,(e!==0||(y&3)!==0)&&(gf=!0)),c=g}mr!==0&&mr!==5||Xl(e),Js!==0&&(Js=0)}function Bb(e,t){for(var n=e.suspendedLanes,c=e.pingedLanes,g=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var j=31-Bt(y),B=1<<j,te=g[j];te===-1?((B&n)===0||(B&c)!==0)&&(g[j]=zt(B,t)):te<=t&&(e.expiredLanes|=B),y&=~B}if(t=Dt,n=ct,n=Ge(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,n===0||e===t&&(Tt===2||Tt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&$i(c),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Rt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(c!==null&&$i(c),Mr(n)){case 2:case 8:n=lt;break;case 32:n=Ie;break;case 268435456:n=_r;break;default:n=Ie}return c=zb.bind(null,e),n=Hi(n,c),e.callbackPriority=t,e.callbackNode=n,t}return c!==null&&c!==null&&$i(c),e.callbackPriority=2,e.callbackNode=null,2}function zb(e,t){if(mr!==0&&mr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(pf()&&e.callbackNode!==n)return null;var c=ct;return c=Ge(e,e===Dt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Cb(e,c,t),Bb(e,dr()),e.callbackNode!=null&&e.callbackNode===n?zb.bind(null,e):null)}function Kb(e,t){if(pf())return null;Cb(e,t,!0)}function NO(){BO(function(){(bt&6)!==0?Hi(G,OO):$b()})}function vp(){if(Js===0){var e=ko;e===0&&(e=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),Js=e}return Js}function Fb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function Gb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kO(e,t,n,c,g){if(t==="submit"&&n&&n.stateNode===g){var y=Fb((g[Kt]||null).action),j=c.submitter;j&&(t=(t=j[Kt]||null)?Fb(t.formAction):j.getAttribute("formAction"),t!==null&&(y=t,j=null));var B=new ks("action","action",null,c,g);e.push({event:B,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Js!==0){var te=j?Gb(g,j):new FormData(g);Mh(n,{pending:!0,data:te,method:g.method,action:y},null,te)}}else typeof y=="function"&&(B.preventDefault(),te=j?Gb(g,j):new FormData(g),Mh(n,{pending:!0,data:te,method:g.method,action:y},y,te))},currentTarget:g}]})}}for(var Ep=0;Ep<th.length;Ep++){var bp=th[Ep],IO=bp.toLowerCase(),jO=bp[0].toUpperCase()+bp.slice(1);ii(IO,"on"+jO)}ii(TE,"onAnimationEnd"),ii(CE,"onAnimationIteration"),ii(xE,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(J_,"onTransitionRun"),ii(Y_,"onTransitionStart"),ii(X_,"onTransitionCancel"),ii(RE,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Vb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var c=e[n],g=c.event;c=c.listeners;e:{var y=void 0;if(t)for(var j=c.length-1;0<=j;j--){var B=c[j],te=B.instance,de=B.currentTarget;if(B=B.listener,te!==y&&g.isPropagationStopped())break e;y=B,g.currentTarget=de;try{y(g)}catch(Ee){Nu(Ee)}g.currentTarget=null,y=te}else for(j=0;j<c.length;j++){if(B=c[j],te=B.instance,de=B.currentTarget,B=B.listener,te!==y&&g.isPropagationStopped())break e;y=B,g.currentTarget=de;try{y(g)}catch(Ee){Nu(Ee)}g.currentTarget=null,y=te}}}}function at(e,t){var n=t[pa];n===void 0&&(n=t[pa]=new Set);var c=e+"__bubble";n.has(c)||(Wb(t,e,2,!1),n.add(c))}function Sp(e,t,n){var c=0;t&&(c|=4),Wb(n,e,c,t)}var yf="_reactListening"+Math.random().toString(36).slice(2);function wp(e){if(!e[yf]){e[yf]=!0,Lt.forEach(function(n){n!=="selectionchange"&&(DO.has(n)||Sp(n,!1,e),Sp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yf]||(t[yf]=!0,Sp("selectionchange",!1,t))}}function Wb(e,t,n,c){switch(TS(t)){case 2:var g=lN;break;case 8:g=cN;break;default:g=Up}n=g.bind(null,t,n,e),g=void 0,!Fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),c?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function Tp(e,t,n,c,g){var y=c;if((t&1)===0&&(t&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var B=c.stateNode.containerInfo;if(B===g)break;if(j===4)for(j=c.return;j!==null;){var te=j.tag;if((te===3||te===4)&&j.stateNode.containerInfo===g)return;j=j.return}for(;B!==null;){if(j=yi(B),j===null)return;if(te=j.tag,te===5||te===6||te===26||te===27){c=y=j;continue e}B=B.parentNode}}c=c.return}So(function(){var de=y,Ee=wa(n),we=[];e:{var he=AE.get(e);if(he!==void 0){var me=ks,De=e;switch(e){case"keypress":if(wt(n)===0)break e;case"keydown":case"keyup":me=It;break;case"focusin":De="focus",me=z;break;case"focusout":De="blur",me=z;break;case"beforeblur":case"afterblur":me=z;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=I;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Nr;break;case TE:case CE:case xE:me=Q;break;case RE:me=Yi;break;case"scroll":case"scrollend":me=Wi;break;case"wheel":me=xa;break;case"copy":case"cut":case"paste":me=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=pt;break;case"toggle":case"beforetoggle":me=ti}var Ke=(t&4)!==0,kt=!Ke&&(e==="scroll"||e==="scrollend"),oe=Ke?he!==null?he+"Capture":null:he;Ke=[];for(var ne=de,fe;ne!==null;){var Se=ne;if(fe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||fe===null||oe===null||(Se=Xn(ne,oe),Se!=null&&Ke.push(Zl(ne,Se,fe))),kt)break;ne=ne.return}0<Ke.length&&(he=new me(he,De,null,n,Ee),we.push({event:he,listeners:Ke}))}}if((t&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",he&&n!==Sa&&(De=n.relatedTarget||n.fromElement)&&(yi(De)||De[tn]))break e;if((me||he)&&(he=Ee.window===Ee?Ee:(he=Ee.ownerDocument)?he.defaultView||he.parentWindow:window,me?(De=n.relatedTarget||n.toElement,me=de,De=De?yi(De):null,De!==null&&(kt=u(De),Ke=De.tag,De!==kt||Ke!==5&&Ke!==27&&Ke!==6)&&(De=null)):(me=null,De=de),me!==De)){if(Ke=T,Se="onMouseLeave",oe="onMouseEnter",ne="mouse",(e==="pointerout"||e==="pointerover")&&(Ke=pt,Se="onPointerLeave",oe="onPointerEnter",ne="pointer"),kt=me==null?he:zi(me),fe=De==null?he:zi(De),he=new Ke(Se,ne+"leave",me,n,Ee),he.target=kt,he.relatedTarget=fe,Se=null,yi(Ee)===de&&(Ke=new Ke(oe,ne+"enter",De,n,Ee),Ke.target=fe,Ke.relatedTarget=kt,Se=Ke),kt=Se,me&&De)t:{for(Ke=LO,oe=me,ne=De,fe=0,Se=oe;Se;Se=Ke(Se))fe++;Se=0;for(var $e=ne;$e;$e=Ke($e))Se++;for(;0<fe-Se;)oe=Ke(oe),fe--;for(;0<Se-fe;)ne=Ke(ne),Se--;for(;fe--;){if(oe===ne||ne!==null&&oe===ne.alternate){Ke=oe;break t}oe=Ke(oe),ne=Ke(ne)}Ke=null}else Ke=null;me!==null&&Jb(we,he,me,Ke,!1),De!==null&&kt!==null&&Jb(we,kt,De,Ke,!0)}}e:{if(he=de?zi(de):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var mt=dE;else if(uE(he))if(hE)mt=G_;else{mt=K_;var qe=z_}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?de&&Sn(de.elementType)&&(mt=dE):mt=F_;if(mt&&(mt=mt(e,de))){fE(we,mt,n,Ee);break e}qe&&qe(e,he,de),e==="focusout"&&de&&he.type==="number"&&de.memoizedProps.value!=null&&Ea(he,"number",he.value)}switch(qe=de?zi(de):window,e){case"focusin":(uE(qe)||qe.contentEditable==="true")&&(To=qe,Qd=de,_l=null);break;case"focusout":_l=Qd=To=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,SE(we,n,Ee);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":SE(we,n,Ee)}var tt;if(pr)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ir?wo(e,n)&&(ut="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ut="onCompositionStart");ut&&(Is&&n.locale!=="ko"&&(ir||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ir&&(tt=In()):(Tr=Ee,Gi="value"in Tr?Tr.value:Tr.textContent,ir=!0)),qe=vf(de,ut),0<qe.length&&(ut=new Te(ut,e,null,n,Ee),we.push({event:ut,listeners:qe}),tt?ut.data=tt:(tt=nr(n),tt!==null&&(ut.data=tt)))),(tt=Et?Xi(e,n):ni(e,n))&&(ut=vf(de,"onBeforeInput"),0<ut.length&&(qe=new Te("onBeforeInput","beforeinput",null,n,Ee),we.push({event:qe,listeners:ut}),qe.data=tt)),kO(we,e,de,n,Ee)}Vb(we,t)})}function Zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vf(e,t){for(var n=t+"Capture",c=[];e!==null;){var g=e,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Xn(e,n),g!=null&&c.unshift(Zl(e,g,y)),g=Xn(e,t),g!=null&&c.push(Zl(e,g,y))),e.tag===3)return c;e=e.return}return[]}function LO(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jb(e,t,n,c,g){for(var y=t._reactName,j=[];n!==null&&n!==c;){var B=n,te=B.alternate,de=B.stateNode;if(B=B.tag,te!==null&&te===c)break;B!==5&&B!==26&&B!==27||de===null||(te=de,g?(de=Xn(n,y),de!=null&&j.unshift(Zl(n,de,te))):g||(de=Xn(n,y),de!=null&&j.push(Zl(n,de,te)))),n=n.return}j.length!==0&&e.push({event:t,listeners:j})}var PO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function Yb(e){return(typeof e=="string"?e:""+e).replace(PO,`
`).replace(UO,"")}function Xb(e,t){return t=Yb(t),Yb(e)===t}function Nt(e,t,n,c,g,y){switch(n){case"children":typeof c=="string"?t==="body"||t==="textarea"&&c===""||wi(e,c):(typeof c=="number"||typeof c=="bigint")&&t!=="body"&&wi(e,""+c);break;case"className":sn(e,"class",c);break;case"tabIndex":sn(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(e,n,c);break;case"style":_s(e,c,y);break;case"data":if(t!=="object"){sn(e,"data",c);break}case"src":case"href":if(c===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(n);break}c=Ti(""+c),e.setAttribute(n,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(t!=="input"&&Nt(e,t,"name",g.name,g,null),Nt(e,t,"formEncType",g.formEncType,g,null),Nt(e,t,"formMethod",g.formMethod,g,null),Nt(e,t,"formTarget",g.formTarget,g,null)):(Nt(e,t,"encType",g.encType,g,null),Nt(e,t,"method",g.method,g,null),Nt(e,t,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(n);break}c=Ti(""+c),e.setAttribute(n,c);break;case"onClick":c!=null&&(e.onclick=$r);break;case"onScroll":c!=null&&at("scroll",e);break;case"onScrollEnd":c!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(n=c.__html,n!=null){if(g.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}n=Ti(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(n,""+c):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":c===!0?e.setAttribute(n,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(n,c):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(n,c):e.removeAttribute(n);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(n):e.setAttribute(n,c);break;case"popover":at("beforetoggle",e),at("toggle",e),xs(e,"popover",c);break;case"xlinkActuate":Hr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Hr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Hr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Hr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Hr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Hr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xs(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Cl.get(n)||n,xs(e,n,c))}}function Cp(e,t,n,c,g,y){switch(n){case"style":_s(e,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(n=c.__html,n!=null){if(g.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof c=="string"?wi(e,c):(typeof c=="number"||typeof c=="bigint")&&wi(e,""+c);break;case"onScroll":c!=null&&at("scroll",e);break;case"onScrollEnd":c!=null&&at("scrollend",e);break;case"onClick":c!=null&&(e.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ei.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(g=n.endsWith("Capture"),t=n.slice(2,g?n.length-7:void 0),y=e[Kt]||null,y=y!=null?y[n]:null,typeof y=="function"&&e.removeEventListener(t,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,c,g);break e}n in e?e[n]=c:c===!0?e.setAttribute(n,""):xs(e,n,c)}}}function Dr(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var c=!1,g=!1,y;for(y in n)if(n.hasOwnProperty(y)){var j=n[y];if(j!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Nt(e,t,y,j,n,null)}}g&&Nt(e,t,"srcSet",n.srcSet,n,null),c&&Nt(e,t,"src",n.src,n,null);return;case"input":at("invalid",e);var B=y=j=g=null,te=null,de=null;for(c in n)if(n.hasOwnProperty(c)){var Ee=n[c];if(Ee!=null)switch(c){case"name":g=Ee;break;case"type":j=Ee;break;case"checked":te=Ee;break;case"defaultChecked":de=Ee;break;case"value":y=Ee;break;case"defaultValue":B=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,t));break;default:Nt(e,t,c,Ee,n,null)}}_u(e,y,B,te,de,j,g,!1);return;case"select":at("invalid",e),c=j=y=null;for(g in n)if(n.hasOwnProperty(g)&&(B=n[g],B!=null))switch(g){case"value":y=B;break;case"defaultValue":j=B;break;case"multiple":c=B;default:Nt(e,t,g,B,n,null)}t=y,n=j,e.multiple=!!c,t!=null?Rs(e,!!c,t,!1):n!=null&&Rs(e,!!c,n,!0);return;case"textarea":at("invalid",e),y=g=c=null;for(j in n)if(n.hasOwnProperty(j)&&(B=n[j],B!=null))switch(j){case"value":c=B;break;case"defaultValue":g=B;break;case"children":y=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:Nt(e,t,j,B,n,null)}bo(e,c,g,y);return;case"option":for(te in n)n.hasOwnProperty(te)&&(c=n[te],c!=null)&&(te==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Nt(e,t,te,c,n,null));return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(c=0;c<Ql.length;c++)at(Ql[c],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in n)if(n.hasOwnProperty(de)&&(c=n[de],c!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Nt(e,t,de,c,n,null)}return;default:if(Sn(t)){for(Ee in n)n.hasOwnProperty(Ee)&&(c=n[Ee],c!==void 0&&Cp(e,t,Ee,c,n,void 0));return}}for(B in n)n.hasOwnProperty(B)&&(c=n[B],c!=null&&Nt(e,t,B,c,n,null))}function MO(e,t,n,c){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,j=null,B=null,te=null,de=null,Ee=null;for(me in n){var we=n[me];if(n.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":te=we;default:c.hasOwnProperty(me)||Nt(e,t,me,null,c,we)}}for(var he in c){var me=c[he];if(we=n[he],c.hasOwnProperty(he)&&(me!=null||we!=null))switch(he){case"type":y=me;break;case"name":g=me;break;case"checked":de=me;break;case"defaultChecked":Ee=me;break;case"value":j=me;break;case"defaultValue":B=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,t));break;default:me!==we&&Nt(e,t,he,me,c,we)}}Ki(e,j,B,te,de,Ee,y,g);return;case"select":me=j=B=he=null;for(y in n)if(te=n[y],n.hasOwnProperty(y)&&te!=null)switch(y){case"value":break;case"multiple":me=te;default:c.hasOwnProperty(y)||Nt(e,t,y,null,c,te)}for(g in c)if(y=c[g],te=n[g],c.hasOwnProperty(g)&&(y!=null||te!=null))switch(g){case"value":he=y;break;case"defaultValue":B=y;break;case"multiple":j=y;default:y!==te&&Nt(e,t,g,y,c,te)}t=B,n=j,c=me,he!=null?Rs(e,!!n,he,!1):!!c!=!!n&&(t!=null?Rs(e,!!n,t,!0):Rs(e,!!n,n?[]:"",!1));return;case"textarea":me=he=null;for(B in n)if(g=n[B],n.hasOwnProperty(B)&&g!=null&&!c.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Nt(e,t,B,null,c,g)}for(j in c)if(g=c[j],y=n[j],c.hasOwnProperty(j)&&(g!=null||y!=null))switch(j){case"value":he=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Nt(e,t,j,g,c,y)}Eo(e,he,me);return;case"option":for(var De in n)he=n[De],n.hasOwnProperty(De)&&he!=null&&!c.hasOwnProperty(De)&&(De==="selected"?e.selected=!1:Nt(e,t,De,null,c,he));for(te in c)he=c[te],me=n[te],c.hasOwnProperty(te)&&he!==me&&(he!=null||me!=null)&&(te==="selected"?e.selected=he&&typeof he!="function"&&typeof he!="symbol":Nt(e,t,te,he,c,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in n)he=n[Ke],n.hasOwnProperty(Ke)&&he!=null&&!c.hasOwnProperty(Ke)&&Nt(e,t,Ke,null,c,he);for(de in c)if(he=c[de],me=n[de],c.hasOwnProperty(de)&&he!==me&&(he!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,t));break;default:Nt(e,t,de,he,c,me)}return;default:if(Sn(t)){for(var kt in n)he=n[kt],n.hasOwnProperty(kt)&&he!==void 0&&!c.hasOwnProperty(kt)&&Cp(e,t,kt,void 0,c,he);for(Ee in c)he=c[Ee],me=n[Ee],!c.hasOwnProperty(Ee)||he===me||he===void 0&&me===void 0||Cp(e,t,Ee,he,c,me);return}}for(var oe in n)he=n[oe],n.hasOwnProperty(oe)&&he!=null&&!c.hasOwnProperty(oe)&&Nt(e,t,oe,null,c,he);for(we in c)he=c[we],me=n[we],!c.hasOwnProperty(we)||he===me||he==null&&me==null||Nt(e,t,we,he,c,me)}function Qb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qO(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),c=0;c<n.length;c++){var g=n[c],y=g.transferSize,j=g.initiatorType,B=g.duration;if(y&&B&&Qb(j)){for(j=0,B=g.responseEnd,c+=1;c<n.length;c++){var te=n[c],de=te.startTime;if(de>B)break;var Ee=te.transferSize,we=te.initiatorType;Ee&&Qb(we)&&(te=te.responseEnd,j+=Ee*(te<B?1:(B-de)/(te-de)))}if(--c,t+=8*(y+j)/(g.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xp=null,Rp=null;function Ef(e){return e.nodeType===9?e:e.ownerDocument}function Zb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eS(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ap(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _p=null;function HO(){var e=window.event;return e&&e.type==="popstate"?e===_p?!1:(_p=e,!0):(_p=null,!1)}var tS=typeof setTimeout=="function"?setTimeout:void 0,$O=typeof clearTimeout=="function"?clearTimeout:void 0,rS=typeof Promise=="function"?Promise:void 0,BO=typeof queueMicrotask=="function"?queueMicrotask:typeof rS<"u"?function(e){return rS.resolve(null).then(e).catch(zO)}:tS;function zO(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function nS(e,t){var n=t,c=0;do{var g=n.nextSibling;if(e.removeChild(n),g&&g.nodeType===8)if(n=g.data,n==="/$"||n==="/&"){if(c===0){e.removeChild(g),Yo(t);return}c--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")c++;else if(n==="html")ec(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ec(n);for(var y=n.firstChild;y;){var j=y.nextSibling,B=y.nodeName;y[qr]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&y.rel.toLowerCase()==="stylesheet"||n.removeChild(y),y=j}}else n==="body"&&ec(e.ownerDocument.body);n=g}while(n);Yo(t)}function iS(e,t){var n=e;e=0;do{var c=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=c}while(n)}function Op(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Op(n),ga(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function KO(e,t,n,c){for(;e.nodeType===1;){var g=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[qr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function FO(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function sS(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Hn(e.nextSibling),e===null))return null;return e}function Np(e){return e.data==="$?"||e.data==="$~"}function kp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function GO(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var c=function(){t(),n.removeEventListener("DOMContentLoaded",c)};n.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ip=null;function aS(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Hn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function oS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function lS(e,t,n){switch(t=Ef(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ec(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ga(e)}var $n=new Map,cS=new Set;function bf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=H.d;H.d={f:VO,r:WO,D:JO,C:YO,L:XO,m:QO,X:eN,S:ZO,M:tN};function VO(){var e=ds.f(),t=ff();return e||t}function WO(e){var t=nn(e);t!==null&&t.tag===5&&t.type==="form"?R0(t):ds.r(e)}var Vo=typeof document>"u"?null:document;function uS(e,t,n){var c=Vo;if(c&&typeof t=="string"&&t){var g=_t(t);g='link[rel="'+e+'"][href="'+g+'"]',typeof n=="string"&&(g+='[crossorigin="'+n+'"]'),cS.has(g)||(cS.add(g),e={rel:e,crossOrigin:n,href:t},c.querySelector(g)===null&&(t=c.createElement("link"),Dr(t,"link",e),At(t),c.head.appendChild(t)))}}function JO(e){ds.D(e),uS("dns-prefetch",e,null)}function YO(e,t){ds.C(e,t),uS("preconnect",e,t)}function XO(e,t,n){ds.L(e,t,n);var c=Vo;if(c&&e&&t){var g='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(g+='[imagesrcset="'+_t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(g+='[imagesizes="'+_t(n.imageSizes)+'"]')):g+='[href="'+_t(e)+'"]';var y=g;switch(t){case"style":y=Wo(e);break;case"script":y=Jo(e)}$n.has(y)||(e=m({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$n.set(y,e),c.querySelector(g)!==null||t==="style"&&c.querySelector(tc(y))||t==="script"&&c.querySelector(rc(y))||(t=c.createElement("link"),Dr(t,"link",e),At(t),c.head.appendChild(t)))}}function QO(e,t){ds.m(e,t);var n=Vo;if(n&&e){var c=t&&typeof t.as=="string"?t.as:"script",g='link[rel="modulepreload"][as="'+_t(c)+'"][href="'+_t(e)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jo(e)}if(!$n.has(y)&&(e=m({rel:"modulepreload",href:e},t),$n.set(y,e),n.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rc(y)))return}c=n.createElement("link"),Dr(c,"link",e),At(c),n.head.appendChild(c)}}}function ZO(e,t,n){ds.S(e,t,n);var c=Vo;if(c&&e){var g=vi(c).hoistableStyles,y=Wo(e);t=t||"default";var j=g.get(y);if(!j){var B={loading:0,preload:null};if(j=c.querySelector(tc(y)))B.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$n.get(y))&&jp(e,n);var te=j=c.createElement("link");At(te),Dr(te,"link",e),te._p=new Promise(function(de,Ee){te.onload=de,te.onerror=Ee}),te.addEventListener("load",function(){B.loading|=1}),te.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Sf(j,t,c)}j={type:"stylesheet",instance:j,count:1,state:B},g.set(y,j)}}}function eN(e,t){ds.X(e,t);var n=Vo;if(n&&e){var c=vi(n).hoistableScripts,g=Jo(e),y=c.get(g);y||(y=n.querySelector(rc(g)),y||(e=m({src:e,async:!0},t),(t=$n.get(g))&&Dp(e,t),y=n.createElement("script"),At(y),Dr(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function tN(e,t){ds.M(e,t);var n=Vo;if(n&&e){var c=vi(n).hoistableScripts,g=Jo(e),y=c.get(g);y||(y=n.querySelector(rc(g)),y||(e=m({src:e,async:!0,type:"module"},t),(t=$n.get(g))&&Dp(e,t),y=n.createElement("script"),At(y),Dr(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function fS(e,t,n,c){var g=(g=je.current)?bf(g):null;if(!g)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wo(n.href),n=vi(g).hoistableStyles,c=n.get(t),c||(c={type:"style",instance:null,count:0,state:null},n.set(t,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wo(n.href);var y=vi(g).hoistableStyles,j=y.get(e);if(j||(g=g.ownerDocument||g,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,j),(y=g.querySelector(tc(e)))&&!y._p&&(j.instance=y,j.state.loading=5),$n.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$n.set(e,n),y||rN(g,e,n,j.state))),t&&c===null)throw Error(i(528,""));return j}if(t&&c!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Jo(n),n=vi(g).hoistableScripts,c=n.get(t),c||(c={type:"script",instance:null,count:0,state:null},n.set(t,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Wo(e){return'href="'+_t(e)+'"'}function tc(e){return'link[rel="stylesheet"]['+e+"]"}function dS(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function rN(e,t,n,c){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?c.loading=1:(t=e.createElement("link"),c.preload=t,t.addEventListener("load",function(){return c.loading|=1}),t.addEventListener("error",function(){return c.loading|=2}),Dr(t,"link",n),At(t),e.head.appendChild(t))}function Jo(e){return'[src="'+_t(e)+'"]'}function rc(e){return"script[async]"+e}function hS(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var c=e.querySelector('style[data-href~="'+_t(n.href)+'"]');if(c)return t.instance=c,At(c),c;var g=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),At(c),Dr(c,"style",g),Sf(c,n.precedence,e),t.instance=c;case"stylesheet":g=Wo(n.href);var y=e.querySelector(tc(g));if(y)return t.state.loading|=4,t.instance=y,At(y),y;c=dS(n),(g=$n.get(g))&&jp(c,g),y=(e.ownerDocument||e).createElement("link"),At(y);var j=y;return j._p=new Promise(function(B,te){j.onload=B,j.onerror=te}),Dr(y,"link",c),t.state.loading|=4,Sf(y,n.precedence,e),t.instance=y;case"script":return y=Jo(n.src),(g=e.querySelector(rc(y)))?(t.instance=g,At(g),g):(c=n,(g=$n.get(y))&&(c=m({},n),Dp(c,g)),e=e.ownerDocument||e,g=e.createElement("script"),At(g),Dr(g,"link",c),e.head.appendChild(g),t.instance=g);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(c=t.instance,t.state.loading|=4,Sf(c,n.precedence,e));return t.instance}function Sf(e,t,n){for(var c=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,j=0;j<c.length;j++){var B=c[j];if(B.dataset.precedence===t)y=B;else if(y!==g)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function jp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wf=null;function pS(e,t,n){if(wf===null){var c=new Map,g=wf=new Map;g.set(n,c)}else g=wf,c=g.get(n),c||(c=new Map,g.set(n,c));if(c.has(e))return c;for(c.set(e,null),n=n.getElementsByTagName(e),g=0;g<n.length;g++){var y=n[g];if(!(y[qr]||y[Yt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var j=y.getAttribute(t)||"";j=e+j;var B=c.get(j);B?B.push(y):c.set(j,[y])}}return c}function mS(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nN(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gS(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iN(e,t,n,c){if(n.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var g=Wo(c.href),y=t.querySelector(tc(g));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Tf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=y,At(y);return}y=t.ownerDocument||t,c=dS(c),(g=$n.get(g))&&jp(c,g),y=y.createElement("link"),At(y);var j=y;j._p=new Promise(function(B,te){j.onload=B,j.onerror=te}),Dr(y,"link",c),n.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Tf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Lp=0;function sN(e,t){return e.stylesheets&&e.count===0&&xf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var c=setTimeout(function(){if(e.stylesheets&&xf(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+t);0<e.imgBytes&&Lp===0&&(Lp=62500*qO());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xf(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>Lp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function Tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cf=null;function xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cf=new Map,t.forEach(aN,e),Cf=null,Tf.call(e))}function aN(e,t){if(!(t.state.loading&4)){var n=Cf.get(e);if(n)var c=n.get(null);else{n=new Map,Cf.set(e,n);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var j=g[y];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(n.set(j.dataset.precedence,j),c=j)}c&&n.set(null,c)}g=t.instance,j=g.getAttribute("data-precedence"),y=n.get(j)||c,y===c&&n.set(null,g),n.set(j,g),this.count++,c=Tf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),t.state.loading|=4}}var nc={$$typeof:b,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function oN(e,t,n,c,g,y,j,B,te){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function yS(e,t,n,c,g,y,j,B,te,de,Ee,we){return e=new oN(e,t,n,j,te,de,Ee,we,B),t=1,y===!0&&(t|=24),y=Cn(3,null,null,t),e.current=y,y.stateNode=e,t=ph(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:c,isDehydrated:n,cache:t},vh(y),e}function vS(e){return e?(e=Ro,e):Ro}function ES(e,t,n,c,g,y){g=vS(g),c.context===null?c.context=g:c.pendingContext=g,c=qs(t),c.payload={element:n},y=y===void 0?null:y,y!==null&&(c.callback=y),n=Hs(e,c,t),n!==null&&(dn(n,e,t),Ll(n,e,t))}function bS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pp(e,t){bS(e,t),(e=e.alternate)&&bS(e,t)}function SS(e){if(e.tag===13||e.tag===31){var t=Na(e,67108864);t!==null&&dn(t,e,67108864),Pp(e,67108864)}}function wS(e){if(e.tag===13||e.tag===31){var t=On();t=rt(t);var n=Na(e,t);n!==null&&dn(n,e,t),Pp(e,t)}}var Rf=!0;function lN(e,t,n,c){var g=M.T;M.T=null;var y=H.p;try{H.p=2,Up(e,t,n,c)}finally{H.p=y,M.T=g}}function cN(e,t,n,c){var g=M.T;M.T=null;var y=H.p;try{H.p=8,Up(e,t,n,c)}finally{H.p=y,M.T=g}}function Up(e,t,n,c){if(Rf){var g=Mp(c);if(g===null)Tp(e,t,c,Af,n),CS(e,c);else if(fN(g,e,t,n,c))c.stopPropagation();else if(CS(e,c),t&4&&-1<uN.indexOf(e)){for(;g!==null;){var y=nn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var j=vr(y.pendingLanes);if(j!==0){var B=y;for(B.pendingLanes|=2,B.entangledLanes|=2;j;){var te=1<<31-Bt(j);B.entanglements[1]|=te,j&=~te}Ai(y),(bt&6)===0&&(cf=dr()+500,Xl(0))}}break;case 31:case 13:B=Na(y,2),B!==null&&dn(B,y,2),ff(),Pp(y,2)}if(y=Mp(c),y===null&&Tp(e,t,c,Af,n),y===g)break;g=y}g!==null&&c.stopPropagation()}else Tp(e,t,c,null,n)}}function Mp(e){return e=wa(e),qp(e)}var Af=null;function qp(e){if(Af=null,e=yi(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=o(t),e!==null)return e;e=null}else if(n===31){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Af=e,null}function TS(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(El()){case G:return 2;case lt:return 8;case Ie:case Bi:return 32;case _r:return 268435456;default:return 32}default:return 32}}var Hp=!1,Xs=null,Qs=null,Zs=null,ic=new Map,sc=new Map,ea=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CS(e,t){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(t.pointerId)}}function ac(e,t,n,c,g,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},t!==null&&(t=nn(t),t!==null&&SS(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function fN(e,t,n,c,g){switch(t){case"focusin":return Xs=ac(Xs,e,t,n,c,g),!0;case"dragenter":return Qs=ac(Qs,e,t,n,c,g),!0;case"mouseover":return Zs=ac(Zs,e,t,n,c,g),!0;case"pointerover":var y=g.pointerId;return ic.set(y,ac(ic.get(y)||null,e,t,n,c,g)),!0;case"gotpointercapture":return y=g.pointerId,sc.set(y,ac(sc.get(y)||null,e,t,n,c,g)),!0}return!1}function xS(e){var t=yi(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=o(n),t!==null){e.blockedOn=t,mo(e.priority,function(){wS(n)});return}}else if(t===31){if(t=d(n),t!==null){e.blockedOn=t,mo(e.priority,function(){wS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _f(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mp(e.nativeEvent);if(n===null){n=e.nativeEvent;var c=new n.constructor(n.type,n);Sa=c,n.target.dispatchEvent(c),Sa=null}else return t=nn(n),t!==null&&SS(t),e.blockedOn=n,!1;t.shift()}return!0}function RS(e,t,n){_f(e)&&n.delete(t)}function dN(){Hp=!1,Xs!==null&&_f(Xs)&&(Xs=null),Qs!==null&&_f(Qs)&&(Qs=null),Zs!==null&&_f(Zs)&&(Zs=null),ic.forEach(RS),sc.forEach(RS)}function Of(e,t){e.blockedOn===t&&(e.blockedOn=null,Hp||(Hp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dN)))}var Nf=null;function AS(e){Nf!==e&&(Nf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nf===e&&(Nf=null);for(var t=0;t<e.length;t+=3){var n=e[t],c=e[t+1],g=e[t+2];if(typeof c!="function"){if(qp(c||n)===null)continue;break}var y=nn(n);y!==null&&(e.splice(t,3),t-=3,Mh(y,{pending:!0,data:g,method:n.method,action:c},c,g))}}))}function Yo(e){function t(te){return Of(te,e)}Xs!==null&&Of(Xs,e),Qs!==null&&Of(Qs,e),Zs!==null&&Of(Zs,e),ic.forEach(t),sc.forEach(t);for(var n=0;n<ea.length;n++){var c=ea[n];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)xS(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(c=0;c<n.length;c+=3){var g=n[c],y=n[c+1],j=g[Kt]||null;if(typeof y=="function")j||AS(n);else if(j){var B=null;if(y&&y.hasAttribute("formAction")){if(g=y,j=y[Kt]||null)B=j.formAction;else if(qp(g)!==null)continue}else B=j.action;typeof B=="function"?n[c+1]=B:(n.splice(c,3),c-=3),AS(n)}}}function _S(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(j){return g=j})},focusReset:"manual",scroll:"manual"})}function t(){g!==null&&(g(),g=null),c||setTimeout(n,20)}function n(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),g!==null&&(g(),g=null)}}}function $p(e){this._internalRoot=e}kf.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,c=On();ES(n,c,e,t,null,null)},kf.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ES(e.current,2,null,e,null,null),ff(),t[tn]=null}};function kf(e){this._internalRoot=e}kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=ha();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&xS(e)}};var OS=s.version;if(OS!=="19.2.4")throw Error(i(527,OS,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var hN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{Vn=If.inject(hN),hr=If}catch{}}return lc.createRoot=function(e,t){if(!l(e))throw Error(i(299));var n=!1,c="",g=P0,y=U0,j=M0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onUncaughtError!==void 0&&(g=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(j=t.onRecoverableError)),t=yS(e,1,!1,null,null,n,c,null,g,y,j,_S),e[tn]=t.current,wp(e),new $p(t)},lc.hydrateRoot=function(e,t,n){if(!l(e))throw Error(i(299));var c=!1,g="",y=P0,j=U0,B=M0,te=null;return n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(j=n.onCaughtError),n.onRecoverableError!==void 0&&(B=n.onRecoverableError),n.formState!==void 0&&(te=n.formState)),t=yS(e,1,!0,t,n??null,c,g,te,y,j,B,_S),t.context=vS(null),n=t.current,c=On(),c=rt(c),g=qs(c),g.callback=null,Hs(n,g,c),n=c,t.current.lanes=n,vt(t,n),Ai(t),e[tn]=t.current,wp(e),new kf(t)},lc.version="19.2.4",lc}var $S;function AN(){if($S)return zp.exports;$S=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),zp.exports=RN(),zp.exports}var _N=AN(),ee=ov();const lv=gN({__proto__:null,default:ee},[ee]);const fR=(...r)=>r.filter((s,a,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===a).join(" ").trim();const ON=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const NN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,i)=>i?i.toUpperCase():a.toLowerCase());const BS=r=>{const s=NN(r);return s.charAt(0).toUpperCase()+s.slice(1)};var kN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IN=r=>{for(const s in r)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const jN=ee.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:o,...d},f)=>ee.createElement("svg",{ref:f,...kN,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:fR("lucide",l),...!u&&!IN(d)&&{"aria-hidden":"true"},...d},[...o.map(([p,h])=>ee.createElement(p,h)),...Array.isArray(u)?u:[u]]));const yr=(r,s)=>{const a=ee.forwardRef(({className:i,...l},u)=>ee.createElement(jN,{ref:u,iconNode:s,className:fR(`lucide-${ON(BS(r))}`,`lucide-${r}`,i),...l}));return a.displayName=BS(r),a};const DN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LN=yr("activity",DN);const PN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],UN=yr("arrow-right",PN);const MN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],qN=yr("chart-no-axes-column-increasing",MN);const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$N=yr("circle-alert",HN);const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dR=yr("circle-check",BN);const zN=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],KN=yr("code",zN);const FN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],GN=yr("copy",FN);const VN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ky=yr("database",VN);const WN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hR=yr("file-text",WN);const JN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],YN=yr("log-in",JN);const XN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QN=yr("log-out",XN);const ZN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],e2=yr("radio",ZN);const t2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sd=yr("refresh-cw",t2);const r2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n2=yr("settings",r2);const i2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fy=yr("shield",i2);const s2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gy=yr("trash-2",s2);const a2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zS=yr("trending-up",a2);const o2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],l2=yr("user",o2);const c2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],u2=yr("zap",c2);function KS(r,s){if(typeof r=="function")return r(s);r!=null&&(r.current=s)}function cv(...r){return s=>{let a=!1;const i=r.map(l=>{const u=KS(l,s);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let l=0;l<i.length;l++){const u=i[l];typeof u=="function"?u():KS(r[l],null)}}}}function ad(...r){return ee.useCallback(cv(...r),r)}var f2=Symbol.for("react.lazy"),od=lv[" use ".trim().toString()];function d2(r){return typeof r=="object"&&r!==null&&"then"in r}function pR(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===f2&&"_payload"in r&&d2(r._payload)}function mR(r){const s=p2(r),a=ee.forwardRef((i,l)=>{let{children:u,...o}=i;pR(u)&&typeof od=="function"&&(u=od(u._payload));const d=ee.Children.toArray(u),f=d.find(g2);if(f){const p=f.props.children,h=d.map(m=>m===f?ee.Children.count(p)>1?ee.Children.only(null):ee.isValidElement(p)?p.props.children:null:m);return v.jsx(s,{...o,ref:l,children:ee.isValidElement(p)?ee.cloneElement(p,void 0,h):null})}return v.jsx(s,{...o,ref:l,children:u})});return a.displayName=`${r}.Slot`,a}var h2=mR("Slot");function p2(r){const s=ee.forwardRef((a,i)=>{let{children:l,...u}=a;if(pR(l)&&typeof od=="function"&&(l=od(l._payload)),ee.isValidElement(l)){const o=v2(l),d=y2(u,l.props);return l.type!==ee.Fragment&&(d.ref=i?cv(i,o):o),ee.cloneElement(l,d)}return ee.Children.count(l)>1?ee.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var m2=Symbol("radix.slottable");function g2(r){return ee.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===m2}function y2(r,s){const a={...s};for(const i in s){const l=r[i],u=s[i];/^on[A-Z]/.test(i)?l&&u?a[i]=(...d)=>{const f=u(...d);return l(...d),f}:l&&(a[i]=l):i==="style"?a[i]={...l,...u}:i==="className"&&(a[i]=[l,u].filter(Boolean).join(" "))}return{...r,...a}}function v2(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}function gR(r){var s,a,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(s=0;s<l;s++)r[s]&&(a=gR(r[s]))&&(i&&(i+=" "),i+=a)}else for(a in r)r[a]&&(i&&(i+=" "),i+=a);return i}function yR(){for(var r,s,a=0,i="",l=arguments.length;a<l;a++)(r=arguments[a])&&(s=gR(r))&&(i&&(i+=" "),i+=s);return i}const FS=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,GS=yR,E2=(r,s)=>a=>{var i;if(s?.variants==null)return GS(r,a?.class,a?.className);const{variants:l,defaultVariants:u}=s,o=Object.keys(l).map(p=>{const h=a?.[p],m=u?.[p];if(h===null)return null;const S=FS(h)||FS(m);return l[p][S]}),d=a&&Object.entries(a).reduce((p,h)=>{let[m,S]=h;return S===void 0||(p[m]=S),p},{}),f=s==null||(i=s.compoundVariants)===null||i===void 0?void 0:i.reduce((p,h)=>{let{class:m,className:S,...k}=h;return Object.entries(k).every(A=>{let[x,O]=A;return Array.isArray(O)?O.includes({...u,...d}[x]):{...u,...d}[x]===O})?[...p,m,S]:p},[]);return GS(r,o,f,a?.class,a?.className)},b2=(r,s)=>{const a=new Array(r.length+s.length);for(let i=0;i<r.length;i++)a[i]=r[i];for(let i=0;i<s.length;i++)a[r.length+i]=s[i];return a},S2=(r,s)=>({classGroupId:r,validator:s}),vR=(r=new Map,s=null,a)=>({nextPart:r,validators:s,classGroupId:a}),ld="-",VS=[],w2="arbitrary..",T2=r=>{const s=x2(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return C2(o);const d=o.split(ld),f=d[0]===""&&d.length>1?1:0;return ER(d,f,s)},getConflictingClassGroupIds:(o,d)=>{if(d){const f=i[o],p=a[o];return f?p?b2(p,f):f:p||VS}return a[o]||VS}}},ER=(r,s,a)=>{if(r.length-s===0)return a.classGroupId;const l=r[s],u=a.nextPart.get(l);if(u){const p=ER(r,s+1,u);if(p)return p}const o=a.validators;if(o===null)return;const d=s===0?r.join(ld):r.slice(s).join(ld),f=o.length;for(let p=0;p<f;p++){const h=o[p];if(h.validator(d))return h.classGroupId}},C2=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=r.slice(1,-1),a=s.indexOf(":"),i=s.slice(0,a);return i?w2+i:void 0})(),x2=r=>{const{theme:s,classGroups:a}=r;return R2(a,s)},R2=(r,s)=>{const a=vR();for(const i in r){const l=r[i];uv(l,a,i,s)}return a},uv=(r,s,a,i)=>{const l=r.length;for(let u=0;u<l;u++){const o=r[u];A2(o,s,a,i)}},A2=(r,s,a,i)=>{if(typeof r=="string"){_2(r,s,a);return}if(typeof r=="function"){O2(r,s,a,i);return}N2(r,s,a,i)},_2=(r,s,a)=>{const i=r===""?s:bR(s,r);i.classGroupId=a},O2=(r,s,a,i)=>{if(k2(r)){uv(r(i),s,a,i);return}s.validators===null&&(s.validators=[]),s.validators.push(S2(a,r))},N2=(r,s,a,i)=>{const l=Object.entries(r),u=l.length;for(let o=0;o<u;o++){const[d,f]=l[o];uv(f,bR(s,d),a,i)}},bR=(r,s)=>{let a=r;const i=s.split(ld),l=i.length;for(let u=0;u<l;u++){const o=i[u];let d=a.nextPart.get(o);d||(d=vR(),a.nextPart.set(o,d)),a=d}return a},k2=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,I2=r=>{if(r<1)return{get:()=>{},set:()=>{}};let s=0,a=Object.create(null),i=Object.create(null);const l=(u,o)=>{a[u]=o,s++,s>r&&(s=0,i=a,a=Object.create(null))};return{get(u){let o=a[u];if(o!==void 0)return o;if((o=i[u])!==void 0)return l(u,o),o},set(u,o){u in a?a[u]=o:l(u,o)}}},Vy="!",WS=":",j2=[],JS=(r,s,a,i,l)=>({modifiers:r,hasImportantModifier:s,baseClassName:a,maybePostfixModifierPosition:i,isExternal:l}),D2=r=>{const{prefix:s,experimentalParseClassName:a}=r;let i=l=>{const u=[];let o=0,d=0,f=0,p;const h=l.length;for(let x=0;x<h;x++){const O=l[x];if(o===0&&d===0){if(O===WS){u.push(l.slice(f,x)),f=x+1;continue}if(O==="/"){p=x;continue}}O==="["?o++:O==="]"?o--:O==="("?d++:O===")"&&d--}const m=u.length===0?l:l.slice(f);let S=m,k=!1;m.endsWith(Vy)?(S=m.slice(0,-1),k=!0):m.startsWith(Vy)&&(S=m.slice(1),k=!0);const A=p&&p>f?p-f:void 0;return JS(u,k,S,A)};if(s){const l=s+WS,u=i;i=o=>o.startsWith(l)?u(o.slice(l.length)):JS(j2,!1,o,void 0,!0)}if(a){const l=i;i=u=>a({className:u,parseClassName:l})}return i},L2=r=>{const s=new Map;return r.orderSensitiveModifiers.forEach((a,i)=>{s.set(a,1e6+i)}),a=>{const i=[];let l=[];for(let u=0;u<a.length;u++){const o=a[u],d=o[0]==="[",f=s.has(o);d||f?(l.length>0&&(l.sort(),i.push(...l),l=[]),i.push(o)):l.push(o)}return l.length>0&&(l.sort(),i.push(...l)),i}},P2=r=>({cache:I2(r.cacheSize),parseClassName:D2(r),sortModifiers:L2(r),...T2(r)}),U2=/\s+/,M2=(r,s)=>{const{parseClassName:a,getClassGroupId:i,getConflictingClassGroupIds:l,sortModifiers:u}=s,o=[],d=r.trim().split(U2);let f="";for(let p=d.length-1;p>=0;p-=1){const h=d[p],{isExternal:m,modifiers:S,hasImportantModifier:k,baseClassName:A,maybePostfixModifierPosition:x}=a(h);if(m){f=h+(f.length>0?" "+f:f);continue}let O=!!x,C=i(O?A.substring(0,x):A);if(!C){if(!O){f=h+(f.length>0?" "+f:f);continue}if(C=i(A),!C){f=h+(f.length>0?" "+f:f);continue}O=!1}const w=S.length===0?"":S.length===1?S[0]:u(S).join(":"),b=k?w+Vy:w,_=b+C;if(o.indexOf(_)>-1)continue;o.push(_);const D=l(C,O);for(let L=0;L<D.length;++L){const U=D[L];o.push(b+U)}f=h+(f.length>0?" "+f:f)}return f},q2=(...r)=>{let s=0,a,i,l="";for(;s<r.length;)(a=r[s++])&&(i=SR(a))&&(l&&(l+=" "),l+=i);return l},SR=r=>{if(typeof r=="string")return r;let s,a="";for(let i=0;i<r.length;i++)r[i]&&(s=SR(r[i]))&&(a&&(a+=" "),a+=s);return a},H2=(r,...s)=>{let a,i,l,u;const o=f=>{const p=s.reduce((h,m)=>m(h),r());return a=P2(p),i=a.cache.get,l=a.cache.set,u=d,d(f)},d=f=>{const p=i(f);if(p)return p;const h=M2(f,a);return l(f,h),h};return u=o,(...f)=>u(q2(...f))},$2=[],gr=r=>{const s=a=>a[r]||$2;return s.isThemeGetter=!0,s},wR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B2=/^\d+\/\d+$/,z2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,G2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xo=r=>B2.test(r),it=r=>!!r&&!Number.isNaN(Number(r)),ra=r=>!!r&&Number.isInteger(Number(r)),Wp=r=>r.endsWith("%")&&it(r.slice(0,-1)),hs=r=>z2.test(r),CR=()=>!0,W2=r=>K2.test(r)&&!F2.test(r),fv=()=>!1,J2=r=>G2.test(r),Y2=r=>V2.test(r),X2=r=>!Ue(r)&&!Me(r),Q2=r=>ca(r,AR,fv),Ue=r=>wR.test(r),za=r=>ca(r,_R,W2),YS=r=>ca(r,ak,it),Z2=r=>ca(r,NR,CR),ek=r=>ca(r,OR,fv),XS=r=>ca(r,xR,fv),tk=r=>ca(r,RR,Y2),jf=r=>ca(r,kR,J2),Me=r=>TR.test(r),cc=r=>fo(r,_R),rk=r=>fo(r,OR),QS=r=>fo(r,xR),nk=r=>fo(r,AR),ik=r=>fo(r,RR),Df=r=>fo(r,kR,!0),sk=r=>fo(r,NR,!0),ca=(r,s,a)=>{const i=wR.exec(r);return i?i[1]?s(i[1]):a(i[2]):!1},fo=(r,s,a=!1)=>{const i=TR.exec(r);return i?i[1]?s(i[1]):a:!1},xR=r=>r==="position"||r==="percentage",RR=r=>r==="image"||r==="url",AR=r=>r==="length"||r==="size"||r==="bg-size",_R=r=>r==="length",ak=r=>r==="number",OR=r=>r==="family-name",NR=r=>r==="number"||r==="weight",kR=r=>r==="shadow",ok=()=>{const r=gr("color"),s=gr("font"),a=gr("text"),i=gr("font-weight"),l=gr("tracking"),u=gr("leading"),o=gr("breakpoint"),d=gr("container"),f=gr("spacing"),p=gr("radius"),h=gr("shadow"),m=gr("inset-shadow"),S=gr("text-shadow"),k=gr("drop-shadow"),A=gr("blur"),x=gr("perspective"),O=gr("aspect"),C=gr("ease"),w=gr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[..._(),Me,Ue],L=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],N=()=>[Me,Ue,f],F=()=>[Xo,"full","auto",...N()],Y=()=>[ra,"none","subgrid",Me,Ue],se=()=>["auto",{span:["full",ra,Me,Ue]},ra,Me,Ue],ge=()=>[ra,"auto",Me,Ue],X=()=>["auto","min","max","fr",Me,Ue],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...N()],H=()=>[Xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],$=()=>[r,Me,Ue],Z=()=>[..._(),QS,XS,{position:[Me,Ue]}],le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",nk,Q2,{size:[Me,Ue]}],re=()=>[Wp,cc,za],ie=()=>["","none","full",p,Me,Ue],pe=()=>["",it,cc,za],be=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[it,Wp,QS,XS],ze=()=>["","none",A,Me,Ue],Ze=()=>["none",it,Me,Ue],Ht=()=>["none",it,Me,Ue],Wt=()=>[it,Me,Ue],W=()=>[Xo,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[CR],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[X2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",it],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xo,Ue,Me,O]}],container:["container"],columns:[{columns:[it,Ue,Me,d]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[ra,"auto",Me,Ue]}],basis:[{basis:[Xo,"full","auto",d,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,Xo,"auto","initial","none",Ue]}],grow:[{grow:["",it,Me,Ue]}],shrink:[{shrink:["",it,Me,Ue]}],order:[{order:[ra,"first","last","none",Me,Ue]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[d,"screen",...H()]}],"min-w":[{"min-w":[d,"screen","none",...H()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",a,cc,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,sk,Z2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wp,Ue]}],"font-family":[{font:[rk,ek,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Me,Ue]}],"line-clamp":[{"line-clamp":[it,"none",Me,YS]}],leading:[{leading:[u,...N()]}],"list-image":[{"list-image":["none",Me,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",Me,za]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[it,"auto",Me,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:le()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ra,Me,Ue],radial:["",Me,Ue],conic:[ra,Me,Ue]},ik,tk]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,Me,Ue]}],"outline-w":[{outline:["",it,cc,za]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,Df,jf]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",m,Df,jf]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[it,za]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",S,Df,jf]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[it,Me,Ue]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Me,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:le()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Ue]}],filter:[{filter:["","none",Me,Ue]}],blur:[{blur:ze()}],brightness:[{brightness:[it,Me,Ue]}],contrast:[{contrast:[it,Me,Ue]}],"drop-shadow":[{"drop-shadow":["","none",k,Df,jf]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",it,Me,Ue]}],"hue-rotate":[{"hue-rotate":[it,Me,Ue]}],invert:[{invert:["",it,Me,Ue]}],saturate:[{saturate:[it,Me,Ue]}],sepia:[{sepia:["",it,Me,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Ue]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[it,Me,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[it,Me,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,Me,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,Me,Ue]}],"backdrop-invert":[{"backdrop-invert":["",it,Me,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[it,Me,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[it,Me,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",it,Me,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",Me,Ue]}],ease:[{ease:["linear","initial",C,Me,Ue]}],delay:[{delay:[it,Me,Ue]}],animate:[{animate:["none",w,Me,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Me,Ue]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:Ht()}],"scale-x":[{"scale-x":Ht()}],"scale-y":[{"scale-y":Ht()}],"scale-z":[{"scale-z":Ht()}],"scale-3d":["scale-3d"],skew:[{skew:Wt()}],"skew-x":[{"skew-x":Wt()}],"skew-y":[{"skew-y":Wt()}],transform:[{transform:[Me,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Ue]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[it,cc,za,YS]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lk=H2(ok);function Gn(...r){return lk(yR(r))}const ck=E2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Qe=ee.forwardRef(({className:r,variant:s,size:a,asChild:i=!1,...l},u)=>{const o=i?h2:"button";return v.jsx(o,{"data-slot":"button",className:Gn(ck({variant:s,size:a,className:r})),ref:u,...l})});Qe.displayName="Button";function _e({className:r,...s}){return v.jsx("div",{"data-slot":"card",className:Gn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...s})}function Ne({className:r,...s}){return v.jsx("div",{"data-slot":"card-header",className:Gn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function ke({className:r,...s}){return v.jsx("h4",{"data-slot":"card-title",className:Gn("leading-none",r),...s})}function Fe({className:r,...s}){return v.jsx("p",{"data-slot":"card-description",className:Gn("text-muted-foreground",r),...s})}function Oe({className:r,...s}){return v.jsx("div",{"data-slot":"card-content",className:Gn("px-6 [&:last-child]:pb-6",r),...s})}var uk=uR();function fk(r){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}const dk=r=>{switch(r){case"success":return mk;case"info":return yk;case"warning":return gk;case"error":return vk;default:return null}},hk=Array(12).fill(0),pk=({visible:r,className:s})=>ee.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":r},ee.createElement("div",{className:"sonner-spinner"},hk.map((a,i)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),mk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vk=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ek=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bk=()=>{const[r,s]=ee.useState(document.hidden);return ee.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),r};let Wy=1;class Sk{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:i,...l}=s,u=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:Wy++,o=this.toasts.find(f=>f.id===u),d=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),o?this.toasts=this.toasts.map(f=>f.id===u?(this.publish({...f,...s,id:u,title:i}),{...f,...s,id:u,dismissible:d,title:i}):f):this.addToast({title:i,...l,dismissible:d,id:u}),u},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(i=>i({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let i;a.loading!==void 0&&(i=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const l=Promise.resolve(s instanceof Function?s():s);let u=i!==void 0,o;const d=l.then(async p=>{if(o=["resolve",p],ee.isValidElement(p))u=!1,this.create({id:i,type:"default",message:p});else if(Tk(p)&&!p.ok){u=!1;const m=typeof a.error=="function"?await a.error(`HTTP error! status: ${p.status}`):a.error,S=typeof a.description=="function"?await a.description(`HTTP error! status: ${p.status}`):a.description,A=typeof m=="object"&&!ee.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:S,...A})}else if(p instanceof Error){u=!1;const m=typeof a.error=="function"?await a.error(p):a.error,S=typeof a.description=="function"?await a.description(p):a.description,A=typeof m=="object"&&!ee.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:S,...A})}else if(a.success!==void 0){u=!1;const m=typeof a.success=="function"?await a.success(p):a.success,S=typeof a.description=="function"?await a.description(p):a.description,A=typeof m=="object"&&!ee.isValidElement(m)?m:{message:m};this.create({id:i,type:"success",description:S,...A})}}).catch(async p=>{if(o=["reject",p],a.error!==void 0){u=!1;const h=typeof a.error=="function"?await a.error(p):a.error,m=typeof a.description=="function"?await a.description(p):a.description,k=typeof h=="object"&&!ee.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:m,...k})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),a.finally==null||a.finally.call(a)}),f=()=>new Promise((p,h)=>d.then(()=>o[0]==="reject"?h(o[1]):p(o[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(s,a)=>{const i=a?.id||Wy++;return this.create({jsx:s(i),id:i,...a}),i},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gn=new Sk,wk=(r,s)=>{const a=s?.id||Wy++;return gn.addToast({title:r,...s,id:a}),a},Tk=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Ck=wk,xk=()=>gn.toasts,Rk=()=>gn.getActiveToasts(),Ce=Object.assign(Ck,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:xk,getToasts:Rk});fk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Lf(r){return r.label!==void 0}const Ak=3,_k="24px",Ok="16px",ZS=4e3,Nk=356,kk=14,Ik=45,jk=200;function _i(...r){return r.filter(Boolean).join(" ")}function Dk(r){const[s,a]=r.split("-"),i=[];return s&&i.push(s),a&&i.push(a),i}const Lk=r=>{var s,a,i,l,u,o,d,f,p;const{invert:h,toast:m,unstyled:S,interacting:k,setHeights:A,visibleToasts:x,heights:O,index:C,toasts:w,expanded:b,removeToast:_,defaultRichColors:D,closeButton:L,style:U,cancelButtonStyle:N,actionButtonStyle:F,className:Y="",descriptionClassName:se="",duration:ge,position:X,gap:J,expandByDefault:q,classNames:M,icons:H,closeButtonAriaLabel:$="Close toast"}=r,[Z,le]=ee.useState(null),[V,re]=ee.useState(null),[ie,pe]=ee.useState(!1),[be,je]=ee.useState(!1),[Le,ze]=ee.useState(!1),[Ze,Ht]=ee.useState(!1),[Wt,W]=ee.useState(!1),[Re,xe]=ee.useState(0),[et,ot]=ee.useState(0),yt=ee.useRef(m.duration||ge||ZS),qi=ee.useRef(null),Ar=ee.useRef(null),Hi=C===0,$i=C+1<=x,fr=m.type,Xr=m.dismissible!==!1,dr=m.className||"",El=m.descriptionClassName||"",G=ee.useMemo(()=>O.findIndex(Ge=>Ge.toastId===m.id)||0,[O,m.id]),lt=ee.useMemo(()=>{var Ge;return(Ge=m.closeButton)!=null?Ge:L},[m.closeButton,L]),Ie=ee.useMemo(()=>m.duration||ge||ZS,[m.duration,ge]),Bi=ee.useRef(0),_r=ee.useRef(0),mi=ee.useRef(0),Qr=ee.useRef(null),[Vn,hr]=X.split("-"),Jt=ee.useMemo(()=>O.reduce((Ge,Rt,zt)=>zt>=G?Ge:Ge+Rt.height,0),[O,G]),Bt=bk(),Wn=m.invert||h,Jn=fr==="loading";_r.current=ee.useMemo(()=>G*J+Jt,[G,Jt]),ee.useEffect(()=>{yt.current=Ie},[Ie]),ee.useEffect(()=>{pe(!0)},[]),ee.useEffect(()=>{const Ge=Ar.current;if(Ge){const Rt=Ge.getBoundingClientRect().height;return ot(Rt),A(zt=>[{toastId:m.id,height:Rt,position:m.position},...zt]),()=>A(zt=>zt.filter(tr=>tr.toastId!==m.id))}},[A,m.id]),ee.useLayoutEffect(()=>{if(!ie)return;const Ge=Ar.current,Rt=Ge.style.height;Ge.style.height="auto";const zt=Ge.getBoundingClientRect().height;Ge.style.height=Rt,ot(zt),A(tr=>tr.find(vt=>vt.toastId===m.id)?tr.map(vt=>vt.toastId===m.id?{...vt,height:zt}:vt):[{toastId:m.id,height:zt,position:m.position},...tr])},[ie,m.title,m.description,A,m.id,m.jsx,m.action,m.cancel]);const Zr=ee.useCallback(()=>{je(!0),xe(_r.current),A(Ge=>Ge.filter(Rt=>Rt.toastId!==m.id)),setTimeout(()=>{_(m)},jk)},[m,_,A,_r]);ee.useEffect(()=>{if(m.promise&&fr==="loading"||m.duration===1/0||m.type==="loading")return;let Ge;return b||k||Bt?(()=>{if(mi.current<Bi.current){const tr=new Date().getTime()-Bi.current;yt.current=yt.current-tr}mi.current=new Date().getTime()})():yt.current!==1/0&&(Bi.current=new Date().getTime(),Ge=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Zr()},yt.current)),()=>clearTimeout(Ge)},[b,k,m,fr,Bt,Zr]),ee.useEffect(()=>{m.delete&&(Zr(),m.onDismiss==null||m.onDismiss.call(m,m))},[Zr,m.delete]);function Nn(){var Ge;if(H?.loading){var Rt;return ee.createElement("div",{className:_i(M?.loader,m==null||(Rt=m.classNames)==null?void 0:Rt.loader,"sonner-loader"),"data-visible":fr==="loading"},H.loading)}return ee.createElement(pk,{className:_i(M?.loader,m==null||(Ge=m.classNames)==null?void 0:Ge.loader),visible:fr==="loading"})}const gi=m.icon||H?.[fr]||dk(fr);var vn,vr;return ee.createElement("li",{tabIndex:0,ref:Ar,className:_i(Y,dr,M?.toast,m==null||(s=m.classNames)==null?void 0:s.toast,M?.default,M?.[fr],m==null||(a=m.classNames)==null?void 0:a[fr]),"data-sonner-toast":"","data-rich-colors":(vn=m.richColors)!=null?vn:D,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":ie,"data-promise":!!m.promise,"data-swiped":Wt,"data-removed":be,"data-visible":$i,"data-y-position":Vn,"data-x-position":hr,"data-index":C,"data-front":Hi,"data-swiping":Le,"data-dismissible":Xr,"data-type":fr,"data-invert":Wn,"data-swipe-out":Ze,"data-swipe-direction":V,"data-expanded":!!(b||q&&ie),"data-testid":m.testId,style:{"--index":C,"--toasts-before":C,"--z-index":w.length-C,"--offset":`${be?Re:_r.current}px`,"--initial-height":q?"auto":`${et}px`,...U,...m.style},onDragEnd:()=>{ze(!1),le(null),Qr.current=null},onPointerDown:Ge=>{Ge.button!==2&&(Jn||!Xr||(qi.current=new Date,xe(_r.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ze(!0),Qr.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,Rt,zt;if(Ze||!Xr)return;Qr.current=null;const tr=Number(((Ge=Ar.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((Rt=Ar.current)==null?void 0:Rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((zt=qi.current)==null?void 0:zt.getTime()),Er=Z==="x"?tr:Pr,Yn=Math.abs(Er)/vt;if(Math.abs(Er)>=Ik||Yn>.11){xe(_r.current),m.onDismiss==null||m.onDismiss.call(m,m),re(Z==="x"?tr>0?"right":"left":Pr>0?"down":"up"),Zr(),Ht(!0);return}else{var br,Sr;(br=Ar.current)==null||br.style.setProperty("--swipe-amount-x","0px"),(Sr=Ar.current)==null||Sr.style.setProperty("--swipe-amount-y","0px")}W(!1),ze(!1),le(null)},onPointerMove:Ge=>{var Rt,zt,tr;if(!Qr.current||!Xr||((Rt=window.getSelection())==null?void 0:Rt.toString().length)>0)return;const vt=Ge.clientY-Qr.current.y,Er=Ge.clientX-Qr.current.x;var Yn;const br=(Yn=r.swipeDirections)!=null?Yn:Dk(X);!Z&&(Math.abs(Er)>1||Math.abs(vt)>1)&&le(Math.abs(Er)>Math.abs(vt)?"x":"y");let Sr={x:0,y:0};const rt=Mr=>1/(1.5+Math.abs(Mr)/20);if(Z==="y"){if(br.includes("top")||br.includes("bottom"))if(br.includes("top")&&vt<0||br.includes("bottom")&&vt>0)Sr.y=vt;else{const Mr=vt*rt(vt);Sr.y=Math.abs(Mr)<Math.abs(vt)?Mr:vt}}else if(Z==="x"&&(br.includes("left")||br.includes("right")))if(br.includes("left")&&Er<0||br.includes("right")&&Er>0)Sr.x=Er;else{const Mr=Er*rt(Er);Sr.x=Math.abs(Mr)<Math.abs(Er)?Mr:Er}(Math.abs(Sr.x)>0||Math.abs(Sr.y)>0)&&W(!0),(zt=Ar.current)==null||zt.style.setProperty("--swipe-amount-x",`${Sr.x}px`),(tr=Ar.current)==null||tr.style.setProperty("--swipe-amount-y",`${Sr.y}px`)}},lt&&!m.jsx&&fr!=="loading"?ee.createElement("button",{"aria-label":$,"data-disabled":Jn,"data-close-button":!0,onClick:Jn||!Xr?()=>{}:()=>{Zr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:_i(M?.closeButton,m==null||(i=m.classNames)==null?void 0:i.closeButton)},(vr=H?.close)!=null?vr:Ek):null,(fr||m.icon||m.promise)&&m.icon!==null&&(H?.[fr]!==null||m.icon)?ee.createElement("div",{"data-icon":"",className:_i(M?.icon,m==null||(l=m.classNames)==null?void 0:l.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Nn():null,m.type!=="loading"?gi:null):null,ee.createElement("div",{"data-content":"",className:_i(M?.content,m==null||(u=m.classNames)==null?void 0:u.content)},ee.createElement("div",{"data-title":"",className:_i(M?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ee.createElement("div",{"data-description":"",className:_i(se,El,M?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),ee.isValidElement(m.cancel)?m.cancel:m.cancel&&Lf(m.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||N,onClick:Ge=>{Lf(m.cancel)&&Xr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ge),Zr())},className:_i(M?.cancelButton,m==null||(f=m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,ee.isValidElement(m.action)?m.action:m.action&&Lf(m.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||F,onClick:Ge=>{Lf(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ge),!Ge.defaultPrevented&&Zr())},className:_i(M?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function ew(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function Pk(r,s){const a={};return[r,s].forEach((i,l)=>{const u=l===1,o=u?"--mobile-offset":"--offset",d=u?Ok:_k;function f(p){["top","right","bottom","left"].forEach(h=>{a[`${o}-${h}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?a[`${o}-${p}`]=d:a[`${o}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):f(d)}),a}const Uk=ee.forwardRef(function(s,a){const{id:i,invert:l,position:u="bottom-right",hotkey:o=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:h,mobileOffset:m,theme:S="light",richColors:k,duration:A,style:x,visibleToasts:O=Ak,toastOptions:C,dir:w=ew(),gap:b=kk,icons:_,containerAriaLabel:D="Notifications"}=s,[L,U]=ee.useState([]),N=ee.useMemo(()=>i?L.filter(ie=>ie.toasterId===i):L.filter(ie=>!ie.toasterId),[L,i]),F=ee.useMemo(()=>Array.from(new Set([u].concat(N.filter(ie=>ie.position).map(ie=>ie.position)))),[N,u]),[Y,se]=ee.useState([]),[ge,X]=ee.useState(!1),[J,q]=ee.useState(!1),[M,H]=ee.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=ee.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),le=ee.useRef(null),V=ee.useRef(!1),re=ee.useCallback(ie=>{U(pe=>{var be;return(be=pe.find(je=>je.id===ie.id))!=null&&be.delete||gn.dismiss(ie.id),pe.filter(({id:je})=>je!==ie.id)})},[]);return ee.useEffect(()=>gn.subscribe(ie=>{if(ie.dismiss){requestAnimationFrame(()=>{U(pe=>pe.map(be=>be.id===ie.id?{...be,delete:!0}:be))});return}setTimeout(()=>{uk.flushSync(()=>{U(pe=>{const be=pe.findIndex(je=>je.id===ie.id);return be!==-1?[...pe.slice(0,be),{...pe[be],...ie},...pe.slice(be+1)]:[ie,...pe]})})})}),[L]),ee.useEffect(()=>{if(S!=="system"){H(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:pe})=>{H(pe?"dark":"light")})}catch{ie.addListener(({matches:be})=>{try{H(be?"dark":"light")}catch(je){console.error(je)}})}},[S]),ee.useEffect(()=>{L.length<=1&&X(!1)},[L]),ee.useEffect(()=>{const ie=pe=>{var be;if(o.every(ze=>pe[ze]||pe.code===ze)){var Le;X(!0),(Le=$.current)==null||Le.focus()}pe.code==="Escape"&&(document.activeElement===$.current||(be=$.current)!=null&&be.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[o]),ee.useEffect(()=>{if($.current)return()=>{le.current&&(le.current.focus({preventScroll:!0}),le.current=null,V.current=!1)}},[$.current]),ee.createElement("section",{ref:a,"aria-label":`${D} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((ie,pe)=>{var be;const[je,Le]=ie.split("-");return N.length?ee.createElement("ol",{key:ie,dir:w==="auto"?ew():w,tabIndex:-1,ref:$,className:p,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":je,"data-x-position":Le,style:{"--front-toast-height":`${((be=Y[0])==null?void 0:be.height)||0}px`,"--width":`${Nk}px`,"--gap":`${b}px`,...x,...Pk(h,m)},onBlur:ze=>{V.current&&!ze.currentTarget.contains(ze.relatedTarget)&&(V.current=!1,le.current&&(le.current.focus({preventScroll:!0}),le.current=null))},onFocus:ze=>{ze.target instanceof HTMLElement&&ze.target.dataset.dismissible==="false"||V.current||(V.current=!0,le.current=ze.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{J||X(!1)},onDragEnd:()=>X(!1),onPointerDown:ze=>{ze.target instanceof HTMLElement&&ze.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},N.filter(ze=>!ze.position&&pe===0||ze.position===ie).map((ze,Ze)=>{var Ht,Wt;return ee.createElement(Lk,{key:ze.id,icons:_,index:Ze,toast:ze,defaultRichColors:k,duration:(Ht=C?.duration)!=null?Ht:A,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:l,visibleToasts:O,closeButton:(Wt=C?.closeButton)!=null?Wt:f,interacting:J,position:ie,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:re,toasts:N.filter(W=>W.position==ze.position),heights:Y.filter(W=>W.position==ze.position),setHeights:se,expandByDefault:d,gap:b,expanded:ge,swipeDirections:s.swipeDirections})})):null}))});var Ka={},uc={},fc={},Fa={},ps={},tw;function dv(){if(tw)return ps;tw=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.ApiErrorException=ps.MisoClientError=void 0,ps.transformError=i,ps.handleApiError=u;class r extends Error{constructor(d,f,p,h,m){let S=d;f&&(f.title?S=f.title:f.errors&&f.errors.length>0&&(S=f.errors[0])),super(S),this.name="MisoClientError",this.errorResponse=f,this.errorBody=p,this.statusCode=h??f?.statusCode,this.authMethod=m??f?.authMethod??null,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}ps.MisoClientError=r;function s(o,d){const f=o.error;return{errors:f.errors??["Unknown error"],type:f.type??"about:blank",title:f.title??d.message??"Unknown error",statusCode:f.statusCode??d.response?.status??500,instance:f.instance??d.config?.url,correlationId:f.correlationId}}function a(o,d){const f=typeof o.statusCode=="number"?o.statusCode:typeof d.response?.status=="number"?d.response.status:500;return{errors:Array.isArray(o.errors)?o.errors:["Unknown error"],type:o.type??"about:blank",title:o.title??d.message??"Unknown error",statusCode:f,instance:o.instance??d.config?.url,correlationId:o.correlationId}}function i(o){if(o&&typeof o=="object"&&"response"in o){const d=o,f=d.response?.data;return f&&typeof f=="object"?"error"in f?s(f,d):a(f,d):{errors:[d.message??"Network error"],type:"about:blank",title:"Network error",statusCode:d.response?.status??0}}return o instanceof Error?{errors:[o.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class l extends Error{constructor(d){super(d.title||"API Error"),this.name="ApiErrorException",this.statusCode=d.statusCode,this.correlationId=d.correlationId,this.type=d.type,this.instance=d.instance,this.errors=d.errors,Error.captureStackTrace&&Error.captureStackTrace(this,l)}}ps.ApiErrorException=l;function u(o){const d=i(o);throw new l(d)}return ps}var Pf={},oi={},rw;function Mk(){if(rw)return oi;rw=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.AuthenticationError=oi.TimeoutError=oi.NetworkError=oi.ApiError=void 0;class r extends Error{constructor(u,o,d,f){super(u),this.name="ApiError",this.statusCode=o,this.response=d,this.originalError=f,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}oi.ApiError=r;class s extends r{constructor(u,o){super(u,0,void 0,o),this.name="NetworkError"}}oi.NetworkError=s;class a extends r{constructor(u,o){super(u,408),this.name="TimeoutError"}}oi.TimeoutError=a;class i extends r{constructor(u,o){super(u,401,o),this.name="AuthenticationError"}}return oi.AuthenticationError=i,oi}var nw;function Ui(){if(nw)return Pf;nw=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.extractErrorInfo=o;const r=dv(),s=Mk();function a(d,f,p,h,m,S){d.errorType=f,d.errorName=p,d.message=h,d.statusCode=m,d.stackTrace=S}function i(d,f){a(f,"MisoClientError",d.name,d.message,d.statusCode,d.stack),d.errorResponse&&"correlationId"in d.errorResponse&&(f.correlationId=f.correlationId||d.errorResponse.correlationId),d.errorResponse?f.responseBody={errors:d.errorResponse.errors,type:d.errorResponse.type,title:d.errorResponse.title,statusCode:d.errorResponse.statusCode,instance:d.errorResponse.instance,correlationId:d.errorResponse.correlationId}:d.errorBody&&(f.responseBody=d.errorBody)}function l(d,f){if(a(f,d.name,d.name,d.message,d.statusCode,d.stack),f.originalError=d.originalError,d.response)try{f.responseBody={status:d.statusCode,message:d.message}}catch{}}function u(d,f){f.errorType="Unknown",f.errorName="UnknownError",f.message=typeof d=="string"?d:d&&typeof d=="object"&&"message"in d?String(d.message):"Unknown error occurred"}function o(d,f){const p={errorType:"Unknown",errorName:"Error",message:"Unknown error",endpoint:f?.endpoint,method:f?.method,correlationId:f?.correlationId};return d instanceof r.MisoClientError?i(d,p):d instanceof s.ApiError?l(d,p):d instanceof s.AuthenticationError?a(p,"AuthenticationError",d.name,d.message,401,d.stack):d instanceof s.NetworkError?a(p,"NetworkError",d.name,d.message,0,d.stack):d instanceof s.TimeoutError?a(p,"TimeoutError",d.name,d.message,408,d.stack):d instanceof Error?a(p,"Error",d.name,d.message,void 0,d.stack):u(d,p),p}return Pf}var Qo={},iw;function ui(){if(iw)return Qo;iw=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.logErrorWithContext=r,Qo.writeWarn=s,Qo.writeErr=a;function r(i,l="[MisoClient]"){const u=i.correlationId||"no-correlation-id",o=[];o.push(`${i.errorName}: ${i.message}`),i.statusCode!==void 0&&o.push(`Status: ${i.statusCode}`),i.endpoint&&i.method?o.push(`Endpoint: ${i.method} ${i.endpoint}`):i.endpoint?o.push(`Endpoint: ${i.endpoint}`):i.method&&o.push(`Method: ${i.method}`);const d=o.join(" | "),f=`${l} [${u}]`;console.error(f,d),i.responseBody&&console.error(f,`Response Body: ${JSON.stringify(i.responseBody,null,2)}`),i.stackTrace&&console.error(f,`Stack Trace: ${i.stackTrace}`),i.originalError&&console.error(f,`Original Error: ${String(i.originalError)}`)}function s(i){console.warn(i)}function a(i){console.error(i)}return Qo}var sw;function qk(){if(sw)return Fa;sw=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.formatAuthError=i,Fa.handleAuthError=u,Fa.handleAuthErrorSilent=o,Fa.isHttpStatus=d;const r=dv(),s=Ui(),a=ui();function i(f,p,h,m){if(f instanceof r.MisoClientError){const k={statusCode:f.statusCode,message:f.message,errorResponse:f.errorResponse,errorBody:f.errorBody};return`${p} failed: ${f.message}. Full response: ${JSON.stringify(k)} [correlationId: ${h}, clientId: ${m}]`}if(l(f)){const k=f.response?`status: ${f.response.status}, data: ${JSON.stringify(f.response.data)}`:`message: ${f.message}`;return`${p} failed: ${f.message}. ${k} [correlationId: ${h}, clientId: ${m}]`}const S=f instanceof Error?f.message:"Unknown error";return`${p} failed: ${S} [correlationId: ${h}, clientId: ${m}]`}function l(f){return f!==null&&typeof f=="object"&&"isAxiosError"in f&&f.isAxiosError===!0}function u(f,p,h,m){throw new Error(i(f,p,h,m))}function o(f,p,h,m){const S=i(f,p,h,m);console.error(S,{operation:p,correlationId:h,clientId:m});const k=(0,s.extractErrorInfo)(f,{endpoint:p,method:"AUTH",correlationId:h});return k.message=S,(0,a.logErrorWithContext)(k,"[Auth]"),null}function d(f,p){return f instanceof r.MisoClientError?f.statusCode===p:l(f)&&f.response?f.response.status===p:!1}return Fa}var Bn={},Ga={},aw;function pu(){if(aw)return Ga;aw=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.isBrowser=r,Ga.validateUrl=s,Ga.resolveControllerUrl=a,Ga.resolveKeycloakUrl=i;function r(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function s(l){try{const u=new URL(l);return u.protocol==="http:"||u.protocol==="https:"}catch{return!1}}function a(l){const u=r();let o;if(u?o=l.controllerPublicUrl:o=l.controllerPrivateUrl,o||(o=l.controllerUrl),!o)throw new Error(`No controller URL configured. Please provide ${u?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!s(o))throw new Error(`Invalid controller URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}function i(l){const u=r();let o;if(u?o=l.authServerPublicUrl:o=l.authServerPrivateUrl,o||(o=l.authServerUrl),!o)throw new Error(`No Keycloak URL configured. Please provide ${u?"authServerPublicUrl":"authServerPrivateUrl"} or authServerUrl in your Keycloak configuration.`);if(!s(o))throw new Error(`Invalid Keycloak URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}return Ga}var Jp,ow;function Hk(){if(ow)return Jp;ow=1;function r(E,T){return function(){return E.apply(T,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:a}=Object,{iterator:i,toStringTag:l}=Symbol,u=(E=>T=>{const R=s.call(T);return E[R]||(E[R]=R.slice(8,-1).toLowerCase())})(Object.create(null)),o=E=>(E=E.toLowerCase(),T=>u(T)===E),d=E=>T=>typeof T===E,{isArray:f}=Array,p=d("undefined");function h(E){return E!==null&&!p(E)&&E.constructor!==null&&!p(E.constructor)&&A(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const m=o("ArrayBuffer");function S(E){let T;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?T=ArrayBuffer.isView(E):T=E&&E.buffer&&m(E.buffer),T}const k=d("string"),A=d("function"),x=d("number"),O=E=>E!==null&&typeof E=="object",C=E=>E===!0||E===!1,w=E=>{if(u(E)!=="object")return!1;const T=a(E);return(T===null||T===Object.prototype||Object.getPrototypeOf(T)===null)&&!(l in E)&&!(i in E)},b=E=>{if(!O(E)||h(E))return!1;try{return Object.keys(E).length===0&&Object.getPrototypeOf(E)===Object.prototype}catch{return!1}},_=o("Date"),D=o("File"),L=o("Blob"),U=o("FileList"),N=E=>O(E)&&A(E.pipe),F=E=>{let T;return E&&(typeof FormData=="function"&&E instanceof FormData||A(E.append)&&((T=u(E))==="formdata"||T==="object"&&A(E.toString)&&E.toString()==="[object FormData]"))},Y=o("URLSearchParams"),[se,ge,X,J]=["ReadableStream","Request","Response","Headers"].map(o),q=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(E,T,{allOwnKeys:R=!1}={}){if(E===null||typeof E>"u")return;let I,P;if(typeof E!="object"&&(E=[E]),f(E))for(I=0,P=E.length;I<P;I++)T.call(null,E[I],I,E);else{if(h(E))return;const z=R?Object.getOwnPropertyNames(E):Object.keys(E),K=z.length;let Q;for(I=0;I<K;I++)Q=z[I],T.call(null,E[Q],Q,E)}}function H(E,T){if(h(E))return null;T=T.toLowerCase();const R=Object.keys(E);let I=R.length,P;for(;I-- >0;)if(P=R[I],T===P.toLowerCase())return P;return null}const $=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:oo,Z=E=>!p(E)&&E!==$;function le(){const{caseless:E,skipUndefined:T}=Z(this)&&this||{},R={},I=(P,z)=>{if(z==="__proto__"||z==="constructor"||z==="prototype")return;const K=E&&H(R,z)||z;w(R[K])&&w(P)?R[K]=le(R[K],P):w(P)?R[K]=le({},P):f(P)?R[K]=P.slice():(!T||!p(P))&&(R[K]=P)};for(let P=0,z=arguments.length;P<z;P++)arguments[P]&&M(arguments[P],I);return R}const V=(E,T,R,{allOwnKeys:I}={})=>(M(T,(P,z)=>{R&&A(P)?Object.defineProperty(E,z,{value:r(P,R),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(E,z,{value:P,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:I}),E),re=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),ie=(E,T,R,I)=>{E.prototype=Object.create(T.prototype,I),Object.defineProperty(E.prototype,"constructor",{value:E,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(E,"super",{value:T.prototype}),R&&Object.assign(E.prototype,R)},pe=(E,T,R,I)=>{let P,z,K;const Q={};if(T=T||{},E==null)return T;do{for(P=Object.getOwnPropertyNames(E),z=P.length;z-- >0;)K=P[z],(!I||I(K,E,T))&&!Q[K]&&(T[K]=E[K],Q[K]=!0);E=R!==!1&&a(E)}while(E&&(!R||R(E,T))&&E!==Object.prototype);return T},be=(E,T,R)=>{E=String(E),(R===void 0||R>E.length)&&(R=E.length),R-=T.length;const I=E.indexOf(T,R);return I!==-1&&I===R},je=E=>{if(!E)return null;if(f(E))return E;let T=E.length;if(!x(T))return null;const R=new Array(T);for(;T-- >0;)R[T]=E[T];return R},Le=(E=>T=>E&&T instanceof E)(typeof Uint8Array<"u"&&a(Uint8Array)),ze=(E,T)=>{const I=(E&&E[i]).call(E);let P;for(;(P=I.next())&&!P.done;){const z=P.value;T.call(E,z[0],z[1])}},Ze=(E,T)=>{let R;const I=[];for(;(R=E.exec(T))!==null;)I.push(R);return I},Ht=o("HTMLFormElement"),Wt=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(R,I,P){return I.toUpperCase()+P}),W=(({hasOwnProperty:E})=>(T,R)=>E.call(T,R))(Object.prototype),Re=o("RegExp"),xe=(E,T)=>{const R=Object.getOwnPropertyDescriptors(E),I={};M(R,(P,z)=>{let K;(K=T(P,z,E))!==!1&&(I[z]=K||P)}),Object.defineProperties(E,I)},et=E=>{xe(E,(T,R)=>{if(A(E)&&["arguments","caller","callee"].indexOf(R)!==-1)return!1;const I=E[R];if(A(I)){if(T.enumerable=!1,"writable"in T){T.writable=!1;return}T.set||(T.set=()=>{throw Error("Can not rewrite read-only method '"+R+"'")})}})},ot=(E,T)=>{const R={},I=P=>{P.forEach(z=>{R[z]=!0})};return f(E)?I(E):I(String(E).split(T)),R},yt=()=>{},qi=(E,T)=>E!=null&&Number.isFinite(E=+E)?E:T;function Ar(E){return!!(E&&A(E.append)&&E[l]==="FormData"&&E[i])}const Hi=E=>{const T=new Array(10),R=(I,P)=>{if(O(I)){if(T.indexOf(I)>=0)return;if(h(I))return I;if(!("toJSON"in I)){T[P]=I;const z=f(I)?[]:{};return M(I,(K,Q)=>{const ve=R(K,P+1);!p(ve)&&(z[Q]=ve)}),T[P]=void 0,z}}return I};return R(E,0)},$i=o("AsyncFunction"),fr=E=>E&&(O(E)||A(E))&&A(E.then)&&A(E.catch),Xr=((E,T)=>E?setImmediate:T?((R,I)=>($.addEventListener("message",({source:P,data:z})=>{P===$&&z===R&&I.length&&I.shift()()},!1),P=>{I.push(P),$.postMessage(R,"*")}))(`axios@${Math.random()}`,[]):R=>setTimeout(R))(typeof setImmediate=="function",A($.postMessage)),dr=typeof queueMicrotask<"u"?queueMicrotask.bind($):typeof process<"u"&&process.nextTick||Xr;var G={isArray:f,isArrayBuffer:m,isBuffer:h,isFormData:F,isArrayBufferView:S,isString:k,isNumber:x,isBoolean:C,isObject:O,isPlainObject:w,isEmptyObject:b,isReadableStream:se,isRequest:ge,isResponse:X,isHeaders:J,isUndefined:p,isDate:_,isFile:D,isBlob:L,isRegExp:Re,isFunction:A,isStream:N,isURLSearchParams:Y,isTypedArray:Le,isFileList:U,forEach:M,merge:le,extend:V,trim:q,stripBOM:re,inherits:ie,toFlatObject:pe,kindOf:u,kindOfTest:o,endsWith:be,toArray:je,forEachEntry:ze,matchAll:Ze,isHTMLForm:Ht,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:xe,freezeMethods:et,toObjectSet:ot,toCamelCase:Wt,noop:yt,toFiniteNumber:qi,findKey:H,global:$,isContextDefined:Z,isSpecCompliantForm:Ar,toJSONObject:Hi,isAsyncFn:$i,isThenable:fr,setImmediate:Xr,asap:dr,isIterable:E=>E!=null&&A(E[i])};class lt extends Error{static from(T,R,I,P,z,K){const Q=new lt(T.message,R||T.code,I,P,z);return Q.cause=T,Q.name=T.name,K&&Object.assign(Q,K),Q}constructor(T,R,I,P,z){super(T),this.name="AxiosError",this.isAxiosError=!0,R&&(this.code=R),I&&(this.config=I),P&&(this.request=P),z&&(this.response=z,this.status=z.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}}lt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",lt.ERR_BAD_OPTION="ERR_BAD_OPTION",lt.ECONNABORTED="ECONNABORTED",lt.ETIMEDOUT="ETIMEDOUT",lt.ERR_NETWORK="ERR_NETWORK",lt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",lt.ERR_DEPRECATED="ERR_DEPRECATED",lt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",lt.ERR_BAD_REQUEST="ERR_BAD_REQUEST",lt.ERR_CANCELED="ERR_CANCELED",lt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",lt.ERR_INVALID_URL="ERR_INVALID_URL";var Ie=lt,Bi=null;function _r(E){return G.isPlainObject(E)||G.isArray(E)}function mi(E){return G.endsWith(E,"[]")?E.slice(0,-2):E}function Qr(E,T,R){return E?E.concat(T).map(function(P,z){return P=mi(P),!R&&z?"["+P+"]":P}).join(R?".":""):T}function Vn(E){return G.isArray(E)&&!E.some(_r)}const hr=G.toFlatObject(G,{},null,function(T){return/^is[A-Z]/.test(T)});function Jt(E,T,R){if(!G.isObject(E))throw new TypeError("target must be an object");T=T||new FormData,R=G.toFlatObject(R,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ae,ye){return!G.isUndefined(ye[Ae])});const I=R.metaTokens,P=R.visitor||ae,z=R.dots,K=R.indexes,ve=(R.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(T);if(!G.isFunction(P))throw new TypeError("visitor must be a function");function ue(ce){if(ce===null)return"";if(G.isDate(ce))return ce.toISOString();if(G.isBoolean(ce))return ce.toString();if(!ve&&G.isBlob(ce))throw new Ie("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(ce)||G.isTypedArray(ce)?ve&&typeof Blob=="function"?new Blob([ce]):Buffer.from(ce):ce}function ae(ce,Ae,ye){let Je=ce;if(ce&&!ye&&typeof ce=="object"){if(G.endsWith(Ae,"{}"))Ae=I?Ae:Ae.slice(0,-2),ce=JSON.stringify(ce);else if(G.isArray(ce)&&Vn(ce)||(G.isFileList(ce)||G.endsWith(Ae,"[]"))&&(Je=G.toArray(ce)))return Ae=mi(Ae),Je.forEach(function(nt,pt){!(G.isUndefined(nt)||nt===null)&&T.append(K===!0?Qr([Ae],pt,z):K===null?Ae:Ae+"[]",ue(nt))}),!1}return _r(ce)?!0:(T.append(Qr(ye,Ae,z),ue(ce)),!1)}const Te=[],He=Object.assign(hr,{defaultVisitor:ae,convertValue:ue,isVisitable:_r});function ft(ce,Ae){if(!G.isUndefined(ce)){if(Te.indexOf(ce)!==-1)throw Error("Circular reference detected in "+Ae.join("."));Te.push(ce),G.forEach(ce,function(Je,It){(!(G.isUndefined(Je)||Je===null)&&P.call(T,Je,G.isString(It)?It.trim():It,Ae,He))===!0&&ft(Je,Ae?Ae.concat(It):[It])}),Te.pop()}}if(!G.isObject(E))throw new TypeError("data must be an object");return ft(E),T}function Bt(E){const T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(I){return T[I]})}function Wn(E,T){this._pairs=[],E&&Jt(E,this,T)}const Jn=Wn.prototype;Jn.append=function(T,R){this._pairs.push([T,R])},Jn.toString=function(T){const R=T?function(I){return T.call(this,I,Bt)}:Bt;return this._pairs.map(function(P){return R(P[0])+"="+R(P[1])},"").join("&")};function Zr(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nn(E,T,R){if(!T)return E;const I=R&&R.encode||Zr,P=G.isFunction(R)?{serialize:R}:R,z=P&&P.serialize;let K;if(z?K=z(T,P):K=G.isURLSearchParams(T)?T.toString():new Wn(T,P).toString(I),K){const Q=E.indexOf("#");Q!==-1&&(E=E.slice(0,Q)),E+=(E.indexOf("?")===-1?"?":"&")+K}return E}class gi{constructor(){this.handlers=[]}use(T,R,I){return this.handlers.push({fulfilled:T,rejected:R,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(T){this.handlers[T]&&(this.handlers[T]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(T){G.forEach(this.handlers,function(I){I!==null&&T(I)})}}var vn=gi,vr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Ge=typeof URLSearchParams<"u"?URLSearchParams:Wn,Rt=typeof FormData<"u"?FormData:null,zt=typeof Blob<"u"?Blob:null,tr={isBrowser:!0,classes:{URLSearchParams:Ge,FormData:Rt,Blob:zt},protocols:["http","https","file","blob","url","data"]};const Pr=typeof window<"u"&&typeof document<"u",vt=typeof navigator=="object"&&navigator||void 0,Er=Pr&&(!vt||["ReactNative","NativeScript","NS"].indexOf(vt.product)<0),Yn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",br=Pr&&window.location.href||"http://localhost";var Sr=Object.freeze({__proto__:null,hasBrowserEnv:Pr,hasStandardBrowserWebWorkerEnv:Yn,hasStandardBrowserEnv:Er,navigator:vt,origin:br}),rt={...Sr,...tr};function Mr(E,T){return Jt(E,new rt.classes.URLSearchParams,{visitor:function(R,I,P,z){return rt.isNode&&G.isBuffer(R)?(this.append(I,R.toString("base64")),!1):z.defaultVisitor.apply(this,arguments)},...T})}function ha(E){return G.matchAll(/\w+|\[(\w*)]/g,E).map(T=>T[0]==="[]"?"":T[1]||T[0])}function mo(E){const T={},R=Object.keys(E);let I;const P=R.length;let z;for(I=0;I<P;I++)z=R[I],T[z]=E[z];return T}function en(E){function T(R,I,P,z){let K=R[z++];if(K==="__proto__")return!0;const Q=Number.isFinite(+K),ve=z>=R.length;return K=!K&&G.isArray(P)?P.length:K,ve?(G.hasOwnProp(P,K)?P[K]=[P[K],I]:P[K]=I,!Q):((!P[K]||!G.isObject(P[K]))&&(P[K]=[]),T(R,I,P[K],z)&&G.isArray(P[K])&&(P[K]=mo(P[K])),!Q)}if(G.isFormData(E)&&G.isFunction(E.entries)){const R={};return G.forEachEntry(E,(I,P)=>{T(ha(I),P,R,0)}),R}return null}function Yt(E,T,R){if(G.isString(E))try{return(T||JSON.parse)(E),G.trim(E)}catch(I){if(I.name!=="SyntaxError")throw I}return(R||JSON.stringify)(E)}const Kt={transitional:vr,adapter:["xhr","http","fetch"],transformRequest:[function(T,R){const I=R.getContentType()||"",P=I.indexOf("application/json")>-1,z=G.isObject(T);if(z&&G.isHTMLForm(T)&&(T=new FormData(T)),G.isFormData(T))return P?JSON.stringify(en(T)):T;if(G.isArrayBuffer(T)||G.isBuffer(T)||G.isStream(T)||G.isFile(T)||G.isBlob(T)||G.isReadableStream(T))return T;if(G.isArrayBufferView(T))return T.buffer;if(G.isURLSearchParams(T))return R.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),T.toString();let Q;if(z){if(I.indexOf("application/x-www-form-urlencoded")>-1)return Mr(T,this.formSerializer).toString();if((Q=G.isFileList(T))||I.indexOf("multipart/form-data")>-1){const ve=this.env&&this.env.FormData;return Jt(Q?{"files[]":T}:T,ve&&new ve,this.formSerializer)}}return z||P?(R.setContentType("application/json",!1),Yt(T)):T}],transformResponse:[function(T){const R=this.transitional||Kt.transitional,I=R&&R.forcedJSONParsing,P=this.responseType==="json";if(G.isResponse(T)||G.isReadableStream(T))return T;if(T&&G.isString(T)&&(I&&!this.responseType||P)){const K=!(R&&R.silentJSONParsing)&&P;try{return JSON.parse(T,this.parseReviver)}catch(Q){if(K)throw Q.name==="SyntaxError"?Ie.from(Q,Ie.ERR_BAD_RESPONSE,this,null,this.response):Q}}return T}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(T){return T>=200&&T<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],E=>{Kt.headers[E]={}});var tn=Kt;const pa=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var bl=E=>{const T={};let R,I,P;return E&&E.split(`
`).forEach(function(K){P=K.indexOf(":"),R=K.substring(0,P).trim().toLowerCase(),I=K.substring(P+1).trim(),!(!R||T[R]&&pa[R])&&(R==="set-cookie"?T[R]?T[R].push(I):T[R]=[I]:T[R]=T[R]?T[R]+", "+I:I)}),T};const ma=Symbol("internals");function rn(E){return E&&String(E).trim().toLowerCase()}function qr(E){return E===!1||E==null?E:G.isArray(E)?E.map(qr):String(E)}function ga(E){const T=Object.create(null),R=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=R.exec(E);)T[I[1]]=I[2];return T}const yi=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function nn(E,T,R,I,P){if(G.isFunction(I))return I.call(this,T,R);if(P&&(T=R),!!G.isString(T)){if(G.isString(I))return T.indexOf(I)!==-1;if(G.isRegExp(I))return I.test(T)}}function zi(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(T,R,I)=>R.toUpperCase()+I)}function vi(E,T){const R=G.toCamelCase(" "+T);["get","set","has"].forEach(I=>{Object.defineProperty(E,I+R,{value:function(P,z,K){return this[I].call(this,T,P,z,K)},configurable:!0})})}class At{constructor(T){T&&this.set(T)}set(T,R,I){const P=this;function z(Q,ve,ue){const ae=rn(ve);if(!ae)throw new Error("header name must be a non-empty string");const Te=G.findKey(P,ae);(!Te||P[Te]===void 0||ue===!0||ue===void 0&&P[Te]!==!1)&&(P[Te||ve]=qr(Q))}const K=(Q,ve)=>G.forEach(Q,(ue,ae)=>z(ue,ae,ve));if(G.isPlainObject(T)||T instanceof this.constructor)K(T,R);else if(G.isString(T)&&(T=T.trim())&&!yi(T))K(bl(T),R);else if(G.isObject(T)&&G.isIterable(T)){let Q={},ve,ue;for(const ae of T){if(!G.isArray(ae))throw TypeError("Object iterator must return a key-value pair");Q[ue=ae[0]]=(ve=Q[ue])?G.isArray(ve)?[...ve,ae[1]]:[ve,ae[1]]:ae[1]}K(Q,R)}else T!=null&&z(R,T,I);return this}get(T,R){if(T=rn(T),T){const I=G.findKey(this,T);if(I){const P=this[I];if(!R)return P;if(R===!0)return ga(P);if(G.isFunction(R))return R.call(this,P,I);if(G.isRegExp(R))return R.exec(P);throw new TypeError("parser must be boolean|regexp|function")}}}has(T,R){if(T=rn(T),T){const I=G.findKey(this,T);return!!(I&&this[I]!==void 0&&(!R||nn(this,this[I],I,R)))}return!1}delete(T,R){const I=this;let P=!1;function z(K){if(K=rn(K),K){const Q=G.findKey(I,K);Q&&(!R||nn(I,I[Q],Q,R))&&(delete I[Q],P=!0)}}return G.isArray(T)?T.forEach(z):z(T),P}clear(T){const R=Object.keys(this);let I=R.length,P=!1;for(;I--;){const z=R[I];(!T||nn(this,this[z],z,T,!0))&&(delete this[z],P=!0)}return P}normalize(T){const R=this,I={};return G.forEach(this,(P,z)=>{const K=G.findKey(I,z);if(K){R[K]=qr(P),delete R[z];return}const Q=T?zi(z):String(z).trim();Q!==z&&delete R[z],R[Q]=qr(P),I[Q]=!0}),this}concat(...T){return this.constructor.concat(this,...T)}toJSON(T){const R=Object.create(null);return G.forEach(this,(I,P)=>{I!=null&&I!==!1&&(R[P]=T&&G.isArray(I)?I.join(", "):I)}),R}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([T,R])=>T+": "+R).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(T){return T instanceof this?T:new this(T)}static concat(T,...R){const I=new this(T);return R.forEach(P=>I.set(P)),I}static accessor(T){const I=(this[ma]=this[ma]={accessors:{}}).accessors,P=this.prototype;function z(K){const Q=rn(K);I[Q]||(vi(P,K),I[Q]=!0)}return G.isArray(T)?T.forEach(z):z(T),this}}At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(At.prototype,({value:E},T)=>{let R=T[0].toUpperCase()+T.slice(1);return{get:()=>E,set(I){this[R]=I}}}),G.freezeMethods(At);var Lt=At;function Ei(E,T){const R=this||tn,I=T||R,P=Lt.from(I.headers);let z=I.data;return G.forEach(E,function(Q){z=Q.call(R,z,P.normalize(),T?T.status:void 0)}),P.normalize(),z}function En(E){return!!(E&&E.__CANCEL__)}class bi extends Ie{constructor(T,R,I){super(T??"canceled",Ie.ERR_CANCELED,R,I),this.name="CanceledError",this.__CANCEL__=!0}}var bn=bi;function Cs(E,T,R){const I=R.config.validateStatus;!R.status||!I||I(R.status)?E(R):T(new Ie("Request failed with status code "+R.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(R.status/100)-4],R.config,R.request,R))}function go(E){const T=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return T&&T[1]||""}function Sl(E,T){E=E||10;const R=new Array(E),I=new Array(E);let P=0,z=0,K;return T=T!==void 0?T:1e3,function(ve){const ue=Date.now(),ae=I[z];K||(K=ue),R[P]=ve,I[P]=ue;let Te=z,He=0;for(;Te!==P;)He+=R[Te++],Te=Te%E;if(P=(P+1)%E,P===z&&(z=(z+1)%E),ue-K<T)return;const ft=ae&&ue-ae;return ft?Math.round(He*1e3/ft):void 0}}function xs(E,T){let R=0,I=1e3/T,P,z;const K=(ue,ae=Date.now())=>{R=ae,P=null,z&&(clearTimeout(z),z=null),E(...ue)};return[(...ue)=>{const ae=Date.now(),Te=ae-R;Te>=I?K(ue,ae):(P=ue,z||(z=setTimeout(()=>{z=null,K(P)},I-Te)))},()=>P&&K(P)]}const sn=(E,T,R=3)=>{let I=0;const P=Sl(50,250);return xs(z=>{const K=z.loaded,Q=z.lengthComputable?z.total:void 0,ve=K-I,ue=P(ve),ae=K<=Q;I=K;const Te={loaded:K,total:Q,progress:Q?K/Q:void 0,bytes:ve,rate:ue||void 0,estimated:ue&&Q&&ae?(Q-K)/ue:void 0,event:z,lengthComputable:Q!=null,[T?"download":"upload"]:!0};E(Te)},R)},Hr=(E,T)=>{const R=E!=null;return[I=>T[0]({lengthComputable:R,total:E,loaded:I}),T[1]]},wr=E=>(...T)=>G.asap(()=>E(...T));var yo=rt.hasStandardBrowserEnv?((E,T)=>R=>(R=new URL(R,rt.origin),E.protocol===R.protocol&&E.host===R.host&&(T||E.port===R.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,wl=rt.hasStandardBrowserEnv?{write(E,T,R,I,P,z,K){if(typeof document>"u")return;const Q=[`${E}=${encodeURIComponent(T)}`];G.isNumber(R)&&Q.push(`expires=${new Date(R).toUTCString()}`),G.isString(I)&&Q.push(`path=${I}`),G.isString(P)&&Q.push(`domain=${P}`),z===!0&&Q.push("secure"),G.isString(K)&&Q.push(`SameSite=${K}`),document.cookie=Q.join("; ")},read(E){if(typeof document>"u")return null;const T=document.cookie.match(new RegExp("(?:^|; )"+E+"=([^;]*)"));return T?decodeURIComponent(T[1]):null},remove(E){this.write(E,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ya(E){return typeof E!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function vo(E,T){return T?E.replace(/\/?\/$/,"")+"/"+T.replace(/^\/+/,""):E}function Si(E,T,R){let I=!ya(T);return E&&(I||R==!1)?vo(E,T):T}const va=E=>E instanceof Lt?{...E}:E;function _t(E,T){T=T||{};const R={};function I(ue,ae,Te,He){return G.isPlainObject(ue)&&G.isPlainObject(ae)?G.merge.call({caseless:He},ue,ae):G.isPlainObject(ae)?G.merge({},ae):G.isArray(ae)?ae.slice():ae}function P(ue,ae,Te,He){if(G.isUndefined(ae)){if(!G.isUndefined(ue))return I(void 0,ue,Te,He)}else return I(ue,ae,Te,He)}function z(ue,ae){if(!G.isUndefined(ae))return I(void 0,ae)}function K(ue,ae){if(G.isUndefined(ae)){if(!G.isUndefined(ue))return I(void 0,ue)}else return I(void 0,ae)}function Q(ue,ae,Te){if(Te in T)return I(ue,ae);if(Te in E)return I(void 0,ue)}const ve={url:z,method:z,data:z,baseURL:K,transformRequest:K,transformResponse:K,paramsSerializer:K,timeout:K,timeoutMessage:K,withCredentials:K,withXSRFToken:K,adapter:K,responseType:K,xsrfCookieName:K,xsrfHeaderName:K,onUploadProgress:K,onDownloadProgress:K,decompress:K,maxContentLength:K,maxBodyLength:K,beforeRedirect:K,transport:K,httpAgent:K,httpsAgent:K,cancelToken:K,socketPath:K,responseEncoding:K,validateStatus:Q,headers:(ue,ae,Te)=>P(va(ue),va(ae),Te,!0)};return G.forEach(Object.keys({...E,...T}),function(ae){if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return;const Te=G.hasOwnProp(ve,ae)?ve[ae]:P,He=Te(E[ae],T[ae],ae);G.isUndefined(He)&&Te!==Q||(R[ae]=He)}),R}var Ki=E=>{const T=_t({},E);let{data:R,withXSRFToken:I,xsrfHeaderName:P,xsrfCookieName:z,headers:K,auth:Q}=T;if(T.headers=K=Lt.from(K),T.url=Nn(Si(T.baseURL,T.url,T.allowAbsoluteUrls),E.params,E.paramsSerializer),Q&&K.set("Authorization","Basic "+btoa((Q.username||"")+":"+(Q.password?unescape(encodeURIComponent(Q.password)):""))),G.isFormData(R)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)K.setContentType(void 0);else if(G.isFunction(R.getHeaders)){const ve=R.getHeaders(),ue=["content-type","content-length"];Object.entries(ve).forEach(([ae,Te])=>{ue.includes(ae.toLowerCase())&&K.set(ae,Te)})}}if(rt.hasStandardBrowserEnv&&(I&&G.isFunction(I)&&(I=I(T)),I||I!==!1&&yo(T.url))){const ve=P&&z&&wl.read(z);ve&&K.set(P,ve)}return T},Ea=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(R,I){const P=Ki(E);let z=P.data;const K=Lt.from(P.headers).normalize();let{responseType:Q,onUploadProgress:ve,onDownloadProgress:ue}=P,ae,Te,He,ft,ce;function Ae(){ft&&ft(),ce&&ce(),P.cancelToken&&P.cancelToken.unsubscribe(ae),P.signal&&P.signal.removeEventListener("abort",ae)}let ye=new XMLHttpRequest;ye.open(P.method.toUpperCase(),P.url,!0),ye.timeout=P.timeout;function Je(){if(!ye)return;const nt=Lt.from("getAllResponseHeaders"in ye&&ye.getAllResponseHeaders()),Pt={data:!Q||Q==="text"||Q==="json"?ye.responseText:ye.response,status:ye.status,statusText:ye.statusText,headers:nt,config:E,request:ye};Cs(function(jt){R(jt),Ae()},function(jt){I(jt),Ae()},Pt),ye=null}"onloadend"in ye?ye.onloadend=Je:ye.onreadystatechange=function(){!ye||ye.readyState!==4||ye.status===0&&!(ye.responseURL&&ye.responseURL.indexOf("file:")===0)||setTimeout(Je)},ye.onabort=function(){ye&&(I(new Ie("Request aborted",Ie.ECONNABORTED,E,ye)),ye=null)},ye.onerror=function(pt){const Pt=pt&&pt.message?pt.message:"Network Error",Nr=new Ie(Pt,Ie.ERR_NETWORK,E,ye);Nr.event=pt||null,I(Nr),ye=null},ye.ontimeout=function(){let pt=P.timeout?"timeout of "+P.timeout+"ms exceeded":"timeout exceeded";const Pt=P.transitional||vr;P.timeoutErrorMessage&&(pt=P.timeoutErrorMessage),I(new Ie(pt,Pt.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,E,ye)),ye=null},z===void 0&&K.setContentType(null),"setRequestHeader"in ye&&G.forEach(K.toJSON(),function(pt,Pt){ye.setRequestHeader(Pt,pt)}),G.isUndefined(P.withCredentials)||(ye.withCredentials=!!P.withCredentials),Q&&Q!=="json"&&(ye.responseType=P.responseType),ue&&([He,ce]=sn(ue,!0),ye.addEventListener("progress",He)),ve&&ye.upload&&([Te,ft]=sn(ve),ye.upload.addEventListener("progress",Te),ye.upload.addEventListener("loadend",ft)),(P.cancelToken||P.signal)&&(ae=nt=>{ye&&(I(!nt||nt.type?new bn(null,E,ye):nt),ye.abort(),ye=null)},P.cancelToken&&P.cancelToken.subscribe(ae),P.signal&&(P.signal.aborted?ae():P.signal.addEventListener("abort",ae)));const It=go(P.url);if(It&&rt.protocols.indexOf(It)===-1){I(new Ie("Unsupported protocol "+It+":",Ie.ERR_BAD_REQUEST,E));return}ye.send(z||null)})},Eo=(E,T)=>{const{length:R}=E=E?E.filter(Boolean):[];if(T||R){let I=new AbortController,P;const z=function(ue){if(!P){P=!0,Q();const ae=ue instanceof Error?ue:this.reason;I.abort(ae instanceof Ie?ae:new bn(ae instanceof Error?ae.message:ae))}};let K=T&&setTimeout(()=>{K=null,z(new Ie(`timeout of ${T}ms exceeded`,Ie.ETIMEDOUT))},T);const Q=()=>{E&&(K&&clearTimeout(K),K=null,E.forEach(ue=>{ue.unsubscribe?ue.unsubscribe(z):ue.removeEventListener("abort",z)}),E=null)};E.forEach(ue=>ue.addEventListener("abort",z));const{signal:ve}=I;return ve.unsubscribe=()=>G.asap(Q),ve}};const bo=function*(E,T){let R=E.byteLength;if(R<T){yield E;return}let I=0,P;for(;I<R;)P=I+T,yield E.slice(I,P),I=P},wi=async function*(E,T){for await(const R of Tl(E))yield*bo(R,T)},Tl=async function*(E){if(E[Symbol.asyncIterator]){yield*E;return}const T=E.getReader();try{for(;;){const{done:R,value:I}=await T.read();if(R)break;yield I}}finally{await T.cancel()}},As=(E,T,R,I)=>{const P=wi(E,T);let z=0,K,Q=ve=>{K||(K=!0,I&&I(ve))};return new ReadableStream({async pull(ve){try{const{done:ue,value:ae}=await P.next();if(ue){Q(),ve.close();return}let Te=ae.byteLength;if(R){let He=z+=Te;R(He)}ve.enqueue(new Uint8Array(ae))}catch(ue){throw Q(ue),ue}},cancel(ve){return Q(ve),P.return()}},{highWaterMark:2})},_s=64*1024,{isFunction:Sn}=G,Cl=(({Request:E,Response:T})=>({Request:E,Response:T}))(G.global),{ReadableStream:ba,TextEncoder:Ti}=G.global,$r=(E,...T)=>{try{return!!E(...T)}catch{return!1}},Sa=E=>{E=G.merge.call({skipUndefined:!0},Cl,E);const{fetch:T,Request:R,Response:I}=E,P=T?Sn(T):typeof fetch=="function",z=Sn(R),K=Sn(I);if(!P)return!1;const Q=P&&Sn(ba),ve=P&&(typeof Ti=="function"?(ce=>Ae=>ce.encode(Ae))(new Ti):async ce=>new Uint8Array(await new R(ce).arrayBuffer())),ue=z&&Q&&$r(()=>{let ce=!1;const Ae=new R(rt.origin,{body:new ba,method:"POST",get duplex(){return ce=!0,"half"}}).headers.has("Content-Type");return ce&&!Ae}),ae=K&&Q&&$r(()=>G.isReadableStream(new I("").body)),Te={stream:ae&&(ce=>ce.body)};P&&["text","arrayBuffer","blob","formData","stream"].forEach(ce=>{!Te[ce]&&(Te[ce]=(Ae,ye)=>{let Je=Ae&&Ae[ce];if(Je)return Je.call(Ae);throw new Ie(`Response type '${ce}' is not supported`,Ie.ERR_NOT_SUPPORT,ye)})});const He=async ce=>{if(ce==null)return 0;if(G.isBlob(ce))return ce.size;if(G.isSpecCompliantForm(ce))return(await new R(rt.origin,{method:"POST",body:ce}).arrayBuffer()).byteLength;if(G.isArrayBufferView(ce)||G.isArrayBuffer(ce))return ce.byteLength;if(G.isURLSearchParams(ce)&&(ce=ce+""),G.isString(ce))return(await ve(ce)).byteLength},ft=async(ce,Ae)=>{const ye=G.toFiniteNumber(ce.getContentLength());return ye??He(Ae)};return async ce=>{let{url:Ae,method:ye,data:Je,signal:It,cancelToken:nt,timeout:pt,onDownloadProgress:Pt,onUploadProgress:Nr,responseType:jt,headers:Yi,withCredentials:ei="same-origin",fetchOptions:xa}=Ki(ce),Ra=T||fetch;jt=jt?(jt+"").toLowerCase():"text";let ti=Eo([It,nt&&nt.toAbortSignal()],pt),wn=null;const pr=ti&&ti.unsubscribe&&(()=>{ti.unsubscribe()});let ri;try{if(Nr&&ue&&ye!=="get"&&ye!=="head"&&(ri=await ft(Yi,Je))!==0){let nr=new R(Ae,{method:"POST",body:Je,duplex:"half"}),ir;if(G.isFormData(Je)&&(ir=nr.headers.get("content-type"))&&Yi.setContentType(ir),nr.body){const[Xi,ni]=Hr(ri,sn(wr(Nr)));Je=As(nr.body,_s,Xi,ni)}}G.isString(ei)||(ei=ei?"include":"omit");const Et=z&&"credentials"in R.prototype,Is={...xa,signal:ti,method:ye.toUpperCase(),headers:Yi.normalize().toJSON(),body:Je,duplex:"half",credentials:Et?ei:void 0};wn=z&&new R(Ae,Is);let rr=await(z?Ra(wn,xa):Ra(Ae,Is));const js=ae&&(jt==="stream"||jt==="response");if(ae&&(Pt||js&&pr)){const nr={};["status","statusText","headers"].forEach(Aa=>{nr[Aa]=rr[Aa]});const ir=G.toFiniteNumber(rr.headers.get("content-length")),[Xi,ni]=Pt&&Hr(ir,sn(wr(Pt),!0))||[];rr=new I(As(rr.body,_s,Xi,()=>{ni&&ni(),pr&&pr()}),nr)}jt=jt||"text";let wo=await Te[G.findKey(Te,jt)||"text"](rr,ce);return!js&&pr&&pr(),await new Promise((nr,ir)=>{Cs(nr,ir,{data:wo,headers:Lt.from(rr.headers),status:rr.status,statusText:rr.statusText,config:ce,request:wn})})}catch(Et){throw pr&&pr(),Et&&Et.name==="TypeError"&&/Load failed|fetch/i.test(Et.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,ce,wn,Et&&Et.response),{cause:Et.cause||Et}):Ie.from(Et,Et&&Et.code,ce,wn,Et&&Et.response)}}},wa=new Map,kn=E=>{let T=E&&E.env||{};const{fetch:R,Request:I,Response:P}=T,z=[I,P,R];let K=z.length,Q=K,ve,ue,ae=wa;for(;Q--;)ve=z[Q],ue=ae.get(ve),ue===void 0&&ae.set(ve,ue=Q?new Map:Sa(T)),ae=ue;return ue};kn();const an={http:Bi,xhr:Ea,fetch:{get:kn}};G.forEach(an,(E,T)=>{if(E){try{Object.defineProperty(E,"name",{value:T})}catch{}Object.defineProperty(E,"adapterName",{value:T})}});const Os=E=>`- ${E}`,Ta=E=>G.isFunction(E)||E===null||E===!1;function So(E,T){E=G.isArray(E)?E:[E];const{length:R}=E;let I,P;const z={};for(let K=0;K<R;K++){I=E[K];let Q;if(P=I,!Ta(I)&&(P=an[(Q=String(I)).toLowerCase()],P===void 0))throw new Ie(`Unknown adapter '${Q}'`);if(P&&(G.isFunction(P)||(P=P.get(T))))break;z[Q||"#"+K]=P}if(!P){const K=Object.entries(z).map(([ve,ue])=>`adapter ${ve} `+(ue===!1?"is not supported by the environment":"is not available in the build"));let Q=R?K.length>1?`since :
`+K.map(Os).join(`
`):" "+Os(K[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+Q,"ERR_NOT_SUPPORT")}return P}var Xn={getAdapter:So,adapters:an};function Or(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new bn(null,E)}function Fi(E){return Or(E),E.headers=Lt.from(E.headers),E.data=Ei.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),Xn.getAdapter(E.adapter||tn.adapter,E)(E).then(function(I){return Or(E),I.data=Ei.call(E,E.transformResponse,I),I.headers=Lt.from(I.headers),I},function(I){return En(I)||(Or(E),I&&I.response&&(I.response.data=Ei.call(E,E.transformResponse,I.response),I.response.headers=Lt.from(I.response.headers))),Promise.reject(I)})}const Qn="1.13.5",Tr={};["object","boolean","number","function","string","symbol"].forEach((E,T)=>{Tr[E]=function(I){return typeof I===E||"a"+(T<1?"n ":" ")+E}});const Gi={};Tr.transitional=function(T,R,I){function P(z,K){return"[Axios v"+Qn+"] Transitional option '"+z+"'"+K+(I?". "+I:"")}return(z,K,Q)=>{if(T===!1)throw new Ie(P(K," has been removed"+(R?" in "+R:"")),Ie.ERR_DEPRECATED);return R&&!Gi[K]&&(Gi[K]=!0,console.warn(P(K," has been deprecated since v"+R+" and will be removed in the near future"))),T?T(z,K,Q):!0}},Tr.spelling=function(T){return(R,I)=>(console.warn(`${I} is likely a misspelling of ${T}`),!0)};function Ns(E,T,R){if(typeof E!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const I=Object.keys(E);let P=I.length;for(;P-- >0;){const z=I[P],K=T[z];if(K){const Q=E[z],ve=Q===void 0||K(Q,z,E);if(ve!==!0)throw new Ie("option "+z+" must be "+ve,Ie.ERR_BAD_OPTION_VALUE);continue}if(R!==!0)throw new Ie("Unknown option "+z,Ie.ERR_BAD_OPTION)}}var In={assertOptions:Ns,validators:Tr};const wt=In.validators;class on{constructor(T){this.defaults=T||{},this.interceptors={request:new vn,response:new vn}}async request(T,R){try{return await this._request(T,R)}catch(I){if(I instanceof Error){let P={};Error.captureStackTrace?Error.captureStackTrace(P):P=new Error;const z=P.stack?P.stack.replace(/^.+\n/,""):"";try{I.stack?z&&!String(I.stack).endsWith(z.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+z):I.stack=z}catch{}}throw I}}_request(T,R){typeof T=="string"?(R=R||{},R.url=T):R=T||{},R=_t(this.defaults,R);const{transitional:I,paramsSerializer:P,headers:z}=R;I!==void 0&&In.assertOptions(I,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean),legacyInterceptorReqResOrdering:wt.transitional(wt.boolean)},!1),P!=null&&(G.isFunction(P)?R.paramsSerializer={serialize:P}:In.assertOptions(P,{encode:wt.function,serialize:wt.function},!0)),R.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?R.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:R.allowAbsoluteUrls=!0),In.assertOptions(R,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),R.method=(R.method||this.defaults.method||"get").toLowerCase();let K=z&&G.merge(z.common,z[R.method]);z&&G.forEach(["delete","get","head","post","put","patch","common"],ce=>{delete z[ce]}),R.headers=Lt.concat(K,z);const Q=[];let ve=!0;this.interceptors.request.forEach(function(Ae){if(typeof Ae.runWhen=="function"&&Ae.runWhen(R)===!1)return;ve=ve&&Ae.synchronous;const ye=R.transitional||vr;ye&&ye.legacyInterceptorReqResOrdering?Q.unshift(Ae.fulfilled,Ae.rejected):Q.push(Ae.fulfilled,Ae.rejected)});const ue=[];this.interceptors.response.forEach(function(Ae){ue.push(Ae.fulfilled,Ae.rejected)});let ae,Te=0,He;if(!ve){const ce=[Fi.bind(this),void 0];for(ce.unshift(...Q),ce.push(...ue),He=ce.length,ae=Promise.resolve(R);Te<He;)ae=ae.then(ce[Te++],ce[Te++]);return ae}He=Q.length;let ft=R;for(;Te<He;){const ce=Q[Te++],Ae=Q[Te++];try{ft=ce(ft)}catch(ye){Ae.call(this,ye);break}}try{ae=Fi.call(this,ft)}catch(ce){return Promise.reject(ce)}for(Te=0,He=ue.length;Te<He;)ae=ae.then(ue[Te++],ue[Te++]);return ae}getUri(T){T=_t(this.defaults,T);const R=Si(T.baseURL,T.url,T.allowAbsoluteUrls);return Nn(R,T.params,T.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(T){on.prototype[T]=function(R,I){return this.request(_t(I||{},{method:T,url:R,data:(I||{}).data}))}}),G.forEach(["post","put","patch"],function(T){function R(I){return function(z,K,Q){return this.request(_t(Q||{},{method:T,headers:I?{"Content-Type":"multipart/form-data"}:{},url:z,data:K}))}}on.prototype[T]=R(),on.prototype[T+"Form"]=R(!0)});var jn=on;class Ft{constructor(T){if(typeof T!="function")throw new TypeError("executor must be a function.");let R;this.promise=new Promise(function(z){R=z});const I=this;this.promise.then(P=>{if(!I._listeners)return;let z=I._listeners.length;for(;z-- >0;)I._listeners[z](P);I._listeners=null}),this.promise.then=P=>{let z;const K=new Promise(Q=>{I.subscribe(Q),z=Q}).then(P);return K.cancel=function(){I.unsubscribe(z)},K},T(function(z,K,Q){I.reason||(I.reason=new bn(z,K,Q),R(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(T){if(this.reason){T(this.reason);return}this._listeners?this._listeners.push(T):this._listeners=[T]}unsubscribe(T){if(!this._listeners)return;const R=this._listeners.indexOf(T);R!==-1&&this._listeners.splice(R,1)}toAbortSignal(){const T=new AbortController,R=I=>{T.abort(I)};return this.subscribe(R),T.signal.unsubscribe=()=>this.unsubscribe(R),T.signal}static source(){let T;return{token:new Ft(function(P){T=P}),cancel:T}}}var Zn=Ft;function ks(E){return function(R){return E.apply(null,R)}}function Vi(E){return G.isObject(E)&&E.isAxiosError===!0}const Wi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wi).forEach(([E,T])=>{Wi[T]=E});var Ca=Wi;function Ji(E){const T=new jn(E),R=r(jn.prototype.request,T);return G.extend(R,jn.prototype,T,{allOwnKeys:!0}),G.extend(R,T,null,{allOwnKeys:!0}),R.create=function(P){return Ji(_t(E,P))},R}const Ve=Ji(tn);return Ve.Axios=jn,Ve.CanceledError=bn,Ve.CancelToken=Zn,Ve.isCancel=En,Ve.VERSION=Qn,Ve.toFormData=Jt,Ve.AxiosError=Ie,Ve.Cancel=Ve.CanceledError,Ve.all=function(T){return Promise.all(T)},Ve.spread=ks,Ve.isAxiosError=Vi,Ve.mergeConfig=_t,Ve.AxiosHeaders=Lt,Ve.formToJSON=E=>en(G.isHTMLForm(E)?new FormData(E):E),Ve.getAdapter=Xn.getAdapter,Ve.HttpStatusCode=Ca,Ve.default=Ve,Jp=Ve,Jp}const $k={},Bk=Object.freeze(Object.defineProperty({__proto__:null,default:$k},Symbol.toStringTag,{value:"Module"})),aa=hu(Bk);var lw;function zk(){if(lw)return Bn;lw=1;var r=Bn&&Bn.__createBinding||(Object.create?(function(d,f,p,h){h===void 0&&(h=p);var m=Object.getOwnPropertyDescriptor(f,p);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(d,h,m)}):(function(d,f,p,h){h===void 0&&(h=p),d[h]=f[p]})),s=Bn&&Bn.__setModuleDefault||(Object.create?(function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}):function(d,f){d.default=f}),a=Bn&&Bn.__importStar||(function(){var d=function(f){return d=Object.getOwnPropertyNames||function(p){var h=[];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[h.length]=m);return h},d(f)};return function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var h=d(f),m=0;m<h.length;m++)h[m]!=="default"&&r(p,f,h[m]);return s(p,f),p}})();Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.extractTokenFromEnvResponse=l,Bn.createEnvTokenClient=u,Bn.fetchEnvironmentTokenResponse=o;const i=pu();function l(d){const f=d,p=f?.data;return p?.data?.token||p?.token||f?.token}async function u(d,f,p){const h=(await Promise.resolve().then(()=>a(Hk()))).default,m=await Promise.resolve().then(()=>a(aa)),S=await Promise.resolve().then(()=>a(aa)),k=(0,i.resolveControllerUrl)(d),A=k.startsWith("https://"),x={family:4,timeout:f},O=new AbortController,C=setTimeout(()=>O.abort(),f);return{tempAxios:h.create({baseURL:k,timeout:f,signal:O.signal,httpAgent:A?void 0:new m.Agent(x),httpsAgent:A?new S.Agent(x):void 0,headers:{"Content-Type":"application/json","x-client-id":p,"x-client-secret":d.clientSecret}}),timeoutId:C,controller:O}}async function o(d,f,p,h,m){const S=new Promise((k,A)=>setTimeout(()=>A(new Error(`Request timeout after ${m}ms`)),m));try{const k=await Promise.race([d.post(h),S]);return clearTimeout(f),k}catch(k){throw clearTimeout(f),p.abort(),k}}return Bn}var Oi={};const cd={createHash:()=>({update:()=>({digest:()=>""})}),randomBytes:()=>({toString:()=>""})};typeof Be<"u"&&Be.exports&&(Be.exports=cd,Be.exports.default=cd);const Kk=Object.freeze(Object.defineProperty({__proto__:null,crypto:cd,default:cd},Symbol.toStringTag,{value:"Module"})),ho=hu(Kk);var ms={},Uf={exports:{}};const oa=hu(SN);var cw;function mu(){return cw||(cw=1,(function(r,s){var a=oa,i=a.Buffer;function l(o,d){for(var f in o)d[f]=o[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=a:(l(a,s),s.Buffer=u);function u(o,d,f){return i(o,d,f)}u.prototype=Object.create(i.prototype),l(i,u),u.from=function(o,d,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,d,f)},u.alloc=function(o,d,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var p=i(o);return d!==void 0?typeof f=="string"?p.fill(d,f):p.fill(d):p.fill(0),p},u.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},u.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}})(Uf,Uf.exports)),Uf.exports}class ua{static from(s){return new ua}constructor(){}pipe(){return{}}on(){return this}once(){return Promise.resolve({})}read(){return null}push(){return!0}destroy(){}emit(){return!1}removeListener(){return this}removeAllListeners(){return this}}class vd{write(){return!0}end(){return this}on(){return this}once(){return Promise.resolve({})}destroy(){}}class Ed extends ua{_transform(){}}class hv extends ua{write(){return!0}end(){return this}}class pv extends Ed{}const co={Readable:ua,Writable:vd,Transform:Ed,Duplex:hv,PassThrough:pv};typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=co,Be.exports.default=co,Be.exports.stream=co,Be.exports.Readable=ua,Be.exports.Writable=vd,Be.exports.Transform=Ed,Be.exports.Duplex=hv,Be.exports.PassThrough=pv);typeof ht<"u"&&(ht.default=co,ht.stream=co,ht.Readable=ua,ht.Writable=vd,ht.Transform=Ed,ht.Duplex=hv,ht.PassThrough=pv);const fl=Object.freeze(Object.defineProperty({__proto__:null,Readable:ua,Writable:vd,default:co,stream:co},Symbol.toStringTag,{value:"Module"}));function bd(r,s){if(!s)return;let a=s.prototype;if(!a)try{Object.isExtensible&&Object.isExtensible(s)?(s.prototype={},a=s.prototype):a=Object.prototype}catch{a=Object.prototype}(typeof a!="object"||a===null)&&(a=Object.prototype),r.super_=s;try{r.prototype=Object.create(a,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}catch{try{if(r.prototype=Object.create(Object.prototype),r.prototype.constructor=r,a&&typeof a=="object"&&a!==Object.prototype){for(const l in a)if(a.hasOwnProperty(l))try{r.prototype[l]=a[l]}catch{}}}catch{r.prototype||(r.prototype={}),r.prototype.constructor||(r.prototype.constructor=r)}}}function Sd(r){try{return JSON.stringify(r,null,2)}catch{return String(r)}}function wd(r){return function(...s){return new Promise((a,i)=>{r(...s,(l,u)=>{l?i(l):a(u)})})}}function Td(r,s){let a=!1;return function(...i){return a||(console.warn("DeprecationWarning:",s),a=!0),r.apply(this,i)}}const uo={inherits:bd,inspect:Sd,promisify:wd,deprecate:Td};typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=uo,Be.exports.default=uo,Be.exports.util=uo,Be.exports.inherits=bd,Be.exports.inspect=Sd,Be.exports.promisify=wd,Be.exports.deprecate=Td);typeof ht<"u"&&(ht.default=uo,ht.util=uo,ht.inherits=bd,ht.inspect=Sd,ht.promisify=wd,ht.deprecate=Td);const fa=Object.freeze(Object.defineProperty({__proto__:null,default:uo,deprecate:Td,inherits:bd,inspect:Sd,promisify:wd,util:uo},Symbol.toStringTag,{value:"Module"}));var Yp,uw;function IR(){if(uw)return Yp;uw=1;var r=mu().Buffer,s=fl,a=fa;function i(l){if(this.buffer=null,this.writable=!0,this.readable=!0,!l)return this.buffer=r.alloc(0),this;if(typeof l.pipe=="function")return this.buffer=r.alloc(0),l.pipe(this),this;if(l.length||typeof l=="object")return this.buffer=l,this.writable=!1,process.nextTick(function(){this.emit("end",l),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof l+")")}return a.inherits(i,s),i.prototype.write=function(u){this.buffer=r.concat([this.buffer,r.from(u)]),this.emit("data",u)},i.prototype.end=function(u){u&&this.write(u),this.emit("end",u),this.emit("close"),this.writable=!1,this.readable=!1},Yp=i,Yp}var Xp,fw;function Fk(){if(fw)return Xp;fw=1;function r(i){var l=(i/8|0)+(i%8===0?0:1);return l}var s={ES256:r(256),ES384:r(384),ES512:r(521)};function a(i){var l=s[i];if(l)return l;throw new Error('Unknown algorithm "'+i+'"')}return Xp=a,Xp}var Qp,dw;function Gk(){if(dw)return Qp;dw=1;var r=mu().Buffer,s=Fk(),a=128,i=0,l=32,u=16,o=2,d=u|l|i<<6,f=o|i<<6;function p(A){return A.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(A){if(r.isBuffer(A))return A;if(typeof A=="string")return r.from(A,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function m(A,x){A=h(A);var O=s(x),C=O+1,w=A.length,b=0;if(A[b++]!==d)throw new Error('Could not find expected "seq"');var _=A[b++];if(_===(a|1)&&(_=A[b++]),w-b<_)throw new Error('"seq" specified length of "'+_+'", only "'+(w-b)+'" remaining');if(A[b++]!==f)throw new Error('Could not find expected "int" for "r"');var D=A[b++];if(w-b-2<D)throw new Error('"r" specified length of "'+D+'", only "'+(w-b-2)+'" available');if(C<D)throw new Error('"r" specified length of "'+D+'", max of "'+C+'" is acceptable');var L=b;if(b+=D,A[b++]!==f)throw new Error('Could not find expected "int" for "s"');var U=A[b++];if(w-b!==U)throw new Error('"s" specified length of "'+U+'", expected "'+(w-b)+'"');if(C<U)throw new Error('"s" specified length of "'+U+'", max of "'+C+'" is acceptable');var N=b;if(b+=U,b!==w)throw new Error('Expected to consume entire buffer, but "'+(w-b)+'" bytes remain');var F=O-D,Y=O-U,se=r.allocUnsafe(F+D+Y+U);for(b=0;b<F;++b)se[b]=0;A.copy(se,b,L+Math.max(-F,0),L+D),b=O;for(var ge=b;b<ge+Y;++b)se[b]=0;return A.copy(se,b,N+Math.max(-Y,0),N+U),se=se.toString("base64"),se=p(se),se}function S(A,x,O){for(var C=0;x+C<O&&A[x+C]===0;)++C;var w=A[x+C]>=a;return w&&--C,C}function k(A,x){A=h(A);var O=s(x),C=A.length;if(C!==O*2)throw new TypeError('"'+x+'" signatures must be "'+O*2+'" bytes, saw "'+C+'"');var w=S(A,0,O),b=S(A,O,A.length),_=O-w,D=O-b,L=2+_+1+1+D,U=L<a,N=r.allocUnsafe((U?2:3)+L),F=0;return N[F++]=d,U?N[F++]=L:(N[F++]=a|1,N[F++]=L&255),N[F++]=f,N[F++]=_,w<0?(N[F++]=0,F+=A.copy(N,F,0,O)):F+=A.copy(N,F,w,O),N[F++]=f,N[F++]=D,b<0?(N[F++]=0,A.copy(N,F,O)):A.copy(N,F,O+b),N}return Qp={derToJose:m,joseToDer:k},Qp}var Zp,hw;function Vk(){if(hw)return Zp;hw=1;var r=oa.Buffer,s=oa.SlowBuffer;Zp=a;function a(u,o){if(!r.isBuffer(u)||!r.isBuffer(o)||u.length!==o.length)return!1;for(var d=0,f=0;f<u.length;f++)d|=u[f]^o[f];return d===0}a.install=function(){r.prototype.equal=s.prototype.equal=function(o){return a(this,o)}};var i=r.prototype.equal,l=s.prototype.equal;return a.restore=function(){r.prototype.equal=i,s.prototype.equal=l},Zp}var em,pw;function jR(){if(pw)return em;pw=1;var r=mu().Buffer,s=ho,a=Gk(),i=fa,l=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,u="secret must be a string or buffer",o="key must be a string or a buffer",d="key must be a string, a buffer or an object",f=typeof s.createPublicKey=="function";f&&(o+=" or a KeyObject",u+="or a KeyObject");function p(X){if(!r.isBuffer(X)&&typeof X!="string"&&(!f||typeof X!="object"||typeof X.type!="string"||typeof X.asymmetricKeyType!="string"||typeof X.export!="function"))throw A(o)}function h(X){if(!r.isBuffer(X)&&typeof X!="string"&&typeof X!="object")throw A(d)}function m(X){if(!r.isBuffer(X)){if(typeof X=="string")return X;if(!f||typeof X!="object"||X.type!=="secret"||typeof X.export!="function")throw A(u)}}function S(X){return X.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(X){X=X.toString();var J=4-X.length%4;if(J!==4)for(var q=0;q<J;++q)X+="=";return X.replace(/\-/g,"+").replace(/_/g,"/")}function A(X){var J=[].slice.call(arguments,1),q=i.format.bind(i,X).apply(null,J);return new TypeError(q)}function x(X){return r.isBuffer(X)||typeof X=="string"}function O(X){return x(X)||(X=JSON.stringify(X)),X}function C(X){return function(q,M){m(M),q=O(q);var H=s.createHmac("sha"+X,M),$=(H.update(q),H.digest("base64"));return S($)}}var w,b="timingSafeEqual"in s?function(J,q){return J.byteLength!==q.byteLength?!1:s.timingSafeEqual(J,q)}:function(J,q){return w||(w=Vk()),w(J,q)};function _(X){return function(q,M,H){var $=C(X)(q,H);return b(r.from(M),r.from($))}}function D(X){return function(q,M){h(M),q=O(q);var H=s.createSign("RSA-SHA"+X),$=(H.update(q),H.sign(M,"base64"));return S($)}}function L(X){return function(q,M,H){p(H),q=O(q),M=k(M);var $=s.createVerify("RSA-SHA"+X);return $.update(q),$.verify(H,M,"base64")}}function U(X){return function(q,M){h(M),q=O(q);var H=s.createSign("RSA-SHA"+X),$=(H.update(q),H.sign({key:M,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return S($)}}function N(X){return function(q,M,H){p(H),q=O(q),M=k(M);var $=s.createVerify("RSA-SHA"+X);return $.update(q),$.verify({key:H,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},M,"base64")}}function F(X){var J=D(X);return function(){var M=J.apply(null,arguments);return M=a.derToJose(M,"ES"+X),M}}function Y(X){var J=L(X);return function(M,H,$){H=a.joseToDer(H,"ES"+X).toString("base64");var Z=J(M,H,$);return Z}}function se(){return function(){return""}}function ge(){return function(J,q){return q===""}}return em=function(J){var q={hs:C,rs:D,ps:U,es:F,none:se},M={hs:_,rs:L,ps:N,es:Y,none:ge},H=J.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!H)throw A(l,J);var $=(H[1]||H[3]).toLowerCase(),Z=H[2];return{sign:q[$](Z),verify:M[$](Z)}},em}var tm,mw;function DR(){if(mw)return tm;mw=1;var r=oa.Buffer;return tm=function(a){return typeof a=="string"?a:typeof a=="number"||r.isBuffer(a)?a.toString():JSON.stringify(a)},tm}var rm,gw;function Wk(){if(gw)return rm;gw=1;var r=mu().Buffer,s=IR(),a=jR(),i=fl,l=DR(),u=fa;function o(h,m){return r.from(h,m).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(h,m,S){S=S||"utf8";var k=o(l(h),"binary"),A=o(l(m),S);return u.format("%s.%s",k,A)}function f(h){var m=h.header,S=h.payload,k=h.secret||h.privateKey,A=h.encoding,x=a(m.alg),O=d(m,S,A),C=x.sign(O,k);return u.format("%s.%s",O,C)}function p(h){var m=h.secret;if(m=m??h.privateKey,m=m??h.key,/^hs/i.test(h.header.alg)===!0&&m==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var S=new s(m);this.readable=!0,this.header=h.header,this.encoding=h.encoding,this.secret=this.privateKey=this.key=S,this.payload=new s(h.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return u.inherits(p,i),p.prototype.sign=function(){try{var m=f({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",m),this.emit("data",m),this.emit("end"),this.readable=!1,m}catch(S){this.readable=!1,this.emit("error",S),this.emit("close")}},p.sign=f,rm=p,rm}var nm,yw;function Jk(){if(yw)return nm;yw=1;var r=mu().Buffer,s=IR(),a=jR(),i=fl,l=DR(),u=fa,o=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function d(C){return Object.prototype.toString.call(C)==="[object Object]"}function f(C){if(d(C))return C;try{return JSON.parse(C)}catch{return}}function p(C){var w=C.split(".",1)[0];return f(r.from(w,"base64").toString("binary"))}function h(C){return C.split(".",2).join(".")}function m(C){return C.split(".")[2]}function S(C,w){w=w||"utf8";var b=C.split(".")[1];return r.from(b,"base64").toString(w)}function k(C){return o.test(C)&&!!p(C)}function A(C,w,b){if(!w){var _=new Error("Missing algorithm parameter for jws.verify");throw _.code="MISSING_ALGORITHM",_}C=l(C);var D=m(C),L=h(C),U=a(w);return U.verify(L,D,b)}function x(C,w){if(w=w||{},C=l(C),!k(C))return null;var b=p(C);if(!b)return null;var _=S(C);return(b.typ==="JWT"||w.json)&&(_=JSON.parse(_,w.encoding)),{header:b,payload:_,signature:m(C)}}function O(C){C=C||{};var w=C.secret;if(w=w??C.publicKey,w=w??C.key,/^hs/i.test(C.algorithm)===!0&&w==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var b=new s(w);this.readable=!0,this.algorithm=C.algorithm,this.encoding=C.encoding,this.secret=this.publicKey=this.key=b,this.signature=new s(C.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return u.inherits(O,i),O.prototype.verify=function(){try{var w=A(this.signature.buffer,this.algorithm,this.key.buffer),b=x(this.signature.buffer,this.encoding);return this.emit("done",w,b),this.emit("data",w),this.emit("end"),this.readable=!1,w}catch(_){this.readable=!1,this.emit("error",_),this.emit("close")}},O.decode=x,O.isValid=k,O.verify=A,nm=O,nm}var vw;function mv(){if(vw)return ms;vw=1;var r=Wk(),s=Jk(),a=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return ms.ALGORITHMS=a,ms.sign=r.sign,ms.verify=s.verify,ms.decode=s.decode,ms.isValid=s.isValid,ms.createSign=function(l){return new r(l)},ms.createVerify=function(l){return new s(l)},ms}var im,Ew;function LR(){if(Ew)return im;Ew=1;var r=mv();return im=function(s,a){a=a||{};var i=r.decode(s,a);if(!i)return null;var l=i.payload;if(typeof l=="string")try{var u=JSON.parse(l);u!==null&&typeof u=="object"&&(l=u)}catch{}return a.complete===!0?{header:i.header,payload:l,signature:i.signature}:l},im}var sm,bw;function Cd(){if(bw)return sm;bw=1;var r=function(s,a){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,a&&(this.inner=a)};return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,sm=r,sm}var am,Sw;function PR(){if(Sw)return am;Sw=1;var r=Cd(),s=function(a,i){r.call(this,a),this.name="NotBeforeError",this.date=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,am=s,am}var om,ww;function UR(){if(ww)return om;ww=1;var r=Cd(),s=function(a,i){r.call(this,a),this.name="TokenExpiredError",this.expiredAt=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,om=s,om}var lm,Tw;function Yk(){if(Tw)return lm;Tw=1;var r=1e3,s=r*60,a=s*60,i=a*24,l=i*7,u=i*365.25;lm=function(h,m){m=m||{};var S=typeof h;if(S==="string"&&h.length>0)return o(h);if(S==="number"&&isFinite(h))return m.long?f(h):d(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(m){var S=parseFloat(m[1]),k=(m[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return S*u;case"weeks":case"week":case"w":return S*l;case"days":case"day":case"d":return S*i;case"hours":case"hour":case"hrs":case"hr":case"h":return S*a;case"minutes":case"minute":case"mins":case"min":case"m":return S*s;case"seconds":case"second":case"secs":case"sec":case"s":return S*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function d(h){var m=Math.abs(h);return m>=i?Math.round(h/i)+"d":m>=a?Math.round(h/a)+"h":m>=s?Math.round(h/s)+"m":m>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var m=Math.abs(h);return m>=i?p(h,m,i,"day"):m>=a?p(h,m,a,"hour"):m>=s?p(h,m,s,"minute"):m>=r?p(h,m,r,"second"):h+" ms"}function p(h,m,S,k){var A=m>=S*1.5;return Math.round(h/S)+" "+k+(A?"s":"")}return lm}var cm,Cw;function MR(){if(Cw)return cm;Cw=1;var r=Yk();return cm=function(s,a){var i=a||Math.floor(Date.now()/1e3);if(typeof s=="string"){var l=r(s);return typeof l>"u"?void 0:Math.floor(i+l/1e3)}else return typeof s=="number"?i+s:void 0},cm}var Mf={exports:{}},um,xw;function xd(){if(xw)return um;xw=1;const r="2.0.0",s=256,a=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,l=s-6;return um={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:a,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},um}var fm,Rw;function Rd(){if(Rw)return fm;Rw=1;var r={};return fm=typeof process=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{},fm}var Aw;function gu(){return Aw||(Aw=1,(function(r,s){const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:l}=xd(),u=Rd();s=r.exports={};const o=s.re=[],d=s.safeRe=[],f=s.src=[],p=s.safeSrc=[],h=s.t={};let m=0;const S="[a-zA-Z0-9-]",k=[["\\s",1],["\\d",l],[S,i]],A=O=>{for(const[C,w]of k)O=O.split(`${C}*`).join(`${C}{0,${w}}`).split(`${C}+`).join(`${C}{1,${w}}`);return O},x=(O,C,w)=>{const b=A(C),_=m++;u(O,_,C),h[O]=_,f[_]=C,p[_]=b,o[_]=new RegExp(C,w?"g":void 0),d[_]=new RegExp(b,w?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${S}*`),x("MAINVERSION",`(${f[h.NUMERICIDENTIFIER]})\\.(${f[h.NUMERICIDENTIFIER]})\\.(${f[h.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${f[h.NUMERICIDENTIFIERLOOSE]})\\.(${f[h.NUMERICIDENTIFIERLOOSE]})\\.(${f[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${f[h.NONNUMERICIDENTIFIER]}|${f[h.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${f[h.NONNUMERICIDENTIFIER]}|${f[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${f[h.PRERELEASEIDENTIFIER]}(?:\\.${f[h.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${f[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[h.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${S}+`),x("BUILD",`(?:\\+(${f[h.BUILDIDENTIFIER]}(?:\\.${f[h.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${f[h.MAINVERSION]}${f[h.PRERELEASE]}?${f[h.BUILD]}?`),x("FULL",`^${f[h.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${f[h.MAINVERSIONLOOSE]}${f[h.PRERELEASELOOSE]}?${f[h.BUILD]}?`),x("LOOSE",`^${f[h.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${f[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${f[h.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${f[h.XRANGEIDENTIFIER]})(?:\\.(${f[h.XRANGEIDENTIFIER]})(?:\\.(${f[h.XRANGEIDENTIFIER]})(?:${f[h.PRERELEASE]})?${f[h.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${f[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[h.XRANGEIDENTIFIERLOOSE]})(?:${f[h.PRERELEASELOOSE]})?${f[h.BUILD]}?)?)?`),x("XRANGE",`^${f[h.GTLT]}\\s*${f[h.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${f[h.GTLT]}\\s*${f[h.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?`),x("COERCE",`${f[h.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",f[h.COERCEPLAIN]+`(?:${f[h.PRERELEASE]})?(?:${f[h.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",f[h.COERCE],!0),x("COERCERTLFULL",f[h.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${f[h.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",x("TILDE",`^${f[h.LONETILDE]}${f[h.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${f[h.LONETILDE]}${f[h.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${f[h.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",x("CARET",`^${f[h.LONECARET]}${f[h.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${f[h.LONECARET]}${f[h.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${f[h.GTLT]}\\s*(${f[h.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${f[h.GTLT]}\\s*(${f[h.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${f[h.GTLT]}\\s*(${f[h.LOOSEPLAIN]}|${f[h.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${f[h.XRANGEPLAIN]})\\s+-\\s+(${f[h.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${f[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[h.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Mf,Mf.exports)),Mf.exports}var dm,_w;function gv(){if(_w)return dm;_w=1;const r=Object.freeze({loose:!0}),s=Object.freeze({});return dm=i=>i?typeof i!="object"?r:i:s,dm}var hm,Ow;function qR(){if(Ow)return hm;Ow=1;const r=/^[0-9]+$/,s=(i,l)=>{if(typeof i=="number"&&typeof l=="number")return i===l?0:i<l?-1:1;const u=r.test(i),o=r.test(l);return u&&o&&(i=+i,l=+l),i===l?0:u&&!o?-1:o&&!u?1:i<l?-1:1};return hm={compareIdentifiers:s,rcompareIdentifiers:(i,l)=>s(l,i)},hm}var pm,Nw;function Wr(){if(Nw)return pm;Nw=1;const r=Rd(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:a}=xd(),{safeRe:i,t:l}=gu(),u=gv(),{compareIdentifiers:o}=qR();class d{constructor(p,h){if(h=u(h),p instanceof d){if(p.loose===!!h.loose&&p.includePrerelease===!!h.includePrerelease)return p;p=p.version}else if(typeof p!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof p}".`);if(p.length>s)throw new TypeError(`version is longer than ${s} characters`);r("SemVer",p,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const m=p.trim().match(h.loose?i[l.LOOSE]:i[l.FULL]);if(!m)throw new TypeError(`Invalid Version: ${p}`);if(this.raw=p,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(S=>{if(/^[0-9]+$/.test(S)){const k=+S;if(k>=0&&k<a)return k}return S}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(p){if(r("SemVer.compare",this.version,this.options,p),!(p instanceof d)){if(typeof p=="string"&&p===this.version)return 0;p=new d(p,this.options)}return p.version===this.version?0:this.compareMain(p)||this.comparePre(p)}compareMain(p){return p instanceof d||(p=new d(p,this.options)),this.major<p.major?-1:this.major>p.major?1:this.minor<p.minor?-1:this.minor>p.minor?1:this.patch<p.patch?-1:this.patch>p.patch?1:0}comparePre(p){if(p instanceof d||(p=new d(p,this.options)),this.prerelease.length&&!p.prerelease.length)return-1;if(!this.prerelease.length&&p.prerelease.length)return 1;if(!this.prerelease.length&&!p.prerelease.length)return 0;let h=0;do{const m=this.prerelease[h],S=p.prerelease[h];if(r("prerelease compare",h,m,S),m===void 0&&S===void 0)return 0;if(S===void 0)return 1;if(m===void 0)return-1;if(m===S)continue;return o(m,S)}while(++h)}compareBuild(p){p instanceof d||(p=new d(p,this.options));let h=0;do{const m=this.build[h],S=p.build[h];if(r("build compare",h,m,S),m===void 0&&S===void 0)return 0;if(S===void 0)return 1;if(m===void 0)return-1;if(m===S)continue;return o(m,S)}while(++h)}inc(p,h,m){if(p.startsWith("pre")){if(!h&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const S=`-${h}`.match(this.options.loose?i[l.PRERELEASELOOSE]:i[l.PRERELEASE]);if(!S||S[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(p){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,m),this.inc("pre",h,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,m),this.inc("pre",h,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const S=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[S];else{let k=this.prerelease.length;for(;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);if(k===-1){if(h===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(S)}}if(h){let k=[h,S];m===!1&&(k=[h]),o(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=k):this.prerelease=k}break}default:throw new Error(`invalid increment argument: ${p}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return pm=d,pm}var mm,kw;function dl(){if(kw)return mm;kw=1;const r=Wr();return mm=(a,i,l=!1)=>{if(a instanceof r)return a;try{return new r(a,i)}catch(u){if(!l)return null;throw u}},mm}var gm,Iw;function Xk(){if(Iw)return gm;Iw=1;const r=dl();return gm=(a,i)=>{const l=r(a,i);return l?l.version:null},gm}var ym,jw;function Qk(){if(jw)return ym;jw=1;const r=dl();return ym=(a,i)=>{const l=r(a.trim().replace(/^[=v]+/,""),i);return l?l.version:null},ym}var vm,Dw;function Zk(){if(Dw)return vm;Dw=1;const r=Wr();return vm=(a,i,l,u,o)=>{typeof l=="string"&&(o=u,u=l,l=void 0);try{return new r(a instanceof r?a.version:a,l).inc(i,u,o).version}catch{return null}},vm}var Em,Lw;function eI(){if(Lw)return Em;Lw=1;const r=dl();return Em=(a,i)=>{const l=r(a,null,!0),u=r(i,null,!0),o=l.compare(u);if(o===0)return null;const d=o>0,f=d?l:u,p=d?u:l,h=!!f.prerelease.length;if(!!p.prerelease.length&&!h){if(!p.patch&&!p.minor)return"major";if(p.compareMain(f)===0)return p.minor&&!p.patch?"minor":"patch"}const S=h?"pre":"";return l.major!==u.major?S+"major":l.minor!==u.minor?S+"minor":l.patch!==u.patch?S+"patch":"prerelease"},Em}var bm,Pw;function tI(){if(Pw)return bm;Pw=1;const r=Wr();return bm=(a,i)=>new r(a,i).major,bm}var Sm,Uw;function rI(){if(Uw)return Sm;Uw=1;const r=Wr();return Sm=(a,i)=>new r(a,i).minor,Sm}var wm,Mw;function nI(){if(Mw)return wm;Mw=1;const r=Wr();return wm=(a,i)=>new r(a,i).patch,wm}var Tm,qw;function iI(){if(qw)return Tm;qw=1;const r=dl();return Tm=(a,i)=>{const l=r(a,i);return l&&l.prerelease.length?l.prerelease:null},Tm}var Cm,Hw;function fi(){if(Hw)return Cm;Hw=1;const r=Wr();return Cm=(a,i,l)=>new r(a,l).compare(new r(i,l)),Cm}var xm,$w;function sI(){if($w)return xm;$w=1;const r=fi();return xm=(a,i,l)=>r(i,a,l),xm}var Rm,Bw;function aI(){if(Bw)return Rm;Bw=1;const r=fi();return Rm=(a,i)=>r(a,i,!0),Rm}var Am,zw;function yv(){if(zw)return Am;zw=1;const r=Wr();return Am=(a,i,l)=>{const u=new r(a,l),o=new r(i,l);return u.compare(o)||u.compareBuild(o)},Am}var _m,Kw;function oI(){if(Kw)return _m;Kw=1;const r=yv();return _m=(a,i)=>a.sort((l,u)=>r(l,u,i)),_m}var Om,Fw;function lI(){if(Fw)return Om;Fw=1;const r=yv();return Om=(a,i)=>a.sort((l,u)=>r(u,l,i)),Om}var Nm,Gw;function Ad(){if(Gw)return Nm;Gw=1;const r=fi();return Nm=(a,i,l)=>r(a,i,l)>0,Nm}var km,Vw;function vv(){if(Vw)return km;Vw=1;const r=fi();return km=(a,i,l)=>r(a,i,l)<0,km}var Im,Ww;function HR(){if(Ww)return Im;Ww=1;const r=fi();return Im=(a,i,l)=>r(a,i,l)===0,Im}var jm,Jw;function $R(){if(Jw)return jm;Jw=1;const r=fi();return jm=(a,i,l)=>r(a,i,l)!==0,jm}var Dm,Yw;function Ev(){if(Yw)return Dm;Yw=1;const r=fi();return Dm=(a,i,l)=>r(a,i,l)>=0,Dm}var Lm,Xw;function bv(){if(Xw)return Lm;Xw=1;const r=fi();return Lm=(a,i,l)=>r(a,i,l)<=0,Lm}var Pm,Qw;function BR(){if(Qw)return Pm;Qw=1;const r=HR(),s=$R(),a=Ad(),i=Ev(),l=vv(),u=bv();return Pm=(d,f,p,h)=>{switch(f){case"===":return typeof d=="object"&&(d=d.version),typeof p=="object"&&(p=p.version),d===p;case"!==":return typeof d=="object"&&(d=d.version),typeof p=="object"&&(p=p.version),d!==p;case"":case"=":case"==":return r(d,p,h);case"!=":return s(d,p,h);case">":return a(d,p,h);case">=":return i(d,p,h);case"<":return l(d,p,h);case"<=":return u(d,p,h);default:throw new TypeError(`Invalid operator: ${f}`)}},Pm}var Um,Zw;function cI(){if(Zw)return Um;Zw=1;const r=Wr(),s=dl(),{safeRe:a,t:i}=gu();return Um=(u,o)=>{if(u instanceof r)return u;if(typeof u=="number"&&(u=String(u)),typeof u!="string")return null;o=o||{};let d=null;if(!o.rtl)d=u.match(o.includePrerelease?a[i.COERCEFULL]:a[i.COERCE]);else{const k=o.includePrerelease?a[i.COERCERTLFULL]:a[i.COERCERTL];let A;for(;(A=k.exec(u))&&(!d||d.index+d[0].length!==u.length);)(!d||A.index+A[0].length!==d.index+d[0].length)&&(d=A),k.lastIndex=A.index+A[1].length+A[2].length;k.lastIndex=-1}if(d===null)return null;const f=d[2],p=d[3]||"0",h=d[4]||"0",m=o.includePrerelease&&d[5]?`-${d[5]}`:"",S=o.includePrerelease&&d[6]?`+${d[6]}`:"";return s(`${f}.${p}.${h}${m}${S}`,o)},Um}var Mm,eT;function uI(){if(eT)return Mm;eT=1;class r{constructor(){this.max=1e3,this.map=new Map}get(a){const i=this.map.get(a);if(i!==void 0)return this.map.delete(a),this.map.set(a,i),i}delete(a){return this.map.delete(a)}set(a,i){if(!this.delete(a)&&i!==void 0){if(this.map.size>=this.max){const u=this.map.keys().next().value;this.delete(u)}this.map.set(a,i)}return this}}return Mm=r,Mm}var qm,tT;function di(){if(tT)return qm;tT=1;const r=/\s+/g;class s{constructor(q,M){if(M=l(M),q instanceof s)return q.loose===!!M.loose&&q.includePrerelease===!!M.includePrerelease?q:new s(q.raw,M);if(q instanceof u)return this.raw=q.value,this.set=[[q]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=q.trim().replace(r," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter($=>!x($[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&O($[0])){this.set=[$];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let q=0;q<this.set.length;q++){q>0&&(this.formatted+="||");const M=this.set[q];for(let H=0;H<M.length;H++)H>0&&(this.formatted+=" "),this.formatted+=M[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(q){const H=((this.options.includePrerelease&&k)|(this.options.loose&&A))+":"+q,$=i.get(H);if($)return $;const Z=this.options.loose,le=Z?f[p.HYPHENRANGELOOSE]:f[p.HYPHENRANGE];q=q.replace(le,ge(this.options.includePrerelease)),o("hyphen replace",q),q=q.replace(f[p.COMPARATORTRIM],h),o("comparator trim",q),q=q.replace(f[p.TILDETRIM],m),o("tilde trim",q),q=q.replace(f[p.CARETTRIM],S),o("caret trim",q);let V=q.split(" ").map(be=>w(be,this.options)).join(" ").split(/\s+/).map(be=>se(be,this.options));Z&&(V=V.filter(be=>(o("loose invalid filter",be,this.options),!!be.match(f[p.COMPARATORLOOSE])))),o("range list",V);const re=new Map,ie=V.map(be=>new u(be,this.options));for(const be of ie){if(x(be))return[be];re.set(be.value,be)}re.size>1&&re.has("")&&re.delete("");const pe=[...re.values()];return i.set(H,pe),pe}intersects(q,M){if(!(q instanceof s))throw new TypeError("a Range is required");return this.set.some(H=>C(H,M)&&q.set.some($=>C($,M)&&H.every(Z=>$.every(le=>Z.intersects(le,M)))))}test(q){if(!q)return!1;if(typeof q=="string")try{q=new d(q,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(X(this.set[M],q,this.options))return!0;return!1}}qm=s;const a=uI(),i=new a,l=gv(),u=_d(),o=Rd(),d=Wr(),{safeRe:f,t:p,comparatorTrimReplace:h,tildeTrimReplace:m,caretTrimReplace:S}=gu(),{FLAG_INCLUDE_PRERELEASE:k,FLAG_LOOSE:A}=xd(),x=J=>J.value==="<0.0.0-0",O=J=>J.value==="",C=(J,q)=>{let M=!0;const H=J.slice();let $=H.pop();for(;M&&H.length;)M=H.every(Z=>$.intersects(Z,q)),$=H.pop();return M},w=(J,q)=>(J=J.replace(f[p.BUILD],""),o("comp",J,q),J=L(J,q),o("caret",J),J=_(J,q),o("tildes",J),J=N(J,q),o("xrange",J),J=Y(J,q),o("stars",J),J),b=J=>!J||J.toLowerCase()==="x"||J==="*",_=(J,q)=>J.trim().split(/\s+/).map(M=>D(M,q)).join(" "),D=(J,q)=>{const M=q.loose?f[p.TILDELOOSE]:f[p.TILDE];return J.replace(M,(H,$,Z,le,V)=>{o("tilde",J,H,$,Z,le,V);let re;return b($)?re="":b(Z)?re=`>=${$}.0.0 <${+$+1}.0.0-0`:b(le)?re=`>=${$}.${Z}.0 <${$}.${+Z+1}.0-0`:V?(o("replaceTilde pr",V),re=`>=${$}.${Z}.${le}-${V} <${$}.${+Z+1}.0-0`):re=`>=${$}.${Z}.${le} <${$}.${+Z+1}.0-0`,o("tilde return",re),re})},L=(J,q)=>J.trim().split(/\s+/).map(M=>U(M,q)).join(" "),U=(J,q)=>{o("caret",J,q);const M=q.loose?f[p.CARETLOOSE]:f[p.CARET],H=q.includePrerelease?"-0":"";return J.replace(M,($,Z,le,V,re)=>{o("caret",J,$,Z,le,V,re);let ie;return b(Z)?ie="":b(le)?ie=`>=${Z}.0.0${H} <${+Z+1}.0.0-0`:b(V)?Z==="0"?ie=`>=${Z}.${le}.0${H} <${Z}.${+le+1}.0-0`:ie=`>=${Z}.${le}.0${H} <${+Z+1}.0.0-0`:re?(o("replaceCaret pr",re),Z==="0"?le==="0"?ie=`>=${Z}.${le}.${V}-${re} <${Z}.${le}.${+V+1}-0`:ie=`>=${Z}.${le}.${V}-${re} <${Z}.${+le+1}.0-0`:ie=`>=${Z}.${le}.${V}-${re} <${+Z+1}.0.0-0`):(o("no pr"),Z==="0"?le==="0"?ie=`>=${Z}.${le}.${V}${H} <${Z}.${le}.${+V+1}-0`:ie=`>=${Z}.${le}.${V}${H} <${Z}.${+le+1}.0-0`:ie=`>=${Z}.${le}.${V} <${+Z+1}.0.0-0`),o("caret return",ie),ie})},N=(J,q)=>(o("replaceXRanges",J,q),J.split(/\s+/).map(M=>F(M,q)).join(" ")),F=(J,q)=>{J=J.trim();const M=q.loose?f[p.XRANGELOOSE]:f[p.XRANGE];return J.replace(M,(H,$,Z,le,V,re)=>{o("xRange",J,H,$,Z,le,V,re);const ie=b(Z),pe=ie||b(le),be=pe||b(V),je=be;return $==="="&&je&&($=""),re=q.includePrerelease?"-0":"",ie?$===">"||$==="<"?H="<0.0.0-0":H="*":$&&je?(pe&&(le=0),V=0,$===">"?($=">=",pe?(Z=+Z+1,le=0,V=0):(le=+le+1,V=0)):$==="<="&&($="<",pe?Z=+Z+1:le=+le+1),$==="<"&&(re="-0"),H=`${$+Z}.${le}.${V}${re}`):pe?H=`>=${Z}.0.0${re} <${+Z+1}.0.0-0`:be&&(H=`>=${Z}.${le}.0${re} <${Z}.${+le+1}.0-0`),o("xRange return",H),H})},Y=(J,q)=>(o("replaceStars",J,q),J.trim().replace(f[p.STAR],"")),se=(J,q)=>(o("replaceGTE0",J,q),J.trim().replace(f[q.includePrerelease?p.GTE0PRE:p.GTE0],"")),ge=J=>(q,M,H,$,Z,le,V,re,ie,pe,be,je)=>(b(H)?M="":b($)?M=`>=${H}.0.0${J?"-0":""}`:b(Z)?M=`>=${H}.${$}.0${J?"-0":""}`:le?M=`>=${M}`:M=`>=${M}${J?"-0":""}`,b(ie)?re="":b(pe)?re=`<${+ie+1}.0.0-0`:b(be)?re=`<${ie}.${+pe+1}.0-0`:je?re=`<=${ie}.${pe}.${be}-${je}`:J?re=`<${ie}.${pe}.${+be+1}-0`:re=`<=${re}`,`${M} ${re}`.trim()),X=(J,q,M)=>{for(let H=0;H<J.length;H++)if(!J[H].test(q))return!1;if(q.prerelease.length&&!M.includePrerelease){for(let H=0;H<J.length;H++)if(o(J[H].semver),J[H].semver!==u.ANY&&J[H].semver.prerelease.length>0){const $=J[H].semver;if($.major===q.major&&$.minor===q.minor&&$.patch===q.patch)return!0}return!1}return!0};return qm}var Hm,rT;function _d(){if(rT)return Hm;rT=1;const r=Symbol("SemVer ANY");class s{static get ANY(){return r}constructor(h,m){if(m=a(m),h instanceof s){if(h.loose===!!m.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,m),this.options=m,this.loose=!!m.loose,this.parse(h),this.semver===r?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const m=this.options.loose?i[l.COMPARATORLOOSE]:i[l.COMPARATOR],S=h.match(m);if(!S)throw new TypeError(`Invalid comparator: ${h}`);this.operator=S[1]!==void 0?S[1]:"",this.operator==="="&&(this.operator=""),S[2]?this.semver=new d(S[2],this.options.loose):this.semver=r}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===r||h===r)return!0;if(typeof h=="string")try{h=new d(h,this.options)}catch{return!1}return u(h,this.operator,this.semver,this.options)}intersects(h,m){if(!(h instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(h.value,m).test(this.value):h.operator===""?h.value===""?!0:new f(this.value,m).test(h.semver):(m=a(m),m.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||u(this.semver,"<",h.semver,m)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||u(this.semver,">",h.semver,m)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}Hm=s;const a=gv(),{safeRe:i,t:l}=gu(),u=BR(),o=Rd(),d=Wr(),f=di();return Hm}var $m,nT;function Od(){if(nT)return $m;nT=1;const r=di();return $m=(a,i,l)=>{try{i=new r(i,l)}catch{return!1}return i.test(a)},$m}var Bm,iT;function fI(){if(iT)return Bm;iT=1;const r=di();return Bm=(a,i)=>new r(a,i).set.map(l=>l.map(u=>u.value).join(" ").trim().split(" ")),Bm}var zm,sT;function dI(){if(sT)return zm;sT=1;const r=Wr(),s=di();return zm=(i,l,u)=>{let o=null,d=null,f=null;try{f=new s(l,u)}catch{return null}return i.forEach(p=>{f.test(p)&&(!o||d.compare(p)===-1)&&(o=p,d=new r(o,u))}),o},zm}var Km,aT;function hI(){if(aT)return Km;aT=1;const r=Wr(),s=di();return Km=(i,l,u)=>{let o=null,d=null,f=null;try{f=new s(l,u)}catch{return null}return i.forEach(p=>{f.test(p)&&(!o||d.compare(p)===1)&&(o=p,d=new r(o,u))}),o},Km}var Fm,oT;function pI(){if(oT)return Fm;oT=1;const r=Wr(),s=di(),a=Ad();return Fm=(l,u)=>{l=new s(l,u);let o=new r("0.0.0");if(l.test(o)||(o=new r("0.0.0-0"),l.test(o)))return o;o=null;for(let d=0;d<l.set.length;++d){const f=l.set[d];let p=null;f.forEach(h=>{const m=new r(h.semver.version);switch(h.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!p||a(m,p))&&(p=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),p&&(!o||a(o,p))&&(o=p)}return o&&l.test(o)?o:null},Fm}var Gm,lT;function mI(){if(lT)return Gm;lT=1;const r=di();return Gm=(a,i)=>{try{return new r(a,i).range||"*"}catch{return null}},Gm}var Vm,cT;function Sv(){if(cT)return Vm;cT=1;const r=Wr(),s=_d(),{ANY:a}=s,i=di(),l=Od(),u=Ad(),o=vv(),d=bv(),f=Ev();return Vm=(h,m,S,k)=>{h=new r(h,k),m=new i(m,k);let A,x,O,C,w;switch(S){case">":A=u,x=d,O=o,C=">",w=">=";break;case"<":A=o,x=f,O=u,C="<",w="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(h,m,k))return!1;for(let b=0;b<m.set.length;++b){const _=m.set[b];let D=null,L=null;if(_.forEach(U=>{U.semver===a&&(U=new s(">=0.0.0")),D=D||U,L=L||U,A(U.semver,D.semver,k)?D=U:O(U.semver,L.semver,k)&&(L=U)}),D.operator===C||D.operator===w||(!L.operator||L.operator===C)&&x(h,L.semver))return!1;if(L.operator===w&&O(h,L.semver))return!1}return!0},Vm}var Wm,uT;function gI(){if(uT)return Wm;uT=1;const r=Sv();return Wm=(a,i,l)=>r(a,i,">",l),Wm}var Jm,fT;function yI(){if(fT)return Jm;fT=1;const r=Sv();return Jm=(a,i,l)=>r(a,i,"<",l),Jm}var Ym,dT;function vI(){if(dT)return Ym;dT=1;const r=di();return Ym=(a,i,l)=>(a=new r(a,l),i=new r(i,l),a.intersects(i,l)),Ym}var Xm,hT;function EI(){if(hT)return Xm;hT=1;const r=Od(),s=fi();return Xm=(a,i,l)=>{const u=[];let o=null,d=null;const f=a.sort((S,k)=>s(S,k,l));for(const S of f)r(S,i,l)?(d=S,o||(o=S)):(d&&u.push([o,d]),d=null,o=null);o&&u.push([o,null]);const p=[];for(const[S,k]of u)S===k?p.push(S):!k&&S===f[0]?p.push("*"):k?S===f[0]?p.push(`<=${k}`):p.push(`${S} - ${k}`):p.push(`>=${S}`);const h=p.join(" || "),m=typeof i.raw=="string"?i.raw:String(i);return h.length<m.length?h:i},Xm}var Qm,pT;function bI(){if(pT)return Qm;pT=1;const r=di(),s=_d(),{ANY:a}=s,i=Od(),l=fi(),u=(m,S,k={})=>{if(m===S)return!0;m=new r(m,k),S=new r(S,k);let A=!1;e:for(const x of m.set){for(const O of S.set){const C=f(x,O,k);if(A=A||C!==null,C)continue e}if(A)return!1}return!0},o=[new s(">=0.0.0-0")],d=[new s(">=0.0.0")],f=(m,S,k)=>{if(m===S)return!0;if(m.length===1&&m[0].semver===a){if(S.length===1&&S[0].semver===a)return!0;k.includePrerelease?m=o:m=d}if(S.length===1&&S[0].semver===a){if(k.includePrerelease)return!0;S=d}const A=new Set;let x,O;for(const N of m)N.operator===">"||N.operator===">="?x=p(x,N,k):N.operator==="<"||N.operator==="<="?O=h(O,N,k):A.add(N.semver);if(A.size>1)return null;let C;if(x&&O){if(C=l(x.semver,O.semver,k),C>0)return null;if(C===0&&(x.operator!==">="||O.operator!=="<="))return null}for(const N of A){if(x&&!i(N,String(x),k)||O&&!i(N,String(O),k))return null;for(const F of S)if(!i(N,String(F),k))return!1;return!0}let w,b,_,D,L=O&&!k.includePrerelease&&O.semver.prerelease.length?O.semver:!1,U=x&&!k.includePrerelease&&x.semver.prerelease.length?x.semver:!1;L&&L.prerelease.length===1&&O.operator==="<"&&L.prerelease[0]===0&&(L=!1);for(const N of S){if(D=D||N.operator===">"||N.operator===">=",_=_||N.operator==="<"||N.operator==="<=",x){if(U&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===U.major&&N.semver.minor===U.minor&&N.semver.patch===U.patch&&(U=!1),N.operator===">"||N.operator===">="){if(w=p(x,N,k),w===N&&w!==x)return!1}else if(x.operator===">="&&!i(x.semver,String(N),k))return!1}if(O){if(L&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===L.major&&N.semver.minor===L.minor&&N.semver.patch===L.patch&&(L=!1),N.operator==="<"||N.operator==="<="){if(b=h(O,N,k),b===N&&b!==O)return!1}else if(O.operator==="<="&&!i(O.semver,String(N),k))return!1}if(!N.operator&&(O||x)&&C!==0)return!1}return!(x&&_&&!O&&C!==0||O&&D&&!x&&C!==0||U||L)},p=(m,S,k)=>{if(!m)return S;const A=l(m.semver,S.semver,k);return A>0?m:A<0||S.operator===">"&&m.operator===">="?S:m},h=(m,S,k)=>{if(!m)return S;const A=l(m.semver,S.semver,k);return A<0?m:A>0||S.operator==="<"&&m.operator==="<="?S:m};return Qm=u,Qm}var Zm,mT;function wv(){if(mT)return Zm;mT=1;const r=gu(),s=xd(),a=Wr(),i=qR(),l=dl(),u=Xk(),o=Qk(),d=Zk(),f=eI(),p=tI(),h=rI(),m=nI(),S=iI(),k=fi(),A=sI(),x=aI(),O=yv(),C=oI(),w=lI(),b=Ad(),_=vv(),D=HR(),L=$R(),U=Ev(),N=bv(),F=BR(),Y=cI(),se=_d(),ge=di(),X=Od(),J=fI(),q=dI(),M=hI(),H=pI(),$=mI(),Z=Sv(),le=gI(),V=yI(),re=vI(),ie=EI(),pe=bI();return Zm={parse:l,valid:u,clean:o,inc:d,diff:f,major:p,minor:h,patch:m,prerelease:S,compare:k,rcompare:A,compareLoose:x,compareBuild:O,sort:C,rsort:w,gt:b,lt:_,eq:D,neq:L,gte:U,lte:N,cmp:F,coerce:Y,Comparator:se,Range:ge,satisfies:X,toComparators:J,maxSatisfying:q,minSatisfying:M,minVersion:H,validRange:$,outside:Z,gtr:le,ltr:V,intersects:re,simplifyRange:ie,subset:pe,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},Zm}var eg,gT;function SI(){return gT||(gT=1,eg=wv().satisfies(process.version,">=15.7.0")),eg}var tg,yT;function wI(){return yT||(yT=1,tg=wv().satisfies(process.version,">=16.9.0")),tg}var rg,vT;function zR(){if(vT)return rg;vT=1;const r=SI(),s=wI(),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},i={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return rg=function(l,u){if(!l||!u)return;const o=u.asymmetricKeyType;if(!o)return;const d=a[o];if(!d)throw new Error(`Unknown key type "${o}".`);if(!d.includes(l))throw new Error(`"alg" parameter for "${o}" key type must be one of: ${d.join(", ")}.`);if(r)switch(o){case"ec":const f=u.asymmetricKeyDetails.namedCurve,p=i[l];if(f!==p)throw new Error(`"alg" parameter "${l}" requires curve "${p}".`);break;case"rsa-pss":if(s){const h=parseInt(l.slice(-3),10),{hashAlgorithm:m,mgf1HashAlgorithm:S,saltLength:k}=u.asymmetricKeyDetails;if(m!==`sha${h}`||S!==m)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${l}.`);if(k!==void 0&&k>h>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${l}.`)}break}},rg}var ng,ET;function KR(){if(ET)return ng;ET=1;var r=wv();return ng=r.satisfies(process.version,"^6.12.0 || >=8.0.0"),ng}var ig,bT;function TI(){if(bT)return ig;bT=1;const r=Cd(),s=PR(),a=UR(),i=LR(),l=MR(),u=zR(),o=KR(),d=mv(),{KeyObject:f,createSecretKey:p,createPublicKey:h}=ho,m=["RS256","RS384","RS512"],S=["ES256","ES384","ES512"],k=["RS256","RS384","RS512"],A=["HS256","HS384","HS512"];return o&&(m.splice(m.length,0,"PS256","PS384","PS512"),k.splice(k.length,0,"PS256","PS384","PS512")),ig=function(x,O,C,w){typeof C=="function"&&!w&&(w=C,C={}),C||(C={}),C=Object.assign({},C);let b;if(w?b=w:b=function(F,Y){if(F)throw F;return Y},C.clockTimestamp&&typeof C.clockTimestamp!="number")return b(new r("clockTimestamp must be a number"));if(C.nonce!==void 0&&(typeof C.nonce!="string"||C.nonce.trim()===""))return b(new r("nonce must be a non-empty string"));if(C.allowInvalidAsymmetricKeyTypes!==void 0&&typeof C.allowInvalidAsymmetricKeyTypes!="boolean")return b(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));const _=C.clockTimestamp||Math.floor(Date.now()/1e3);if(!x)return b(new r("jwt must be provided"));if(typeof x!="string")return b(new r("jwt must be a string"));const D=x.split(".");if(D.length!==3)return b(new r("jwt malformed"));let L;try{L=i(x,{complete:!0})}catch(F){return b(F)}if(!L)return b(new r("invalid token"));const U=L.header;let N;if(typeof O=="function"){if(!w)return b(new r("verify must be called asynchronous if secret or public key is provided as a callback"));N=O}else N=function(F,Y){return Y(null,O)};return N(U,function(F,Y){if(F)return b(new r("error in secret or public key callback: "+F.message));const se=D[2].trim()!=="";if(!se&&Y)return b(new r("jwt signature is required"));if(se&&!Y)return b(new r("secret or public key must be provided"));if(!se&&!C.algorithms)return b(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(Y!=null&&!(Y instanceof f))try{Y=h(Y)}catch{try{Y=p(typeof Y=="string"?Buffer.from(Y):Y)}catch{return b(new r("secretOrPublicKey is not valid key material"))}}if(C.algorithms||(Y.type==="secret"?C.algorithms=A:["rsa","rsa-pss"].includes(Y.asymmetricKeyType)?C.algorithms=k:Y.asymmetricKeyType==="ec"?C.algorithms=S:C.algorithms=m),C.algorithms.indexOf(L.header.alg)===-1)return b(new r("invalid algorithm"));if(U.alg.startsWith("HS")&&Y.type!=="secret")return b(new r(`secretOrPublicKey must be a symmetric key when using ${U.alg}`));if(/^(?:RS|PS|ES)/.test(U.alg)&&Y.type!=="public")return b(new r(`secretOrPublicKey must be an asymmetric key when using ${U.alg}`));if(!C.allowInvalidAsymmetricKeyTypes)try{u(U.alg,Y)}catch(J){return b(J)}let ge;try{ge=d.verify(x,L.header.alg,Y)}catch(J){return b(J)}if(!ge)return b(new r("invalid signature"));const X=L.payload;if(typeof X.nbf<"u"&&!C.ignoreNotBefore){if(typeof X.nbf!="number")return b(new r("invalid nbf value"));if(X.nbf>_+(C.clockTolerance||0))return b(new s("jwt not active",new Date(X.nbf*1e3)))}if(typeof X.exp<"u"&&!C.ignoreExpiration){if(typeof X.exp!="number")return b(new r("invalid exp value"));if(_>=X.exp+(C.clockTolerance||0))return b(new a("jwt expired",new Date(X.exp*1e3)))}if(C.audience){const J=Array.isArray(C.audience)?C.audience:[C.audience];if(!(Array.isArray(X.aud)?X.aud:[X.aud]).some(function(H){return J.some(function($){return $ instanceof RegExp?$.test(H):$===H})}))return b(new r("jwt audience invalid. expected: "+J.join(" or ")))}if(C.issuer&&(typeof C.issuer=="string"&&X.iss!==C.issuer||Array.isArray(C.issuer)&&C.issuer.indexOf(X.iss)===-1))return b(new r("jwt issuer invalid. expected: "+C.issuer));if(C.subject&&X.sub!==C.subject)return b(new r("jwt subject invalid. expected: "+C.subject));if(C.jwtid&&X.jti!==C.jwtid)return b(new r("jwt jwtid invalid. expected: "+C.jwtid));if(C.nonce&&X.nonce!==C.nonce)return b(new r("jwt nonce invalid. expected: "+C.nonce));if(C.maxAge){if(typeof X.iat!="number")return b(new r("iat required when maxAge is specified"));const J=l(C.maxAge,X.iat);if(typeof J>"u")return b(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(_>=J+(C.clockTolerance||0))return b(new a("maxAge exceeded",new Date(J*1e3)))}if(C.complete===!0){const J=L.signature;return b(null,{header:U,payload:X,signature:J})}return b(null,X)})},ig}var sg,ST;function CI(){if(ST)return sg;ST=1;var r=1/0,s=9007199254740991,a=17976931348623157e292,i=NaN,l="[object Arguments]",u="[object Function]",o="[object GeneratorFunction]",d="[object String]",f="[object Symbol]",p=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,S=/^0o[0-7]+$/i,k=/^(?:0|[1-9]\d*)$/,A=parseInt;function x(W,Re){for(var xe=-1,et=W?W.length:0,ot=Array(et);++xe<et;)ot[xe]=Re(W[xe],xe,W);return ot}function O(W,Re,xe,et){for(var ot=W.length,yt=xe+-1;++yt<ot;)if(Re(W[yt],yt,W))return yt;return-1}function C(W,Re,xe){if(Re!==Re)return O(W,w,xe);for(var et=xe-1,ot=W.length;++et<ot;)if(W[et]===Re)return et;return-1}function w(W){return W!==W}function b(W,Re){for(var xe=-1,et=Array(W);++xe<W;)et[xe]=Re(xe);return et}function _(W,Re){return x(Re,function(xe){return W[xe]})}function D(W,Re){return function(xe){return W(Re(xe))}}var L=Object.prototype,U=L.hasOwnProperty,N=L.toString,F=L.propertyIsEnumerable,Y=D(Object.keys,Object),se=Math.max;function ge(W,Re){var xe=$(W)||H(W)?b(W.length,String):[],et=xe.length,ot=!!et;for(var yt in W)U.call(W,yt)&&!(ot&&(yt=="length"||J(yt,et)))&&xe.push(yt);return xe}function X(W){if(!q(W))return Y(W);var Re=[];for(var xe in Object(W))U.call(W,xe)&&xe!="constructor"&&Re.push(xe);return Re}function J(W,Re){return Re=Re??s,!!Re&&(typeof W=="number"||k.test(W))&&W>-1&&W%1==0&&W<Re}function q(W){var Re=W&&W.constructor,xe=typeof Re=="function"&&Re.prototype||L;return W===xe}function M(W,Re,xe,et){W=Z(W)?W:Wt(W),xe=xe&&!et?ze(xe):0;var ot=W.length;return xe<0&&(xe=se(ot+xe,0)),be(W)?xe<=ot&&W.indexOf(Re,xe)>-1:!!ot&&C(W,Re,xe)>-1}function H(W){return le(W)&&U.call(W,"callee")&&(!F.call(W,"callee")||N.call(W)==l)}var $=Array.isArray;function Z(W){return W!=null&&re(W.length)&&!V(W)}function le(W){return pe(W)&&Z(W)}function V(W){var Re=ie(W)?N.call(W):"";return Re==u||Re==o}function re(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=s}function ie(W){var Re=typeof W;return!!W&&(Re=="object"||Re=="function")}function pe(W){return!!W&&typeof W=="object"}function be(W){return typeof W=="string"||!$(W)&&pe(W)&&N.call(W)==d}function je(W){return typeof W=="symbol"||pe(W)&&N.call(W)==f}function Le(W){if(!W)return W===0?W:0;if(W=Ze(W),W===r||W===-r){var Re=W<0?-1:1;return Re*a}return W===W?W:0}function ze(W){var Re=Le(W),xe=Re%1;return Re===Re?xe?Re-xe:Re:0}function Ze(W){if(typeof W=="number")return W;if(je(W))return i;if(ie(W)){var Re=typeof W.valueOf=="function"?W.valueOf():W;W=ie(Re)?Re+"":Re}if(typeof W!="string")return W===0?W:+W;W=W.replace(p,"");var xe=m.test(W);return xe||S.test(W)?A(W.slice(2),xe?2:8):h.test(W)?i:+W}function Ht(W){return Z(W)?ge(W):X(W)}function Wt(W){return W?_(W,Ht(W)):[]}return sg=M,sg}var ag,wT;function xI(){if(wT)return ag;wT=1;var r="[object Boolean]",s=Object.prototype,a=s.toString;function i(u){return u===!0||u===!1||l(u)&&a.call(u)==r}function l(u){return!!u&&typeof u=="object"}return ag=i,ag}var og,TT;function RI(){if(TT)return og;TT=1;var r=1/0,s=17976931348623157e292,a=NaN,i="[object Symbol]",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt,p=Object.prototype,h=p.toString;function m(w){return typeof w=="number"&&w==O(w)}function S(w){var b=typeof w;return!!w&&(b=="object"||b=="function")}function k(w){return!!w&&typeof w=="object"}function A(w){return typeof w=="symbol"||k(w)&&h.call(w)==i}function x(w){if(!w)return w===0?w:0;if(w=C(w),w===r||w===-r){var b=w<0?-1:1;return b*s}return w===w?w:0}function O(w){var b=x(w),_=b%1;return b===b?_?b-_:b:0}function C(w){if(typeof w=="number")return w;if(A(w))return a;if(S(w)){var b=typeof w.valueOf=="function"?w.valueOf():w;w=S(b)?b+"":b}if(typeof w!="string")return w===0?w:+w;w=w.replace(l,"");var _=o.test(w);return _||d.test(w)?f(w.slice(2),_?2:8):u.test(w)?a:+w}return og=m,og}var lg,CT;function AI(){if(CT)return lg;CT=1;var r="[object Number]",s=Object.prototype,a=s.toString;function i(u){return!!u&&typeof u=="object"}function l(u){return typeof u=="number"||i(u)&&a.call(u)==r}return lg=l,lg}var cg,xT;function _I(){if(xT)return cg;xT=1;var r="[object Object]";function s(S){var k=!1;if(S!=null&&typeof S.toString!="function")try{k=!!(S+"")}catch{}return k}function a(S,k){return function(A){return S(k(A))}}var i=Function.prototype,l=Object.prototype,u=i.toString,o=l.hasOwnProperty,d=u.call(Object),f=l.toString,p=a(Object.getPrototypeOf,Object);function h(S){return!!S&&typeof S=="object"}function m(S){if(!h(S)||f.call(S)!=r||s(S))return!1;var k=p(S);if(k===null)return!0;var A=o.call(k,"constructor")&&k.constructor;return typeof A=="function"&&A instanceof A&&u.call(A)==d}return cg=m,cg}var ug,RT;function OI(){if(RT)return ug;RT=1;var r="[object String]",s=Object.prototype,a=s.toString,i=Array.isArray;function l(o){return!!o&&typeof o=="object"}function u(o){return typeof o=="string"||!i(o)&&l(o)&&a.call(o)==r}return ug=u,ug}var fg,AT;function NI(){if(AT)return fg;AT=1;var r="Expected a function",s=1/0,a=17976931348623157e292,i=NaN,l="[object Symbol]",u=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,h=Object.prototype,m=h.toString;function S(_,D){var L;if(typeof D!="function")throw new TypeError(r);return _=w(_),function(){return--_>0&&(L=D.apply(this,arguments)),_<=1&&(D=void 0),L}}function k(_){return S(2,_)}function A(_){var D=typeof _;return!!_&&(D=="object"||D=="function")}function x(_){return!!_&&typeof _=="object"}function O(_){return typeof _=="symbol"||x(_)&&m.call(_)==l}function C(_){if(!_)return _===0?_:0;if(_=b(_),_===s||_===-s){var D=_<0?-1:1;return D*a}return _===_?_:0}function w(_){var D=C(_),L=D%1;return D===D?L?D-L:D:0}function b(_){if(typeof _=="number")return _;if(O(_))return i;if(A(_)){var D=typeof _.valueOf=="function"?_.valueOf():_;_=A(D)?D+"":D}if(typeof _!="string")return _===0?_:+_;_=_.replace(u,"");var L=d.test(_);return L||f.test(_)?p(_.slice(2),L?2:8):o.test(_)?i:+_}return fg=k,fg}var dg,_T;function kI(){if(_T)return dg;_T=1;const r=MR(),s=KR(),a=zR(),i=mv(),l=CI(),u=xI(),o=RI(),d=AI(),f=_I(),p=OI(),h=NI(),{KeyObject:m,createSecretKey:S,createPrivateKey:k}=ho,A=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&A.splice(3,0,"PS256","PS384","PS512");const x={expiresIn:{isValid:function(L){return o(L)||p(L)&&L},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(L){return o(L)||p(L)&&L},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(L){return p(L)||Array.isArray(L)},message:'"audience" must be a string or array'},algorithm:{isValid:l.bind(null,A),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:u,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:u,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:u,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:u,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},O={iat:{isValid:d,message:'"iat" should be a number of seconds'},exp:{isValid:d,message:'"exp" should be a number of seconds'},nbf:{isValid:d,message:'"nbf" should be a number of seconds'}};function C(L,U,N,F){if(!f(N))throw new Error('Expected "'+F+'" to be a plain object.');Object.keys(N).forEach(function(Y){const se=L[Y];if(!se){if(!U)throw new Error('"'+Y+'" is not allowed in "'+F+'"');return}if(!se.isValid(N[Y]))throw new Error(se.message)})}function w(L){return C(x,!1,L,"options")}function b(L){return C(O,!0,L,"payload")}const _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},D=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return dg=function(L,U,N,F){typeof N=="function"?(F=N,N={}):N=N||{};const Y=typeof L=="object"&&!Buffer.isBuffer(L),se=Object.assign({alg:N.algorithm||"HS256",typ:Y?"JWT":void 0,kid:N.keyid},N.header);function ge(q){if(F)return F(q);throw q}if(!U&&N.algorithm!=="none")return ge(new Error("secretOrPrivateKey must have a value"));if(U!=null&&!(U instanceof m))try{U=k(U)}catch{try{U=S(typeof U=="string"?Buffer.from(U):U)}catch{return ge(new Error("secretOrPrivateKey is not valid key material"))}}if(se.alg.startsWith("HS")&&U.type!=="secret")return ge(new Error(`secretOrPrivateKey must be a symmetric key when using ${se.alg}`));if(/^(?:RS|PS|ES)/.test(se.alg)){if(U.type!=="private")return ge(new Error(`secretOrPrivateKey must be an asymmetric key when using ${se.alg}`));if(!N.allowInsecureKeySizes&&!se.alg.startsWith("ES")&&U.asymmetricKeyDetails!==void 0&&U.asymmetricKeyDetails.modulusLength<2048)return ge(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`))}if(typeof L>"u")return ge(new Error("payload is required"));if(Y){try{b(L)}catch(q){return ge(q)}N.mutatePayload||(L=Object.assign({},L))}else{const q=D.filter(function(M){return typeof N[M]<"u"});if(q.length>0)return ge(new Error("invalid "+q.join(",")+" option for "+typeof L+" payload"))}if(typeof L.exp<"u"&&typeof N.expiresIn<"u")return ge(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof L.nbf<"u"&&typeof N.notBefore<"u")return ge(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{w(N)}catch(q){return ge(q)}if(!N.allowInvalidAsymmetricKeyTypes)try{a(se.alg,U)}catch(q){return ge(q)}const X=L.iat||Math.floor(Date.now()/1e3);if(N.noTimestamp?delete L.iat:Y&&(L.iat=X),typeof N.notBefore<"u"){try{L.nbf=r(N.notBefore,X)}catch(q){return ge(q)}if(typeof L.nbf>"u")return ge(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof N.expiresIn<"u"&&typeof L=="object"){try{L.exp=r(N.expiresIn,X)}catch(q){return ge(q)}if(typeof L.exp>"u")return ge(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach(function(q){const M=_[q];if(typeof N[q]<"u"){if(typeof L[M]<"u")return ge(new Error('Bad "options.'+q+'" option. The payload already has an "'+M+'" property.'));L[M]=N[q]}});const J=N.encoding||"utf8";if(typeof F=="function")F=F&&h(F),i.createSign({header:se,privateKey:U,payload:L,encoding:J}).once("error",F).once("done",function(q){if(!N.allowInsecureKeySizes&&/^(?:RS|PS)/.test(se.alg)&&q.length<256)return F(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`));F(null,q)});else{let q=i.sign({header:se,payload:L,secret:U,encoding:J});if(!N.allowInsecureKeySizes&&/^(?:RS|PS)/.test(se.alg)&&q.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`);return q}},dg}var hg,OT;function yu(){return OT||(OT=1,hg={decode:LR(),verify:TI(),sign:kI(),JsonWebTokenError:Cd(),NotBeforeError:PR(),TokenExpiredError:UR()}),hg}var NT;function II(){if(NT)return Oi;NT=1;var r=Oi&&Oi.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.extractUserIdFromToken=u,Oi.getTokenCacheKey=o,Oi.getCacheTtlFromToken=d,Oi.clearTokenCache=f,Oi.clearUserCache=p;const s=r(ho),a=r(yu()),i=Ui(),l=ui();function u(h){try{const m=a.default.decode(h);return m?m.sub||m.userId||m.user_id||m.id:null}catch{return null}}function o(h){return`token_validation:${s.default.createHash("sha256").update(h).digest("hex")}`}function d(h,m,S){try{const A=a.default.decode(h);if(!A||typeof A.exp!="number")return m;const x=Math.floor(Date.now()/1e3),O=A.exp-x-30;return Math.max(S,Math.min(O,m))}catch{return m}}function f(h,m){try{const S=o(m);h.delete(S)}catch(S){(0,l.logErrorWithContext)((0,i.extractErrorInfo)(S,{endpoint:"clearTokenCache"}),"[AuthCacheHelpers]")}}function p(h,m){try{const S=u(m);S&&h.delete(`user:${S}`)}catch(S){(0,l.logErrorWithContext)((0,i.extractErrorInfo)(S,{endpoint:"clearUserCache"}),"[AuthCacheHelpers]")}}return Oi}var kT;function FR(){if(kT)return fc;kT=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.AuthService=void 0;const r=qk(),s=zk(),a=II(),i=Ui(),l=ui();class u{constructor(d,f,p){this.cache=p,this.httpClient=d,this.apiClient=f;const h=this.httpClient.config;this.tokenValidationTTL=h.cache?.tokenValidationTTL||900,this.minValidationTTL=h.cache?.minValidationTTL||60,this.userTTL=h.cache?.userTTL||300}isApiKeyToken(d){const f=this.httpClient.config;return f.apiKey!==void 0&&d===f.apiKey}buildAuthStrategyWithToken(d,f){const p=f||this.httpClient.config.authStrategy;return p?{...p,bearerToken:d}:{methods:["bearer"],bearerToken:d}}async getCachedUserInfo(d){if(!d)return null;const f=await this.cache.get(d);return f?f.user:null}async cacheUserInfo(d,f){d&&await this.cache.set(d,{user:f,timestamp:Date.now()},this.userTTL)}async getCachedTokenValidation(d){const f=await this.cache.get(d);return f?f.authenticated:null}async cacheTokenValidation(d,f,p){const h=(0,a.getCacheTtlFromToken)(f,this.tokenValidationTTL,this.minValidationTTL);await this.cache.set(d,{authenticated:p,timestamp:Date.now()},h)}mapUserInfo(d){return{id:d.id,username:d.username,email:d.email}}generateCorrelationId(){const d=Date.now(),f=Math.random().toString(36).substring(2,8);return`${this.httpClient.config.clientId.substring(0,10)}-${d}-${f}`}async getEnvironmentToken(){const d=this.generateCorrelationId(),f=this.httpClient.config.clientId,p=4e3;try{const{tempAxios:h,timeoutId:m,controller:S}=await(0,s.createEnvTokenClient)(this.httpClient.config,p,f),k=await(0,s.fetchEnvironmentTokenResponse)(h,m,S,this.httpClient.config.clientTokenUri||"/api/v1/auth/token",p),A=(0,s.extractTokenFromEnvResponse)(k.data);return k.status>=200&&k.status<300&&A?A:((0,r.handleAuthErrorSilent)(new Error(`Invalid response format. Status: ${k.status}`),"Get environment token",d,f),"")}catch(h){return(0,r.handleAuthErrorSilent)(h,"Get environment token",d,f),""}}async login(d){const f=this.generateCorrelationId(),p=this.httpClient.config.clientId;try{const h={redirect:d.redirect};d.state&&(h.state=d.state);const m=this.httpClient.config.authStrategy,S=await this.apiClient.auth.login({redirect:d.redirect,state:d.state},m);return{success:S.success,data:{loginUrl:S.data.loginUrl,state:S.data.state||""},timestamp:S.timestamp}}catch(h){return(0,r.handleAuthErrorSilent)(h,"Login",f,p),{success:!1,data:{loginUrl:"",state:d.state||""},timestamp:new Date().toISOString()}}}async validateToken(d,f){if(this.isApiKeyToken(d))return!0;try{const p=(0,a.getTokenCacheKey)(d),h=await this.getCachedTokenValidation(p);if(h!==null)return h;const m=this.buildAuthStrategyWithToken(d,f),k=(await this.apiClient.auth.validateToken({token:d},m)).data?.authenticated||!1;return await this.cacheTokenValidation(p,d,k),k}catch(p){return this.logAuthServiceError("Validate token",p,d,"/api/auth/validate"),!1}}async getUser(d,f){if(this.isApiKeyToken(d))return null;try{const p=this.buildAuthStrategyWithToken(d,f),h=await this.apiClient.auth.validateToken({token:d},p);return h.data?.authenticated&&h.data.user?this.mapUserInfo(h.data.user):null}catch(p){return this.logAuthServiceError("Get user",p,d,"/api/auth/validate"),null}}logAuthServiceError(d,f,p,h,m="POST"){const S=(0,a.extractUserIdFromToken)(p),k=(0,i.extractErrorInfo)(f,{endpoint:h,method:m,correlationId:f?.correlationId}),A=S?` (userId: ${S})`:"";k.message=`${d} failed${A}: ${k.message}`,(0,l.logErrorWithContext)(k,"[AuthService]")}async getUserInfo(d,f){if(this.isApiKeyToken(d))return null;try{const p=(0,a.extractUserIdFromToken)(d),h=p?`user:${p}`:null,m=await this.getCachedUserInfo(h);if(m)return m;const S=this.buildAuthStrategyWithToken(d,f),k=await this.apiClient.auth.getUser(S);if(k.data?.authenticated&&k.data.user){const A=this.mapUserInfo(k.data.user);return await this.cacheUserInfo(h,A),A}return null}catch(p){return this.logAuthServiceError("Get user info",p,d,"/api/auth/user","GET"),null}}clearTokenCache(d){(0,a.clearTokenCache)(this.cache,d)}clearUserCache(d){(0,a.clearUserCache)(this.cache,d)}async logout(d){const f=this.generateCorrelationId(),p=this.httpClient.config.clientId;try{const h=await this.apiClient.auth.logoutWithToken(d.token);return this.clearTokenCache(d.token),this.clearUserCache(d.token),h}catch(h){return(0,r.isHttpStatus)(h,400)?(console.warn(`[Auth] Logout: No active session (400) [${f}]`,{correlationId:f}),this.clearTokenCache(d.token),this.clearUserCache(d.token),{success:!0,message:"Logout successful (no active session)",timestamp:new Date().toISOString()}):((0,r.handleAuthErrorSilent)(h,"Logout",f,p),{success:!1,message:"Logout failed",timestamp:new Date().toISOString()})}}async refreshToken(d,f){const p=this.generateCorrelationId(),h=this.httpClient.config.clientId;try{const m=f||this.httpClient.config.authStrategy,S=await this.apiClient.auth.refreshToken({refreshToken:d},m);return S.data?{success:S.success,accessToken:S.data.accessToken,refreshToken:S.data.refreshToken||d,expiresIn:S.data.expiresIn,expiresAt:S.timestamp,timestamp:S.timestamp}:null}catch(m){return(0,r.handleAuthErrorSilent)(m,"Refresh token",p,h)}}async isAuthenticated(d,f){return this.validateToken(d,f)}}return fc.AuthService=u,fc}var dc={},hc={},IT;function Nd(){if(IT)return hc;IT=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.decodeJWT=s,hc.extractUserIdFromToken=a;function r(i){let l=i.replace(/-/g,"+").replace(/_/g,"/");for(;l.length%4;)l+="=";return l}function s(i){try{const l=i.split(".");if(l.length!==3)return null;const u=l[1],o=r(u),d=atob(o);return JSON.parse(d)}catch{return null}}function a(i){try{const l=s(i);if(!l)return null;const u=l.sub||l.userId||l.user_id||l.id;return u||null}catch{return null}}return hc}var pc={},Zo={},zr={},jT;function GR(){if(jT)return zr;jT=1;var r=zr&&zr.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.isBrowser=a,zr.getLocalStorage=i,zr.setLocalStorage=l,zr.removeLocalStorage=u,zr.extractUserIdFromToken=o,zr.generateCacheKey=d,zr.truncatePayload=f,zr.calculateSize=p,zr.isRetryableError=h,zr.calculateBackoffDelay=m;const s=r(yu());function a(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function i(S){if(!a())return null;try{return globalThis.localStorage.getItem(S)}catch{return null}}function l(S,k){if(a())try{globalThis.localStorage.setItem(S,k)}catch{}}function u(S){if(a())try{globalThis.localStorage.removeItem(S)}catch{}}function o(S){try{const k=s.default.decode(S);return k?k.sub||k.userId||k.user_id||k.id:null}catch{return null}}function d(S,k){const A=k?.method||"GET",x=k?.body?JSON.stringify(k.body):"";return`data-client:${A}:${S}:${x}`}function f(S,k){const A=JSON.stringify(S);return A.length<=k?{data:S,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:A.length},truncated:!0}}function p(S){try{return JSON.stringify(S).length}catch{return 0}}function h(S,k){return!S||S>=500||S===408||S===429?!0:(S===401||S===403||S>=400&&S<500,!1)}function m(S,k,A){return Math.min(k*Math.pow(2,S),A)+Math.random()*1e3}return zr}var DT;function VR(){if(DT)return Zo;DT=1;var r=Zo&&Zo.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.extractClientTokenInfo=d;const s=r(yu()),a=GR(),i=ui();function l(f){if((0,a.isBrowser)())try{const p=f.split(".");if(p.length!==3)return null;let h=p[1];for(;h.length%4;)h+="=";return h=h.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(atob(h))}catch(p){return(0,i.writeWarn)(`[decodeJWT] Browser decode failed: ${String(p)}`),null}else try{return s.default.decode(f)}catch(p){return(0,i.writeWarn)(`[decodeJWT] Node.js decode failed: ${String(p)}`),null}}function u(f){return typeof f=="string"}function o(f,...p){for(const h of p){const m=f[h];if(u(m))return m}}function d(f){try{const p=l(f);if(!p||typeof p!="object")return(0,i.writeWarn)("[extractClientTokenInfo] Failed to decode client token: Invalid token format"),{};const h={},m=o(p,"application","app"),S=o(p,"environment","env","environmentKey"),k=o(p,"applicationId","app_id"),A=o(p,"clientId","client_id");return m&&(h.application=m),S&&(h.environment=S),k&&(h.applicationId=k),A&&(h.clientId=A),h}catch(p){return(0,i.writeWarn)(`[extractClientTokenInfo] Failed to decode client token: ${p instanceof Error?p.message:String(p)}`),{}}}return Zo}var LT;function vu(){if(LT)return pc;LT=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.ApplicationContextService=void 0;const r=VR(),s=GR(),a=Ui(),i=ui();class l{constructor(o){this.cachedContext=null,this.httpClient=o}parseClientIdFormat(o){try{if(!o||typeof o!="string")return{environment:null,application:null};const d=o.split("-");if(d.length<4||d[0]!=="miso"||d[1]!=="controller")return{environment:null,application:null};const f=d[2]||null,p=d.slice(3).join("-")||null;return{environment:f,application:p}}catch(d){return(0,i.logErrorWithContext)((0,a.extractErrorInfo)(d,{endpoint:"parseClientId"}),"[ApplicationContextService]"),{environment:null,application:null}}}getClientToken(){try{if(this.httpClient.config.clientToken)return this.httpClient.config.clientToken;if((0,s.isBrowser)()){const o=(0,s.getLocalStorage)("miso:client-token");if(o)return o}return null}catch(o){return(0,i.logErrorWithContext)((0,a.extractErrorInfo)(o,{endpoint:"getClientToken"}),"[ApplicationContextService]"),null}}extractFromClientToken(o){const d={application:"",applicationId:"",environment:""};try{const f=(0,r.extractClientTokenInfo)(o);f.applicationId&&(d.applicationId=f.applicationId),f.environment&&(d.environment=f.environment),f.application&&(d.application=f.application)}catch(f){(0,i.logErrorWithContext)((0,a.extractErrorInfo)(f,{endpoint:"extractClientToken"}),"[ApplicationContextService]")}return d}applyClientIdFallback(o,d){if(o&&d)return{application:o,environment:d};const f=this.parseClientIdFormat(this.httpClient.config.clientId);return{application:o||f.application||"",environment:d||f.environment||""}}getApplicationContext(){if(this.cachedContext)return this.cachedContext;let o="",d="",f="";const p=this.getClientToken();if(p){const m=this.extractFromClientToken(p);d=m.applicationId,o=m.application,f=m.environment}const h=this.applyClientIdFallback(o,f);return this.cachedContext={application:h.application,applicationId:d||"",environment:h.environment},this.cachedContext}clearCache(){this.cachedContext=null}}return pc.ApplicationContextService=l,pc}var PT;function WR(){if(PT)return dc;PT=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.RoleService=void 0;const r=Nd(),s=vu(),a=Ui(),i=ui();class l{constructor(o,d,f){this.cache=f,this.httpClient=o,this.apiClient=d,this.roleTTL=this.httpClient.config.cache?.roleTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}buildAuthStrategy(o,d){const f=d||this.httpClient.config.authStrategy;return f?{...f,bearerToken:o}:{methods:["bearer"],bearerToken:o}}getEnvironmentParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async resolveUserId(o,d){const f=(0,r.extractUserIdFromToken)(o);if(f)return f;const p=this.buildAuthStrategy(o,d);return(await this.apiClient.auth.validateToken({token:o},p)).data?.user?.id||null}async getRoles(o,d){try{let f=(0,r.extractUserIdFromToken)(o);const p=f?`roles:${f}`:null;if(p){const m=await this.cache.get(p);if(m)return m.roles||[]}if(!f&&(f=await this.resolveUserId(o,d),!f))return[];const h=await this.fetchRolesFromController(o,d);return await this.cache.set(`roles:${f}`,{roles:h,timestamp:Date.now()},this.roleTTL),h}catch(f){const p=(0,a.extractErrorInfo)(f,{endpoint:"/api/auth/roles",method:"GET",correlationId:f?.correlationId});return p.message=`Failed to get roles: ${p.message}`,(0,i.logErrorWithContext)(p,"[RoleService]"),[]}}async fetchRolesFromController(o,d){const f=this.buildAuthStrategy(o,d),p=this.getEnvironmentParams();return(await this.apiClient.roles.getRoles(p,f)).data?.roles||[]}async hasRole(o,d,f){return(await this.getRoles(o,f)).includes(d)}async hasAnyRole(o,d,f){const p=await this.getRoles(o,f);return d.some(h=>p.includes(h))}async hasAllRoles(o,d,f){const p=await this.getRoles(o,f);return d.every(h=>p.includes(h))}async refreshRoles(o,d){try{const f=this.buildAuthStrategy(o,d),h=(await this.apiClient.auth.validateToken({token:o},f)).data?.user?.id;if(!h)return[];const m=this.getEnvironmentParams(),k=(await this.apiClient.roles.refreshRoles(m,f)).data?.roles||[];return await this.cache.set(`roles:${h}`,{roles:k,timestamp:Date.now()},this.roleTTL),k}catch(f){const p=(0,a.extractErrorInfo)(f,{endpoint:"/api/auth/roles/refresh",method:"POST",correlationId:f?.correlationId});return p.message=`Failed to refresh roles: ${p.message}`,(0,i.logErrorWithContext)(p,"[RoleService]"),[]}}}return dc.RoleService=l,dc}var mc={},UT;function JR(){if(UT)return mc;UT=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.PermissionService=void 0;const r=Nd(),s=vu(),a=Ui(),i=ui();class l{constructor(o,d,f){this.cache=f,this.httpClient=o,this.apiClient=d,this.permissionTTL=this.httpClient.config.cache?.permissionTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}buildAuthStrategy(o,d){const f=d||this.httpClient.config.authStrategy;return f?{...f,bearerToken:o}:{methods:["bearer"],bearerToken:o}}getEnvironmentParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async resolveUserId(o,d){const f=(0,r.extractUserIdFromToken)(o);if(f)return f;const p=this.buildAuthStrategy(o,d);return(await this.apiClient.auth.validateToken({token:o},p)).data?.user?.id||null}async getPermissions(o,d){try{let f=(0,r.extractUserIdFromToken)(o);const p=f?`permissions:${f}`:null;if(p){const m=await this.cache.get(p);if(m)return m.permissions||[]}if(!f&&(f=await this.resolveUserId(o,d),!f))return[];const h=await this.fetchPermissionsFromController(o,d);return await this.cache.set(`permissions:${f}`,{permissions:h,timestamp:Date.now()},this.permissionTTL),h}catch(f){const p=(0,a.extractErrorInfo)(f,{endpoint:"/api/auth/permissions",method:"GET",correlationId:f?.correlationId});return p.message=`Failed to get permissions: ${p.message}`,(0,i.logErrorWithContext)(p,"[PermissionService]"),[]}}async fetchPermissionsFromController(o,d){const f=this.buildAuthStrategy(o,d),p=this.getEnvironmentParams();return(await this.apiClient.permissions.getPermissions(p,f)).data?.permissions||[]}async hasPermission(o,d,f){return(await this.getPermissions(o,f)).includes(d)}async hasAnyPermission(o,d,f){const p=await this.getPermissions(o,f);return d.some(h=>p.includes(h))}async hasAllPermissions(o,d,f){const p=await this.getPermissions(o,f);return d.every(h=>p.includes(h))}async refreshPermissions(o,d){try{const f=this.buildAuthStrategy(o,d),h=(await this.apiClient.auth.validateToken({token:o},f)).data?.user?.id;if(!h)return[];const m=this.getEnvironmentParams(),k=(await this.apiClient.permissions.refreshPermissions(m,f)).data?.permissions||[];return await this.cache.set(`permissions:${h}`,{permissions:k,timestamp:Date.now()},this.permissionTTL),k}catch(f){const p=(0,a.extractErrorInfo)(f,{endpoint:"/api/auth/permissions/refresh",method:"POST",correlationId:f?.correlationId});return p.message=`Failed to refresh permissions: ${p.message}`,(0,i.logErrorWithContext)(p,"[PermissionService]"),[]}}async clearPermissionsCache(o,d){try{const f=this.buildAuthStrategy(o,d),h=(await this.apiClient.auth.validateToken({token:o},f)).data?.user?.id;if(!h)return;await this.cache.delete(`permissions:${h}`)}catch(f){const p=(0,a.extractErrorInfo)(f,{endpoint:"/cache/permissions",method:"DELETE",correlationId:f?.correlationId});p.message=`Failed to clear permissions cache: ${p.message}`,(0,i.logErrorWithContext)(p,"[PermissionService]")}}}return mc.PermissionService=l,mc}var pg={},gc={};class kd{constructor(){this._events=new Map}on(s,a){return this._events.has(s)||this._events.set(s,[]),this._events.get(s).push(a),this}once(s,a){const i=(...l)=>{this.removeListener(s,i),a(...l)};return this.on(s,i),this}emit(s,...a){const i=this._events.get(s);return i&&i.length>0?(i.forEach(l=>{try{l(...a)}catch(u){console.error("EventEmitter error:",u)}}),!0):!1}removeListener(s,a){const i=this._events.get(s);if(i){const l=i.indexOf(a);l>-1&&i.splice(l,1)}return this}removeAllListeners(s){return s?this._events.delete(s):this._events.clear(),this}off(s,a){return this.removeListener(s,a)}addListener(s,a){return this.on(s,a)}}const cl={EventEmitter:kd};typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=cl,Be.exports.default=cl,Be.exports.EventEmitter=kd,Be.exports.events=cl);typeof ht<"u"&&(ht.default=cl,ht.events=cl,ht.EventEmitter=kd);const jI=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:kd,events:cl},Symbol.toStringTag,{value:"Module"}));var yc={},hn={};const MT={},DI=Object.freeze(Object.defineProperty({__proto__:null,default:MT,fs:MT},Symbol.toStringTag,{value:"Module"})),YR=hu(DI),qT={join:(...r)=>r.join("/"),resolve:(...r)=>r.join("/"),dirname:()=>"",basename:()=>"",extname:()=>""},LI=Object.freeze(Object.defineProperty({__proto__:null,default:qT,path:qT},Symbol.toStringTag,{value:"Module"})),XR=hu(LI),PI="1.0.0",UI="ISO 27001 compliant sensitive fields configuration for data masking",MI={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},qI=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],HI={version:PI,description:UI,categories:MI,fieldPatterns:qI};var HT;function $I(){if(HT)return hn;HT=1;var r={},s=hn&&hn.__createBinding||(Object.create?(function(b,_,D,L){L===void 0&&(L=D);var U=Object.getOwnPropertyDescriptor(_,D);(!U||("get"in U?!_.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return _[D]}}),Object.defineProperty(b,L,U)}):(function(b,_,D,L){L===void 0&&(L=D),b[L]=_[D]})),a=hn&&hn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=hn&&hn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(D){var L=[];for(var U in D)Object.prototype.hasOwnProperty.call(D,U)&&(L[L.length]=U);return L},b(_)};return function(_){if(_&&_.__esModule)return _;var D={};if(_!=null)for(var L=b(_),U=0;U<L.length;U++)L[U]!=="default"&&s(D,_,L[U]);return a(D,_),D}})(),l=hn&&hn.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(hn,"__esModule",{value:!0}),hn.loadSensitiveFieldsConfig=A,hn.getFieldPatterns=C,hn.getSensitiveFieldsArray=w;const u=i(YR),o=i(XR),d=l(HI);function f(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function p(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function h(b){const _=b||r.MISO_SENSITIVE_FIELDS_CONFIG;return _?o.isAbsolute(_)?_:o.resolve(process.cwd(),_):null}function m(b){const _=new Set;return Object.values(b.categories).forEach(D=>{D.forEach(L=>_.add(L.toLowerCase()))}),f().forEach(D=>_.add(D)),_}function S(b){if(!u.existsSync(b))return null;const _=u.readFileSync(b,"utf8"),D=JSON.parse(_);return m(D)}function k(){try{const b=d.default;return m(b)}catch{const b=o.join(__dirname,"sensitive-fields.config.json");return S(b)}}function A(b){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return f();try{const _=h(b);if(_){const L=S(_);if(L)return L}return k()??f()}catch{return f()}}function x(b){if(!u.existsSync(b))return null;const _=u.readFileSync(b,"utf8");return JSON.parse(_).fieldPatterns||p()}function O(){try{return d.default.fieldPatterns||p()}catch{const b=o.join(__dirname,"sensitive-fields.config.json");return x(b)}}function C(b){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return p();try{const _=h(b);if(_){const L=x(_);if(L)return L}return O()??p()}catch{return p()}}function w(b){const _=A(b);return Array.from(_)}return hn}var $T;function Tv(){if($T)return yc;$T=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.DataMasker=void 0;const r=$I();class s{static initializeSensitiveFields(i){return this.configPath!==i&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=i),this.cachedFields?this.cachedFields:(this.cachedFields=(0,r.loadSensitiveFieldsConfig)(i),this.cachedFieldPatterns=(0,r.getFieldPatterns)(i),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,r.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(i){this.configPath=i,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(i){const l=this.getSensitiveFields(),u=this.getFieldPatterns(),o=i.toLowerCase().replace(/[_-]/g,"");if(l.has(o))return!0;for(const d of u)if(o.includes(d.toLowerCase()))return!0;return!1}static maskSensitiveData(i){if(i==null||typeof i!="object")return i;if(Array.isArray(i))return i.map(u=>this.maskSensitiveData(u));const l={};for(const[u,o]of Object.entries(i))this.isSensitiveField(u)?l[u]=this.MASKED_VALUE:typeof o=="object"&&o!==null?l[u]=this.maskSensitiveData(o):l[u]=o;return l}static maskValue(i,l=0,u=0){if(!i||i.length<=l+u)return this.MASKED_VALUE;const o=i.substring(0,l),d=i.substring(i.length-u),f="*".repeat(Math.min(8,i.length-l-u));return`${o}${f}${d}`}static containsSensitiveData(i){if(i==null||typeof i!="object")return!1;if(Array.isArray(i))return i.some(l=>this.containsSensitiveData(l));for(const[l,u]of Object.entries(i))if(this.isSensitiveField(l)||typeof u=="object"&&u!==null&&this.containsSensitiveData(u))return!0;return!1}}return yc.DataMasker=s,s.MASKED_VALUE="***MASKED***",s.cachedFields=null,s.cachedFieldPatterns=null,s.configPath=void 0,yc}var vc={},BT;function BI(){if(BT)return vc;BT=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.AuditLogQueue=void 0;class r{constructor(a,i,l,u){this.queue=[],this.flushTimer=null,this.isFlushing=!1,this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.httpClient=a,this.redis=i,this.config=l,this.eventEmitter=u;const o=l.audit||{};this.batchSize=o.batchSize??10,this.batchInterval=o.batchInterval??100,typeof process<"u"&&(process.on("SIGINT",()=>this.flush(!0)),process.on("SIGTERM",()=>this.flush(!0)),process.on("beforeExit",()=>this.flush(!0)))}setApiClient(a){this.apiClient=a}async add(a){if(this.queue.push({entry:a,timestamp:Date.now()}),this.queue.length>=this.batchSize){await this.flush(!1);return}!this.flushTimer&&this.queue.length>0&&(this.flushTimer=setTimeout(()=>{this.flush(!1).catch(()=>{})},this.batchInterval),this.flushTimer&&typeof this.flushTimer.unref=="function"&&this.flushTimer.unref())}async flush(a=!1){if(!(this.isFlushing||this.queue.length===0)){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.isFlushing=!0;try{const i=this.queue.splice(0);if(i.length===0)return;const l=i.map(u=>u.entry);if(await this.flushToEvents(l)||await this.flushToRedis(l))return;await this.flushToHttp(l)}catch{}finally{this.isFlushing=!1}}}async flushToEvents(a){return!this.config.emitEvents||!this.eventEmitter?!1:(this.eventEmitter.emit("log:batch",a),!0)}async flushToRedis(a){if(!this.redis.isConnected())return!1;const i=`audit-logs:${this.config.clientId}`;return await this.redis.rpush(i,JSON.stringify(a))}async flushToHttp(a){const i=Date.now();if(this.httpLoggingDisabledUntil&&i<this.httpLoggingDisabledUntil)return;const l=a.map(u=>({...u,environment:void 0,application:void 0}));try{this.apiClient?await this.apiClient.logs.createBatchLogs({logs:l}):await this.httpClient.request("POST","/api/v1/logs/batch",{logs:l}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch{this.httpLoggingFailures++,this.httpLoggingFailures>=r.MAX_FAILURES&&(this.httpLoggingDisabledUntil=i+r.DISABLE_DURATION_MS,this.httpLoggingFailures=0)}}getQueueSize(){return this.queue.length}clear(){this.flushTimer&&(clearTimeout(this.flushTimer),this.flushTimer=null),this.queue=[]}}return vc.AuditLogQueue=r,r.MAX_FAILURES=3,r.DISABLE_DURATION_MS=6e4,vc}var Ec={},el={},zT;function Id(){if(zT)return el;zT=1;var r=el&&el.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(el,"__esModule",{value:!0}),el.extractRequestContext=i;const s=r(yu());function a(l){const o=(l.headers||{}).authorization;if(!o?.startsWith("Bearer "))return{};try{const d=o.substring(7),f=s.default.decode(d);return f?{userId:f.sub||f.userId||f.user_id||f.id,sessionId:f.sessionId||f.sid}:{}}catch{return{}}}function i(l){const u=l.headers||{},o=l.ip||u["x-forwarded-for"]?.split(",")[0]?.trim()||l.socket?.remoteAddress,d=u["x-correlation-id"]||u["x-request-id"]||u["request-id"],{userId:f,sessionId:p}=a(l);return{ipAddress:o,method:l.method,path:l.originalUrl||l.path,userAgent:u["user-agent"],correlationId:d,referer:u.referer,userId:f,sessionId:p,requestId:u["x-request-id"],requestSize:u["content-length"]?parseInt(u["content-length"],10):void 0}}return el}var bc={},KT;function Eu(){if(KT)return bc;KT=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.LoggerContextStorage=void 0;const r=aa;class s{constructor(){this.asyncLocalStorage=new r.AsyncLocalStorage}static getInstance(){return s.instance||(s.instance=new s),s.instance}getContext(){const i=this.asyncLocalStorage.getStore();return i===void 0?null:i}setContext(i){const l=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...l,...i})}clearContext(){this.asyncLocalStorage.enterWith({})}mergeContext(i){const l=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...l,...i})}runWithContext(i,l){const u={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(u,l)}async runWithContextAsync(i,l){const u={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(u,l)}}return bc.LoggerContextStorage=s,s.instance=null,bc}var FT;function QR(){if(FT)return Ec;FT=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.LoggerChain=void 0;const r=Id(),s=Eu();class a{constructor(l,u={},o={}){this.contextStorage=s.LoggerContextStorage.getInstance(),this.logger=l,this.context=u,this.options=o}addContext(l,u){return this.context[l]=u,this}withoutMasking(){return this.options.maskSensitiveData=!1,this}withIndexedContext(l){return this.options.sourceKey=l.sourceKey,this.options.sourceDisplayName=l.sourceDisplayName,this.options.externalSystemKey=l.externalSystemKey,this.options.externalSystemDisplayName=l.externalSystemDisplayName,this.options.recordKey=l.recordKey,this.options.recordDisplayName=l.recordDisplayName,this}withCredentialContext(l,u){return this.options.credentialId=l,this.options.credentialType=u,this}withResponseMetrics(l,u){return this.options.responseSize=l,this.options.durationMs=u,this}withRequest(l){const u=(0,r.extractRequestContext)(l),o=l.headers.authorization?.replace("Bearer ","");return this.contextStorage.mergeContext({ipAddress:u.ipAddress,method:u.method,path:u.path,userAgent:u.userAgent,correlationId:u.correlationId,referer:u.referer,userId:u.userId,sessionId:u.sessionId,requestId:u.requestId,requestSize:u.requestSize,token:o}),u.method&&(this.context.method=u.method),u.path&&(this.context.path=u.path),u.referer&&(this.context.referer=u.referer),u.requestSize!==void 0&&(this.context.requestSize=u.requestSize),this}async error(l,u){await this.logger.error(l,this.context,u,this.options)}async info(l){await this.logger.info(l,this.context,this.options)}async audit(l,u){await this.logger.audit(l,u,this.context,this.options)}}return Ec.LoggerChain=a,Ec}var gs={},GT;function ZR(){if(GT)return gs;GT=1;var r={},s=gs&&gs.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(gs,"__esModule",{value:!0}),gs.extractJwtContext=u,gs.extractEnvironmentMetadata=o,gs.getLogWithRequest=d,gs.getWithContext=f;const a=s(yu()),i=Tv(),l=Id();function u(p){if(!p)return{};try{const h=a.default.decode(p);return h?{userId:h.sub||h.userId||h.user_id,applicationId:h.applicationId||h.app_id,sessionId:h.sessionId||h.sid,roles:h.roles||h.realm_access?.roles||[],permissions:h.permissions||h.scope?.split(" ")||[]}:{}}catch{return{}}}function o(){const p={};if(typeof globalThis<"u"&&"window"in globalThis){const h=globalThis,m=h.window?.navigator,S=h.window?.location;p.userAgent=m?.userAgent,p.hostname=S?.hostname}return typeof process<"u"&&r&&(p.hostname=r.HOSTNAME||"unknown"),p}function d(p,h,m="info",S,k){const{applicationContextService:A,generateCorrelationId:x,maskSensitiveData:O,clientId:C}=k,w=(0,l.extractRequestContext)(p),b=u(p.headers.authorization?.replace("Bearer ","")),_=o(),D=A.getApplicationContext(),L=w.correlationId||x(),U=O&&S?i.DataMasker.maskSensitiveData(S):S;let N=b.applicationId||"";return!N&&D.applicationId&&(N=D.applicationId),{timestamp:new Date().toISOString(),level:m,environment:D.environment||"unknown",application:D.application||C||"",applicationId:N,message:h,context:U,correlationId:L,userId:w.userId||b.userId,sessionId:w.sessionId||b.sessionId,requestId:w.requestId,ipAddress:w.ipAddress||_.ipAddress,userAgent:w.userAgent||_.userAgent,referer:w.referer,requestSize:w.requestSize,..._}}function f(p,h,m="info",S){const{applicationContextService:k,generateCorrelationId:A,maskSensitiveData:x,clientId:O}=S,C=o(),w=A(),b=k.getApplicationContext(),_=x?i.DataMasker.maskSensitiveData(p):p;return{timestamp:new Date().toISOString(),level:m,environment:b.environment||"unknown",application:b.application||O||"",applicationId:b.applicationId||"",message:h,context:_,correlationId:w,...C}}return gs}var Sc={},VT;function zI(){if(VT)return Sc;VT=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.isAuthError=r,Sc.sendAuditLogPayload=s;function r(a){return a instanceof Error?a.message.includes("401")||a.message.includes("Unauthorized")?!0:a.statusCode===401:!1}async function s(a,i,l,u,o){const d=l.resource,f=l.oldValues,p=l.newValues,h=l.entityType||(d?.startsWith("/api/")?"API Endpoint":"HTTP Request"),m=l.entityId||d||"unknown",S=l.action||"unknown";delete l.action,delete l.resource,delete l.entityType,delete l.entityId,delete l.oldValues,delete l.newValues,await a.logs.createLog({type:u,data:{level:o,message:i.message,context:l,correlationId:i.correlationId,entityType:h,entityId:m,action:S,oldValues:f,newValues:p}})}return Sc}var WT;function KI(){if(WT)return gc;WT=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.LoggerService=void 0;const r=jI,s=Tv(),a=BI(),i=QR(),l=vu(),u=Eu(),o=ZR(),d=zI();class f extends r.EventEmitter{constructor(h,m){super(),this.maskSensitiveData=!0,this.correlationCounter=0,this.auditLogQueue=null,this.loggerContextStorage=u.LoggerContextStorage.getInstance(),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null,this.redis=m,this.httpClient=h,this.applicationContextService=new l.ApplicationContextService(h);const S=this.httpClient.config.audit||{};(S.batchSize!==void 0||S.batchInterval!==void 0)&&(this.auditLogQueue=new a.AuditLogQueue(h,m,this.httpClient.config,this))}setHttpClient(h){this.httpClient=h,this.applicationContextService=new l.ApplicationContextService(h)}setApiClient(h){this.apiClient=h,this.auditLogQueue&&this.auditLogQueue.setApiClient(h)}getApplicationContextService(){return this.applicationContextService}setMasking(h){this.maskSensitiveData=h}generateCorrelationId(){this.correlationCounter=(this.correlationCounter+1)%1e4;const h=Date.now(),m=Math.random().toString(36).substring(2,8);return`${this.httpClient.config.clientId.substring(0,10)}-${h}-${this.correlationCounter}-${m}`}async error(h,m,S,k){await this.log("error",h,m,S,k)}async audit(h,m,S,k){const A={action:h,resource:m,...S};await this.log("audit",`Audit: ${h} on ${m}`,A,void 0,k)}async info(h,m,S){await this.log("info",h,m,void 0,S)}async debug(h,m,S){this.httpClient.config.logLevel==="debug"&&await this.log("debug",h,m,void 0,S)}async log(h,m,S,k,A){const x=this.loggerContextStorage.getContext()||{},O=x.token?(0,o.extractJwtContext)(x.token):{},C=(0,o.extractEnvironmentMetadata)(),w=x.correlationId||this.generateCorrelationId(),b=this.maskContext(S,A),_=this.applicationContextService.getApplicationContext(),D=this.buildLogEntry({level:h,message:m,maskedContext:b,stackTrace:k,options:A,jwtContext:O,metadata:C,appContext:_,loggerContext:x,correlationId:w});if(this.httpClient.config.emitEvents){this.emit("log",D);return}if(h==="audit"&&this.auditLogQueue){await this.auditLogQueue.add(D);return}await this.sendToRedis(D)||this.isCircuitOpen()||await this.sendToHttp(h,D)}maskContext(h,m){return!(m?.maskSensitiveData!==!1&&this.maskSensitiveData)||!h?h:s.DataMasker.maskSensitiveData(h)}buildLogEntry(h){const m=h,S=this.resolveApplicationId(m.jwtContext,m.appContext,m.loggerContext);return{timestamp:new Date().toISOString(),level:m.level,environment:m.appContext.environment||"unknown",application:m.appContext.application||this.httpClient.config.clientId,applicationId:S,message:m.message,context:m.maskedContext,stackTrace:m.stackTrace,correlationId:m.correlationId,userId:m.loggerContext?.userId||m.jwtContext.userId,sessionId:m.loggerContext?.sessionId||m.jwtContext.sessionId,requestId:m.loggerContext?.requestId,ipAddress:m.loggerContext?.ipAddress||m.metadata.ipAddress,userAgent:m.loggerContext?.userAgent||m.metadata.userAgent,referer:m.loggerContext?.referer,...m.metadata,sourceKey:m.options?.sourceKey,sourceDisplayName:m.options?.sourceDisplayName,externalSystemKey:m.options?.externalSystemKey,externalSystemDisplayName:m.options?.externalSystemDisplayName,recordKey:m.options?.recordKey,recordDisplayName:m.options?.recordDisplayName,credentialId:m.options?.credentialId,credentialType:m.options?.credentialType,requestSize:m.loggerContext?.requestSize,responseSize:m.options?.responseSize,durationMs:m.options?.durationMs,errorCategory:m.options?.errorCategory,httpStatusCategory:m.options?.httpStatusCategory}}resolveApplicationId(h,m,S){return S?.applicationId?S.applicationId:m.applicationId?m.applicationId:h.applicationId||""}async sendToRedis(h){if(!this.redis.isConnected())return!1;const m=`logs:${this.httpClient.config.clientId}`;return!!await this.redis.rpush(m,JSON.stringify(h))}isCircuitOpen(){const h=Date.now();return!!(this.httpLoggingDisabledUntil&&h<this.httpLoggingDisabledUntil)}mapLogType(h){return{logType:h==="audit"?"audit":h==="error"?"error":"general",logLevel:h==="audit"?"info":h==="error"?"error":h==="info"?"info":"debug"}}buildEnrichedContext(h){const m={...h.context,userId:h.userId,sessionId:h.sessionId,requestId:h.requestId,ipAddress:h.ipAddress,userAgent:h.userAgent,referer:h.referer,hostname:h.hostname,applicationId:h.applicationId,sourceKey:h.sourceKey,sourceDisplayName:h.sourceDisplayName,externalSystemKey:h.externalSystemKey,externalSystemDisplayName:h.externalSystemDisplayName,recordKey:h.recordKey,recordDisplayName:h.recordDisplayName,credentialId:h.credentialId,credentialType:h.credentialType,requestSize:h.requestSize,responseSize:h.responseSize,durationMs:h.durationMs,errorCategory:h.errorCategory,httpStatusCategory:h.httpStatusCategory};return Object.keys(m).forEach(S=>{m[S]===void 0&&delete m[S]}),h.stackTrace&&(m.stackTrace=h.stackTrace),m}async sendToHttp(h,m){const S=Date.now();try{if(!this.apiClient)throw new Error("ApiClient not initialized. Call setApiClient() before logging.");const{logType:k,logLevel:A}=this.mapLogType(h),x=this.buildEnrichedContext(m);h==="audit"?await(0,d.sendAuditLogPayload)(this.apiClient,m,x,k,A):await this.apiClient.logs.createLog({type:k,data:{level:A,message:m.message,context:x,correlationId:m.correlationId}}),this.httpLoggingFailures=0,this.httpLoggingDisabledUntil=null}catch(k){(0,d.isAuthError)(k)||(this.httpLoggingFailures++,this.httpLoggingFailures>=f.MAX_FAILURES&&(this.httpLoggingDisabledUntil=S+f.DISABLE_DURATION_MS,this.httpLoggingFailures=0))}}withContext(h){return new i.LoggerChain(this,h)}withoutMasking(){return new i.LoggerChain(this,{},{maskSensitiveData:!1})}getLogWithRequest(h,m,S="info",k){return(0,o.getLogWithRequest)(h,m,S,k,{applicationContextService:this.applicationContextService,generateCorrelationId:()=>this.generateCorrelationId(),maskSensitiveData:this.maskSensitiveData,clientId:this.httpClient.config.clientId})}getWithContext(h,m,S="info"){return(0,o.getWithContext)(h,m,S,{applicationContextService:this.applicationContextService,generateCorrelationId:()=>this.generateCorrelationId(),maskSensitiveData:this.maskSensitiveData,clientId:this.httpClient.config.clientId})}getForRequest(h,m,S="info",k){return this.getLogWithRequest(h,m,S,k)}forRequest(h){return new i.LoggerChain(this,{},{}).withRequest(h)}}return gc.LoggerService=f,f.MAX_FAILURES=3,f.DISABLE_DURATION_MS=6e4,gc}var wc={},JT;function Cv(){if(JT)return wc;JT=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.UnifiedLoggerService=void 0;class r{constructor(a,i){this.loggerService=a,this.contextStorage=i}getContext(){return this.contextStorage.getContext()||{}}buildLoggingOptions(a){return{maskSensitiveData:!0}}extractErrorContext(a){if(!a)return{};if(a instanceof Error)return{stackTrace:a.stack,errorName:a.name,errorMessage:a.message};if(typeof a=="string")return{errorMessage:a};if(typeof a=="object"&&a!==null){const i=a;return{stackTrace:i.stack,errorName:i.name,errorMessage:i.message}}return{}}async info(a){try{const i=this.getContext(),l=this.buildLoggingOptions(i);await this.loggerService.info(a,void 0,l)}catch{}}async warn(a){try{const i=this.getContext(),l=this.buildLoggingOptions(i);await this.loggerService.info(a,void 0,l)}catch{}}async debug(a){try{const i=this.getContext(),l=this.buildLoggingOptions(i);await this.loggerService.debug(a,void 0,l)}catch{}}async error(a,i){try{const l=this.getContext(),u=this.buildLoggingOptions(l),o=this.extractErrorContext(i),d={};o.errorName&&(d.errorName=o.errorName),o.errorMessage&&(d.errorMessage=o.errorMessage),await this.loggerService.error(a,d,o.stackTrace,u)}catch{}}async audit(a,i,l,u,o){try{const d=this.getContext(),f=this.buildLoggingOptions(d),p={entityId:l||"unknown"};u!==void 0&&(p.oldValues=u),o!==void 0&&(p.newValues=o),await this.loggerService.audit(a,i,p,f)}catch{}}}return wc.UnifiedLoggerService=r,wc}var Ni={},YT;function eA(){if(YT)return Ni;YT=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.LoggerServiceRegistry=void 0,Ni.getLogger=i,Ni.setLoggerContext=l,Ni.clearLoggerContext=u,Ni.mergeLoggerContext=o,Ni.registerLoggerService=d;const r=Cv(),s=Eu();class a{static register(p){a.instance=p}static get(){return a.instance}static clear(){a.instance=null}}Ni.LoggerServiceRegistry=a,a.instance=null;function i(f){const p=s.LoggerContextStorage.getInstance(),h=f||a.get();if(!h)throw new Error("LoggerService not available. Either pass LoggerService to getLogger() or ensure MisoClient is initialized.");return new r.UnifiedLoggerService(h,p)}function l(f){s.LoggerContextStorage.getInstance().setContext(f)}function u(){s.LoggerContextStorage.getInstance().clearContext()}function o(f){s.LoggerContextStorage.getInstance().mergeContext(f)}function d(f){a.register(f)}return Ni}var XT;function ud(){return XT||(XT=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.registerLoggerService=r.getLogger=r.LoggerContextStorage=r.UnifiedLoggerService=r.LoggerChain=r.LoggerService=void 0;var s=KI();Object.defineProperty(r,"LoggerService",{enumerable:!0,get:function(){return s.LoggerService}});var a=QR();Object.defineProperty(r,"LoggerChain",{enumerable:!0,get:function(){return a.LoggerChain}});var i=Cv();Object.defineProperty(r,"UnifiedLoggerService",{enumerable:!0,get:function(){return i.UnifiedLoggerService}});var l=Eu();Object.defineProperty(r,"LoggerContextStorage",{enumerable:!0,get:function(){return l.LoggerContextStorage}});var u=eA();Object.defineProperty(r,"getLogger",{enumerable:!0,get:function(){return u.getLogger}}),Object.defineProperty(r,"registerLoggerService",{enumerable:!0,get:function(){return u.registerLoggerService}})})(pg)),pg}var Va={};class xv{constructor(s){this.options=s||{},this.connected=!1}async connect(){return console.warn("[Redis Stub] Redis.connect() called in browser - Redis is server-side only"),this.connected=!0,Promise.resolve()}async disconnect(){return this.connected=!1,Promise.resolve()}async get(s){return null}async set(s,a){return"OK"}async del(s){return 0}async rpush(s,a){return 0}async lpop(s){return null}async exists(s){return 0}async expire(s,a){return 0}async keys(s){return[]}isConnected(){return!1}on(){return this}off(){return this}once(){return Promise.resolve({})}emit(){return!1}}const fd=xv;typeof Be<"u"&&typeof Be.exports<"u"&&(Be.exports=fd,Be.exports.default=fd,Be.exports.Redis=xv);const FI=Object.freeze(Object.defineProperty({__proto__:null,Redis:fd,RedisStub:xv,default:fd},Symbol.toStringTag,{value:"Module"}));var QT;function Rv(){if(QT)return Va;QT=1;var r=Va&&Va.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Va,"__esModule",{value:!0}),Va.RedisService=void 0;const s=r(FI);class a{constructor(l){this.connected=!1,this.config=l}async connect(){if(this.config)try{this.redis=new s.default({host:this.config.host,port:this.config.port,password:this.config.password,db:this.config.db||0,keyPrefix:this.config.keyPrefix||"miso:",maxRetriesPerRequest:3,lazyConnect:!0,enableReadyCheck:!1,disableClientInfo:!0}),await this.redis.connect(),this.connected=!0}catch(l){throw console.error("Failed to connect to Redis:",{errorMessage:l instanceof Error?l.message:String(l)}),this.connected=!1,l}}async disconnect(){this.redis&&(await this.redis.disconnect(),this.connected=!1)}async get(l){if(!this.redis||!this.connected)return null;try{return await this.redis.get(l)}catch(u){return console.error("Redis get error:",{key:l,errorMessage:u instanceof Error?u.message:String(u)}),null}}async set(l,u,o){if(!this.redis||!this.connected)return!1;try{return await this.redis.setex(l,o,u),!0}catch(d){return console.error("Redis set error:",{key:l,errorMessage:d instanceof Error?d.message:String(d)}),!1}}async delete(l){if(!this.redis||!this.connected)return!1;try{return await this.redis.del(l),!0}catch(u){return console.error("Redis delete error:",{key:l,errorMessage:u instanceof Error?u.message:String(u)}),!1}}async rpush(l,u){if(!this.redis||!this.connected)return!1;try{return await this.redis.rpush(l,u),!0}catch(o){return console.error("Redis rpush error:",{queue:l,errorMessage:o instanceof Error?o.message:String(o)}),!1}}isConnected(){return this.connected}}return Va.RedisService=a,Va}var Tc={},ZT;function Av(){if(ZT)return Tc;ZT=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.CacheService=void 0;const r=Ui(),s=ui();class a{constructor(l){this.memoryCache=new Map,this.redis=l,this.cleanupInterval=setInterval(()=>{this.cleanupExpired()},300*1e3),this.cleanupInterval&&typeof this.cleanupInterval.unref=="function"&&this.cleanupInterval.unref()}cleanupExpired(){const l=Date.now(),u=[];for(const[o,d]of this.memoryCache.entries())d.expiresAt<l&&u.push(o);for(const o of u)this.memoryCache.delete(o)}parseAndCacheRedisValue(l,u){try{const o=JSON.parse(u);return this.setInMemory(l,o,300),o}catch(o){return(0,s.logErrorWithContext)((0,r.extractErrorInfo)(o,{endpoint:l,method:"parseCache"}),"[CacheService]"),this.delete(l),null}}async get(l){try{if(this.redis&&this.redis.isConnected()){const o=await this.redis.get(l);if(o)return this.parseAndCacheRedisValue(l,o)}const u=this.memoryCache.get(l);return u?u.expiresAt<Date.now()?(this.memoryCache.delete(l),null):u.value:null}catch{const u=this.memoryCache.get(l);return u&&u.expiresAt>=Date.now()?u.value:null}}async set(l,u,o){try{const d=JSON.stringify(u);let f=!0;return this.redis&&this.redis.isConnected()&&(f=await this.redis.set(l,d,o)),this.setInMemory(l,u,o),f}catch(d){try{return this.setInMemory(l,u,o),!1}catch{return(0,s.logErrorWithContext)((0,r.extractErrorInfo)(d,{endpoint:l,method:"setCache"}),"[CacheService]"),!1}}}setInMemory(l,u,o){const d=Date.now()+o*1e3;this.memoryCache.set(l,{value:u,expiresAt:d})}async delete(l){let u=!1;this.redis&&this.redis.isConnected()&&(u=await this.redis.delete(l));const o=this.memoryCache.delete(l);return u||o}async clear(){this.memoryCache.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=void 0),this.memoryCache.clear()}}return Tc.CacheService=a,Tc}var Cc={},Wa={};var mg,e1;function _v(){if(e1)return mg;e1=1;function r(E,T){return function(){return E.apply(T,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:a}=Object,{iterator:i,toStringTag:l}=Symbol,u=(E=>T=>{const R=s.call(T);return E[R]||(E[R]=R.slice(8,-1).toLowerCase())})(Object.create(null)),o=E=>(E=E.toLowerCase(),T=>u(T)===E),d=E=>T=>typeof T===E,{isArray:f}=Array,p=d("undefined");function h(E){return E!==null&&!p(E)&&E.constructor!==null&&!p(E.constructor)&&A(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const m=o("ArrayBuffer");function S(E){let T;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?T=ArrayBuffer.isView(E):T=E&&E.buffer&&m(E.buffer),T}const k=d("string"),A=d("function"),x=d("number"),O=E=>E!==null&&typeof E=="object",C=E=>E===!0||E===!1,w=E=>{if(u(E)!=="object")return!1;const T=a(E);return(T===null||T===Object.prototype||Object.getPrototypeOf(T)===null)&&!(l in E)&&!(i in E)},b=E=>{if(!O(E)||h(E))return!1;try{return Object.keys(E).length===0&&Object.getPrototypeOf(E)===Object.prototype}catch{return!1}},_=o("Date"),D=o("File"),L=o("Blob"),U=o("FileList"),N=E=>O(E)&&A(E.pipe),F=E=>{let T;return E&&(typeof FormData=="function"&&E instanceof FormData||A(E.append)&&((T=u(E))==="formdata"||T==="object"&&A(E.toString)&&E.toString()==="[object FormData]"))},Y=o("URLSearchParams"),[se,ge,X,J]=["ReadableStream","Request","Response","Headers"].map(o),q=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(E,T,{allOwnKeys:R=!1}={}){if(E===null||typeof E>"u")return;let I,P;if(typeof E!="object"&&(E=[E]),f(E))for(I=0,P=E.length;I<P;I++)T.call(null,E[I],I,E);else{if(h(E))return;const z=R?Object.getOwnPropertyNames(E):Object.keys(E),K=z.length;let Q;for(I=0;I<K;I++)Q=z[I],T.call(null,E[Q],Q,E)}}function H(E,T){if(h(E))return null;T=T.toLowerCase();const R=Object.keys(E);let I=R.length,P;for(;I-- >0;)if(P=R[I],T===P.toLowerCase())return P;return null}const $=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:oo,Z=E=>!p(E)&&E!==$;function le(){const{caseless:E,skipUndefined:T}=Z(this)&&this||{},R={},I=(P,z)=>{if(z==="__proto__"||z==="constructor"||z==="prototype")return;const K=E&&H(R,z)||z;w(R[K])&&w(P)?R[K]=le(R[K],P):w(P)?R[K]=le({},P):f(P)?R[K]=P.slice():(!T||!p(P))&&(R[K]=P)};for(let P=0,z=arguments.length;P<z;P++)arguments[P]&&M(arguments[P],I);return R}const V=(E,T,R,{allOwnKeys:I}={})=>(M(T,(P,z)=>{R&&A(P)?Object.defineProperty(E,z,{value:r(P,R),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(E,z,{value:P,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:I}),E),re=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),ie=(E,T,R,I)=>{E.prototype=Object.create(T.prototype,I),Object.defineProperty(E.prototype,"constructor",{value:E,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(E,"super",{value:T.prototype}),R&&Object.assign(E.prototype,R)},pe=(E,T,R,I)=>{let P,z,K;const Q={};if(T=T||{},E==null)return T;do{for(P=Object.getOwnPropertyNames(E),z=P.length;z-- >0;)K=P[z],(!I||I(K,E,T))&&!Q[K]&&(T[K]=E[K],Q[K]=!0);E=R!==!1&&a(E)}while(E&&(!R||R(E,T))&&E!==Object.prototype);return T},be=(E,T,R)=>{E=String(E),(R===void 0||R>E.length)&&(R=E.length),R-=T.length;const I=E.indexOf(T,R);return I!==-1&&I===R},je=E=>{if(!E)return null;if(f(E))return E;let T=E.length;if(!x(T))return null;const R=new Array(T);for(;T-- >0;)R[T]=E[T];return R},Le=(E=>T=>E&&T instanceof E)(typeof Uint8Array<"u"&&a(Uint8Array)),ze=(E,T)=>{const I=(E&&E[i]).call(E);let P;for(;(P=I.next())&&!P.done;){const z=P.value;T.call(E,z[0],z[1])}},Ze=(E,T)=>{let R;const I=[];for(;(R=E.exec(T))!==null;)I.push(R);return I},Ht=o("HTMLFormElement"),Wt=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(R,I,P){return I.toUpperCase()+P}),W=(({hasOwnProperty:E})=>(T,R)=>E.call(T,R))(Object.prototype),Re=o("RegExp"),xe=(E,T)=>{const R=Object.getOwnPropertyDescriptors(E),I={};M(R,(P,z)=>{let K;(K=T(P,z,E))!==!1&&(I[z]=K||P)}),Object.defineProperties(E,I)},et=E=>{xe(E,(T,R)=>{if(A(E)&&["arguments","caller","callee"].indexOf(R)!==-1)return!1;const I=E[R];if(A(I)){if(T.enumerable=!1,"writable"in T){T.writable=!1;return}T.set||(T.set=()=>{throw Error("Can not rewrite read-only method '"+R+"'")})}})},ot=(E,T)=>{const R={},I=P=>{P.forEach(z=>{R[z]=!0})};return f(E)?I(E):I(String(E).split(T)),R},yt=()=>{},qi=(E,T)=>E!=null&&Number.isFinite(E=+E)?E:T;function Ar(E){return!!(E&&A(E.append)&&E[l]==="FormData"&&E[i])}const Hi=E=>{const T=new Array(10),R=(I,P)=>{if(O(I)){if(T.indexOf(I)>=0)return;if(h(I))return I;if(!("toJSON"in I)){T[P]=I;const z=f(I)?[]:{};return M(I,(K,Q)=>{const ve=R(K,P+1);!p(ve)&&(z[Q]=ve)}),T[P]=void 0,z}}return I};return R(E,0)},$i=o("AsyncFunction"),fr=E=>E&&(O(E)||A(E))&&A(E.then)&&A(E.catch),Xr=((E,T)=>E?setImmediate:T?((R,I)=>($.addEventListener("message",({source:P,data:z})=>{P===$&&z===R&&I.length&&I.shift()()},!1),P=>{I.push(P),$.postMessage(R,"*")}))(`axios@${Math.random()}`,[]):R=>setTimeout(R))(typeof setImmediate=="function",A($.postMessage)),dr=typeof queueMicrotask<"u"?queueMicrotask.bind($):typeof process<"u"&&process.nextTick||Xr;var G={isArray:f,isArrayBuffer:m,isBuffer:h,isFormData:F,isArrayBufferView:S,isString:k,isNumber:x,isBoolean:C,isObject:O,isPlainObject:w,isEmptyObject:b,isReadableStream:se,isRequest:ge,isResponse:X,isHeaders:J,isUndefined:p,isDate:_,isFile:D,isBlob:L,isRegExp:Re,isFunction:A,isStream:N,isURLSearchParams:Y,isTypedArray:Le,isFileList:U,forEach:M,merge:le,extend:V,trim:q,stripBOM:re,inherits:ie,toFlatObject:pe,kindOf:u,kindOfTest:o,endsWith:be,toArray:je,forEachEntry:ze,matchAll:Ze,isHTMLForm:Ht,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:xe,freezeMethods:et,toObjectSet:ot,toCamelCase:Wt,noop:yt,toFiniteNumber:qi,findKey:H,global:$,isContextDefined:Z,isSpecCompliantForm:Ar,toJSONObject:Hi,isAsyncFn:$i,isThenable:fr,setImmediate:Xr,asap:dr,isIterable:E=>E!=null&&A(E[i])};class lt extends Error{static from(T,R,I,P,z,K){const Q=new lt(T.message,R||T.code,I,P,z);return Q.cause=T,Q.name=T.name,K&&Object.assign(Q,K),Q}constructor(T,R,I,P,z){super(T),this.name="AxiosError",this.isAxiosError=!0,R&&(this.code=R),I&&(this.config=I),P&&(this.request=P),z&&(this.response=z,this.status=z.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}}lt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",lt.ERR_BAD_OPTION="ERR_BAD_OPTION",lt.ECONNABORTED="ECONNABORTED",lt.ETIMEDOUT="ETIMEDOUT",lt.ERR_NETWORK="ERR_NETWORK",lt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",lt.ERR_DEPRECATED="ERR_DEPRECATED",lt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",lt.ERR_BAD_REQUEST="ERR_BAD_REQUEST",lt.ERR_CANCELED="ERR_CANCELED",lt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",lt.ERR_INVALID_URL="ERR_INVALID_URL";var Ie=lt,Bi=null;function _r(E){return G.isPlainObject(E)||G.isArray(E)}function mi(E){return G.endsWith(E,"[]")?E.slice(0,-2):E}function Qr(E,T,R){return E?E.concat(T).map(function(P,z){return P=mi(P),!R&&z?"["+P+"]":P}).join(R?".":""):T}function Vn(E){return G.isArray(E)&&!E.some(_r)}const hr=G.toFlatObject(G,{},null,function(T){return/^is[A-Z]/.test(T)});function Jt(E,T,R){if(!G.isObject(E))throw new TypeError("target must be an object");T=T||new FormData,R=G.toFlatObject(R,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ae,ye){return!G.isUndefined(ye[Ae])});const I=R.metaTokens,P=R.visitor||ae,z=R.dots,K=R.indexes,ve=(R.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(T);if(!G.isFunction(P))throw new TypeError("visitor must be a function");function ue(ce){if(ce===null)return"";if(G.isDate(ce))return ce.toISOString();if(G.isBoolean(ce))return ce.toString();if(!ve&&G.isBlob(ce))throw new Ie("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(ce)||G.isTypedArray(ce)?ve&&typeof Blob=="function"?new Blob([ce]):Buffer.from(ce):ce}function ae(ce,Ae,ye){let Je=ce;if(ce&&!ye&&typeof ce=="object"){if(G.endsWith(Ae,"{}"))Ae=I?Ae:Ae.slice(0,-2),ce=JSON.stringify(ce);else if(G.isArray(ce)&&Vn(ce)||(G.isFileList(ce)||G.endsWith(Ae,"[]"))&&(Je=G.toArray(ce)))return Ae=mi(Ae),Je.forEach(function(nt,pt){!(G.isUndefined(nt)||nt===null)&&T.append(K===!0?Qr([Ae],pt,z):K===null?Ae:Ae+"[]",ue(nt))}),!1}return _r(ce)?!0:(T.append(Qr(ye,Ae,z),ue(ce)),!1)}const Te=[],He=Object.assign(hr,{defaultVisitor:ae,convertValue:ue,isVisitable:_r});function ft(ce,Ae){if(!G.isUndefined(ce)){if(Te.indexOf(ce)!==-1)throw Error("Circular reference detected in "+Ae.join("."));Te.push(ce),G.forEach(ce,function(Je,It){(!(G.isUndefined(Je)||Je===null)&&P.call(T,Je,G.isString(It)?It.trim():It,Ae,He))===!0&&ft(Je,Ae?Ae.concat(It):[It])}),Te.pop()}}if(!G.isObject(E))throw new TypeError("data must be an object");return ft(E),T}function Bt(E){const T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(I){return T[I]})}function Wn(E,T){this._pairs=[],E&&Jt(E,this,T)}const Jn=Wn.prototype;Jn.append=function(T,R){this._pairs.push([T,R])},Jn.toString=function(T){const R=T?function(I){return T.call(this,I,Bt)}:Bt;return this._pairs.map(function(P){return R(P[0])+"="+R(P[1])},"").join("&")};function Zr(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nn(E,T,R){if(!T)return E;const I=R&&R.encode||Zr,P=G.isFunction(R)?{serialize:R}:R,z=P&&P.serialize;let K;if(z?K=z(T,P):K=G.isURLSearchParams(T)?T.toString():new Wn(T,P).toString(I),K){const Q=E.indexOf("#");Q!==-1&&(E=E.slice(0,Q)),E+=(E.indexOf("?")===-1?"?":"&")+K}return E}class gi{constructor(){this.handlers=[]}use(T,R,I){return this.handlers.push({fulfilled:T,rejected:R,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(T){this.handlers[T]&&(this.handlers[T]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(T){G.forEach(this.handlers,function(I){I!==null&&T(I)})}}var vn=gi,vr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Ge=typeof URLSearchParams<"u"?URLSearchParams:Wn,Rt=typeof FormData<"u"?FormData:null,zt=typeof Blob<"u"?Blob:null,tr={isBrowser:!0,classes:{URLSearchParams:Ge,FormData:Rt,Blob:zt},protocols:["http","https","file","blob","url","data"]};const Pr=typeof window<"u"&&typeof document<"u",vt=typeof navigator=="object"&&navigator||void 0,Er=Pr&&(!vt||["ReactNative","NativeScript","NS"].indexOf(vt.product)<0),Yn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",br=Pr&&window.location.href||"http://localhost";var Sr=Object.freeze({__proto__:null,hasBrowserEnv:Pr,hasStandardBrowserWebWorkerEnv:Yn,hasStandardBrowserEnv:Er,navigator:vt,origin:br}),rt={...Sr,...tr};function Mr(E,T){return Jt(E,new rt.classes.URLSearchParams,{visitor:function(R,I,P,z){return rt.isNode&&G.isBuffer(R)?(this.append(I,R.toString("base64")),!1):z.defaultVisitor.apply(this,arguments)},...T})}function ha(E){return G.matchAll(/\w+|\[(\w*)]/g,E).map(T=>T[0]==="[]"?"":T[1]||T[0])}function mo(E){const T={},R=Object.keys(E);let I;const P=R.length;let z;for(I=0;I<P;I++)z=R[I],T[z]=E[z];return T}function en(E){function T(R,I,P,z){let K=R[z++];if(K==="__proto__")return!0;const Q=Number.isFinite(+K),ve=z>=R.length;return K=!K&&G.isArray(P)?P.length:K,ve?(G.hasOwnProp(P,K)?P[K]=[P[K],I]:P[K]=I,!Q):((!P[K]||!G.isObject(P[K]))&&(P[K]=[]),T(R,I,P[K],z)&&G.isArray(P[K])&&(P[K]=mo(P[K])),!Q)}if(G.isFormData(E)&&G.isFunction(E.entries)){const R={};return G.forEachEntry(E,(I,P)=>{T(ha(I),P,R,0)}),R}return null}function Yt(E,T,R){if(G.isString(E))try{return(T||JSON.parse)(E),G.trim(E)}catch(I){if(I.name!=="SyntaxError")throw I}return(R||JSON.stringify)(E)}const Kt={transitional:vr,adapter:["xhr","http","fetch"],transformRequest:[function(T,R){const I=R.getContentType()||"",P=I.indexOf("application/json")>-1,z=G.isObject(T);if(z&&G.isHTMLForm(T)&&(T=new FormData(T)),G.isFormData(T))return P?JSON.stringify(en(T)):T;if(G.isArrayBuffer(T)||G.isBuffer(T)||G.isStream(T)||G.isFile(T)||G.isBlob(T)||G.isReadableStream(T))return T;if(G.isArrayBufferView(T))return T.buffer;if(G.isURLSearchParams(T))return R.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),T.toString();let Q;if(z){if(I.indexOf("application/x-www-form-urlencoded")>-1)return Mr(T,this.formSerializer).toString();if((Q=G.isFileList(T))||I.indexOf("multipart/form-data")>-1){const ve=this.env&&this.env.FormData;return Jt(Q?{"files[]":T}:T,ve&&new ve,this.formSerializer)}}return z||P?(R.setContentType("application/json",!1),Yt(T)):T}],transformResponse:[function(T){const R=this.transitional||Kt.transitional,I=R&&R.forcedJSONParsing,P=this.responseType==="json";if(G.isResponse(T)||G.isReadableStream(T))return T;if(T&&G.isString(T)&&(I&&!this.responseType||P)){const K=!(R&&R.silentJSONParsing)&&P;try{return JSON.parse(T,this.parseReviver)}catch(Q){if(K)throw Q.name==="SyntaxError"?Ie.from(Q,Ie.ERR_BAD_RESPONSE,this,null,this.response):Q}}return T}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(T){return T>=200&&T<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],E=>{Kt.headers[E]={}});var tn=Kt;const pa=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var bl=E=>{const T={};let R,I,P;return E&&E.split(`
`).forEach(function(K){P=K.indexOf(":"),R=K.substring(0,P).trim().toLowerCase(),I=K.substring(P+1).trim(),!(!R||T[R]&&pa[R])&&(R==="set-cookie"?T[R]?T[R].push(I):T[R]=[I]:T[R]=T[R]?T[R]+", "+I:I)}),T};const ma=Symbol("internals");function rn(E){return E&&String(E).trim().toLowerCase()}function qr(E){return E===!1||E==null?E:G.isArray(E)?E.map(qr):String(E)}function ga(E){const T=Object.create(null),R=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=R.exec(E);)T[I[1]]=I[2];return T}const yi=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function nn(E,T,R,I,P){if(G.isFunction(I))return I.call(this,T,R);if(P&&(T=R),!!G.isString(T)){if(G.isString(I))return T.indexOf(I)!==-1;if(G.isRegExp(I))return I.test(T)}}function zi(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(T,R,I)=>R.toUpperCase()+I)}function vi(E,T){const R=G.toCamelCase(" "+T);["get","set","has"].forEach(I=>{Object.defineProperty(E,I+R,{value:function(P,z,K){return this[I].call(this,T,P,z,K)},configurable:!0})})}class At{constructor(T){T&&this.set(T)}set(T,R,I){const P=this;function z(Q,ve,ue){const ae=rn(ve);if(!ae)throw new Error("header name must be a non-empty string");const Te=G.findKey(P,ae);(!Te||P[Te]===void 0||ue===!0||ue===void 0&&P[Te]!==!1)&&(P[Te||ve]=qr(Q))}const K=(Q,ve)=>G.forEach(Q,(ue,ae)=>z(ue,ae,ve));if(G.isPlainObject(T)||T instanceof this.constructor)K(T,R);else if(G.isString(T)&&(T=T.trim())&&!yi(T))K(bl(T),R);else if(G.isObject(T)&&G.isIterable(T)){let Q={},ve,ue;for(const ae of T){if(!G.isArray(ae))throw TypeError("Object iterator must return a key-value pair");Q[ue=ae[0]]=(ve=Q[ue])?G.isArray(ve)?[...ve,ae[1]]:[ve,ae[1]]:ae[1]}K(Q,R)}else T!=null&&z(R,T,I);return this}get(T,R){if(T=rn(T),T){const I=G.findKey(this,T);if(I){const P=this[I];if(!R)return P;if(R===!0)return ga(P);if(G.isFunction(R))return R.call(this,P,I);if(G.isRegExp(R))return R.exec(P);throw new TypeError("parser must be boolean|regexp|function")}}}has(T,R){if(T=rn(T),T){const I=G.findKey(this,T);return!!(I&&this[I]!==void 0&&(!R||nn(this,this[I],I,R)))}return!1}delete(T,R){const I=this;let P=!1;function z(K){if(K=rn(K),K){const Q=G.findKey(I,K);Q&&(!R||nn(I,I[Q],Q,R))&&(delete I[Q],P=!0)}}return G.isArray(T)?T.forEach(z):z(T),P}clear(T){const R=Object.keys(this);let I=R.length,P=!1;for(;I--;){const z=R[I];(!T||nn(this,this[z],z,T,!0))&&(delete this[z],P=!0)}return P}normalize(T){const R=this,I={};return G.forEach(this,(P,z)=>{const K=G.findKey(I,z);if(K){R[K]=qr(P),delete R[z];return}const Q=T?zi(z):String(z).trim();Q!==z&&delete R[z],R[Q]=qr(P),I[Q]=!0}),this}concat(...T){return this.constructor.concat(this,...T)}toJSON(T){const R=Object.create(null);return G.forEach(this,(I,P)=>{I!=null&&I!==!1&&(R[P]=T&&G.isArray(I)?I.join(", "):I)}),R}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([T,R])=>T+": "+R).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(T){return T instanceof this?T:new this(T)}static concat(T,...R){const I=new this(T);return R.forEach(P=>I.set(P)),I}static accessor(T){const I=(this[ma]=this[ma]={accessors:{}}).accessors,P=this.prototype;function z(K){const Q=rn(K);I[Q]||(vi(P,K),I[Q]=!0)}return G.isArray(T)?T.forEach(z):z(T),this}}At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(At.prototype,({value:E},T)=>{let R=T[0].toUpperCase()+T.slice(1);return{get:()=>E,set(I){this[R]=I}}}),G.freezeMethods(At);var Lt=At;function Ei(E,T){const R=this||tn,I=T||R,P=Lt.from(I.headers);let z=I.data;return G.forEach(E,function(Q){z=Q.call(R,z,P.normalize(),T?T.status:void 0)}),P.normalize(),z}function En(E){return!!(E&&E.__CANCEL__)}class bi extends Ie{constructor(T,R,I){super(T??"canceled",Ie.ERR_CANCELED,R,I),this.name="CanceledError",this.__CANCEL__=!0}}var bn=bi;function Cs(E,T,R){const I=R.config.validateStatus;!R.status||!I||I(R.status)?E(R):T(new Ie("Request failed with status code "+R.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(R.status/100)-4],R.config,R.request,R))}function go(E){const T=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return T&&T[1]||""}function Sl(E,T){E=E||10;const R=new Array(E),I=new Array(E);let P=0,z=0,K;return T=T!==void 0?T:1e3,function(ve){const ue=Date.now(),ae=I[z];K||(K=ue),R[P]=ve,I[P]=ue;let Te=z,He=0;for(;Te!==P;)He+=R[Te++],Te=Te%E;if(P=(P+1)%E,P===z&&(z=(z+1)%E),ue-K<T)return;const ft=ae&&ue-ae;return ft?Math.round(He*1e3/ft):void 0}}function xs(E,T){let R=0,I=1e3/T,P,z;const K=(ue,ae=Date.now())=>{R=ae,P=null,z&&(clearTimeout(z),z=null),E(...ue)};return[(...ue)=>{const ae=Date.now(),Te=ae-R;Te>=I?K(ue,ae):(P=ue,z||(z=setTimeout(()=>{z=null,K(P)},I-Te)))},()=>P&&K(P)]}const sn=(E,T,R=3)=>{let I=0;const P=Sl(50,250);return xs(z=>{const K=z.loaded,Q=z.lengthComputable?z.total:void 0,ve=K-I,ue=P(ve),ae=K<=Q;I=K;const Te={loaded:K,total:Q,progress:Q?K/Q:void 0,bytes:ve,rate:ue||void 0,estimated:ue&&Q&&ae?(Q-K)/ue:void 0,event:z,lengthComputable:Q!=null,[T?"download":"upload"]:!0};E(Te)},R)},Hr=(E,T)=>{const R=E!=null;return[I=>T[0]({lengthComputable:R,total:E,loaded:I}),T[1]]},wr=E=>(...T)=>G.asap(()=>E(...T));var yo=rt.hasStandardBrowserEnv?((E,T)=>R=>(R=new URL(R,rt.origin),E.protocol===R.protocol&&E.host===R.host&&(T||E.port===R.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,wl=rt.hasStandardBrowserEnv?{write(E,T,R,I,P,z,K){if(typeof document>"u")return;const Q=[`${E}=${encodeURIComponent(T)}`];G.isNumber(R)&&Q.push(`expires=${new Date(R).toUTCString()}`),G.isString(I)&&Q.push(`path=${I}`),G.isString(P)&&Q.push(`domain=${P}`),z===!0&&Q.push("secure"),G.isString(K)&&Q.push(`SameSite=${K}`),document.cookie=Q.join("; ")},read(E){if(typeof document>"u")return null;const T=document.cookie.match(new RegExp("(?:^|; )"+E+"=([^;]*)"));return T?decodeURIComponent(T[1]):null},remove(E){this.write(E,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ya(E){return typeof E!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function vo(E,T){return T?E.replace(/\/?\/$/,"")+"/"+T.replace(/^\/+/,""):E}function Si(E,T,R){let I=!ya(T);return E&&(I||R==!1)?vo(E,T):T}const va=E=>E instanceof Lt?{...E}:E;function _t(E,T){T=T||{};const R={};function I(ue,ae,Te,He){return G.isPlainObject(ue)&&G.isPlainObject(ae)?G.merge.call({caseless:He},ue,ae):G.isPlainObject(ae)?G.merge({},ae):G.isArray(ae)?ae.slice():ae}function P(ue,ae,Te,He){if(G.isUndefined(ae)){if(!G.isUndefined(ue))return I(void 0,ue,Te,He)}else return I(ue,ae,Te,He)}function z(ue,ae){if(!G.isUndefined(ae))return I(void 0,ae)}function K(ue,ae){if(G.isUndefined(ae)){if(!G.isUndefined(ue))return I(void 0,ue)}else return I(void 0,ae)}function Q(ue,ae,Te){if(Te in T)return I(ue,ae);if(Te in E)return I(void 0,ue)}const ve={url:z,method:z,data:z,baseURL:K,transformRequest:K,transformResponse:K,paramsSerializer:K,timeout:K,timeoutMessage:K,withCredentials:K,withXSRFToken:K,adapter:K,responseType:K,xsrfCookieName:K,xsrfHeaderName:K,onUploadProgress:K,onDownloadProgress:K,decompress:K,maxContentLength:K,maxBodyLength:K,beforeRedirect:K,transport:K,httpAgent:K,httpsAgent:K,cancelToken:K,socketPath:K,responseEncoding:K,validateStatus:Q,headers:(ue,ae,Te)=>P(va(ue),va(ae),Te,!0)};return G.forEach(Object.keys({...E,...T}),function(ae){if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return;const Te=G.hasOwnProp(ve,ae)?ve[ae]:P,He=Te(E[ae],T[ae],ae);G.isUndefined(He)&&Te!==Q||(R[ae]=He)}),R}var Ki=E=>{const T=_t({},E);let{data:R,withXSRFToken:I,xsrfHeaderName:P,xsrfCookieName:z,headers:K,auth:Q}=T;if(T.headers=K=Lt.from(K),T.url=Nn(Si(T.baseURL,T.url,T.allowAbsoluteUrls),E.params,E.paramsSerializer),Q&&K.set("Authorization","Basic "+btoa((Q.username||"")+":"+(Q.password?unescape(encodeURIComponent(Q.password)):""))),G.isFormData(R)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)K.setContentType(void 0);else if(G.isFunction(R.getHeaders)){const ve=R.getHeaders(),ue=["content-type","content-length"];Object.entries(ve).forEach(([ae,Te])=>{ue.includes(ae.toLowerCase())&&K.set(ae,Te)})}}if(rt.hasStandardBrowserEnv&&(I&&G.isFunction(I)&&(I=I(T)),I||I!==!1&&yo(T.url))){const ve=P&&z&&wl.read(z);ve&&K.set(P,ve)}return T},Ea=typeof XMLHttpRequest<"u"&&function(E){return new Promise(function(R,I){const P=Ki(E);let z=P.data;const K=Lt.from(P.headers).normalize();let{responseType:Q,onUploadProgress:ve,onDownloadProgress:ue}=P,ae,Te,He,ft,ce;function Ae(){ft&&ft(),ce&&ce(),P.cancelToken&&P.cancelToken.unsubscribe(ae),P.signal&&P.signal.removeEventListener("abort",ae)}let ye=new XMLHttpRequest;ye.open(P.method.toUpperCase(),P.url,!0),ye.timeout=P.timeout;function Je(){if(!ye)return;const nt=Lt.from("getAllResponseHeaders"in ye&&ye.getAllResponseHeaders()),Pt={data:!Q||Q==="text"||Q==="json"?ye.responseText:ye.response,status:ye.status,statusText:ye.statusText,headers:nt,config:E,request:ye};Cs(function(jt){R(jt),Ae()},function(jt){I(jt),Ae()},Pt),ye=null}"onloadend"in ye?ye.onloadend=Je:ye.onreadystatechange=function(){!ye||ye.readyState!==4||ye.status===0&&!(ye.responseURL&&ye.responseURL.indexOf("file:")===0)||setTimeout(Je)},ye.onabort=function(){ye&&(I(new Ie("Request aborted",Ie.ECONNABORTED,E,ye)),ye=null)},ye.onerror=function(pt){const Pt=pt&&pt.message?pt.message:"Network Error",Nr=new Ie(Pt,Ie.ERR_NETWORK,E,ye);Nr.event=pt||null,I(Nr),ye=null},ye.ontimeout=function(){let pt=P.timeout?"timeout of "+P.timeout+"ms exceeded":"timeout exceeded";const Pt=P.transitional||vr;P.timeoutErrorMessage&&(pt=P.timeoutErrorMessage),I(new Ie(pt,Pt.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,E,ye)),ye=null},z===void 0&&K.setContentType(null),"setRequestHeader"in ye&&G.forEach(K.toJSON(),function(pt,Pt){ye.setRequestHeader(Pt,pt)}),G.isUndefined(P.withCredentials)||(ye.withCredentials=!!P.withCredentials),Q&&Q!=="json"&&(ye.responseType=P.responseType),ue&&([He,ce]=sn(ue,!0),ye.addEventListener("progress",He)),ve&&ye.upload&&([Te,ft]=sn(ve),ye.upload.addEventListener("progress",Te),ye.upload.addEventListener("loadend",ft)),(P.cancelToken||P.signal)&&(ae=nt=>{ye&&(I(!nt||nt.type?new bn(null,E,ye):nt),ye.abort(),ye=null)},P.cancelToken&&P.cancelToken.subscribe(ae),P.signal&&(P.signal.aborted?ae():P.signal.addEventListener("abort",ae)));const It=go(P.url);if(It&&rt.protocols.indexOf(It)===-1){I(new Ie("Unsupported protocol "+It+":",Ie.ERR_BAD_REQUEST,E));return}ye.send(z||null)})},Eo=(E,T)=>{const{length:R}=E=E?E.filter(Boolean):[];if(T||R){let I=new AbortController,P;const z=function(ue){if(!P){P=!0,Q();const ae=ue instanceof Error?ue:this.reason;I.abort(ae instanceof Ie?ae:new bn(ae instanceof Error?ae.message:ae))}};let K=T&&setTimeout(()=>{K=null,z(new Ie(`timeout of ${T}ms exceeded`,Ie.ETIMEDOUT))},T);const Q=()=>{E&&(K&&clearTimeout(K),K=null,E.forEach(ue=>{ue.unsubscribe?ue.unsubscribe(z):ue.removeEventListener("abort",z)}),E=null)};E.forEach(ue=>ue.addEventListener("abort",z));const{signal:ve}=I;return ve.unsubscribe=()=>G.asap(Q),ve}};const bo=function*(E,T){let R=E.byteLength;if(R<T){yield E;return}let I=0,P;for(;I<R;)P=I+T,yield E.slice(I,P),I=P},wi=async function*(E,T){for await(const R of Tl(E))yield*bo(R,T)},Tl=async function*(E){if(E[Symbol.asyncIterator]){yield*E;return}const T=E.getReader();try{for(;;){const{done:R,value:I}=await T.read();if(R)break;yield I}}finally{await T.cancel()}},As=(E,T,R,I)=>{const P=wi(E,T);let z=0,K,Q=ve=>{K||(K=!0,I&&I(ve))};return new ReadableStream({async pull(ve){try{const{done:ue,value:ae}=await P.next();if(ue){Q(),ve.close();return}let Te=ae.byteLength;if(R){let He=z+=Te;R(He)}ve.enqueue(new Uint8Array(ae))}catch(ue){throw Q(ue),ue}},cancel(ve){return Q(ve),P.return()}},{highWaterMark:2})},_s=64*1024,{isFunction:Sn}=G,Cl=(({Request:E,Response:T})=>({Request:E,Response:T}))(G.global),{ReadableStream:ba,TextEncoder:Ti}=G.global,$r=(E,...T)=>{try{return!!E(...T)}catch{return!1}},Sa=E=>{E=G.merge.call({skipUndefined:!0},Cl,E);const{fetch:T,Request:R,Response:I}=E,P=T?Sn(T):typeof fetch=="function",z=Sn(R),K=Sn(I);if(!P)return!1;const Q=P&&Sn(ba),ve=P&&(typeof Ti=="function"?(ce=>Ae=>ce.encode(Ae))(new Ti):async ce=>new Uint8Array(await new R(ce).arrayBuffer())),ue=z&&Q&&$r(()=>{let ce=!1;const Ae=new R(rt.origin,{body:new ba,method:"POST",get duplex(){return ce=!0,"half"}}).headers.has("Content-Type");return ce&&!Ae}),ae=K&&Q&&$r(()=>G.isReadableStream(new I("").body)),Te={stream:ae&&(ce=>ce.body)};P&&["text","arrayBuffer","blob","formData","stream"].forEach(ce=>{!Te[ce]&&(Te[ce]=(Ae,ye)=>{let Je=Ae&&Ae[ce];if(Je)return Je.call(Ae);throw new Ie(`Response type '${ce}' is not supported`,Ie.ERR_NOT_SUPPORT,ye)})});const He=async ce=>{if(ce==null)return 0;if(G.isBlob(ce))return ce.size;if(G.isSpecCompliantForm(ce))return(await new R(rt.origin,{method:"POST",body:ce}).arrayBuffer()).byteLength;if(G.isArrayBufferView(ce)||G.isArrayBuffer(ce))return ce.byteLength;if(G.isURLSearchParams(ce)&&(ce=ce+""),G.isString(ce))return(await ve(ce)).byteLength},ft=async(ce,Ae)=>{const ye=G.toFiniteNumber(ce.getContentLength());return ye??He(Ae)};return async ce=>{let{url:Ae,method:ye,data:Je,signal:It,cancelToken:nt,timeout:pt,onDownloadProgress:Pt,onUploadProgress:Nr,responseType:jt,headers:Yi,withCredentials:ei="same-origin",fetchOptions:xa}=Ki(ce),Ra=T||fetch;jt=jt?(jt+"").toLowerCase():"text";let ti=Eo([It,nt&&nt.toAbortSignal()],pt),wn=null;const pr=ti&&ti.unsubscribe&&(()=>{ti.unsubscribe()});let ri;try{if(Nr&&ue&&ye!=="get"&&ye!=="head"&&(ri=await ft(Yi,Je))!==0){let nr=new R(Ae,{method:"POST",body:Je,duplex:"half"}),ir;if(G.isFormData(Je)&&(ir=nr.headers.get("content-type"))&&Yi.setContentType(ir),nr.body){const[Xi,ni]=Hr(ri,sn(wr(Nr)));Je=As(nr.body,_s,Xi,ni)}}G.isString(ei)||(ei=ei?"include":"omit");const Et=z&&"credentials"in R.prototype,Is={...xa,signal:ti,method:ye.toUpperCase(),headers:Yi.normalize().toJSON(),body:Je,duplex:"half",credentials:Et?ei:void 0};wn=z&&new R(Ae,Is);let rr=await(z?Ra(wn,xa):Ra(Ae,Is));const js=ae&&(jt==="stream"||jt==="response");if(ae&&(Pt||js&&pr)){const nr={};["status","statusText","headers"].forEach(Aa=>{nr[Aa]=rr[Aa]});const ir=G.toFiniteNumber(rr.headers.get("content-length")),[Xi,ni]=Pt&&Hr(ir,sn(wr(Pt),!0))||[];rr=new I(As(rr.body,_s,Xi,()=>{ni&&ni(),pr&&pr()}),nr)}jt=jt||"text";let wo=await Te[G.findKey(Te,jt)||"text"](rr,ce);return!js&&pr&&pr(),await new Promise((nr,ir)=>{Cs(nr,ir,{data:wo,headers:Lt.from(rr.headers),status:rr.status,statusText:rr.statusText,config:ce,request:wn})})}catch(Et){throw pr&&pr(),Et&&Et.name==="TypeError"&&/Load failed|fetch/i.test(Et.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,ce,wn,Et&&Et.response),{cause:Et.cause||Et}):Ie.from(Et,Et&&Et.code,ce,wn,Et&&Et.response)}}},wa=new Map,kn=E=>{let T=E&&E.env||{};const{fetch:R,Request:I,Response:P}=T,z=[I,P,R];let K=z.length,Q=K,ve,ue,ae=wa;for(;Q--;)ve=z[Q],ue=ae.get(ve),ue===void 0&&ae.set(ve,ue=Q?new Map:Sa(T)),ae=ue;return ue};kn();const an={http:Bi,xhr:Ea,fetch:{get:kn}};G.forEach(an,(E,T)=>{if(E){try{Object.defineProperty(E,"name",{value:T})}catch{}Object.defineProperty(E,"adapterName",{value:T})}});const Os=E=>`- ${E}`,Ta=E=>G.isFunction(E)||E===null||E===!1;function So(E,T){E=G.isArray(E)?E:[E];const{length:R}=E;let I,P;const z={};for(let K=0;K<R;K++){I=E[K];let Q;if(P=I,!Ta(I)&&(P=an[(Q=String(I)).toLowerCase()],P===void 0))throw new Ie(`Unknown adapter '${Q}'`);if(P&&(G.isFunction(P)||(P=P.get(T))))break;z[Q||"#"+K]=P}if(!P){const K=Object.entries(z).map(([ve,ue])=>`adapter ${ve} `+(ue===!1?"is not supported by the environment":"is not available in the build"));let Q=R?K.length>1?`since :
`+K.map(Os).join(`
`):" "+Os(K[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+Q,"ERR_NOT_SUPPORT")}return P}var Xn={getAdapter:So,adapters:an};function Or(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new bn(null,E)}function Fi(E){return Or(E),E.headers=Lt.from(E.headers),E.data=Ei.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),Xn.getAdapter(E.adapter||tn.adapter,E)(E).then(function(I){return Or(E),I.data=Ei.call(E,E.transformResponse,I),I.headers=Lt.from(I.headers),I},function(I){return En(I)||(Or(E),I&&I.response&&(I.response.data=Ei.call(E,E.transformResponse,I.response),I.response.headers=Lt.from(I.response.headers))),Promise.reject(I)})}const Qn="1.13.5",Tr={};["object","boolean","number","function","string","symbol"].forEach((E,T)=>{Tr[E]=function(I){return typeof I===E||"a"+(T<1?"n ":" ")+E}});const Gi={};Tr.transitional=function(T,R,I){function P(z,K){return"[Axios v"+Qn+"] Transitional option '"+z+"'"+K+(I?". "+I:"")}return(z,K,Q)=>{if(T===!1)throw new Ie(P(K," has been removed"+(R?" in "+R:"")),Ie.ERR_DEPRECATED);return R&&!Gi[K]&&(Gi[K]=!0,console.warn(P(K," has been deprecated since v"+R+" and will be removed in the near future"))),T?T(z,K,Q):!0}},Tr.spelling=function(T){return(R,I)=>(console.warn(`${I} is likely a misspelling of ${T}`),!0)};function Ns(E,T,R){if(typeof E!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const I=Object.keys(E);let P=I.length;for(;P-- >0;){const z=I[P],K=T[z];if(K){const Q=E[z],ve=Q===void 0||K(Q,z,E);if(ve!==!0)throw new Ie("option "+z+" must be "+ve,Ie.ERR_BAD_OPTION_VALUE);continue}if(R!==!0)throw new Ie("Unknown option "+z,Ie.ERR_BAD_OPTION)}}var In={assertOptions:Ns,validators:Tr};const wt=In.validators;class on{constructor(T){this.defaults=T||{},this.interceptors={request:new vn,response:new vn}}async request(T,R){try{return await this._request(T,R)}catch(I){if(I instanceof Error){let P={};Error.captureStackTrace?Error.captureStackTrace(P):P=new Error;const z=P.stack?P.stack.replace(/^.+\n/,""):"";try{I.stack?z&&!String(I.stack).endsWith(z.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+z):I.stack=z}catch{}}throw I}}_request(T,R){typeof T=="string"?(R=R||{},R.url=T):R=T||{},R=_t(this.defaults,R);const{transitional:I,paramsSerializer:P,headers:z}=R;I!==void 0&&In.assertOptions(I,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean),legacyInterceptorReqResOrdering:wt.transitional(wt.boolean)},!1),P!=null&&(G.isFunction(P)?R.paramsSerializer={serialize:P}:In.assertOptions(P,{encode:wt.function,serialize:wt.function},!0)),R.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?R.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:R.allowAbsoluteUrls=!0),In.assertOptions(R,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),R.method=(R.method||this.defaults.method||"get").toLowerCase();let K=z&&G.merge(z.common,z[R.method]);z&&G.forEach(["delete","get","head","post","put","patch","common"],ce=>{delete z[ce]}),R.headers=Lt.concat(K,z);const Q=[];let ve=!0;this.interceptors.request.forEach(function(Ae){if(typeof Ae.runWhen=="function"&&Ae.runWhen(R)===!1)return;ve=ve&&Ae.synchronous;const ye=R.transitional||vr;ye&&ye.legacyInterceptorReqResOrdering?Q.unshift(Ae.fulfilled,Ae.rejected):Q.push(Ae.fulfilled,Ae.rejected)});const ue=[];this.interceptors.response.forEach(function(Ae){ue.push(Ae.fulfilled,Ae.rejected)});let ae,Te=0,He;if(!ve){const ce=[Fi.bind(this),void 0];for(ce.unshift(...Q),ce.push(...ue),He=ce.length,ae=Promise.resolve(R);Te<He;)ae=ae.then(ce[Te++],ce[Te++]);return ae}He=Q.length;let ft=R;for(;Te<He;){const ce=Q[Te++],Ae=Q[Te++];try{ft=ce(ft)}catch(ye){Ae.call(this,ye);break}}try{ae=Fi.call(this,ft)}catch(ce){return Promise.reject(ce)}for(Te=0,He=ue.length;Te<He;)ae=ae.then(ue[Te++],ue[Te++]);return ae}getUri(T){T=_t(this.defaults,T);const R=Si(T.baseURL,T.url,T.allowAbsoluteUrls);return Nn(R,T.params,T.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(T){on.prototype[T]=function(R,I){return this.request(_t(I||{},{method:T,url:R,data:(I||{}).data}))}}),G.forEach(["post","put","patch"],function(T){function R(I){return function(z,K,Q){return this.request(_t(Q||{},{method:T,headers:I?{"Content-Type":"multipart/form-data"}:{},url:z,data:K}))}}on.prototype[T]=R(),on.prototype[T+"Form"]=R(!0)});var jn=on;class Ft{constructor(T){if(typeof T!="function")throw new TypeError("executor must be a function.");let R;this.promise=new Promise(function(z){R=z});const I=this;this.promise.then(P=>{if(!I._listeners)return;let z=I._listeners.length;for(;z-- >0;)I._listeners[z](P);I._listeners=null}),this.promise.then=P=>{let z;const K=new Promise(Q=>{I.subscribe(Q),z=Q}).then(P);return K.cancel=function(){I.unsubscribe(z)},K},T(function(z,K,Q){I.reason||(I.reason=new bn(z,K,Q),R(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(T){if(this.reason){T(this.reason);return}this._listeners?this._listeners.push(T):this._listeners=[T]}unsubscribe(T){if(!this._listeners)return;const R=this._listeners.indexOf(T);R!==-1&&this._listeners.splice(R,1)}toAbortSignal(){const T=new AbortController,R=I=>{T.abort(I)};return this.subscribe(R),T.signal.unsubscribe=()=>this.unsubscribe(R),T.signal}static source(){let T;return{token:new Ft(function(P){T=P}),cancel:T}}}var Zn=Ft;function ks(E){return function(R){return E.apply(null,R)}}function Vi(E){return G.isObject(E)&&E.isAxiosError===!0}const Wi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wi).forEach(([E,T])=>{Wi[T]=E});var Ca=Wi;function Ji(E){const T=new jn(E),R=r(jn.prototype.request,T);return G.extend(R,jn.prototype,T,{allOwnKeys:!0}),G.extend(R,T,null,{allOwnKeys:!0}),R.create=function(P){return Ji(_t(E,P))},R}const Ve=Ji(tn);return Ve.Axios=jn,Ve.CanceledError=bn,Ve.CancelToken=Zn,Ve.isCancel=En,Ve.VERSION=Qn,Ve.toFormData=Jt,Ve.AxiosError=Ie,Ve.Cancel=Ve.CanceledError,Ve.all=function(T){return Promise.all(T)},Ve.spread=ks,Ve.isAxiosError=Vi,Ve.mergeConfig=_t,Ve.AxiosHeaders=Lt,Ve.formToJSON=E=>en(G.isHTMLForm(E)?new FormData(E):E),Ve.getAdapter=Xn.getAdapter,Ve.HttpStatusCode=Ca,Ve.default=Ve,mg=Ve,mg}var xc={},t1;function tA(){if(t1)return xc;t1=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.AuthStrategyHandler=void 0;class r{static buildAuthHeaders(a,i,l,u){const o={};for(const d of a.methods)switch(d){case"bearer":if(a.bearerToken)return o.Authorization=`Bearer ${a.bearerToken}`,o;break;case"client-token":if(i)return o["x-client-token"]=i,o;break;case"client-credentials":if(l&&u)return o["x-client-id"]=l,o["x-client-secret"]=u,o;break;case"api-key":if(a.apiKey)return o.Authorization=`Bearer ${a.apiKey}`,o;break}return o}static shouldTryMethod(a,i){if(!i.methods.includes(a))return!1;switch(a){case"bearer":return!!i.bearerToken;case"client-token":return!0;case"client-credentials":return!0;case"api-key":return!!i.apiKey;default:return!1}}static getDefaultStrategy(a){return{methods:["bearer","client-token"],bearerToken:a}}static mergeStrategy(a,i){return a?{methods:a.methods.length>0?a.methods:i.methods,bearerToken:a.bearerToken||i.bearerToken,apiKey:a.apiKey||i.apiKey}:i}}return xc.AuthStrategyHandler=r,xc}var Ja={},r1;function bu(){if(r1)return Ja;r1=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.isBrowser=r,Ja.validateUrl=s,Ja.resolveControllerUrl=a,Ja.resolveKeycloakUrl=i;function r(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function s(l){try{const u=new URL(l);return u.protocol==="http:"||u.protocol==="https:"}catch{return!1}}function a(l){const u=r();let o;if(u?o=l.controllerPublicUrl:o=l.controllerPrivateUrl,o||(o=l.controllerUrl),!o)throw new Error(`No controller URL configured. Please provide ${u?"controllerPublicUrl":"controllerPrivateUrl"} or controllerUrl in your configuration.`);if(!s(o))throw new Error(`Invalid controller URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}function i(l){const u=r();let o;if(u?o=l.authServerPublicUrl:o=l.authServerPrivateUrl,o||(o=l.authServerUrl),!o)throw new Error(`No Keycloak URL configured. Please provide ${u?"authServerPublicUrl":"authServerPrivateUrl"} or authServerUrl in your Keycloak configuration.`);if(!s(o))throw new Error(`Invalid Keycloak URL format: "${o}". URL must be a valid HTTP or HTTPS URL.`);return o.includes("localhost")&&(o=o.replace(/localhost/g,"127.0.0.1")),o}return Ja}var qf={},gg={},Hf={},n1;function Ov(){if(n1)return Hf;n1=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.isErrorResponse=r;function r(s){if(!s||typeof s!="object")return!1;const a=s;return!(!Array.isArray(a.errors)||!a.errors.every(i=>typeof i=="string")||typeof a.type!="string"||typeof a.title!="string"||typeof a.statusCode!="number"||a.instance!==void 0&&typeof a.instance!="string")}return Hf}var i1;function GI(){return i1||(i1=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateErrorResponse=void 0,r.validateSuccessResponse=s,r.validatePaginatedResponse=l,r.getResponseType=o;function s(d){if(!d||typeof d!="object")return!1;const f=d;return!(typeof f.success!="boolean"||typeof f.timestamp!="string"||f.message!==void 0&&typeof f.message!="string")}function a(d){if(!d||typeof d!="object")return!1;const f=d;return typeof f.totalItems=="number"&&typeof f.currentPage=="number"&&typeof f.pageSize=="number"&&typeof f.type=="string"}function i(d){if(d===void 0)return!0;if(typeof d!="object"||d===null)return!1;const f=d;return!(f.first!==void 0&&typeof f.first!="string"||f.prev!==void 0&&typeof f.prev!="string"||f.next!==void 0&&typeof f.next!="string"||f.last!==void 0&&typeof f.last!="string")}function l(d){if(!d||typeof d!="object")return!1;const f=d;return!Array.isArray(f.data)||!a(f.meta)?!1:i(f.links)}var u=Ov();Object.defineProperty(r,"validateErrorResponse",{enumerable:!0,get:function(){return u.isErrorResponse}});function o(d){return s(d)?"success":l(d)?"paginated":"unknown"}})(gg)),gg}var s1;function VI(){if(s1)return qf;s1=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.validateHttpResponse=a;const r=GI();function s(i,l,u,o){const d=`Response validation failed for ${i}: ${l} ${u} Actual: ${JSON.stringify(o)}
`;console.warn(d)}function a(i,l,u){if(u.validateResponses===!1||(l.includes("/api/v1/auth/validate")||l.includes("/api/auth/validate"))&&i&&typeof i=="object"&&"data"in i)return!0;const o=(0,r.getResponseType)(i);return o==="unknown"?(s(l,"Response structure doesn't match expected format.","Expected: success response ({success, data?, message?, timestamp}) or paginated response ({data[], meta, links?}).",i),!1):o==="success"&&!(0,r.validateSuccessResponse)(i)?(s(l,"Success response structure invalid.","Expected: {success: boolean, data?: T, message?: string, timestamp: string}.",i),!1):o==="paginated"&&!(0,r.validatePaginatedResponse)(i)?(s(l,"Paginated response structure invalid.","Expected: {data: T[], meta: {totalItems, currentPage, pageSize, type}, links?}.",i),!1):!0}return qf}var Ya={},ys={},a1;function hl(){if(a1)return ys;a1=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.ApiErrorException=ys.MisoClientError=void 0,ys.transformError=i,ys.handleApiError=u;class r extends Error{constructor(d,f,p,h,m){let S=d;f&&(f.title?S=f.title:f.errors&&f.errors.length>0&&(S=f.errors[0])),super(S),this.name="MisoClientError",this.errorResponse=f,this.errorBody=p,this.statusCode=h??f?.statusCode,this.authMethod=m??f?.authMethod??null,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}ys.MisoClientError=r;function s(o,d){const f=o.error;return{errors:f.errors??["Unknown error"],type:f.type??"about:blank",title:f.title??d.message??"Unknown error",statusCode:f.statusCode??d.response?.status??500,instance:f.instance??d.config?.url,correlationId:f.correlationId}}function a(o,d){const f=typeof o.statusCode=="number"?o.statusCode:typeof d.response?.status=="number"?d.response.status:500;return{errors:Array.isArray(o.errors)?o.errors:["Unknown error"],type:o.type??"about:blank",title:o.title??d.message??"Unknown error",statusCode:f,instance:o.instance??d.config?.url,correlationId:o.correlationId}}function i(o){if(o&&typeof o=="object"&&"response"in o){const d=o,f=d.response?.data;return f&&typeof f=="object"?"error"in f?s(f,d):a(f,d):{errors:[d.message??"Network error"],type:"about:blank",title:"Network error",statusCode:d.response?.status??0}}return o instanceof Error?{errors:[o.message??"Unknown error"],type:"about:blank",title:"Error",statusCode:0}:{errors:["Unknown error"],type:"about:blank",title:"Unknown error",statusCode:0}}class l extends Error{constructor(d){super(d.title||"API Error"),this.name="ApiErrorException",this.statusCode=d.statusCode,this.correlationId=d.correlationId,this.type=d.type,this.instance=d.instance,this.errors=d.errors,Error.captureStackTrace&&Error.captureStackTrace(this,l)}}ys.ApiErrorException=l;function u(o){const d=i(o);throw new l(d)}return ys}var o1;function Nv(){if(o1)return Ya;o1=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.detectAuthMethodFromHeaders=i,Ya.parseErrorResponse=l,Ya.createMisoClientError=u,Ya.isAxiosError=o;const r=_v(),s=Ov(),a=hl();function i(d){return d?d.Authorization?"bearer":d["x-client-token"]?"client-token":d["x-client-id"]?"client-credentials":null:null}function l(d,f){try{if(!d.response?.data)return null;const p=d.response.data;if(typeof p=="object"&&p!==null&&(0,s.isErrorResponse)(p)){const h=p;return{errors:p.errors,type:p.type,title:p.title,statusCode:p.statusCode,instance:p.instance||f,authMethod:h.authMethod}}if(typeof p=="string")try{const h=JSON.parse(p);if((0,s.isErrorResponse)(h)){const m=h;return{errors:h.errors,type:h.type,title:h.title,statusCode:h.statusCode,instance:h.instance||f,authMethod:m.authMethod}}}catch{return null}return null}catch{return null}}function u(d,f){const p=d.response?.status,h=l(d,f);let m=null;p===401&&(m=h?.authMethod??i(d.config?.headers));let S;d.response?.data&&typeof d.response.data=="object"&&(S=d.response.data);let k=d.message||"Request failed";return d.response&&(k=d.response.statusText||`Request failed with status code ${p}`),new a.MisoClientError(k,h||void 0,S,p,m)}function o(d){return d instanceof r.AxiosError?!0:typeof d=="object"&&d!==null&&"isAxiosError"in d?d.isAxiosError===!0:!1}return Ya}var xr={},l1;function WI(){if(l1)return xr;l1=1;var r=xr&&xr.__createBinding||(Object.create?(function(O,C,w,b){b===void 0&&(b=w);var _=Object.getOwnPropertyDescriptor(C,w);(!_||("get"in _?!C.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return C[w]}}),Object.defineProperty(O,b,_)}):(function(O,C,w,b){b===void 0&&(b=w),O[b]=C[w]})),s=xr&&xr.__setModuleDefault||(Object.create?(function(O,C){Object.defineProperty(O,"default",{enumerable:!0,value:C})}):function(O,C){O.default=C}),a=xr&&xr.__importStar||(function(){var O=function(C){return O=Object.getOwnPropertyNames||function(w){var b=[];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(b[b.length]=_);return b},O(C)};return function(C){if(C&&C.__esModule)return C;var w={};if(C!=null)for(var b=O(C),_=0;_<b.length;_++)b[_]!=="default"&&r(w,C,b[_]);return s(w,C),w}})(),i=xr&&xr.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.generateCorrelationId=f,xr.createHttpAgent=p,xr.extractTokenFromResponse=h,xr.formatTokenFetchError=m,xr.fetchClientToken=k,xr.refreshClientTokenFromCallback=A,xr.isTokenValid=x;const l=i(_v()),u=bu(),o=Nv(),d=hl();function f(O){const C=Date.now(),w=Math.random().toString(36).substring(2,8);return`${O.substring(0,10)}-${C}-${w}`}async function p(O,C){const w=await Promise.resolve().then(()=>a(aa)),b=await Promise.resolve().then(()=>a(aa));return O?new b.Agent({family:4,timeout:C}):new w.Agent({family:4,timeout:C})}function h(O,C){const w=O.data.data?.token||O.data.token,b=O.data.data?.expiresIn||O.data.expiresIn,_=O.data.success===!0,D=O.status>=200&&O.status<300;return w&&(_||D)?(C.token=w,b&&(C.expiresAt=new Date(Date.now()+(b-30)*1e3)),C.token):null}function m(O,C,w){const b=O instanceof Error?O.message:"Unknown error",_=(0,o.isAxiosError)(O)?O.response?.status:void 0,D=(0,o.isAxiosError)(O)&&O.response?`status: ${O.response.status}, data: ${JSON.stringify(O.response.data)}`:(0,o.isAxiosError)(O)&&O.request?`code: ${O.code||"N/A"}`:"",L=`Failed to get client token: ${b}${D?`. ${D}`:""}`,U={errors:[`Client credential authentication failed: ${b}${D?`. ${D}`:""}`],type:"/Errors/Unauthorized",title:L,statusCode:_||401,instance:"/api/v1/auth/token",authMethod:"client-credentials"};return new d.MisoClientError(`Failed to authenticate with client credentials (clientId: ${w}) [correlationId: ${C}]`,U,void 0,_||401,"client-credentials")}async function S(O){const w=new AbortController,b=setTimeout(()=>w.abort(),3e4);typeof b.unref=="function"&&b.unref();const _=(0,u.resolveControllerUrl)(O),D=_.startsWith("https://"),L=await p(D,3e4),U=l.default.create({baseURL:_,timeout:3e4,signal:w.signal,httpAgent:D?void 0:L,httpsAgent:D?L:void 0,headers:{"Content-Type":"application/json","x-client-id":O.clientId,"x-client-secret":O.clientSecret}}),N=new Promise((F,Y)=>{const se=setTimeout(()=>Y(new Error("Request timeout after 30000ms")),3e4);typeof se.unref=="function"&&se.unref()});try{const F=await Promise.race([U.post(O.clientTokenUri||"/api/v1/auth/token"),N]);return clearTimeout(b),F}catch(F){throw clearTimeout(b),F}}async function k(O,C){if(!O.clientSecret)throw new Error("Cannot fetch client token: clientSecret is required but not provided");const w=f(O.clientId),b=O.clientId;try{const _=await S(O),D=h(_,C);if(D)return D;throw new Error(`Failed to get client token: Invalid response format. Full response: ${JSON.stringify({status:_.status,data:_.data})} [correlationId: ${w}, clientId: ${b}]`)}catch(_){throw m(_,w,b)}}async function A(O,C){if(!O.onClientTokenRefresh)throw new Error("Client token expired and no refresh callback provided");try{const w=await O.onClientTokenRefresh();if(C.token=w.token,w.expiresIn){const b=w.expiresIn-30;C.expiresAt=new Date(Date.now()+b*1e3)}return C.token}catch(w){throw C.token=null,C.expiresAt=null,w}}function x(O,C=6e4){const w=new Date;return!!(O.token&&O.expiresAt&&O.expiresAt>new Date(w.getTime()+C))}return xr}var c1;function kv(){if(c1)return Wa;c1=1;var r=Wa&&Wa.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.InternalHttpClient=void 0;const s=r(_v()),a=tA(),i=bu(),l=VI(),u=Nv(),o=WI();class d{constructor(p){this.tokenState={token:null,expiresAt:null},this.tokenRefreshPromise=null,this.config=p,this.initializeTokenFromConfig(p),this.axios=this.createAxiosInstance(p),this.setupInterceptors()}initializeTokenFromConfig(p){p.clientToken&&(this.tokenState.token=p.clientToken,p.clientTokenExpiresAt&&(this.tokenState.expiresAt=typeof p.clientTokenExpiresAt=="string"?new Date(p.clientTokenExpiresAt):p.clientTokenExpiresAt))}createAxiosInstance(p){const h=(0,i.resolveControllerUrl)(p),m=h.startsWith("https://");let S,k;const A=p.timeout??3e4;if(typeof globalThis.window>"u"){const x=aa,O=aa,C={family:4,timeout:A,keepAlive:!1};S=m?void 0:new x.Agent(C),k=m?new O.Agent(C):void 0}return s.default.create({baseURL:h,timeout:A,httpAgent:S,httpsAgent:k,headers:{"Content-Type":"application/json"}})}setupInterceptors(){this.axios.interceptors.request.use(async p=>{if(p.headers=p.headers||{},!p.headers["x-client-token"]&&!p.headers["x-client-id"]){const h=await this.getClientToken();h?p.headers["x-client-token"]=h:console.warn("Client token is not available. Ensure clientSecret or onClientTokenRefresh is configured.")}return p},p=>Promise.reject(p)),this.axios.interceptors.response.use(p=>p,p=>(p.response?.status===401&&this.handle401Error(p),Promise.reject(p)))}handle401Error(p){const h=p.config?.headers,m=!!h?.Authorization,S=!!h?.["x-client-token"];m?p.message="Bearer token authentication failed - token may be invalid or expired":S?p.message="Client token authentication failed - x-client-token may be invalid or expired":p.message="Authentication failed - token may be invalid",this.tokenState.token=null,this.tokenState.expiresAt=null}async getClientToken(){return(0,o.isTokenValid)(this.tokenState)?this.tokenState.token:this.tokenRefreshPromise?this.tokenRefreshPromise:this.config.onClientTokenRefresh?this.executeTokenRefresh(()=>(0,o.refreshClientTokenFromCallback)(this.config,this.tokenState)):this.config.clientSecret?this.executeTokenRefresh(()=>(0,o.fetchClientToken)(this.config,this.tokenState)):null}async executeTokenRefresh(p){this.tokenRefreshPromise=p();try{return await this.tokenRefreshPromise}finally{this.tokenRefreshPromise=null}}mergeAbortSignals(p,h){const m=new AbortController,S=()=>m.abort();return p.addEventListener("abort",S),h.addEventListener("abort",S),m.signal}async executeWithTimeout(p,h){const m=this.config.timeout??3e4,S=new AbortController;let k=null;const A=new Promise((O,C)=>{k=setTimeout(()=>{S.abort(),C(new Error(`Request timeout after ${m}ms`))},m)}),x={...h,signal:h?.signal?this.mergeAbortSignals(S.signal,h.signal):S.signal};try{const O=await Promise.race([p(x),A]);return(0,l.validateHttpResponse)(O.data,O.config?.url||"",this.config),O.data}catch(O){throw(0,u.isAxiosError)(O)?(0,u.createMisoClientError)(O,O.config?.url):O}finally{k&&clearTimeout(k)}}async buildAuthStrategyConfig(p,h){const m=await this.getClientToken(),S=a.AuthStrategyHandler.buildAuthHeaders(p,m,this.config.clientId,this.config.clientSecret);return{...h,headers:{...h?.headers,...S}}}async executeMethod(p,h,m,S){switch(p){case"GET":return this.get(h,S);case"POST":return this.post(h,m,S);case"PUT":return this.put(h,m,S);case"DELETE":return this.delete(h,S);default:throw new Error(`Unsupported HTTP method: ${p}`)}}getAxiosInstance(){return this.axios}async get(p,h){return this.executeWithTimeout(m=>this.axios.get(p,m),h)}async post(p,h,m){const{data:S,...k}=m??{};return this.executeWithTimeout(A=>this.axios.post(p,h,A),k)}async put(p,h,m){const{data:S,...k}=m??{};return this.executeWithTimeout(A=>this.axios.put(p,h,A),k)}async delete(p,h){return this.executeWithTimeout(m=>this.axios.delete(p,m),h)}async request(p,h,m,S){return this.executeMethod(p,h,m,S||{})}async authenticatedRequest(p,h,m,S,k,A){const x=A?await this.buildAuthStrategyConfig(A,k):{...k,headers:{...k?.headers,Authorization:`Bearer ${m}`}};return this.executeMethod(p,h,S,x)}async requestWithAuthStrategy(p,h,m,S,k){const A=await this.buildAuthStrategyConfig(m,k);return this.executeMethod(p,h,S,A)}}return Wa.InternalHttpClient=d,Wa}var Rc={},pn={};const JI="1.0.0",YI="ISO 27001 compliant sensitive fields configuration for data masking",XI={authentication:["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apiKey","accessToken","refreshToken"],pii:["email","emailAddress","phone","phoneNumber","telephone","mobile","cellPhone","ssn","socialSecurityNumber","taxId","taxIdentification"],financial:["creditCard","cc","cardNumber","cvv","cvv2","cvc","pin","bankAccount","bankAccountNumber","routingNumber","iban","swift","accountNumber"],security:["otp","oneTimePassword","privateKey","publicKey","encryptionKey","decryptionKey"]},QI=["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"],ZI={version:JI,description:YI,categories:XI,fieldPatterns:QI};var u1;function ej(){if(u1)return pn;u1=1;var r={},s=pn&&pn.__createBinding||(Object.create?(function(b,_,D,L){L===void 0&&(L=D);var U=Object.getOwnPropertyDescriptor(_,D);(!U||("get"in U?!_.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return _[D]}}),Object.defineProperty(b,L,U)}):(function(b,_,D,L){L===void 0&&(L=D),b[L]=_[D]})),a=pn&&pn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=pn&&pn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(D){var L=[];for(var U in D)Object.prototype.hasOwnProperty.call(D,U)&&(L[L.length]=U);return L},b(_)};return function(_){if(_&&_.__esModule)return _;var D={};if(_!=null)for(var L=b(_),U=0;U<L.length;U++)L[U]!=="default"&&s(D,_,L[U]);return a(D,_),D}})(),l=pn&&pn.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(pn,"__esModule",{value:!0}),pn.loadSensitiveFieldsConfig=A,pn.getFieldPatterns=C,pn.getSensitiveFieldsArray=w;const u=i(YR),o=i(XR),d=l(ZI);function f(){return new Set(["password","passwd","pwd","secret","token","key","auth","authorization","cookie","session","apikey","accesstoken","refreshtoken","email","emailaddress","phone","phonenumber","telephone","mobile","cellphone","ssn","socialsecuritynumber","taxid","taxidentification","creditcard","cc","cardnumber","cvv","cvv2","cvc","pin","bankaccount","bankaccountnumber","routingnumber","iban","swift","accountnumber","otp","onetimepassword","privatekey","publickey","encryptionkey","decryptionkey"])}function p(){return["password","secret","token","key","ssn","creditcard","bankaccount","accountnumber"]}function h(b){const _=b||r.MISO_SENSITIVE_FIELDS_CONFIG;return _?o.isAbsolute(_)?_:o.resolve(process.cwd(),_):null}function m(b){const _=new Set;return Object.values(b.categories).forEach(D=>{D.forEach(L=>_.add(L.toLowerCase()))}),f().forEach(D=>_.add(D)),_}function S(b){if(!u.existsSync(b))return null;const _=u.readFileSync(b,"utf8"),D=JSON.parse(_);return m(D)}function k(){try{const b=d.default;return m(b)}catch{const b=o.join(__dirname,"sensitive-fields.config.json");return S(b)}}function A(b){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return f();try{const _=h(b);if(_){const L=S(_);if(L)return L}return k()??f()}catch{return f()}}function x(b){if(!u.existsSync(b))return null;const _=u.readFileSync(b,"utf8");return JSON.parse(_).fieldPatterns||p()}function O(){try{return d.default.fieldPatterns||p()}catch{const b=o.join(__dirname,"sensitive-fields.config.json");return x(b)}}function C(b){if(typeof globalThis<"u"&&"window"in globalThis&&typeof globalThis.window<"u"||typeof process>"u"||!r)return p();try{const _=h(b);if(_){const L=x(_);if(L)return L}return O()??p()}catch{return p()}}function w(b){const _=A(b);return Array.from(_)}return pn}var f1;function pl(){if(f1)return Rc;f1=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.DataMasker=void 0;const r=ej();class s{static initializeSensitiveFields(i){return this.configPath!==i&&(this.cachedFields=null,this.cachedFieldPatterns=null,this.configPath=i),this.cachedFields?this.cachedFields:(this.cachedFields=(0,r.loadSensitiveFieldsConfig)(i),this.cachedFieldPatterns=(0,r.getFieldPatterns)(i),this.cachedFields)}static getSensitiveFields(){return this.initializeSensitiveFields(this.configPath)}static getFieldPatterns(){return this.cachedFieldPatterns||(this.cachedFieldPatterns=(0,r.getFieldPatterns)(this.configPath)),this.cachedFieldPatterns}static setConfigPath(i){this.configPath=i,this.cachedFields=null,this.cachedFieldPatterns=null}static isSensitiveField(i){const l=this.getSensitiveFields(),u=this.getFieldPatterns(),o=i.toLowerCase().replace(/[_-]/g,"");if(l.has(o))return!0;for(const d of u)if(o.includes(d.toLowerCase()))return!0;return!1}static maskSensitiveData(i){if(i==null||typeof i!="object")return i;if(Array.isArray(i))return i.map(u=>this.maskSensitiveData(u));const l={};for(const[u,o]of Object.entries(i))this.isSensitiveField(u)?l[u]=this.MASKED_VALUE:typeof o=="object"&&o!==null?l[u]=this.maskSensitiveData(o):l[u]=o;return l}static maskValue(i,l=0,u=0){if(!i||i.length<=l+u)return this.MASKED_VALUE;const o=i.substring(0,l),d=i.substring(i.length-u),f="*".repeat(Math.min(8,i.length-l-u));return`${o}${f}${d}`}static containsSensitiveData(i){if(i==null||typeof i!="object")return!1;if(Array.isArray(i))return i.some(l=>this.containsSensitiveData(l));for(const[l,u]of Object.entries(i))if(this.isSensitiveField(l)||typeof u=="object"&&u!==null&&this.containsSensitiveData(u))return!0;return!1}}return Rc.DataMasker=s,s.MASKED_VALUE="***MASKED***",s.cachedFields=null,s.cachedFieldPatterns=null,s.configPath=void 0,Rc}var Xa={},vs={},$f={exports:{}};var d1;function Su(){return d1||(d1=1,(function(r,s){var a=oa,i=a.Buffer;function l(o,d){for(var f in o)d[f]=o[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=a:(l(a,s),s.Buffer=u);function u(o,d,f){return i(o,d,f)}u.prototype=Object.create(i.prototype),l(i,u),u.from=function(o,d,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,d,f)},u.alloc=function(o,d,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var p=i(o);return d!==void 0?typeof f=="string"?p.fill(d,f):p.fill(d):p.fill(0),p},u.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},u.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}})($f,$f.exports)),$f.exports}var yg,h1;function rA(){if(h1)return yg;h1=1;var r=Su().Buffer,s=fl,a=fa;function i(l){if(this.buffer=null,this.writable=!0,this.readable=!0,!l)return this.buffer=r.alloc(0),this;if(typeof l.pipe=="function")return this.buffer=r.alloc(0),l.pipe(this),this;if(l.length||typeof l=="object")return this.buffer=l,this.writable=!1,process.nextTick(function(){this.emit("end",l),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof l+")")}return a.inherits(i,s),i.prototype.write=function(u){this.buffer=r.concat([this.buffer,r.from(u)]),this.emit("data",u)},i.prototype.end=function(u){u&&this.write(u),this.emit("end",u),this.emit("close"),this.writable=!1,this.readable=!1},yg=i,yg}var vg,p1;function tj(){if(p1)return vg;p1=1;function r(i){var l=(i/8|0)+(i%8===0?0:1);return l}var s={ES256:r(256),ES384:r(384),ES512:r(521)};function a(i){var l=s[i];if(l)return l;throw new Error('Unknown algorithm "'+i+'"')}return vg=a,vg}var Eg,m1;function rj(){if(m1)return Eg;m1=1;var r=Su().Buffer,s=tj(),a=128,i=0,l=32,u=16,o=2,d=u|l|i<<6,f=o|i<<6;function p(A){return A.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(A){if(r.isBuffer(A))return A;if(typeof A=="string")return r.from(A,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function m(A,x){A=h(A);var O=s(x),C=O+1,w=A.length,b=0;if(A[b++]!==d)throw new Error('Could not find expected "seq"');var _=A[b++];if(_===(a|1)&&(_=A[b++]),w-b<_)throw new Error('"seq" specified length of "'+_+'", only "'+(w-b)+'" remaining');if(A[b++]!==f)throw new Error('Could not find expected "int" for "r"');var D=A[b++];if(w-b-2<D)throw new Error('"r" specified length of "'+D+'", only "'+(w-b-2)+'" available');if(C<D)throw new Error('"r" specified length of "'+D+'", max of "'+C+'" is acceptable');var L=b;if(b+=D,A[b++]!==f)throw new Error('Could not find expected "int" for "s"');var U=A[b++];if(w-b!==U)throw new Error('"s" specified length of "'+U+'", expected "'+(w-b)+'"');if(C<U)throw new Error('"s" specified length of "'+U+'", max of "'+C+'" is acceptable');var N=b;if(b+=U,b!==w)throw new Error('Expected to consume entire buffer, but "'+(w-b)+'" bytes remain');var F=O-D,Y=O-U,se=r.allocUnsafe(F+D+Y+U);for(b=0;b<F;++b)se[b]=0;A.copy(se,b,L+Math.max(-F,0),L+D),b=O;for(var ge=b;b<ge+Y;++b)se[b]=0;return A.copy(se,b,N+Math.max(-Y,0),N+U),se=se.toString("base64"),se=p(se),se}function S(A,x,O){for(var C=0;x+C<O&&A[x+C]===0;)++C;var w=A[x+C]>=a;return w&&--C,C}function k(A,x){A=h(A);var O=s(x),C=A.length;if(C!==O*2)throw new TypeError('"'+x+'" signatures must be "'+O*2+'" bytes, saw "'+C+'"');var w=S(A,0,O),b=S(A,O,A.length),_=O-w,D=O-b,L=2+_+1+1+D,U=L<a,N=r.allocUnsafe((U?2:3)+L),F=0;return N[F++]=d,U?N[F++]=L:(N[F++]=a|1,N[F++]=L&255),N[F++]=f,N[F++]=_,w<0?(N[F++]=0,F+=A.copy(N,F,0,O)):F+=A.copy(N,F,w,O),N[F++]=f,N[F++]=D,b<0?(N[F++]=0,A.copy(N,F,O)):A.copy(N,F,O+b),N}return Eg={derToJose:m,joseToDer:k},Eg}var bg,g1;function nj(){if(g1)return bg;g1=1;var r=oa.Buffer,s=oa.SlowBuffer;bg=a;function a(u,o){if(!r.isBuffer(u)||!r.isBuffer(o)||u.length!==o.length)return!1;for(var d=0,f=0;f<u.length;f++)d|=u[f]^o[f];return d===0}a.install=function(){r.prototype.equal=s.prototype.equal=function(o){return a(this,o)}};var i=r.prototype.equal,l=s.prototype.equal;return a.restore=function(){r.prototype.equal=i,s.prototype.equal=l},bg}var Sg,y1;function nA(){if(y1)return Sg;y1=1;var r=Su().Buffer,s=ho,a=rj(),i=fa,l=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,u="secret must be a string or buffer",o="key must be a string or a buffer",d="key must be a string, a buffer or an object",f=typeof s.createPublicKey=="function";f&&(o+=" or a KeyObject",u+="or a KeyObject");function p(X){if(!r.isBuffer(X)&&typeof X!="string"&&(!f||typeof X!="object"||typeof X.type!="string"||typeof X.asymmetricKeyType!="string"||typeof X.export!="function"))throw A(o)}function h(X){if(!r.isBuffer(X)&&typeof X!="string"&&typeof X!="object")throw A(d)}function m(X){if(!r.isBuffer(X)){if(typeof X=="string")return X;if(!f||typeof X!="object"||X.type!=="secret"||typeof X.export!="function")throw A(u)}}function S(X){return X.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(X){X=X.toString();var J=4-X.length%4;if(J!==4)for(var q=0;q<J;++q)X+="=";return X.replace(/\-/g,"+").replace(/_/g,"/")}function A(X){var J=[].slice.call(arguments,1),q=i.format.bind(i,X).apply(null,J);return new TypeError(q)}function x(X){return r.isBuffer(X)||typeof X=="string"}function O(X){return x(X)||(X=JSON.stringify(X)),X}function C(X){return function(q,M){m(M),q=O(q);var H=s.createHmac("sha"+X,M),$=(H.update(q),H.digest("base64"));return S($)}}var w,b="timingSafeEqual"in s?function(J,q){return J.byteLength!==q.byteLength?!1:s.timingSafeEqual(J,q)}:function(J,q){return w||(w=nj()),w(J,q)};function _(X){return function(q,M,H){var $=C(X)(q,H);return b(r.from(M),r.from($))}}function D(X){return function(q,M){h(M),q=O(q);var H=s.createSign("RSA-SHA"+X),$=(H.update(q),H.sign(M,"base64"));return S($)}}function L(X){return function(q,M,H){p(H),q=O(q),M=k(M);var $=s.createVerify("RSA-SHA"+X);return $.update(q),$.verify(H,M,"base64")}}function U(X){return function(q,M){h(M),q=O(q);var H=s.createSign("RSA-SHA"+X),$=(H.update(q),H.sign({key:M,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return S($)}}function N(X){return function(q,M,H){p(H),q=O(q),M=k(M);var $=s.createVerify("RSA-SHA"+X);return $.update(q),$.verify({key:H,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},M,"base64")}}function F(X){var J=D(X);return function(){var M=J.apply(null,arguments);return M=a.derToJose(M,"ES"+X),M}}function Y(X){var J=L(X);return function(M,H,$){H=a.joseToDer(H,"ES"+X).toString("base64");var Z=J(M,H,$);return Z}}function se(){return function(){return""}}function ge(){return function(J,q){return q===""}}return Sg=function(J){var q={hs:C,rs:D,ps:U,es:F,none:se},M={hs:_,rs:L,ps:N,es:Y,none:ge},H=J.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!H)throw A(l,J);var $=(H[1]||H[3]).toLowerCase(),Z=H[2];return{sign:q[$](Z),verify:M[$](Z)}},Sg}var wg,v1;function iA(){if(v1)return wg;v1=1;var r=oa.Buffer;return wg=function(a){return typeof a=="string"?a:typeof a=="number"||r.isBuffer(a)?a.toString():JSON.stringify(a)},wg}var Tg,E1;function ij(){if(E1)return Tg;E1=1;var r=Su().Buffer,s=rA(),a=nA(),i=fl,l=iA(),u=fa;function o(h,m){return r.from(h,m).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(h,m,S){S=S||"utf8";var k=o(l(h),"binary"),A=o(l(m),S);return u.format("%s.%s",k,A)}function f(h){var m=h.header,S=h.payload,k=h.secret||h.privateKey,A=h.encoding,x=a(m.alg),O=d(m,S,A),C=x.sign(O,k);return u.format("%s.%s",O,C)}function p(h){var m=h.secret;if(m=m??h.privateKey,m=m??h.key,/^hs/i.test(h.header.alg)===!0&&m==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var S=new s(m);this.readable=!0,this.header=h.header,this.encoding=h.encoding,this.secret=this.privateKey=this.key=S,this.payload=new s(h.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return u.inherits(p,i),p.prototype.sign=function(){try{var m=f({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",m),this.emit("data",m),this.emit("end"),this.readable=!1,m}catch(S){this.readable=!1,this.emit("error",S),this.emit("close")}},p.sign=f,Tg=p,Tg}var Cg,b1;function sj(){if(b1)return Cg;b1=1;var r=Su().Buffer,s=rA(),a=nA(),i=fl,l=iA(),u=fa,o=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function d(C){return Object.prototype.toString.call(C)==="[object Object]"}function f(C){if(d(C))return C;try{return JSON.parse(C)}catch{return}}function p(C){var w=C.split(".",1)[0];return f(r.from(w,"base64").toString("binary"))}function h(C){return C.split(".",2).join(".")}function m(C){return C.split(".")[2]}function S(C,w){w=w||"utf8";var b=C.split(".")[1];return r.from(b,"base64").toString(w)}function k(C){return o.test(C)&&!!p(C)}function A(C,w,b){if(!w){var _=new Error("Missing algorithm parameter for jws.verify");throw _.code="MISSING_ALGORITHM",_}C=l(C);var D=m(C),L=h(C),U=a(w);return U.verify(L,D,b)}function x(C,w){if(w=w||{},C=l(C),!k(C))return null;var b=p(C);if(!b)return null;var _=S(C);return(b.typ==="JWT"||w.json)&&(_=JSON.parse(_,w.encoding)),{header:b,payload:_,signature:m(C)}}function O(C){C=C||{};var w=C.secret;if(w=w??C.publicKey,w=w??C.key,/^hs/i.test(C.algorithm)===!0&&w==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var b=new s(w);this.readable=!0,this.algorithm=C.algorithm,this.encoding=C.encoding,this.secret=this.publicKey=this.key=b,this.signature=new s(C.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return u.inherits(O,i),O.prototype.verify=function(){try{var w=A(this.signature.buffer,this.algorithm,this.key.buffer),b=x(this.signature.buffer,this.encoding);return this.emit("done",w,b),this.emit("data",w),this.emit("end"),this.readable=!1,w}catch(_){this.readable=!1,this.emit("error",_),this.emit("close")}},O.decode=x,O.isValid=k,O.verify=A,Cg=O,Cg}var S1;function Iv(){if(S1)return vs;S1=1;var r=ij(),s=sj(),a=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return vs.ALGORITHMS=a,vs.sign=r.sign,vs.verify=s.verify,vs.decode=s.decode,vs.isValid=s.isValid,vs.createSign=function(l){return new r(l)},vs.createVerify=function(l){return new s(l)},vs}var xg,w1;function sA(){if(w1)return xg;w1=1;var r=Iv();return xg=function(s,a){a=a||{};var i=r.decode(s,a);if(!i)return null;var l=i.payload;if(typeof l=="string")try{var u=JSON.parse(l);u!==null&&typeof u=="object"&&(l=u)}catch{}return a.complete===!0?{header:i.header,payload:l,signature:i.signature}:l},xg}var Rg,T1;function jd(){if(T1)return Rg;T1=1;var r=function(s,a){Error.call(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=s,a&&(this.inner=a)};return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,Rg=r,Rg}var Ag,C1;function aA(){if(C1)return Ag;C1=1;var r=jd(),s=function(a,i){r.call(this,a),this.name="NotBeforeError",this.date=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,Ag=s,Ag}var _g,x1;function oA(){if(x1)return _g;x1=1;var r=jd(),s=function(a,i){r.call(this,a),this.name="TokenExpiredError",this.expiredAt=i};return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,_g=s,_g}var Og,R1;function aj(){if(R1)return Og;R1=1;var r=1e3,s=r*60,a=s*60,i=a*24,l=i*7,u=i*365.25;Og=function(h,m){m=m||{};var S=typeof h;if(S==="string"&&h.length>0)return o(h);if(S==="number"&&isFinite(h))return m.long?f(h):d(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(m){var S=parseFloat(m[1]),k=(m[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return S*u;case"weeks":case"week":case"w":return S*l;case"days":case"day":case"d":return S*i;case"hours":case"hour":case"hrs":case"hr":case"h":return S*a;case"minutes":case"minute":case"mins":case"min":case"m":return S*s;case"seconds":case"second":case"secs":case"sec":case"s":return S*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function d(h){var m=Math.abs(h);return m>=i?Math.round(h/i)+"d":m>=a?Math.round(h/a)+"h":m>=s?Math.round(h/s)+"m":m>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var m=Math.abs(h);return m>=i?p(h,m,i,"day"):m>=a?p(h,m,a,"hour"):m>=s?p(h,m,s,"minute"):m>=r?p(h,m,r,"second"):h+" ms"}function p(h,m,S,k){var A=m>=S*1.5;return Math.round(h/S)+" "+k+(A?"s":"")}return Og}var Ng,A1;function lA(){if(A1)return Ng;A1=1;var r=aj();return Ng=function(s,a){var i=a||Math.floor(Date.now()/1e3);if(typeof s=="string"){var l=r(s);return typeof l>"u"?void 0:Math.floor(i+l/1e3)}else return typeof s=="number"?i+s:void 0},Ng}var Bf={exports:{}},kg,_1;function Dd(){if(_1)return kg;_1=1;const r="2.0.0",s=256,a=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,l=s-6;return kg={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:a,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},kg}var Ig,O1;function Ld(){if(O1)return Ig;O1=1;var r={};return Ig=typeof process=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{},Ig}var N1;function wu(){return N1||(N1=1,(function(r,s){const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:l}=Dd(),u=Ld();s=r.exports={};const o=s.re=[],d=s.safeRe=[],f=s.src=[],p=s.safeSrc=[],h=s.t={};let m=0;const S="[a-zA-Z0-9-]",k=[["\\s",1],["\\d",l],[S,i]],A=O=>{for(const[C,w]of k)O=O.split(`${C}*`).join(`${C}{0,${w}}`).split(`${C}+`).join(`${C}{1,${w}}`);return O},x=(O,C,w)=>{const b=A(C),_=m++;u(O,_,C),h[O]=_,f[_]=C,p[_]=b,o[_]=new RegExp(C,w?"g":void 0),d[_]=new RegExp(b,w?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${S}*`),x("MAINVERSION",`(${f[h.NUMERICIDENTIFIER]})\\.(${f[h.NUMERICIDENTIFIER]})\\.(${f[h.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${f[h.NUMERICIDENTIFIERLOOSE]})\\.(${f[h.NUMERICIDENTIFIERLOOSE]})\\.(${f[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${f[h.NONNUMERICIDENTIFIER]}|${f[h.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${f[h.NONNUMERICIDENTIFIER]}|${f[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${f[h.PRERELEASEIDENTIFIER]}(?:\\.${f[h.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${f[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[h.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${S}+`),x("BUILD",`(?:\\+(${f[h.BUILDIDENTIFIER]}(?:\\.${f[h.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${f[h.MAINVERSION]}${f[h.PRERELEASE]}?${f[h.BUILD]}?`),x("FULL",`^${f[h.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${f[h.MAINVERSIONLOOSE]}${f[h.PRERELEASELOOSE]}?${f[h.BUILD]}?`),x("LOOSE",`^${f[h.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${f[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${f[h.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${f[h.XRANGEIDENTIFIER]})(?:\\.(${f[h.XRANGEIDENTIFIER]})(?:\\.(${f[h.XRANGEIDENTIFIER]})(?:${f[h.PRERELEASE]})?${f[h.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${f[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[h.XRANGEIDENTIFIERLOOSE]})(?:${f[h.PRERELEASELOOSE]})?${f[h.BUILD]}?)?)?`),x("XRANGE",`^${f[h.GTLT]}\\s*${f[h.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${f[h.GTLT]}\\s*${f[h.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?`),x("COERCE",`${f[h.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",f[h.COERCEPLAIN]+`(?:${f[h.PRERELEASE]})?(?:${f[h.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",f[h.COERCE],!0),x("COERCERTLFULL",f[h.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${f[h.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",x("TILDE",`^${f[h.LONETILDE]}${f[h.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${f[h.LONETILDE]}${f[h.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${f[h.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",x("CARET",`^${f[h.LONECARET]}${f[h.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${f[h.LONECARET]}${f[h.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${f[h.GTLT]}\\s*(${f[h.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${f[h.GTLT]}\\s*(${f[h.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${f[h.GTLT]}\\s*(${f[h.LOOSEPLAIN]}|${f[h.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${f[h.XRANGEPLAIN]})\\s+-\\s+(${f[h.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${f[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[h.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Bf,Bf.exports)),Bf.exports}var jg,k1;function jv(){if(k1)return jg;k1=1;const r=Object.freeze({loose:!0}),s=Object.freeze({});return jg=i=>i?typeof i!="object"?r:i:s,jg}var Dg,I1;function cA(){if(I1)return Dg;I1=1;const r=/^[0-9]+$/,s=(i,l)=>{if(typeof i=="number"&&typeof l=="number")return i===l?0:i<l?-1:1;const u=r.test(i),o=r.test(l);return u&&o&&(i=+i,l=+l),i===l?0:u&&!o?-1:o&&!u?1:i<l?-1:1};return Dg={compareIdentifiers:s,rcompareIdentifiers:(i,l)=>s(l,i)},Dg}var Lg,j1;function Jr(){if(j1)return Lg;j1=1;const r=Ld(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:a}=Dd(),{safeRe:i,t:l}=wu(),u=jv(),{compareIdentifiers:o}=cA();class d{constructor(p,h){if(h=u(h),p instanceof d){if(p.loose===!!h.loose&&p.includePrerelease===!!h.includePrerelease)return p;p=p.version}else if(typeof p!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof p}".`);if(p.length>s)throw new TypeError(`version is longer than ${s} characters`);r("SemVer",p,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const m=p.trim().match(h.loose?i[l.LOOSE]:i[l.FULL]);if(!m)throw new TypeError(`Invalid Version: ${p}`);if(this.raw=p,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(S=>{if(/^[0-9]+$/.test(S)){const k=+S;if(k>=0&&k<a)return k}return S}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(p){if(r("SemVer.compare",this.version,this.options,p),!(p instanceof d)){if(typeof p=="string"&&p===this.version)return 0;p=new d(p,this.options)}return p.version===this.version?0:this.compareMain(p)||this.comparePre(p)}compareMain(p){return p instanceof d||(p=new d(p,this.options)),this.major<p.major?-1:this.major>p.major?1:this.minor<p.minor?-1:this.minor>p.minor?1:this.patch<p.patch?-1:this.patch>p.patch?1:0}comparePre(p){if(p instanceof d||(p=new d(p,this.options)),this.prerelease.length&&!p.prerelease.length)return-1;if(!this.prerelease.length&&p.prerelease.length)return 1;if(!this.prerelease.length&&!p.prerelease.length)return 0;let h=0;do{const m=this.prerelease[h],S=p.prerelease[h];if(r("prerelease compare",h,m,S),m===void 0&&S===void 0)return 0;if(S===void 0)return 1;if(m===void 0)return-1;if(m===S)continue;return o(m,S)}while(++h)}compareBuild(p){p instanceof d||(p=new d(p,this.options));let h=0;do{const m=this.build[h],S=p.build[h];if(r("build compare",h,m,S),m===void 0&&S===void 0)return 0;if(S===void 0)return 1;if(m===void 0)return-1;if(m===S)continue;return o(m,S)}while(++h)}inc(p,h,m){if(p.startsWith("pre")){if(!h&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const S=`-${h}`.match(this.options.loose?i[l.PRERELEASELOOSE]:i[l.PRERELEASE]);if(!S||S[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(p){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,m),this.inc("pre",h,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,m),this.inc("pre",h,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const S=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[S];else{let k=this.prerelease.length;for(;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);if(k===-1){if(h===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(S)}}if(h){let k=[h,S];m===!1&&(k=[h]),o(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=k):this.prerelease=k}break}default:throw new Error(`invalid increment argument: ${p}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Lg=d,Lg}var Pg,D1;function ml(){if(D1)return Pg;D1=1;const r=Jr();return Pg=(a,i,l=!1)=>{if(a instanceof r)return a;try{return new r(a,i)}catch(u){if(!l)return null;throw u}},Pg}var Ug,L1;function oj(){if(L1)return Ug;L1=1;const r=ml();return Ug=(a,i)=>{const l=r(a,i);return l?l.version:null},Ug}var Mg,P1;function lj(){if(P1)return Mg;P1=1;const r=ml();return Mg=(a,i)=>{const l=r(a.trim().replace(/^[=v]+/,""),i);return l?l.version:null},Mg}var qg,U1;function cj(){if(U1)return qg;U1=1;const r=Jr();return qg=(a,i,l,u,o)=>{typeof l=="string"&&(o=u,u=l,l=void 0);try{return new r(a instanceof r?a.version:a,l).inc(i,u,o).version}catch{return null}},qg}var Hg,M1;function uj(){if(M1)return Hg;M1=1;const r=ml();return Hg=(a,i)=>{const l=r(a,null,!0),u=r(i,null,!0),o=l.compare(u);if(o===0)return null;const d=o>0,f=d?l:u,p=d?u:l,h=!!f.prerelease.length;if(!!p.prerelease.length&&!h){if(!p.patch&&!p.minor)return"major";if(p.compareMain(f)===0)return p.minor&&!p.patch?"minor":"patch"}const S=h?"pre":"";return l.major!==u.major?S+"major":l.minor!==u.minor?S+"minor":l.patch!==u.patch?S+"patch":"prerelease"},Hg}var $g,q1;function fj(){if(q1)return $g;q1=1;const r=Jr();return $g=(a,i)=>new r(a,i).major,$g}var Bg,H1;function dj(){if(H1)return Bg;H1=1;const r=Jr();return Bg=(a,i)=>new r(a,i).minor,Bg}var zg,$1;function hj(){if($1)return zg;$1=1;const r=Jr();return zg=(a,i)=>new r(a,i).patch,zg}var Kg,B1;function pj(){if(B1)return Kg;B1=1;const r=ml();return Kg=(a,i)=>{const l=r(a,i);return l&&l.prerelease.length?l.prerelease:null},Kg}var Fg,z1;function hi(){if(z1)return Fg;z1=1;const r=Jr();return Fg=(a,i,l)=>new r(a,l).compare(new r(i,l)),Fg}var Gg,K1;function mj(){if(K1)return Gg;K1=1;const r=hi();return Gg=(a,i,l)=>r(i,a,l),Gg}var Vg,F1;function gj(){if(F1)return Vg;F1=1;const r=hi();return Vg=(a,i)=>r(a,i,!0),Vg}var Wg,G1;function Dv(){if(G1)return Wg;G1=1;const r=Jr();return Wg=(a,i,l)=>{const u=new r(a,l),o=new r(i,l);return u.compare(o)||u.compareBuild(o)},Wg}var Jg,V1;function yj(){if(V1)return Jg;V1=1;const r=Dv();return Jg=(a,i)=>a.sort((l,u)=>r(l,u,i)),Jg}var Yg,W1;function vj(){if(W1)return Yg;W1=1;const r=Dv();return Yg=(a,i)=>a.sort((l,u)=>r(u,l,i)),Yg}var Xg,J1;function Pd(){if(J1)return Xg;J1=1;const r=hi();return Xg=(a,i,l)=>r(a,i,l)>0,Xg}var Qg,Y1;function Lv(){if(Y1)return Qg;Y1=1;const r=hi();return Qg=(a,i,l)=>r(a,i,l)<0,Qg}var Zg,X1;function uA(){if(X1)return Zg;X1=1;const r=hi();return Zg=(a,i,l)=>r(a,i,l)===0,Zg}var ey,Q1;function fA(){if(Q1)return ey;Q1=1;const r=hi();return ey=(a,i,l)=>r(a,i,l)!==0,ey}var ty,Z1;function Pv(){if(Z1)return ty;Z1=1;const r=hi();return ty=(a,i,l)=>r(a,i,l)>=0,ty}var ry,eC;function Uv(){if(eC)return ry;eC=1;const r=hi();return ry=(a,i,l)=>r(a,i,l)<=0,ry}var ny,tC;function dA(){if(tC)return ny;tC=1;const r=uA(),s=fA(),a=Pd(),i=Pv(),l=Lv(),u=Uv();return ny=(d,f,p,h)=>{switch(f){case"===":return typeof d=="object"&&(d=d.version),typeof p=="object"&&(p=p.version),d===p;case"!==":return typeof d=="object"&&(d=d.version),typeof p=="object"&&(p=p.version),d!==p;case"":case"=":case"==":return r(d,p,h);case"!=":return s(d,p,h);case">":return a(d,p,h);case">=":return i(d,p,h);case"<":return l(d,p,h);case"<=":return u(d,p,h);default:throw new TypeError(`Invalid operator: ${f}`)}},ny}var iy,rC;function Ej(){if(rC)return iy;rC=1;const r=Jr(),s=ml(),{safeRe:a,t:i}=wu();return iy=(u,o)=>{if(u instanceof r)return u;if(typeof u=="number"&&(u=String(u)),typeof u!="string")return null;o=o||{};let d=null;if(!o.rtl)d=u.match(o.includePrerelease?a[i.COERCEFULL]:a[i.COERCE]);else{const k=o.includePrerelease?a[i.COERCERTLFULL]:a[i.COERCERTL];let A;for(;(A=k.exec(u))&&(!d||d.index+d[0].length!==u.length);)(!d||A.index+A[0].length!==d.index+d[0].length)&&(d=A),k.lastIndex=A.index+A[1].length+A[2].length;k.lastIndex=-1}if(d===null)return null;const f=d[2],p=d[3]||"0",h=d[4]||"0",m=o.includePrerelease&&d[5]?`-${d[5]}`:"",S=o.includePrerelease&&d[6]?`+${d[6]}`:"";return s(`${f}.${p}.${h}${m}${S}`,o)},iy}var sy,nC;function bj(){if(nC)return sy;nC=1;class r{constructor(){this.max=1e3,this.map=new Map}get(a){const i=this.map.get(a);if(i!==void 0)return this.map.delete(a),this.map.set(a,i),i}delete(a){return this.map.delete(a)}set(a,i){if(!this.delete(a)&&i!==void 0){if(this.map.size>=this.max){const u=this.map.keys().next().value;this.delete(u)}this.map.set(a,i)}return this}}return sy=r,sy}var ay,iC;function pi(){if(iC)return ay;iC=1;const r=/\s+/g;class s{constructor(q,M){if(M=l(M),q instanceof s)return q.loose===!!M.loose&&q.includePrerelease===!!M.includePrerelease?q:new s(q.raw,M);if(q instanceof u)return this.raw=q.value,this.set=[[q]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=q.trim().replace(r," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter($=>!x($[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&O($[0])){this.set=[$];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let q=0;q<this.set.length;q++){q>0&&(this.formatted+="||");const M=this.set[q];for(let H=0;H<M.length;H++)H>0&&(this.formatted+=" "),this.formatted+=M[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(q){const H=((this.options.includePrerelease&&k)|(this.options.loose&&A))+":"+q,$=i.get(H);if($)return $;const Z=this.options.loose,le=Z?f[p.HYPHENRANGELOOSE]:f[p.HYPHENRANGE];q=q.replace(le,ge(this.options.includePrerelease)),o("hyphen replace",q),q=q.replace(f[p.COMPARATORTRIM],h),o("comparator trim",q),q=q.replace(f[p.TILDETRIM],m),o("tilde trim",q),q=q.replace(f[p.CARETTRIM],S),o("caret trim",q);let V=q.split(" ").map(be=>w(be,this.options)).join(" ").split(/\s+/).map(be=>se(be,this.options));Z&&(V=V.filter(be=>(o("loose invalid filter",be,this.options),!!be.match(f[p.COMPARATORLOOSE])))),o("range list",V);const re=new Map,ie=V.map(be=>new u(be,this.options));for(const be of ie){if(x(be))return[be];re.set(be.value,be)}re.size>1&&re.has("")&&re.delete("");const pe=[...re.values()];return i.set(H,pe),pe}intersects(q,M){if(!(q instanceof s))throw new TypeError("a Range is required");return this.set.some(H=>C(H,M)&&q.set.some($=>C($,M)&&H.every(Z=>$.every(le=>Z.intersects(le,M)))))}test(q){if(!q)return!1;if(typeof q=="string")try{q=new d(q,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(X(this.set[M],q,this.options))return!0;return!1}}ay=s;const a=bj(),i=new a,l=jv(),u=Ud(),o=Ld(),d=Jr(),{safeRe:f,t:p,comparatorTrimReplace:h,tildeTrimReplace:m,caretTrimReplace:S}=wu(),{FLAG_INCLUDE_PRERELEASE:k,FLAG_LOOSE:A}=Dd(),x=J=>J.value==="<0.0.0-0",O=J=>J.value==="",C=(J,q)=>{let M=!0;const H=J.slice();let $=H.pop();for(;M&&H.length;)M=H.every(Z=>$.intersects(Z,q)),$=H.pop();return M},w=(J,q)=>(J=J.replace(f[p.BUILD],""),o("comp",J,q),J=L(J,q),o("caret",J),J=_(J,q),o("tildes",J),J=N(J,q),o("xrange",J),J=Y(J,q),o("stars",J),J),b=J=>!J||J.toLowerCase()==="x"||J==="*",_=(J,q)=>J.trim().split(/\s+/).map(M=>D(M,q)).join(" "),D=(J,q)=>{const M=q.loose?f[p.TILDELOOSE]:f[p.TILDE];return J.replace(M,(H,$,Z,le,V)=>{o("tilde",J,H,$,Z,le,V);let re;return b($)?re="":b(Z)?re=`>=${$}.0.0 <${+$+1}.0.0-0`:b(le)?re=`>=${$}.${Z}.0 <${$}.${+Z+1}.0-0`:V?(o("replaceTilde pr",V),re=`>=${$}.${Z}.${le}-${V} <${$}.${+Z+1}.0-0`):re=`>=${$}.${Z}.${le} <${$}.${+Z+1}.0-0`,o("tilde return",re),re})},L=(J,q)=>J.trim().split(/\s+/).map(M=>U(M,q)).join(" "),U=(J,q)=>{o("caret",J,q);const M=q.loose?f[p.CARETLOOSE]:f[p.CARET],H=q.includePrerelease?"-0":"";return J.replace(M,($,Z,le,V,re)=>{o("caret",J,$,Z,le,V,re);let ie;return b(Z)?ie="":b(le)?ie=`>=${Z}.0.0${H} <${+Z+1}.0.0-0`:b(V)?Z==="0"?ie=`>=${Z}.${le}.0${H} <${Z}.${+le+1}.0-0`:ie=`>=${Z}.${le}.0${H} <${+Z+1}.0.0-0`:re?(o("replaceCaret pr",re),Z==="0"?le==="0"?ie=`>=${Z}.${le}.${V}-${re} <${Z}.${le}.${+V+1}-0`:ie=`>=${Z}.${le}.${V}-${re} <${Z}.${+le+1}.0-0`:ie=`>=${Z}.${le}.${V}-${re} <${+Z+1}.0.0-0`):(o("no pr"),Z==="0"?le==="0"?ie=`>=${Z}.${le}.${V}${H} <${Z}.${le}.${+V+1}-0`:ie=`>=${Z}.${le}.${V}${H} <${Z}.${+le+1}.0-0`:ie=`>=${Z}.${le}.${V} <${+Z+1}.0.0-0`),o("caret return",ie),ie})},N=(J,q)=>(o("replaceXRanges",J,q),J.split(/\s+/).map(M=>F(M,q)).join(" ")),F=(J,q)=>{J=J.trim();const M=q.loose?f[p.XRANGELOOSE]:f[p.XRANGE];return J.replace(M,(H,$,Z,le,V,re)=>{o("xRange",J,H,$,Z,le,V,re);const ie=b(Z),pe=ie||b(le),be=pe||b(V),je=be;return $==="="&&je&&($=""),re=q.includePrerelease?"-0":"",ie?$===">"||$==="<"?H="<0.0.0-0":H="*":$&&je?(pe&&(le=0),V=0,$===">"?($=">=",pe?(Z=+Z+1,le=0,V=0):(le=+le+1,V=0)):$==="<="&&($="<",pe?Z=+Z+1:le=+le+1),$==="<"&&(re="-0"),H=`${$+Z}.${le}.${V}${re}`):pe?H=`>=${Z}.0.0${re} <${+Z+1}.0.0-0`:be&&(H=`>=${Z}.${le}.0${re} <${Z}.${+le+1}.0-0`),o("xRange return",H),H})},Y=(J,q)=>(o("replaceStars",J,q),J.trim().replace(f[p.STAR],"")),se=(J,q)=>(o("replaceGTE0",J,q),J.trim().replace(f[q.includePrerelease?p.GTE0PRE:p.GTE0],"")),ge=J=>(q,M,H,$,Z,le,V,re,ie,pe,be,je)=>(b(H)?M="":b($)?M=`>=${H}.0.0${J?"-0":""}`:b(Z)?M=`>=${H}.${$}.0${J?"-0":""}`:le?M=`>=${M}`:M=`>=${M}${J?"-0":""}`,b(ie)?re="":b(pe)?re=`<${+ie+1}.0.0-0`:b(be)?re=`<${ie}.${+pe+1}.0-0`:je?re=`<=${ie}.${pe}.${be}-${je}`:J?re=`<${ie}.${pe}.${+be+1}-0`:re=`<=${re}`,`${M} ${re}`.trim()),X=(J,q,M)=>{for(let H=0;H<J.length;H++)if(!J[H].test(q))return!1;if(q.prerelease.length&&!M.includePrerelease){for(let H=0;H<J.length;H++)if(o(J[H].semver),J[H].semver!==u.ANY&&J[H].semver.prerelease.length>0){const $=J[H].semver;if($.major===q.major&&$.minor===q.minor&&$.patch===q.patch)return!0}return!1}return!0};return ay}var oy,sC;function Ud(){if(sC)return oy;sC=1;const r=Symbol("SemVer ANY");class s{static get ANY(){return r}constructor(h,m){if(m=a(m),h instanceof s){if(h.loose===!!m.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,m),this.options=m,this.loose=!!m.loose,this.parse(h),this.semver===r?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const m=this.options.loose?i[l.COMPARATORLOOSE]:i[l.COMPARATOR],S=h.match(m);if(!S)throw new TypeError(`Invalid comparator: ${h}`);this.operator=S[1]!==void 0?S[1]:"",this.operator==="="&&(this.operator=""),S[2]?this.semver=new d(S[2],this.options.loose):this.semver=r}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===r||h===r)return!0;if(typeof h=="string")try{h=new d(h,this.options)}catch{return!1}return u(h,this.operator,this.semver,this.options)}intersects(h,m){if(!(h instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(h.value,m).test(this.value):h.operator===""?h.value===""?!0:new f(this.value,m).test(h.semver):(m=a(m),m.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||u(this.semver,"<",h.semver,m)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||u(this.semver,">",h.semver,m)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}oy=s;const a=jv(),{safeRe:i,t:l}=wu(),u=dA(),o=Ld(),d=Jr(),f=pi();return oy}var ly,aC;function Md(){if(aC)return ly;aC=1;const r=pi();return ly=(a,i,l)=>{try{i=new r(i,l)}catch{return!1}return i.test(a)},ly}var cy,oC;function Sj(){if(oC)return cy;oC=1;const r=pi();return cy=(a,i)=>new r(a,i).set.map(l=>l.map(u=>u.value).join(" ").trim().split(" ")),cy}var uy,lC;function wj(){if(lC)return uy;lC=1;const r=Jr(),s=pi();return uy=(i,l,u)=>{let o=null,d=null,f=null;try{f=new s(l,u)}catch{return null}return i.forEach(p=>{f.test(p)&&(!o||d.compare(p)===-1)&&(o=p,d=new r(o,u))}),o},uy}var fy,cC;function Tj(){if(cC)return fy;cC=1;const r=Jr(),s=pi();return fy=(i,l,u)=>{let o=null,d=null,f=null;try{f=new s(l,u)}catch{return null}return i.forEach(p=>{f.test(p)&&(!o||d.compare(p)===1)&&(o=p,d=new r(o,u))}),o},fy}var dy,uC;function Cj(){if(uC)return dy;uC=1;const r=Jr(),s=pi(),a=Pd();return dy=(l,u)=>{l=new s(l,u);let o=new r("0.0.0");if(l.test(o)||(o=new r("0.0.0-0"),l.test(o)))return o;o=null;for(let d=0;d<l.set.length;++d){const f=l.set[d];let p=null;f.forEach(h=>{const m=new r(h.semver.version);switch(h.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!p||a(m,p))&&(p=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),p&&(!o||a(o,p))&&(o=p)}return o&&l.test(o)?o:null},dy}var hy,fC;function xj(){if(fC)return hy;fC=1;const r=pi();return hy=(a,i)=>{try{return new r(a,i).range||"*"}catch{return null}},hy}var py,dC;function Mv(){if(dC)return py;dC=1;const r=Jr(),s=Ud(),{ANY:a}=s,i=pi(),l=Md(),u=Pd(),o=Lv(),d=Uv(),f=Pv();return py=(h,m,S,k)=>{h=new r(h,k),m=new i(m,k);let A,x,O,C,w;switch(S){case">":A=u,x=d,O=o,C=">",w=">=";break;case"<":A=o,x=f,O=u,C="<",w="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(h,m,k))return!1;for(let b=0;b<m.set.length;++b){const _=m.set[b];let D=null,L=null;if(_.forEach(U=>{U.semver===a&&(U=new s(">=0.0.0")),D=D||U,L=L||U,A(U.semver,D.semver,k)?D=U:O(U.semver,L.semver,k)&&(L=U)}),D.operator===C||D.operator===w||(!L.operator||L.operator===C)&&x(h,L.semver))return!1;if(L.operator===w&&O(h,L.semver))return!1}return!0},py}var my,hC;function Rj(){if(hC)return my;hC=1;const r=Mv();return my=(a,i,l)=>r(a,i,">",l),my}var gy,pC;function Aj(){if(pC)return gy;pC=1;const r=Mv();return gy=(a,i,l)=>r(a,i,"<",l),gy}var yy,mC;function _j(){if(mC)return yy;mC=1;const r=pi();return yy=(a,i,l)=>(a=new r(a,l),i=new r(i,l),a.intersects(i,l)),yy}var vy,gC;function Oj(){if(gC)return vy;gC=1;const r=Md(),s=hi();return vy=(a,i,l)=>{const u=[];let o=null,d=null;const f=a.sort((S,k)=>s(S,k,l));for(const S of f)r(S,i,l)?(d=S,o||(o=S)):(d&&u.push([o,d]),d=null,o=null);o&&u.push([o,null]);const p=[];for(const[S,k]of u)S===k?p.push(S):!k&&S===f[0]?p.push("*"):k?S===f[0]?p.push(`<=${k}`):p.push(`${S} - ${k}`):p.push(`>=${S}`);const h=p.join(" || "),m=typeof i.raw=="string"?i.raw:String(i);return h.length<m.length?h:i},vy}var Ey,yC;function Nj(){if(yC)return Ey;yC=1;const r=pi(),s=Ud(),{ANY:a}=s,i=Md(),l=hi(),u=(m,S,k={})=>{if(m===S)return!0;m=new r(m,k),S=new r(S,k);let A=!1;e:for(const x of m.set){for(const O of S.set){const C=f(x,O,k);if(A=A||C!==null,C)continue e}if(A)return!1}return!0},o=[new s(">=0.0.0-0")],d=[new s(">=0.0.0")],f=(m,S,k)=>{if(m===S)return!0;if(m.length===1&&m[0].semver===a){if(S.length===1&&S[0].semver===a)return!0;k.includePrerelease?m=o:m=d}if(S.length===1&&S[0].semver===a){if(k.includePrerelease)return!0;S=d}const A=new Set;let x,O;for(const N of m)N.operator===">"||N.operator===">="?x=p(x,N,k):N.operator==="<"||N.operator==="<="?O=h(O,N,k):A.add(N.semver);if(A.size>1)return null;let C;if(x&&O){if(C=l(x.semver,O.semver,k),C>0)return null;if(C===0&&(x.operator!==">="||O.operator!=="<="))return null}for(const N of A){if(x&&!i(N,String(x),k)||O&&!i(N,String(O),k))return null;for(const F of S)if(!i(N,String(F),k))return!1;return!0}let w,b,_,D,L=O&&!k.includePrerelease&&O.semver.prerelease.length?O.semver:!1,U=x&&!k.includePrerelease&&x.semver.prerelease.length?x.semver:!1;L&&L.prerelease.length===1&&O.operator==="<"&&L.prerelease[0]===0&&(L=!1);for(const N of S){if(D=D||N.operator===">"||N.operator===">=",_=_||N.operator==="<"||N.operator==="<=",x){if(U&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===U.major&&N.semver.minor===U.minor&&N.semver.patch===U.patch&&(U=!1),N.operator===">"||N.operator===">="){if(w=p(x,N,k),w===N&&w!==x)return!1}else if(x.operator===">="&&!i(x.semver,String(N),k))return!1}if(O){if(L&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===L.major&&N.semver.minor===L.minor&&N.semver.patch===L.patch&&(L=!1),N.operator==="<"||N.operator==="<="){if(b=h(O,N,k),b===N&&b!==O)return!1}else if(O.operator==="<="&&!i(O.semver,String(N),k))return!1}if(!N.operator&&(O||x)&&C!==0)return!1}return!(x&&_&&!O&&C!==0||O&&D&&!x&&C!==0||U||L)},p=(m,S,k)=>{if(!m)return S;const A=l(m.semver,S.semver,k);return A>0?m:A<0||S.operator===">"&&m.operator===">="?S:m},h=(m,S,k)=>{if(!m)return S;const A=l(m.semver,S.semver,k);return A<0?m:A>0||S.operator==="<"&&m.operator==="<="?S:m};return Ey=u,Ey}var by,vC;function qv(){if(vC)return by;vC=1;const r=wu(),s=Dd(),a=Jr(),i=cA(),l=ml(),u=oj(),o=lj(),d=cj(),f=uj(),p=fj(),h=dj(),m=hj(),S=pj(),k=hi(),A=mj(),x=gj(),O=Dv(),C=yj(),w=vj(),b=Pd(),_=Lv(),D=uA(),L=fA(),U=Pv(),N=Uv(),F=dA(),Y=Ej(),se=Ud(),ge=pi(),X=Md(),J=Sj(),q=wj(),M=Tj(),H=Cj(),$=xj(),Z=Mv(),le=Rj(),V=Aj(),re=_j(),ie=Oj(),pe=Nj();return by={parse:l,valid:u,clean:o,inc:d,diff:f,major:p,minor:h,patch:m,prerelease:S,compare:k,rcompare:A,compareLoose:x,compareBuild:O,sort:C,rsort:w,gt:b,lt:_,eq:D,neq:L,gte:U,lte:N,cmp:F,coerce:Y,Comparator:se,Range:ge,satisfies:X,toComparators:J,maxSatisfying:q,minSatisfying:M,minVersion:H,validRange:$,outside:Z,gtr:le,ltr:V,intersects:re,simplifyRange:ie,subset:pe,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},by}var Sy,EC;function kj(){return EC||(EC=1,Sy=qv().satisfies(process.version,">=15.7.0")),Sy}var wy,bC;function Ij(){return bC||(bC=1,wy=qv().satisfies(process.version,">=16.9.0")),wy}var Ty,SC;function hA(){if(SC)return Ty;SC=1;const r=kj(),s=Ij(),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},i={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Ty=function(l,u){if(!l||!u)return;const o=u.asymmetricKeyType;if(!o)return;const d=a[o];if(!d)throw new Error(`Unknown key type "${o}".`);if(!d.includes(l))throw new Error(`"alg" parameter for "${o}" key type must be one of: ${d.join(", ")}.`);if(r)switch(o){case"ec":const f=u.asymmetricKeyDetails.namedCurve,p=i[l];if(f!==p)throw new Error(`"alg" parameter "${l}" requires curve "${p}".`);break;case"rsa-pss":if(s){const h=parseInt(l.slice(-3),10),{hashAlgorithm:m,mgf1HashAlgorithm:S,saltLength:k}=u.asymmetricKeyDetails;if(m!==`sha${h}`||S!==m)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${l}.`);if(k!==void 0&&k>h>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${l}.`)}break}},Ty}var Cy,wC;function pA(){if(wC)return Cy;wC=1;var r=qv();return Cy=r.satisfies(process.version,"^6.12.0 || >=8.0.0"),Cy}var xy,TC;function jj(){if(TC)return xy;TC=1;const r=jd(),s=aA(),a=oA(),i=sA(),l=lA(),u=hA(),o=pA(),d=Iv(),{KeyObject:f,createSecretKey:p,createPublicKey:h}=ho,m=["RS256","RS384","RS512"],S=["ES256","ES384","ES512"],k=["RS256","RS384","RS512"],A=["HS256","HS384","HS512"];return o&&(m.splice(m.length,0,"PS256","PS384","PS512"),k.splice(k.length,0,"PS256","PS384","PS512")),xy=function(x,O,C,w){typeof C=="function"&&!w&&(w=C,C={}),C||(C={}),C=Object.assign({},C);let b;if(w?b=w:b=function(F,Y){if(F)throw F;return Y},C.clockTimestamp&&typeof C.clockTimestamp!="number")return b(new r("clockTimestamp must be a number"));if(C.nonce!==void 0&&(typeof C.nonce!="string"||C.nonce.trim()===""))return b(new r("nonce must be a non-empty string"));if(C.allowInvalidAsymmetricKeyTypes!==void 0&&typeof C.allowInvalidAsymmetricKeyTypes!="boolean")return b(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));const _=C.clockTimestamp||Math.floor(Date.now()/1e3);if(!x)return b(new r("jwt must be provided"));if(typeof x!="string")return b(new r("jwt must be a string"));const D=x.split(".");if(D.length!==3)return b(new r("jwt malformed"));let L;try{L=i(x,{complete:!0})}catch(F){return b(F)}if(!L)return b(new r("invalid token"));const U=L.header;let N;if(typeof O=="function"){if(!w)return b(new r("verify must be called asynchronous if secret or public key is provided as a callback"));N=O}else N=function(F,Y){return Y(null,O)};return N(U,function(F,Y){if(F)return b(new r("error in secret or public key callback: "+F.message));const se=D[2].trim()!=="";if(!se&&Y)return b(new r("jwt signature is required"));if(se&&!Y)return b(new r("secret or public key must be provided"));if(!se&&!C.algorithms)return b(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(Y!=null&&!(Y instanceof f))try{Y=h(Y)}catch{try{Y=p(typeof Y=="string"?Buffer.from(Y):Y)}catch{return b(new r("secretOrPublicKey is not valid key material"))}}if(C.algorithms||(Y.type==="secret"?C.algorithms=A:["rsa","rsa-pss"].includes(Y.asymmetricKeyType)?C.algorithms=k:Y.asymmetricKeyType==="ec"?C.algorithms=S:C.algorithms=m),C.algorithms.indexOf(L.header.alg)===-1)return b(new r("invalid algorithm"));if(U.alg.startsWith("HS")&&Y.type!=="secret")return b(new r(`secretOrPublicKey must be a symmetric key when using ${U.alg}`));if(/^(?:RS|PS|ES)/.test(U.alg)&&Y.type!=="public")return b(new r(`secretOrPublicKey must be an asymmetric key when using ${U.alg}`));if(!C.allowInvalidAsymmetricKeyTypes)try{u(U.alg,Y)}catch(J){return b(J)}let ge;try{ge=d.verify(x,L.header.alg,Y)}catch(J){return b(J)}if(!ge)return b(new r("invalid signature"));const X=L.payload;if(typeof X.nbf<"u"&&!C.ignoreNotBefore){if(typeof X.nbf!="number")return b(new r("invalid nbf value"));if(X.nbf>_+(C.clockTolerance||0))return b(new s("jwt not active",new Date(X.nbf*1e3)))}if(typeof X.exp<"u"&&!C.ignoreExpiration){if(typeof X.exp!="number")return b(new r("invalid exp value"));if(_>=X.exp+(C.clockTolerance||0))return b(new a("jwt expired",new Date(X.exp*1e3)))}if(C.audience){const J=Array.isArray(C.audience)?C.audience:[C.audience];if(!(Array.isArray(X.aud)?X.aud:[X.aud]).some(function(H){return J.some(function($){return $ instanceof RegExp?$.test(H):$===H})}))return b(new r("jwt audience invalid. expected: "+J.join(" or ")))}if(C.issuer&&(typeof C.issuer=="string"&&X.iss!==C.issuer||Array.isArray(C.issuer)&&C.issuer.indexOf(X.iss)===-1))return b(new r("jwt issuer invalid. expected: "+C.issuer));if(C.subject&&X.sub!==C.subject)return b(new r("jwt subject invalid. expected: "+C.subject));if(C.jwtid&&X.jti!==C.jwtid)return b(new r("jwt jwtid invalid. expected: "+C.jwtid));if(C.nonce&&X.nonce!==C.nonce)return b(new r("jwt nonce invalid. expected: "+C.nonce));if(C.maxAge){if(typeof X.iat!="number")return b(new r("iat required when maxAge is specified"));const J=l(C.maxAge,X.iat);if(typeof J>"u")return b(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(_>=J+(C.clockTolerance||0))return b(new a("maxAge exceeded",new Date(J*1e3)))}if(C.complete===!0){const J=L.signature;return b(null,{header:U,payload:X,signature:J})}return b(null,X)})},xy}var Ry,CC;function Dj(){if(CC)return Ry;CC=1;var r=1/0,s=9007199254740991,a=17976931348623157e292,i=NaN,l="[object Arguments]",u="[object Function]",o="[object GeneratorFunction]",d="[object String]",f="[object Symbol]",p=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,S=/^0o[0-7]+$/i,k=/^(?:0|[1-9]\d*)$/,A=parseInt;function x(W,Re){for(var xe=-1,et=W?W.length:0,ot=Array(et);++xe<et;)ot[xe]=Re(W[xe],xe,W);return ot}function O(W,Re,xe,et){for(var ot=W.length,yt=xe+-1;++yt<ot;)if(Re(W[yt],yt,W))return yt;return-1}function C(W,Re,xe){if(Re!==Re)return O(W,w,xe);for(var et=xe-1,ot=W.length;++et<ot;)if(W[et]===Re)return et;return-1}function w(W){return W!==W}function b(W,Re){for(var xe=-1,et=Array(W);++xe<W;)et[xe]=Re(xe);return et}function _(W,Re){return x(Re,function(xe){return W[xe]})}function D(W,Re){return function(xe){return W(Re(xe))}}var L=Object.prototype,U=L.hasOwnProperty,N=L.toString,F=L.propertyIsEnumerable,Y=D(Object.keys,Object),se=Math.max;function ge(W,Re){var xe=$(W)||H(W)?b(W.length,String):[],et=xe.length,ot=!!et;for(var yt in W)U.call(W,yt)&&!(ot&&(yt=="length"||J(yt,et)))&&xe.push(yt);return xe}function X(W){if(!q(W))return Y(W);var Re=[];for(var xe in Object(W))U.call(W,xe)&&xe!="constructor"&&Re.push(xe);return Re}function J(W,Re){return Re=Re??s,!!Re&&(typeof W=="number"||k.test(W))&&W>-1&&W%1==0&&W<Re}function q(W){var Re=W&&W.constructor,xe=typeof Re=="function"&&Re.prototype||L;return W===xe}function M(W,Re,xe,et){W=Z(W)?W:Wt(W),xe=xe&&!et?ze(xe):0;var ot=W.length;return xe<0&&(xe=se(ot+xe,0)),be(W)?xe<=ot&&W.indexOf(Re,xe)>-1:!!ot&&C(W,Re,xe)>-1}function H(W){return le(W)&&U.call(W,"callee")&&(!F.call(W,"callee")||N.call(W)==l)}var $=Array.isArray;function Z(W){return W!=null&&re(W.length)&&!V(W)}function le(W){return pe(W)&&Z(W)}function V(W){var Re=ie(W)?N.call(W):"";return Re==u||Re==o}function re(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=s}function ie(W){var Re=typeof W;return!!W&&(Re=="object"||Re=="function")}function pe(W){return!!W&&typeof W=="object"}function be(W){return typeof W=="string"||!$(W)&&pe(W)&&N.call(W)==d}function je(W){return typeof W=="symbol"||pe(W)&&N.call(W)==f}function Le(W){if(!W)return W===0?W:0;if(W=Ze(W),W===r||W===-r){var Re=W<0?-1:1;return Re*a}return W===W?W:0}function ze(W){var Re=Le(W),xe=Re%1;return Re===Re?xe?Re-xe:Re:0}function Ze(W){if(typeof W=="number")return W;if(je(W))return i;if(ie(W)){var Re=typeof W.valueOf=="function"?W.valueOf():W;W=ie(Re)?Re+"":Re}if(typeof W!="string")return W===0?W:+W;W=W.replace(p,"");var xe=m.test(W);return xe||S.test(W)?A(W.slice(2),xe?2:8):h.test(W)?i:+W}function Ht(W){return Z(W)?ge(W):X(W)}function Wt(W){return W?_(W,Ht(W)):[]}return Ry=M,Ry}var Ay,xC;function Lj(){if(xC)return Ay;xC=1;var r="[object Boolean]",s=Object.prototype,a=s.toString;function i(u){return u===!0||u===!1||l(u)&&a.call(u)==r}function l(u){return!!u&&typeof u=="object"}return Ay=i,Ay}var _y,RC;function Pj(){if(RC)return _y;RC=1;var r=1/0,s=17976931348623157e292,a=NaN,i="[object Symbol]",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt,p=Object.prototype,h=p.toString;function m(w){return typeof w=="number"&&w==O(w)}function S(w){var b=typeof w;return!!w&&(b=="object"||b=="function")}function k(w){return!!w&&typeof w=="object"}function A(w){return typeof w=="symbol"||k(w)&&h.call(w)==i}function x(w){if(!w)return w===0?w:0;if(w=C(w),w===r||w===-r){var b=w<0?-1:1;return b*s}return w===w?w:0}function O(w){var b=x(w),_=b%1;return b===b?_?b-_:b:0}function C(w){if(typeof w=="number")return w;if(A(w))return a;if(S(w)){var b=typeof w.valueOf=="function"?w.valueOf():w;w=S(b)?b+"":b}if(typeof w!="string")return w===0?w:+w;w=w.replace(l,"");var _=o.test(w);return _||d.test(w)?f(w.slice(2),_?2:8):u.test(w)?a:+w}return _y=m,_y}var Oy,AC;function Uj(){if(AC)return Oy;AC=1;var r="[object Number]",s=Object.prototype,a=s.toString;function i(u){return!!u&&typeof u=="object"}function l(u){return typeof u=="number"||i(u)&&a.call(u)==r}return Oy=l,Oy}var Ny,_C;function Mj(){if(_C)return Ny;_C=1;var r="[object Object]";function s(S){var k=!1;if(S!=null&&typeof S.toString!="function")try{k=!!(S+"")}catch{}return k}function a(S,k){return function(A){return S(k(A))}}var i=Function.prototype,l=Object.prototype,u=i.toString,o=l.hasOwnProperty,d=u.call(Object),f=l.toString,p=a(Object.getPrototypeOf,Object);function h(S){return!!S&&typeof S=="object"}function m(S){if(!h(S)||f.call(S)!=r||s(S))return!1;var k=p(S);if(k===null)return!0;var A=o.call(k,"constructor")&&k.constructor;return typeof A=="function"&&A instanceof A&&u.call(A)==d}return Ny=m,Ny}var ky,OC;function qj(){if(OC)return ky;OC=1;var r="[object String]",s=Object.prototype,a=s.toString,i=Array.isArray;function l(o){return!!o&&typeof o=="object"}function u(o){return typeof o=="string"||!i(o)&&l(o)&&a.call(o)==r}return ky=u,ky}var Iy,NC;function Hj(){if(NC)return Iy;NC=1;var r="Expected a function",s=1/0,a=17976931348623157e292,i=NaN,l="[object Symbol]",u=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,h=Object.prototype,m=h.toString;function S(_,D){var L;if(typeof D!="function")throw new TypeError(r);return _=w(_),function(){return--_>0&&(L=D.apply(this,arguments)),_<=1&&(D=void 0),L}}function k(_){return S(2,_)}function A(_){var D=typeof _;return!!_&&(D=="object"||D=="function")}function x(_){return!!_&&typeof _=="object"}function O(_){return typeof _=="symbol"||x(_)&&m.call(_)==l}function C(_){if(!_)return _===0?_:0;if(_=b(_),_===s||_===-s){var D=_<0?-1:1;return D*a}return _===_?_:0}function w(_){var D=C(_),L=D%1;return D===D?L?D-L:D:0}function b(_){if(typeof _=="number")return _;if(O(_))return i;if(A(_)){var D=typeof _.valueOf=="function"?_.valueOf():_;_=A(D)?D+"":D}if(typeof _!="string")return _===0?_:+_;_=_.replace(u,"");var L=d.test(_);return L||f.test(_)?p(_.slice(2),L?2:8):o.test(_)?i:+_}return Iy=k,Iy}var jy,kC;function $j(){if(kC)return jy;kC=1;const r=lA(),s=pA(),a=hA(),i=Iv(),l=Dj(),u=Lj(),o=Pj(),d=Uj(),f=Mj(),p=qj(),h=Hj(),{KeyObject:m,createSecretKey:S,createPrivateKey:k}=ho,A=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&A.splice(3,0,"PS256","PS384","PS512");const x={expiresIn:{isValid:function(L){return o(L)||p(L)&&L},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(L){return o(L)||p(L)&&L},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(L){return p(L)||Array.isArray(L)},message:'"audience" must be a string or array'},algorithm:{isValid:l.bind(null,A),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:u,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:u,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:u,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:u,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},O={iat:{isValid:d,message:'"iat" should be a number of seconds'},exp:{isValid:d,message:'"exp" should be a number of seconds'},nbf:{isValid:d,message:'"nbf" should be a number of seconds'}};function C(L,U,N,F){if(!f(N))throw new Error('Expected "'+F+'" to be a plain object.');Object.keys(N).forEach(function(Y){const se=L[Y];if(!se){if(!U)throw new Error('"'+Y+'" is not allowed in "'+F+'"');return}if(!se.isValid(N[Y]))throw new Error(se.message)})}function w(L){return C(x,!1,L,"options")}function b(L){return C(O,!0,L,"payload")}const _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},D=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return jy=function(L,U,N,F){typeof N=="function"?(F=N,N={}):N=N||{};const Y=typeof L=="object"&&!Buffer.isBuffer(L),se=Object.assign({alg:N.algorithm||"HS256",typ:Y?"JWT":void 0,kid:N.keyid},N.header);function ge(q){if(F)return F(q);throw q}if(!U&&N.algorithm!=="none")return ge(new Error("secretOrPrivateKey must have a value"));if(U!=null&&!(U instanceof m))try{U=k(U)}catch{try{U=S(typeof U=="string"?Buffer.from(U):U)}catch{return ge(new Error("secretOrPrivateKey is not valid key material"))}}if(se.alg.startsWith("HS")&&U.type!=="secret")return ge(new Error(`secretOrPrivateKey must be a symmetric key when using ${se.alg}`));if(/^(?:RS|PS|ES)/.test(se.alg)){if(U.type!=="private")return ge(new Error(`secretOrPrivateKey must be an asymmetric key when using ${se.alg}`));if(!N.allowInsecureKeySizes&&!se.alg.startsWith("ES")&&U.asymmetricKeyDetails!==void 0&&U.asymmetricKeyDetails.modulusLength<2048)return ge(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`))}if(typeof L>"u")return ge(new Error("payload is required"));if(Y){try{b(L)}catch(q){return ge(q)}N.mutatePayload||(L=Object.assign({},L))}else{const q=D.filter(function(M){return typeof N[M]<"u"});if(q.length>0)return ge(new Error("invalid "+q.join(",")+" option for "+typeof L+" payload"))}if(typeof L.exp<"u"&&typeof N.expiresIn<"u")return ge(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof L.nbf<"u"&&typeof N.notBefore<"u")return ge(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{w(N)}catch(q){return ge(q)}if(!N.allowInvalidAsymmetricKeyTypes)try{a(se.alg,U)}catch(q){return ge(q)}const X=L.iat||Math.floor(Date.now()/1e3);if(N.noTimestamp?delete L.iat:Y&&(L.iat=X),typeof N.notBefore<"u"){try{L.nbf=r(N.notBefore,X)}catch(q){return ge(q)}if(typeof L.nbf>"u")return ge(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof N.expiresIn<"u"&&typeof L=="object"){try{L.exp=r(N.expiresIn,X)}catch(q){return ge(q)}if(typeof L.exp>"u")return ge(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach(function(q){const M=_[q];if(typeof N[q]<"u"){if(typeof L[M]<"u")return ge(new Error('Bad "options.'+q+'" option. The payload already has an "'+M+'" property.'));L[M]=N[q]}});const J=N.encoding||"utf8";if(typeof F=="function")F=F&&h(F),i.createSign({header:se,privateKey:U,payload:L,encoding:J}).once("error",F).once("done",function(q){if(!N.allowInsecureKeySizes&&/^(?:RS|PS)/.test(se.alg)&&q.length<256)return F(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`));F(null,q)});else{let q=i.sign({header:se,payload:L,secret:U,encoding:J});if(!N.allowInsecureKeySizes&&/^(?:RS|PS)/.test(se.alg)&&q.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${se.alg}`);return q}},jy}var Dy,IC;function Tu(){return IC||(IC=1,Dy={decode:sA(),verify:jj(),sign:$j(),JsonWebTokenError:jd(),NotBeforeError:aA(),TokenExpiredError:oA()}),Dy}var jC;function Bj(){if(jC)return Xa;jC=1;var r=Xa&&Xa.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.extractRequestMetadata=i,Xa.extractUserIdFromToken=d;const s=r(Tu()),a=bu();function i(f,p,h){const m=f?.config||p?.config;if(!m)return null;const S=m.metadata;if(!S)return null;const k=l(S,m,h),A=u(m,p),x=o(f,p);return{...k,...A,...x}}function l(f,p,h){const m=Date.now()-f.startTime,S=f.method||"UNKNOWN",k=f.url||"",A=f.baseURL||(0,a.resolveControllerUrl)(h),x=`${A}${k}`,O=p.headers?.authorization,C=d(O);return{config:p,metadata:f,duration:m,method:S,url:k,fullUrl:x,baseURL:A,statusCode:0,authHeader:O,userId:C}}function u(f,p){return{requestHeaders:f.headers||{},requestBody:f.data||p?.config?.data}}function o(f,p){return{statusCode:f?.status||p?.response?.status||0,responseBody:f?.data||p?.response?.data,responseHeaders:f?.headers||p?.response?.headers||{}}}function d(f){if(!f||!f.startsWith("Bearer "))return null;const p=f.substring(7);try{const h=s.default.decode(p);return h?h.sub||h.userId||h.user_id||h.id:null}catch{return null}}return Xa}var Ac={},_c={},DC;function qd(){if(DC)return _c;DC=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.LoggerContextStorage=void 0;const r=aa;class s{constructor(){this.asyncLocalStorage=new r.AsyncLocalStorage}static getInstance(){return s.instance||(s.instance=new s),s.instance}getContext(){const i=this.asyncLocalStorage.getStore();return i===void 0?null:i}setContext(i){const l=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...l,...i})}clearContext(){this.asyncLocalStorage.enterWith({})}mergeContext(i){const l=this.asyncLocalStorage.getStore()||{};this.asyncLocalStorage.enterWith({...l,...i})}runWithContext(i,l){const u={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(u,l)}async runWithContextAsync(i,l){const u={...this.asyncLocalStorage.getStore()||{},...i};return this.asyncLocalStorage.run(u,l)}}return _c.LoggerContextStorage=s,s.instance=null,_c}var ki={},LC;function zj(){if(LC)return ki;LC=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.estimateObjectSize=s,ki.truncateResponseBody=a,ki.analyzeRequestSizes=i,ki.truncateBodies=l,ki.applyMaskingStrategy=u,ki.applyStandardMasking=o,ki.applyDetailedMasking=d;const r=pl();function s(m){if(m==null)return 0;if(typeof m=="string")return m.length;if(typeof m!="object")return 10;if(Array.isArray(m)){const A=m.length;if(A===0)return 10;const x=Math.min(3,A);let O=0;for(let w=0;w<x;w++)O+=s(m[w]);const C=x>0?O/x:100;return A*C}const S=Object.entries(m);let k=0;for(const[A,x]of S)k+=A.length+s(x);return k}function a(m,S=1e4){if(m==null)return{data:m,truncated:!1};if(typeof m=="string")return m.length<=S?{data:m,truncated:!1}:{data:m.substring(0,S)+"...",truncated:!0};const k=s(m);return k<=S?{data:m,truncated:!1}:{data:{_message:"Response body too large, truncated for performance",_estimatedSize:k},truncated:!0}}function i(m,S,k){const A=m?s(m):0,x=S?s(S):0,O=A<1024&&x<1024,C=A>k||x>k;return{isSmallRequest:O,isLargeRequest:C}}function l(m,S,k){const{data:A,truncated:x}=a(S,k),{data:O,truncated:C}=m&&s(m)>k?a(m,k):{data:m,truncated:!1};return{requestBody:O,responseBody:A,requestTruncated:C,responseTruncated:x}}async function u(m,S,k,A){const x=i(m.requestBody,m.responseBody,A),O=l(m.requestBody,m.responseBody,k),C={requestHeaders:m.requestHeaders,responseHeaders:m.responseHeaders,requestBody:O.requestBody,responseBody:O.responseBody,isSmallRequest:x.isSmallRequest,isLargeRequest:x.isLargeRequest,requestTruncated:O.requestTruncated,responseTruncated:O.responseTruncated};return S==="standard"?o(C):d(C)}function o(m){const S=r.DataMasker.maskSensitiveData(m.requestHeaders),k=r.DataMasker.maskSensitiveData(m.responseHeaders),A=m.isSmallRequest||!m.isLargeRequest,x=A?r.DataMasker.maskSensitiveData(m.requestBody):{_message:"Request body too large, masking skipped"},O=A?r.DataMasker.maskSensitiveData(m.responseBody):{_message:"Response body too large, masking skipped"};return{headers:S,requestBody:x,responseBody:O,responseHeaders:k,requestTruncated:m.requestTruncated,responseTruncated:m.responseTruncated}}async function d(m){return m.isLargeRequest?f(m.requestHeaders,m.responseHeaders,m.requestTruncated,m.responseTruncated):m.isSmallRequest?p(m.requestHeaders,m.responseHeaders,m.requestBody,m.responseBody,m.requestTruncated,m.responseTruncated):h(m.requestHeaders,m.responseHeaders,m.requestBody,m.responseBody,m.requestTruncated,m.responseTruncated)}function f(m,S,k,A){return{headers:m,requestBody:{_message:"Request body too large, masking skipped"},responseBody:{_message:"Response body too large, masking skipped"},responseHeaders:S,requestTruncated:k,responseTruncated:A}}function p(m,S,k,A,x,O){return{headers:r.DataMasker.maskSensitiveData(m),requestBody:r.DataMasker.maskSensitiveData(k),responseBody:r.DataMasker.maskSensitiveData(A),responseHeaders:r.DataMasker.maskSensitiveData(S),requestTruncated:x,responseTruncated:O}}async function h(m,S,k,A,x,O){const[C,w,b,_]=await Promise.all([Promise.resolve(r.DataMasker.maskSensitiveData(m)),Promise.resolve(r.DataMasker.maskSensitiveData(k)),Promise.resolve(r.DataMasker.maskSensitiveData(A)),Promise.resolve(r.DataMasker.maskSensitiveData(S))]);return{headers:C,requestBody:w,responseBody:b,responseHeaders:_,requestTruncated:x,responseTruncated:O}}return ki}var PC;function Kj(){if(PC)return Ac;PC=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.logHttpRequestAudit=a,Ac.calculateRequestSizes=o;const r=qd(),s=zj();async function a(m,S,k,A){try{if(!m)return;const x=k.audit||{},O=x.level||"detailed";if(O==="minimal"){await i(m,S,A);return}await l(m,O,x,S,k,A)}catch{}}async function i(m,S,k){const A=m.userId?void 0:m.authHeader?.replace("Bearer ","");await u(A,async()=>{await k.audit(`http.request.${m.method}`,m.url,{method:m.method,url:m.fullUrl,statusCode:m.statusCode,duration:m.duration,userId:m.userId||void 0,error:S?.message||void 0})})}async function l(m,S,k,A,x,O){const C=await(0,s.applyMaskingStrategy)({requestHeaders:m.requestHeaders,requestBody:m.requestBody,responseBody:m.responseBody,responseHeaders:m.responseHeaders},S,k.maxResponseSize??1e4,k.maxMaskingSize??5e4),w=S==="detailed"||S==="full"?o(m.requestBody,m.responseBody):{requestSize:void 0,responseSize:void 0},b=d({method:m.method,fullUrl:m.fullUrl,duration:m.duration,statusCode:m.statusCode,userId:m.userId},w,C,S,A),_=m.userId?void 0:m.authHeader?.replace("Bearer ","");if(await u(_,async()=>{await O.audit(`http.request.${m.method}`,m.url,b)}),x.logLevel==="debug")try{await f(m,C,w,A,O)}catch{}}async function u(m,S){if(!m){await S();return}await r.LoggerContextStorage.getInstance().runWithContextAsync({token:m},S)}function o(m,S){let k,A;if(m){const x=JSON.stringify(m),O=Buffer.byteLength(x);k=O<=2?void 0:O}if(S){const x=JSON.stringify(S),O=Buffer.byteLength(x);A=O<=2?void 0:O}return{requestSize:k,responseSize:A}}function d(m,S,k,A,x){const O={method:m.method,url:m.fullUrl,statusCode:m.statusCode,duration:m.duration,userId:m.userId||void 0,error:x?.message||void 0};return(A==="detailed"||A==="full")&&(O.requestSize=S.requestSize!==void 0&&S.requestSize>0?S.requestSize:void 0,O.responseSize=S.responseSize!==void 0&&S.responseSize>0?S.responseSize:void 0,k.requestTruncated&&(O.requestTruncated=!0),k.responseTruncated&&(O.responseTruncated=!0)),O}async function f(m,S,k,A,x){const O=p(S.responseBody),C=h(m,S,k,O,A),w=m.userId?void 0:m.authHeader?.replace("Bearer ","");await u(w,async()=>{await x.debug(`HTTP ${m.method} ${m.url}`,C)})}function p(m){if(!m||typeof m!="object")return m;const S=JSON.stringify(m);if(S.length<=1e3)return m;try{return JSON.parse(S.substring(0,1e3)+"...")}catch{return{_message:"Response body truncated"}}}function h(m,S,k,A,x){return{method:m.method,url:m.fullUrl,baseURL:m.baseURL,statusCode:m.statusCode,duration:m.duration,userId:m.userId||void 0,timeout:m.config.timeout||3e4,requestHeaders:S.headers,responseHeaders:S.responseHeaders,requestBody:S.requestBody,responseBody:A,requestSize:k.requestSize!==void 0&&k.requestSize>0?k.requestSize:void 0,responseSize:k.responseSize!==void 0&&k.responseSize>0?k.responseSize:void 0,error:x?.message||void 0}}return Ac}var UC;function Hv(){if(UC)return Cc;UC=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.HttpClient=void 0;const r=kv(),s=pl(),a=Bj(),i=Kj();class l{constructor(o,d){this.config=o,this.logger=d,this.internalClient=new r.InternalHttpClient(o),o.sensitiveFieldsConfig&&s.DataMasker.setConfigPath(o.sensitiveFieldsConfig),this.setupAuditLogging()}setupAuditLogging(){const o=this.internalClient.getAxiosInstance();o.interceptors.request.use(async d=>(this.shouldAuditRequest(d.url||"")&&(d.metadata={startTime:Date.now(),method:d.method?.toUpperCase(),url:d.url,baseURL:d.baseURL}),d),d=>Promise.reject(d)),o.interceptors.response.use(d=>(setTimeout(()=>{this.logHttpRequestAudit(d,null).catch(()=>{})},0),d),d=>(setTimeout(()=>{this.logHttpRequestAudit(d.response,d).catch(()=>{})},0),Promise.reject(d)))}shouldAuditRequest(o){if(this.config.audit?.enabled===!1)return!1;if(this.config.audit?.skipEndpoints){for(const d of this.config.audit.skipEndpoints)if(o&&o.includes(d))return!1}return!(o&&o.includes("/api/v1/logs")||o&&o.includes("/api/v1/auth/token"))}async logHttpRequestAudit(o,d){try{const f=(0,a.extractRequestMetadata)(o,d,this.config);await(0,i.logHttpRequestAudit)(f,d,this.config,this.logger)}catch{}}async get(o,d){return this.internalClient.get(o,d)}async post(o,d,f){return this.internalClient.post(o,d,f)}async put(o,d,f){return this.internalClient.put(o,d,f)}async delete(o,d){return this.internalClient.delete(o,d)}async request(o,d,f,p){return this.internalClient.request(o,d,f,p)}async authenticatedRequest(o,d,f,p,h,m){return this.internalClient.authenticatedRequest(o,d,f,p,h,m)}async requestWithAuthStrategy(o,d,f,p,h){return this.internalClient.requestWithAuthStrategy(o,d,f,p,h)}async validateTokenRequest(o,d){return this.authenticatedRequest("POST","/api/v1/auth/validate",o,{token:o},void 0,d)}async getWithFilters(o,d,f){const p=d.toQueryString(),h=p?`${o}?${p}`:o;return this.internalClient.get(h,f)}async getPaginated(o,d,f){const p=new URLSearchParams;p.append("page",d.page.toString()),p.append("page_size",d.pageSize.toString());const h=`${o}?${p.toString()}`;return this.internalClient.get(h,f)}}return Cc.HttpClient=l,Cc}var Oc={},Nc={},kc={},tl={},MC;function er(){if(MC)return tl;MC=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.logErrorWithContext=r,tl.writeWarn=s,tl.writeErr=a;function r(i,l="[MisoClient]"){const u=i.correlationId||"no-correlation-id",o=[];o.push(`${i.errorName}: ${i.message}`),i.statusCode!==void 0&&o.push(`Status: ${i.statusCode}`),i.endpoint&&i.method?o.push(`Endpoint: ${i.method} ${i.endpoint}`):i.endpoint?o.push(`Endpoint: ${i.endpoint}`):i.method&&o.push(`Method: ${i.method}`);const d=o.join(" | "),f=`${l} [${u}]`;console.error(f,d),i.responseBody&&console.error(f,`Response Body: ${JSON.stringify(i.responseBody,null,2)}`),i.stackTrace&&console.error(f,`Stack Trace: ${i.stackTrace}`),i.originalError&&console.error(f,`Original Error: ${String(i.originalError)}`)}function s(i){console.warn(i)}function a(i){console.error(i)}return tl}var zf={},li={},qC;function $v(){if(qC)return li;qC=1,Object.defineProperty(li,"__esModule",{value:!0}),li.AuthenticationError=li.TimeoutError=li.NetworkError=li.ApiError=void 0;class r extends Error{constructor(u,o,d,f){super(u),this.name="ApiError",this.statusCode=o,this.response=d,this.originalError=f,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}li.ApiError=r;class s extends r{constructor(u,o){super(u,0,void 0,o),this.name="NetworkError"}}li.NetworkError=s;class a extends r{constructor(u,o){super(u,408),this.name="TimeoutError"}}li.TimeoutError=a;class i extends r{constructor(u,o){super(u,401,o),this.name="AuthenticationError"}}return li.AuthenticationError=i,li}var HC;function Yr(){if(HC)return zf;HC=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.extractErrorInfo=o;const r=hl(),s=$v();function a(d,f,p,h,m,S){d.errorType=f,d.errorName=p,d.message=h,d.statusCode=m,d.stackTrace=S}function i(d,f){a(f,"MisoClientError",d.name,d.message,d.statusCode,d.stack),d.errorResponse&&"correlationId"in d.errorResponse&&(f.correlationId=f.correlationId||d.errorResponse.correlationId),d.errorResponse?f.responseBody={errors:d.errorResponse.errors,type:d.errorResponse.type,title:d.errorResponse.title,statusCode:d.errorResponse.statusCode,instance:d.errorResponse.instance,correlationId:d.errorResponse.correlationId}:d.errorBody&&(f.responseBody=d.errorBody)}function l(d,f){if(a(f,d.name,d.name,d.message,d.statusCode,d.stack),f.originalError=d.originalError,d.response)try{f.responseBody={status:d.statusCode,message:d.message}}catch{}}function u(d,f){f.errorType="Unknown",f.errorName="UnknownError",f.message=typeof d=="string"?d:d&&typeof d=="object"&&"message"in d?String(d.message):"Unknown error occurred"}function o(d,f){const p={errorType:"Unknown",errorName:"Error",message:"Unknown error",endpoint:f?.endpoint,method:f?.method,correlationId:f?.correlationId};return d instanceof r.MisoClientError?i(d,p):d instanceof s.ApiError?l(d,p):d instanceof s.AuthenticationError?a(p,"AuthenticationError",d.name,d.message,401,d.stack):d instanceof s.NetworkError?a(p,"NetworkError",d.name,d.message,0,d.stack):d instanceof s.TimeoutError?a(p,"TimeoutError",d.name,d.message,408,d.stack):d instanceof Error?a(p,"Error",d.name,d.message,void 0,d.stack):u(d,p),p}return zf}var $C;function Fj(){if($C)return kc;$C=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.AuthLoginApi=void 0;const r=er(),s=Yr();class a{constructor(l){this.httpClient=l}async login(l,u){try{return u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGIN_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGIN_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,s.extractErrorInfo)(o,{endpoint:a.LOGIN_ENDPOINT,method:"GET"});throw(0,r.logErrorWithContext)(d,"[AuthLoginApi]"),o}}async initiateDeviceCode(l,u){try{return u?await this.httpClient.requestWithAuthStrategy("POST",a.LOGIN_ENDPOINT,u,l):await this.httpClient.request("POST",a.LOGIN_ENDPOINT,l)}catch(o){const d=(0,s.extractErrorInfo)(o,{endpoint:a.LOGIN_ENDPOINT,method:"POST"});throw(0,r.logErrorWithContext)(d,"[AuthLoginApi]"),o}}async pollDeviceCodeToken(l){try{return await this.httpClient.request("POST",a.DEVICE_CODE_TOKEN_ENDPOINT,l)}catch(u){const o=(0,s.extractErrorInfo)(u,{endpoint:a.DEVICE_CODE_TOKEN_ENDPOINT,method:"POST"});throw(0,r.logErrorWithContext)(o,"[AuthLoginApi]"),u}}async refreshDeviceCodeToken(l){try{return await this.httpClient.request("POST",a.DEVICE_CODE_REFRESH_ENDPOINT,l)}catch(u){const o=(0,s.extractErrorInfo)(u,{endpoint:a.DEVICE_CODE_REFRESH_ENDPOINT,method:"POST"});throw(0,r.logErrorWithContext)(o,"[AuthLoginApi]"),u}}async getLoginDiagnostics(l){try{const u=l?{environment:l}:void 0,o=await this.httpClient.request("GET",a.LOGIN_DIAGNOSTICS_ENDPOINT,void 0,{params:u});if(o.success!==void 0)return o;if(o.data&&typeof o.data=="object"){const d=o.data;return{success:!0,data:{database:d.database||{},controller:d.controller||{},environment:d.environment||{},keycloak:d.keycloak||{}},timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}throw new Error(`Unexpected response format from login diagnostics endpoint: ${JSON.stringify(o)}`)}catch(u){const o=(0,s.extractErrorInfo)(u,{endpoint:a.LOGIN_DIAGNOSTICS_ENDPOINT,method:"GET"});throw(0,r.logErrorWithContext)(o,"[AuthLoginApi]"),u}}}return kc.AuthLoginApi=a,a.LOGIN_ENDPOINT="/api/v1/auth/login",a.DEVICE_CODE_TOKEN_ENDPOINT="/api/v1/auth/login/device/token",a.DEVICE_CODE_REFRESH_ENDPOINT="/api/v1/auth/login/device/refresh",a.LOGIN_DIAGNOSTICS_ENDPOINT="/api/v1/auth/login/diagnostics",kc}var Ic={},BC;function Gj(){if(BC)return Ic;BC=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.AuthTokenApi=void 0;const r=Yr(),s=er();function a(o){const d=o.data;if(!d||typeof d.token!="string")throw new Error(`Unexpected response format from client-token endpoint: ${JSON.stringify(o)}`);return{success:!0,data:{token:d.token,expiresIn:typeof d.expiresIn=="number"?d.expiresIn:0,expiresAt:typeof d.expiresAt=="string"?d.expiresAt:new Date().toISOString()},timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}function i(o,d){return{success:!0,token:d.token,expiresIn:typeof d.expiresIn=="number"?d.expiresIn:0,expiresAt:typeof d.expiresAt=="string"?d.expiresAt:new Date().toISOString(),timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}function l(o){return{success:!0,token:o.token,expiresIn:typeof o.expiresIn=="number"?o.expiresIn:0,expiresAt:typeof o.expiresAt=="string"?o.expiresAt:new Date().toISOString(),timestamp:typeof o.timestamp=="string"?o.timestamp:new Date().toISOString()}}class u{constructor(d){this.httpClient=d}async getClientToken(d){try{if(d)return await this.httpClient.requestWithAuthStrategy("POST",u.CLIENT_TOKEN_ENDPOINT,d);const f=await this.httpClient.request("POST",u.CLIENT_TOKEN_ENDPOINT,void 0,{headers:{"x-client-id":this.httpClient.config.clientId||""}});if(f.success!==void 0)return f;if(f.data&&typeof f.data=="object")return a(f);throw new Error(`Unexpected response format from client-token endpoint: ${JSON.stringify(f)}`)}catch(f){const p=(0,r.extractErrorInfo)(f,{endpoint:u.CLIENT_TOKEN_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(p,"[AuthTokenApi]"),f}}async generateClientToken(d){try{if(d)return await this.httpClient.requestWithAuthStrategy("POST",u.CLIENT_TOKEN_LEGACY_ENDPOINT,d);const f=await this.httpClient.request("POST",u.CLIENT_TOKEN_LEGACY_ENDPOINT,void 0,{headers:{"x-client-id":this.httpClient.config.clientId||"","x-client-secret":this.httpClient.config.clientSecret||""}});if(f.success!==void 0)return f;if(f.data&&typeof f.data=="object"){const p=f.data;if(typeof p.token=="string")return i(f,p)}if(typeof f.token=="string")return l(f);throw new Error(`Unexpected response format from token endpoint: ${JSON.stringify(f)}`)}catch(f){const p=(0,r.extractErrorInfo)(f,{endpoint:u.CLIENT_TOKEN_LEGACY_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(p,"[AuthTokenApi]"),f}}async validateToken(d,f){try{return await this.httpClient.authenticatedRequest("POST",u.VALIDATE_ENDPOINT,d.token,d,void 0,f)}catch(p){const h=(0,r.extractErrorInfo)(p,{endpoint:u.VALIDATE_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(h,"[AuthTokenApi]"),p}}async refreshToken(d,f){try{return f?await this.httpClient.requestWithAuthStrategy("POST",u.REFRESH_ENDPOINT,f,d):await this.httpClient.request("POST",u.REFRESH_ENDPOINT,d)}catch(p){const h=(0,r.extractErrorInfo)(p,{endpoint:u.REFRESH_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(h,"[AuthTokenApi]"),p}}}return Ic.AuthTokenApi=u,u.CLIENT_TOKEN_ENDPOINT="/api/v1/auth/client-token",u.CLIENT_TOKEN_LEGACY_ENDPOINT="/api/v1/auth/token",u.VALIDATE_ENDPOINT="/api/v1/auth/validate",u.REFRESH_ENDPOINT="/api/v1/auth/refresh",Ic}var jc={},zC;function Vj(){if(zC)return jc;zC=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.AuthUserApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async getUser(l){try{if(l?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.USER_ENDPOINT,l.bearerToken,void 0,void 0,l);if(l)return await this.httpClient.requestWithAuthStrategy("GET",a.USER_ENDPOINT,l);throw new Error("getUser requires authentication - provide authStrategy with bearerToken")}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.USER_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthUserApi]"),u}}async logout(){try{return await this.httpClient.request("POST",a.LOGOUT_ENDPOINT)}catch(l){const u=(0,r.extractErrorInfo)(l,{endpoint:a.LOGOUT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(u,"[AuthUserApi]"),l}}async logoutWithToken(l){try{return await this.httpClient.request("POST",a.LOGOUT_ENDPOINT,{token:l})}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.LOGOUT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[AuthUserApi]"),u}}async handleCallback(l,u){try{return u?await this.httpClient.requestWithAuthStrategy("GET",a.CALLBACK_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.CALLBACK_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.CALLBACK_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[AuthUserApi]"),o}}}return jc.AuthUserApi=a,a.USER_ENDPOINT="/api/v1/auth/user",a.LOGOUT_ENDPOINT="/api/v1/auth/logout",a.CALLBACK_ENDPOINT="/api/v1/auth/callback",jc}var Dc={},KC;function Wj(){if(KC)return Dc;KC=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.AuthCacheApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async getCacheStats(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.CACHE_STATS_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",a.CACHE_STATS_ENDPOINT,l):await this.httpClient.request("GET",a.CACHE_STATS_ENDPOINT)}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.CACHE_STATS_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),u}}async getCachePerformance(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.CACHE_PERFORMANCE_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",a.CACHE_PERFORMANCE_ENDPOINT,l):await this.httpClient.request("GET",a.CACHE_PERFORMANCE_ENDPOINT)}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.CACHE_PERFORMANCE_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),u}}async getCacheEfficiency(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.CACHE_EFFICIENCY_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("GET",a.CACHE_EFFICIENCY_ENDPOINT,l):await this.httpClient.request("GET",a.CACHE_EFFICIENCY_ENDPOINT)}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.CACHE_EFFICIENCY_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),u}}async clearCache(l){try{return l?.bearerToken?await this.httpClient.authenticatedRequest("POST",a.CACHE_CLEAR_ENDPOINT,l.bearerToken,void 0,void 0,l):l?await this.httpClient.requestWithAuthStrategy("POST",a.CACHE_CLEAR_ENDPOINT,l):await this.httpClient.request("POST",a.CACHE_CLEAR_ENDPOINT)}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.CACHE_CLEAR_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[AuthCacheApi]"),u}}async invalidateCache(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("POST",a.CACHE_INVALIDATE_ENDPOINT,u.bearerToken,l,void 0,u):u?await this.httpClient.requestWithAuthStrategy("POST",a.CACHE_INVALIDATE_ENDPOINT,u,l):await this.httpClient.request("POST",a.CACHE_INVALIDATE_ENDPOINT,l)}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.CACHE_INVALIDATE_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(d,"[AuthCacheApi]"),o}}}return Dc.AuthCacheApi=a,a.CACHE_STATS_ENDPOINT="/api/v1/auth/cache/stats",a.CACHE_PERFORMANCE_ENDPOINT="/api/v1/auth/cache/performance",a.CACHE_EFFICIENCY_ENDPOINT="/api/v1/auth/cache/efficiency",a.CACHE_CLEAR_ENDPOINT="/api/v1/auth/cache/clear",a.CACHE_INVALIDATE_ENDPOINT="/api/v1/auth/cache/invalidate",Dc}var FC;function Jj(){if(FC)return Nc;FC=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.AuthApi=void 0;const r=Fj(),s=Gj(),a=Vj(),i=Wj();class l{constructor(o){this.httpClient=o,this.loginApi=new r.AuthLoginApi(o),this.tokenApi=new s.AuthTokenApi(o),this.userApi=new a.AuthUserApi(o),this.cacheApi=new i.AuthCacheApi(o)}async login(o,d){return this.loginApi.login(o,d)}async initiateDeviceCode(o,d){return this.loginApi.initiateDeviceCode(o,d)}async pollDeviceCodeToken(o){return this.loginApi.pollDeviceCodeToken(o)}async refreshDeviceCodeToken(o){return this.loginApi.refreshDeviceCodeToken(o)}async getLoginDiagnostics(o){return this.loginApi.getLoginDiagnostics(o)}async getClientToken(o){return this.tokenApi.getClientToken(o)}async generateClientToken(o){return this.tokenApi.generateClientToken(o)}async validateToken(o,d){return this.tokenApi.validateToken(o,d)}async refreshToken(o,d){return this.tokenApi.refreshToken(o,d)}async getUser(o){return this.userApi.getUser(o)}async logout(){return this.userApi.logout()}async logoutWithToken(o){return this.userApi.logoutWithToken(o)}async handleCallback(o,d){return this.userApi.handleCallback(o,d)}async getCacheStats(o){return this.cacheApi.getCacheStats(o)}async getCachePerformance(o){return this.cacheApi.getCachePerformance(o)}async getCacheEfficiency(o){return this.cacheApi.getCacheEfficiency(o)}async clearCache(o){return this.cacheApi.clearCache(o)}async invalidateCache(o,d){return this.cacheApi.invalidateCache(o,d)}}return Nc.AuthApi=l,Nc}var Lc={},GC;function Yj(){if(GC)return Lc;GC=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.RolesApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async getRoles(l,u){try{if(u?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.ROLES_ENDPOINT,u.bearerToken,void 0,{params:l},u);if(u)return await this.httpClient.requestWithAuthStrategy("GET",a.ROLES_ENDPOINT,u,void 0,{params:l});throw new Error("getRoles requires authentication - provide authStrategy with bearerToken")}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.ROLES_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[RolesApi]"),o}}async refreshRoles(l,u){try{if(u?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.ROLES_REFRESH_ENDPOINT,u.bearerToken,void 0,{params:l},u);if(u)return await this.httpClient.requestWithAuthStrategy("GET",a.ROLES_REFRESH_ENDPOINT,u,void 0,{params:l});throw new Error("refreshRoles requires authentication - provide authStrategy with bearerToken")}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.ROLES_REFRESH_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[RolesApi]"),o}}}return Lc.RolesApi=a,a.ROLES_ENDPOINT="/api/v1/auth/roles",a.ROLES_REFRESH_ENDPOINT="/api/v1/auth/roles/refresh",Lc}var Pc={},VC;function Xj(){if(VC)return Pc;VC=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.PermissionsApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async getPermissions(l,u){try{if(u?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.PERMISSIONS_ENDPOINT,u.bearerToken,void 0,{params:l},u);if(u)return await this.httpClient.requestWithAuthStrategy("GET",a.PERMISSIONS_ENDPOINT,u,void 0,{params:l});throw new Error("getPermissions requires authentication - provide authStrategy with bearerToken")}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.PERMISSIONS_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[PermissionsApi]"),o}}async refreshPermissions(l,u){try{if(u?.bearerToken)return await this.httpClient.authenticatedRequest("GET",a.PERMISSIONS_REFRESH_ENDPOINT,u.bearerToken,void 0,{params:l},u);if(u)return await this.httpClient.requestWithAuthStrategy("GET",a.PERMISSIONS_REFRESH_ENDPOINT,u,void 0,{params:l});throw new Error("refreshPermissions requires authentication - provide authStrategy with bearerToken")}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.PERMISSIONS_REFRESH_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[PermissionsApi]"),o}}}return Pc.PermissionsApi=a,a.PERMISSIONS_ENDPOINT="/api/v1/auth/permissions",a.PERMISSIONS_REFRESH_ENDPOINT="/api/v1/auth/permissions/refresh",Pc}var Uc={},Mc={},WC;function Qj(){if(WC)return Mc;WC=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.LogsCreateApi=void 0;const r=Yr(),s=er(),a=hl();function i(d){return{success:!0,data:null,message:typeof d.message=="string"?d.message:"Log created successfully",timestamp:typeof d.timestamp=="string"?d.timestamp:new Date().toISOString()}}function l(d){const f=d.data&&typeof d.data=="object"?d.data:void 0,p=typeof f?.processed=="number"?f.processed:typeof d.processed=="number"?d.processed:0,h=typeof f?.failed=="number"?f.failed:typeof d.failed=="number"?d.failed:0,m=Array.isArray(f?.errors)?f.errors:Array.isArray(d.errors)?d.errors:void 0;return{success:!0,message:typeof d.message=="string"?d.message:"Batch logs processed",processed:p,failed:h,errors:m,timestamp:typeof d.timestamp=="string"?d.timestamp:new Date().toISOString()}}function u(d,f,p){d instanceof a.MisoClientError&&d.statusCode===401||(0,s.logErrorWithContext)((0,r.extractErrorInfo)(d,{endpoint:f,method:"POST"}),p)}class o{constructor(f){this.httpClient=f}async createLog(f,p){try{if(p?.bearerToken)return await this.httpClient.authenticatedRequest("POST",o.LOGS_ENDPOINT,p.bearerToken,f,void 0,p);if(p)return await this.httpClient.requestWithAuthStrategy("POST",o.LOGS_ENDPOINT,p,f);const h=await this.httpClient.request("POST",o.LOGS_ENDPOINT,f);return h.success!==void 0?h:i(h)}catch(h){throw u(h,o.LOGS_ENDPOINT,"[LogsCreateApi]"),h}}async createBatchLogs(f,p){try{if(p?.bearerToken)return await this.httpClient.authenticatedRequest("POST",o.LOGS_BATCH_ENDPOINT,p.bearerToken,f,void 0,p);if(p)return await this.httpClient.requestWithAuthStrategy("POST",o.LOGS_BATCH_ENDPOINT,p,f);const h=await this.httpClient.request("POST",o.LOGS_BATCH_ENDPOINT,f);return h.success!==void 0?h:l(h)}catch(h){throw u(h,o.LOGS_BATCH_ENDPOINT,"[LogsCreateApi]"),h}}}return Mc.LogsCreateApi=o,o.LOGS_ENDPOINT="/api/v1/logs",o.LOGS_BATCH_ENDPOINT="/api/v1/logs/batch",Mc}var qc={},JC;function Zj(){if(JC)return qc;JC=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.LogsListApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async listGeneralLogs(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_GENERAL_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_GENERAL_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_GENERAL_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsListApi]"),o}}async getGeneralLog(l,u,o){try{const d=`${a.LOGS_GENERAL_ENDPOINT}/${l}`,f=u?{environment:u}:void 0;return o?.bearerToken?await this.httpClient.authenticatedRequest("GET",d,o.bearerToken,void 0,{params:f},o):o?await this.httpClient.requestWithAuthStrategy("GET",d,o,void 0,{params:f}):await this.httpClient.request("GET",d,void 0,{params:f})}catch(d){const f=(0,r.extractErrorInfo)(d,{endpoint:a.LOGS_GENERAL_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsListApi]"),d}}async listAuditLogs(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_AUDIT_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_AUDIT_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_AUDIT_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:a.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsListApi]"),o}}async getAuditLog(l,u,o){try{const d=`${a.LOGS_AUDIT_ENDPOINT}/${l}`,f=u?{environment:u}:void 0;return o?.bearerToken?await this.httpClient.authenticatedRequest("GET",d,o.bearerToken,void 0,{params:f},o):o?await this.httpClient.requestWithAuthStrategy("GET",d,o,void 0,{params:f}):await this.httpClient.request("GET",d,void 0,{params:f})}catch(d){const f=(0,r.extractErrorInfo)(d,{endpoint:a.LOGS_AUDIT_ENDPOINT,method:"GET"});throw(0,s.logErrorWithContext)(f,"[LogsListApi]"),d}}async listJobLogs(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_JOBS_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_JOBS_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_JOBS_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsListApi]"),o}}async getJobLog(l,u){try{const o=`${a.LOGS_JOBS_ENDPOINT}/${l}`;return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",o,u.bearerToken,void 0,void 0,u):u?await this.httpClient.requestWithAuthStrategy("GET",o,u):await this.httpClient.request("GET",o)}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsListApi]"),o}}}return qc.LogsListApi=a,a.LOGS_GENERAL_ENDPOINT="/api/v1/logs/general",a.LOGS_AUDIT_ENDPOINT="/api/v1/logs/audit",a.LOGS_JOBS_ENDPOINT="/api/v1/logs/jobs",qc}var Hc={},YC;function eD(){if(YC)return Hc;YC=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.LogsStatsApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async getLogStatsSummary(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_STATS_SUMMARY_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_STATS_SUMMARY_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_STATS_SUMMARY_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsStatsApi]"),o}}async getErrorStats(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_STATS_ERRORS_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_STATS_ERRORS_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_STATS_ERRORS_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsStatsApi]"),o}}async getUserActivityStats(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_STATS_USERS_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_STATS_USERS_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_STATS_USERS_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsStatsApi]"),o}}async getApplicationStats(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_STATS_APPLICATIONS_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_STATS_APPLICATIONS_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_STATS_APPLICATIONS_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsStatsApi]"),o}}}return Hc.LogsStatsApi=a,a.LOGS_STATS_SUMMARY_ENDPOINT="/api/v1/logs/stats/summary",a.LOGS_STATS_ERRORS_ENDPOINT="/api/v1/logs/stats/errors",a.LOGS_STATS_USERS_ENDPOINT="/api/v1/logs/stats/users",a.LOGS_STATS_APPLICATIONS_ENDPOINT="/api/v1/logs/stats/applications",Hc}var $c={},XC;function tD(){if(XC)return $c;XC=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.LogsExportApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async exportLogs(l,u){try{return u?.bearerToken?await this.httpClient.authenticatedRequest("GET",a.LOGS_EXPORT_ENDPOINT,u.bearerToken,void 0,{params:l},u):u?await this.httpClient.requestWithAuthStrategy("GET",a.LOGS_EXPORT_ENDPOINT,u,void 0,{params:l}):await this.httpClient.request("GET",a.LOGS_EXPORT_ENDPOINT,void 0,{params:l})}catch(o){const d=(0,r.extractErrorInfo)(o,{endpoint:void 0,method:"GET"});throw(0,s.logErrorWithContext)(d,"[LogsExportApi]"),o}}}return $c.LogsExportApi=a,a.LOGS_EXPORT_ENDPOINT="/api/v1/logs/export",$c}var QC;function rD(){if(QC)return Uc;QC=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.LogsApi=void 0;const r=Qj(),s=Zj(),a=eD(),i=tD();class l{constructor(o){this.httpClient=o,this.create=new r.LogsCreateApi(o),this.list=new s.LogsListApi(o),this.stats=new a.LogsStatsApi(o),this.export=new i.LogsExportApi(o)}async createLog(o,d){return this.create.createLog(o,d)}async createBatchLogs(o,d){return this.create.createBatchLogs(o,d)}async listGeneralLogs(o,d){return this.list.listGeneralLogs(o,d)}async getGeneralLog(o,d,f){return this.list.getGeneralLog(o,d,f)}async listAuditLogs(o,d){return this.list.listAuditLogs(o,d)}async getAuditLog(o,d,f){return this.list.getAuditLog(o,d,f)}async listJobLogs(o,d){return this.list.listJobLogs(o,d)}async getJobLog(o,d){return this.list.getJobLog(o,d)}async getLogStatsSummary(o,d){return this.stats.getLogStatsSummary(o,d)}async getErrorStats(o,d){return this.stats.getErrorStats(o,d)}async getUserActivityStats(o,d){return this.stats.getUserActivityStats(o,d)}async getApplicationStats(o,d){return this.stats.getApplicationStats(o,d)}async exportLogs(o,d){return this.export.exportLogs(o,d)}}return Uc.LogsApi=l,Uc}var Bc={},ZC;function nD(){if(ZC)return Bc;ZC=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.EncryptionApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}async encrypt(l){try{return await this.httpClient.request("POST",a.ENCRYPT_ENDPOINT,l)}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.ENCRYPT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[EncryptionApi]"),u}}async decrypt(l){try{return await this.httpClient.request("POST",a.DECRYPT_ENDPOINT,l)}catch(u){const o=(0,r.extractErrorInfo)(u,{endpoint:a.DECRYPT_ENDPOINT,method:"POST"});throw(0,s.logErrorWithContext)(o,"[EncryptionApi]"),u}}}return Bc.EncryptionApi=a,a.ENCRYPT_ENDPOINT="/api/security/parameters/encrypt",a.DECRYPT_ENDPOINT="/api/security/parameters/decrypt",Bc}var zc={},ex;function iD(){if(ex)return zc;ex=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.ApplicationsApi=void 0;const r=Yr(),s=er();class a{constructor(l){this.httpClient=l}buildPath(l,u){let o=l.replace(":envKey",u.envKey);return u.appKey!==void 0&&(o=o.replace(":appKey",u.appKey)),o}async updateSelfStatus(l,u,o){const d=this.buildPath(a.SELF_STATUS_ENDPOINT,{envKey:l});try{return o?.bearerToken?await this.httpClient.authenticatedRequest("POST",d,o.bearerToken,u,void 0,o):o?await this.httpClient.requestWithAuthStrategy("POST",d,o,u):await this.httpClient.request("POST",d,u)}catch(f){const p=(0,r.extractErrorInfo)(f,{endpoint:d,method:"POST"});throw(0,s.logErrorWithContext)(p,"[ApplicationsApi]"),f}}async getApplicationStatus(l,u,o){const d=this.buildPath(a.APPLICATION_STATUS_ENDPOINT,{envKey:l,appKey:u});try{return o?.bearerToken?await this.httpClient.authenticatedRequest("GET",d,o.bearerToken,void 0,void 0,o):o?await this.httpClient.requestWithAuthStrategy("GET",d,o):await this.httpClient.request("GET",d)}catch(f){const p=(0,r.extractErrorInfo)(f,{endpoint:d,method:"GET"});throw(0,s.logErrorWithContext)(p,"[ApplicationsApi]"),f}}}return zc.ApplicationsApi=a,a.SELF_STATUS_ENDPOINT="/api/v1/environments/:envKey/applications/self/status",a.APPLICATION_STATUS_ENDPOINT="/api/v1/environments/:envKey/applications/:appKey/status",zc}var tx;function mA(){if(tx)return Oc;tx=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.ApiClient=void 0;const r=Jj(),s=Yj(),a=Xj(),i=rD(),l=nD(),u=iD();class o{constructor(f){this.auth=new r.AuthApi(f),this.roles=new s.RolesApi(f),this.permissions=new a.PermissionsApi(f),this.logs=new i.LogsApi(f),this.encryption=new l.EncryptionApi(f),this.applications=new u.ApplicationsApi(f)}}return Oc.ApiClient=o,Oc}var Ii={},rx;function gA(){if(rx)return Ii;rx=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.LoggerServiceRegistry=void 0,Ii.getLogger=i,Ii.setLoggerContext=l,Ii.clearLoggerContext=u,Ii.mergeLoggerContext=o,Ii.registerLoggerService=d;const r=Cv(),s=Eu();class a{static register(p){a.instance=p}static get(){return a.instance}static clear(){a.instance=null}}Ii.LoggerServiceRegistry=a,a.instance=null;function i(f){const p=s.LoggerContextStorage.getInstance(),h=f||a.get();if(!h)throw new Error("LoggerService not available. Either pass LoggerService to getLogger() or ensure MisoClient is initialized.");return new r.UnifiedLoggerService(h,p)}function l(f){s.LoggerContextStorage.getInstance().setContext(f)}function u(){s.LoggerContextStorage.getInstance().clearContext()}function o(f){s.LoggerContextStorage.getInstance().mergeContext(f)}function d(f){a.register(f)}return Ii}var Kf={},nx;function Bv(){if(nx)return Kf;nx=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.validateOrigin=a;function r(i){return i.trim().toLowerCase().replace(/\/$/,"")}function s(i,l){const u=r(i),o=r(l);if(u===o)return!0;if(l.includes(":*"))try{const d=new URL(u),f=new URL(o.replace(":*",""));if(d.protocol===f.protocol&&d.hostname===f.hostname)return!0}catch{}return!1}function a(i,l){if(!l||l.length===0)return{valid:!0};let u=Array.isArray(i.headers.origin)?i.headers.origin[0]:i.headers.origin;if(!u||typeof u!="string"){const d=Array.isArray(i.headers.referer)?i.headers.referer[0]:i.headers.referer;if(d&&typeof d=="string")try{const f=new URL(d);u=`${f.protocol}//${f.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const o=u;for(const d of l)if(s(o,d))return{valid:!0};return{valid:!1,error:`Origin '${o}' is not allowed`}}return Kf}var Kc={};const dd=new TextEncoder,Pi=new TextDecoder,hd=2**32;function Mi(...r){const s=r.reduce((l,{length:u})=>l+u,0),a=new Uint8Array(s);let i=0;for(const l of r)a.set(l,i),i+=l.length;return a}function Jy(r,s,a){if(s<0||s>=hd)throw new RangeError(`value must be >= 0 and <= ${hd-1}. Received ${s}`);r.set([s>>>24,s>>>16,s>>>8,s&255],a)}function yA(r){const s=Math.floor(r/hd),a=r%hd,i=new Uint8Array(8);return Jy(i,s,0),Jy(i,a,4),i}function zv(r){const s=new Uint8Array(4);return Jy(s,r),s}function Vr(r){const s=new Uint8Array(r.length);for(let a=0;a<r.length;a++){const i=r.charCodeAt(a);if(i>127)throw new TypeError("non-ASCII string encountered in encode()");s[a]=i}return s}function Kv(r){if(Uint8Array.prototype.toBase64)return r.toBase64();const s=32768,a=[];for(let i=0;i<r.length;i+=s)a.push(String.fromCharCode.apply(null,r.subarray(i,i+s)));return btoa(a.join(""))}function vA(r){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);const s=atob(r),a=new Uint8Array(s.length);for(let i=0;i<s.length;i++)a[i]=s.charCodeAt(i);return a}function Zt(r){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof r=="string"?r:Pi.decode(r),{alphabet:"base64url"});let s=r;s instanceof Uint8Array&&(s=Pi.decode(s)),s=s.replace(/-/g,"+").replace(/_/g,"/");try{return vA(s)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function cr(r){let s=r;return typeof s=="string"&&(s=dd.encode(s)),Uint8Array.prototype.toBase64?s.toBase64({alphabet:"base64url",omitPadding:!0}):Kv(s).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}const sD=Object.freeze(Object.defineProperty({__proto__:null,decode:Zt,encode:cr},Symbol.toStringTag,{value:"Module"}));class Lr extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(s,a){super(s,a),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class mn extends Lr{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(s,a,i="unspecified",l="unspecified"){super(s,{cause:{claim:i,reason:l,payload:a}}),this.claim=i,this.reason=l,this.payload=a}}class Yy extends Lr{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(s,a,i="unspecified",l="unspecified"){super(s,{cause:{claim:i,reason:l,payload:a}}),this.claim=i,this.reason=l,this.payload=a}}class pd extends Lr{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class St extends Lr{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class du extends Lr{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(s="decryption operation failed",a){super(s,a)}}class Pe extends Lr{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class xt extends Lr{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class yn extends Lr{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class EA extends Lr{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class Fv extends Lr{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class Gv extends Lr{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(s="no applicable key found in the JSON Web Key Set",a){super(s,a)}}class bA extends Lr{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(s="multiple matching keys found in the JSON Web Key Set",a){super(s,a)}}class SA extends Lr{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(s="request timed out",a){super(s,a)}}class Vv extends Lr{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(s="signature verification failed",a){super(s,a)}}const aD=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:pd,JOSEError:Lr,JOSENotSupported:St,JWEDecryptionFailed:du,JWEInvalid:Pe,JWKInvalid:EA,JWKSInvalid:Fv,JWKSMultipleMatchingKeys:bA,JWKSNoMatchingKey:Gv,JWKSTimeout:SA,JWSInvalid:xt,JWSSignatureVerificationFailed:Vv,JWTClaimValidationFailed:mn,JWTExpired:Yy,JWTInvalid:yn},Symbol.toStringTag,{value:"Module"}));function wA(r){switch(r){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new St(`Unsupported JWE Algorithm: ${r}`)}}const oD=r=>crypto.getRandomValues(new Uint8Array(wA(r)>>3));function TA(r,s){if(s.length<<3!==wA(r))throw new Pe("Invalid Initialization Vector length")}function md(r,s){const a=r.byteLength<<3;if(a!==s)throw new Pe(`Invalid Content Encryption Key length. Expected ${s} bits, got ${a} bits`)}const Rr=(r,s="algorithm.name")=>new TypeError(`CryptoKey does not support this operation, its ${s} must be ${r}`),Di=(r,s)=>r.name===s;function rd(r){return parseInt(r.name.slice(4),10)}function lD(r){switch(r){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function CA(r,s){if(s&&!r.usages.includes(s))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${s}.`)}function cD(r,s,a){switch(s){case"HS256":case"HS384":case"HS512":{if(!Di(r.algorithm,"HMAC"))throw Rr("HMAC");const i=parseInt(s.slice(2),10);if(rd(r.algorithm.hash)!==i)throw Rr(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Di(r.algorithm,"RSASSA-PKCS1-v1_5"))throw Rr("RSASSA-PKCS1-v1_5");const i=parseInt(s.slice(2),10);if(rd(r.algorithm.hash)!==i)throw Rr(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Di(r.algorithm,"RSA-PSS"))throw Rr("RSA-PSS");const i=parseInt(s.slice(2),10);if(rd(r.algorithm.hash)!==i)throw Rr(`SHA-${i}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!Di(r.algorithm,"Ed25519"))throw Rr("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!Di(r.algorithm,s))throw Rr(s);break}case"ES256":case"ES384":case"ES512":{if(!Di(r.algorithm,"ECDSA"))throw Rr("ECDSA");const i=lD(s);if(r.algorithm.namedCurve!==i)throw Rr(i,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}CA(r,a)}function la(r,s,a){switch(s){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Di(r.algorithm,"AES-GCM"))throw Rr("AES-GCM");const i=parseInt(s.slice(1,4),10);if(r.algorithm.length!==i)throw Rr(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Di(r.algorithm,"AES-KW"))throw Rr("AES-KW");const i=parseInt(s.slice(1,4),10);if(r.algorithm.length!==i)throw Rr(i,"algorithm.length");break}case"ECDH":{switch(r.algorithm.name){case"ECDH":case"X25519":break;default:throw Rr("ECDH or X25519")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Di(r.algorithm,"PBKDF2"))throw Rr("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Di(r.algorithm,"RSA-OAEP"))throw Rr("RSA-OAEP");const i=parseInt(s.slice(9),10)||1;if(rd(r.algorithm.hash)!==i)throw Rr(`SHA-${i}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}CA(r,a)}function xA(r,s,...a){if(a=a.filter(Boolean),a.length>2){const i=a.pop();r+=`one of type ${a.join(", ")}, or ${i}.`}else a.length===2?r+=`one of type ${a[0]} or ${a[1]}.`:r+=`of type ${a[0]}.`;return s==null?r+=` Received ${s}`:typeof s=="function"&&s.name?r+=` Received function ${s.name}`:typeof s=="object"&&s!=null&&s.constructor?.name&&(r+=` Received an instance of ${s.constructor.name}`),r}const da=(r,...s)=>xA("Key must be ",r,...s),RA=(r,s,...a)=>xA(`Key for the ${r} algorithm must be `,s,...a);function cu(r){if(!po(r))throw new Error("CryptoKey instance expected")}const po=r=>{if(r?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return r instanceof CryptoKey}catch{return!1}},Hd=r=>r?.[Symbol.toStringTag]==="KeyObject",Wv=r=>po(r)||Hd(r);async function uD(r,s){if(!(r instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(s instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");const a={name:"HMAC",hash:"SHA-256"},i=await crypto.subtle.generateKey(a,!1,["sign"]),l=new Uint8Array(await crypto.subtle.sign(a,i,r)),u=new Uint8Array(await crypto.subtle.sign(a,i,s));let o=0,d=-1;for(;++d<32;)o|=l[d]^u[d];return o===0}async function fD(r,s,a,i,l,u){if(!(s instanceof Uint8Array))throw new TypeError(da(s,"Uint8Array"));const o=parseInt(r.slice(1,4),10),d=await crypto.subtle.importKey("raw",s.subarray(o>>3),"AES-CBC",!1,["decrypt"]),f=await crypto.subtle.importKey("raw",s.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),p=Mi(u,i,a,yA(u.length<<3)),h=new Uint8Array((await crypto.subtle.sign("HMAC",f,p)).slice(0,o>>3));let m;try{m=await uD(l,h)}catch{}if(!m)throw new du;let S;try{S=new Uint8Array(await crypto.subtle.decrypt({iv:i,name:"AES-CBC"},d,a))}catch{}if(!S)throw new du;return S}async function dD(r,s,a,i,l,u){let o;s instanceof Uint8Array?o=await crypto.subtle.importKey("raw",s,"AES-GCM",!1,["decrypt"]):(la(s,r,"decrypt"),o=s);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:u,iv:i,name:"AES-GCM",tagLength:128},o,Mi(a,l)))}catch{throw new du}}async function AA(r,s,a,i,l,u){if(!po(s)&&!(s instanceof Uint8Array))throw new TypeError(da(s,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!i)throw new Pe("JWE Initialization Vector missing");if(!l)throw new Pe("JWE Authentication Tag missing");switch(TA(r,i),r){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return s instanceof Uint8Array&&md(s,parseInt(r.slice(-3),10)),fD(r,s,a,i,l,u);case"A128GCM":case"A192GCM":case"A256GCM":return s instanceof Uint8Array&&md(s,parseInt(r.slice(1,4),10)),dD(r,s,a,i,l,u);default:throw new St("Unsupported JWE Content Encryption Algorithm")}}function Cu(...r){const s=r.filter(Boolean);if(s.length===0||s.length===1)return!0;let a;for(const i of s){const l=Object.keys(i);if(!a||a.size===0){a=new Set(l);continue}for(const u of l){if(a.has(u))return!1;a.add(u)}}return!0}const hD=r=>typeof r=="object"&&r!==null;function ur(r){if(!hD(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}function _A(r,s){if(r.algorithm.length!==parseInt(s.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${s}`)}function OA(r,s,a){return r instanceof Uint8Array?crypto.subtle.importKey("raw",r,"AES-KW",!0,[a]):(la(r,s,a),r)}async function Xy(r,s,a){const i=await OA(s,r,"wrapKey");_A(i,r);const l=await crypto.subtle.importKey("raw",a,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",l,i,"AES-KW"))}async function Qy(r,s,a){const i=await OA(s,r,"unwrapKey");_A(i,r);const l=await crypto.subtle.unwrapKey("raw",a,i,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",l))}async function NA(r,s){const a=`SHA-${r.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(a,s))}function Ly(r){return Mi(zv(r.length),r)}async function pD(r,s,a){const i=s>>3,l=32,u=Math.ceil(i/l),o=new Uint8Array(u*l);for(let d=1;d<=u;d++){const f=new Uint8Array(4+r.length+a.length);f.set(zv(d),0),f.set(r,4),f.set(a,4+r.length);const p=await NA("sha256",f);o.set(p,(d-1)*l)}return o.slice(0,i)}async function kA(r,s,a,i,l=new Uint8Array,u=new Uint8Array){la(r,"ECDH"),la(s,"ECDH","deriveBits");const o=Ly(Vr(a)),d=Ly(l),f=Ly(u),p=zv(i),h=new Uint8Array,m=Mi(o,d,f,p,h),S=new Uint8Array(await crypto.subtle.deriveBits({name:r.algorithm.name,public:r},s,mD(r)));return pD(S,i,m)}function mD(r){return r.algorithm.name==="X25519"?256:Math.ceil(parseInt(r.algorithm.namedCurve.slice(-3),10)/8)<<3}function IA(r){switch(r.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return r.algorithm.name==="X25519"}}function gD(r,s){return r instanceof Uint8Array?crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveBits"]):(la(r,s,"deriveBits"),r)}const yD=(r,s)=>Mi(Vr(r),Uint8Array.of(0),s);async function jA(r,s,a,i){if(!(r instanceof Uint8Array)||r.length<8)throw new Pe("PBES2 Salt Input must be 8 or more octets");const l=yD(s,r),u=parseInt(s.slice(13,16),10),o={hash:`SHA-${s.slice(8,11)}`,iterations:a,name:"PBKDF2",salt:l},d=await gD(i,s);return new Uint8Array(await crypto.subtle.deriveBits(o,d,u))}async function vD(r,s,a,i=2048,l=crypto.getRandomValues(new Uint8Array(16))){const u=await jA(l,r,i,s);return{encryptedKey:await Xy(r.slice(-6),u,a),p2c:i,p2s:cr(l)}}async function ED(r,s,a,i,l){const u=await jA(l,r,i,s);return Qy(r.slice(-6),u,a)}function $d(r,s){if(r.startsWith("RS")||r.startsWith("PS")){const{modulusLength:a}=s.algorithm;if(typeof a!="number"||a<2048)throw new TypeError(`${r} requires key modulusLength to be 2048 bits or larger`)}}const DA=r=>{switch(r){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new St(`alg ${r} is not supported either by JOSE or your javascript runtime`)}};async function bD(r,s,a){return la(s,r,"encrypt"),$d(r,s),new Uint8Array(await crypto.subtle.encrypt(DA(r),s,a))}async function SD(r,s,a){return la(s,r,"decrypt"),$d(r,s),new Uint8Array(await crypto.subtle.decrypt(DA(r),s,a))}function Jv(r){switch(r){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new St(`Unsupported JWE Algorithm: ${r}`)}}const lo=r=>crypto.getRandomValues(new Uint8Array(Jv(r)>>3)),LA=(r,s)=>{const a=(r.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${s}-----
${a}
-----END ${s}-----`},PA=async(r,s,a)=>{if(Hd(a)){if(a.type!==r)throw new TypeError(`key is not a ${r} key`);return a.export({format:"pem",type:s})}if(!po(a))throw new TypeError(da(a,"CryptoKey","KeyObject"));if(!a.extractable)throw new TypeError("CryptoKey is not extractable");if(a.type!==r)throw new TypeError(`key is not a ${r} key`);return LA(Kv(new Uint8Array(await crypto.subtle.exportKey(s,a))),`${r.toUpperCase()} KEY`)},wD=r=>PA("public","spki",r),TD=r=>PA("private","pkcs8",r),Py=(r,s)=>{if(r.byteLength!==s.length)return!1;for(let a=0;a<r.byteLength;a++)if(r[a]!==s[a])return!1;return!0},Yv=r=>({data:r,pos:0}),ci=r=>{const s=r.data[r.pos++];if(s&128){const a=s&127;let i=0;for(let l=0;l<a;l++)i=i<<8|r.data[r.pos++];return i}return s},Zy=(r,s=1)=>{if(s<=0)return;r.pos++;const a=ci(r);r.pos+=a,s>1&&Zy(r,s-1)},Li=(r,s,a)=>{if(r.data[r.pos++]!==s)throw new Error(a)},UA=(r,s)=>{const a=r.data.subarray(r.pos,r.pos+s);return r.pos+=s,a},CD=r=>{Li(r,6,"Expected algorithm OID");const s=ci(r);return UA(r,s)};function xD(r){Li(r,48,"Invalid PKCS#8 structure"),ci(r),Li(r,2,"Expected version field");const s=ci(r);r.pos+=s,Li(r,48,"Expected algorithm identifier");const a=ci(r);return{algIdStart:r.pos,algIdLength:a}}function RD(r){Li(r,48,"Invalid SPKI structure"),ci(r),Li(r,48,"Expected algorithm identifier");const s=ci(r);return{algIdStart:r.pos,algIdLength:s}}const MA=r=>{const s=CD(r);if(Py(s,[43,101,110]))return"X25519";if(!Py(s,[42,134,72,206,61,2,1]))throw new Error("Unsupported key algorithm");Li(r,6,"Expected curve OID");const a=ci(r),i=UA(r,a);for(const{name:l,oid:u}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if(Py(i,u))return l;throw new Error("Unsupported named curve")},qA=async(r,s,a,i)=>{let l,u;const o=r==="spki",d=()=>o?["verify"]:["sign"],f=()=>o?["encrypt","wrapKey"]:["decrypt","unwrapKey"];switch(a){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${a.slice(-3)}`},u=d();break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.slice(-3)}`},u=d();break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(a.slice(-3),10)||1}`},u=f();break;case"ES256":case"ES384":case"ES512":{l={name:"ECDSA",namedCurve:{ES256:"P-256",ES384:"P-384",ES512:"P-521"}[a]},u=d();break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{try{const p=i.getNamedCurve(s);l=p==="X25519"?{name:"X25519"}:{name:"ECDH",namedCurve:p}}catch{throw new St("Invalid or unsupported key format")}u=o?[]:["deriveBits"];break}case"Ed25519":case"EdDSA":l={name:"Ed25519"},u=d();break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":l={name:a},u=d();break;default:throw new St('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(r,s,l,i?.extractable??!!o,u)},Xv=(r,s)=>vA(r.replace(s,"")),AD=(r,s,a)=>{const i=Xv(r,/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g);let l=a;return s?.startsWith?.("ECDH-ES")&&(l||={},l.getNamedCurve=u=>{const o=Yv(u);return xD(o),MA(o)}),qA("pkcs8",i,s,l)},HA=(r,s,a)=>{const i=Xv(r,/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g);let l=a;return s?.startsWith?.("ECDH-ES")&&(l||={},l.getNamedCurve=u=>{const o=Yv(u);return RD(o),MA(o)}),qA("spki",i,s,l)};function _D(r){const s=Yv(r);Li(s,48,"Invalid certificate structure"),ci(s),Li(s,48,"Invalid tbsCertificate structure"),ci(s),r[s.pos]===160?Zy(s,6):Zy(s,5);const a=s.pos;Li(s,48,"Invalid SPKI structure");const i=ci(s);return r.subarray(a,a+i+(s.pos-a))}function OD(r){const s=Xv(r,/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g);return _D(s)}const ND=(r,s,a)=>{let i;try{i=OD(r)}catch(l){throw new TypeError("Failed to parse the X.509 certificate",{cause:l})}return HA(LA(Kv(i),"PUBLIC KEY"),s,a)};function kD(r){let s,a;switch(r.kty){case"AKP":{switch(r.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":s={name:r.alg},a=r.priv?["sign"]:["verify"];break;default:throw new St('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(r.alg){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${r.alg.slice(-3)}`},a=r.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.alg.slice(-3)}`},a=r.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(r.alg.slice(-3),10)||1}`},a=r.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new St('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(r.alg){case"ES256":s={name:"ECDSA",namedCurve:"P-256"},a=r.d?["sign"]:["verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},a=r.d?["sign"]:["verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},a=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:"ECDH",namedCurve:r.crv},a=r.d?["deriveBits"]:[];break;default:throw new St('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(r.alg){case"Ed25519":case"EdDSA":s={name:"Ed25519"},a=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:r.crv},a=r.d?["deriveBits"]:[];break;default:throw new St('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new St('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:s,keyUsages:a}}async function nd(r){if(!r.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:s,keyUsages:a}=kD(r),i={...r};return i.kty!=="AKP"&&delete i.alg,delete i.use,crypto.subtle.importKey("jwk",i,s,r.ext??!(r.d||r.priv),r.key_ops??a)}async function ID(r,s,a){if(typeof r!="string"||r.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return HA(r,s,a)}async function jD(r,s,a){if(typeof r!="string"||r.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return ND(r,s,a)}async function DD(r,s,a){if(typeof r!="string"||r.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return AD(r,s,a)}async function Bd(r,s,a){if(!ur(r))throw new TypeError("JWK must be an object");let i;switch(s??=r.alg,i??=a?.extractable??r.ext,r.kty){case"oct":if(typeof r.k!="string"||!r.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Zt(r.k);case"RSA":if("oth"in r&&r.oth!==void 0)throw new St('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return nd({...r,alg:s,ext:i});case"AKP":{if(typeof r.alg!="string"||!r.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(s!==void 0&&s!==r.alg)throw new TypeError("JWK alg and alg option value mismatch");return nd({...r,ext:i})}case"EC":case"OKP":return nd({...r,alg:s,ext:i});default:throw new St('Unsupported "kty" (Key Type) Parameter value')}}async function LD(r,s,a,i,l){if(!(a instanceof Uint8Array))throw new TypeError(da(a,"Uint8Array"));const u=parseInt(r.slice(1,4),10),o=await crypto.subtle.importKey("raw",a.subarray(u>>3),"AES-CBC",!1,["encrypt"]),d=await crypto.subtle.importKey("raw",a.subarray(0,u>>3),{hash:`SHA-${u<<1}`,name:"HMAC"},!1,["sign"]),f=new Uint8Array(await crypto.subtle.encrypt({iv:i,name:"AES-CBC"},o,s)),p=Mi(l,i,f,yA(l.length<<3)),h=new Uint8Array((await crypto.subtle.sign("HMAC",d,p)).slice(0,u>>3));return{ciphertext:f,tag:h,iv:i}}async function PD(r,s,a,i,l){let u;a instanceof Uint8Array?u=await crypto.subtle.importKey("raw",a,"AES-GCM",!1,["encrypt"]):(la(a,r,"encrypt"),u=a);const o=new Uint8Array(await crypto.subtle.encrypt({additionalData:l,iv:i,name:"AES-GCM",tagLength:128},u,s)),d=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:d,iv:i}}async function $A(r,s,a,i,l){if(!po(a)&&!(a instanceof Uint8Array))throw new TypeError(da(a,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(i?TA(r,i):i=oD(r),r){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a instanceof Uint8Array&&md(a,parseInt(r.slice(-3),10)),LD(r,s,a,i,l);case"A128GCM":case"A192GCM":case"A256GCM":return a instanceof Uint8Array&&md(a,parseInt(r.slice(1,4),10)),PD(r,s,a,i,l);default:throw new St("Unsupported JWE Content Encryption Algorithm")}}async function UD(r,s,a,i){const l=r.slice(0,7),u=await $A(l,a,s,i,new Uint8Array);return{encryptedKey:u.ciphertext,iv:cr(u.iv),tag:cr(u.tag)}}async function MD(r,s,a,i,l){const u=r.slice(0,7);return AA(u,s,a,i,l,new Uint8Array)}async function qD(r,s,a,i,l){switch(r){case"dir":{if(a!==void 0)throw new Pe("Encountered unexpected JWE Encrypted Key");return s}case"ECDH-ES":if(a!==void 0)throw new Pe("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ur(i.epk))throw new Pe('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(cu(s),!IA(s))throw new St("ECDH with the provided key is not allowed or not supported by your javascript runtime");const u=await Bd(i.epk,r);cu(u);let o,d;if(i.apu!==void 0){if(typeof i.apu!="string")throw new Pe('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=Zt(i.apu)}catch{throw new Pe("Failed to base64url decode the apu")}}if(i.apv!==void 0){if(typeof i.apv!="string")throw new Pe('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{d=Zt(i.apv)}catch{throw new Pe("Failed to base64url decode the apv")}}const f=await kA(u,s,r==="ECDH-ES"?i.enc:r,r==="ECDH-ES"?Jv(i.enc):parseInt(r.slice(-5,-2),10),o,d);if(r==="ECDH-ES")return f;if(a===void 0)throw new Pe("JWE Encrypted Key missing");return Qy(r.slice(-6),f,a)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(a===void 0)throw new Pe("JWE Encrypted Key missing");return cu(s),SD(r,s,a)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(a===void 0)throw new Pe("JWE Encrypted Key missing");if(typeof i.p2c!="number")throw new Pe('JOSE Header "p2c" (PBES2 Count) missing or invalid');const u=l?.maxPBES2Count||1e4;if(i.p2c>u)throw new Pe('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof i.p2s!="string")throw new Pe('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let o;try{o=Zt(i.p2s)}catch{throw new Pe("Failed to base64url decode the p2s")}return ED(r,s,a,i.p2c,o)}case"A128KW":case"A192KW":case"A256KW":{if(a===void 0)throw new Pe("JWE Encrypted Key missing");return Qy(r,s,a)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(a===void 0)throw new Pe("JWE Encrypted Key missing");if(typeof i.iv!="string")throw new Pe('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof i.tag!="string")throw new Pe('JOSE Header "tag" (Authentication Tag) missing or invalid');let u;try{u=Zt(i.iv)}catch{throw new Pe("Failed to base64url decode the iv")}let o;try{o=Zt(i.tag)}catch{throw new Pe("Failed to base64url decode the tag")}return MD(r,s,a,u,o)}default:throw new St('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function xu(r,s,a,i,l){if(l.crit!==void 0&&i?.crit===void 0)throw new r('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(o=>typeof o!="string"||o.length===0))throw new r('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let u;a!==void 0?u=new Map([...Object.entries(a),...s.entries()]):u=s;for(const o of i.crit){if(!u.has(o))throw new St(`Extension Header Parameter "${o}" is not recognized`);if(l[o]===void 0)throw new r(`Extension Header Parameter "${o}" is missing`);if(u.get(o)&&i[o]===void 0)throw new r(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(i.crit)}function ev(r,s){if(s!==void 0&&(!Array.isArray(s)||s.some(a=>typeof a!="string")))throw new TypeError(`"${r}" option must be an array of strings`);if(s)return new Set(s)}const zd=r=>ur(r)&&typeof r.kty=="string",HD=r=>r.kty!=="oct"&&(r.kty==="AKP"&&typeof r.priv=="string"||typeof r.d=="string"),$D=r=>r.kty!=="oct"&&r.d===void 0&&r.priv===void 0,BD=r=>r.kty==="oct"&&typeof r.k=="string";let ul;const ix=async(r,s,a,i=!1)=>{ul||=new WeakMap;let l=ul.get(r);if(l?.[a])return l[a];const u=await nd({...s,alg:a});return i&&Object.freeze(r),l?l[a]=u:ul.set(r,{[a]:u}),u},zD=(r,s)=>{ul||=new WeakMap;let a=ul.get(r);if(a?.[s])return a[s];const i=r.type==="public",l=!!i;let u;if(r.asymmetricKeyType==="x25519"){switch(s){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}u=r.toCryptoKey(r.asymmetricKeyType,l,i?[]:["deriveBits"])}if(r.asymmetricKeyType==="ed25519"){if(s!=="EdDSA"&&s!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");u=r.toCryptoKey(r.asymmetricKeyType,l,[i?"verify":"sign"])}switch(r.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(s!==r.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");u=r.toCryptoKey(r.asymmetricKeyType,l,[i?"verify":"sign"])}}if(r.asymmetricKeyType==="rsa"){let o;switch(s){case"RSA-OAEP":o="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":o="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":o="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":o="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(s.startsWith("RSA-OAEP"))return r.toCryptoKey({name:"RSA-OAEP",hash:o},l,i?["encrypt"]:["decrypt"]);u=r.toCryptoKey({name:s.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:o},l,[i?"verify":"sign"])}if(r.asymmetricKeyType==="ec"){const d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(r.asymmetricKeyDetails?.namedCurve);if(!d)throw new TypeError("given KeyObject instance cannot be used for this algorithm");s==="ES256"&&d==="P-256"&&(u=r.toCryptoKey({name:"ECDSA",namedCurve:d},l,[i?"verify":"sign"])),s==="ES384"&&d==="P-384"&&(u=r.toCryptoKey({name:"ECDSA",namedCurve:d},l,[i?"verify":"sign"])),s==="ES512"&&d==="P-521"&&(u=r.toCryptoKey({name:"ECDSA",namedCurve:d},l,[i?"verify":"sign"])),s.startsWith("ECDH-ES")&&(u=r.toCryptoKey({name:"ECDH",namedCurve:d},l,i?[]:["deriveBits"]))}if(!u)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return a?a[s]=u:ul.set(r,{[s]:u}),u};async function gl(r,s){if(r instanceof Uint8Array||po(r))return r;if(Hd(r)){if(r.type==="secret")return r.export();if("toCryptoKey"in r&&typeof r.toCryptoKey=="function")try{return zD(r,s)}catch(i){if(i instanceof TypeError)throw i}let a=r.export({format:"jwk"});return ix(r,a,s)}if(zd(r))return r.k?Zt(r.k):ix(r,r,s,!0);throw new Error("unreachable")}const ol=r=>r?.[Symbol.toStringTag],tv=(r,s,a)=>{if(s.use!==void 0){let i;switch(a){case"sign":case"verify":i="sig";break;case"encrypt":case"decrypt":i="enc";break}if(s.use!==i)throw new TypeError(`Invalid key for this operation, its "use" must be "${i}" when present`)}if(s.alg!==void 0&&s.alg!==r)throw new TypeError(`Invalid key for this operation, its "alg" must be "${r}" when present`);if(Array.isArray(s.key_ops)){let i;switch(!0){case(a==="sign"||a==="verify"):case r==="dir":case r.includes("CBC-HS"):i=a;break;case r.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(r):!r.includes("GCM")&&r.endsWith("KW")?i=a==="encrypt"?"wrapKey":"unwrapKey":i=a;break;case(a==="encrypt"&&r.startsWith("RSA")):i="wrapKey";break;case a==="decrypt":i=r.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(i&&s.key_ops?.includes?.(i)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0},KD=(r,s,a)=>{if(!(s instanceof Uint8Array)){if(zd(s)){if(BD(s)&&tv(r,s,a))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Wv(s))throw new TypeError(RA(r,s,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(s.type!=="secret")throw new TypeError(`${ol(s)} instances for symmetric algorithms must be of type "secret"`)}},FD=(r,s,a)=>{if(zd(s))switch(a){case"decrypt":case"sign":if(HD(s)&&tv(r,s,a))return;throw new TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if($D(s)&&tv(r,s,a))return;throw new TypeError("JSON Web Key for this operation must be a public JWK")}if(!Wv(s))throw new TypeError(RA(r,s,"CryptoKey","KeyObject","JSON Web Key"));if(s.type==="secret")throw new TypeError(`${ol(s)} instances for asymmetric algorithms must not be of type "secret"`);if(s.type==="public")switch(a){case"sign":throw new TypeError(`${ol(s)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${ol(s)} instances for asymmetric algorithm decryption must be of type "private"`)}if(s.type==="private")switch(a){case"verify":throw new TypeError(`${ol(s)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${ol(s)} instances for asymmetric algorithm encryption must be of type "public"`)}};function Ru(r,s,a){switch(r.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":KD(r,s,a);break;default:FD(r,s,a)}}async function Qv(r,s,a){if(!ur(r))throw new Pe("Flattened JWE must be an object");if(r.protected===void 0&&r.header===void 0&&r.unprotected===void 0)throw new Pe("JOSE Header missing");if(r.iv!==void 0&&typeof r.iv!="string")throw new Pe("JWE Initialization Vector incorrect type");if(typeof r.ciphertext!="string")throw new Pe("JWE Ciphertext missing or incorrect type");if(r.tag!==void 0&&typeof r.tag!="string")throw new Pe("JWE Authentication Tag incorrect type");if(r.protected!==void 0&&typeof r.protected!="string")throw new Pe("JWE Protected Header incorrect type");if(r.encrypted_key!==void 0&&typeof r.encrypted_key!="string")throw new Pe("JWE Encrypted Key incorrect type");if(r.aad!==void 0&&typeof r.aad!="string")throw new Pe("JWE AAD incorrect type");if(r.header!==void 0&&!ur(r.header))throw new Pe("JWE Shared Unprotected Header incorrect type");if(r.unprotected!==void 0&&!ur(r.unprotected))throw new Pe("JWE Per-Recipient Unprotected Header incorrect type");let i;if(r.protected)try{const _=Zt(r.protected);i=JSON.parse(Pi.decode(_))}catch{throw new Pe("JWE Protected Header is invalid")}if(!Cu(i,r.header,r.unprotected))throw new Pe("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const l={...i,...r.header,...r.unprotected};if(xu(Pe,new Map,a?.crit,i,l),l.zip!==void 0)throw new St('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:u,enc:o}=l;if(typeof u!="string"||!u)throw new Pe("missing JWE Algorithm (alg) in JWE Header");if(typeof o!="string"||!o)throw new Pe("missing JWE Encryption Algorithm (enc) in JWE Header");const d=a&&ev("keyManagementAlgorithms",a.keyManagementAlgorithms),f=a&&ev("contentEncryptionAlgorithms",a.contentEncryptionAlgorithms);if(d&&!d.has(u)||!d&&u.startsWith("PBES2"))throw new pd('"alg" (Algorithm) Header Parameter value not allowed');if(f&&!f.has(o))throw new pd('"enc" (Encryption Algorithm) Header Parameter value not allowed');let p;if(r.encrypted_key!==void 0)try{p=Zt(r.encrypted_key)}catch{throw new Pe("Failed to base64url decode the encrypted_key")}let h=!1;typeof s=="function"&&(s=await s(i,r),h=!0),Ru(u==="dir"?o:u,s,"decrypt");const m=await gl(s,u);let S;try{S=await qD(u,m,p,l,a)}catch(_){if(_ instanceof TypeError||_ instanceof Pe||_ instanceof St)throw _;S=lo(o)}let k,A;if(r.iv!==void 0)try{k=Zt(r.iv)}catch{throw new Pe("Failed to base64url decode the iv")}if(r.tag!==void 0)try{A=Zt(r.tag)}catch{throw new Pe("Failed to base64url decode the tag")}const x=r.protected!==void 0?Vr(r.protected):new Uint8Array;let O;r.aad!==void 0?O=Mi(x,Vr("."),Vr(r.aad)):O=x;let C;try{C=Zt(r.ciphertext)}catch{throw new Pe("Failed to base64url decode the ciphertext")}const b={plaintext:await AA(o,S,C,k,A,O)};if(r.protected!==void 0&&(b.protectedHeader=i),r.aad!==void 0)try{b.additionalAuthenticatedData=Zt(r.aad)}catch{throw new Pe("Failed to base64url decode the aad")}return r.unprotected!==void 0&&(b.sharedUnprotectedHeader=r.unprotected),r.header!==void 0&&(b.unprotectedHeader=r.header),h?{...b,key:m}:b}async function BA(r,s,a){if(r instanceof Uint8Array&&(r=Pi.decode(r)),typeof r!="string")throw new Pe("Compact JWE must be a string or Uint8Array");const{0:i,1:l,2:u,3:o,4:d,length:f}=r.split(".");if(f!==5)throw new Pe("Invalid Compact JWE");const p=await Qv({ciphertext:o,iv:u||void 0,protected:i,tag:d||void 0,encrypted_key:l||void 0},s,a),h={plaintext:p.plaintext,protectedHeader:p.protectedHeader};return typeof s=="function"?{...h,key:p.key}:h}async function GD(r,s,a){if(!ur(r))throw new Pe("General JWE must be an object");if(!Array.isArray(r.recipients)||!r.recipients.every(ur))throw new Pe("JWE Recipients missing or incorrect type");if(!r.recipients.length)throw new Pe("JWE Recipients has no members");for(const i of r.recipients)try{return await Qv({aad:r.aad,ciphertext:r.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:r.iv,protected:r.protected,tag:r.tag,unprotected:r.unprotected},s,a)}catch{}throw new du}const zA=Symbol();async function VD(r){if(Hd(r))if(r.type==="secret")r=r.export();else return r.export({format:"jwk"});if(r instanceof Uint8Array)return{kty:"oct",k:cr(r)};if(!po(r))throw new TypeError(da(r,"CryptoKey","KeyObject","Uint8Array"));if(!r.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:s,key_ops:a,alg:i,use:l,...u}=await crypto.subtle.exportKey("jwk",r);return u.kty==="AKP"&&(u.alg=i),u}async function WD(r){return wD(r)}async function JD(r){return TD(r)}async function Zv(r){return VD(r)}async function KA(r,s,a,i,l={}){let u,o,d;switch(r){case"dir":{d=a;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(cu(a),!IA(a))throw new St("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:f,apv:p}=l;let h;l.epk?h=await gl(l.epk,r):h=(await crypto.subtle.generateKey(a.algorithm,!0,["deriveBits"])).privateKey;const{x:m,y:S,crv:k,kty:A}=await Zv(h),x=await kA(a,h,r==="ECDH-ES"?s:r,r==="ECDH-ES"?Jv(s):parseInt(r.slice(-5,-2),10),f,p);if(o={epk:{x:m,crv:k,kty:A}},A==="EC"&&(o.epk.y=S),f&&(o.apu=cr(f)),p&&(o.apv=cr(p)),r==="ECDH-ES"){d=x;break}d=i||lo(s);const O=r.slice(-6);u=await Xy(O,x,d);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{d=i||lo(s),cu(a),u=await bD(r,a,d);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{d=i||lo(s);const{p2c:f,p2s:p}=l;({encryptedKey:u,...o}=await vD(r,a,d,f,p));break}case"A128KW":case"A192KW":case"A256KW":{d=i||lo(s),u=await Xy(r,a,d);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{d=i||lo(s);const{iv:f}=l;({encryptedKey:u,...o}=await UD(r,a,d,f));break}default:throw new St('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:d,encryptedKey:u,parameters:o}}class gd{#e;#t;#r;#n;#s;#a;#o;#i;constructor(s){if(!(s instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this.#e=s}setKeyManagementParameters(s){if(this.#i)throw new TypeError("setKeyManagementParameters can only be called once");return this.#i=s,this}setProtectedHeader(s){if(this.#t)throw new TypeError("setProtectedHeader can only be called once");return this.#t=s,this}setSharedUnprotectedHeader(s){if(this.#r)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this.#r=s,this}setUnprotectedHeader(s){if(this.#n)throw new TypeError("setUnprotectedHeader can only be called once");return this.#n=s,this}setAdditionalAuthenticatedData(s){return this.#s=s,this}setContentEncryptionKey(s){if(this.#a)throw new TypeError("setContentEncryptionKey can only be called once");return this.#a=s,this}setInitializationVector(s){if(this.#o)throw new TypeError("setInitializationVector can only be called once");return this.#o=s,this}async encrypt(s,a){if(!this.#t&&!this.#n&&!this.#r)throw new Pe("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Cu(this.#t,this.#n,this.#r))throw new Pe("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this.#t,...this.#n,...this.#r};if(xu(Pe,new Map,a?.crit,this.#t,i),i.zip!==void 0)throw new St('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:l,enc:u}=i;if(typeof l!="string"||!l)throw new Pe('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof u!="string"||!u)throw new Pe('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o;if(this.#a&&(l==="dir"||l==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);Ru(l==="dir"?u:l,s,"encrypt");let d;{let O;const C=await gl(s,l);({cek:d,encryptedKey:o,parameters:O}=await KA(l,u,C,this.#a,this.#i)),O&&(a&&zA in a?this.#n?this.#n={...this.#n,...O}:this.setUnprotectedHeader(O):this.#t?this.#t={...this.#t,...O}:this.setProtectedHeader(O))}let f,p,h,m;if(this.#t?(p=cr(JSON.stringify(this.#t)),h=Vr(p)):(p="",h=new Uint8Array),this.#s){m=cr(this.#s);const O=Vr(m);f=Mi(h,Vr("."),O)}else f=h;const{ciphertext:S,tag:k,iv:A}=await $A(u,this.#e,d,this.#o,f),x={ciphertext:cr(S)};return A&&(x.iv=cr(A)),k&&(x.tag=cr(k)),o&&(x.encrypted_key=cr(o)),m&&(x.aad=m),this.#t&&(x.protected=p),this.#r&&(x.unprotected=this.#r),this.#n&&(x.header=this.#n),x}}class YD{#e;unprotectedHeader;keyManagementParameters;key;options;constructor(s,a,i){this.#e=s,this.key=a,this.options=i}setUnprotectedHeader(s){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=s,this}setKeyManagementParameters(s){if(this.keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this.keyManagementParameters=s,this}addRecipient(...s){return this.#e.addRecipient(...s)}encrypt(...s){return this.#e.encrypt(...s)}done(){return this.#e}}class XD{#e;#t=[];#r;#n;#s;constructor(s){this.#e=s}addRecipient(s,a){const i=new YD(this,s,{crit:a?.crit});return this.#t.push(i),i}setProtectedHeader(s){if(this.#r)throw new TypeError("setProtectedHeader can only be called once");return this.#r=s,this}setSharedUnprotectedHeader(s){if(this.#n)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this.#n=s,this}setAdditionalAuthenticatedData(s){return this.#s=s,this}async encrypt(){if(!this.#t.length)throw new Pe("at least one recipient must be added");if(this.#t.length===1){const[l]=this.#t,u=await new gd(this.#e).setAdditionalAuthenticatedData(this.#s).setProtectedHeader(this.#r).setSharedUnprotectedHeader(this.#n).setUnprotectedHeader(l.unprotectedHeader).encrypt(l.key,{...l.options}),o={ciphertext:u.ciphertext,iv:u.iv,recipients:[{}],tag:u.tag};return u.aad&&(o.aad=u.aad),u.protected&&(o.protected=u.protected),u.unprotected&&(o.unprotected=u.unprotected),u.encrypted_key&&(o.recipients[0].encrypted_key=u.encrypted_key),u.header&&(o.recipients[0].header=u.header),o}let s;for(let l=0;l<this.#t.length;l++){const u=this.#t[l];if(!Cu(this.#r,this.#n,u.unprotectedHeader))throw new Pe("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const o={...this.#r,...this.#n,...u.unprotectedHeader},{alg:d}=o;if(typeof d!="string"||!d)throw new Pe('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(d==="dir"||d==="ECDH-ES")throw new Pe('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof o.enc!="string"||!o.enc)throw new Pe('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!s)s=o.enc;else if(s!==o.enc)throw new Pe('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(xu(Pe,new Map,u.options.crit,this.#r,o),o.zip!==void 0)throw new St('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const a=lo(s),i={ciphertext:"",recipients:[]};for(let l=0;l<this.#t.length;l++){const u=this.#t[l],o={};if(i.recipients.push(o),l===0){const m=await new gd(this.#e).setAdditionalAuthenticatedData(this.#s).setContentEncryptionKey(a).setProtectedHeader(this.#r).setSharedUnprotectedHeader(this.#n).setUnprotectedHeader(u.unprotectedHeader).setKeyManagementParameters(u.keyManagementParameters).encrypt(u.key,{...u.options,[zA]:!0});i.ciphertext=m.ciphertext,i.iv=m.iv,i.tag=m.tag,m.aad&&(i.aad=m.aad),m.protected&&(i.protected=m.protected),m.unprotected&&(i.unprotected=m.unprotected),o.encrypted_key=m.encrypted_key,m.header&&(o.header=m.header);continue}const d=u.unprotectedHeader?.alg||this.#r?.alg||this.#n?.alg;Ru(d==="dir"?s:d,u.key,"encrypt");const f=await gl(u.key,d),{encryptedKey:p,parameters:h}=await KA(d,s,f,a,u.keyManagementParameters);o.encrypted_key=cr(p),(u.unprotectedHeader||h)&&(o.header={...u.unprotectedHeader,...h})}return i}}function FA(r,s){const a=`SHA-${r.slice(-3)}`;switch(r){case"HS256":case"HS384":case"HS512":return{hash:a,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:a,name:"RSA-PSS",saltLength:parseInt(r.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:a,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:a,name:"ECDSA",namedCurve:s.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:r};default:throw new St(`alg ${r} is not supported either by JOSE or your javascript runtime`)}}async function GA(r,s,a){if(s instanceof Uint8Array){if(!r.startsWith("HS"))throw new TypeError(da(s,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",s,{hash:`SHA-${r.slice(-3)}`,name:"HMAC"},!1,[a])}return cD(s,r,a),s}async function QD(r,s,a,i){const l=await GA(r,s,"verify");$d(r,l);const u=FA(r,l.algorithm);try{return await crypto.subtle.verify(u,l,a,i)}catch{return!1}}async function eE(r,s,a){if(!ur(r))throw new xt("Flattened JWS must be an object");if(r.protected===void 0&&r.header===void 0)throw new xt('Flattened JWS must have either of the "protected" or "header" members');if(r.protected!==void 0&&typeof r.protected!="string")throw new xt("JWS Protected Header incorrect type");if(r.payload===void 0)throw new xt("JWS Payload missing");if(typeof r.signature!="string")throw new xt("JWS Signature missing or incorrect type");if(r.header!==void 0&&!ur(r.header))throw new xt("JWS Unprotected Header incorrect type");let i={};if(r.protected)try{const O=Zt(r.protected);i=JSON.parse(Pi.decode(O))}catch{throw new xt("JWS Protected Header is invalid")}if(!Cu(i,r.header))throw new xt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const l={...i,...r.header},u=xu(xt,new Map([["b64",!0]]),a?.crit,i,l);let o=!0;if(u.has("b64")&&(o=i.b64,typeof o!="boolean"))throw new xt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=l;if(typeof d!="string"||!d)throw new xt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const f=a&&ev("algorithms",a.algorithms);if(f&&!f.has(d))throw new pd('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof r.payload!="string")throw new xt("JWS Payload must be a string")}else if(typeof r.payload!="string"&&!(r.payload instanceof Uint8Array))throw new xt("JWS Payload must be a string or an Uint8Array instance");let p=!1;typeof s=="function"&&(s=await s(i,r),p=!0),Ru(d,s,"verify");const h=Mi(r.protected!==void 0?Vr(r.protected):new Uint8Array,Vr("."),typeof r.payload=="string"?o?Vr(r.payload):dd.encode(r.payload):r.payload);let m;try{m=Zt(r.signature)}catch{throw new xt("Failed to base64url decode the signature")}const S=await gl(s,d);if(!await QD(d,S,m,h))throw new Vv;let A;if(o)try{A=Zt(r.payload)}catch{throw new xt("Failed to base64url decode the payload")}else typeof r.payload=="string"?A=dd.encode(r.payload):A=r.payload;const x={payload:A};return r.protected!==void 0&&(x.protectedHeader=i),r.header!==void 0&&(x.unprotectedHeader=r.header),p?{...x,key:S}:x}async function VA(r,s,a){if(r instanceof Uint8Array&&(r=Pi.decode(r)),typeof r!="string")throw new xt("Compact JWS must be a string or Uint8Array");const{0:i,1:l,2:u,length:o}=r.split(".");if(o!==3)throw new xt("Invalid Compact JWS");const d=await eE({payload:l,protected:i,signature:u},s,a),f={payload:d.payload,protectedHeader:d.protectedHeader};return typeof s=="function"?{...f,key:d.key}:f}async function ZD(r,s,a){if(!ur(r))throw new xt("General JWS must be an object");if(!Array.isArray(r.signatures)||!r.signatures.every(ur))throw new xt("JWS Signatures missing or incorrect type");for(const i of r.signatures)try{return await eE({header:i.header,payload:r.payload,protected:i.protected,signature:i.signature},s,a)}catch{}throw new Vv}const sa=r=>Math.floor(r.getTime()/1e3),WA=60,JA=WA*60,tE=JA*24,eL=tE*7,tL=tE*365.25,rL=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function uu(r){const s=rL.exec(r);if(!s||s[4]&&s[1])throw new TypeError("Invalid time period format");const a=parseFloat(s[2]),i=s[3].toLowerCase();let l;switch(i){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(a);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(a*WA);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(a*JA);break;case"day":case"days":case"d":l=Math.round(a*tE);break;case"week":case"weeks":case"w":l=Math.round(a*eL);break;default:l=Math.round(a*tL);break}return s[1]==="-"||s[4]==="ago"?-l:l}function Qa(r,s){if(!Number.isFinite(s))throw new TypeError(`Invalid ${r} input`);return s}const sx=r=>r.includes("/")?r.toLowerCase():`application/${r.toLowerCase()}`,nL=(r,s)=>typeof r=="string"?s.includes(r):Array.isArray(r)?s.some(Set.prototype.has.bind(new Set(r))):!1;function rE(r,s,a={}){let i;try{i=JSON.parse(Pi.decode(s))}catch{}if(!ur(i))throw new yn("JWT Claims Set must be a top-level JSON object");const{typ:l}=a;if(l&&(typeof r.typ!="string"||sx(r.typ)!==sx(l)))throw new mn('unexpected "typ" JWT header value',i,"typ","check_failed");const{requiredClaims:u=[],issuer:o,subject:d,audience:f,maxTokenAge:p}=a,h=[...u];p!==void 0&&h.push("iat"),f!==void 0&&h.push("aud"),d!==void 0&&h.push("sub"),o!==void 0&&h.push("iss");for(const A of new Set(h.reverse()))if(!(A in i))throw new mn(`missing required "${A}" claim`,i,A,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(i.iss))throw new mn('unexpected "iss" claim value',i,"iss","check_failed");if(d&&i.sub!==d)throw new mn('unexpected "sub" claim value',i,"sub","check_failed");if(f&&!nL(i.aud,typeof f=="string"?[f]:f))throw new mn('unexpected "aud" claim value',i,"aud","check_failed");let m;switch(typeof a.clockTolerance){case"string":m=uu(a.clockTolerance);break;case"number":m=a.clockTolerance;break;case"undefined":m=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:S}=a,k=sa(S||new Date);if((i.iat!==void 0||p)&&typeof i.iat!="number")throw new mn('"iat" claim must be a number',i,"iat","invalid");if(i.nbf!==void 0){if(typeof i.nbf!="number")throw new mn('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>k+m)throw new mn('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(i.exp!==void 0){if(typeof i.exp!="number")throw new mn('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=k-m)throw new Yy('"exp" claim timestamp check failed',i,"exp","check_failed")}if(p){const A=k-i.iat,x=typeof p=="number"?p:uu(p);if(A-m>x)throw new Yy('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(A<0-m)throw new mn('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i}class nE{#e;constructor(s){if(!ur(s))throw new TypeError("JWT Claims Set MUST be an object");this.#e=structuredClone(s)}data(){return dd.encode(JSON.stringify(this.#e))}get iss(){return this.#e.iss}set iss(s){this.#e.iss=s}get sub(){return this.#e.sub}set sub(s){this.#e.sub=s}get aud(){return this.#e.aud}set aud(s){this.#e.aud=s}set jti(s){this.#e.jti=s}set nbf(s){typeof s=="number"?this.#e.nbf=Qa("setNotBefore",s):s instanceof Date?this.#e.nbf=Qa("setNotBefore",sa(s)):this.#e.nbf=sa(new Date)+uu(s)}set exp(s){typeof s=="number"?this.#e.exp=Qa("setExpirationTime",s):s instanceof Date?this.#e.exp=Qa("setExpirationTime",sa(s)):this.#e.exp=sa(new Date)+uu(s)}set iat(s){s===void 0?this.#e.iat=sa(new Date):s instanceof Date?this.#e.iat=Qa("setIssuedAt",sa(s)):typeof s=="string"?this.#e.iat=Qa("setIssuedAt",sa(new Date)+uu(s)):this.#e.iat=Qa("setIssuedAt",s)}}async function iL(r,s,a){const i=await VA(r,s,a);if(i.protectedHeader.crit?.includes("b64")&&i.protectedHeader.b64===!1)throw new yn("JWTs MUST NOT use unencoded payload");const u={payload:rE(i.protectedHeader,i.payload,a),protectedHeader:i.protectedHeader};return typeof s=="function"?{...u,key:i.key}:u}async function sL(r,s,a){const i=await BA(r,s,a),l=rE(i.protectedHeader,i.plaintext,a),{protectedHeader:u}=i;if(u.iss!==void 0&&u.iss!==l.iss)throw new mn('replicated "iss" claim header parameter mismatch',l,"iss","mismatch");if(u.sub!==void 0&&u.sub!==l.sub)throw new mn('replicated "sub" claim header parameter mismatch',l,"sub","mismatch");if(u.aud!==void 0&&JSON.stringify(u.aud)!==JSON.stringify(l.aud))throw new mn('replicated "aud" claim header parameter mismatch',l,"aud","mismatch");const o={payload:l,protectedHeader:u};return typeof s=="function"?{...o,key:i.key}:o}class YA{#e;constructor(s){this.#e=new gd(s)}setContentEncryptionKey(s){return this.#e.setContentEncryptionKey(s),this}setInitializationVector(s){return this.#e.setInitializationVector(s),this}setProtectedHeader(s){return this.#e.setProtectedHeader(s),this}setKeyManagementParameters(s){return this.#e.setKeyManagementParameters(s),this}async encrypt(s,a){const i=await this.#e.encrypt(s,a);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}async function aL(r,s,a){const i=await GA(r,s,"sign");$d(r,i);const l=await crypto.subtle.sign(FA(r,i.algorithm),i,a);return new Uint8Array(l)}class iE{#e;#t;#r;constructor(s){if(!(s instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#e=s}setProtectedHeader(s){if(this.#t)throw new TypeError("setProtectedHeader can only be called once");return this.#t=s,this}setUnprotectedHeader(s){if(this.#r)throw new TypeError("setUnprotectedHeader can only be called once");return this.#r=s,this}async sign(s,a){if(!this.#t&&!this.#r)throw new xt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Cu(this.#t,this.#r))throw new xt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...this.#t,...this.#r},l=xu(xt,new Map([["b64",!0]]),a?.crit,this.#t,i);let u=!0;if(l.has("b64")&&(u=this.#t.b64,typeof u!="boolean"))throw new xt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=i;if(typeof o!="string"||!o)throw new xt('JWS "alg" (Algorithm) Header Parameter missing or invalid');Ru(o,s,"sign");let d,f;u?(d=cr(this.#e),f=Vr(d)):(f=this.#e,d="");let p,h;this.#t?(p=cr(JSON.stringify(this.#t)),h=Vr(p)):(p="",h=new Uint8Array);const m=Mi(h,Vr("."),f),S=await gl(s,o),k=await aL(o,S,m),A={signature:cr(k),payload:d};return this.#r&&(A.header=this.#r),this.#t&&(A.protected=p),A}}class XA{#e;constructor(s){this.#e=new iE(s)}setProtectedHeader(s){return this.#e.setProtectedHeader(s),this}async sign(s,a){const i=await this.#e.sign(s,a);if(i.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}class oL{#e;protectedHeader;unprotectedHeader;options;key;constructor(s,a,i){this.#e=s,this.key=a,this.options=i}setProtectedHeader(s){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=s,this}setUnprotectedHeader(s){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=s,this}addSignature(...s){return this.#e.addSignature(...s)}sign(...s){return this.#e.sign(...s)}done(){return this.#e}}class lL{#e;#t=[];constructor(s){this.#e=s}addSignature(s,a){const i=new oL(this,s,a);return this.#t.push(i),i}async sign(){if(!this.#t.length)throw new xt("at least one signature must be added");const s={signatures:[],payload:""};for(let a=0;a<this.#t.length;a++){const i=this.#t[a],l=new iE(this.#e);l.setProtectedHeader(i.protectedHeader),l.setUnprotectedHeader(i.unprotectedHeader);const{payload:u,...o}=await l.sign(i.key,i.options);if(a===0)s.payload=u;else if(s.payload!==u)throw new xt("inconsistent use of JWS Unencoded Payload (RFC7797)");s.signatures.push(o)}return s}}class cL{#e;#t;constructor(s={}){this.#t=new nE(s)}setIssuer(s){return this.#t.iss=s,this}setSubject(s){return this.#t.sub=s,this}setAudience(s){return this.#t.aud=s,this}setJti(s){return this.#t.jti=s,this}setNotBefore(s){return this.#t.nbf=s,this}setExpirationTime(s){return this.#t.exp=s,this}setIssuedAt(s){return this.#t.iat=s,this}setProtectedHeader(s){return this.#e=s,this}async sign(s,a){const i=new XA(this.#t.data());if(i.setProtectedHeader(this.#e),Array.isArray(this.#e?.crit)&&this.#e.crit.includes("b64")&&this.#e.b64===!1)throw new yn("JWTs MUST NOT use unencoded payload");return i.sign(s,a)}}class uL{#e;#t;#r;#n;#s;#a;#o;#i;constructor(s={}){this.#i=new nE(s)}setIssuer(s){return this.#i.iss=s,this}setSubject(s){return this.#i.sub=s,this}setAudience(s){return this.#i.aud=s,this}setJti(s){return this.#i.jti=s,this}setNotBefore(s){return this.#i.nbf=s,this}setExpirationTime(s){return this.#i.exp=s,this}setIssuedAt(s){return this.#i.iat=s,this}setProtectedHeader(s){if(this.#n)throw new TypeError("setProtectedHeader can only be called once");return this.#n=s,this}setKeyManagementParameters(s){if(this.#r)throw new TypeError("setKeyManagementParameters can only be called once");return this.#r=s,this}setContentEncryptionKey(s){if(this.#e)throw new TypeError("setContentEncryptionKey can only be called once");return this.#e=s,this}setInitializationVector(s){if(this.#t)throw new TypeError("setInitializationVector can only be called once");return this.#t=s,this}replicateIssuerAsHeader(){return this.#s=!0,this}replicateSubjectAsHeader(){return this.#a=!0,this}replicateAudienceAsHeader(){return this.#o=!0,this}async encrypt(s,a){const i=new YA(this.#i.data());return this.#n&&(this.#s||this.#a||this.#o)&&(this.#n={...this.#n,iss:this.#s?this.#i.iss:void 0,sub:this.#a?this.#i.sub:void 0,aud:this.#o?this.#i.aud:void 0}),i.setProtectedHeader(this.#n),this.#t&&i.setInitializationVector(this.#t),this.#e&&i.setContentEncryptionKey(this.#e),this.#r&&i.setKeyManagementParameters(this.#r),i.encrypt(s,a)}}const ji=(r,s)=>{if(typeof r!="string"||!r)throw new EA(`${s} missing or invalid`)};async function QA(r,s){let a;if(zd(r))a=r;else if(Wv(r))a=await Zv(r);else throw new TypeError(da(r,"CryptoKey","KeyObject","JSON Web Key"));if(s??="sha256",s!=="sha256"&&s!=="sha384"&&s!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let i;switch(a.kty){case"AKP":ji(a.alg,'"alg" (Algorithm) Parameter'),ji(a.pub,'"pub" (Public key) Parameter'),i={alg:a.alg,kty:a.kty,pub:a.pub};break;case"EC":ji(a.crv,'"crv" (Curve) Parameter'),ji(a.x,'"x" (X Coordinate) Parameter'),ji(a.y,'"y" (Y Coordinate) Parameter'),i={crv:a.crv,kty:a.kty,x:a.x,y:a.y};break;case"OKP":ji(a.crv,'"crv" (Subtype of Key Pair) Parameter'),ji(a.x,'"x" (Public Key) Parameter'),i={crv:a.crv,kty:a.kty,x:a.x};break;case"RSA":ji(a.e,'"e" (Exponent) Parameter'),ji(a.n,'"n" (Modulus) Parameter'),i={e:a.e,kty:a.kty,n:a.n};break;case"oct":ji(a.k,'"k" (Key Value) Parameter'),i={k:a.k,kty:a.kty};break;default:throw new St('"kty" (Key Type) Parameter missing or unsupported')}const l=Vr(JSON.stringify(i));return cr(await NA(s,l))}async function fL(r,s){s??="sha256";const a=await QA(r,s);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${s.slice(-3)}:${a}`}async function dL(r,s){const a={...r,...s?.header};if(!ur(a.jwk))throw new xt('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await Bd({...a.jwk,ext:!0},a.alg);if(i instanceof Uint8Array||i.type!=="public")throw new xt('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}function hL(r){switch(typeof r=="string"&&r.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new St('Unsupported "alg" value for a JSON Web Key Set')}}function pL(r){return r&&typeof r=="object"&&Array.isArray(r.keys)&&r.keys.every(mL)}function mL(r){return ur(r)}class gL{#e;#t=new WeakMap;constructor(s){if(!pL(s))throw new Fv("JSON Web Key Set malformed");this.#e=structuredClone(s)}jwks(){return this.#e}async getKey(s,a){const{alg:i,kid:l}={...s,...a?.header},u=hL(i),o=this.#e.keys.filter(p=>{let h=u===p.kty;if(h&&typeof l=="string"&&(h=l===p.kid),h&&(typeof p.alg=="string"||u==="AKP")&&(h=i===p.alg),h&&typeof p.use=="string"&&(h=p.use==="sig"),h&&Array.isArray(p.key_ops)&&(h=p.key_ops.includes("verify")),h)switch(i){case"ES256":h=p.crv==="P-256";break;case"ES384":h=p.crv==="P-384";break;case"ES512":h=p.crv==="P-521";break;case"Ed25519":case"EdDSA":h=p.crv==="Ed25519";break}return h}),{0:d,length:f}=o;if(f===0)throw new Gv;if(f!==1){const p=new bA,h=this.#t;throw p[Symbol.asyncIterator]=async function*(){for(const m of o)try{yield await ax(h,m,i)}catch{}},p}return ax(this.#t,d,i)}}async function ax(r,s,a){const i=r.get(s)||r.set(s,{}).get(s);if(i[a]===void 0){const l=await Bd({...s,ext:!0},a);if(l instanceof Uint8Array||l.type!=="public")throw new Fv("JSON Web Key Set members must be public keys");i[a]=l}return i[a]}function rv(r){const s=new gL(r),a=async(i,l)=>s.getKey(i,l);return Object.defineProperties(a,{jwks:{value:()=>structuredClone(s.jwks()),enumerable:!1,configurable:!1,writable:!1}}),a}function yL(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let nv;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(nv="jose/v6.1.3");const ZA=Symbol();async function vL(r,s,a,i=fetch){const l=await i(r,{method:"GET",signal:a,redirect:"manual",headers:s}).catch(u=>{throw u.name==="TimeoutError"?new SA:u});if(l.status!==200)throw new Lr("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await l.json()}catch{throw new Lr("Failed to parse the JSON Web Key Set HTTP response as JSON")}}const id=Symbol();function EL(r,s){return!(typeof r!="object"||r===null||!("uat"in r)||typeof r.uat!="number"||Date.now()-r.uat>=s||!("jwks"in r)||!ur(r.jwks)||!Array.isArray(r.jwks.keys)||!Array.prototype.every.call(r.jwks.keys,ur))}class bL{#e;#t;#r;#n;#s;#a;#o;#i;#l;#c;constructor(s,a){if(!(s instanceof URL))throw new TypeError("url must be an instance of URL");this.#e=new URL(s.href),this.#t=typeof a?.timeoutDuration=="number"?a?.timeoutDuration:5e3,this.#r=typeof a?.cooldownDuration=="number"?a?.cooldownDuration:3e4,this.#n=typeof a?.cacheMaxAge=="number"?a?.cacheMaxAge:6e5,this.#o=new Headers(a?.headers),nv&&!this.#o.has("User-Agent")&&this.#o.set("User-Agent",nv),this.#o.has("accept")||(this.#o.set("accept","application/json"),this.#o.append("accept","application/jwk-set+json")),this.#i=a?.[ZA],a?.[id]!==void 0&&(this.#c=a?.[id],EL(a?.[id],this.#n)&&(this.#s=this.#c.uat,this.#l=rv(this.#c.jwks)))}pendingFetch(){return!!this.#a}coolingDown(){return typeof this.#s=="number"?Date.now()<this.#s+this.#r:!1}fresh(){return typeof this.#s=="number"?Date.now()<this.#s+this.#n:!1}jwks(){return this.#l?.jwks()}async getKey(s,a){(!this.#l||!this.fresh())&&await this.reload();try{return await this.#l(s,a)}catch(i){if(i instanceof Gv&&this.coolingDown()===!1)return await this.reload(),this.#l(s,a);throw i}}async reload(){this.#a&&yL()&&(this.#a=void 0),this.#a||=vL(this.#e.href,this.#o,AbortSignal.timeout(this.#t),this.#i).then(s=>{this.#l=rv(s),this.#c&&(this.#c.uat=Date.now(),this.#c.jwks=s),this.#s=Date.now(),this.#a=void 0}).catch(s=>{throw this.#a=void 0,s}),await this.#a}}function SL(r,s){const a=new bL(r,s),i=async(l,u)=>a.getKey(l,u);return Object.defineProperties(i,{coolingDown:{get:()=>a.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>a.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>a.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>a.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>a.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}class wL{#e;constructor(s={}){this.#e=new nE(s)}encode(){const s=cr(JSON.stringify({alg:"none"})),a=cr(this.#e.data());return`${s}.${a}.`}setIssuer(s){return this.#e.iss=s,this}setSubject(s){return this.#e.sub=s,this}setAudience(s){return this.#e.aud=s,this}setJti(s){return this.#e.jti=s,this}setNotBefore(s){return this.#e.nbf=s,this}setExpirationTime(s){return this.#e.exp=s,this}setIssuedAt(s){return this.#e.iat=s,this}static decode(s,a){if(typeof s!="string")throw new yn("Unsecured JWT must be a string");const{0:i,1:l,2:u,length:o}=s.split(".");if(o!==3||u!=="")throw new yn("Invalid Unsecured JWT");let d;try{if(d=JSON.parse(Pi.decode(Zt(i))),d.alg!=="none")throw new Error}catch{throw new yn("Invalid Unsecured JWT")}return{payload:rE(d,Zt(l),a),header:d}}}function TL(r){let s;if(typeof r=="string"){const a=r.split(".");(a.length===3||a.length===5)&&([s]=a)}else if(typeof r=="object"&&r)if("protected"in r)s=r.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof s!="string"||!s)throw new Error;const a=JSON.parse(Pi.decode(Zt(s)));if(!ur(a))throw new Error;return a}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function CL(r){if(typeof r!="string")throw new yn("JWTs must use Compact JWS serialization, JWT must be a string");const{1:s,length:a}=r.split(".");if(a===5)throw new yn("Only JWTs using Compact JWS serialization can be decoded");if(a!==3)throw new yn("Invalid JWT");if(!s)throw new yn("JWTs must contain a payload");let i;try{i=Zt(s)}catch{throw new yn("Failed to base64url decode the payload")}let l;try{l=JSON.parse(Pi.decode(i))}catch{throw new yn("Failed to parse the decoded payload as JSON")}if(!ur(l))throw new yn("Invalid JWT Claims Set");return l}function Uy(r){const s=r?.modulusLength??2048;if(typeof s!="number"||s<2048)throw new St("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return s}async function xL(r,s){let a,i;switch(r){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`,publicExponent:Uint8Array.of(1,0,1),modulusLength:Uy(s)},i=["sign","verify"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`,publicExponent:Uint8Array.of(1,0,1),modulusLength:Uy(s)},i=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`,publicExponent:Uint8Array.of(1,0,1),modulusLength:Uy(s)},i=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":a={name:"ECDSA",namedCurve:"P-256"},i=["sign","verify"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},i=["sign","verify"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},i=["sign","verify"];break;case"Ed25519":case"EdDSA":{i=["sign","verify"],a={name:"Ed25519"};break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{i=["sign","verify"],a={name:r};break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{i=["deriveBits"];const l=s?.crv??"P-256";switch(l){case"P-256":case"P-384":case"P-521":{a={name:"ECDH",namedCurve:l};break}case"X25519":a={name:"X25519"};break;default:throw new St("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, and X25519")}break}default:throw new St('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return crypto.subtle.generateKey(a,s?.extractable??!1,i)}async function RL(r,s){let a,i,l;switch(r){case"HS256":case"HS384":case"HS512":a=parseInt(r.slice(-3),10),i={name:"HMAC",hash:`SHA-${a}`,length:a},l=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(r.slice(-3),10),crypto.getRandomValues(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(r.slice(1,4),10),i={name:"AES-KW",length:a},l=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(r.slice(1,4),10),i={name:"AES-GCM",length:a},l=["encrypt","decrypt"];break;default:throw new St('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return crypto.subtle.generateKey(i,s?.extractable??!1,l)}const AL="WebCryptoAPI",_L=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:YA,CompactSign:XA,EmbeddedJWK:dL,EncryptJWT:uL,FlattenedEncrypt:gd,FlattenedSign:iE,GeneralEncrypt:XD,GeneralSign:lL,SignJWT:cL,UnsecuredJWT:wL,base64url:sD,calculateJwkThumbprint:QA,calculateJwkThumbprintUri:fL,compactDecrypt:BA,compactVerify:VA,createLocalJWKSet:rv,createRemoteJWKSet:SL,cryptoRuntime:AL,customFetch:ZA,decodeJwt:CL,decodeProtectedHeader:TL,errors:aD,exportJWK:Zv,exportPKCS8:JD,exportSPKI:WD,flattenedDecrypt:Qv,flattenedVerify:eE,generalDecrypt:GD,generalVerify:ZD,generateKeyPair:xL,generateSecret:RL,importJWK:Bd,importPKCS8:DD,importSPKI:ID,importX509:jD,jwksCache:id,jwtDecrypt:sL,jwtVerify:iL},Symbol.toStringTag,{value:"Module"}));var ox;function e_(){if(ox)return Kc;ox=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.TokenValidationService=void 0;const r=_L,s=pu();class a{constructor(l){this.jwksCache=new Map,this.JWKS_CACHE_TTL_MS=3600*1e3,this.resultCache=new Map,this.RESULT_CACHE_TTL_MS=60*1e3,this.keycloakConfig=l}setKeycloakConfig(l){this.keycloakConfig=l}async validateTokenLocal(l,u){try{if(!u?.skipResultCache){const d=this.getCachedResult(l);if(d)return{...d,cached:!0}}const o=await this.performValidation(l,u);return!u?.skipResultCache&&this.shouldCacheResult(o)&&this.cacheResult(l,o),o}catch(o){const d=o instanceof Error?o.message:"Token validation failed";return{valid:!1,tokenType:u?.tokenType||"auto",error:d}}}clearCache(l){l?this.jwksCache.delete(l):this.jwksCache.clear()}clearResultCache(){this.resultCache.clear()}clearAllCaches(){this.jwksCache.clear(),this.resultCache.clear()}async performValidation(l,u){const d=(0,r.decodeJwt)(l).iss;return d?this.determineTokenType(d,u?.tokenType)==="keycloak"?this.validateKeycloakToken(l,u):this.validateDelegatedToken(l,d,u):{valid:!1,tokenType:"auto",error:"Token missing issuer (iss) claim"}}determineTokenType(l,u){if(u&&u!=="auto")return u;if(this.keycloakConfig){const d=`${this.keycloakConfig.authServerPublicUrl||this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;if(l===d)return"keycloak"}return"delegated"}async validateKeycloakToken(l,u){if(!this.keycloakConfig)return{valid:!1,tokenType:"keycloak",error:"Keycloak not configured"};const d=`${(0,s.resolveKeycloakUrl)(this.keycloakConfig)}/realms/${this.keycloakConfig.realm}/protocol/openid-connect/certs`,p=`${this.keycloakConfig.authServerPublicUrl||this.keycloakConfig.authServerUrl}/realms/${this.keycloakConfig.realm}`;try{const h=await this.getJWKS(d),m={issuer:p};this.keycloakConfig.verifyAudience&&this.keycloakConfig.clientId&&!u?.skipAudienceValidation&&(m.audience=this.keycloakConfig.clientId);const{payload:S}=await(0,r.jwtVerify)(l,h,m);return{valid:!0,tokenType:"keycloak",payload:this.mapPayload(S)}}catch(h){return{valid:!1,tokenType:"keycloak",error:h instanceof Error?h.message:"Keycloak token validation failed"}}}async validateDelegatedToken(l,u,o){let d=null;if(typeof o?.delegatedProvider=="function"?d=await o.delegatedProvider(u):o?.delegatedProvider&&(d=o.delegatedProvider),!d)return{valid:!1,tokenType:"delegated",error:`No delegated provider configured for issuer: ${u}`};try{const f=await this.getJWKS(d.jwksUri),p={issuer:d.issuer};!o?.skipAudienceValidation&&d.audience&&(p.audience=d.audience);const{payload:h}=await(0,r.jwtVerify)(l,f,p);return{valid:!0,tokenType:"delegated",providerKey:d.key,payload:this.mapPayload(h)}}catch(f){return{valid:!1,tokenType:"delegated",providerKey:d.key,error:f instanceof Error?f.message:"Delegated token validation failed"}}}mapPayload(l){return{...l,sub:l.sub,iss:l.iss,email:l.email,preferredUsername:l.preferred_username,name:l.name,realmAccess:l.realm_access,resourceAccess:l.resource_access}}async getJWKS(l){const u=this.jwksCache.get(l);if(u&&u.expiresAt>Date.now())return u.keySet;const o=(0,r.createRemoteJWKSet)(new URL(l));return this.jwksCache.set(l,{keySet:o,expiresAt:Date.now()+this.JWKS_CACHE_TTL_MS}),o}getTokenHash(l){return l.length<=32?l:`${l.slice(0,16)}...${l.slice(-16)}`}getCachedResult(l){const u=this.getTokenHash(l),o=this.resultCache.get(u);return o&&o.expiresAt>Date.now()?o.result:(o&&this.resultCache.delete(u),null)}cacheResult(l,u){const o=this.getTokenHash(l);this.resultCache.set(o,{result:u,expiresAt:Date.now()+this.RESULT_CACHE_TTL_MS})}shouldCacheResult(l){return!!(l.valid||l.error?.includes("expired")||l.error?.includes('"exp"')||l.error?.includes("signature")||l.error?.includes("invalid"))}}return Kc.TokenValidationService=a,Kc}var Fc={},Gc={},lx;function OL(){if(lx)return Gc;lx=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.EncryptionError=void 0;const r=dv();class s extends r.MisoClientError{constructor(i,l,u){super(i),this.name="EncryptionError",this.code=l,this.parameterName=u,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}return Gc.EncryptionError=s,Gc}var cx;function t_(){if(cx)return Fc;cx=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.EncryptionService=void 0;const r=OL();class s{constructor(i,l){this.apiClient=i,this.encryptionKey=l}async encrypt(i,l){this.validateEncryptionKey(),this.validateParameterName(l);const u=await this.apiClient.encryption.encrypt({plaintext:i,parameterName:l,encryptionKey:this.encryptionKey});return{value:u.value,storage:u.storage}}async decrypt(i,l){return this.validateEncryptionKey(),this.validateParameterName(l),(await this.apiClient.encryption.decrypt({value:i,parameterName:l,encryptionKey:this.encryptionKey})).plaintext}validateEncryptionKey(){if(!this.encryptionKey)throw new r.EncryptionError("Encryption key is required. Set ENCRYPTION_KEY environment variable or provide encryptionKey in config.","ENCRYPTION_KEY_REQUIRED")}validateParameterName(i){if(!s.PARAMETER_NAME_REGEX.test(i))throw new r.EncryptionError("Invalid parameter name. Must be 1-128 characters, alphanumeric with dots, underscores, hyphens only.","INVALID_PARAMETER_NAME",i)}}return Fc.EncryptionService=s,s.PARAMETER_NAME_REGEX=/^[a-zA-Z0-9._-]{1,128}$/,Fc}var ux;function NL(){if(ux)return uc;ux=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.MisoClient=void 0;const r=FR(),s=WR(),a=JR(),i=ud(),l=Rv(),u=Av(),o=Hv(),d=kv(),f=mA(),p=pl(),h=gA(),m=tA(),S=Bv(),k=e_(),A=t_();class x{constructor(C){this.initialized=!1,this.config=C,C.sensitiveFieldsConfig&&p.DataMasker.setConfigPath(C.sensitiveFieldsConfig);const w=new d.InternalHttpClient(C);this.redis=new l.RedisService(C.redis),this.logger=new i.LoggerService(w,this.redis),this.httpClient=new o.HttpClient(C,this.logger),this.logger.httpClient=this.httpClient,this.apiClient=new f.ApiClient(this.httpClient),this.logger.setApiClient(this.apiClient),(0,h.registerLoggerService)(this.logger),this.cacheService=new u.CacheService(this.redis),this.auth=new r.AuthService(this.httpClient,this.apiClient,this.cacheService),this.roles=new s.RoleService(this.httpClient,this.apiClient,this.cacheService),this.permissions=new a.PermissionService(this.httpClient,this.apiClient,this.cacheService),this.tokenValidation=new k.TokenValidationService(C.keycloak),this.encryptionService=new A.EncryptionService(this.apiClient,this.config.encryptionKey)}async initialize(){if(!this.initialized)try{await this.redis.connect(),this.initialized=!0}catch{this.initialized=!0}}async disconnect(){await this.redis.disconnect(),this.initialized=!1}isInitialized(){return this.initialized}getToken(C){const w=C.headers.authorization;return w?w.startsWith("Bearer ")?w.substring(7):w:null}validateOrigin(C,w){return(0,S.validateOrigin)(C,w??this.config.allowedOrigins)}async getEnvironmentToken(){return this.auth.getEnvironmentToken()}async login(C){return this.auth.login(C)}async validateToken(C,w){return this.auth.validateToken(C,w)}async getUser(C,w){return this.auth.getUser(C,w)}async getUserInfo(C,w){return this.auth.getUserInfo(C,w)}async isAuthenticated(C,w){return this.auth.isAuthenticated(C,w)}async logout(C){return this.auth.logout(C)}async refreshToken(C,w){return this.auth.refreshToken(C,w)}async validateTokenLocal(C,w){return this.tokenValidation.validateTokenLocal(C,w)}setKeycloakConfig(C){this.tokenValidation.setKeycloakConfig(C)}clearJwksCache(C){this.tokenValidation.clearCache(C)}clearValidationCache(){this.tokenValidation.clearResultCache()}clearAllTokenCaches(){this.tokenValidation.clearAllCaches()}async getRoles(C,w){return this.roles.getRoles(C,w)}async hasRole(C,w,b){return this.roles.hasRole(C,w,b)}async hasAnyRole(C,w,b){return this.roles.hasAnyRole(C,w,b)}async hasAllRoles(C,w,b){return this.roles.hasAllRoles(C,w,b)}async refreshRoles(C,w){return this.roles.refreshRoles(C,w)}async getPermissions(C,w){return this.permissions.getPermissions(C,w)}async hasPermission(C,w,b){return this.permissions.hasPermission(C,w,b)}async hasAnyPermission(C,w,b){return this.permissions.hasAnyPermission(C,w,b)}async hasAllPermissions(C,w,b){return this.permissions.hasAllPermissions(C,w,b)}async refreshPermissions(C,w){return this.permissions.refreshPermissions(C,w)}async clearPermissionsCache(C,w){return this.permissions.clearPermissionsCache(C,w)}get log(){return this.logger}get encryption(){return this.encryptionService}get cache(){return this.cacheService}async updateMyApplicationStatus(C,w){const b=w?.envKey??this.logger.getApplicationContextService().getApplicationContext().environment;if(!b)throw new Error("updateMyApplicationStatus requires envKey or application context (client token/clientId with environment). Neither was available.");return this.apiClient.applications.updateSelfStatus(b,C,w?.authStrategy)}async getApplicationStatus(C,w,b){return this.apiClient.applications.getApplicationStatus(C,w,b)}async getMyApplicationStatus(C,w){const b=this.logger.getApplicationContextService().getApplicationContext(),_=C?.envKey??b.environment,D=C?.appKey??b.application;if(!_||!D)throw new Error("getMyApplicationStatus requires envKey and appKey or application context (client token/clientId). Neither was fully available.");return this.apiClient.applications.getApplicationStatus(_,D,w)}getConfig(){return{...this.config}}isRedisConnected(){return this.redis.isConnected()}async requestWithAuthStrategy(C,w,b,_,D){return this.httpClient.requestWithAuthStrategy(C,w,b,_,D)}createAuthStrategy(C,w,b){return{methods:C,bearerToken:w,apiKey:b}}getDefaultAuthStrategy(C){return m.AuthStrategyHandler.getDefaultStrategy(C)}}return uc.MisoClient=x,uc}var Za={},Vc={},fx;function r_(){if(fx)return Vc;fx=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.FilterBuilder=void 0;class r{constructor(){this.filters=[]}add(a,i,l){return this.filters.push({field:a,op:i,value:l}),this}addMany(a){return this.filters.push(...a),this}build(){return[...this.filters]}toQueryString(){if(this.filters.length===0)return"";const a={};this.filters.forEach(u=>{a[u.field]||(a[u.field]={}),a[u.field][u.op]=u.value===null?null:u.value});const i=JSON.stringify(a),l=new URLSearchParams;return l.append("filter",i),l.toString()}}return Vc.FilterBuilder=r,Vc}var eo={},dx;function n_(){return dx||(dx=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.DefaultOperatorsByType=eo.FilterErrorCode=void 0,eo.FilterErrorCode={UNKNOWN_FIELD:"UNKNOWN_FIELD",INVALID_OPERATOR:"INVALID_OPERATOR",INVALID_TYPE:"INVALID_TYPE",INVALID_UUID:"INVALID_UUID",INVALID_DATE:"INVALID_DATE",INVALID_ENUM:"INVALID_ENUM",INVALID_IN:"INVALID_IN",INVALID_FORMAT:"INVALID_FORMAT"},eo.DefaultOperatorsByType={string:["eq","neq","in","nin","contains","like","ilike"],number:["eq","neq","gt","gte","lt","lte","in","nin"],boolean:["eq"],uuid:["eq","in"],timestamp:["eq","gt","gte","lt","lte"],enum:["eq","in"]}),eo}var Wc={},hx;function i_(){if(hx)return Wc;hx=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.BrowserPermissionService=void 0;const r=Nd(),s=vu(),a=Ui(),i=ui();class l{constructor(o,d,f){this.cache=f,this.httpClient=o,this.apiClient=d,this.permissionTTL=this.httpClient.config.cache?.permissionTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}logPermissionError(o,d,f,p,h){const m=(0,a.extractErrorInfo)(o,{endpoint:h,method:p,correlationId:o?.correlationId});m.message=`Failed to ${f}: ${m.message}`,(0,i.logErrorWithContext)(m,"[BrowserPermissionService]")}extractUserIdFromToken(o){try{const d=(0,r.decodeJWT)(o);return d?d.sub||d.userId||d.user_id||d.id:null}catch{return null}}buildAuthStrategyWithToken(o,d){const f=d||this.httpClient.config.authStrategy;return f?{...f,bearerToken:o}:{methods:["bearer"],bearerToken:o}}async resolveUserId(o,d){return(await this.apiClient.auth.validateToken({token:o},this.buildAuthStrategyWithToken(o,d))).data?.user?.id||null}getPermissionsQueryParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async getPermissions(o,d){try{let f=this.extractUserIdFromToken(o);const p=f?`permissions:${f}`:null;if(p){const A=await this.cache.get(p);if(A)return A.permissions||[]}if(!f&&(f=await this.resolveUserId(o,d),!f))return[];const h=this.buildAuthStrategyWithToken(o,d),m=this.getPermissionsQueryParams(),k=(await this.apiClient.permissions.getPermissions(m,h)).data?.permissions||[];return await this.cache.set(`permissions:${f}`,{permissions:k,timestamp:Date.now()},this.permissionTTL),k}catch(f){return this.logPermissionError(f,o,"getPermissions","GET","/api/auth/permissions"),[]}}async hasPermission(o,d,f){return(await this.getPermissions(o,f)).includes(d)}async hasAnyPermission(o,d,f){const p=await this.getPermissions(o,f);return d.some(h=>p.includes(h))}async hasAllPermissions(o,d,f){const p=await this.getPermissions(o,f);return d.every(h=>p.includes(h))}async refreshPermissions(o,d){try{const f=d||this.httpClient.config.authStrategy,p=f?{...f,bearerToken:o}:{methods:["bearer"],bearerToken:o},h=await this.apiClient.auth.validateToken({token:o},p);if(!h.data?.user?.id)return[];const S=`permissions:${h.data.user.id}`,k=this.applicationContextService.getApplicationContext(),A=k.environment?{environment:k.environment}:void 0,O=(await this.apiClient.permissions.refreshPermissions(A,p)).data?.permissions||[];return await this.cache.set(S,{permissions:O,timestamp:Date.now()},this.permissionTTL),O}catch(f){return this.logPermissionError(f,o,"refreshPermissions","POST","/api/auth/permissions/refresh"),[]}}async clearPermissionsCache(o,d){try{const f=await this.resolveUserId(o,d);if(!f)return;await this.cache.delete(`permissions:${f}`)}catch(f){this.logPermissionError(f,o,"clearPermissionsCache","DELETE","/cache/permissions")}}}return Wc.BrowserPermissionService=l,Wc}var Jc={},px;function s_(){if(px)return Jc;px=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.BrowserRoleService=void 0;const r=Nd(),s=vu(),a=Ui(),i=ui();class l{constructor(o,d,f){this.cache=f,this.httpClient=o,this.apiClient=d,this.roleTTL=this.httpClient.config.cache?.roleTTL||900,this.applicationContextService=new s.ApplicationContextService(o)}logRoleError(o,d,f,p,h){const m=(0,a.extractErrorInfo)(o,{endpoint:h,method:p,correlationId:o?.correlationId});m.message=`Failed to ${f}: ${m.message}`,(0,i.logErrorWithContext)(m,"[BrowserRoleService]")}extractUserIdFromToken(o){try{const d=(0,r.decodeJWT)(o);return d?d.sub||d.userId||d.user_id||d.id:null}catch{return null}}buildAuthStrategyWithToken(o,d){const f=d||this.httpClient.config.authStrategy;return f?{...f,bearerToken:o}:{methods:["bearer"],bearerToken:o}}async resolveUserId(o,d){return(await this.apiClient.auth.validateToken({token:o},this.buildAuthStrategyWithToken(o,d))).data?.user?.id||null}getRolesQueryParams(){const o=this.applicationContextService.getApplicationContext();return o.environment?{environment:o.environment}:void 0}async getRoles(o,d){try{let f=this.extractUserIdFromToken(o);const p=f?`roles:${f}`:null;if(p){const A=await this.cache.get(p);if(A)return A.roles||[]}if(!f&&(f=await this.resolveUserId(o,d),!f))return[];const h=this.buildAuthStrategyWithToken(o,d),m=this.getRolesQueryParams(),k=(await this.apiClient.roles.getRoles(m,h)).data?.roles||[];return await this.cache.set(`roles:${f}`,{roles:k,timestamp:Date.now()},this.roleTTL),k}catch(f){return this.logRoleError(f,o,"getRoles","GET","/api/auth/roles"),[]}}async hasRole(o,d,f){return(await this.getRoles(o,f)).includes(d)}async hasAnyRole(o,d,f){const p=await this.getRoles(o,f);return d.some(h=>p.includes(h))}async hasAllRoles(o,d,f){const p=await this.getRoles(o,f);return d.every(h=>p.includes(h))}async refreshRoles(o,d){try{const f=await this.resolveUserId(o,d);if(!f)return[];const p=this.buildAuthStrategyWithToken(o,d),h=this.getRolesQueryParams(),S=(await this.apiClient.roles.refreshRoles(h,p)).data?.roles||[];return await this.cache.set(`roles:${f}`,{roles:S,timestamp:Date.now()},this.roleTTL),S}catch(f){return this.logRoleError(f,o,"refreshRoles","POST","/api/auth/roles/refresh"),[]}}async clearRolesCache(o,d){try{const f=await this.resolveUserId(o,d);if(!f)return;await this.cache.delete(`roles:${f}`)}catch(f){this.logRoleError(f,o,"clearRolesCache","DELETE","/cache/roles")}}}return Jc.BrowserRoleService=l,Jc}var Ff={},mx;function kL(){if(mx)return Ff;mx=1;var r={};Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.loadConfig=d;function s(){const f=r.REDIS_HOST;if(!f)return;const p={host:f,port:parseInt(r.REDIS_PORT||"6379",10),password:r.REDIS_PASSWORD};return r.REDIS_DB&&(p.db=parseInt(r.REDIS_DB,10)),r.REDIS_KEY_PREFIX&&(p.keyPrefix=r.REDIS_KEY_PREFIX),p}function a(){if(!r.MISO_AUTH_STRATEGY)return;const p=r.MISO_AUTH_STRATEGY.split(",").map(m=>m.trim()).filter(m=>["bearer","client-token","client-credentials","api-key"].includes(m));if(p.length===0)return;const h={methods:p};return r.MISO_BEARER_TOKEN&&(h.bearerToken=r.MISO_BEARER_TOKEN),(r.MISO_API_KEY||r.API_KEY)&&(h.apiKey=r.MISO_API_KEY||r.API_KEY),h}function i(){if(!(!r.KEYCLOAK_SERVER_URL&&!r.KEYCLOAK_PUBLIC_SERVER_URL))return{authServerUrl:r.KEYCLOAK_PUBLIC_SERVER_URL||r.KEYCLOAK_SERVER_URL||"",authServerPrivateUrl:r.KEYCLOAK_SERVER_URL,authServerPublicUrl:r.KEYCLOAK_PUBLIC_SERVER_URL,realm:r.KEYCLOAK_REALM||"",clientId:r.KEYCLOAK_CLIENT_ID,verifyAudience:r.KEYCLOAK_VERIFY_AUDIENCE==="true"}}function l(){if(!r.MISO_ALLOWED_ORIGINS)return;const f=r.MISO_ALLOWED_ORIGINS.split(",").map(p=>p.trim()).filter(p=>p.length>0);return f.length>0?f:void 0}function u(){const f={controllerUrl:r.MISO_CONTROLLER_URL||"https://controller.aifabrix.ai",clientId:r.MISO_CLIENTID||r.MISO_CLIENT_ID||"",clientSecret:r.MISO_CLIENTSECRET||r.MISO_CLIENT_SECRET||"",logLevel:r.MISO_LOG_LEVEL||"debug"};return r.MISO_WEB_SERVER_URL&&(f.controllerPublicUrl=r.MISO_WEB_SERVER_URL),r.MISO_CONTROLLER_URL&&(f.controllerPrivateUrl=r.MISO_CONTROLLER_URL,f.controllerUrl=r.MISO_CONTROLLER_URL),f}function o(f){const p=s();p&&(f.redis=p),r.API_KEY&&(f.apiKey=r.API_KEY),r.MISO_SENSITIVE_FIELDS_CONFIG&&(f.sensitiveFieldsConfig=r.MISO_SENSITIVE_FIELDS_CONFIG),r.MISO_EMIT_EVENTS&&(f.emitEvents=r.MISO_EMIT_EVENTS.toLowerCase()==="true");const h=a();h&&(f.authStrategy=h),r.MISO_CLIENT_TOKEN_URI&&(f.clientTokenUri=r.MISO_CLIENT_TOKEN_URI);const m=l();m&&(f.allowedOrigins=m),f.validateResponses=r.MISO_VALIDATE_RESPONSES!==void 0?r.MISO_VALIDATE_RESPONSES.toLowerCase()==="true":!1;const S=i();S&&(f.keycloak=S),r.ENCRYPTION_KEY&&(f.encryptionKey=r.ENCRYPTION_KEY)}function d(){const f=u();if(!f.clientId)throw new Error("MISO_CLIENTID environment variable is required");if(!f.clientSecret)throw new Error("MISO_CLIENTSECRET environment variable is required");return o(f),f}return Ff}var Gf={},gx;function IL(){if(gx)return Gf;gx=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.getEnvironmentToken=d;const r=Bv(),s=pl(),a=bu();function i(f){return f.headers.origin||f.headers.referer||"unknown"}async function l(f,p,h,m,S){const k=f.log.forRequest(p);throw await k.addContext("origin",m).addContext("allowedOrigins",S||[]).addContext("reason","origin_validation_failed").error(h),await k.addContext("reason","origin_validation_failed").addContext("origin",m).addContext("allowedOrigins",S||[]).audit("client.token.request.rejected","environment-token"),new Error(h)}async function u(f,p,h){const m=s.DataMasker.maskSensitiveData({clientId:h.clientId}),S=h.clientSecret?s.DataMasker.maskSensitiveData({clientSecret:h.clientSecret}):{clientSecret:void 0};await f.log.forRequest(p).addContext("clientId",m.clientId).addContext("clientSecret",S.clientSecret).addContext("origin",i(p)).audit("client.token.request.success","environment-token")}async function o(f,p,h,m,S){const k=s.DataMasker.maskSensitiveData({clientId:h.clientId}),A=f.log.forRequest(p);await A.addContext("clientId",k.clientId).addContext("origin",i(p)).addContext("reason","token_fetch_failed").error(`Failed to get environment token: ${m}`,S),await A.addContext("reason","token_fetch_failed").addContext("error",m).addContext("clientId",k.clientId).addContext("origin",i(p)).audit("client.token.request.failed","environment-token")}async function d(f,p){const h=f.getConfig(),m=(0,r.validateOrigin)(p,h.allowedOrigins);if(!m.valid){const S=`Origin validation failed: ${m.error}`;await l(f,p,S,i(p),h.allowedOrigins)}try{(0,a.resolveControllerUrl)(h);const S=await f.getEnvironmentToken();return await u(f,p,h),S}catch(S){const k=S instanceof Error?S.message:"Unknown error";throw await o(f,p,h,k,S instanceof Error?S.stack:void 0),S}}return Gf}var rl={},Kr={},yx;function Fn(){if(yx)return Kr;yx=1;var r=Kr&&Kr.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.isBrowser=a,Kr.getLocalStorage=i,Kr.setLocalStorage=l,Kr.removeLocalStorage=u,Kr.extractUserIdFromToken=o,Kr.generateCacheKey=d,Kr.truncatePayload=f,Kr.calculateSize=p,Kr.isRetryableError=h,Kr.calculateBackoffDelay=m;const s=r(Tu());function a(){return typeof globalThis.window<"u"&&typeof globalThis.localStorage<"u"&&typeof globalThis.fetch<"u"}function i(S){if(!a())return null;try{return globalThis.localStorage.getItem(S)}catch{return null}}function l(S,k){if(a())try{globalThis.localStorage.setItem(S,k)}catch{}}function u(S){if(a())try{globalThis.localStorage.removeItem(S)}catch{}}function o(S){try{const k=s.default.decode(S);return k?k.sub||k.userId||k.user_id||k.id:null}catch{return null}}function d(S,k){const A=k?.method||"GET",x=k?.body?JSON.stringify(k.body):"";return`data-client:${A}:${S}:${x}`}function f(S,k){const A=JSON.stringify(S);return A.length<=k?{data:S,truncated:!1}:{data:{_message:"Payload truncated for performance",_size:A.length},truncated:!0}}function p(S){try{return JSON.stringify(S).length}catch{return 0}}function h(S,k){return!S||S>=500||S===408||S===429?!0:(S===401||S===403||S>=400&&S<500,!1)}function m(S,k,A){return Math.min(k*Math.pow(2,S),A)+Math.random()*1e3}return Kr}var vx;function a_(){if(vx)return rl;vx=1;var r=rl&&rl.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(rl,"__esModule",{value:!0}),rl.extractClientTokenInfo=d;const s=r(Tu()),a=Fn(),i=er();function l(f){if((0,a.isBrowser)())try{const p=f.split(".");if(p.length!==3)return null;let h=p[1];for(;h.length%4;)h+="=";return h=h.replace(/-/g,"+").replace(/_/g,"/"),JSON.parse(atob(h))}catch(p){return(0,i.writeWarn)(`[decodeJWT] Browser decode failed: ${String(p)}`),null}else try{return s.default.decode(f)}catch(p){return(0,i.writeWarn)(`[decodeJWT] Node.js decode failed: ${String(p)}`),null}}function u(f){return typeof f=="string"}function o(f,...p){for(const h of p){const m=f[h];if(u(m))return m}}function d(f){try{const p=l(f);if(!p||typeof p!="object")return(0,i.writeWarn)("[extractClientTokenInfo] Failed to decode client token: Invalid token format"),{};const h={},m=o(p,"application","app"),S=o(p,"environment","env","environmentKey"),k=o(p,"applicationId","app_id"),A=o(p,"clientId","client_id");return m&&(h.application=m),S&&(h.environment=S),k&&(h.applicationId=k),A&&(h.clientId=A),h}catch(p){return(0,i.writeWarn)(`[extractClientTokenInfo] Failed to decode client token: ${p instanceof Error?p.message:String(p)}`),{}}}return rl}var Vf={},Ex;function jL(){if(Ex)return Vf;Ex=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.extractLoggingContext=r;function r(s){const a={};return s.source&&(a.sourceKey=s.source.key,s.source.displayName!==void 0&&(a.sourceDisplayName=s.source.displayName),s.source.externalSystem&&(a.externalSystemKey=s.source.externalSystem.key,s.source.externalSystem.displayName!==void 0&&(a.externalSystemDisplayName=s.source.externalSystem.displayName))),s.externalSystem&&(a.externalSystemKey=s.externalSystem.key,s.externalSystem.displayName!==void 0&&(a.externalSystemDisplayName=s.externalSystem.displayName)),s.record&&(a.recordKey=s.record.key,s.record.displayName!==void 0&&(a.recordDisplayName=s.record.displayName)),a}return Vf}var nl={},bx;function DL(){if(bx)return nl;bx=1;var r=nl&&nl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(nl,"__esModule",{value:!0}),nl.extractRequestContext=i;const s=r(Tu());function a(l){const o=(l.headers||{}).authorization;if(!o?.startsWith("Bearer "))return{};try{const d=o.substring(7),f=s.default.decode(d);return f?{userId:f.sub||f.userId||f.user_id||f.id,sessionId:f.sessionId||f.sid}:{}}catch{return{}}}function i(l){const u=l.headers||{},o=l.ip||u["x-forwarded-for"]?.split(",")[0]?.trim()||l.socket?.remoteAddress,d=u["x-correlation-id"]||u["x-request-id"]||u["request-id"],{userId:f,sessionId:p}=a(l);return{ipAddress:o,method:l.method,path:l.originalUrl||l.path,userAgent:u["user-agent"],correlationId:d,referer:u.referer,userId:f,sessionId:p,requestId:u["x-request-id"],requestSize:u["content-length"]?parseInt(u["content-length"],10):void 0}}return nl}var to={},Sx;function LL(){if(Sx)return to;Sx=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parsePaginationParams=r,to.createMetaObject=s,to.applyPaginationToArray=a,to.createPaginatedListResponse=i;function r(l){const u=parseInt(String(l.page??"1"),10),o=parseInt(String(l.page_size??"20"),10);return{currentPage:u,pageSize:o}}function s(l,u,o,d){return{totalItems:l,currentPage:u,pageSize:o,type:d}}function a(l,u,o){const d=(u-1)*o;return l.slice(d,d+o)}function i(l,u,o,d,f){return{meta:s(u,o,d,f),data:l}}return to}var My={},il={},wx;function PL(){if(wx)return il;wx=1,Object.defineProperty(il,"__esModule",{value:!0}),il.normalizeOperator=r,il.isColonFormat=s,il.parseColonFilter=l;function r(u){return{equals:"eq",notEquals:"neq",">":"gt","<":"lt",">=":"gte","<=":"lte",equal:"eq",notEqual:"neq",greaterThan:"gt",lessThan:"lt",greaterThanOrEqual:"gte",lessThanOrEqual:"lte"}[u.toLowerCase()]||u}function s(u){if(!u||!u.includes(":"))return!1;const o=u.trim();return!o.startsWith("{")&&!o.startsWith("[")}function a(u){const o=u.indexOf(":");if(o===-1)throw new Error(`Invalid colon filter format: missing operator. Got: "${u}". Expected: "field:op:value"`);const d=u.substring(0,o);if(!d)throw new Error(`Invalid colon filter format: missing field name. Got: "${u}". Expected: "field:op:value"`);const f=u.substring(o+1),p=f.indexOf(":"),h=p===-1?f:f.substring(0,p),m=p===-1?"":f.substring(p+1);if(!h)throw new Error(`Invalid colon filter format: missing operator. Got: "${u}". Expected: "field:op:value"`);return{field:d,opStr:h,valueStr:m}}function i(u,o,d){if(u==="isNull"||u==="isNotNull")return null;if(u==="in"||u==="nin")return o?o.split(",").map(p=>{const h=p.trim(),m=Number(h);return!isNaN(m)&&h!==""?m:h}):[];if(o==="")throw new Error(`Invalid colon filter format: missing value for operator '${u}'. Got: "${d}". Expected: "field:${u}:value"`);if(o==="true")return!0;if(o==="false")return!1;if(o==="null")return null;const f=Number(o);return!isNaN(f)&&o!==""?f:o}function l(u){const{field:o,opStr:d,valueStr:f}=a(u),p=r(d),h=i(p,f,u);return{field:o,op:p,value:h}}return il}var Tx;function UL(){return Tx||(Tx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FilterBuilder=void 0,r.parseFilterParams=u,r.buildQueryString=m,r.applyFilters=A,r.validateJsonFilter=x,r.filterQueryToJson=O,r.jsonToFilterQuery=C;const s=r_();Object.defineProperty(r,"FilterBuilder",{enumerable:!0,get:function(){return s.FilterBuilder}});const a=PL();function i(w,b){if((w==="in"||w==="nin")&&!Array.isArray(b))throw new Error(`Operator '${w}' requires array value, got ${typeof b}. Example: {"field": {"${w}": ["value1", "value2"]}}`);if((w==="isNull"||w==="isNotNull")&&b!==null)throw new Error(`Operator '${w}' requires null value, got ${typeof b}. Example: {"field": {"${w}": null}}`)}function l(w){const b=[];for(const[_,D]of Object.entries(w)){if(!_||typeof _!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof _}`);if(typeof D!="object"||D===null||Array.isArray(D))throw new Error(`Field '${_}' must have operator dictionary, got ${typeof D}. Expected format: {"${_}": {"op": value}}`);const L=D;for(const[U,N]of Object.entries(L)){const F=(0,a.normalizeOperator)(U);i(F,N);let Y;F==="isNull"||F==="isNotNull"?Y=null:(Array.isArray(N),Y=N),b.push({field:_,op:F,value:Y})}}return b}function u(w){const b=w.filter;if(!b)return[];try{if(typeof b=="object"&&!Array.isArray(b)&&b!==null)return l(b);if(typeof b=="string")return o(b);if(Array.isArray(b))return d(b);throw new Error(`Invalid filter format. Expected object, string, or array, got ${typeof b}.`)}catch(_){throw _ instanceof Error?new Error(`Invalid filter format. ${_.message}`):new Error(`Invalid filter format. Got: ${typeof b}`)}}function o(w){if((0,a.isColonFormat)(w))return[(0,a.parseColonFilter)(w)];const b=p(w);if(b!==null)return h(b);if(w.includes(":"))return[(0,a.parseColonFilter)(w)];throw new Error(`Could not parse filter string: "${w}"`)}function d(w){const b=[];for(const _ of w)b.push(...f(_));return b}function f(w){if(typeof w=="string")return o(w);if(typeof w=="object"&&w!==null)return l(w);throw new Error(`Invalid filter item: ${typeof w}`)}function p(w){try{return JSON.parse(decodeURIComponent(w))}catch{try{return JSON.parse(w)}catch{return null}}}function h(w){if(Array.isArray(w)){const b=[];for(const _ of w)typeof _=="object"&&_!==null&&b.push(...l(_));return b}if(typeof w=="object"&&w!==null)return l(w);throw new Error("Invalid JSON filter format")}function m(w){const b=new URLSearchParams;if(w.filters&&w.filters.length>0){const _={};for(const L of w.filters)_[L.field]||(_[L.field]={}),_[L.field][L.op]=L.value===null?null:L.value;const D=JSON.stringify(_);b.append("filter",D)}return w.sort?.forEach(_=>b.append("sort",_)),w.page&&b.append("page",w.page.toString()),w.pageSize&&b.append("page_size",w.pageSize.toString()),w.fields&&w.fields.length>0&&b.append("fields",w.fields.join(",")),b.toString()}function S(w,b){const _=w[b.field],D=b.value;return b.op==="isNull"?_==null:b.op==="isNotNull"?_!=null:Array.isArray(D)?b.op==="in"?D.includes(_):!D.includes(_):k(_,b.op,D)}function k(w,b,_){switch(b){case"eq":return w===_;case"neq":return w!==_;case"gt":return w>_;case"lt":return w<_;case"gte":return w>=_;case"lte":return w<=_;case"contains":return String(w).includes(String(_));case"like":case"ilike":return new RegExp(String(_),"i").test(String(w));default:return!0}}function A(w,b){return w.filter(_=>b.every(D=>S(_,D)))}function x(w){if(typeof w!="object"||w===null||Array.isArray(w))throw new Error(`Invalid filter format. Expected object, got ${typeof w}. Example: {"field": {"op": value}}`);const b=w;for(const[_,D]of Object.entries(b)){if(!_||typeof _!="string")throw new Error(`Invalid filter format. Field names must be non-empty strings. Got: ${typeof _}`);if(typeof D!="object"||D===null||Array.isArray(D))throw new Error(`Field '${_}' must have operator dictionary, got ${typeof D}. Expected format: {"${_}": {"op": value}}`);const L=D;for(const[U,N]of Object.entries(L)){const F=(0,a.normalizeOperator)(U);i(F,N)}}}function O(w){const b={};if(w.filters)for(const _ of w.filters)b[_.field]||(b[_.field]={}),b[_.field][_.op]=_.value;return b}function C(w){return{filters:l(w)}}})(My)),My}var qy={},Wf={},Cx;function ML(){if(Cx)return Wf;Cx=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.loadFilterSchema=i;function r(l){if(typeof l!="object"||l===null)throw new Error("Invalid filter schema: expected object");const u=l;if(typeof u.resource!="string")throw new Error("Invalid filter schema: missing 'resource' field");if(typeof u.fields!="object"||u.fields===null)throw new Error("Invalid filter schema: missing 'fields' object");return{resource:u.resource,version:typeof u.version=="string"?u.version:void 0,fields:u.fields}}function s(l,u){if(typeof u!="object"||u===null)throw new Error(`Invalid filter schema: field '${l}' must be an object`);const o=u;if(typeof o.column!="string")throw new Error(`Invalid filter schema: field '${l}' missing 'column'`);if(typeof o.type!="string")throw new Error(`Invalid filter schema: field '${l}' missing 'type'`);if(!Array.isArray(o.operators))throw new Error(`Invalid filter schema: field '${l}' missing 'operators' array`);return{column:o.column,type:o.type,operators:o.operators,enumValues:Array.isArray(o.enumValues)?o.enumValues:void 0,nullable:typeof o.nullable=="boolean"?o.nullable:void 0,description:typeof o.description=="string"?o.description:void 0}}function a(l){const u={};for(const[o,d]of Object.entries(l))u[o]=s(o,d);return u}function i(l){const u=r(l),o=a(u.fields);return{resource:u.resource,version:u.version,fields:o}}return Wf}var xx;function qL(){return xx||(xx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.loadFilterSchema=void 0,r.createFilterError=a,r.coerceValue=f,r.validateFilter=p,r.validateFilters=C,r.compileFilter=b,r.createFilterSchema=L;const s=n_();function a(N,F,Y){return{code:N,message:F,...Y}}function i(N){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(N)}function l(N){const F=new Date(N);return!isNaN(F.getTime())}function u(N){if(Array.isArray(N))return N.map(Y=>{const se=Number(Y);if(isNaN(se))throw new Error(`Cannot coerce "${Y}" to number`);return se});const F=Number(N);if(isNaN(F))throw new Error(`Cannot coerce "${N}" to number`);return F}function o(N){if(typeof N=="boolean")return N;if(N==="true"||N==="1")return!0;if(N==="false"||N==="0")return!1;throw new Error(`Cannot coerce "${N}" to boolean`)}function d(N){if(typeof N!="string")return N;const F=new Date(N);if(isNaN(F.getTime()))throw new Error(`Cannot coerce "${N}" to timestamp`);return F.toISOString()}function f(N,F){if(N===null)return null;const se={number:u,boolean:o,timestamp:d}[F.type];return se?se(N):N}function p(N,F){const Y=F.fields[N.field];if(!Y)return a(s.FilterErrorCode.UNKNOWN_FIELD,`Field '${N.field}' is not allowed for filtering on '${F.resource}'`,{field:N.field});if(!Y.operators.includes(N.op))return a(s.FilterErrorCode.INVALID_OPERATOR,`Operator '${N.op}' is not allowed for field '${N.field}'`,{field:N.field,operator:N.op,allowedOperators:Y.operators});if(N.op==="isNull"||N.op==="isNotNull")return null;const se=h(N.value,Y,N.field,N.op);return se||null}function h(N,F,Y,se){if(N===null)return null;if(se==="in"||se==="nin"){if(!Array.isArray(N))return a(s.FilterErrorCode.INVALID_IN,`Operator '${se}' requires an array value for field '${Y}'`,{field:Y,operator:se,value:N});if(N.length===0)return a(s.FilterErrorCode.INVALID_IN,`Operator '${se}' requires a non-empty array for field '${Y}'`,{field:Y,operator:se,value:N});for(const ge of N){const X=O(ge,F,Y);if(X)return X}return null}return O(N,F,Y)}function m(N,F){return typeof N!="string"||!i(N)?a(s.FilterErrorCode.INVALID_UUID,`Invalid UUID value for field '${F}': ${N}`,{field:F,value:N}):null}function S(N,F){return typeof N!="string"||!l(N)?a(s.FilterErrorCode.INVALID_DATE,`Invalid timestamp value for field '${F}': ${N}`,{field:F,value:N}):null}function k(N,F){return typeof N!="number"&&isNaN(Number(N))?a(s.FilterErrorCode.INVALID_TYPE,`Expected number for field '${F}', got ${typeof N}`,{field:F,value:N}):null}function A(N,F){return typeof N!="boolean"&&N!=="true"&&N!=="false"?a(s.FilterErrorCode.INVALID_TYPE,`Expected boolean for field '${F}', got ${typeof N}`,{field:F,value:N}):null}function x(N,F,Y){return F.enumValues&&!F.enumValues.includes(String(N))?a(s.FilterErrorCode.INVALID_ENUM,`Invalid value '${N}' for field '${Y}'. Allowed: ${F.enumValues.join(", ")}`,{field:Y,value:N,allowedValues:F.enumValues}):null}function O(N,F,Y){switch(F.type){case"uuid":return m(N,Y);case"timestamp":return S(N,Y);case"number":return k(N,Y);case"boolean":return A(N,Y);case"enum":return x(N,F,Y);default:return null}}function C(N,F){const Y=[];for(const se of N){const ge=p(se,F);ge&&Y.push(ge)}return{valid:Y.length===0,errors:Y}}function w(N,F,Y){switch(N){case"eq":return{sql:`${F} = $${Y}`,hasParam:!0};case"neq":return{sql:`${F} != $${Y}`,hasParam:!0};case"gt":return{sql:`${F} > $${Y}`,hasParam:!0};case"gte":return{sql:`${F} >= $${Y}`,hasParam:!0};case"lt":return{sql:`${F} < $${Y}`,hasParam:!0};case"lte":return{sql:`${F} <= $${Y}`,hasParam:!0};case"in":return{sql:`${F} = ANY($${Y})`,hasParam:!0};case"nin":return{sql:`${F} != ALL($${Y})`,hasParam:!0};case"like":return{sql:`${F} LIKE $${Y}`,hasParam:!0};case"ilike":return{sql:`${F} ILIKE $${Y}`,hasParam:!0};case"contains":return{sql:`${F} ILIKE $${Y}`,hasParam:!0};case"isNull":return{sql:`${F} IS NULL`,hasParam:!1};case"isNotNull":return{sql:`${F} IS NOT NULL`,hasParam:!1};default:return{sql:`${F} = $${Y}`,hasParam:!0}}}function b(N,F,Y="and"){if(N.length===0)return{sql:"",params:[]};const se=[],ge=[];for(const J of N){const{sql:q,hasParam:M,value:H}=_(J,F,se.length+1);ge.push(q),M&&se.push(H)}const X=Y==="or"?" OR ":" AND ";return{sql:ge.join(X),params:se}}function _(N,F,Y){const se=F.fields[N.field];if(!se)throw new Error(`Unknown field '${N.field}' in schema '${F.resource}'`);const ge=se.column,X=D(N,se),{sql:J,hasParam:q}=w(N.op,ge,Y);return{sql:J,hasParam:q,value:X}}function D(N,F){let Y=N.value;try{Y=f(Y,F)}catch{}return N.op==="contains"&&typeof Y=="string"&&(Y=`%${Y}%`),Y}function L(N,F,Y){const se={};for(const[ge,X]of Object.entries(F))se[ge]={...X,operators:X.operators||s.DefaultOperatorsByType[X.type]};return{resource:N,version:Y,fields:se}}var U=ML();Object.defineProperty(r,"loadFilterSchema",{enumerable:!0,get:function(){return U.loadFilterSchema}})})(qy)),qy}var sl={},Rx;function HL(){if(Rx)return sl;Rx=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.parseSortParams=r,sl.buildSortString=s,sl.applySorting=a;function r(i){const l=i.sort;return(Array.isArray(l)?l:l?[l]:[]).map(o=>{const d=String(o).trim();if(!d||d==="-"||d===":")return null;if(d.includes(":")){const[f,p]=d.split(":"),h=f.trim();return h?{field:h,order:p?.trim().toLowerCase()==="desc"?"desc":"asc"}:null}if(d.startsWith("-")){const f=d.substring(1).trim();return f?{field:f,order:"desc"}:null}return{field:d,order:"asc"}}).filter(o=>o!==null)}function s(i){return i.map(l=>l.order==="desc"?`-${l.field}`:l.field)}function a(i,l){return!l||l.length===0?i:[...i].sort((u,o)=>{for(const d of l){const f=u[d.field],p=o[d.field];if(f==null)return 1;if(p==null)return-1;if(f<p)return d.order==="asc"?-1:1;if(f>p)return d.order==="asc"?1:-1}return 0})}return sl}var Yc={},Ax;function $L(){if(Ax)return Yc;Ax=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.EncryptionError=void 0;const r=hl();class s extends r.MisoClientError{constructor(i,l,u){super(i),this.name="EncryptionError",this.code=l,this.parameterName=u,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}return Yc.EncryptionError=s,Yc}var Xc={},_x;function BL(){return _x||(_x=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.APPLICATION_STATUS_VALUES=void 0,Xc.APPLICATION_STATUS_VALUES=["healthy","degraded","deploying","error","maintenance"]),Xc}var Hy={},Qc={},ro={},Ox;function zL(){if(Ox)return ro;Ox=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.parsePaginationParams=r,ro.createMetaObject=s,ro.applyPaginationToArray=a,ro.createPaginatedListResponse=i;function r(l){const u=parseInt(String(l.page??"1"),10),o=parseInt(String(l.page_size??"20"),10);return{currentPage:u,pageSize:o}}function s(l,u,o,d){return{totalItems:l,currentPage:u,pageSize:o,type:d}}function a(l,u,o){const d=(u-1)*o;return l.slice(d,d+o)}function i(l,u,o,d,f){return{meta:s(u,o,d,f),data:l}}return ro}var Es={},Nx;function Kd(){if(Nx)return Es;Nx=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.createErrorResponse=Es.createSuccessResponse=Es.AppError=void 0;const r={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable"},s={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable"};function a(o){return o?Array.isArray(o)?{validationErrors:o}:o:{}}class i extends Error{constructor(d,f=500,p=!0,h){super(d);const m=a(h);this.statusCode=f,this.isOperational=p,this.validationErrors=m.validationErrors||[],this.errorType=m.errorType,this.instance=m.instance,this.correlationId=m.correlationId,Error.captureStackTrace(this,this.constructor)}toErrorResponse(d){return{type:this.errorType||r[this.statusCode]||"/Errors/InternalServerError",title:s[this.statusCode]||"Internal Server Error",status:this.statusCode,detail:this.message,instance:this.instance||d,correlationId:this.correlationId,errors:this.validationErrors&&this.validationErrors.length>0?this.validationErrors:void 0}}}Es.AppError=i;const l=(o,d,f)=>{const p={success:!0,data:o,timestamp:new Date().toISOString()};return d&&(p.message=d),f&&(p.correlationId=f),p};Es.createSuccessResponse=l;const u=(o,d)=>{const f={success:!1,error:o,timestamp:new Date().toISOString()};return d&&(f.correlationId=d),f};return Es.createErrorResponse=u,Es}var kx;function o_(){if(kx)return Qc;kx=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.ResponseHelper=void 0;const r=zL(),s=Kd();class a{static success(l,u,o,d=200){const f={success:!0,data:u,timestamp:new Date().toISOString()};return o&&(f.message=o),l.status(d).json(f)}static created(l,u,o="Resource created"){return a.success(l,u,o,201)}static paginated(l,u,o){const d=(0,r.createPaginatedListResponse)(u,o.totalItems,o.currentPage,o.pageSize,o.type);return l.status(200).json(d)}static noContent(l){return l.status(204).send()}static accepted(l,u,o="Request accepted"){return a.success(l,u,o,202)}static error(l,u=400,o=!0,d,f){throw new s.AppError(l,u,o,{validationErrors:d,errorType:f})}}return Qc.ResponseHelper=a,Qc}var Jf={},Ix;function KL(){if(Ix)return Jf;Ix=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.injectResponseHelpers=s;const r=o_();function s(a,i,l){i.success=(u,o)=>r.ResponseHelper.success(i,u,o),i.created=(u,o)=>r.ResponseHelper.created(i,u,o),i.paginated=(u,o)=>r.ResponseHelper.paginated(i,u,o),i.noContent=()=>r.ResponseHelper.noContent(i),i.accepted=(u,o)=>r.ResponseHelper.accepted(i,u,o),l()}return Jf}var Zc={},eu={},no={},jx;function Fd(){if(jx)return no;jx=1,Object.defineProperty(no,"__esModule",{value:!0}),no.getErrorTypeUri=s,no.getErrorTitle=a,no.createErrorResponse=i,no.sendErrorResponse=l;const r={400:"/Errors/BadRequest",401:"/Errors/Unauthorized",403:"/Errors/Forbidden",404:"/Errors/NotFound",405:"/Errors/MethodNotAllowed",409:"/Errors/Conflict",422:"/Errors/UnprocessableEntity",429:"/Errors/TooManyRequests",500:"/Errors/InternalServerError",503:"/Errors/ServiceUnavailable",504:"/Errors/GatewayTimeout"};function s(u){return r[u]||"/Errors/InternalServerError"}function a(u){return{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",503:"Service Unavailable",504:"Gateway Timeout"}[u]||"Internal Server Error"}function i(u,o,d,f,p){let h;u instanceof Error?h=u.message:typeof u=="string"?h=u:u==null?h="An error occurred":h=String(u)||"An error occurred";const m=f||d?.correlationId||d?.headers["x-correlation-id"],S={type:s(o),title:a(o),status:o,detail:h,instance:d?.originalUrl};return m&&(S.correlationId=m),p&&p.length>0&&(S.errors=p),S}function l(u,o){u.setHeader("Content-Type","application/problem+json"),u.status(o.status).json(o)}return no}var Dx;function l_(){if(Dx)return eu;Dx=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.setErrorLogger=o,eu.handleRouteError=A;const r=Kd(),s=Fd(),a=Ui(),i=ui(),l=Id();let u=null;function o(x){u=x}const d={P2002:409,P2025:404,P2003:400},f=[{pattern:/not found/i,status:404},{pattern:/already exists|duplicate/i,status:409},{pattern:/validation|invalid/i,status:400},{pattern:/unauthorized|authentication/i,status:401},{pattern:/forbidden|permission/i,status:403}];function p(x){if(x instanceof r.AppError)return x.statusCode;if(x&&typeof x=="object"&&"code"in x){const C=d[x.code];if(C)return C}const O=x instanceof Error?x.message:String(x||"");for(const{pattern:C,status:w}of f)if(C.test(O))return w;return 500}function h(x){return x instanceof Error?x.message:typeof x=="string"?x:"An unexpected error occurred"}function m(){const x=Date.now(),O=Math.random().toString(36).substring(2,8);return`express-${x}-${O}`}function S(x,O,C,w){let b;return x instanceof r.AppError&&x.validationErrors&&(b=x.validationErrors),(0,s.createErrorResponse)(x,O,C,w,b)}async function k(x,O){const{errorInfo:C,logMessage:w,req:b,correlationId:_,statusCode:D,operationName:L}=O;if((0,i.logErrorWithContext)(C,"[Express]"),u)try{await u.logError(w,{req:b,correlationId:C.correlationId||_,operation:L,statusCode:C.statusCode||D,url:b.originalUrl,method:b.method,errorMessage:C.message,errorName:C.errorName,errorType:C.errorType,stack:C.stackTrace})}catch(U){const N=U instanceof Error?U:new Error(String(U));console.error(`Failed to log error: ${N.message}`),console.error(`Original error: ${h(x)}`)}else console.error(w),x instanceof Error&&x.stack&&console.error(`Stack: ${x.stack}`)}async function A(x,O,C,w){const b=(0,l.extractRequestContext)(O),_=O.correlationId||b.correlationId||m(),D=p(x),L=h(x),U=w||"unknown operation",N=(0,a.extractErrorInfo)(x,{endpoint:O.originalUrl||O.path,method:O.method,correlationId:_});await k(x,{errorInfo:N,logMessage:`${U} failed: ${L}`,req:O,correlationId:_,statusCode:D,operationName:U});const F=S(x,D,O,_);x instanceof r.AppError&&x.correlationId&&(F.correlationId=x.correlationId),(0,s.sendErrorResponse)(C,F)}return eu}var Lx;function sE(){if(Lx)return Zc;Lx=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.asyncHandler=s,Zc.asyncHandlerNamed=a;const r=l_();function s(i,l){return async(u,o,d)=>{try{await i(u,o,d)}catch(f){const p=l||`${u.method} ${u.route?.path||u.path}`;await(0,r.handleRouteError)(f,u,o,p)}}}function a(i,l){return s(l,i)}return Zc}var tu={},Px;function FL(){if(Px)return tu;Px=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.ValidationHelper=void 0;const r=Kd();class s{static async findOrFail(i,l,u){const o=await i();if(!o)throw new r.AppError(`${l} not found${u?`: ${u}`:""}`,404,!0,{errorType:"/Errors/NotFound"});return o}static async ensureNotExists(i,l,u){if(await i())throw new r.AppError(`${l} already exists${u?`: ${u}`:""}`,409,!0,{errorType:"/Errors/Conflict"})}static ensureOwnershipOrAdmin(i,l,u="No permission to access this resource"){const o=i.userId===l,d=i.userRoles?.includes("admin")||i.userRoles?.includes("superuser");if(!o&&!d)throw new r.AppError(u,403,!0,{errorType:"/Errors/Forbidden"})}static async validateAll(i){await Promise.all(i.map(l=>l()))}static validateRequiredFields(i,l,u){const o=l.filter(d=>i[d]===void 0||i[d]===null||i[d]==="");if(o.length>0)throw new r.AppError(`Missing required fields for ${u}: ${o.join(", ")}`,400,!0,{errorType:"/Errors/BadRequest"})}static ensureAuthenticated(i){if(!i.userId)throw new r.AppError("Authentication required",401,!0,{errorType:"/Errors/Unauthorized"})}static validateStringLength(i,l,u,o){if(u!==void 0&&i.length<u)throw new r.AppError(`${l} must be at least ${u} characters`,400,!0,{errorType:"/Errors/BadRequest"});if(o!==void 0&&i.length>o)throw new r.AppError(`${l} must not exceed ${o} characters`,400,!0,{errorType:"/Errors/BadRequest"})}}return tu.ValidationHelper=s,tu}var Yf={},Ux;function c_(){if(Ux)return Yf;Ux=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.validateOrigin=a;function r(i){return i.trim().toLowerCase().replace(/\/$/,"")}function s(i,l){const u=r(i),o=r(l);if(u===o)return!0;if(l.includes(":*"))try{const d=new URL(u),f=new URL(o.replace(":*",""));if(d.protocol===f.protocol&&d.hostname===f.hostname)return!0}catch{}return!1}function a(i,l){if(!l||l.length===0)return{valid:!0};let u=Array.isArray(i.headers.origin)?i.headers.origin[0]:i.headers.origin;if(!u||typeof u!="string"){const d=Array.isArray(i.headers.referer)?i.headers.referer[0]:i.headers.referer;if(d&&typeof d=="string")try{const f=new URL(d);u=`${f.protocol}//${f.host}`}catch{return{valid:!1,error:"Missing origin header"}}else return{valid:!1,error:"Missing origin header"}}const o=u;for(const d of l)if(s(o,d))return{valid:!0};return{valid:!1,error:`Origin '${o}' is not allowed`}}return Yf}var Xf={},Mx;function aE(){if(Mx)return Xf;Mx=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.getEnvironmentToken=d;const r=c_(),s=Tv(),a=pu();function i(f){return f.headers.origin||f.headers.referer||"unknown"}async function l(f,p,h,m,S){const k=f.log.forRequest(p);throw await k.addContext("origin",m).addContext("allowedOrigins",S||[]).addContext("reason","origin_validation_failed").error(h),await k.addContext("reason","origin_validation_failed").addContext("origin",m).addContext("allowedOrigins",S||[]).audit("client.token.request.rejected","environment-token"),new Error(h)}async function u(f,p,h){const m=s.DataMasker.maskSensitiveData({clientId:h.clientId}),S=h.clientSecret?s.DataMasker.maskSensitiveData({clientSecret:h.clientSecret}):{clientSecret:void 0};await f.log.forRequest(p).addContext("clientId",m.clientId).addContext("clientSecret",S.clientSecret).addContext("origin",i(p)).audit("client.token.request.success","environment-token")}async function o(f,p,h,m,S){const k=s.DataMasker.maskSensitiveData({clientId:h.clientId}),A=f.log.forRequest(p);await A.addContext("clientId",k.clientId).addContext("origin",i(p)).addContext("reason","token_fetch_failed").error(`Failed to get environment token: ${m}`,S),await A.addContext("reason","token_fetch_failed").addContext("error",m).addContext("clientId",k.clientId).addContext("origin",i(p)).audit("client.token.request.failed","environment-token")}async function d(f,p){const h=f.getConfig(),m=(0,r.validateOrigin)(p,h.allowedOrigins);if(!m.valid){const S=`Origin validation failed: ${m.error}`;await l(f,p,S,i(p),h.allowedOrigins)}try{(0,a.resolveControllerUrl)(h);const S=await f.getEnvironmentToken();return await u(f,p,h),S}catch(S){const k=S instanceof Error?S.message:"Unknown error";throw await o(f,p,h,k,S instanceof Error?S.stack:void 0),S}}return Xf}var ru={},qx;function GL(){if(qx)return ru;qx=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.hasConfig=l,ru.createClientTokenEndpoint=A;const r=aE(),s=pu(),a=sE(),i=Fd();function l(x){return x.config!==void 0}function u(x){const O=x.match(/status:\s*(\d+)/i)||x.match(/status code\s+(\d+)/i)||x.match(/status\s+(\d+)/i);return O?parseInt(O[1],10):void 0}function o(x){return x.response?{status:x.response.status,isNetworkError:!1}:x.request&&!x.response?{status:void 0,isNetworkError:!0}:{status:void 0,isNetworkError:!1}}function d(x){const O=x instanceof Error?x.message:"Unknown error",C=u(O),w=!1;let b=x;for(let _=0;_<5&&b;_++){if(b&&typeof b=="object"&&"isAxiosError"in b&&b.isAxiosError){const D=o(b);if(D.status!==void 0||D.isNetworkError)return{status:D.status,isNetworkError:D.isNetworkError}}b=b&&typeof b=="object"&&"cause"in b?b.cause:null}return{status:C,isNetworkError:w}}function f(x,O){const C=O||/ECONNREFUSED|ENOTFOUND|ETIMEDOUT|connect|Network Error|network error|getaddrinfo/i.test(x),w=x.includes("Request timeout: Failed to get environment token")||/timeout/i.test(x);return{isNetwork:C,isTimeout:w}}async function p(x,O){const C=new Promise((w,b)=>{setTimeout(()=>b(new Error("Request timeout: Failed to get environment token within 5 seconds")),5e3)});return Promise.race([(0,r.getEnvironmentToken)(O,x),C])}function h(x,O,C,w){const b=x instanceof Error?x.message:"Unknown error";if(b.includes("Origin validation failed")){(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(b,403,O));return}const{status:_,isNetworkError:D}=d(x);if(_){const N=_===401?"Failed to get environment token: Invalid client credentials or application not found":_===403?"Failed to get environment token: Access denied":b;(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(N,_,O));return}const{isNetwork:L,isTimeout:U}=f(b,D);if(L||U){const N=w.getConfig();let F;try{F=(0,s.resolveControllerUrl)(N)}catch{F=N.controllerPrivateUrl||N.controllerUrl||"NOT CONFIGURED"}const Y=L?`Controller is unreachable. URL: ${F}.`:`Controller request timed out. URL: ${F}.`;(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(`Failed to get environment token: ${Y}`,504,O));return}(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(b,500,O))}function m(x,O,C){const w=O.getConfig(),b=w.controllerPublicUrl||w.controllerUrl;return b?{baseUrl:`${x.protocol}://${x.get("host")||"localhost"}`,controllerUrl:b,controllerPublicUrl:w.controllerPublicUrl,clientId:w.clientId,clientTokenUri:C}:null}function S(x,O,C){const w=x.message;if(w.includes("Origin validation failed")){(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(w,403,O));return}if(/timeout/i.test(w)){(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)("Failed to get environment token: Request timed out",504,O));return}(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(w,500,O))}async function k(x,O,C,w){const b=()=>O.headersSent||O.writableEnded;if(!C.isInitialized()){b()||(0,i.sendErrorResponse)(O,(0,i.createErrorResponse)("MisoClient is not initialized",503,x));return}let _;try{_=await p(x,C)}catch(L){b()||h(L,x,O,C);return}if(!_){b()||(0,i.sendErrorResponse)(O,(0,i.createErrorResponse)("Request timeout: Failed to get environment token",504,x));return}const D={token:_,expiresIn:w.expiresIn};if(w.includeConfig){const L=m(x,C,w.clientTokenUri);if(!L){b()||(0,i.sendErrorResponse)(O,(0,i.createErrorResponse)("Controller URL not configured",500,x));return}D.config=L}b()||O.json(D)}function A(x,O){const C={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...O};return(0,a.asyncHandler)(async(w,b)=>{try{await k(w,b,x,C)}catch(_){!b.headersSent&&!b.writableEnded&&S(_ instanceof Error?_:new Error(String(_)),w,b)}},"createClientTokenEndpoint")}return ru}var Qf={},Hx;function VL(){if(Hx)return Qf;Hx=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.loggerContextMiddleware=u;const r=eA(),s=Id(),a=ZR();function i(){return`server-${Date.now()}-${Math.random().toString(36).substring(2,8)}`}function l(o){const d=(0,s.extractRequestContext)(o),f=o.headers.authorization?.replace("Bearer ",""),p=f?(0,a.extractJwtContext)(f):{},h=d.correlationId||i();return{ipAddress:d.ipAddress,method:d.method,path:d.path,userId:d.userId||p.userId,sessionId:d.sessionId||p.sessionId,applicationId:p.applicationId,userAgent:d.userAgent,referer:d.referer,requestSize:d.requestSize,correlationId:h,requestId:d.requestId,token:f}}function u(o,d,f){try{(0,r.setLoggerContext)(l(o)),f()}catch{f()}}return Qf}var $x;function WL(){return $x||($x=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.loggerContextMiddleware=r.hasConfig=r.createClientTokenEndpoint=r.extractClientTokenInfo=r.getEnvironmentToken=r.validateOrigin=r.sendErrorResponse=r.getErrorTitle=r.getErrorTypeUri=r.handleRouteError=r.setErrorLogger=r.createErrorResponse=r.createSuccessResponse=r.AppError=r.ValidationHelper=r.asyncHandlerNamed=r.asyncHandler=r.injectResponseHelpers=r.ResponseHelper=void 0;var s=o_();Object.defineProperty(r,"ResponseHelper",{enumerable:!0,get:function(){return s.ResponseHelper}});var a=KL();Object.defineProperty(r,"injectResponseHelpers",{enumerable:!0,get:function(){return a.injectResponseHelpers}});var i=sE();Object.defineProperty(r,"asyncHandler",{enumerable:!0,get:function(){return i.asyncHandler}}),Object.defineProperty(r,"asyncHandlerNamed",{enumerable:!0,get:function(){return i.asyncHandlerNamed}});var l=FL();Object.defineProperty(r,"ValidationHelper",{enumerable:!0,get:function(){return l.ValidationHelper}});var u=Kd();Object.defineProperty(r,"AppError",{enumerable:!0,get:function(){return u.AppError}}),Object.defineProperty(r,"createSuccessResponse",{enumerable:!0,get:function(){return u.createSuccessResponse}}),Object.defineProperty(r,"createErrorResponse",{enumerable:!0,get:function(){return u.createErrorResponse}});var o=l_();Object.defineProperty(r,"setErrorLogger",{enumerable:!0,get:function(){return o.setErrorLogger}}),Object.defineProperty(r,"handleRouteError",{enumerable:!0,get:function(){return o.handleRouteError}});var d=Fd();Object.defineProperty(r,"getErrorTypeUri",{enumerable:!0,get:function(){return d.getErrorTypeUri}}),Object.defineProperty(r,"getErrorTitle",{enumerable:!0,get:function(){return d.getErrorTitle}}),Object.defineProperty(r,"sendErrorResponse",{enumerable:!0,get:function(){return d.sendErrorResponse}});var f=c_();Object.defineProperty(r,"validateOrigin",{enumerable:!0,get:function(){return f.validateOrigin}});var p=aE();Object.defineProperty(r,"getEnvironmentToken",{enumerable:!0,get:function(){return p.getEnvironmentToken}});var h=VR();Object.defineProperty(r,"extractClientTokenInfo",{enumerable:!0,get:function(){return h.extractClientTokenInfo}});var m=GL();Object.defineProperty(r,"createClientTokenEndpoint",{enumerable:!0,get:function(){return m.createClientTokenEndpoint}}),Object.defineProperty(r,"hasConfig",{enumerable:!0,get:function(){return m.hasConfig}});var S=VL();Object.defineProperty(r,"loggerContextMiddleware",{enumerable:!0,get:function(){return S.loggerContextMiddleware}})})(Hy)),Hy}var zn={},io={},Bx;function u_(){if(Bx)return io;Bx=1,Object.defineProperty(io,"__esModule",{value:!0}),io.getCachedEntry=s,io.setCacheEntry=a,io.isCacheEnabled=i,io.getCacheKeyForRequest=l;const r=Fn();function s(u,o,d){const f=u.get(o);return f&&f.expiresAt>Date.now()?(d.cacheHits++,f.data):(d.cacheMisses++,null)}function a(u,o,d,f,p){if(u.set(o,{data:d,expiresAt:Date.now()+f*1e3,key:o}),u.size>p){const h=u.keys().next().value;h&&u.delete(h)}}function i(u,o,d){const f=u.toUpperCase()==="GET";return o?.enabled!==!1&&f&&d?.cache?.enabled!==!1}function l(u,o){return o?.cache?.key||(0,r.generateCacheKey)(u,o)}return io}var na={},ia={},nu={},zx;function f_(){if(zx)return nu;zx=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.shouldSkipAudit=l,nu.logDataClientAudit=k;const r=qd(),s=pl(),a=Fn(),i=er();function l(A,x){return x?.enabled?(x.skipEndpoints||[]).some(C=>A.includes(C)):!0}function u(A,x,O){const C=(0,a.truncatePayload)(A,x);return O&&!C.truncated?s.DataMasker.maskSensitiveData(C.data):C.data}function o(A){const x=A.statusCode||A.response?.status,O=A.message||String(A),C=A.code,w=C==="ECONNREFUSED"||C==="ENOTFOUND"||O.includes("ERR_CONNECTION_REFUSED")||O.includes("Failed to fetch")||O.includes("NetworkError")||O.includes("network error");return x===401||!!w}async function d(A,x){if(!A){await x();return}await r.LoggerContextStorage.getInstance().runWithContextAsync({token:A},x)}async function f(A,x,O,C,w){await d(x,async()=>{await A.log.audit(`http.request.${O.toLowerCase()}`,C,w)})}function p(A,x){const O=x.auditConfig?.maxResponseSize||1e4,C=x.auditConfig?.maxMaskingSize||5e4;A.requestBody=x.requestBody!==void 0?u(x.requestBody,C,!0):void 0,A.responseBody=x.responseBody!==void 0?u(x.responseBody,O,!0):void 0,A.requestHeaders=x.requestHeaders?s.DataMasker.maskSensitiveData(x.requestHeaders):void 0,A.responseHeaders=x.responseHeaders?s.DataMasker.maskSensitiveData(x.responseHeaders):void 0}function h(A,x,O){O!=="detailed"&&O!=="full"||(x.requestSize!==void 0&&(A.requestSize=x.requestSize),x.responseSize!==void 0&&(A.responseSize=x.responseSize))}function m(A){const{method:x,url:O,statusCode:C,duration:w}=A,b=A.getToken(),_=b?(0,a.extractUserIdFromToken)(b):void 0,D=A.auditConfig?.level||"standard",L={method:x,url:O,statusCode:C,duration:w,..._&&{userId:_}};return D==="minimal"||(p(L,A),h(L,A,D),A.error&&(L.error=s.DataMasker.maskSensitiveData({message:A.error.message,name:A.error.name,stack:A.error.stack}))),L}async function S(A){const{method:x,url:O,misoClient:C,getToken:w}=A,b=m(A);await f(C,w(),x,O,b)}async function k(A){const{url:x,auditConfig:O,misoClient:C,hasAnyToken:w}=A;if(!(l(x,O)||!C||!w()))try{await S({method:A.method,url:x,statusCode:A.statusCode,duration:A.duration,misoClient:C,auditConfig:O,getToken:A.getToken,requestSize:A.requestSize,responseSize:A.responseSize,error:A.error,requestHeaders:A.requestHeaders,responseHeaders:A.responseHeaders,requestBody:A.requestBody,responseBody:A.responseBody})}catch(b){if(o(b))return;(0,i.writeWarn)(`Failed to log audit event: ${String(b)}`)}}return nu}var Kx;function JL(){if(Kx)return ia;Kx=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.generateCorrelationId=f,ia.processSuccessfulResponse=p,ia.handleNonRetryableError=h,ia.handleAuthErrorCleanup=m,ia.waitForRetry=D;const r=$v(),s=Fn(),a=u_(),i=f_(),l=Yr(),u=er(),o=d_(),d=qd();function f(L){if(L?.log&&typeof L.log.generateCorrelationId=="function")return L.log.generateCorrelationId();const U=Date.now(),N=Math.random().toString(36).substring(2,8);return`${U}-${N}`}async function p(L){const{response:U,data:N,method:F,endpoint:Y,startTime:se,config:ge,cache:X,cacheKey:J,cacheEnabled:q,misoClient:M,hasAnyToken:H,getToken:$,interceptors:Z,metrics:le,options:V}=L,re=Date.now()-se;if(S(le,re),A({cacheEnabled:q,response:U,data:N,options:V,config:ge,cache:X,cacheKey:J}),Z.onResponse)return await Z.onResponse(U,N);if(await x({response:U,data:N,method:F,endpoint:Y,duration:re,config:ge,misoClient:M,hasAnyToken:H,getToken:$,options:V}),!U.ok)throw new r.ApiError(`Request failed with status ${U.status}`,U.status,U);return N}async function h(L){const{error:U,method:N,endpoint:F,startTime:Y,statusCode:se,responseStatus:ge,config:X,misoClient:J,hasAnyToken:q,getToken:M,metrics:H,options:$}=L,Z=Date.now()-Y;k(H);const le=O(U,F,N,J);throw(0,u.logErrorWithContext)(le,"[DataClient]"),await w({error:U,statusCode:se||ge||401,duration:Z,method:N,endpoint:F,config:X,misoClient:J,hasAnyToken:q,getToken:M,options:$,errorInfo:le,responseStatus:ge}),U}function m(L){const{error:U,responseStatus:N,method:F,endpoint:Y,startTime:se,config:ge,misoClient:X,hasAnyToken:J,getToken:q,handleAuthError:M,metrics:H,options:$}=L;M(),k(H);const Z=O(U,Y,F,X);if((0,u.logErrorWithContext)(Z,"[DataClient] [AUTH]"),!$?.skipAudit){const le=Date.now()-se;(0,i.logDataClientAudit)({method:F,url:Y,statusCode:N,duration:le,misoClient:X,auditConfig:ge.audit,hasAnyToken:J,getToken:q,requestSize:$?.body?(0,s.calculateSize)($.body):void 0,error:U,requestHeaders:(0,o.extractHeaders)($?.headers),requestBody:$?.body}).catch(()=>{})}_(X,Z)}function S(L,U){L.totalRequests++,L.responseTimes.push(U)}function k(L){L.totalFailures++}function A(L){const{cacheEnabled:U,response:N,data:F,options:Y,config:se,cache:ge,cacheKey:X}=L;if(!U||!N.ok)return;const J=Y?.cache?.ttl||se.cache?.defaultTTL||300;(0,a.setCacheEntry)(ge,X,F,J,se.cache?.maxSize||100)}async function x(L){const{response:U,data:N,method:F,endpoint:Y,duration:se,config:ge,misoClient:X,hasAnyToken:J,getToken:q,options:M}=L;M?.skipAudit||await(0,i.logDataClientAudit)({method:F,url:Y,statusCode:U.status,duration:se,misoClient:X,auditConfig:ge.audit,hasAnyToken:J,getToken:q,requestSize:M?.body?(0,s.calculateSize)(M.body):void 0,responseSize:(0,s.calculateSize)(N),requestHeaders:(0,o.extractHeaders)(M?.headers),responseHeaders:(0,o.extractHeaders)(U.headers),requestBody:M?.body,responseBody:N})}function O(L,U,N,F){return(0,l.extractErrorInfo)(L,{endpoint:U,method:N,correlationId:f(F)})}function C(L){return L?L>=500?"server-error":L>=400?"client-error":"success":"unknown"}async function w(L){const{error:U,statusCode:N,duration:F,method:Y,endpoint:se,config:ge,misoClient:X,hasAnyToken:J,getToken:q,options:M,errorInfo:H,responseStatus:$}=L;if(M?.skipAudit||!X?.log)return;await(0,i.logDataClientAudit)({method:Y,url:se,statusCode:N||$||401,duration:F,misoClient:X,auditConfig:ge.audit,hasAnyToken:J,getToken:q,requestSize:M?.body?(0,s.calculateSize)(M.body):void 0,error:U,requestHeaders:(0,o.extractHeaders)(M?.headers),requestBody:M?.body});const Z=C(N||$);await b(X,H,Z)}async function b(L,U,N){try{await d.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:U.correlationId},async()=>{await L.log.error(`Request failed: ${U.message}`,{errorType:U.errorType,errorName:U.errorName,statusCode:U.statusCode,endpoint:U.endpoint,method:U.method,responseBody:U.responseBody},U.stackTrace,{errorCategory:U.errorType.toLowerCase().replace("error",""),httpStatusCategory:N})})}catch{}}function _(L,U){if(!L?.log)return;d.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:U.correlationId},async()=>{await L.log.error(`Authentication error: ${U.message}`,{authFlow:"token_validation_failed",errorType:U.errorType,errorName:U.errorName,statusCode:U.statusCode,endpoint:U.endpoint,method:U.method,responseBody:U.responseBody},U.stackTrace,{errorCategory:"authentication",httpStatusCategory:"client-error"})}).catch(()=>{})}async function D(L,U,N,F){const Y=F(L,U,N);await new Promise(se=>setTimeout(se,Y))}return ia}var Fx;function d_(){if(Fx)return na;Fx=1,Object.defineProperty(na,"__esModule",{value:!0}),na.extractHeaders=l,na.parseResponse=u,na.mergeSignals=o,na.makeFetchRequest=h,na.executeHttpRequest=_;const r=$v(),s=Fn(),a=JL(),i=er();function l(D){if(!D)return;if(D instanceof Headers){const U={};return D.forEach((N,F)=>{U[F]=N}),U}if(Array.isArray(D)){const U={};return D.forEach(([N,F])=>{U[N]=String(F)}),U}const L={};return Object.entries(D).forEach(([U,N])=>{L[U]=Array.isArray(N)?N.join(", "):String(N)}),L}async function u(D){const L=D.headers.get("content-type")||"";return L.includes("application/json")?await D.json():L.includes("text/")?await D.text():await D.blob()}function o(D,L){const U=new AbortController,N=()=>{U.abort(),D.removeEventListener("abort",N),L.removeEventListener("abort",N)};return D.aborted||L.aborted?(U.abort(),U.signal):(D.addEventListener("abort",N),L.addEventListener("abort",N),U.signal)}function d(D,L){if(L){if(L instanceof Headers){L.forEach((U,N)=>D.set(N,U));return}Object.entries(L).forEach(([U,N])=>{D.set(U,String(N))})}}function f(D,L){const U=new AbortController,N=setTimeout(()=>U.abort(),D);return typeof N.unref=="function"&&N.unref(),{signal:L?o(U.signal,L):U.signal,timeoutId:N}}function p(D){const{cache:L,skipAuth:U,retries:N,skipAudit:F,timeout:Y,...se}=D||{};return se}async function h(D,L,U,N,F){const Y=new Headers(U.defaultHeaders);if(d(Y,F?.headers),!F?.skipAuth){const q=N();q&&Y.set("Authorization",`Bearer ${q}`)}const se=F?.timeout||U.timeout||3e4,{signal:ge,timeoutId:X}=f(se,F?.signal),J=p(F);try{const q=await fetch(L,{method:D,headers:Y,body:J.body,signal:ge,...J});return clearTimeout(X),q}catch(q){throw clearTimeout(X),q instanceof Error&&q.name==="AbortError"?new r.TimeoutError(`Request timeout after ${se}ms`,se):new r.NetworkError(`Network error: ${q instanceof Error?q.message:"Unknown error"}`,q instanceof Error?q:void 0)}}function m(D,L){return{maxRetries:L?.retries!==void 0?L.retries:D.retry?.maxRetries||3,retryEnabled:D.retry?.enabled!==!1,baseDelay:D.retry?.baseDelay||1e3,maxDelay:D.retry?.maxDelay||1e4}}function S(D){return D===401||D===403}function k(D){const L=D;return D instanceof r.AuthenticationError||L.name==="AuthenticationError"||L.statusCode===401||L.statusCode===403}function A(D,L){const U=D.response?.status;return D.statusCode??U??L??void 0}function x(D,L,U,N){const F=D!==void 0&&D>=500&&D<600,Y=F?0:L.maxRetries;return L.retryEnabled&&!F&&U<Y&&(0,s.isRetryableError)(D,N)}async function O(D){const{responseStatus:L,config:U,refreshUserToken:N,attempt:F,state:Y}=D;if(!S(L))return null;if(L===401&&U.onTokenRefresh&&N&&F===0&&!Y.tokenRefreshAttempted){Y.tokenRefreshAttempted=!0;try{if((await N())?.token)return await new Promise(X=>setTimeout(X,10)),w({...D,attempt:F+1})}catch(ge){(0,i.writeWarn)(`Token refresh failed, redirecting to login: ${String(ge)}`),Y.authErrorDetected=!0}}Y.authErrorDetected=!0;const se=L===401?new r.AuthenticationError("Authentication required",D.response):new r.ApiError("Forbidden",403,D.response);throw(0,a.handleAuthErrorCleanup)({error:se,responseStatus:L,method:D.method,endpoint:D.endpoint,startTime:D.startTime,config:D.config,misoClient:D.misoClient,hasAnyToken:D.hasAnyToken,getToken:D.getToken,handleAuthError:D.handleAuthError,metrics:D.metrics,options:D.options}),se}async function C(D){const{error:L,responseStatus:U,state:N,attempt:F,retryConfig:Y}=D;if(N.tokenRefreshAttempted&&S(U)||L instanceof r.AuthenticationError||S(U)||k(L))throw N.authErrorDetected=!0,L;const ge=A(L,U);if(!x(ge,Y,F,L)){if(S(ge))throw N.authErrorDetected=!0,L;D.metrics.totalFailures++,await(0,a.handleNonRetryableError)({error:L,method:D.method,endpoint:D.endpoint,startTime:D.startTime,statusCode:ge,responseStatus:U,config:D.config,misoClient:D.misoClient,hasAnyToken:D.hasAnyToken,getToken:D.getToken,metrics:D.metrics,options:D.options})}if(N.authErrorDetected)throw L;return await(0,a.waitForRetry)(F,Y.baseDelay,Y.maxDelay,s.calculateBackoffDelay),w({...D,attempt:F+1})}async function w(D){if(D.state.authErrorDetected)throw new r.AuthenticationError("Authentication error detected - should not retry");let L,U;try{U=await h(D.method,D.fullUrl,D.config,D.getToken,D.options),L=U.status;const N=await O({...D,response:U,responseStatus:L});if(N)return N;const F=await u(U);return await(0,a.processSuccessfulResponse)({response:U,data:F,method:D.method,endpoint:D.endpoint,startTime:D.startTime,config:D.config,cache:D.cache,cacheKey:D.cacheKey,cacheEnabled:D.cacheEnabled,misoClient:D.misoClient,hasAnyToken:D.hasAnyToken,getToken:D.getToken,interceptors:D.interceptors,metrics:D.metrics,options:D.options})}catch(N){return C({...D,error:N,responseStatus:L})}}async function b(D,L,U){const N=k(D);throw U.totalFailures++,L.onError&&!N?await L.onError(D):D}async function _(D){const L=m(D.config,D.options),U={authErrorDetected:!1,tokenRefreshAttempted:!1};try{return await w({attempt:0,...D,retryConfig:L,state:U})}catch(N){return b(N,D.interceptors,D.metrics)}}return na}var iu={},Zf={},Gx;function YL(){if(Gx)return Zf;Gx=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.handleOAuthCallback=A;const r=Fn(),s=Yr(),a=er();function i(){try{const x=globalThis;if(!x.window?.location||!x.window.history){(0,a.writeWarn)("[handleOAuthCallback] window not available for hash cleanup");return}const O=x.window.location.pathname+x.window.location.search;x.window.history.replaceState(null,"",O)}catch(x){(0,a.writeWarn)(`[handleOAuthCallback] Failed to clean up hash: ${String(x)}`)}}function l(x){return!x||typeof x!="string"?!1:x.trim().length>=5}function u(x){return x==="localhost"||x==="127.0.0.1"||x==="[::1]"||x.startsWith("192.168.")||x.startsWith("10.")||/^172\.(1[6-9]|2[0-9]|3[0-1])\./.test(x)}function o(x){try{return new URLSearchParams(x.substring(1))}catch(O){return(0,a.writeWarn)(`[handleOAuthCallback] Failed to parse hash: ${String(O)}`),null}}function d(x){return x.get("token")||x.get("access_token")||x.get("accessToken")}function f(x){(0,a.writeErr)(`[handleOAuthCallback] Invalid token format - token rejected: ${JSON.stringify({tokenLength:x.length,isEmpty:!x||x.trim().length===0,tooShort:x.length>0&&x.length<5,expectedFormat:"Non-empty string with at least 5 characters"})}`),i()}function p(x,O){return x==="https:"?!0:u(O)}function h(x,O){x.forEach(C=>{try{(0,r.setLocalStorage)(C,O)}catch(w){(0,a.writeWarn)(`[handleOAuthCallback] Failed to store token in key ${C}: ${String(w)}`)}})}function m(){const x=globalThis;return x.window?.location?{hash:x.window.location.hash,protocol:x.window.location.protocol,hostname:x.window.location.hostname||"",pathname:x.window.location.pathname||"/"}:null}function S(x){if(!x||x.length<=1)return null;const O=o(x);if(!O)return null;const C=d(O);return C?l(C)?C:(f(C),null):null}function k(x,O,C){x&&(0,a.writeWarn)(`[handleOAuthCallback] OAuth token extracted and stored securely: ${JSON.stringify({tokenLength:O.length,tokenKeys:C,storedInKeys:C.length})}`)}function A(x){if(!(0,r.isBrowser)())return null;const O=m();if(!O)return null;const C=S(O.hash);if(!C)return null;if(!p(O.protocol,O.hostname))return(0,a.writeErr)("[handleOAuthCallback] SECURITY WARNING: Token received over HTTP in production"),i(),null;i();const w=x.tokenKeys||["token","accessToken","authToken"];try{return h(w,C),k(x.misoConfig?.logLevel==="debug",C,w),C}catch(b){const _=b instanceof Error?b:new Error(String(b));return(0,a.logErrorWithContext)((0,s.extractErrorInfo)(_,{endpoint:O.pathname,method:"GET"}),"[DataClient] [AUTH] [OAuthCallback]"),(0,a.writeErr)(`[handleOAuthCallback] Failed to store token: ${String(b)}`),null}}return Zf}var al={},Vx;function h_(){if(Vx)return al;Vx=1,Object.defineProperty(al,"__esModule",{value:!0}),al.getValidatedRedirectUrl=l,al.redirectToLogin=o,al.logout=m;const r=p_(),s=Fn(),a=er();function i(S){if(!S||typeof S!="string"||S.trim()==="")return null;const k=S.trim(),A=["javascript:","data:","vbscript:","file:","about:"],x=k.toLowerCase();for(const w of A)if(x.startsWith(w))return null;let O;try{if(k.startsWith("/")||!k.includes("://")){const w=globalThis.window.location.origin;O=new URL(k,w)}else O=new URL(k)}catch{return null}return O.protocol!=="http:"&&O.protocol!=="https:"?null:O.href}function l(S,k){const A=i(S);if(A)return A;if(k){const x=i(k);if(x)return x}return null}function u(S){const k=S.loginUrl||"/login";return k.startsWith("/api/")?((0,a.writeWarn)(`âš ï¸ Warning: loginUrl is set to an API endpoint (${k}). redirectToLogin() should redirect to a login PAGE (e.g., '/login'), not an API endpoint. Using default '/login'.`),"/login"):k}async function o(S,k,A){if(!(0,s.isBrowser)())return;const x=d().href,O=A||x,C=(0,r.getControllerUrl)(S.misoConfig);if(!C){const D=new Error("Controller URL is not configured. Please configure controllerUrl or controllerPublicUrl in your DataClient configuration.");throw D.details={hasMisoConfig:!!S.misoConfig,controllerUrl:S.misoConfig?.controllerUrl,controllerPublicUrl:S.misoConfig?.controllerPublicUrl,controllerPrivateUrl:S.misoConfig?.controllerPrivateUrl},D}const w=await k(),b=u(S),_=/^https?:\/\//i.test(b)?new URL(b):new URL(b,C);_.searchParams.set("redirect",O),w&&_.searchParams.set("x-client-token",w),f(_.toString())}function d(){return globalThis.window.location}function f(S){d().href=S}function p(S){const k=globalThis.localStorage;k&&S.forEach(A=>{try{k.removeItem(A)}catch{}})}function h(S){if(/^https?:\/\//i.test(S))return S;const k=d().origin,A=S.startsWith("/")?S:`/${S}`;return`${k}${A}`}async function m(S,k,A,x,O,C){if(!(0,s.isBrowser)())return;const w=k(),b=await A();p(S.tokenKeys||["token","accessToken","authToken"]),x();const _=(0,r.getControllerUrl)(S.misoConfig),D=O||S.logoutUrl||S.loginUrl||"/login";if(!_){const N=h(D),F=l(N);F&&f(F);return}const L=S.logoutUrl||S.loginUrl||"/logout",U=/^https?:\/\//i.test(L)?new URL(L):new URL(L,_);U.searchParams.set("redirect",h(D)),b&&U.searchParams.set("x-client-token",b),w&&U.searchParams.set("token",w),f(U.toString())}return al}var Wx;function p_(){return Wx||(Wx=1,(function(r){var s=iu&&iu.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(r,"__esModule",{value:!0}),r.logout=r.redirectToLogin=r.handleOAuthCallback=void 0,r.getToken=h,r.hasClientToken=m,r.hasAnyToken=S,r.getControllerUrl=k,r.getClientToken=_,r.getEnvironmentToken=q,r.getClientTokenInfo=M;const a=Fn(),i=a_(),l=s(Tu()),u=f_(),o=Yr(),d=er(),f=qd();var p=YL();Object.defineProperty(r,"handleOAuthCallback",{enumerable:!0,get:function(){return p.handleOAuthCallback}});function h(H){if(!(0,a.isBrowser)())return null;const $=H||["token","accessToken","authToken"];for(const Z of $){const le=(0,a.getLocalStorage)(Z);if(le)return le}return null}function m(H,$){if(!(0,a.isBrowser)())return!!(H&&$?.clientSecret);if((0,a.getLocalStorage)("miso:client-token")){const le=(0,a.getLocalStorage)("miso:client-token-expires-at");if(le&&parseInt(le,10)>Date.now())return!0}return!!($?.clientToken||$?.onClientTokenRefresh||$?.clientSecret)}function S(H,$,Z){return h(H)!==null||m($||null,Z)}function k(H){return H&&(H.controllerPublicUrl||H.controllerUrl)||null}function A(H,$){H&&(0,d.writeWarn)($)}function x(){(0,a.removeLocalStorage)("miso:client-token"),(0,a.removeLocalStorage)("miso:client-token-expires-at")}function O(H,$,Z){return H?b(H,$)?(A(Z,"[getClientToken] Returning valid cached token"),H):(A(Z,"[getClientToken] Token expired, removing from cache"),x(),null):null}async function C(H,$){try{A(H,"[getClientToken] Fetching new token via getEnvironmentToken()");const Z=await $();return A(H,`[getClientToken] Got new token, length: ${Z?.length}`),Z}catch(Z){return(0,d.writeErr)(`[getClientToken] Failed to get environment token: ${JSON.stringify({method:"POST",path:"/api/v1/auth/token",errorMessage:Z instanceof Error?Z.message:String(Z),stackTrace:Z instanceof Error?Z.stack:void 0})}`),null}}function w(H){try{const $=l.default.decode(H);return $?.exp?$.exp*1e3:null}catch{return null}}function b(H,$){if(!H)return!1;const Z=Date.now();if($){const V=parseInt($,10);return!(!isNaN(V)&&V<=Z)}const le=w(H);return!(le&&le<=Z)}async function _(H,$,Z){if(!(0,a.isBrowser)())return null;const le=H?.logLevel==="debug",V=(0,a.getLocalStorage)("miso:client-token"),re=(0,a.getLocalStorage)("miso:client-token-expires-at");A(le,`[getClientToken] Cache check: ${JSON.stringify({hasToken:!!V,hasExpiresAt:!!re})}`);const ie=O(V,re,le);return ie||(H?.clientToken?(A(le,"[getClientToken] Returning token from config"),H.clientToken):C(le,Z))}var D=h_();Object.defineProperty(r,"redirectToLogin",{enumerable:!0,get:function(){return D.redirectToLogin}}),Object.defineProperty(r,"logout",{enumerable:!0,get:function(){return D.logout}});const L="miso:client-token",U="miso:client-token-expires-at";function N(){const H=(0,a.getLocalStorage)(L),$=(0,a.getLocalStorage)(U);return!H||!$?null:parseInt($,10)<=Date.now()?((0,a.removeLocalStorage)(L),(0,a.removeLocalStorage)(U),null):H}function F(H){const $=H.data?.token||H.token||H.accessToken||H.access_token;if(!$||typeof $!="string")throw new Error("Invalid response format: token not found in response");const le=H.data?.expiresIn??H.expiresIn??H.expires_in??3600;return{token:$,expiresIn:Number(le)}}async function Y(H,$,Z,le){if(!(0,u.shouldSkipAudit)($,le.audit))try{await H.log.audit("client.token.request.success",$,{method:"POST",url:$,statusCode:Z,cached:!1},{})}catch{}}async function se(H,$,Z,le){if(!(0,u.shouldSkipAudit)(le,$.audit))try{await f.LoggerContextStorage.getInstance().runWithContextAsync({correlationId:Z.correlationId},async()=>{await H.log.audit("client.token.request.failed",le,{method:"POST",url:le,statusCode:Z.statusCode||0,error:Z.message,cached:!1,errorType:Z.errorType,errorName:Z.errorName},{errorCategory:"authentication",httpStatusCategory:Z.statusCode&&Z.statusCode>=500?"server-error":"client-error"})})}catch{}}function ge(H){const $=H.misoConfig?.clientTokenUri||"/api/v1/auth/client-token",Z=/^https?:\/\//i.test($)?$:`${H.baseUrl}${$}`;return{clientTokenUri:$,fullUrl:Z}}function X(H,$){const Z=Date.now()+$*1e3;(0,a.setLocalStorage)(L,H),(0,a.setLocalStorage)(U,Z.toString())}async function J(H){const $=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!$.ok){const le=await $.text();throw new Error(`Failed to get environment token: ${$.status} ${$.statusText}. ${le}`)}const Z=await $.json();return{response:$,data:Z}}async function q(H,$){if(!(0,a.isBrowser)())throw new Error("getEnvironmentToken() is only available in browser environment");const Z=N();if(Z)return Z;const{clientTokenUri:le,fullUrl:V}=ge(H);try{const{response:re,data:ie}=await J(V),{token:pe,expiresIn:be}=F(ie);return X(pe,be),$&&await Y($,le,re.status,H),pe}catch(re){const ie=(0,o.extractErrorInfo)(re,{endpoint:le,method:"POST",correlationId:$?.log?.generateCorrelationId?.()});throw(0,d.logErrorWithContext)(ie,"[DataClient] [AUTH] [ClientToken]"),$&&await se($,H,ie,le),re}}function M(H){if(!(0,a.isBrowser)())return null;const $=(0,a.getLocalStorage)("miso:client-token");if($)return(0,i.extractClientTokenInfo)($);const Z=H?.clientToken;return Z?(0,i.extractClientTokenInfo)(Z):null}})(iu)),iu}var so={},Jx;function XL(){if(Jx)return so;Jx=1,Object.defineProperty(so,"__esModule",{value:!0}),so.createMisoConfigWithRefresh=h,so.initializeBrowserServices=m,so.warnIfClientSecretInBrowser=S,so.createDefaultConfig=k;const r=i_(),s=s_(),a=Av(),i=Hv(),l=kv(),u=mA(),o=ud(),d=Rv(),f=Fn(),p=er();function h(A,x){if(A.misoConfig)return{...A.misoConfig,onClientTokenRefresh:A.misoConfig.onClientTokenRefresh||((0,f.isBrowser)()&&!A.misoConfig.clientSecret?async()=>{const O=await x();if(!O)throw new Error("Failed to get client token");const C=(0,f.getLocalStorage)("miso:client-token-expires-at"),w=C?parseInt(C,10):Date.now()+36e5,b=Math.floor((w-Date.now())/1e3);return{token:O,expiresIn:b>0?b:3600}}:void 0)}}function m(A,x){if(!A||!x)return{permissionService:null,roleService:null};const O=new l.InternalHttpClient(x),C=new d.RedisService(x.redis),w=new o.LoggerService(O,C),b=new i.HttpClient(x,w);w.setHttpClient(b);const _=new u.ApiClient(b);w.setApiClient(_);const D=new a.CacheService(void 0),L=new r.BrowserPermissionService(b,_,D),U=new s.BrowserRoleService(b,_,D);return{permissionService:L,roleService:U}}function S(A){(0,f.isBrowser)()&&A.misoConfig?.clientSecret&&(0,p.writeWarn)("âš ï¸ SECURITY WARNING: clientSecret detected in browser environment. Client secrets should NEVER be exposed in client-side code. Use the client token pattern instead (clientToken + onClientTokenRefresh). See documentation for browser-safe configuration.")}function k(A){return{tokenKeys:["token","accessToken","authToken"],loginUrl:"/login",timeout:3e4,cache:{enabled:!0,defaultTTL:300,maxSize:100},retry:{enabled:!0,maxRetries:3,baseDelay:1e3,maxDelay:1e4},audit:{enabled:!0,level:"standard",batchSize:10,maxResponseSize:1e4,maxMaskingSize:5e4,skipEndpoints:[]},...A}}return so}var bs={},Yx;function QL(){if(Yx)return bs;Yx=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.getPermissions=r,bs.hasPermission=s,bs.hasAnyPermission=a,bs.hasAllPermissions=i,bs.refreshPermissions=l,bs.clearPermissionsCache=u;async function r(o,d,f,p){if(!d||!o)return[];const h=p||f();return h?o.getPermissions(h):[]}async function s(o,d,f,p,h){if(!d||!o)return!1;const m=h||f();return m?o.hasPermission(m,p):!1}async function a(o,d,f,p,h){if(!d||!o)return!1;const m=h||f();return m?o.hasAnyPermission(m,p):!1}async function i(o,d,f,p,h){if(!d||!o)return!1;const m=h||f();return m?o.hasAllPermissions(m,p):!1}async function l(o,d,f,p){if(!d||!o)return[];const h=p||f();return h?o.refreshPermissions(h):[]}async function u(o,d,f,p){if(!d||!o)return;const h=p||f();if(h)return o.clearPermissionsCache(h)}return bs}var Ss={},Xx;function ZL(){if(Xx)return Ss;Xx=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.getRoles=r,Ss.hasRole=s,Ss.hasAnyRole=a,Ss.hasAllRoles=i,Ss.refreshRoles=l,Ss.clearRolesCache=u;async function r(o,d,f,p){if(!d||!o)return[];const h=p||f();return h?o.getRoles(h):[]}async function s(o,d,f,p,h){if(!d||!o)return!1;const m=h||f();return m?o.hasRole(m,p):!1}async function a(o,d,f,p,h){if(!d||!o)return!1;const m=h||f();return m?o.hasAnyRole(m,p):!1}async function i(o,d,f,p,h){if(!d||!o)return!1;const m=h||f();return m?o.hasAllRoles(m,p):!1}async function l(o,d,f,p){if(!d||!o)return[];const h=p||f();return h?o.refreshRoles(h):[]}async function u(o,d,f,p){if(!d||!o)return;const h=p||f();if(h)return o.clearRolesCache(h)}return Ss}var Qx;function m_(){if(Qx)return zn;Qx=1;var r=zn&&zn.__createBinding||(Object.create?(function(C,w,b,_){_===void 0&&(_=b);var D=Object.getOwnPropertyDescriptor(w,b);(!D||("get"in D?!w.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return w[b]}}),Object.defineProperty(C,_,D)}):(function(C,w,b,_){_===void 0&&(_=b),C[_]=w[b]})),s=zn&&zn.__setModuleDefault||(Object.create?(function(C,w){Object.defineProperty(C,"default",{enumerable:!0,value:w})}):function(C,w){C.default=w}),a=zn&&zn.__importStar||(function(){var C=function(w){return C=Object.getOwnPropertyNames||function(b){var _=[];for(var D in b)Object.prototype.hasOwnProperty.call(b,D)&&(_[_.length]=D);return _},C(w)};return function(w){if(w&&w.__esModule)return w;var b={};if(w!=null)for(var _=C(w),D=0;D<_.length;D++)_[D]!=="default"&&r(b,w,_[D]);return s(b,w),b}})();Object.defineProperty(zn,"__esModule",{value:!0}),zn.DataClient=void 0,zn.dataClient=O;const i=g_(),l=pl(),u=Fn(),o=u_(),d=d_(),f=p_(),p=h_(),h=XL(),m=er(),S=a(QL()),k=a(ZL());class A{constructor(w){this.misoClient=null,this.cache=new Map,this.pendingRequests=new Map,this.failedRequests=new Map,this.interceptors={},this.metrics={totalRequests:0,totalFailures:0,responseTimes:[],cacheHits:0,cacheMisses:0},this.permissionService=null,this.roleService=null,this.config=(0,h.createDefaultConfig)(w),(0,h.warnIfClientSecretInBrowser)(this.config);const b=(0,h.createMisoConfigWithRefresh)(this.config,()=>this.getEnvironmentToken());b&&(this.misoClient=new i.MisoClient(b)),this.config.misoConfig?.sensitiveFieldsConfig&&l.DataMasker.setConfigPath(this.config.misoConfig.sensitiveFieldsConfig);const _=(0,h.initializeBrowserServices)(this.misoClient,b);this.permissionService=_.permissionService,this.roleService=_.roleService,(0,u.isBrowser)()&&this.handleOAuthCallback()}getToken(){return(0,f.getToken)(this.config.tokenKeys)}hasClientToken(){return(0,f.hasClientToken)(this.misoClient,this.config.misoConfig)}hasAnyToken(){return(0,f.hasAnyToken)(this.config.tokenKeys,this.misoClient,this.config.misoConfig)}async getClientToken(){return(0,f.getClientToken)(this.config.misoConfig,this.config.baseUrl,()=>this.getEnvironmentToken())}getControllerUrl(){return(0,f.getControllerUrl)(this.config.misoConfig)}isAuthenticated(){return this.getToken()!==null}handleOAuthCallback(){return(0,f.handleOAuthCallback)(this.config)}async redirectToLogin(w){return(0,p.redirectToLogin)(this.config,()=>this.getClientToken(),w)}async logout(w){return(0,f.logout)(this.config,()=>this.getToken(),()=>this.getClientToken(),()=>this.clearCache(),w,this.misoClient)}setInterceptors(w){this.interceptors={...this.interceptors,...w}}setAuditConfig(w){this.config.audit={...this.config.audit,...w}}setLogLevel(w){if(this.misoClient&&this.config.misoConfig){this.config.misoConfig.logLevel=w;try{const b=this.misoClient.config;b&&(b.logLevel=w)}catch{}}}clearCache(){this.cache.clear()}getMetrics(){const w=(this.metrics.responseTimes||[]).sort((_,D)=>_-D),b=w.length;return{totalRequests:this.metrics.totalRequests,totalFailures:this.metrics.totalFailures,averageResponseTime:b>0?w.reduce((_,D)=>_+D,0)/b:0,responseTimeDistribution:{min:b>0?w[0]:0,max:b>0?w[b-1]:0,p50:b>0?w[Math.floor(b*.5)]:0,p95:b>0?w[Math.floor(b*.95)]:0,p99:b>0?w[Math.floor(b*.99)]:0},errorRate:this.metrics.totalRequests>0?this.metrics.totalFailures/this.metrics.totalRequests:0,cacheHitRate:this.metrics.cacheHits+this.metrics.cacheMisses>0?this.metrics.cacheHits/(this.metrics.cacheHits+this.metrics.cacheMisses):0}}checkCircuitBreaker(w){const b=this.failedRequests.get(w);if(!b)return;const _=Date.now()-b.timestamp,D=b.count||1;if(_<(D===1?5e3:D===2?15e3:3e4))throw b.error;this.failedRequests.delete(w)}recordFailure(w,b){const _=this.failedRequests.get(w),D=_?(_.count||1)+1:1;this.failedRequests.set(w,{timestamp:Date.now(),error:b,count:D});const L=setTimeout(()=>this.failedRequests.delete(w),3e4);typeof L.unref=="function"&&L.unref()}executeRequest(w){return(0,d.executeHttpRequest)({...w,config:this.config,cache:this.cache,misoClient:this.misoClient,hasAnyToken:()=>this.hasAnyToken(),getToken:()=>this.getToken(),handleAuthError:()=>this.handleAuthError(),refreshUserToken:()=>this.refreshUserToken(),interceptors:this.interceptors,metrics:this.metrics})}getCachedResponse(w,b){return w?(0,o.getCachedEntry)(this.cache,b,this.metrics):null}getPendingGetRequest(w,b){if(!w)return null;const _=this.pendingRequests.get(b);return _||null}createRequestPromise(w,b,_){const D=w?(async()=>{try{return await this.executeRequest(_)}finally{this.pendingRequests.delete(b)}})():this.executeRequest(_);return w&&this.pendingRequests.set(b,D),D}async resolveRequestPromise(w,b){try{const _=await w;return this.failedRequests.delete(b),_}catch(_){throw this.recordFailure(b,_),_}}async request(w,b,_){const D=Date.now(),L=`${this.config.baseUrl}${b}`,U=(0,o.getCacheKeyForRequest)(b,{..._,method:w.toUpperCase()}),N=w.toUpperCase()==="GET",F=(0,o.isCacheEnabled)(w,this.config.cache,_);this.checkCircuitBreaker(U);const Y=this.getCachedResponse(F,U);if(Y!==null)return Y;const se=this.getPendingGetRequest(N,U);if(se)return se;const ge={method:w,fullUrl:L,endpoint:b,cacheKey:U,cacheEnabled:F,startTime:D,options:_},X=this.createRequestPromise(N,U,ge);return this.resolveRequestPromise(X,U)}async refreshUserToken(){if(!this.config.onTokenRefresh)return null;try{const w=await this.config.onTokenRefresh();if((0,u.isBrowser)()&&w.token){const{setLocalStorage:b}=await Promise.resolve().then(()=>a(Fn()));for(const _ of this.config.tokenKeys||["token","accessToken","authToken"])b(_,w.token)}return w}catch(w){return(0,m.writeErr)(`Token refresh failed: ${String(w)}`),null}}handleAuthError(){(0,u.isBrowser)()&&this.redirectToLogin().catch(w=>(0,m.writeErr)(`Failed to redirect to login: ${String(w)}`))}async applyRequestInterceptor(w,b){return this.interceptors.onRequest?await this.interceptors.onRequest(w,b):b}async get(w,b){const _=await this.applyRequestInterceptor(w,{...b,method:"GET"});return this.request("GET",w,_)}async post(w,b,_){const D=await this.applyRequestInterceptor(w,{..._,method:"POST",body:b?JSON.stringify(b):void 0,headers:{"Content-Type":"application/json",..._?.headers}});return this.request("POST",w,D)}async put(w,b,_){const D=await this.applyRequestInterceptor(w,{..._,method:"PUT",body:b?JSON.stringify(b):void 0,headers:{"Content-Type":"application/json",..._?.headers}});return this.request("PUT",w,D)}async patch(w,b,_){const D=await this.applyRequestInterceptor(w,{..._,method:"PATCH",body:b?JSON.stringify(b):void 0,headers:{"Content-Type":"application/json",..._?.headers}});return this.request("PATCH",w,D)}async delete(w,b){const _=await this.applyRequestInterceptor(w,{...b,method:"DELETE"});return this.request("DELETE",w,_)}async getPermissions(w){return S.getPermissions(this.permissionService,this.misoClient,()=>this.getToken(),w)}async hasPermission(w,b){return S.hasPermission(this.permissionService,this.misoClient,()=>this.getToken(),w,b)}async hasAnyPermission(w,b){return S.hasAnyPermission(this.permissionService,this.misoClient,()=>this.getToken(),w,b)}async hasAllPermissions(w,b){return S.hasAllPermissions(this.permissionService,this.misoClient,()=>this.getToken(),w,b)}async refreshPermissions(w){return S.refreshPermissions(this.permissionService,this.misoClient,()=>this.getToken(),w)}async clearPermissionsCache(w){return S.clearPermissionsCache(this.permissionService,this.misoClient,()=>this.getToken(),w)}async getRoles(w){return k.getRoles(this.roleService,this.misoClient,()=>this.getToken(),w)}async hasRole(w,b){return k.hasRole(this.roleService,this.misoClient,()=>this.getToken(),w,b)}async hasAnyRole(w,b){return k.hasAnyRole(this.roleService,this.misoClient,()=>this.getToken(),w,b)}async hasAllRoles(w,b){return k.hasAllRoles(this.roleService,this.misoClient,()=>this.getToken(),w,b)}async refreshRoles(w){return k.refreshRoles(this.roleService,this.misoClient,()=>this.getToken(),w)}async clearRolesCache(w){return k.clearRolesCache(this.roleService,this.misoClient,()=>this.getToken(),w)}async validateToken(w){if(!this.misoClient)return!1;const b=w||this.getToken();return b?this.misoClient.validateToken(b):!1}async getUser(w){if(!this.misoClient)return null;const b=w||this.getToken();return b?this.misoClient.getUser(b):null}async getUserInfo(w){if(!this.misoClient)return null;const b=w||this.getToken();return b?this.misoClient.getUserInfo(b):null}async isAuthenticatedAsync(w){return this.validateToken(w)}async getEnvironmentToken(){return(0,f.getEnvironmentToken)(this.config,this.misoClient)}getClientTokenInfo(){return(0,f.getClientTokenInfo)(this.config.misoConfig)}}zn.DataClient=A;let x=null;function O(C){if(!x&&C&&(x=new A(C)),!x)throw new Error("DataClient not initialized. Call dataClient(config) first.");return x}return zn}var su={},au={},Zx;function eP(){if(Zx)return au;Zx=1,Object.defineProperty(au,"__esModule",{value:!0}),au.hasConfig=l,au.createClientTokenEndpoint=A;const r=aE(),s=pu(),a=sE(),i=Fd();function l(x){return x.config!==void 0}function u(x){const O=x.match(/status:\s*(\d+)/i)||x.match(/status code\s+(\d+)/i)||x.match(/status\s+(\d+)/i);return O?parseInt(O[1],10):void 0}function o(x){return x.response?{status:x.response.status,isNetworkError:!1}:x.request&&!x.response?{status:void 0,isNetworkError:!0}:{status:void 0,isNetworkError:!1}}function d(x){const O=x instanceof Error?x.message:"Unknown error",C=u(O),w=!1;let b=x;for(let _=0;_<5&&b;_++){if(b&&typeof b=="object"&&"isAxiosError"in b&&b.isAxiosError){const D=o(b);if(D.status!==void 0||D.isNetworkError)return{status:D.status,isNetworkError:D.isNetworkError}}b=b&&typeof b=="object"&&"cause"in b?b.cause:null}return{status:C,isNetworkError:w}}function f(x,O){const C=O||/ECONNREFUSED|ENOTFOUND|ETIMEDOUT|connect|Network Error|network error|getaddrinfo/i.test(x),w=x.includes("Request timeout: Failed to get environment token")||/timeout/i.test(x);return{isNetwork:C,isTimeout:w}}async function p(x,O){const C=new Promise((w,b)=>{setTimeout(()=>b(new Error("Request timeout: Failed to get environment token within 5 seconds")),5e3)});return Promise.race([(0,r.getEnvironmentToken)(O,x),C])}function h(x,O,C,w){const b=x instanceof Error?x.message:"Unknown error";if(b.includes("Origin validation failed")){(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(b,403,O));return}const{status:_,isNetworkError:D}=d(x);if(_){const N=_===401?"Failed to get environment token: Invalid client credentials or application not found":_===403?"Failed to get environment token: Access denied":b;(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(N,_,O));return}const{isNetwork:L,isTimeout:U}=f(b,D);if(L||U){const N=w.getConfig();let F;try{F=(0,s.resolveControllerUrl)(N)}catch{F=N.controllerPrivateUrl||N.controllerUrl||"NOT CONFIGURED"}const Y=L?`Controller is unreachable. URL: ${F}.`:`Controller request timed out. URL: ${F}.`;(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(`Failed to get environment token: ${Y}`,504,O));return}(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(b,500,O))}function m(x,O,C){const w=O.getConfig(),b=w.controllerPublicUrl||w.controllerUrl;return b?{baseUrl:`${x.protocol}://${x.get("host")||"localhost"}`,controllerUrl:b,controllerPublicUrl:w.controllerPublicUrl,clientId:w.clientId,clientTokenUri:C}:null}function S(x,O,C){const w=x.message;if(w.includes("Origin validation failed")){(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(w,403,O));return}if(/timeout/i.test(w)){(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)("Failed to get environment token: Request timed out",504,O));return}(0,i.sendErrorResponse)(C,(0,i.createErrorResponse)(w,500,O))}async function k(x,O,C,w){const b=()=>O.headersSent||O.writableEnded;if(!C.isInitialized()){b()||(0,i.sendErrorResponse)(O,(0,i.createErrorResponse)("MisoClient is not initialized",503,x));return}let _;try{_=await p(x,C)}catch(L){b()||h(L,x,O,C);return}if(!_){b()||(0,i.sendErrorResponse)(O,(0,i.createErrorResponse)("Request timeout: Failed to get environment token",504,x));return}const D={token:_,expiresIn:w.expiresIn};if(w.includeConfig){const L=m(x,C,w.clientTokenUri);if(!L){b()||(0,i.sendErrorResponse)(O,(0,i.createErrorResponse)("Controller URL not configured",500,x));return}D.config=L}b()||O.json(D)}function A(x,O){const C={clientTokenUri:"/api/v1/auth/client-token",expiresIn:1800,includeConfig:!0,...O};return(0,a.asyncHandler)(async(w,b)=>{try{await k(w,b,x,C)}catch(_){!b.headersSent&&!b.writableEnded&&S(_ instanceof Error?_:new Error(String(_)),w,b)}},"createClientTokenEndpoint")}return au}var eR;function tP(){if(eR)return su;eR=1,Object.defineProperty(su,"__esModule",{value:!0}),su.getCachedDataClientConfig=l,su.autoInitializeDataClient=C;const r=m_(),s=Fn(),a=eP();function i(){if(!(0,s.isBrowser)())return null;try{const w=(0,s.getLocalStorage)("miso:dataclient-config");if(!w)return null;const b=JSON.parse(w);return b.expiresAt&&b.expiresAt<Date.now()?((0,s.removeLocalStorage)("miso:dataclient-config"),null):b}catch{return(0,s.removeLocalStorage)("miso:dataclient-config"),null}}function l(){return i()?.config||null}function u(w,b){if((0,s.isBrowser)())try{const _={config:w,expiresAt:Date.now()+b*1e3};(0,s.setLocalStorage)("miso:dataclient-config",JSON.stringify(_))}catch{}}function o(w,b){return/^https?:\/\//i.test(b)?b:`${w}${b}`}function d(w){const b=new AbortController,_=setTimeout(()=>b.abort(),w);return typeof _.unref=="function"&&_.unref(),{controller:b,timeoutId:_}}function f(w,b,_){const D=w instanceof Error?w.message:String(w);return(w instanceof Error?w.name:"Unknown")==="AbortError"||D.includes("aborted")?new Error(`Request timeout: The client token endpoint did not respond within ${_}ms. Please check if the server is running and accessible at ${b}`):D.includes("ERR_EMPTY_RESPONSE")||D.includes("empty response")?new Error(`Connection error: The server closed the connection without sending a response. Please check if the server is running and accessible at ${b}`):D.includes("Failed to fetch")||D.includes("network")?new Error(`Network error: Cannot connect to ${b}. Please check your network connection and ensure the server is running.`):new Error(`Failed to fetch config: ${D}`)}async function p(w,b,_,D){const{controller:L,timeoutId:U}=d(_);try{const N=await fetch(w,{method:b,headers:D,credentials:"include",signal:L.signal});return clearTimeout(U),N}catch(N){throw clearTimeout(U),f(N,w,_)}}async function h(w,b){const _=await p(w,"POST",b,{"Content-Type":"application/json"});return _.status!==405?_:p(w,"GET",b)}function m(w){if(typeof w=="string")return w;if(w&&typeof w=="object"){const b=w;if(typeof b.suggestion=="string")return b.suggestion;if(typeof b.controllerUrl=="string")return`Controller URL: ${b.controllerUrl}`}}async function S(w){const b=await w.json().catch(()=>null);if(!b)return{message:`Failed to fetch config: ${w.status} ${w.statusText}`};const _=(typeof b.message=="string"?b.message:null)||(typeof b.error=="string"?b.error:null)||`Failed to fetch config: ${w.status} ${w.statusText}`,D=b.details?m(b.details):void 0;return{message:_,details:D}}async function k(w){let b=`Failed to fetch config: ${w.status} ${w.statusText}`,_;try{if(w.headers.get("content-type")?.includes("application/json")){const L=await S(w);b=L.message,_=L.details}else{const L=await w.text().catch(()=>"Unable to read error response");L&&L!=="Unable to read error response"&&(b=`${b}. ${L}`)}}catch{const D=await w.text().catch(()=>"");D&&(b=`${b}. ${D}`)}return _?`${b}. ${_}`:b}async function A(w,b){const _=o(w,b),D=3e4;try{const L=await h(_,D);if(!L.ok)throw new Error(await k(L));const U=await L.json();if(!(0,a.hasConfig)(U))throw new Error("Invalid response format: config not found in response. Make sure your server endpoint uses createClientTokenEndpoint() helper.");return U.config}catch(L){throw L instanceof Error?L:new Error(`Network error: ${String(L)}`)}}function x(w){const b=w.baseUrl||((0,s.isBrowser)()?globalThis.window.location.origin:"");if(!b)throw new Error("Unable to detect baseUrl. Please provide baseUrl option.");return b}function O(w){return{baseUrl:w.baseUrl,misoConfig:{clientId:w.clientId,controllerUrl:w.controllerUrl,controllerPublicUrl:w.controllerPublicUrl,clientTokenUri:w.clientTokenUri}}}async function C(w){if(!(0,s.isBrowser)())throw new Error("autoInitializeDataClient() is only available in browser environment");const b={clientTokenUri:w?.clientTokenUri||"/api/v1/auth/client-token",cacheConfig:w?.cacheConfig??!0,baseUrl:w?.baseUrl,onError:w?.onError};try{const _=x(b);let D=b.cacheConfig?i()?.config??null:null;return D||(D=await A(_,b.clientTokenUri),b.cacheConfig&&u(D,1800)),new r.DataClient(O(D))}catch(_){const D=_ instanceof Error?_:new Error(String(_));throw b.onError?.(D),D}}return su}var tR;function rP(){return tR||(tR=1,(function(r){var s=Za&&Za.__createBinding||(Object.create?(function(J,q,M,H){H===void 0&&(H=M);var $=Object.getOwnPropertyDescriptor(q,M);(!$||("get"in $?!q.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return q[M]}}),Object.defineProperty(J,H,$)}):(function(J,q,M,H){H===void 0&&(H=M),J[H]=q[M]})),a=Za&&Za.__exportStar||function(J,q){for(var M in J)M!=="default"&&!Object.prototype.hasOwnProperty.call(q,M)&&s(q,J,M)};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenValidationService=r.getCachedDataClientConfig=r.autoInitializeDataClient=r.dataClient=r.DataClient=r.loggerContextMiddleware=r.hasConfig=r.createClientTokenEndpoint=r.sendErrorResponse=r.getErrorTitle=r.getErrorTypeUri=r.handleRouteError=r.setErrorLogger=r.createErrorResponse=r.createSuccessResponse=r.AppError=r.ValidationHelper=r.asyncHandlerNamed=r.asyncHandler=r.injectResponseHelpers=r.ResponseHelper=r.APPLICATION_STATUS_VALUES=r.EncryptionError=r.EncryptionService=r.handleApiError=r.transformError=r.ApiErrorException=r.MisoClientError=r.extractRequestContext=r.extractLoggingContext=r.validateUrl=r.isBrowser=r.resolveKeycloakUrl=r.resolveControllerUrl=r.extractClientTokenInfo=r.getEnvironmentToken=r.validateOrigin=r.loadConfig=r.LoggerContextStorage=r.getLogger=r.HttpClient=r.CacheService=r.RedisService=r.LoggerService=r.BrowserRoleService=r.BrowserPermissionService=r.PermissionService=r.RoleService=r.AuthService=r.detectAuthMethodFromHeaders=void 0,a(Ov(),r),a(r_(),r),a(n_(),r);var i=Nv();Object.defineProperty(r,"detectAuthMethodFromHeaders",{enumerable:!0,get:function(){return i.detectAuthMethodFromHeaders}});var l=FR();Object.defineProperty(r,"AuthService",{enumerable:!0,get:function(){return l.AuthService}});var u=WR();Object.defineProperty(r,"RoleService",{enumerable:!0,get:function(){return u.RoleService}});var o=JR();Object.defineProperty(r,"PermissionService",{enumerable:!0,get:function(){return o.PermissionService}});var d=i_();Object.defineProperty(r,"BrowserPermissionService",{enumerable:!0,get:function(){return d.BrowserPermissionService}});var f=s_();Object.defineProperty(r,"BrowserRoleService",{enumerable:!0,get:function(){return f.BrowserRoleService}});var p=ud();Object.defineProperty(r,"LoggerService",{enumerable:!0,get:function(){return p.LoggerService}});var h=Rv();Object.defineProperty(r,"RedisService",{enumerable:!0,get:function(){return h.RedisService}});var m=Av();Object.defineProperty(r,"CacheService",{enumerable:!0,get:function(){return m.CacheService}});var S=Hv();Object.defineProperty(r,"HttpClient",{enumerable:!0,get:function(){return S.HttpClient}});var k=gA();Object.defineProperty(r,"getLogger",{enumerable:!0,get:function(){return k.getLogger}});var A=ud();Object.defineProperty(r,"LoggerContextStorage",{enumerable:!0,get:function(){return A.LoggerContextStorage}});var x=kL();Object.defineProperty(r,"loadConfig",{enumerable:!0,get:function(){return x.loadConfig}});var O=Bv();Object.defineProperty(r,"validateOrigin",{enumerable:!0,get:function(){return O.validateOrigin}});var C=IL();Object.defineProperty(r,"getEnvironmentToken",{enumerable:!0,get:function(){return C.getEnvironmentToken}});var w=a_();Object.defineProperty(r,"extractClientTokenInfo",{enumerable:!0,get:function(){return w.extractClientTokenInfo}});var b=bu();Object.defineProperty(r,"resolveControllerUrl",{enumerable:!0,get:function(){return b.resolveControllerUrl}}),Object.defineProperty(r,"resolveKeycloakUrl",{enumerable:!0,get:function(){return b.resolveKeycloakUrl}}),Object.defineProperty(r,"isBrowser",{enumerable:!0,get:function(){return b.isBrowser}}),Object.defineProperty(r,"validateUrl",{enumerable:!0,get:function(){return b.validateUrl}});var _=jL();Object.defineProperty(r,"extractLoggingContext",{enumerable:!0,get:function(){return _.extractLoggingContext}});var D=DL();Object.defineProperty(r,"extractRequestContext",{enumerable:!0,get:function(){return D.extractRequestContext}}),a(LL(),r),a(UL(),r),a(qL(),r),a(HL(),r);var L=hl();Object.defineProperty(r,"MisoClientError",{enumerable:!0,get:function(){return L.MisoClientError}}),Object.defineProperty(r,"ApiErrorException",{enumerable:!0,get:function(){return L.ApiErrorException}}),Object.defineProperty(r,"transformError",{enumerable:!0,get:function(){return L.transformError}}),Object.defineProperty(r,"handleApiError",{enumerable:!0,get:function(){return L.handleApiError}});var U=t_();Object.defineProperty(r,"EncryptionService",{enumerable:!0,get:function(){return U.EncryptionService}});var N=$L();Object.defineProperty(r,"EncryptionError",{enumerable:!0,get:function(){return N.EncryptionError}});var F=BL();Object.defineProperty(r,"APPLICATION_STATUS_VALUES",{enumerable:!0,get:function(){return F.APPLICATION_STATUS_VALUES}});var Y=WL();Object.defineProperty(r,"ResponseHelper",{enumerable:!0,get:function(){return Y.ResponseHelper}}),Object.defineProperty(r,"injectResponseHelpers",{enumerable:!0,get:function(){return Y.injectResponseHelpers}}),Object.defineProperty(r,"asyncHandler",{enumerable:!0,get:function(){return Y.asyncHandler}}),Object.defineProperty(r,"asyncHandlerNamed",{enumerable:!0,get:function(){return Y.asyncHandlerNamed}}),Object.defineProperty(r,"ValidationHelper",{enumerable:!0,get:function(){return Y.ValidationHelper}}),Object.defineProperty(r,"AppError",{enumerable:!0,get:function(){return Y.AppError}}),Object.defineProperty(r,"createSuccessResponse",{enumerable:!0,get:function(){return Y.createSuccessResponse}}),Object.defineProperty(r,"createErrorResponse",{enumerable:!0,get:function(){return Y.createErrorResponse}}),Object.defineProperty(r,"setErrorLogger",{enumerable:!0,get:function(){return Y.setErrorLogger}}),Object.defineProperty(r,"handleRouteError",{enumerable:!0,get:function(){return Y.handleRouteError}}),Object.defineProperty(r,"getErrorTypeUri",{enumerable:!0,get:function(){return Y.getErrorTypeUri}}),Object.defineProperty(r,"getErrorTitle",{enumerable:!0,get:function(){return Y.getErrorTitle}}),Object.defineProperty(r,"sendErrorResponse",{enumerable:!0,get:function(){return Y.sendErrorResponse}}),Object.defineProperty(r,"createClientTokenEndpoint",{enumerable:!0,get:function(){return Y.createClientTokenEndpoint}}),Object.defineProperty(r,"hasConfig",{enumerable:!0,get:function(){return Y.hasConfig}}),Object.defineProperty(r,"loggerContextMiddleware",{enumerable:!0,get:function(){return Y.loggerContextMiddleware}});var se=m_();Object.defineProperty(r,"DataClient",{enumerable:!0,get:function(){return se.DataClient}}),Object.defineProperty(r,"dataClient",{enumerable:!0,get:function(){return se.dataClient}});var ge=tP();Object.defineProperty(r,"autoInitializeDataClient",{enumerable:!0,get:function(){return ge.autoInitializeDataClient}}),Object.defineProperty(r,"getCachedDataClientConfig",{enumerable:!0,get:function(){return ge.getCachedDataClientConfig}});var X=e_();Object.defineProperty(r,"TokenValidationService",{enumerable:!0,get:function(){return X.TokenValidationService}})})(Za)),Za}var rR;function g_(){return rR||(rR=1,(function(r){var s=Ka&&Ka.__createBinding||(Object.create?(function(l,u,o,d){d===void 0&&(d=o);var f=Object.getOwnPropertyDescriptor(u,o);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[o]}}),Object.defineProperty(l,d,f)}):(function(l,u,o,d){d===void 0&&(d=o),l[d]=u[o]})),a=Ka&&Ka.__exportStar||function(l,u){for(var o in l)o!=="default"&&!Object.prototype.hasOwnProperty.call(u,o)&&s(u,l,o)};Object.defineProperty(r,"__esModule",{value:!0}),r.MisoClient=void 0;var i=NL();Object.defineProperty(r,"MisoClient",{enumerable:!0,get:function(){return i.MisoClient}}),a(rP(),r)})(Ka)),Ka}var y_=g_();const v_=ee.createContext(void 0);function nP({children:r,initOptions:s}){const[a,i]=ee.useState(null),[l,u]=ee.useState(!0),[o,d]=ee.useState(null),[f,p]=ee.useState(0),h=3,m=2e3,S=async(O=0)=>{u(!0),d(null);try{const C=await y_.autoInitializeDataClient({clientTokenUri:s?.clientTokenUri,baseUrl:s?.baseUrl,cacheConfig:s?.cacheConfig??!0,onError:w=>{d(w)}});i(C),p(0)}catch(C){const w=C instanceof Error?C:new Error(String(C));if(O<h){const b=O+1;p(b);const _=m*Math.pow(2,O);return await new Promise(D=>setTimeout(D,_)),S(b)}d(w),i(null)}finally{u(!1)}},k=async()=>{p(0),await S(0)},A=O=>{i(O),d(null),u(!1),p(0)};ee.useEffect(()=>{S()},[]);const x=ee.useMemo(()=>({dataClient:a,isLoading:l,error:o,retryCount:f,reinitialize:k,setManualClient:A}),[a,l,o,f]);return v.jsx(v_.Provider,{value:x,children:r})}function yl(){const r=ee.useContext(v_);if(r===void 0)throw new Error("useDataClient must be used within DataClientProvider");return r}function nR(r){if(!r)return null;const s=r.message||String(r);try{const a=r;if(a.response?.data){const i=a.response.data;if(typeof i=="object"&&i!==null){const l=i,u=l.title&&typeof l.title=="string"?l.title:"Error",o=l.detail&&typeof l.detail=="string"?l.detail:u;if(l.title||l.detail)return{title:u,detail:o}}}}catch{}try{const a=s.indexOf("{");if(a!==-1){let i=0,l=-1;for(let u=a;u<s.length;u++)if(s[u]==="{"&&i++,s[u]==="}"&&(i--,i===0)){l=u;break}if(l!==-1){const u=s.substring(a,l+1),o=JSON.parse(u);if(o.title||o.detail){const d=o.title&&typeof o.title=="string"?o.title:"Error",f=o.detail&&typeof o.detail=="string"?o.detail:d;return{title:d,detail:f}}if(o.message&&typeof o.message=="string")return{title:"Error",detail:o.message};if(o.error&&typeof o.error=="string")return{title:"Error",detail:o.error}}}}catch{}return s.includes("ERR_EMPTY_RESPONSE")||s.includes("empty response")||s.includes("Connection error")?{title:"Connection Error",detail:"The server closed the connection without sending a response. Please check if the server is running and accessible."}:s.includes("timeout")||s.includes("Timeout")||s.includes("did not respond within")?{title:"Timeout Error",detail:"Request timed out. Please check your network connection and ensure the server is running."}:s.includes("Network")||s.includes("Failed to fetch")||s.includes("network")?{title:"Network Error",detail:"Unable to connect to server. Please check if the server is running and accessible."}:s.includes("CORS")||s.includes("cross-origin")||s.includes("CORS policy")?{title:"CORS Error",detail:"Cross-origin request blocked. Please check CORS configuration on the server."}:s.includes("ECONNREFUSED")||s.includes("connection refused")?{title:"Connection Error",detail:"Connection refused. Please check if the server is running and accessible."}:s.includes("ENOTFOUND")||s.includes("getaddrinfo")?{title:"Connection Error",detail:"Unable to resolve server address. Please check the server URL configuration."}:null}function $t(r){return r instanceof Error?r.message:typeof r=="string"?r:"Unknown error occurred"}function $y(r){const s=r;return s?.status||s?.response?.status||null}function iR(){const{dataClient:r,error:s,isLoading:a,reinitialize:i}=yl(),[l,u]=ee.useState(!1),[o,d]=ee.useState(null),f=()=>{const D=y_.getCachedDataClientConfig();return D?{baseUrl:D.baseUrl||"",controllerUrl:D.controllerUrl||"",clientId:D.clientId||"",clientTokenUri:D.clientTokenUri}:null};ee.useEffect(()=>{if(r){const D=f();d(D||{baseUrl:typeof window<"u"?window.location.origin:"http://localhost:3183",controllerUrl:"",clientId:""})}else d(null)},[r]);const p=async()=>{u(!0);try{await i();const D=f();D&&d(D),Ce.success("DataClient initialized successfully",{description:"Configuration fetched from server endpoint"})}catch(D){const L=D instanceof Error?D:new Error($t(D)),U=nR(L),N=U?.title||"Failed to initialize DataClient",F=U?.detail||L.message||"Unknown error occurred";Ce.error(N,{description:F,duration:5e3})}finally{u(!1)}},h=!!r,m=o?.baseUrl||(typeof window<"u"?window.location.origin:""),S=o?.controllerUrl||"Not set",k=o?.clientId||"Not set",A=s?nR(s):null,x=A?.title||(s?"Error":null),O=A?.detail||(s?s.message:null),C=A!==null,w=!a&&!l,b=w&&s&&x&&O,_=w&&h&&!s;return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"border-b border-border bg-white",children:v.jsxs("div",{className:"px-8 py-6",children:[v.jsx("h1",{className:"text-2xl",children:"Configuration"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Initialize and configure the Data Client connection"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-8",children:v.jsxs("div",{className:"max-w-4xl space-y-6",children:[b&&v.jsx(_e,{className:"border-red-200 bg-red-50",children:v.jsx(Oe,{className:"pt-6",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx($N,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-medium text-red-900 mb-1",children:x}),v.jsx("p",{className:`text-sm text-red-700 ${C?"":"font-mono break-all"}`,children:O})]})]})})}),_&&v.jsx(_e,{className:"border-green-200 bg-green-50",children:v.jsx(Oe,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(dR,{className:"w-6 h-6 text-green-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-green-900",children:"DataClient Initialized"}),v.jsx("p",{className:"text-sm text-green-700",children:"Ready to make API requests"})]})]})})}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:v.jsx(u2,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx(ke,{children:"Zero-Config Setup"}),v.jsx(Fe,{children:"Automatically fetch configuration from server (Recommended)"})]})]})}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:p,disabled:a||l,className:"w-full",size:"lg",children:l?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Initializing..."]}):v.jsxs(v.Fragment,{children:["Auto-Initialize DataClient",v.jsx(UN,{className:"w-4 h-4 ml-2"})]})})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:v.jsx(hR,{className:"w-5 h-5 text-muted-foreground"})}),v.jsxs("div",{children:[v.jsx(ke,{children:"Configuration Settings"}),v.jsx(Fe,{children:"Configure settings via environment variables"})]})]})}),v.jsx(Oe,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("p",{className:"text-sm text-muted-foreground",children:["You can change configuration settings by editing the ",v.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file in the root directory:"]}),v.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-xs space-y-1",children:[v.jsx("div",{className:"text-muted-foreground",children:"# Application port (default: 3083)"}),v.jsx("div",{className:"text-muted-foreground",children:"PORT=3183"}),v.jsx("div",{className:"text-muted-foreground",children:"# MISO Application Client Credentials (per application)"}),v.jsx("div",{children:"MISO_CLIENTID=miso-controller-dev-miso-test"}),v.jsx("div",{children:"MISO_CLIENTSECRET=your-secret-here"}),v.jsx("div",{className:"text-muted-foreground",children:"# MISO Controller URL"}),v.jsx("div",{children:"MISO_CONTROLLER_URL=http://localhost:3000"})]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["After modifying the ",v.jsx("code",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:".env"})," file, restart the server for changes to take effect."]})]})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Connection Information"}),v.jsx(Fe,{children:"Current configuration settings"})]}),v.jsx(Oe,{children:v.jsxs("div",{className:"space-y-3 text-sm",children:[v.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[v.jsx("span",{className:"text-muted-foreground",children:"Status"}),v.jsx("span",{className:h?"text-green-600 font-medium":"text-muted-foreground",children:h?"Connected":"Not Initialized"})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[v.jsx("span",{className:"text-muted-foreground",children:"Base URL"}),v.jsx("span",{className:"font-mono text-xs",children:m})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[v.jsx("span",{className:"text-muted-foreground",children:"Controller URL"}),v.jsx("span",{className:"font-mono text-xs",children:S})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[v.jsx("span",{className:"text-muted-foreground",children:"Client ID"}),v.jsx("span",{className:"font-mono text-xs",children:k})]}),o?.clientTokenUri&&v.jsxs("div",{className:"flex justify-between py-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"Client Token URI"}),v.jsx("span",{className:"font-mono text-xs",children:o.clientTokenUri})]})]})})]})]})})]})}function Ts(r,s,{checkForDefaultPrevented:a=!0}={}){return function(l){if(r?.(l),a===!1||!l.defaultPrevented)return s?.(l)}}function oE(r,s=[]){let a=[];function i(u,o){const d=ee.createContext(o),f=a.length;a=[...a,o];const p=m=>{const{scope:S,children:k,...A}=m,x=S?.[r]?.[f]||d,O=ee.useMemo(()=>A,Object.values(A));return v.jsx(x.Provider,{value:O,children:k})};p.displayName=u+"Provider";function h(m,S){const k=S?.[r]?.[f]||d,A=ee.useContext(k);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${u}\``)}return[p,h]}const l=()=>{const u=a.map(o=>ee.createContext(o));return function(d){const f=d?.[r]||u;return ee.useMemo(()=>({[`__scope${r}`]:{...d,[r]:f}}),[d,f])}};return l.scopeName=r,[i,iP(l,...s)]}function iP(...r){const s=r[0];if(r.length===1)return s;const a=()=>{const i=r.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(u){const o=i.reduce((d,{useScope:f,scopeName:p})=>{const m=f(u)[`__scope${p}`];return{...d,...m}},{});return ee.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return a.scopeName=s.scopeName,a}function iv(r){const s=sP(r),a=ee.forwardRef((i,l)=>{const{children:u,...o}=i,d=ee.Children.toArray(u),f=d.find(oP);if(f){const p=f.props.children,h=d.map(m=>m===f?ee.Children.count(p)>1?ee.Children.only(null):ee.isValidElement(p)?p.props.children:null:m);return v.jsx(s,{...o,ref:l,children:ee.isValidElement(p)?ee.cloneElement(p,void 0,h):null})}return v.jsx(s,{...o,ref:l,children:u})});return a.displayName=`${r}.Slot`,a}function sP(r){const s=ee.forwardRef((a,i)=>{const{children:l,...u}=a;if(ee.isValidElement(l)){const o=cP(l),d=lP(u,l.props);return l.type!==ee.Fragment&&(d.ref=i?cv(i,o):o),ee.cloneElement(l,d)}return ee.Children.count(l)>1?ee.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var aP=Symbol("radix.slottable");function oP(r){return ee.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===aP}function lP(r,s){const a={...s};for(const i in s){const l=r[i],u=s[i];/^on[A-Z]/.test(i)?l&&u?a[i]=(...d)=>{const f=u(...d);return l(...d),f}:l&&(a[i]=l):i==="style"?a[i]={...l,...u}:i==="className"&&(a[i]=[l,u].filter(Boolean).join(" "))}return{...r,...a}}function cP(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}function uP(r){const s=r+"CollectionProvider",[a,i]=oE(s),[l,u]=a(s,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:O,children:C}=x,w=ee.useRef(null),b=ee.useRef(new Map).current;return v.jsx(l,{scope:O,itemMap:b,collectionRef:w,children:C})};o.displayName=s;const d=r+"CollectionSlot",f=iv(d),p=ee.forwardRef((x,O)=>{const{scope:C,children:w}=x,b=u(d,C),_=ad(O,b.collectionRef);return v.jsx(f,{ref:_,children:w})});p.displayName=d;const h=r+"CollectionItemSlot",m="data-radix-collection-item",S=iv(h),k=ee.forwardRef((x,O)=>{const{scope:C,children:w,...b}=x,_=ee.useRef(null),D=ad(O,_),L=u(h,C);return ee.useEffect(()=>(L.itemMap.set(_,{ref:_,...b}),()=>{L.itemMap.delete(_)})),v.jsx(S,{[m]:"",ref:D,children:w})});k.displayName=h;function A(x){const O=u(r+"CollectionConsumer",x);return ee.useCallback(()=>{const w=O.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(O.itemMap.values()).sort((L,U)=>b.indexOf(L.ref.current)-b.indexOf(U.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:o,Slot:p,ItemSlot:k},A,i]}var yd=globalThis?.document?ee.useLayoutEffect:()=>{},fP=lv[" useId ".trim().toString()]||(()=>{}),dP=0;function E_(r){const[s,a]=ee.useState(fP());return yd(()=>{a(i=>i??String(dP++))},[r]),r||(s?`radix-${s}`:"")}var hP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vl=hP.reduce((r,s)=>{const a=iv(`Primitive.${s}`),i=ee.forwardRef((l,u)=>{const{asChild:o,...d}=l,f=o?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...d,ref:u})});return i.displayName=`Primitive.${s}`,{...r,[s]:i}},{});function pP(r){const s=ee.useRef(r);return ee.useEffect(()=>{s.current=r}),ee.useMemo(()=>(...a)=>s.current?.(...a),[])}var mP=lv[" useInsertionEffect ".trim().toString()]||yd;function b_({prop:r,defaultProp:s,onChange:a=()=>{},caller:i}){const[l,u,o]=gP({defaultProp:s,onChange:a}),d=r!==void 0,f=d?r:l;{const h=ee.useRef(r!==void 0);ee.useEffect(()=>{const m=h.current;m!==d&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=d},[d,i])}const p=ee.useCallback(h=>{if(d){const m=yP(h)?h(r):h;m!==r&&o.current?.(m)}else u(h)},[d,r,u,o]);return[f,p]}function gP({defaultProp:r,onChange:s}){const[a,i]=ee.useState(r),l=ee.useRef(a),u=ee.useRef(s);return mP(()=>{u.current=s},[s]),ee.useEffect(()=>{l.current!==a&&(u.current?.(a),l.current=a)},[a,l]),[a,i,u]}function yP(r){return typeof r=="function"}var vP=ee.createContext(void 0);function S_(r){const s=ee.useContext(vP);return r||s||"ltr"}var By="rovingFocusGroup.onEntryFocus",EP={bubbles:!1,cancelable:!0},Au="RovingFocusGroup",[sv,w_,bP]=uP(Au),[SP,T_]=oE(Au,[bP]),[wP,TP]=SP(Au),C_=ee.forwardRef((r,s)=>v.jsx(sv.Provider,{scope:r.__scopeRovingFocusGroup,children:v.jsx(sv.Slot,{scope:r.__scopeRovingFocusGroup,children:v.jsx(CP,{...r,ref:s})})}));C_.displayName=Au;var CP=ee.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:a,orientation:i,loop:l=!1,dir:u,currentTabStopId:o,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:h=!1,...m}=r,S=ee.useRef(null),k=ad(s,S),A=S_(u),[x,O]=b_({prop:o,defaultProp:d??null,onChange:f,caller:Au}),[C,w]=ee.useState(!1),b=pP(p),_=w_(a),D=ee.useRef(!1),[L,U]=ee.useState(0);return ee.useEffect(()=>{const N=S.current;if(N)return N.addEventListener(By,b),()=>N.removeEventListener(By,b)},[b]),v.jsx(wP,{scope:a,orientation:i,dir:A,loop:l,currentTabStopId:x,onItemFocus:ee.useCallback(N=>O(N),[O]),onItemShiftTab:ee.useCallback(()=>w(!0),[]),onFocusableItemAdd:ee.useCallback(()=>U(N=>N+1),[]),onFocusableItemRemove:ee.useCallback(()=>U(N=>N-1),[]),children:v.jsx(vl.div,{tabIndex:C||L===0?-1:0,"data-orientation":i,...m,ref:k,style:{outline:"none",...r.style},onMouseDown:Ts(r.onMouseDown,()=>{D.current=!0}),onFocus:Ts(r.onFocus,N=>{const F=!D.current;if(N.target===N.currentTarget&&F&&!C){const Y=new CustomEvent(By,EP);if(N.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const se=_().filter(M=>M.focusable),ge=se.find(M=>M.active),X=se.find(M=>M.id===x),q=[ge,X,...se].filter(Boolean).map(M=>M.ref.current);A_(q,h)}}D.current=!1}),onBlur:Ts(r.onBlur,()=>w(!1))})})}),x_="RovingFocusGroupItem",R_=ee.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:a,focusable:i=!0,active:l=!1,tabStopId:u,children:o,...d}=r,f=E_(),p=u||f,h=TP(x_,a),m=h.currentTabStopId===p,S=w_(a),{onFocusableItemAdd:k,onFocusableItemRemove:A,currentTabStopId:x}=h;return ee.useEffect(()=>{if(i)return k(),()=>A()},[i,k,A]),v.jsx(sv.ItemSlot,{scope:a,id:p,focusable:i,active:l,children:v.jsx(vl.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...d,ref:s,onMouseDown:Ts(r.onMouseDown,O=>{i?h.onItemFocus(p):O.preventDefault()}),onFocus:Ts(r.onFocus,()=>h.onItemFocus(p)),onKeyDown:Ts(r.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){h.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const C=AP(O,h.orientation,h.dir);if(C!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let b=S().filter(_=>_.focusable).map(_=>_.ref.current);if(C==="last")b.reverse();else if(C==="prev"||C==="next"){C==="prev"&&b.reverse();const _=b.indexOf(O.currentTarget);b=h.loop?_P(b,_+1):b.slice(_+1)}setTimeout(()=>A_(b))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});R_.displayName=x_;var xP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RP(r,s){return s!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function AP(r,s,a){const i=RP(r.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return xP[i]}function A_(r,s=!1){const a=document.activeElement;for(const i of r)if(i===a||(i.focus({preventScroll:s}),document.activeElement!==a))return}function _P(r,s){return r.map((a,i)=>r[(s+i)%r.length])}var OP=C_,NP=R_;function kP(r,s){return ee.useReducer((a,i)=>s[a][i]??a,r)}var __=r=>{const{present:s,children:a}=r,i=IP(s),l=typeof a=="function"?a({present:i.isPresent}):ee.Children.only(a),u=ad(i.ref,jP(l));return typeof a=="function"||i.isPresent?ee.cloneElement(l,{ref:u}):null};__.displayName="Presence";function IP(r){const[s,a]=ee.useState(),i=ee.useRef(null),l=ee.useRef(r),u=ee.useRef("none"),o=r?"mounted":"unmounted",[d,f]=kP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ee.useEffect(()=>{const p=ed(i.current);u.current=d==="mounted"?p:"none"},[d]),yd(()=>{const p=i.current,h=l.current;if(h!==r){const S=u.current,k=ed(p);r?f("MOUNT"):k==="none"||p?.display==="none"?f("UNMOUNT"):f(h&&S!==k?"ANIMATION_OUT":"UNMOUNT"),l.current=r}},[r,f]),yd(()=>{if(s){let p;const h=s.ownerDocument.defaultView??window,m=k=>{const x=ed(i.current).includes(CSS.escape(k.animationName));if(k.target===s&&x&&(f("ANIMATION_END"),!l.current)){const O=s.style.animationFillMode;s.style.animationFillMode="forwards",p=h.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=O)})}},S=k=>{k.target===s&&(u.current=ed(i.current))};return s.addEventListener("animationstart",S),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{h.clearTimeout(p),s.removeEventListener("animationstart",S),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[s,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:ee.useCallback(p=>{i.current=p?getComputedStyle(p):null,a(p)},[])}}function ed(r){return r?.animationName||"none"}function jP(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}var Gd="Tabs",[DP]=oE(Gd,[T_]),O_=T_(),[LP,lE]=DP(Gd),N_=ee.forwardRef((r,s)=>{const{__scopeTabs:a,value:i,onValueChange:l,defaultValue:u,orientation:o="horizontal",dir:d,activationMode:f="automatic",...p}=r,h=S_(d),[m,S]=b_({prop:i,onChange:l,defaultProp:u??"",caller:Gd});return v.jsx(LP,{scope:a,baseId:E_(),value:m,onValueChange:S,orientation:o,dir:h,activationMode:f,children:v.jsx(vl.div,{dir:h,"data-orientation":o,...p,ref:s})})});N_.displayName=Gd;var k_="TabsList",I_=ee.forwardRef((r,s)=>{const{__scopeTabs:a,loop:i=!0,...l}=r,u=lE(k_,a),o=O_(a);return v.jsx(OP,{asChild:!0,...o,orientation:u.orientation,dir:u.dir,loop:i,children:v.jsx(vl.div,{role:"tablist","aria-orientation":u.orientation,...l,ref:s})})});I_.displayName=k_;var j_="TabsTrigger",D_=ee.forwardRef((r,s)=>{const{__scopeTabs:a,value:i,disabled:l=!1,...u}=r,o=lE(j_,a),d=O_(a),f=U_(o.baseId,i),p=M_(o.baseId,i),h=i===o.value;return v.jsx(NP,{asChild:!0,...d,focusable:!l,active:h,children:v.jsx(vl.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:f,...u,ref:s,onMouseDown:Ts(r.onMouseDown,m=>{!l&&m.button===0&&m.ctrlKey===!1?o.onValueChange(i):m.preventDefault()}),onKeyDown:Ts(r.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(i)}),onFocus:Ts(r.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!l&&m&&o.onValueChange(i)})})})});D_.displayName=j_;var L_="TabsContent",P_=ee.forwardRef((r,s)=>{const{__scopeTabs:a,value:i,forceMount:l,children:u,...o}=r,d=lE(L_,a),f=U_(d.baseId,i),p=M_(d.baseId,i),h=i===d.value,m=ee.useRef(h);return ee.useEffect(()=>{const S=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(S)},[]),v.jsx(__,{present:l||h,children:({present:S})=>v.jsx(vl.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!S,id:p,tabIndex:0,...o,ref:s,style:{...r.style,animationDuration:m.current?"0s":void 0},children:S&&u})})});P_.displayName=L_;function U_(r,s){return`${r}-trigger-${s}`}function M_(r,s){return`${r}-content-${s}`}var PP=N_,UP=I_,MP=D_,qP=P_;function Vd({className:r,...s}){return v.jsx(PP,{"data-slot":"tabs",className:Gn("flex flex-col gap-2",r),...s})}function Wd({className:r,...s}){return v.jsx(UP,{"data-slot":"tabs-list",className:Gn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...s})}function Fr({className:r,...s}){return v.jsx(MP,{"data-slot":"tabs-trigger",className:Gn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s})}function Gr({className:r,...s}){return v.jsx(qP,{"data-slot":"tabs-content",className:Gn("flex-1 outline-none",r),...s})}function HP(r,s){const[a,i]=ee.useState(!1),[l,u]=ee.useState(null),o=async(U,N,F)=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{let Y;switch(U){case"GET":Y=await r.get(N,{cache:{enabled:!1}});break;case"POST":Y=await r.post(N,F);break;case"PUT":Y=await r.put(N,F);break;case"PATCH":Y=await r.patch(N,F);break;case"DELETE":Y=await r.delete(N);break;default:throw new Error(`Unsupported method: ${U}`)}u({method:U,endpoint:N,status:200,timestamp:new Date().toISOString(),data:Y}),Ce.success(`${U} ${N} successful`)}catch(Y){const se=$t(Y),ge=$y(Y)||"ERROR";u({method:U,endpoint:N,error:se,status:ge,timestamp:new Date().toISOString()}),Ce.error("Request failed",{description:se})}finally{i(!1)}};return{loading:a,result:l,isDisabled:a||s||!r,httpMethods:{testGet:()=>{o("GET","/api/users")},testGetById:()=>{o("GET","/api/users/1")},testPost:()=>{o("POST","/api/users",{name:"New User",email:"newuser@example.com"})},testPut:()=>{o("PUT","/api/users/1",{name:"John Doe Updated",email:"john.updated@example.com"})},testPatch:()=>{o("PATCH","/api/users/1",{email:"john.patched@example.com"})},testDelete:()=>{o("DELETE","/api/users/1")}},auth:{testIsAuthenticated:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=r.isAuthenticated();u({authenticated:U,timestamp:new Date().toISOString()}),Ce.success(U?"User is authenticated":"User is not authenticated")}catch(U){const N=$t(U);Ce.error("Failed to check authentication",{description:N})}finally{i(!1)}},testGetToken:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=await r.getEnvironmentToken();u({token:U||"No token available",timestamp:new Date().toISOString()}),Ce.success("Token retrieved successfully")}catch(U){const N=$t(U);Ce.error("Failed to get token",{description:N})}finally{i(!1)}},testGetClientTokenInfo:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=r.getClientTokenInfo();u({tokenInfo:U||"No token info available",timestamp:new Date().toISOString()}),Ce.success("Token info retrieved successfully")}catch(U){const N=$t(U);Ce.error("Failed to get token info",{description:N})}finally{i(!1)}},testGetUser:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=await r.getUser();if(!U){Ce.error("No user info available. Please login first."),u({error:"No user info available. User may not be authenticated. Please login first.",timestamp:new Date().toISOString()});return}u({userInfo:U,timestamp:new Date().toISOString()}),Ce.success("User info retrieved successfully")}catch(U){const N=$t(U),F=$y(U);F===401?Ce.error("Authentication failed",{description:"Token is invalid or expired. Please login again."}):Ce.error("Failed to get user info",{description:N}),u({error:N,status:F,timestamp:new Date().toISOString()})}finally{i(!1)}},testLogout:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{await r.logout(),u({message:"User logged out successfully",timestamp:new Date().toISOString()}),Ce.success("Logged out successfully")}catch(U){const N=$t(U);Ce.error("Logout failed",{description:N})}finally{i(!1)}},testRedirectToLogin:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{u({message:"Redirecting to login... (Page will redirect to miso-controller login endpoint)",timestamp:new Date().toISOString()}),await r.redirectToLogin()}catch(U){const N=$t(U);u({error:N,timestamp:new Date().toISOString()}),Ce.error("Redirect to login failed",{description:N}),i(!1)}}},errors:{testNetworkError:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{await r.get("/api/invalid-endpoint-that-does-not-exist-12345",{cache:{enabled:!1}})}catch(U){const N=$t(U);u({error:N,type:"NETWORK_ERROR",message:N,timestamp:new Date().toISOString()}),Ce.error("Network error occurred",{description:N})}finally{i(!1)}},testTimeout:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{await r.get("/api/slow-endpoint",{cache:{enabled:!1},timeout:100})}catch(U){const N=$t(U);u({error:N,type:"TIMEOUT_ERROR",message:N,timestamp:new Date().toISOString()}),Ce.error("Request timeout occurred",{description:N})}finally{i(!1)}},testApiError:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{await r.post("/api/users",{invalid:"data"})}catch(U){const N=$t(U),F=$y(U);u({error:N,status:F||400,details:U.response?.data||N,timestamp:new Date().toISOString()}),Ce.error("API error occurred",{description:N})}finally{i(!1)}}}}}function $P({isDisabled:r,httpMethods:s}){return v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"GET Requests"}),v.jsx(Fe,{children:"Retrieve data from the server"})]}),v.jsxs(Oe,{className:"space-y-2",children:[v.jsx(Qe,{onClick:s.testGet,disabled:r,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users"}),v.jsx(Qe,{onClick:s.testGetById,disabled:r,className:"w-full bg-green-600 hover:bg-green-700",children:"GET /api/users/:id"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"POST Requests"}),v.jsx(Fe,{children:"Create new resources"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testPost,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700",children:"POST /api/users"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"PUT Requests"}),v.jsx(Fe,{children:"Update existing resources"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testPut,disabled:r,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PUT /api/users/:id"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"PATCH Requests"}),v.jsx(Fe,{children:"Partially update resources"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testPatch,disabled:r,className:"w-full bg-orange-600 hover:bg-orange-700",children:"PATCH /api/users/:id"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"DELETE Requests"}),v.jsx(Fe,{children:"Remove resources"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testDelete,disabled:r,variant:"destructive",className:"w-full",children:"DELETE /api/users/:id"})})]})]})}function BP({isDisabled:r,auth:s}){return v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check Authentication"}),v.jsx(Fe,{children:"Verify user authentication status"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testIsAuthenticated,disabled:r,className:"w-full",children:"isAuthenticated()"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Get Token"}),v.jsx(Fe,{children:"Retrieve environment token"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testGetToken,disabled:r,className:"w-full",children:"getEnvironmentToken()"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Get Token Info"}),v.jsx(Fe,{children:"Get client token information"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testGetClientTokenInfo,disabled:r,className:"w-full",children:"getClientTokenInfo()"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Get User"}),v.jsx(Fe,{children:"Get current user information"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testGetUser,disabled:r,className:"w-full !bg-purple-600 hover:!bg-purple-700 !text-white",children:"getUser()"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Logout"}),v.jsx(Fe,{children:"End user session"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testLogout,disabled:r,variant:"destructive",className:"w-full",children:"logout()"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Redirect to Login"}),v.jsx(Fe,{children:"Redirect to miso-controller login page"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testRedirectToLogin,disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700",children:"redirectToLogin()"})})]})]})}function zP({isDisabled:r,errors:s}){return v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Network Error"}),v.jsx(Fe,{children:"Simulate connection failure"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testNetworkError,disabled:r,variant:"destructive",className:"w-full",children:"Test Network Error"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Timeout Error"}),v.jsx(Fe,{children:"Simulate request timeout"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testTimeout,disabled:r,variant:"destructive",className:"w-full",children:"Test Timeout"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"API Error (400)"}),v.jsx(Fe,{children:"Simulate validation error"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:s.testApiError,disabled:r,variant:"destructive",className:"w-full",children:"Test API Error"})})]})]})}function KP(){const{dataClient:r,isLoading:s}=yl(),{result:a,isDisabled:i,httpMethods:l,auth:u,errors:o}=HP(r,s);return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"border-b border-border bg-white",children:v.jsxs("div",{className:"px-8 py-6",children:[v.jsx("h1",{className:"text-2xl",children:"API Testing"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Test HTTP methods, authentication, and error handling"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-8",children:v.jsxs("div",{className:"max-w-6xl",children:[v.jsxs(Vd,{defaultValue:"http",className:"space-y-6",children:[v.jsxs(Wd,{children:[v.jsx(Fr,{value:"http",children:"HTTP Methods"}),v.jsx(Fr,{value:"auth",children:"Authentication"}),v.jsx(Fr,{value:"errors",children:"Error Handling"})]}),v.jsx(Gr,{value:"http",className:"space-y-6",children:v.jsx($P,{isDisabled:i,httpMethods:l})}),v.jsx(Gr,{value:"auth",className:"space-y-6",children:v.jsx(BP,{isDisabled:i,auth:u})}),v.jsx(Gr,{value:"errors",className:"space-y-6",children:v.jsx(zP,{isDisabled:i,errors:o})})]}),a&&v.jsxs(_e,{className:"mt-6",children:[v.jsx(Ne,{children:v.jsx(ke,{className:"text-lg",children:"Response"})}),v.jsx(Oe,{children:v.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(a,null,2)})})]})]})})]})}function ao({className:r,type:s,...a}){return v.jsx("input",{type:s,"data-slot":"input",className:Gn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}var FP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GP=FP.reduce((r,s)=>{const a=mR(`Primitive.${s}`),i=ee.forwardRef((l,u)=>{const{asChild:o,...d}=l,f=o?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...d,ref:u})});return i.displayName=`Primitive.${s}`,{...r,[s]:i}},{}),VP="Label",q_=ee.forwardRef((r,s)=>v.jsx(GP.label,{...r,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(r.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));q_.displayName=VP;var WP=q_;function ws({className:r,...s}){return v.jsx(WP,{"data-slot":"label",className:Gn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}function JP(){const{dataClient:r,isLoading:s}=yl(),[a,i]=ee.useState(!1),[l,u]=ee.useState(null),[o,d]=ee.useState("60000"),f=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const A=Date.now(),x=await r.get("/api/users",{cache:{enabled:!0,ttl:parseInt(o,10)}}),O=Date.now()-A;u({data:x,cached:O<100,cacheKey:"GET:/api/users",ttl:o+"ms",duration:O+"ms",timestamp:new Date().toISOString()}),Ce.success("Data retrieved",{description:O<100?"Response served from cache":"Fetched from server"})}catch(A){const x=A instanceof Error?A.message:"Unknown error";Ce.error("Request failed",{description:x})}finally{i(!1)}},p=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const A=Date.now(),x=await r.get("/api/users",{cache:{enabled:!1}}),O=Date.now()-A;u({data:x,cached:!1,duration:O+"ms",timestamp:new Date().toISOString()}),Ce.success("Fresh data retrieved",{description:"Cache bypassed, fetched from server"})}catch(A){const x=A instanceof Error?A.message:"Unknown error";Ce.error("Request failed",{description:x})}finally{i(!1)}},h=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{r.clearCache();const A=r.getMetrics();u({message:"Cache cleared successfully",cacheHitRate:A.cacheHitRate,timestamp:new Date().toISOString()}),Ce.success("Cache cleared",{description:"All cache entries removed"})}catch(A){const x=A instanceof Error?A.message:"Unknown error";Ce.error("Failed to clear cache",{description:x})}finally{i(!1)}},m=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{r.setInterceptors({onRequest:async(x,O)=>({...O,headers:{...O.headers,"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}})});const A={url:"/api/users",method:"GET"};await r.get("/api/users",{cache:{enabled:!1}}),u({interceptor:"request",originalRequest:A,modifiedRequest:{...A,headers:{"X-Custom-Header":"intercepted","Cache-Control":"max-age=3600"}},timestamp:new Date().toISOString()}),Ce.success("Request interceptor applied")}catch(A){const x=A instanceof Error?A.message:"Unknown error";Ce.error("Interceptor test failed",{description:x})}finally{i(!1)}},S=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{Ce.info("Attempting request with retries...");const A=Date.now();await r.get("/api/users",{cache:{enabled:!1}});const x=Date.now()-A;u({message:"Request succeeded",duration:x+"ms",retries:"Automatic retries handled by DataClient",timestamp:new Date().toISOString()}),Ce.success("Request completed")}catch(A){const x=A instanceof Error?A.message:"Unknown error";u({error:x,retries:"Retry logic attempted",timestamp:new Date().toISOString()}),Ce.error("Request failed after retries",{description:x})}finally{i(!1)}},k=a||s||!r;return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"border-b border-border bg-white",children:v.jsxs("div",{className:"px-8 py-6",children:[v.jsx("h1",{className:"text-2xl",children:"Caching & Storage"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Test caching mechanisms, interceptors, and retry logic"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-8",children:v.jsxs("div",{className:"max-w-6xl space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:v.jsx(Ky,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{children:[v.jsx(ke,{className:"text-lg",children:"Cache Enabled"}),v.jsx(Fe,{children:"Retrieve data with caching"})]})]})}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"cacheTTL",children:"Cache TTL (milliseconds)"}),v.jsx(ao,{id:"cacheTTL",type:"number",value:o,onChange:A=>d(A.target.value),placeholder:"60000"})]}),v.jsxs(Qe,{onClick:f,disabled:k,className:"w-full bg-green-600 hover:bg-green-700",children:[v.jsx(Ky,{className:"w-4 h-4 mr-2"}),"GET with Cache"]})]})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:v.jsx(sd,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx(ke,{className:"text-lg",children:"Cache Bypassed"}),v.jsx(Fe,{children:"Fetch fresh data from server"})]})]})}),v.jsx(Oe,{children:v.jsxs(Qe,{onClick:p,disabled:k,className:"w-full bg-blue-600 hover:bg-blue-700",children:[v.jsx(sd,{className:"w-4 h-4 mr-2"}),"GET without Cache"]})})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Cache Management"}),v.jsx(Fe,{children:"Clear cache entries"})]}),v.jsx(Oe,{className:"space-y-4",children:v.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.jsxs(Qe,{onClick:h,disabled:k,variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[v.jsx(Gy,{className:"w-4 h-4 mr-2"}),"Clear All Cache"]})})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Request Interceptors"}),v.jsx(Fe,{children:"Modify requests before sending"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:m,disabled:k,className:"w-full",children:"Test Request Interceptor"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Retry Logic"}),v.jsx(Fe,{children:"Automatic retry on failures"})]}),v.jsx(Oe,{children:v.jsx(Qe,{onClick:S,disabled:k,className:"w-full",children:"Test Retry Mechanism"})})]})]}),l&&v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{className:"text-lg",children:"Response"})}),v.jsx(Oe,{children:v.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(l,null,2)})})]})]})})]})}function YP(){const{dataClient:r,isLoading:s}=yl(),[a,i]=ee.useState(!1),[l,u]=ee.useState(null),[o,d]=ee.useState([]),f=()=>{if(r)try{const O=r.getMetrics();u({totalRequests:O.totalRequests,successfulRequests:O.totalRequests-O.totalFailures,failedRequests:O.totalFailures,cacheHits:Math.round(O.cacheHitRate*O.totalRequests*.3),cacheMisses:Math.round(O.totalRequests*.7),averageResponseTime:Math.round(O.averageResponseTime),cacheHitRate:O.cacheHitRate,errorRate:O.errorRate})}catch(O){console.error("Failed to load metrics:",O)}};ee.useEffect(()=>{r&&f()},[r]);const p=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{f(),Ce.success("Metrics retrieved successfully")}catch(O){const C=O instanceof Error?O.message:"Unknown error";Ce.error("Failed to get metrics",{description:C})}finally{i(!1)}},h=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{Ce.info("Making multiple requests...");const O=Date.now(),C=[r.get("/api/users",{cache:{enabled:!1}}).catch(()=>null),r.get("/api/products",{cache:{enabled:!1}}).catch(()=>null),r.get("/api/orders",{cache:{enabled:!1}}).catch(()=>null)];await Promise.all(C);const w=Date.now()-O,b=[{endpoint:"/api/users",status:200,duration:`${Math.round(w/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/products",status:200,duration:`${Math.round(w/3)}ms`,timestamp:new Date().toISOString()},{endpoint:"/api/orders",status:200,duration:`${Math.round(w/3)}ms`,timestamp:new Date().toISOString()}];d(_=>[...b,..._]),f(),Ce.success("All requests completed",{description:`Total duration: ${w}ms`})}catch(O){const C=O instanceof Error?O.message:"Unknown error";Ce.error("Some requests failed",{description:C})}finally{i(!1)}},m=async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const O=Date.now();await r.put("/api/users/1",{name:"Updated User",email:"updated@example.com"}).catch(()=>null);const C=Date.now()-O,w={id:"audit-"+Date.now(),action:"USER_UPDATE",timestamp:new Date().toISOString(),endpoint:"/api/users/1",method:"PUT",status:200,duration:`${C}ms`};d(b=>[w,...b]),f(),Ce.success("Audit log created")}catch(O){const C=O instanceof Error?O.message:"Unknown error";Ce.error("Audit logging test failed",{description:C})}finally{i(!1)}},S=()=>{d([]),Ce.success("Audit logs cleared")},k=l&&l.totalRequests>0?(l.successfulRequests/l.totalRequests*100).toFixed(1):"0",A=l&&l.cacheHitRate!==void 0?(l.cacheHitRate*100).toFixed(1):l&&l.cacheHits+l.cacheMisses>0?(l.cacheHits/(l.cacheHits+l.cacheMisses)*100).toFixed(1):"0",x=a||s||!r;return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"border-b border-border bg-white",children:v.jsxs("div",{className:"px-8 py-6",children:[v.jsx("h1",{className:"text-2xl",children:"Monitoring & Logs"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"View performance metrics, audit logs, and system health"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-8",children:v.jsx("div",{className:"max-w-6xl",children:v.jsxs(Vd,{defaultValue:"metrics",className:"space-y-6",children:[v.jsxs(Wd,{children:[v.jsx(Fr,{value:"metrics",children:"Metrics"}),v.jsx(Fr,{value:"audit",children:"Audit Logs"})]}),v.jsxs(Gr,{value:"metrics",className:"space-y-6",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(Qe,{onClick:p,disabled:x,className:"bg-blue-600 hover:bg-blue-700",children:[v.jsx(LN,{className:"w-4 h-4 mr-2"}),"Refresh Metrics"]}),v.jsxs(Qe,{onClick:h,disabled:x,className:"bg-green-600 hover:bg-green-700",children:[v.jsx(zS,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),l&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[v.jsx(_e,{children:v.jsxs(Oe,{className:"pt-6",children:[v.jsx("div",{className:"text-2xl font-semibold",children:l.totalRequests}),v.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Total Requests"})]})}),v.jsx(_e,{children:v.jsxs(Oe,{className:"pt-6",children:[v.jsxs("div",{className:"text-2xl font-semibold text-green-600",children:[k,"%"]}),v.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Success Rate"})]})}),v.jsx(_e,{children:v.jsxs(Oe,{className:"pt-6",children:[v.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[A,"%"]}),v.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})}),v.jsx(_e,{children:v.jsxs(Oe,{className:"pt-6",children:[v.jsxs("div",{className:"text-2xl font-semibold",children:[l.averageResponseTime,"ms"]}),v.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Avg Response Time"})]})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Request Status"}),v.jsx(Fe,{children:"Breakdown by success/failure"})]}),v.jsx(Oe,{children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Successful"}),v.jsx("span",{className:"text-sm font-medium text-green-600",children:l.successfulRequests})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),v.jsx("span",{className:"text-sm font-medium text-red-600",children:l.failedRequests})]}),v.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[v.jsx("span",{className:"text-sm font-medium",children:"Total"}),v.jsx("span",{className:"text-sm font-medium",children:l.totalRequests})]})]})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Cache Performance"}),v.jsx(Fe,{children:"Cache hits vs misses"})]}),v.jsx(Oe,{children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Hits"}),v.jsx("span",{className:"text-sm font-medium text-green-600",children:l.cacheHits})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Cache Misses"}),v.jsx("span",{className:"text-sm font-medium text-orange-600",children:l.cacheMisses})]}),v.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border",children:[v.jsx("span",{className:"text-sm font-medium",children:"Hit Rate"}),v.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[A,"%"]})]})]})})]})]}),l&&v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Metrics Details"}),v.jsx(Fe,{children:"Detailed performance metrics"})]}),v.jsx(Oe,{children:v.jsxs("div",{className:"space-y-3 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Total Requests"}),v.jsx("span",{className:"font-medium",children:l.totalRequests})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Successful"}),v.jsx("span",{className:"font-medium text-green-600",children:l.successfulRequests})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Failed"}),v.jsx("span",{className:"font-medium text-red-600",children:l.failedRequests})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),v.jsxs("span",{className:"font-medium",children:[(l.errorRate*100).toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Average Response Time"}),v.jsxs("span",{className:"font-medium",children:[l.averageResponseTime,"ms"]})]})]})})]})]})]}),v.jsxs(Gr,{value:"audit",className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(Qe,{onClick:m,disabled:x,children:[v.jsx(hR,{className:"w-4 h-4 mr-2"}),"Create Audit Log"]}),v.jsxs(Qe,{onClick:h,disabled:x,className:"bg-green-600 hover:bg-green-700",children:[v.jsx(zS,{className:"w-4 h-4 mr-2"}),"Make Multiple Requests"]})]}),o.length>0&&v.jsx(Qe,{onClick:S,variant:"outline",size:"sm",children:"Clear Logs"})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Audit Log Entries"}),v.jsx(Fe,{children:"Recent activity and requests"})]}),v.jsx(Oe,{children:o.length===0?v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No audit logs yet. Make some requests to see logs here."}):v.jsx("div",{className:"space-y-2",children:o.map((O,C)=>v.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("span",{className:"font-mono text-xs",children:O.endpoint}),v.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(O.timestamp).toLocaleTimeString()})]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[v.jsxs("span",{children:["Method: ",v.jsx("span",{className:"font-medium",children:O.method||"GET"})]}),v.jsxs("span",{children:["Status: ",v.jsx("span",{className:`font-medium ${O.status===200?"text-green-600":"text-red-600"}`,children:O.status})]}),v.jsxs("span",{children:["Duration: ",v.jsx("span",{className:"font-medium",children:O.duration})]})]})]},C))})})]})]})]})})})]})}function XP(r){return!r||r.trim().length===0?{valid:!1,error:"Role name cannot be empty"}:r.length>100?{valid:!1,error:"Role name must be 100 characters or less"}:/^[a-zA-Z0-9_-]+$/.test(r.trim())?{valid:!0}:{valid:!1,error:"Role name can only contain letters, numbers, underscores, and hyphens"}}function H_(r){return!r||r.trim().length===0?{valid:!1,error:"Permission name cannot be empty"}:r.length>100?{valid:!1,error:"Permission name must be 100 characters or less"}:/^[a-zA-Z0-9_.-]+$/.test(r.trim())?{valid:!0}:{valid:!1,error:"Permission name can only contain letters, numbers, underscores, dots, and hyphens"}}function sR(r){if(!r||r.trim().length===0)return{valid:!1,error:"Permissions cannot be empty"};const s=r.split(",").map(a=>a.trim()).filter(Boolean);if(s.length===0)return{valid:!1,error:"At least one permission must be provided"};for(const a of s){const i=H_(a);if(!i.valid)return{valid:!1,error:`Invalid permission: ${a}. ${i.error}`}}return{valid:!0}}function QP(r,s){const[a,i]=ee.useState(!1),[l,u]=ee.useState(null),[o,d]=ee.useState([]),[f,p]=ee.useState([]);return{loading:a,result:l,roles:o,permissions:f,isDisabled:a||s||!r,testGetRoles:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=await r.getRoles();d(U),u({roles:U,count:U.length,timestamp:new Date().toISOString()}),Ce.success(`Retrieved ${U.length} roles`)}catch(U){const N=$t(U);Ce.error("Failed to get roles",{description:N}),d([])}finally{i(!1)}},testGetPermissions:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=await r.getPermissions();p(U),u({permissions:U,count:U.length,timestamp:new Date().toISOString()}),Ce.success(`Retrieved ${U.length} permissions`)}catch(U){const N=$t(U);Ce.error("Failed to get permissions",{description:N}),p([])}finally{i(!1)}},testHasRole:async U=>{if(!r){Ce.error("DataClient not initialized");return}const N=XP(U);if(!N.valid){Ce.error(N.error||"Invalid role name");return}i(!0);try{const F=await r.hasRole(U);u({role:U,hasRole:F,timestamp:new Date().toISOString()}),Ce.success(F?`User has role: ${U}`:`User does not have role: ${U}`)}catch(F){const Y=$t(F);Ce.error("Failed to check role",{description:Y})}finally{i(!1)}},testHasPermission:async U=>{if(!r){Ce.error("DataClient not initialized");return}const N=H_(U);if(!N.valid){Ce.error(N.error||"Invalid permission name");return}i(!0);try{const F=await r.hasPermission(U);u({permission:U,hasPermission:F,timestamp:new Date().toISOString()}),Ce.success(F?`User has permission: ${U}`:`User does not have permission: ${U}`)}catch(F){const Y=$t(F);Ce.error("Failed to check permission",{description:Y})}finally{i(!1)}},testHasAnyRole:async U=>{if(!r){Ce.error("DataClient not initialized");return}if(!U){Ce.error("Please enter roles to check (comma-separated)");return}i(!0);try{const N=U.split(",").map(Y=>Y.trim()).filter(Boolean),F=await r.hasAnyRole(N);u({roles:N,hasAnyRole:F,timestamp:new Date().toISOString()}),Ce.success(F?"User has at least one of the roles":"User does not have any of the roles")}catch(N){const F=$t(N);Ce.error("Failed to check roles",{description:F})}finally{i(!1)}},testHasAllRoles:async U=>{if(!r){Ce.error("DataClient not initialized");return}if(!U){Ce.error("Please enter roles to check (comma-separated)");return}i(!0);try{const N=U.split(",").map(Y=>Y.trim()).filter(Boolean),F=await r.hasAllRoles(N);u({roles:N,hasAllRoles:F,timestamp:new Date().toISOString()}),Ce.success(F?"User has all of the roles":"User does not have all of the roles")}catch(N){const F=$t(N);Ce.error("Failed to check roles",{description:F})}finally{i(!1)}},testHasAnyPermission:async U=>{if(!r){Ce.error("DataClient not initialized");return}const N=sR(U);if(!N.valid){Ce.error(N.error||"Invalid permissions");return}i(!0);try{const F=U.split(",").map(se=>se.trim()).filter(Boolean),Y=await r.hasAnyPermission(F);u({permissions:F,hasAnyPermission:Y,timestamp:new Date().toISOString()}),Ce.success(Y?"User has at least one of the permissions":"User does not have any of the permissions")}catch(F){const Y=$t(F);Ce.error("Failed to check permissions",{description:Y})}finally{i(!1)}},testHasAllPermissions:async U=>{if(!r){Ce.error("DataClient not initialized");return}const N=sR(U);if(!N.valid){Ce.error(N.error||"Invalid permissions");return}i(!0);try{const F=U.split(",").map(se=>se.trim()).filter(Boolean),Y=await r.hasAllPermissions(F);u({permissions:F,hasAllPermissions:Y,timestamp:new Date().toISOString()}),Ce.success(Y?"User has all of the permissions":"User does not have all of the permissions")}catch(F){const Y=$t(F);Ce.error("Failed to check permissions",{description:Y})}finally{i(!1)}},testRefreshRoles:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=await r.refreshRoles();d(U),u({message:"Roles cache refreshed",roles:U,timestamp:new Date().toISOString()}),Ce.success("Roles cache refreshed")}catch(U){const N=$t(U);Ce.error("Failed to refresh roles",{description:N})}finally{i(!1)}},testRefreshPermissions:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{const U=await r.refreshPermissions();p(U),u({message:"Permissions cache refreshed",permissions:U,timestamp:new Date().toISOString()}),Ce.success("Permissions cache refreshed")}catch(U){const N=$t(U);Ce.error("Failed to refresh permissions",{description:N})}finally{i(!1)}},testClearRolesCache:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{await r.clearRolesCache(),u({message:"Roles cache cleared",timestamp:new Date().toISOString()}),Ce.success("Roles cache cleared")}catch(U){const N=$t(U);Ce.error("Failed to clear roles cache",{description:N})}finally{i(!1)}},testClearPermissionsCache:async()=>{if(!r){Ce.error("DataClient not initialized");return}i(!0);try{await r.clearPermissionsCache(),u({message:"Permissions cache cleared",timestamp:new Date().toISOString()}),Ce.success("Permissions cache cleared")}catch(U){const N=$t(U);Ce.error("Failed to clear permissions cache",{description:N})}finally{i(!1)}}}}function ZP(){const{dataClient:r,isLoading:s}=yl(),{result:a,roles:i,permissions:l,isDisabled:u,testGetRoles:o,testGetPermissions:d,testHasRole:f,testHasPermission:p,testHasAnyRole:h,testHasAllRoles:m,testHasAnyPermission:S,testHasAllPermissions:k,testRefreshRoles:A,testRefreshPermissions:x,testClearRolesCache:O,testClearPermissionsCache:C}=QP(r,s),[w,b]=ee.useState(""),[_,D]=ee.useState(""),[L,U]=ee.useState(""),[N,F]=ee.useState("");return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"border-b border-border bg-white",children:v.jsxs("div",{className:"px-8 py-6",children:[v.jsx("h1",{className:"text-2xl",children:"Authorization"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Test roles and permissions using DataClient methods"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-8",children:v.jsxs("div",{className:"max-w-6xl",children:[v.jsxs(Vd,{defaultValue:"roles",className:"space-y-6",children:[v.jsxs(Wd,{children:[v.jsx(Fr,{value:"roles",children:"Roles"}),v.jsx(Fr,{value:"permissions",children:"Permissions"})]}),v.jsx(Gr,{value:"roles",className:"space-y-6",children:v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Get Roles"}),v.jsx(Fe,{children:"Retrieve user roles (auto-retrieves token from localStorage)"})]}),v.jsxs(Oe,{children:[v.jsxs(Qe,{onClick:o,disabled:u,className:"w-full",children:[v.jsx(Fy,{className:"w-4 h-4 mr-2"}),"getRoles()"]}),i.length>0&&v.jsx("div",{className:"mt-4",children:v.jsxs(ws,{children:["Current Roles: ",i.length]})})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check Role"}),v.jsx(Fe,{children:"Check if user has a specific role"})]}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"roleToCheck",children:"Role Name"}),v.jsx(ao,{id:"roleToCheck",value:w,onChange:Y=>b(Y.target.value),placeholder:"admin"})]}),v.jsx(Qe,{onClick:()=>f(w),disabled:u,className:"w-full",children:"hasRole()"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check Any Role"}),v.jsx(Fe,{children:"Check if user has any of the specified roles"})]}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"rolesToCheck",children:"Roles (comma-separated)"}),v.jsx(ao,{id:"rolesToCheck",value:L,onChange:Y=>U(Y.target.value),placeholder:"admin, user"})]}),v.jsx(Qe,{onClick:()=>h(L),disabled:u,className:"w-full",children:"hasAnyRole()"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check All Roles"}),v.jsx(Fe,{children:"Check if user has all of the specified roles"})]}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"rolesToCheckAll",children:"Roles (comma-separated)"}),v.jsx(ao,{id:"rolesToCheckAll",value:L,onChange:Y=>U(Y.target.value),placeholder:"admin, user"})]}),v.jsx(Qe,{onClick:()=>m(L),disabled:u,className:"w-full",children:"hasAllRoles()"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Refresh Roles"}),v.jsx(Fe,{children:"Force refresh roles (bypass cache)"})]}),v.jsx(Oe,{children:v.jsxs(Qe,{onClick:A,disabled:u,className:"w-full",children:[v.jsx(sd,{className:"w-4 h-4 mr-2"}),"refreshRoles()"]})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Clear Roles Cache"}),v.jsx(Fe,{children:"Clear cached roles"})]}),v.jsx(Oe,{children:v.jsxs(Qe,{onClick:O,disabled:u,variant:"outline",className:"w-full",children:[v.jsx(Gy,{className:"w-4 h-4 mr-2"}),"clearRolesCache()"]})})]})]})}),v.jsx(Gr,{value:"permissions",className:"space-y-6",children:v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Get Permissions"}),v.jsx(Fe,{children:"Retrieve user permissions (auto-retrieves token from localStorage)"})]}),v.jsxs(Oe,{children:[v.jsxs(Qe,{onClick:d,disabled:u,className:"w-full",children:[v.jsx(Fy,{className:"w-4 h-4 mr-2"}),"getPermissions()"]}),l.length>0&&v.jsx("div",{className:"mt-4",children:v.jsxs(ws,{children:["Current Permissions: ",l.length]})})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check Permission"}),v.jsx(Fe,{children:"Check if user has a specific permission"})]}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"permissionToCheck",children:"Permission Name"}),v.jsx(ao,{id:"permissionToCheck",value:_,onChange:Y=>D(Y.target.value),placeholder:"users:read"})]}),v.jsx(Qe,{onClick:()=>p(_),disabled:u,className:"w-full",children:"hasPermission()"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check Any Permission"}),v.jsx(Fe,{children:"Check if user has any of the specified permissions"})]}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"permissionsToCheck",children:"Permissions (comma-separated)"}),v.jsx(ao,{id:"permissionsToCheck",value:N,onChange:Y=>F(Y.target.value),placeholder:"users:read, users:write"})]}),v.jsx(Qe,{onClick:()=>S(N),disabled:u,className:"w-full",children:"hasAnyPermission()"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Check All Permissions"}),v.jsx(Fe,{children:"Check if user has all of the specified permissions"})]}),v.jsxs(Oe,{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ws,{htmlFor:"permissionsToCheckAll",children:"Permissions (comma-separated)"}),v.jsx(ao,{id:"permissionsToCheckAll",value:N,onChange:Y=>F(Y.target.value),placeholder:"users:read, users:write"})]}),v.jsx(Qe,{onClick:()=>k(N),disabled:u,className:"w-full",children:"hasAllPermissions()"})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Refresh Permissions"}),v.jsx(Fe,{children:"Force refresh permissions (bypass cache)"})]}),v.jsx(Oe,{children:v.jsxs(Qe,{onClick:x,disabled:u,className:"w-full",children:[v.jsx(sd,{className:"w-4 h-4 mr-2"}),"refreshPermissions()"]})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{className:"text-lg",children:"Clear Permissions Cache"}),v.jsx(Fe,{children:"Clear cached permissions"})]}),v.jsx(Oe,{children:v.jsxs(Qe,{onClick:C,disabled:u,variant:"outline",className:"w-full",children:[v.jsx(Gy,{className:"w-4 h-4 mr-2"}),"clearPermissionsCache()"]})})]})]})})]}),a&&v.jsxs(_e,{className:"mt-6",children:[v.jsx(Ne,{children:v.jsx(ke,{className:"text-lg",children:"Response"})}),v.jsx(Oe,{children:v.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto",children:JSON.stringify(a,null,2)})})]})]})})]})}const Ye={gettingStarted:{serverSetup:`import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// Initialize MisoClient with environment variables
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN, not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// Your API routes
app.get('/api/users', async (req, res) => {
  // Your business logic here
  res.json({ users: [] });
});

app.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
});`,environmentVariables:`# Server-side environment variables (.env)
# Required for MisoClient initialization

# MISO Controller Configuration
MISO_CLIENTID=ctrl-dev-my-app
MISO_CLIENTSECRET=your-client-secret-here
MISO_CONTROLLER_URL=https://controller.aifabrix.ai

# Optional: Redis for caching (recommended for production)
REDIS_HOST=localhost
REDIS_PORT=6379

# Optional: Logging level
MISO_LOG_LEVEL=info`,clientSetup:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// Zero-config initialization
// Automatically fetches config from server's /api/v1/auth/client-token endpoint
const dataClient = await autoInitializeDataClient();

// Now you can use DataClient
const users = await dataClient.get('/api/users');
console.log('Users:', users);`,completeExample:`// ============================================
// SERVER-SIDE (Express.js)
// ============================================

import express from 'express';
import { MisoClient, createClientTokenEndpoint, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

// 1. Initialize MisoClient
const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// 2. Create client token endpoint (environment token endpoint)
// This endpoint:
// - Validates request origin (CORS)
// - Fetches environment token (client token) from MISO Controller
// - Returns environment token + DataClient configuration
// NOTE: This provides an ENVIRONMENT TOKEN (client token), not a user token
app.post('/api/v1/auth/client-token', createClientTokenEndpoint(misoClient));

// 3. Your API routes
// Option A: Public routes (no authentication)
app.get('/api/public', async (req, res) => {
  res.json({ message: 'Public endpoint' });
});

// Option B: Protected routes (validate user token)
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Token is valid, proceed with business logic
  res.json({ users: [{ id: 1, name: 'John' }] });
});

app.listen(3000);

// ============================================
// CLIENT-SIDE (Browser/React)
// ============================================

import { autoInitializeDataClient } from '@aifabrix/miso-client';

// 1. Initialize DataClient (zero-config)
// Automatically calls POST /api/v1/auth/client-token
// Receives: environment token (client token) + DataClient config
const dataClient = await autoInitializeDataClient();

// 2. Use DataClient
// Environment token is automatically sent in x-client-token header
// This authenticates the CLIENT APPLICATION, not the user
const users = await dataClient.get('/api/users');
console.log('Users:', users);

// 3. For user-authenticated requests:
// User must login first (via MISO Controller)
// User token is stored in localStorage by DataClient
// DataClient automatically includes user token in Authorization header`,howItWorks:`// HOW IT WORKS:
//
// 1. SERVER SETUP:
//    - Server has MISO_CLIENTID and MISO_CLIENTSECRET (never exposed to browser)
//    - Server creates /api/v1/auth/client-token endpoint
//    - This endpoint fetches ENVIRONMENT TOKEN (client token) from MISO Controller
//    - Returns environment token + DataClient configuration to browser
//    - Validates request origin (CORS) before returning token
//
// 2. CLIENT SETUP:
//    - Browser calls autoInitializeDataClient()
//    - DataClient calls POST /api/v1/auth/client-token
//    - Receives environment token (client token) + configuration
//    - Stores environment token in localStorage (with expiration)
//    - Initializes DataClient with received config
//
// 3. REQUEST FLOW:
//    - Client makes request: dataClient.get('/api/users')
//    - DataClient automatically adds x-client-token header (environment token)
//    - Environment token authenticates the CLIENT APPLICATION
//    - For user authentication, validate user token (Bearer token) in your routes
//
// TOKEN TYPES:
// - ENVIRONMENT TOKEN (client token): Authenticates the client application
//   - Sent in x-client-token header
//   - Used to authenticate with MISO Controller
//   - Short-lived (default: 30 minutes)
//   - Automatically refreshed when expired
//
// - USER TOKEN: Authenticates the user
//   - Sent in Authorization: Bearer <token> header
//   - Obtained via login flow
//   - Validated in your API routes using misoClient.auth.validateToken()
//
// SECURITY:
// - Client secret NEVER exposed to browser
// - Environment token is short-lived (default: 30 minutes)
// - Token automatically refreshed when expired
// - Origin validation prevents token theft
// - Your API routes should validate USER tokens, not client tokens`,validateUserTokens:`// ============================================
// VALIDATING USER TOKENS IN API ROUTES
// ============================================

import express from 'express';
import { MisoClient, loadConfig } from '@aifabrix/miso-client';

const app = express();
app.use(express.json());

const misoClient = new MisoClient(loadConfig());
await misoClient.initialize();

// Option 1: Manual validation in each route
app.get('/api/users', async (req, res) => {
  // Extract user token from Authorization header
  const userToken = misoClient.getToken(req);
  
  if (!userToken) {
    return res.status(401).json({ error: 'Unauthorized - no token' });
  }
  
  // Validate user token with MISO Controller
  const isValid = await misoClient.auth.validateToken(userToken);
  if (!isValid) {
    return res.status(401).json({ error: 'Unauthorized - invalid token' });
  }
  
  // Get user info if needed
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  
  // Token is valid, proceed with business logic
  res.json({ users: [], currentUser: userInfo });
});

// Option 2: Create middleware for reusable validation
function requireAuth(misoClient: MisoClient) {
  return async (req: express.Request, res: express.Response, next: express.NextFunction) => {
    const userToken = misoClient.getToken(req);
    
    if (!userToken) {
      return res.status(401).json({ error: 'Unauthorized - no token' });
    }
    
    const isValid = await misoClient.auth.validateToken(userToken);
    if (!isValid) {
      return res.status(401).json({ error: 'Unauthorized - invalid token' });
    }
    
    // Attach token to request for use in route handlers
    (req as any).userToken = userToken;
    next();
  };
}

// Use middleware
app.get('/api/protected', requireAuth(misoClient), async (req, res) => {
  const userToken = (req as any).userToken;
  const userInfo = await misoClient.auth.getUserInfo(userToken);
  res.json({ message: 'Protected route', user: userInfo });
});

// IMPORTANT NOTES:
// - Environment token (x-client-token) is for client app authentication
// - User token (Authorization: Bearer) is for user authentication
// - Your routes should validate USER tokens, not environment tokens
// - Environment token is handled automatically by DataClient`},initialization:{zeroConfig:`import { autoInitializeDataClient } from '@aifabrix/miso-client';

// One line - automatically fetches config and initializes DataClient
const dataClient = await autoInitializeDataClient();

// Use DataClient
const users = await dataClient.get('/api/users');`,manual:`import { DataClient } from '@aifabrix/miso-client';

// Manual configuration (browser-safe, no clientSecret)
const dataClient = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    // Use server-provided token pattern
    clientTokenUri: '/api/v1/auth/client-token',
  },
});`,reactContext:`import { DataClientProvider, useDataClient } from './contexts/DataClientContext';

// Wrap your app with DataClientProvider
function App() {
  return (
    <DataClientProvider>
      <YourComponents />
    </DataClientProvider>
  );
}

// Use DataClient in components
function MyComponent() {
  const { dataClient, isLoading, error } = useDataClient();
  
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!dataClient) return <div>Not initialized</div>;
  
  // Use dataClient...
}`},httpMethods:{get:`// GET request with cache
const users = await dataClient.get('/api/users');

// GET request without cache
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});

// GET request with custom options
const user = await dataClient.get('/api/users/1', {
  headers: { 'X-Custom-Header': 'value' },
  timeout: 5000,
});`,post:`// POST request
const newUser = await dataClient.post('/api/users', {
  name: 'John Doe',
  email: 'john@example.com',
});

// POST with error handling
try {
  const result = await dataClient.post('/api/users', userData);
  console.log('User created:', result);
} catch (error) {
  console.error('Failed to create user:', error.message);
}`,put:`// PUT request (full update)
const updatedUser = await dataClient.put('/api/users/1', {
  name: 'John Doe Updated',
  email: 'john.updated@example.com',
});`,patch:`// PATCH request (partial update)
const patchedUser = await dataClient.patch('/api/users/1', {
  email: 'john.newemail@example.com',
});`,delete:`// DELETE request
await dataClient.delete('/api/users/1');

// DELETE with error handling
try {
  await dataClient.delete('/api/users/1');
  console.log('User deleted');
} catch (error) {
  console.error('Failed to delete user:', error.message);
}`},authentication:{isAuthenticated:`// Check if user is authenticated
const isAuth = dataClient.isAuthenticated();
if (isAuth) {
  console.log('User is authenticated');
} else {
  console.log('User is not authenticated');
}`,getToken:`// Get environment token
const token = await dataClient.getEnvironmentToken();
if (token) {
  console.log('Token:', token);
} else {
  console.log('No token available');
}`,getTokenInfo:`// Get client token information
const tokenInfo = dataClient.getClientTokenInfo();
if (tokenInfo) {
  console.log('Token expires at:', tokenInfo.expiresAt);
  console.log('Token issued at:', tokenInfo.issuedAt);
}`,logout:`// Logout user
try {
  await dataClient.logout();
  console.log('User logged out');
} catch (error) {
  console.error('Logout failed:', error.message);
}`,redirectToLogin:`// Redirect to login
try {
  await dataClient.redirectToLogin();
} catch (error) {
  console.error('Redirect failed:', error.message);
}`,handleOAuthCallback:`// OAuth callback handling (automatically called on initialization)
// Token is extracted from URL hash fragment (#token=...) and stored securely
// Hash fragment is immediately removed from URL (< 100ms) for security

// Auto-called on DataClient initialization
const dataClient = new DataClient(config);
// Token is automatically extracted if present in URL hash

// Or manually call if needed
const token = dataClient.handleOAuthCallback();
if (token) {
  console.log('Token extracted and stored');
}

// OAuth Flow:
// 1. User calls redirectToLogin() â†’ redirects to controller login page
// 2. Controller handles OAuth flow with Keycloak
// 3. Controller redirects back: https://myapp.com/dashboard#token=eyJhbGc...
// 4. handleOAuthCallback() extracts token from hash fragment
// 5. Token is validated and stored in localStorage
// 6. Hash fragment is immediately removed from URL (< 100ms)
// 7. User sees clean URL: https://myapp.com/dashboard`,tokenRefresh:`// Token refresh callback (automatic refresh on 401 errors)
// Configure onTokenRefresh callback to handle token renewal securely
const dataClientWithRefresh = new DataClient({
  baseUrl: 'https://api.example.com',
  misoConfig: {
    controllerUrl: 'https://controller.aifabrix.ai',
    clientId: 'ctrl-dev-my-app',
    clientTokenUri: '/api/v1/auth/client-token',
  },
  onTokenRefresh: async () => {
    // Call your backend endpoint that handles refresh token securely
    // Backend should use httpOnly cookies or session storage for refresh token
    const response = await fetch('/api/refresh-token', {
      method: 'POST',
      credentials: 'include', // Include cookies for auth
      headers: {
        'Content-Type': 'application/json',
      },
    });
    
    if (!response.ok) {
      throw new Error('Token refresh failed');
    }
    
    const data = await response.json();
    // Return new access token and expiration time
    return {
      token: data.token, // New access token
      expiresIn: data.expiresIn, // Expiration in seconds
    };
  },
});

// How it works:
// - Automatically called when a request receives 401 Unauthorized
// - Refreshes token using your secure backend endpoint
// - Retries the original request with new token
// - Prevents infinite retry loops with tokenRefreshAttempted flag
// - Refresh tokens are NEVER stored in browser localStorage (security requirement)`},caching:{enabled:`// Cache-enabled GET request
const users = await dataClient.get('/api/users', {
  cache: { enabled: true, ttl: 60000 }, // Cache for 60 seconds
});`,disabled:`// Cache-bypassed GET request
const freshUsers = await dataClient.get('/api/users', {
  cache: { enabled: false },
});`,clearCache:`// Clear all cache
dataClient.clearCache();
console.log('Cache cleared');`},interceptors:{request:`// Set request interceptor
dataClient.setInterceptors({
  onRequest: async (url, options) => {
    // Modify request before sending
    return {
      ...options,
      headers: {
        ...options.headers,
        'X-Custom-Header': 'value',
      },
    };
  },
});`,response:`// Set response interceptor
dataClient.setInterceptors({
  onResponse: async (response) => {
    // Modify response before returning
    console.log('Response received:', response);
    return response;
  },
});`,error:`// Set error interceptor
dataClient.setInterceptors({
  onError: async (error) => {
    // Handle errors
    console.error('Request error:', error);
    throw error; // Re-throw to maintain error flow
  },
});`},roles:{getRoles:`// Get user roles (auto-retrieves token from localStorage)
const roles = await dataClient.getRoles();
console.log('User roles:', roles);`,hasRole:`// Check specific role
const isAdmin = await dataClient.hasRole('admin');
if (isAdmin) {
  console.log('User is admin');
}`,hasAnyRole:`// Check if user has any of the roles
const hasAccess = await dataClient.hasAnyRole(['admin', 'moderator']);
if (hasAccess) {
  console.log('User has access');
}`,hasAllRoles:`// Check if user has all of the roles
const isSuperAdmin = await dataClient.hasAllRoles(['admin', 'super']);
if (isSuperAdmin) {
  console.log('User is super admin');
}`,refreshRoles:`// Force refresh roles (bypass cache)
const refreshedRoles = await dataClient.refreshRoles();
console.log('Refreshed roles:', refreshedRoles);`,clearRolesCache:`// Clear cached roles
await dataClient.clearRolesCache();
console.log('Roles cache cleared');`},permissions:{getPermissions:`// Get user permissions (auto-retrieves token from localStorage)
const permissions = await dataClient.getPermissions();
console.log('User permissions:', permissions);`,hasPermission:`// Check specific permission
const canRead = await dataClient.hasPermission('users:read');
if (canRead) {
  console.log('User can read users');
}`,hasAnyPermission:`// Check if user has any of the permissions
const canAccess = await dataClient.hasAnyPermission(['users:read', 'users:write']);
if (canAccess) {
  console.log('User has access');
}`,hasAllPermissions:`// Check if user has all of the permissions
const canManage = await dataClient.hasAllPermissions(['users:read', 'users:write', 'users:delete']);
if (canManage) {
  console.log('User can manage users');
}`,refreshPermissions:`// Force refresh permissions (bypass cache)
const refreshedPermissions = await dataClient.refreshPermissions();
console.log('Refreshed permissions:', refreshedPermissions);`,clearPermissionsCache:`// Clear cached permissions
await dataClient.clearPermissionsCache();
console.log('Permissions cache cleared');`},errorHandling:{tryCatch:`// Basic error handling
try {
  const users = await dataClient.get('/api/users');
  console.log('Users:', users);
} catch (error) {
  console.error('Request failed:', error.message);
  // Display user-friendly error message
}`,networkError:`// Handle network errors
try {
  const users = await dataClient.get('/api/users');
} catch (error) {
  if (error.message.includes('Network')) {
    console.error('Network error - check your connection');
  } else {
    console.error('Request failed:', error.message);
  }
}`,apiError:`// Handle API errors
try {
  const result = await dataClient.post('/api/users', userData);
} catch (error: any) {
  if (error.status === 400) {
    console.error('Validation error:', error.response?.data);
  } else if (error.status === 401) {
    console.error('Unauthorized - please login');
  } else if (error.status === 403) {
    console.error('Forbidden - insufficient permissions');
  } else {
    console.error('Request failed:', error.message);
  }
}`},metrics:{getMetrics:`// Get request metrics
const metrics = dataClient.getMetrics();
console.log('Total requests:', metrics.totalRequests);
console.log('Failed requests:', metrics.totalFailures);
console.log('Average response time:', metrics.averageResponseTime);
console.log('Cache hit rate:', metrics.cacheHitRate);`}};function eU(){const[r,s]=ee.useState(null),a=async(l,u)=>{try{await navigator.clipboard.writeText(l),s(u),Ce.success("Code copied to clipboard"),setTimeout(()=>s(null),2e3)}catch{Ce.error("Failed to copy code")}},i=({code:l,id:u})=>v.jsx("div",{className:"group",children:v.jsxs("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto relative",children:[v.jsx("code",{children:l}),v.jsx(Qe,{size:"sm",variant:"ghost",style:{position:"absolute",top:"0.5rem",right:"0.5rem"},className:"z-10 opacity-0 group-hover:opacity-100 transition-opacity bg-background/80 backdrop-blur-sm",onClick:()=>a(l,u),children:r===u?v.jsx(dR,{className:"w-4 h-4 text-green-600"}):v.jsx(GN,{className:"w-4 h-4"})})]})});return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"border-b border-border bg-white",children:v.jsxs("div",{className:"px-8 py-6",children:[v.jsx("h1",{className:"text-2xl",children:"Code Examples"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Copyable code examples for using DataClient"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-8",children:v.jsxs("div",{className:"max-w-6xl",children:[v.jsxs(Vd,{defaultValue:"gettingStarted",className:"space-y-6",children:[v.jsxs(Wd,{className:"grid w-full grid-cols-8",children:[v.jsx(Fr,{value:"gettingStarted",children:"Getting Started"}),v.jsx(Fr,{value:"initialization",children:"Init"}),v.jsx(Fr,{value:"http",children:"HTTP"}),v.jsx(Fr,{value:"auth",children:"Auth"}),v.jsx(Fr,{value:"caching",children:"Cache"}),v.jsx(Fr,{value:"interceptors",children:"Interceptors"}),v.jsx(Fr,{value:"roles",children:"Roles"}),v.jsx(Fr,{value:"permissions",children:"Permissions"})]}),v.jsxs(Gr,{value:"gettingStarted",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Server Setup"}),v.jsx(Fe,{children:"Set up Express.js server with client token endpoint"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.gettingStarted.serverSetup,id:"getting-started-server"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Environment Variables"}),v.jsx(Fe,{children:"Configure server-side environment variables"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.gettingStarted.environmentVariables,id:"getting-started-env"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Client Setup"}),v.jsx(Fe,{children:"Initialize DataClient in your browser application"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.gettingStarted.clientSetup,id:"getting-started-client"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Complete Example"}),v.jsx(Fe,{children:"Full server and client integration example"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.gettingStarted.completeExample,id:"getting-started-complete"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"How It Works"}),v.jsx(Fe,{children:"Understanding the authentication flow and security model"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.gettingStarted.howItWorks,id:"getting-started-how-it-works"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Validating User Tokens in Routes"}),v.jsx(Fe,{children:"How to protect your API routes with user token validation"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.gettingStarted.validateUserTokens,id:"getting-started-validate-tokens"})})]})]}),v.jsxs(Gr,{value:"initialization",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Zero-Config Initialization"}),v.jsx(Fe,{children:"Automatically fetch configuration from server"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.initialization.zeroConfig,id:"init-zero"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Manual Initialization"}),v.jsx(Fe,{children:"Configure DataClient with custom settings"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.initialization.manual,id:"init-manual"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"React Context Setup"}),v.jsx(Fe,{children:"Use DataClient with React Context"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.initialization.reactContext,id:"init-context"})})]})]}),v.jsxs(Gr,{value:"http",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"GET Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.httpMethods.get,id:"http-get"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"POST Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.httpMethods.post,id:"http-post"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"PUT Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.httpMethods.put,id:"http-put"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"PATCH Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.httpMethods.patch,id:"http-patch"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"DELETE Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.httpMethods.delete,id:"http-delete"})})]})]}),v.jsxs(Gr,{value:"auth",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check Authentication"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.isAuthenticated,id:"auth-check"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Get Token"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.getToken,id:"auth-token"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Get Token Info"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.getTokenInfo,id:"auth-token-info"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Logout"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.logout,id:"auth-logout"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Redirect to Login"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.redirectToLogin,id:"auth-redirect"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"OAuth Callback Handling"}),v.jsx(Fe,{children:"Automatically extract and store tokens from OAuth redirect (hash fragment)"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.handleOAuthCallback,id:"auth-oauth-callback"})})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Token Refresh Callback"}),v.jsx(Fe,{children:"Configure automatic token refresh on 401 errors using secure backend endpoint"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.authentication.tokenRefresh,id:"auth-token-refresh"})})]})]}),v.jsxs(Gr,{value:"caching",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Cache-Enabled Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.caching.enabled,id:"cache-enabled"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Cache-Bypassed Requests"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.caching.disabled,id:"cache-disabled"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Clear Cache"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.caching.clearCache,id:"cache-clear"})})]})]}),v.jsxs(Gr,{value:"interceptors",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Request Interceptor"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.interceptors.request,id:"interceptor-request"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Response Interceptor"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.interceptors.response,id:"interceptor-response"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Error Interceptor"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.interceptors.error,id:"interceptor-error"})})]})]}),v.jsxs(Gr,{value:"roles",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Get Roles"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.roles.getRoles,id:"roles-get"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check Role"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.roles.hasRole,id:"roles-has"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check Any Role"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.roles.hasAnyRole,id:"roles-any"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check All Roles"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.roles.hasAllRoles,id:"roles-all"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Refresh Roles"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.roles.refreshRoles,id:"roles-refresh"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Clear Roles Cache"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.roles.clearRolesCache,id:"roles-clear"})})]})]}),v.jsxs(Gr,{value:"permissions",className:"space-y-6",children:[v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Get Permissions"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.permissions.getPermissions,id:"perms-get"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check Permission"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.permissions.hasPermission,id:"perms-has"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check Any Permission"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.permissions.hasAnyPermission,id:"perms-any"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Check All Permissions"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.permissions.hasAllPermissions,id:"perms-all"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Refresh Permissions"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.permissions.refreshPermissions,id:"perms-refresh"})})]}),v.jsxs(_e,{children:[v.jsx(Ne,{children:v.jsx(ke,{children:"Clear Permissions Cache"})}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.permissions.clearPermissionsCache,id:"perms-clear"})})]})]})]}),v.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-6",children:[v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Error Handling"}),v.jsx(Fe,{children:"Patterns for handling errors"})]}),v.jsxs(Oe,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-sm font-medium mb-2",children:"Basic Try-Catch"}),v.jsx(i,{code:Ye.errorHandling.tryCatch,id:"error-basic"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-sm font-medium mb-2",children:"Network Errors"}),v.jsx(i,{code:Ye.errorHandling.networkError,id:"error-network"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-sm font-medium mb-2",children:"API Errors"}),v.jsx(i,{code:Ye.errorHandling.apiError,id:"error-api"})]})]})]}),v.jsxs(_e,{children:[v.jsxs(Ne,{children:[v.jsx(ke,{children:"Metrics"}),v.jsx(Fe,{children:"Get request metrics"})]}),v.jsx(Oe,{children:v.jsx(i,{code:Ye.metrics.getMetrics,id:"metrics-get"})})]})]})]})})]})}var tU=(r,s,a,i,l,u,o,d)=>{let f=document.documentElement,p=["light","dark"];function h(k){(Array.isArray(r)?r:[r]).forEach(A=>{let x=A==="class",O=x&&u?l.map(C=>u[C]||C):l;x?(f.classList.remove(...O),f.classList.add(u&&u[k]?u[k]:k)):f.setAttribute(A,k)}),m(k)}function m(k){d&&p.includes(k)&&(f.style.colorScheme=k)}function S(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)h(i);else try{let k=localStorage.getItem(s)||a,A=o&&k==="system"?S():k;h(A)}catch{}},aR=["light","dark"],$_="(prefers-color-scheme: dark)",rU=typeof window>"u",cE=ee.createContext(void 0),nU={setTheme:r=>{},themes:[]},iU=()=>{var r;return(r=ee.useContext(cE))!=null?r:nU},sU=r=>ee.useContext(cE)?ee.createElement(ee.Fragment,null,r.children):ee.createElement(oU,{...r}),aU=["light","dark"],oU=({forcedTheme:r,disableTransitionOnChange:s=!1,enableSystem:a=!0,enableColorScheme:i=!0,storageKey:l="theme",themes:u=aU,defaultTheme:o=a?"system":"light",attribute:d="data-theme",value:f,children:p,nonce:h,scriptProps:m})=>{let[S,k]=ee.useState(()=>cU(l,o)),[A,x]=ee.useState(()=>S==="system"?zy():S),O=f?Object.values(f):u,C=ee.useCallback(D=>{let L=D;if(!L)return;D==="system"&&a&&(L=zy());let U=f?f[L]:L,N=s?uU(h):null,F=document.documentElement,Y=se=>{se==="class"?(F.classList.remove(...O),U&&F.classList.add(U)):se.startsWith("data-")&&(U?F.setAttribute(se,U):F.removeAttribute(se))};if(Array.isArray(d)?d.forEach(Y):Y(d),i){let se=aR.includes(o)?o:null,ge=aR.includes(L)?L:se;F.style.colorScheme=ge}N?.()},[h]),w=ee.useCallback(D=>{let L=typeof D=="function"?D(S):D;k(L);try{localStorage.setItem(l,L)}catch{}},[S]),b=ee.useCallback(D=>{let L=zy(D);x(L),S==="system"&&a&&!r&&C("system")},[S,r]);ee.useEffect(()=>{let D=window.matchMedia($_);return D.addListener(b),b(D),()=>D.removeListener(b)},[b]),ee.useEffect(()=>{let D=L=>{L.key===l&&(L.newValue?k(L.newValue):w(o))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[w]),ee.useEffect(()=>{C(r??S)},[r,S]);let _=ee.useMemo(()=>({theme:S,setTheme:w,forcedTheme:r,resolvedTheme:S==="system"?A:S,themes:a?[...u,"system"]:u,systemTheme:a?A:void 0}),[S,w,r,A,a,u]);return ee.createElement(cE.Provider,{value:_},ee.createElement(lU,{forcedTheme:r,storageKey:l,attribute:d,enableSystem:a,enableColorScheme:i,defaultTheme:o,value:f,themes:u,nonce:h,scriptProps:m}),p)},lU=ee.memo(({forcedTheme:r,storageKey:s,attribute:a,enableSystem:i,enableColorScheme:l,defaultTheme:u,value:o,themes:d,nonce:f,scriptProps:p})=>{let h=JSON.stringify([a,s,u,r,d,o,i,l]).slice(1,-1);return ee.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${tU.toString()})(${h})`}})}),cU=(r,s)=>{if(rU)return;let a;try{a=localStorage.getItem(r)||void 0}catch{}return a||s},uU=r=>{let s=document.createElement("style");return r&&s.setAttribute("nonce",r),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},zy=r=>(r||(r=window.matchMedia($_)),r.matches?"dark":"light");const fU=({...r})=>{const{theme:s="system"}=iU();return v.jsx(Uk,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})},td={p18cc100:"M34.4572 24.1629C34.1171 23.2828 33.8371 22.5727 33.6171 22.0526C33.407 21.5126 33.137 21.0225 32.8169 20.5624C32.5069 20.1023 32.0868 19.7323 31.5668 19.4423C31.0567 19.1422 30.4166 18.9922 29.6465 18.9922C28.8764 18.9922 28.2463 19.1422 27.7262 19.4423C27.2161 19.7323 26.7961 20.1124 26.476 20.5824C26.166 21.0525 25.8659 21.6526 25.5759 22.3727C25.3059 23.0828 25.0658 23.6929 24.8658 24.2029L17.8648 41.9855C17.5748 42.6956 17.3747 43.2457 17.2447 43.6457C17.1247 44.0458 17.0547 44.4258 17.0547 44.8059C17.0547 45.456 17.3247 46.0361 17.8548 46.5461C18.3849 47.0562 19.005 47.3162 19.7051 47.3162C20.5252 47.3162 21.1153 47.0762 21.4753 46.6061C21.8354 46.1161 22.2754 45.1959 22.7855 43.8257L24.0957 40.3152H35.2273L36.5375 43.7557C36.7075 44.1758 36.9175 44.6759 37.1576 45.2359C37.4076 45.786 37.6376 46.1961 37.8477 46.4661C38.0577 46.7262 38.3177 46.9362 38.6278 47.0862C38.9378 47.2462 39.3079 47.3262 39.7479 47.3262C40.498 47.3262 41.1281 47.0662 41.6482 46.5461C42.1883 46.0061 42.4483 45.426 42.4483 44.7859C42.4483 44.1458 42.1683 43.1956 41.6082 41.8555L34.4572 24.1829V24.1629ZM25.5459 36.1346L29.5965 24.833L33.7271 36.1346H25.5459Z",p2888f670:"M66.9996 29.5342C65.3393 29.5342 63.9992 30.8744 63.9992 32.5346V46.8167C63.9992 51.4073 62.2089 55.728 58.9684 58.9684C55.728 62.2189 51.4074 63.9991 46.8167 63.9991H23.1833C18.5927 63.9991 14.272 62.2089 11.0316 58.9684C7.78111 55.718 6.00086 51.4073 6.00086 46.8167V23.1833C6.00086 18.5927 7.79111 14.272 11.0316 11.0316C14.272 7.79112 18.5927 6.00086 23.1833 6.00086H46.8167C48.4769 6.00086 49.8171 4.66067 49.8171 3.00043C49.8171 1.34019 48.4769 0 46.8167 0H23.1833C16.9924 0 11.1716 2.41035 6.79097 6.79097C2.41034 11.1716 0 16.9924 0 23.1833V46.8167C0 53.0076 2.41034 58.8284 6.79097 63.209C11.1716 67.5897 16.9924 70 23.1833 70H46.8167C53.0076 70 58.8384 67.5897 63.209 63.209C67.5897 58.8284 70 53.0076 70 46.8167V32.5346C70 30.8744 68.6598 29.5342 66.9996 29.5342Z",p3d0c8dc0:"M63.3766 24.1126C69.5907 24.1126 74.6282 19.0751 74.6282 12.861C74.6282 6.64689 69.5907 1.60938 63.3766 1.60938C57.1625 1.60938 52.125 6.64689 52.125 12.861C52.125 19.0751 57.1625 24.1126 63.3766 24.1126Z",p5723880:"M48.7157 26.5742C47.9656 26.5742 47.3555 26.8343 46.8854 27.3443C46.4253 27.8544 46.1953 28.6145 46.1953 29.6247V44.2167C46.1953 45.2169 46.4253 45.977 46.8854 46.5171C47.3555 47.0571 47.9656 47.3172 48.7157 47.3172C49.4658 47.3172 50.0759 47.0571 50.5659 46.5371C51.056 46.017 51.296 45.2369 51.296 44.2167V29.4746C51.296 28.5645 51.056 27.8544 50.5659 27.3443C50.0759 26.8343 49.4658 26.5742 48.7157 26.5742Z"},dU="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2075%2070%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22clip0_5723_7999%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M75%200H0V70H75V0Z%22%20fill%3D%22var(--fill-0%2C%20black)%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function hU(){return v.jsx("div",{className:"relative size-full","data-name":"favicon 1",children:v.jsx("div",{className:"absolute contents inset-0","data-name":"Clip path group",children:v.jsx("div",{className:"absolute inset-[0_0.5%_0_0] mask-alpha mask-intersect mask-no-clip mask-no-repeat mask-position-[0px] mask-size-[75px_70px]","data-name":"Group",style:{maskImage:`url('${dU}')`},children:v.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 75 70",children:v.jsxs("g",{id:"Group",children:[v.jsx("path",{d:td.p5723880,fill:"var(--fill-0, #111827)",id:"Vector"}),v.jsx("path",{d:td.p18cc100,fill:"var(--fill-0, #111827)",id:"Vector_2"}),v.jsx("path",{d:td.p2888f670,fill:"var(--fill-0, #0062FF)",id:"Vector_3"}),v.jsx("path",{d:td.p3d0c8dc0,fill:"var(--fill-0, #0062FF)",id:"Vector_4"})]})})})})})}function pU(){const[r,s]=ee.useState("configuration"),a=()=>{switch(r){case"configuration":return v.jsx(iR,{});case"api-testing":return v.jsx(KP,{});case"caching":return v.jsx(JP,{});case"monitoring":return v.jsx(YP,{});case"authorization":return v.jsx(ZP,{});case"code-examples":return v.jsx(eU,{});default:return v.jsx(iR,{})}};return v.jsxs("div",{className:"flex h-screen bg-background",children:[v.jsx(gU,{activeSection:r,onSectionChange:s}),v.jsx("main",{className:"flex-1 overflow-auto",children:a()}),v.jsx(fU,{position:"top-right"})]})}function mU(){const{dataClient:r,isLoading:s}=yl(),[a,i]=ee.useState(!1),[l,u]=ee.useState(!1);ee.useEffect(()=>{if(!r)return;const f=()=>{r.handleOAuthCallback()?(i(!0),Ce.success("Authentication successful",{description:"You have been successfully authenticated",duration:3e3})):i(r.isAuthenticated())};f();const p=()=>{f()};window.addEventListener("hashchange",p);const h=()=>{setTimeout(f,100)};return window.addEventListener("focus",h),()=>{window.removeEventListener("hashchange",p),window.removeEventListener("focus",h)}},[r]);const o=async()=>{if(!r){Ce.error("DataClient not initialized",{description:"Please initialize DataClient first on the Configuration page",duration:5e3});return}u(!0);try{await r.redirectToLogin(),u(!1)}catch(f){const p=f instanceof Error?f.message:"Unknown error";Ce.error("Login failed",{description:p,duration:1e4}),u(!1)}},d=async()=>{if(!r){Ce.error("DataClient not initialized");return}u(!0);try{await r.logout(),i(!1),Ce.success("Logged out successfully")}catch(f){const p=f instanceof Error?f.message:"Unknown error";Ce.error("Logout failed",{description:p})}finally{u(!1)}};return s?v.jsx("div",{className:"p-4 border-t border-sidebar-border",children:v.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})}):v.jsxs("div",{className:"p-4 border-t border-sidebar-border space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[v.jsx(l2,{className:"w-3 h-3"}),v.jsx("span",{className:a?"text-green-600":"text-muted-foreground",children:a?"Authenticated":"Not authenticated"})]}),a?v.jsxs(Qe,{variant:"outline",size:"sm",className:"w-full",onClick:d,disabled:l||!r,children:[v.jsx(QN,{className:"w-3 h-3 mr-2"}),l?"Logging out...":"Logout"]}):v.jsxs(Qe,{variant:"default",size:"sm",className:"w-full",onClick:o,disabled:l||!r,children:[v.jsx(YN,{className:"w-3 h-3 mr-2"}),l?"Redirecting...":"Login"]})]})}function gU({activeSection:r,onSectionChange:s}){const a=[{id:"configuration",label:"Configuration",icon:n2},{id:"api-testing",label:"API Testing",icon:e2},{id:"caching",label:"Caching & Storage",icon:Ky},{id:"monitoring",label:"Monitoring & Logs",icon:qN},{id:"authorization",label:"Authorization",icon:Fy},{id:"code-examples",label:"Code Examples",icon:KN}];return v.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col",children:[v.jsx("div",{className:"p-6 border-b border-sidebar-border",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10",children:v.jsx(hU,{})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-sidebar-foreground font-medium",children:"AI Fabrix"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"MISO Data Client"})]})]})}),v.jsx("nav",{className:"flex-1 p-4",role:"navigation","aria-label":"Main navigation",children:v.jsx("ul",{className:"space-y-1",children:a.map(i=>{const l=r===i.id,u=i.icon;return v.jsx("li",{children:v.jsxs("button",{onClick:()=>s(i.id),className:`
                    w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors
                    ${l?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"}
                  `,children:[v.jsx(u,{className:"w-4 h-4"}),v.jsx("span",{children:i.label})]})},i.id)})})}),v.jsx(mU,{}),v.jsx("div",{className:"p-4 border-t border-sidebar-border",children:v.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Version"}),v.jsx("span",{className:"font-medium",children:"1.0.0"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Environment"}),v.jsx("span",{className:"font-medium text-green-600",children:"Development"})]})]})})]})}_N.createRoot(document.getElementById("root")).render(v.jsx(sU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:v.jsx(nP,{children:v.jsx(pU,{})})}))});export default yU();
//# sourceMappingURL=index-1q36u7L-.js.map
