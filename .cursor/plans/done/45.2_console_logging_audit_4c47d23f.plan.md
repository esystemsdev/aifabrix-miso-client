# Console Logging Audit

## Problem Statement

Found 87 `console.log`, `console.error`, and `console.warn` calls across 18 source files. These need to be audited to ensure:

1. No leftover debug `console.log` statements in production code
2. No sensitive data (tokens, secrets, passwords) being logged
3. Appropriate log levels used (`warn` for warnings, `error` for errors)
4. Logging follows project patterns (use DataMasker for sensitive fields)

## Files to Audit

| File | Count | Priority |

|------|-------|----------|

| `src/utils/data-client-auth.ts` | 22 | High |

| `src/utils/token-utils.ts` | 14 | High |

| `src/services/auth.service.ts` | 12 | Medium |

| `src/services/redis.service.ts` | 5 | Low |

| `src/utils/console-logger.ts` | 4 | Skip (logger impl) |

| `src/utils/internal-http-client.ts` | 4 | Medium |

| `src/services/browser-role.service.ts` | 3 | Low |

| `src/services/browser-permission.service.ts` | 3 | Low |

| `src/services/application-context.service.ts` | 3 | Low |

| `src/utils/data-client-auto-init.ts` | 3 | Low |

| `src/utils/data-client.ts` | 3 | Low |

| `src/services/permission.service.ts` | 3 | Low |

| `src/services/role.service.ts` | 2 | Low |

| `src/services/cache.service.ts` | 2 | Low |

| `src/utils/data-client-request.ts` | 1 | Low |

| `src/utils/data-client-audit.ts` | 1 | Low |

| `src/utils/data-client-redirect.ts` | 1 | Low |

| `src/express/client-token-endpoint.ts` | 1 | Low |

## Audit Criteria

### REMOVE - Debug Statements

```typescript
// BAD: Debug logging
console.log("debug:", someValue);
console.log("here");
console.log(response);
```

### KEEP - Appropriate Error Logging

```typescript
// GOOD: Error with context
console.error("Redis connection failed:", error.message);
console.warn("Cache miss, falling back to API");
```

### FIX - Sensitive Data Exposure

```typescript
// BAD: Logging tokens/secrets
console.log("Token:", token);
console.error("Auth failed for:", { password, token });

// GOOD: Use DataMasker or omit sensitive fields
console.error("Auth failed for user:", userId);
```

### FIX - Wrong Log Level

```typescript
// BAD: Using log for errors
console.log("Error occurred:", error);

// GOOD: Use error level
console.error("Error occurred:", error.message);
```

## Audit Process

For each file:

1. **Search** for `console.log`, `console.warn`, `console.error`
2. **Categorize** each call:

   - Debug statement (REMOVE)
   - Appropriate logging (KEEP)
   - Sensitive data exposure (FIX)
   - Wrong log level (FIX)

3. **Apply** fixes or removals
4. **Verify** build and tests pass

## Expected Changes

| Action | Estimated Count |

|--------|-----------------|

| Remove debug logs | 5-10 |

| Fix sensitive data | 2-5 |

| Fix log levels | 3-5 |

| Keep as-is | 65-75 |

## Definition of Done

1. **Build**: `npm run build` passes
2. **Lint**: `npm run lint` passes
3. **Test**: All tests pass
4. **No debug logs**: Zero `console.log` for debugging purposes
5. **No sensitive data**: No tokens, secrets, or passwords in log output
6. **Correct levels**: `error` for errors, `warn` for warnings